"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e9bcf4"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-layer-summary-item.entry.js":
/*!*************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-layer-summary-item.entry.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_layer_summary_item: () => (/* binding */ ArcgisNewItemLayerSummaryItem)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./feature-layer-17b64946.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js");
/* harmony import */ var _type_to_icon_7546439f_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type-to-icon-7546439f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-7546439f.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */






const arcgisNewItemLayerSummaryItemCss = ":host{display:block;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}.outer-container{padding-top:1.25rem;padding-bottom:1.25rem;padding-inline-start:1rem}.header{display:flex;align-items:center}.opener{display:flex;justify-content:space-between;padding-inline-end:1rem;padding-inline-start:0px;width:100%}.opener-btn{padding:0.75rem;border-radius:0;border-style:none;transition-duration:150ms;cursor:pointer;display:flex;background-color:transparent;outline-color:transparent;outline-offset:0;text-decoration:none;-webkit-appearance:none}.opener-btn:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.opener-btn:hover{background-color:var(--calcite-color-background)}.opener-btn>.icon{transition-duration:150ms;margin-top:auto;margin-bottom:auto}.opener-btn>.icon--expanded{--tw-rotate:90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.checkbox{padding-inline-end:1rem}.data-container{padding-left:3rem;padding-right:3rem;margin-top:0.5rem}table{border-collapse:collapse;font-size:0.875rem;width:100%}th{font-weight:500;padding-top:0.75rem;padding-bottom:0.75rem;text-align:start}tr{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}tr:last-child{border-bottom-right-radius:var(--calcite-border-radius);border-bottom-left-radius:var(--calcite-border-radius)}tr:first-child{border-top-left-radius:var(--calcite-border-radius);border-top-right-radius:var(--calcite-border-radius)}tr:not(:last-child){border-bottom-width:0px}tr:nth-child(odd){background-color:var(--calcite-color-background)}td{padding-top:0.5rem;padding-bottom:0.5rem;padding-inline-start:0.75rem}";

const ArcgisNewItemLayerSummaryItem = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.layerSelectionChange = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "layerSelectionChange", 7);
        this.expand = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "expand", 7);
        this.layerInfo = undefined;
        this.selected = undefined;
        this.translatedLayerType = undefined;
        this.translatedFieldType = undefined;
        this.hideSelect = undefined;
        this.expanded = undefined;
    }
    watchExpanded(newValue) {
        this.expand.emit({ expanded: newValue, layerInfo: this.layerInfo });
    }
    async componentWillLoad() {
        // TODO: get correct strings for Field and Field Type here (WebGIS/arcgis-portal-app#37229)
        this.i18n = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_1__.u.i18n;
    }
    render() {
        const { translatedLayerType, translatedFieldType, expanded, selected, layerSelectionChange, layerInfo, hideSelect } = this;
        const { name, fields } = layerInfo;
        let displayGeometryType;
        let icon;
        if (layerInfo.type === "Table") {
            displayGeometryType = "table";
            icon = _type_to_icon_7546439f_js__WEBPACK_IMPORTED_MODULE_3__.a["table"];
        }
        else {
            displayGeometryType = _feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_2__.a[layerInfo.geometryType];
            icon = _type_to_icon_7546439f_js__WEBPACK_IMPORTED_MODULE_3__.a[displayGeometryType];
        }
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "outer-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "header" }, !hideSelect && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { layout: "inline", class: "checkbox" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-checkbox", { checked: selected, scale: "m", onCalciteCheckboxChange: () => {
                layerSelectionChange.emit(!selected);
            } }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "opener" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: name, content: translatedLayerType[displayGeometryType], trailingIconInfo: { icon, scale: "s" }, scale: "s" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { onClick: () => (this.expanded = !this.expanded), class: "opener-btn" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: "chevronRight", class: { icon: true, "icon--expanded": expanded }, scale: "s", flipRtl: !expanded })))), expanded && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "data-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("table", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", null, this.i18n.csvLocationFields.field), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", null, this.i18n.zipSelect.type)), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody", null, fields === null || fields === void 0 ? void 0 : fields.map((field) => ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, field.alias || field.name), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, translatedFieldType[_feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_2__.e[field.type]]))))))))));
    }
    get el() { return (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
    static get watchers() { return {
        "expanded": ["watchExpanded"]
    }; }
};
ArcgisNewItemLayerSummaryItem.style = arcgisNewItemLayerSummaryItemCss;



//# sourceMappingURL=arcgis-new-item-layer-summary-item.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js":
/*!*******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ esriGeometryTypes),
/* harmony export */   b: () => (/* binding */ featureLayerPreferences),
/* harmony export */   e: () => (/* binding */ esriDataTypes),
/* harmony export */   f: () => (/* binding */ featureLayerTypes),
/* harmony export */   g: () => (/* binding */ geometryTypes),
/* harmony export */   r: () => (/* binding */ renderers)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const featureLayerPreferences = ["captureGPS", "enableZDefaults", "enableMDefaults"];
const featureLayerTypes = ["point", "line", "polygon", "multipatch", "multipoint", "table"];
const esriGeometryTypes = {
    esriGeometryPoint: "point",
    esriGeometryPolyline: "line",
    esriGeometryPolygon: "polygon",
    esriGeometryMultiPatch: "multipatch",
    esriGeometryMultipoint: "multipoint"
};
const esriDataTypes = {
    esriFieldTypeOID: "oid",
    esriFieldTypeBoolean: "boolean",
    esriFieldTypeString: "string",
    esriFieldTypeDouble: "number",
    esriFieldTypeInteger: "number",
    esriFieldTypeSmallInteger: "number",
    esriFieldTypeSingle: "number",
    esriFieldTypeGlobalID: "string",
    esriFieldTypeDate: "date",
    esriFieldTypeBigInteger: "number",
    esriFieldTypeDateOnly: "date",
    esriFieldTypeTimeOnly: "date",
    esriFieldTypeTimestampOffset: "date"
};
const geometryTypes = {
    point: "esriGeometryPoint",
    line: "esriGeometryPolyline",
    polygon: "esriGeometryPolygon",
    multipatch: "esriGeometryMultiPatch",
    multipoint: "esriGeometryMultipoint"
};
// TODO: strictly type this
const renderers = {
    line: {
        type: "simple",
        symbol: {
            type: "esriSLS",
            style: "esriSLSSolid",
            color: [165, 83, 183, 255],
            width: 1
        }
    },
    point: {
        type: "simple",
        symbol: {
            type: "esriPMS",
            url: "RedSphere.png",
            imageData: "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS4xTuc4+QAAB3VJREFUeF7tmPlTlEcexnve94U5mANQbgQSbgiHXHINlxpRIBpRI6wHorLERUmIisKCQWM8cqigESVQS1Kx1piNi4mW2YpbcZONrilE140RCTcy3DDAcL/zbJP8CYPDL+9Ufau7uqb7eZ7P+/a8PS8hwkcgIBAQCAgEBAICAYGAQEAgIBAQCAgEBAICAYGAQEAgIBAQCDx/AoowKXFMUhD3lQrioZaQRVRS+fxl51eBTZUTdZ41U1Rox13/0JF9csGJ05Qv4jSz/YPWohtvLmSKN5iTGGqTm1+rc6weICOBRbZs1UVnrv87T1PUeovxyNsUP9P6n5cpHtCxu24cbrmwKLdj+osWiqrVKhI0xzbmZ7m1SpJ+1pFpvE2DPvGTomOxAoNLLKGLscZYvB10cbYYjrJCb7A5mrxleOBqim+cWJRakZY0JfnD/LieI9V1MrKtwokbrAtU4Vm0A3TJnphJD4B+RxD0u0LA7w7FTE4oprOCMbklEGNrfdGf4IqnQTb4wc0MFTYibZqM7JgjO8ZdJkpMln/sKu16pHZGb7IfptIWg389DPp9kcChWODoMuDdBOhL1JgpisbUvghM7AqFbtNiaFP80RLnhbuBdqi0N+1dbUpWGde9gWpuhFi95yL7sS7BA93JAb+Fn8mh4QujgPeTgb9kAZf3Apd2A+fXQ38yHjOHozB1IAJjOSEY2RSIwVUv4dd4X9wJccGHNrJ7CYQ4GGjLeNNfM+dyvgpzQstKf3pbB2A6m97uBRE0/Ergcxr8hyqg7hrwn0vAtRIKIRX6Y2pMl0RhIj8co9nBGFrvh55l3ngU7YObng7IVnFvGS+BYUpmHziY/Ls2zgP9SX50by/G9N5w6I+ogYvpwK1SoOlHQNsGfWcd9Peqof88B/rTyzF9hAIopAByQzC0JQB9ST5oVnvhnt+LOGsprvUhxNIwa0aY7cGR6Cp7tr8+whkjawIxkRWC6YJI6N+lAKq3Qf/Tx+B77oGfaQc/8hB8w2Xwtw9Bf3kzZspXY/JIDEbfpAB2BKLvVV90Jvjgoac9vpRxE8kciTVCBMMkNirJ7k/tRHyjtxwjKV4Yp3t/6s+R4E+/DH3N6+BrS8E314Dvvg2+/Sb4hxfBf5sP/up2TF3ZhonK1zD6dhwGdwail26DzqgX8MRKiq9ZBpkSkmeYOyPM3m9Jjl+1Z9D8AgNtlAq6bZ70qsZi+q+bwV/7I/hbB8D/dAr8Axq89iz474p/G5++koHJy1sx/lkGdBc2YjA3HF0rHNHuboomuQj/5DgclIvOGCGCYRKFFuTMV7YUAD3VDQaLMfyqBcZORGPy01QKYSNm/rYV/Nd/Av9NHvgbueBrsjDzRQamKKDxT9Kgq1iLkbIUDOSHoiNcgnYHgnYZi+9ZExSbiSoMc2eE2flKcuJLa4KGRQz6/U0wlGaP0feiMH4uFpMXEjBVlYjp6lWY+SSZtim0kulYMiYuJEJXuhTDJ9UYPByOvoIwdCxfgE4bAo0Jh39xLAoVpMwIEQyTyFCQvGpLon9sJ0K3J4OBDDcMH1dj9FQsxkrjMPFRPCbOx2GyfLal9VEcxstioTulxjAFNfROJPqLl6Bnfyg6V7ugz5yBhuHwrZjBdiU5YJg7I8wOpifAKoVIW7uQ3rpOBH2b3ekVjYT2WCRG3o+mIGKgO0OrlIaebU/HYOQDNbQnojB4NJyGD0NPfjA0bwTRE6Q7hsUcWhkWN8yZqSQlWWGECAZLmJfJmbrvVSI8taK37xpbdB/wQW8xPee/8xIGjvlj8IQ/hk4G0JbWcX8MHPVDX4kveoq8ocn3xLM33NCZRcPHOGJYZIKfpQyq7JjHS6yJjcHujLHADgkpuC7h8F8zEVqXSNC2awE69lqhs8AamkO26HrbDt2H7dBVQov2NcW26CiwQtu+BWjdY4n2nZboTbfCmKcCnRyDO/YmyLPnDlHvjDH8G6zhS9/wlEnYR7X00fWrFYuWdVI0ZpuhcbcczW/R2qdAcz6t/bRov4mONeaaoYl+p22rHF0bVNAmKtBvweIXGxNcfFH8eNlC4m6wMWMusEnKpn5hyo48pj9gLe4SNG9QoGGLAk8z5XiaJUd99u8122/IpBA2K9BGg2vWWKAvRYVeLzEa7E1R422m2+MsSTem97nSYnfKyN6/mzATv7AUgqcMrUnmaFlLX3ysM0fj+t/b5lQLtK22QEfyAmiSLKFZpUJ7kBRPXKW4HqCYynWVHKSG2LkyZex1uO1mZM9lKem9Tx9jjY5iNEYo0bKMhn7ZAu0r6H5PpLXCAq0rKJClSjSGynE/QIkrQYqBPe6S2X+AJsY2Ped6iWZk6RlL0c2r5szofRsO9R5S1IfQLRCpQL1aifoYFerpsbkuTImaUJXuXIDiH6/Ys8vm3Mg8L2i20YqsO7fItKLcSXyn0kXccclVqv3MS6at9JU/Ox+ouns+SF6Z4cSupz7l8+z1ucs7LF1AQjOdxfGZzmx8Iu1TRcfnrioICAQEAgIBgYBAQCAgEBAICAQEAgIBgYBAQCAgEBAICAQEAv8H44b/6ZiGvGAAAAAASUVORK5CYII=",
            contentType: "image/png",
            width: 15,
            height: 15
        }
    },
    multipoint: {
        type: "simple",
        symbol: {
            type: "esriPMS",
            url: "RedSphere.png",
            imageData: "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",
            contentType: "image/png",
            width: 15,
            height: 15
        }
    },
    polygon: {
        type: "simple",
        symbol: {
            type: "esriSFS",
            style: "esriSFSSolid",
            color: [76, 129, 205, 191],
            outline: {
                type: "esriSLS",
                style: "esriSLSSolid",
                color: [0, 0, 0, 255],
                width: 0.75
            }
        }
    },
    // We don't allow adding multipatch layers in from-scratch flow, so no need for this
    multipatch: {}
};



//# sourceMappingURL=feature-layer-17b64946.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js":
/*!***********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createStore)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const appendToMap = (map, propName, value) => {
    const items = map.get(propName);
    if (!items) {
        map.set(propName, [value]);
    }
    else if (!items.includes(value)) {
        items.push(value);
    }
};
const debounce = (fn, ms) => {
    let timeoutId;
    return (...args) => {
        if (timeoutId) {
            clearTimeout(timeoutId);
        }
        timeoutId = setTimeout(() => {
            timeoutId = 0;
            fn(...args);
        }, ms);
    };
};

/**
 * Check if a possible element isConnected.
 * The property might not be there, so we check for it.
 *
 * We want it to return true if isConnected is not a property,
 * otherwise we would remove these elements and would not update.
 *
 * Better leak in Edge than to be useless.
 */
const isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;
const cleanupElements = debounce((map) => {
    for (let key of map.keys()) {
        map.set(key, map.get(key).filter(isConnected));
    }
}, 2000);
const stencilSubscription = () => {
    if (typeof _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.g !== 'function') {
        // If we are not in a stencil project, we do nothing.
        // This function is not really exported by @stencil/core.
        return {};
    }
    const elmsToUpdate = new Map();
    return {
        dispose: () => elmsToUpdate.clear(),
        get: (propName) => {
            const elm = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.g)();
            if (elm) {
                appendToMap(elmsToUpdate, propName, elm);
            }
        },
        set: (propName) => {
            const elements = elmsToUpdate.get(propName);
            if (elements) {
                elmsToUpdate.set(propName, elements.filter(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.f));
            }
            cleanupElements(elmsToUpdate);
        },
        reset: () => {
            elmsToUpdate.forEach((elms) => elms.forEach(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.f));
            cleanupElements(elmsToUpdate);
        },
    };
};

const unwrap = (val) => (typeof val === 'function' ? val() : val);
const createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {
    const unwrappedState = unwrap(defaultState);
    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));
    const handlers = {
        dispose: [],
        get: [],
        set: [],
        reset: [],
    };
    const reset = () => {
        var _a;
        // When resetting the state, the default state may be a function - unwrap it to invoke it.
        // otherwise, the state won't be properly reset
        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));
        handlers.reset.forEach((cb) => cb());
    };
    const dispose = () => {
        // Call first dispose as resetting the state would
        // cause less updates ;)
        handlers.dispose.forEach((cb) => cb());
        reset();
    };
    const get = (propName) => {
        handlers.get.forEach((cb) => cb(propName));
        return states.get(propName);
    };
    const set = (propName, value) => {
        const oldValue = states.get(propName);
        if (shouldUpdate(value, oldValue, propName)) {
            states.set(propName, value);
            handlers.set.forEach((cb) => cb(propName, value, oldValue));
        }
    };
    const state = (typeof Proxy === 'undefined'
        ? {}
        : new Proxy(unwrappedState, {
            get(_, propName) {
                return get(propName);
            },
            ownKeys(_) {
                return Array.from(states.keys());
            },
            getOwnPropertyDescriptor() {
                return {
                    enumerable: true,
                    configurable: true,
                };
            },
            has(_, propName) {
                return states.has(propName);
            },
            set(_, propName, value) {
                set(propName, value);
                return true;
            },
        }));
    const on = (eventName, callback) => {
        handlers[eventName].push(callback);
        return () => {
            removeFromArray(handlers[eventName], callback);
        };
    };
    const onChange = (propName, cb) => {
        const unSet = on('set', (key, newValue) => {
            if (key === propName) {
                cb(newValue);
            }
        });
        // We need to unwrap the defaultState because it might be a function.
        // Otherwise we might not be sending the right reset value.
        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));
        return () => {
            unSet();
            unReset();
        };
    };
    const use = (...subscriptions) => {
        const unsubs = subscriptions.reduce((unsubs, subscription) => {
            if (subscription.set) {
                unsubs.push(on('set', subscription.set));
            }
            if (subscription.get) {
                unsubs.push(on('get', subscription.get));
            }
            if (subscription.reset) {
                unsubs.push(on('reset', subscription.reset));
            }
            if (subscription.dispose) {
                unsubs.push(on('dispose', subscription.dispose));
            }
            return unsubs;
        }, []);
        return () => unsubs.forEach((unsub) => unsub());
    };
    const forceUpdate = (key) => {
        const oldValue = states.get(key);
        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));
    };
    return {
        state,
        get,
        set,
        on,
        onChange,
        use,
        dispose,
        reset,
        forceUpdate,
    };
};
const removeFromArray = (array, item) => {
    const index = array.indexOf(item);
    if (index >= 0) {
        array[index] = array[array.length - 1];
        array.length--;
    }
};

const createStore = (defaultState, shouldUpdate) => {
    const map = createObservableMap(defaultState, shouldUpdate);
    map.use(stencilSubscription());
    return map;
};



//# sourceMappingURL=index-05956cab.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-7546439f.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-7546439f.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ featureLayerIconInfo),
/* harmony export */   e: () => (/* binding */ esriGeometryIcons),
/* harmony export */   f: () => (/* binding */ fieldTypeIcons)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const featureLayerIconInfo = {
    point: "point",
    line: "line",
    polygon: "polygon",
    multipatch: "cube",
    table: "table",
    multipoint: "layer-points"
};
const esriGeometryIcons = {
    esriGeometryPoint: "point",
    esriGeometryPolyline: "line",
    esriGeometryPolygon: "polygon",
    esriGeometryMultiPatch: "cube",
    esriGeometryMultipoint: "point",
    none: "table"
};
const fieldTypeIcons = {
    esriFieldTypeOID: "key",
    esriFieldTypeBoolean: "boolean",
    esriFieldTypeString: "string",
    esriFieldTypeSingle: "number",
    esriFieldTypeDouble: "number",
    esriFieldTypeInteger: "integer",
    esriFieldTypeSmallInteger: "integer",
    esriFieldTypeGlobalID: "key",
    esriFieldTypeDate: "date-time",
    esriFieldTypeBigInteger: "integer",
    esriFieldTypeDateOnly: "calendar",
    esriFieldTypeTimeOnly: "clock",
    esriFieldTypeTimestampOffset: "time-zone"
};



//# sourceMappingURL=type-to-icon-7546439f.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ uiStore),
/* harmony export */   u: () => (/* binding */ uiStoreState)
/* harmony export */ });
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const uiStore = (0,_index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__.c)({
    nextText: "next",
    workflow: "content",
    scale: "m",
    disableScroll: false,
    featureFlags: {}
});
const uiStoreState = uiStore.state;



//# sourceMappingURL=ui-bca7bcd1.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWU5YmNmNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNrRztBQUM3QztBQUNvQztBQUNsQjtBQUMxQzs7QUFFN0IsZ0RBQWdELGNBQWMsaUJBQWlCLG1CQUFtQiwyQ0FBMkMsaUJBQWlCLG9CQUFvQix1QkFBdUIsMEJBQTBCLFFBQVEsYUFBYSxtQkFBbUIsUUFBUSxhQUFhLDhCQUE4Qix3QkFBd0IseUJBQXlCLFdBQVcsWUFBWSxnQkFBZ0IsZ0JBQWdCLGtCQUFrQiwwQkFBMEIsZUFBZSxhQUFhLDZCQUE2QiwwQkFBMEIsaUJBQWlCLHFCQUFxQix3QkFBd0Isa0JBQWtCLDZDQUE2QyxtQkFBbUIsa0JBQWtCLGlEQUFpRCxrQkFBa0IsMEJBQTBCLGdCQUFnQixtQkFBbUIsNEJBQTRCLGtCQUFrQiwrTEFBK0wsVUFBVSx3QkFBd0IsZ0JBQWdCLGtCQUFrQixtQkFBbUIsa0JBQWtCLE1BQU0seUJBQXlCLG1CQUFtQixXQUFXLEdBQUcsZ0JBQWdCLG9CQUFvQix1QkFBdUIsaUJBQWlCLEdBQUcsaUJBQWlCLG1CQUFtQiwyQ0FBMkMsY0FBYyx3REFBd0QsdURBQXVELGVBQWUsb0RBQW9ELHFEQUFxRCxvQkFBb0Isd0JBQXdCLGtCQUFrQixpREFBaUQsR0FBRyxtQkFBbUIsc0JBQXNCLDZCQUE2Qjs7QUFFeHlEO0FBQ0E7QUFDQSxRQUFRLHFEQUFnQjtBQUN4QixvQ0FBb0MscURBQVc7QUFDL0Msc0JBQXNCLHFEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQStDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBWTtBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLDRHQUE0RztBQUM1SCxnQkFBZ0IsZUFB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QUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEI7O0FBRTVCOzs7Ozs7Ozs7Ozs7Ozs7O0FDdk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtGOztBQUVsRjs7Ozs7Ozs7Ozs7Ozs7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1RDs7QUFFdkQsZ0JBQWdCLHFEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRTJDOztBQUUzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1uZXctaXRlbS1sYXllci1zdW1tYXJ5LWl0ZW0uZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vZmVhdHVyZS1sYXllci0xN2I2NDk0Ni5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9pbmRleC0wNTk1NmNhYi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS90eXBlLXRvLWljb24tNzU0NjQzOWYuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdWktYmNhN2JjZDEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIGQgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtZTNiZjdkYTcuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWJjYTdiY2QxLmpzJztcbmltcG9ydCB7IGUgYXMgZXNyaURhdGFUeXBlcywgYSBhcyBlc3JpR2VvbWV0cnlUeXBlcyB9IGZyb20gJy4vZmVhdHVyZS1sYXllci0xN2I2NDk0Ni5qcyc7XG5pbXBvcnQgeyBhIGFzIGZlYXR1cmVMYXllckljb25JbmZvIH0gZnJvbSAnLi90eXBlLXRvLWljb24tNzU0NjQzOWYuanMnO1xuaW1wb3J0ICcuL2luZGV4LTA1OTU2Y2FiLmpzJztcblxuY29uc3QgYXJjZ2lzTmV3SXRlbUxheWVyU3VtbWFyeUl0ZW1Dc3MgPSBcIjpob3N0e2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTEpfS5vdXRlci1jb250YWluZXJ7cGFkZGluZy10b3A6MS4yNXJlbTtwYWRkaW5nLWJvdHRvbToxLjI1cmVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjFyZW19LmhlYWRlcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5vcGVuZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmctaW5saW5lLWVuZDoxcmVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjBweDt3aWR0aDoxMDAlfS5vcGVuZXItYnRue3BhZGRpbmc6MC43NXJlbTtib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXN0eWxlOm5vbmU7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtcztjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50O291dGxpbmUtb2Zmc2V0OjA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9Lm9wZW5lci1idG46Zm9jdXN7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCk7b3V0bGluZS1vZmZzZXQ6MnB4fS5vcGVuZXItYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1iYWNrZ3JvdW5kKX0ub3BlbmVyLWJ0bj4uaWNvbnt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG99Lm9wZW5lci1idG4+Lmljb24tLWV4cGFuZGVkey0tdHctcm90YXRlOjkwZGVnO3RyYW5zZm9ybTp0cmFuc2xhdGUodmFyKC0tdHctdHJhbnNsYXRlLXgpLCB2YXIoLS10dy10cmFuc2xhdGUteSkpIHJvdGF0ZSh2YXIoLS10dy1yb3RhdGUpKSBza2V3WCh2YXIoLS10dy1za2V3LXgpKSBza2V3WSh2YXIoLS10dy1za2V3LXkpKSBzY2FsZVgodmFyKC0tdHctc2NhbGUteCkpIHNjYWxlWSh2YXIoLS10dy1zY2FsZS15KSl9LmNoZWNrYm94e3BhZGRpbmctaW5saW5lLWVuZDoxcmVtfS5kYXRhLWNvbnRhaW5lcntwYWRkaW5nLWxlZnQ6M3JlbTtwYWRkaW5nLXJpZ2h0OjNyZW07bWFyZ2luLXRvcDowLjVyZW19dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2ZvbnQtc2l6ZTowLjg3NXJlbTt3aWR0aDoxMDAlfXRoe2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nLXRvcDowLjc1cmVtO3BhZGRpbmctYm90dG9tOjAuNzVyZW07dGV4dC1hbGlnbjpzdGFydH10cntib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMSl9dHI6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czp2YXIoLS1jYWxjaXRlLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6dmFyKC0tY2FsY2l0ZS1ib3JkZXItcmFkaXVzKX10cjpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWNhbGNpdGUtYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tY2FsY2l0ZS1ib3JkZXItcmFkaXVzKX10cjpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1ib3R0b20td2lkdGg6MHB4fXRyOm50aC1jaGlsZChvZGQpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1iYWNrZ3JvdW5kKX10ZHtwYWRkaW5nLXRvcDowLjVyZW07cGFkZGluZy1ib3R0b206MC41cmVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjAuNzVyZW19XCI7XG5cbmNvbnN0IEFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy5sYXllclNlbGVjdGlvbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwibGF5ZXJTZWxlY3Rpb25DaGFuZ2VcIiwgNyk7XG4gICAgICAgIHRoaXMuZXhwYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJleHBhbmRcIiwgNyk7XG4gICAgICAgIHRoaXMubGF5ZXJJbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRyYW5zbGF0ZWRMYXllclR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlZEZpZWxkVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oaWRlU2VsZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmV4cGFuZGVkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB3YXRjaEV4cGFuZGVkKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kLmVtaXQoeyBleHBhbmRlZDogbmV3VmFsdWUsIGxheWVySW5mbzogdGhpcy5sYXllckluZm8gfSk7XG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICAvLyBUT0RPOiBnZXQgY29ycmVjdCBzdHJpbmdzIGZvciBGaWVsZCBhbmQgRmllbGQgVHlwZSBoZXJlIChXZWJHSVMvYXJjZ2lzLXBvcnRhbC1hcHAjMzcyMjkpXG4gICAgICAgIHRoaXMuaTE4biA9IHVpU3RvcmVTdGF0ZS5pMThuO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgdHJhbnNsYXRlZExheWVyVHlwZSwgdHJhbnNsYXRlZEZpZWxkVHlwZSwgZXhwYW5kZWQsIHNlbGVjdGVkLCBsYXllclNlbGVjdGlvbkNoYW5nZSwgbGF5ZXJJbmZvLCBoaWRlU2VsZWN0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG5hbWUsIGZpZWxkcyB9ID0gbGF5ZXJJbmZvO1xuICAgICAgICBsZXQgZGlzcGxheUdlb21ldHJ5VHlwZTtcbiAgICAgICAgbGV0IGljb247XG4gICAgICAgIGlmIChsYXllckluZm8udHlwZSA9PT0gXCJUYWJsZVwiKSB7XG4gICAgICAgICAgICBkaXNwbGF5R2VvbWV0cnlUeXBlID0gXCJ0YWJsZVwiO1xuICAgICAgICAgICAgaWNvbiA9IGZlYXR1cmVMYXllckljb25JbmZvW1widGFibGVcIl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkaXNwbGF5R2VvbWV0cnlUeXBlID0gZXNyaUdlb21ldHJ5VHlwZXNbbGF5ZXJJbmZvLmdlb21ldHJ5VHlwZV07XG4gICAgICAgICAgICBpY29uID0gZmVhdHVyZUxheWVySWNvbkluZm9bZGlzcGxheUdlb21ldHJ5VHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwib3V0ZXItY29udGFpbmVyXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImhlYWRlclwiIH0sICFoaWRlU2VsZWN0ICYmIChoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGxheW91dDogXCJpbmxpbmVcIiwgY2xhc3M6IFwiY2hlY2tib3hcIiB9LCBoKFwiY2FsY2l0ZS1jaGVja2JveFwiLCB7IGNoZWNrZWQ6IHNlbGVjdGVkLCBzY2FsZTogXCJtXCIsIG9uQ2FsY2l0ZUNoZWNrYm94Q2hhbmdlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXJTZWxlY3Rpb25DaGFuZ2UuZW1pdCghc2VsZWN0ZWQpO1xuICAgICAgICAgICAgfSB9KSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwib3BlbmVyXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1kZXNjcmlwdGlvblwiLCB7IGhlYWRlcjogbmFtZSwgY29udGVudDogdHJhbnNsYXRlZExheWVyVHlwZVtkaXNwbGF5R2VvbWV0cnlUeXBlXSwgdHJhaWxpbmdJY29uSW5mbzogeyBpY29uLCBzY2FsZTogXCJzXCIgfSwgc2NhbGU6IFwic1wiIH0pLCBoKFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gKHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZCksIGNsYXNzOiBcIm9wZW5lci1idG5cIiB9LCBoKFwiY2FsY2l0ZS1pY29uXCIsIHsgaWNvbjogXCJjaGV2cm9uUmlnaHRcIiwgY2xhc3M6IHsgaWNvbjogdHJ1ZSwgXCJpY29uLS1leHBhbmRlZFwiOiBleHBhbmRlZCB9LCBzY2FsZTogXCJzXCIsIGZsaXBSdGw6ICFleHBhbmRlZCB9KSkpKSwgZXhwYW5kZWQgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJkYXRhLWNvbnRhaW5lclwiIH0sIGgoXCJ0YWJsZVwiLCBudWxsLCBoKFwidGhlYWRcIiwgbnVsbCwgaChcInRoXCIsIG51bGwsIHRoaXMuaTE4bi5jc3ZMb2NhdGlvbkZpZWxkcy5maWVsZCksIGgoXCJ0aFwiLCBudWxsLCB0aGlzLmkxOG4uemlwU2VsZWN0LnR5cGUpKSwgaChcInRib2R5XCIsIG51bGwsIGZpZWxkcyA9PT0gbnVsbCB8fCBmaWVsZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpZWxkcy5tYXAoKGZpZWxkKSA9PiAoaChcInRyXCIsIG51bGwsIGgoXCJ0ZFwiLCBudWxsLCBmaWVsZC5hbGlhcyB8fCBmaWVsZC5uYW1lKSwgaChcInRkXCIsIG51bGwsIHRyYW5zbGF0ZWRGaWVsZFR5cGVbZXNyaURhdGFUeXBlc1tmaWVsZC50eXBlXV0pKSkpKSkpKSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gICAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICAgICAgXCJleHBhbmRlZFwiOiBbXCJ3YXRjaEV4cGFuZGVkXCJdXG4gICAgfTsgfVxufTtcbkFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtLnN0eWxlID0gYXJjZ2lzTmV3SXRlbUxheWVyU3VtbWFyeUl0ZW1Dc3M7XG5cbmV4cG9ydCB7IEFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtIGFzIGFyY2dpc19uZXdfaXRlbV9sYXllcl9zdW1tYXJ5X2l0ZW0gfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzLW5ldy1pdGVtLWxheWVyLXN1bW1hcnktaXRlbS5lbnRyeS5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmNvbnN0IGZlYXR1cmVMYXllclByZWZlcmVuY2VzID0gW1wiY2FwdHVyZUdQU1wiLCBcImVuYWJsZVpEZWZhdWx0c1wiLCBcImVuYWJsZU1EZWZhdWx0c1wiXTtcbmNvbnN0IGZlYXR1cmVMYXllclR5cGVzID0gW1wicG9pbnRcIiwgXCJsaW5lXCIsIFwicG9seWdvblwiLCBcIm11bHRpcGF0Y2hcIiwgXCJtdWx0aXBvaW50XCIsIFwidGFibGVcIl07XG5jb25zdCBlc3JpR2VvbWV0cnlUeXBlcyA9IHtcbiAgICBlc3JpR2VvbWV0cnlQb2ludDogXCJwb2ludFwiLFxuICAgIGVzcmlHZW9tZXRyeVBvbHlsaW5lOiBcImxpbmVcIixcbiAgICBlc3JpR2VvbWV0cnlQb2x5Z29uOiBcInBvbHlnb25cIixcbiAgICBlc3JpR2VvbWV0cnlNdWx0aVBhdGNoOiBcIm11bHRpcGF0Y2hcIixcbiAgICBlc3JpR2VvbWV0cnlNdWx0aXBvaW50OiBcIm11bHRpcG9pbnRcIlxufTtcbmNvbnN0IGVzcmlEYXRhVHlwZXMgPSB7XG4gICAgZXNyaUZpZWxkVHlwZU9JRDogXCJvaWRcIixcbiAgICBlc3JpRmllbGRUeXBlQm9vbGVhbjogXCJib29sZWFuXCIsXG4gICAgZXNyaUZpZWxkVHlwZVN0cmluZzogXCJzdHJpbmdcIixcbiAgICBlc3JpRmllbGRUeXBlRG91YmxlOiBcIm51bWJlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVJbnRlZ2VyOiBcIm51bWJlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVTbWFsbEludGVnZXI6IFwibnVtYmVyXCIsXG4gICAgZXNyaUZpZWxkVHlwZVNpbmdsZTogXCJudW1iZXJcIixcbiAgICBlc3JpRmllbGRUeXBlR2xvYmFsSUQ6IFwic3RyaW5nXCIsXG4gICAgZXNyaUZpZWxkVHlwZURhdGU6IFwiZGF0ZVwiLFxuICAgIGVzcmlGaWVsZFR5cGVCaWdJbnRlZ2VyOiBcIm51bWJlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVEYXRlT25seTogXCJkYXRlXCIsXG4gICAgZXNyaUZpZWxkVHlwZVRpbWVPbmx5OiBcImRhdGVcIixcbiAgICBlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0OiBcImRhdGVcIlxufTtcbmNvbnN0IGdlb21ldHJ5VHlwZXMgPSB7XG4gICAgcG9pbnQ6IFwiZXNyaUdlb21ldHJ5UG9pbnRcIixcbiAgICBsaW5lOiBcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIsXG4gICAgcG9seWdvbjogXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsXG4gICAgbXVsdGlwYXRjaDogXCJlc3JpR2VvbWV0cnlNdWx0aVBhdGNoXCIsXG4gICAgbXVsdGlwb2ludDogXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCJcbn07XG4vLyBUT0RPOiBzdHJpY3RseSB0eXBlIHRoaXNcbmNvbnN0IHJlbmRlcmVycyA9IHtcbiAgICBsaW5lOiB7XG4gICAgICAgIHR5cGU6IFwic2ltcGxlXCIsXG4gICAgICAgIHN5bWJvbDoge1xuICAgICAgICAgICAgdHlwZTogXCJlc3JpU0xTXCIsXG4gICAgICAgICAgICBzdHlsZTogXCJlc3JpU0xTU29saWRcIixcbiAgICAgICAgICAgIGNvbG9yOiBbMTY1LCA4MywgMTgzLCAyNTVdLFxuICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcG9pbnQ6IHtcbiAgICAgICAgdHlwZTogXCJzaW1wbGVcIixcbiAgICAgICAgc3ltYm9sOiB7XG4gICAgICAgICAgICB0eXBlOiBcImVzcmlQTVNcIixcbiAgICAgICAgICAgIHVybDogXCJSZWRTcGhlcmUucG5nXCIsXG4gICAgICAgICAgICBpbWFnZURhdGE6IFwiaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQVlBQUFDcWFYSGVBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFDWEJJV1hNQUFBN0RBQUFPd3dISGI2aGtBQUFBR1hSRldIUlRiMlowZDJGeVpRQlFZV2x1ZEM1T1JWUWdkak11TlM0eFR1YzQrUUFBQjNWSlJFRlVlRjd0bVBsVGxFY2V4bnZlOTRVNW1BTlFiZ1FTYmdpSFhISU5seHBSSUJwUkk2d0hvckxFUlVtSWlzS0NRV004Y3FpZ0VTVlFTMUt4MXBpTmk0bVcyWXBiY1pPTnJpbEUxNDBSQ1RjeTNEREFjTC96YkpQOENZUERMKzlVZmF1N3VxYjdlWjdQKy9hOFBTOGh3a2NnSUJBUUNBZ0VCQUlDQVlHQVFFQWdJQkFRQ0FnRUJBSUNBWUdBUUVBZ0lCQVFDRHgvQW9vd0tYRk1VaEQzbFFyaW9aYVFSVlJTK2Z4bDUxZUJUWlVUZFo0MVUxUm94MTMvMEpGOWNzR0owNVF2NGpTei9ZUFdvaHR2TG1TS041aVRHR3FUbTErcmM2d2VJQ09CUmJaczFVVm5ydjg3VDFQVWVvdnh5TnNVUDlQNm41Y3BIdEN4dTI0Y2JybXdLTGRqK29zV2lxclZLaEkweHpibVo3bTFTcEorMXBGcHZFMkRQdkdUb21PeEFvTkxMS0dMc2NaWXZCMTBjYllZanJKQ2I3QTVtcnhsZU9CcWltK2NXSlJha1pZMEpmbkQvTGllSTlWMU1yS3R3b2tickF0VTRWbTBBM1RKbnBoSkQ0QitSeEQwdTBMQTd3N0ZURTRvcHJPQ01ia2xFR05yZmRHZjRJcW5RVGI0d2MwTUZUWWliWnFNN0pnak84WmRKa3BNbG4vc0t1MTZwSFpHYjdJZnB0SVdnMzg5RFBwOWtjQ2hXT0RvTXVEZEJPaEwxSmdwaXNiVXZnaE03QXFGYnROaWFGUDgwUkxuaGJ1QmRxaTBOKzFkYlVwV0dkZTlnV3B1aEZpOTV5TDdzUzdCQTkzSkFiK0ZuOG1oNFF1amdQZVRnYjlrQVpmM0FwZDJBK2ZYUTM4eUhqT0hvekIxSUFKak9TRVkyUlNJd1ZVdjRkZDRYOXdKY2NHSE5ySjdDWVE0R0dqTGVOTmZNK2R5dmdwelFzdEtmM3BiQjJBNm05N3VCUkUwL0VyZ2N4cjhoeXFnN2hyd24wdkF0UklLSVJYNlkycE1sMFJoSWo4Y285bkJHRnJ2aDU1bDNuZ1U3WU9ibmc3SVZuRnZHUytCWVVwbUh6aVkvTHMyemdQOVNYNTBieS9HOU41dzZJK29nWXZwd0sxU29PbEhRTnNHZldjZDlQZXFvZjg4Qi9yVHl6RjloQUlvcEFCeVF6QzBKUUI5U1Q1b1ZudmhudCtMT0dzcHJ2VWh4Tkl3YTBhWTdjR1I2Q3A3dHI4K3doa2phd0l4a1JXQzZZSkk2TitsQUtxM1FmL1R4K0I3N29HZmFRYy84aEI4dzJYd3R3OUJmM2t6WnNwWFkvSklERWJmcEFCMkJLTHZWVjkwSnZqZ29hYzl2cFJ4RThrY2lUVkNCTU1rTmlySjdrL3RSSHlqdHh3aktWNFlwM3QvNnMrUjRFKy9ESDNONitCclM4RTMxNER2dmcyKy9TYjRoeGZCZjVzUC91cDJURjNaaG9uSzF6RDZkaHdHZHdhaWwyNkR6cWdYOE1SS2lxOVpCcGtTa21lWU95UE0zbTlKamwrMVo5RDhBZ050bEFxNmJaNzBxc1ppK3ErYndWLzdJL2hiQjhEL2RBcjhBeHE4OWl6NDc0cC9HNSsra29ISnkxc3gvbGtHZEJjMllqQTNIRjBySE5IdWJvb211UWovNURnY2xJdk9HQ0dDWVJLRkZ1VE1WN1lVQUQzVkRRYUxNZnlxQmNaT1JHUHkwMVFLWVNObS9yWVYvTmQvQXY5Tkh2Z2J1ZUJyc2pEelJRYW1LS0R4VDlLZ3ExaUxrYklVRE9TSG9pTmNnbllIZ25ZWmkrOVpFeFNiaVNvTWMyZUUyZmxLY3VKTGE0S0dSUXo2L1Uwd2xHYVAwZmVpTUg0dUZwTVhFakJWbFlqcDZsV1krU1NadGltMGt1bFlNaVl1SkVKWHVoVERKOVVZUEJ5T3ZvSXdkQ3hmZ0U0YkFvMEpoMzl4TEFvVnBNd0lFUXlUeUZDUXZHcExvbjlzSjBLM0o0T0JERGNNSDFkajlGUXN4a3JqTVBGUlBDYk94Mkd5ZkxhbDlWRWN4c3Rpb1R1bHhqQUZOZlJPSlBxTGw2Qm5meWc2Vjd1Z3o1eUJodUh3clpqQmRpVTVZSmc3STh3T3BpZkFLb1ZJVzd1UTNycE9CSDJiM2VrVmpZVDJXQ1JHM28rbUlHS2dPME9ybElhZWJVL0hZT1FETmJRbm9qQjROSnlHRDBOUGZqQTBid1RSRTZRN2hzVWNXaGtXTjh5WnFTUWxXV0dFQ0FaTG1KZkptYnJ2VlNJOHRhSzM3eHBiZEIvd1FXOHhQZWUvOHhJR2p2bGo4SVEvaGs0RzBKYldjWDhNSFBWRFg0a3Zlb3E4b2NuM3hMTTMzTkNaUmNQSE9HSllaSUtmcFF5cTdKakhTNnlKamNIdWpMSEFEZ2twdUM3aDhGOHpFVnFYU05DMmF3RTY5bHFoczhBYW1rTzI2SHJiRHQySDdkQlZRb3YyTmNXMjZDaXdRdHUrQldqZFk0bjJuWmJvVGJmQ21LY0NuUnlETy9ZbXlMUG5EbEh2akRIOEc2emhTOS93bEVuWVI3WDAwZldyRll1V2RWSTBacHVoY2JjY3pXL1IycWRBY3o2dC9iUm92NG1PTmVhYW9ZbCtwMjJySEYwYlZOQW1LdEJ2d2VJWEd4TmNmRkg4ZU5sQzRtNndNV011c0VuS3BuNWh5bzQ4cGo5Z0xlNFNORzlRb0dHTEFrOHo1WGlhSlVkOTl1ODEyMi9JcEJBMks5QkdnMnZXV0tBdlJZVmVMekVhN0UxUjQyMm0yK01zU1RlbTk3blNZbmZLeU42L216QVR2N0FVZ3FjTXJVbm1hRmxMWDN5c00wZmordC9iNWxRTHRLMjJRRWZ5QW1pU0xLRlpwVUo3a0JSUFhLVzRIcUNZeW5XVkhLU0cyTGt5WmV4MXVPMW1aTTlsS2VtOVR4OWpqWTVpTkVZbzBiS01objdaQXUwcjZINVBwTFhDQXEwcktKQ2xTalNHeW5FL1FJa3JRWXFCUGU2UzJYK0FKc1kyUGVkNmlXWms2UmxMMGMycjVzem9mUnNPOVI1UzFJZlFMUkNwUUwxYWlmb1lGZXJwc2JrdVRJbWFVSlh1WElEaUg2L1lzOHZtM01nOEwyaTIwWXFzTzdmSXRLTGNTWHluMGtYY2NjbFZxdjNNUzZhdDlKVS9PeCtvdW5zK1NGNlo0Y1N1cHo3bDgrejF1Y3M3TEYxQVFqT2R4Zkdaem14OEl1MVRSY2ZucmlvSUNBUUVBZ0lCZ1lCQVFDQWdFQkFJQ0FRRUFnSUJnWUJBUUNBZ0VCQUlDQVFFQXY4SDQ0Yi82WmlHdkdBQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImltYWdlL3BuZ1wiLFxuICAgICAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICAgICAgaGVpZ2h0OiAxNVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtdWx0aXBvaW50OiB7XG4gICAgICAgIHR5cGU6IFwic2ltcGxlXCIsXG4gICAgICAgIHN5bWJvbDoge1xuICAgICAgICAgICAgdHlwZTogXCJlc3JpUE1TXCIsXG4gICAgICAgICAgICB1cmw6IFwiUmVkU3BoZXJlLnBuZ1wiLFxuICAgICAgICAgICAgaW1hZ2VEYXRhOiBcImlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FZQUFBQ3FhWEhlQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQ1hCSVdYTUFBQTdEQUFBT3d3SEhiNmhrQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJRWVdsdWRDNU9SVlFnZGpNdU5TNHhUdWM0K1FBQUIzVkpSRUZVZUY3dG1QbFRsRWNleG52ZTk0VTVtQU5RYmdRU2JnaUhYSElObHhwUklCcFJJNndIb3JMRVJVbUlpc0tDUVdNOGNxaWdFU1ZRUzFLeDFwaU5pNG1XMllwYmNaT05yaWxFMTQwUkNUY3kzRERBY0wvemJKUDhDWVBETCs5VWZhdTd1cWI3ZVo3UCsvYThQUzhod2tjZ0lCQVFDQWdFQkFJQ0FZR0FRRUFnSUJBUUNBZ0VCQUlDQVlHQVFFQWdJQkFRQ0R4L0Fvb3dLWEZNVWhEM2xRcmlvWmFRUlZSUytmeGw1MWVCVFpVVGRaNDFVMVJveDEzLzBKRjljc0dKMDVRdjRqU3ovWVBXb2h0dkxtU0tONWlUR0dxVG0xK3JjNndlSUNPQlJiWnMxVVZucnY4N1QxUFVlb3Z4eU5zVVA5UDZuNWNwSHRDeHUyNGNicm13S0xkaitvc1dpcXJWS2hJMHh6Ym1aN20xU3BKKzFwRnB2RTJEUHZHVG9tT3hBb05MTEtHTHNjWll2QjEwY2JZWWpySkNiN0E1bXJ4bGVPQnFpbStjV0pSYWtaWTBKZm5EL0xpZUk5VjFNckt0d29rYnJBdFU0Vm0wQTNUSm5waEpENEIrUnhEMHUwTEE3dzdGVEU0b3ByT0NNYmtsRUdOcmZkR2Y0SXFuUVRiNHdjME1GVFlpYlpxTTdKZ2pPOFpkSmtwTWxuL3NLdTE2cEhaR2I3SWZwdElXZzM4OURQcDlrY0NoV09Eb011RGRCT2hMMUpncGlzYlV2Z2hNN0FxRmJ0TmlhRlA4MFJMbmhidUJkcWkwTisxZGJVcFdHZGU5Z1dwdWhGaTk1eUw3c1M3QkE5M0pBYitGbjhtaDRRdWpnUGVUZ2I5a0FaZjNBcGQyQStmWFEzOHlIak9Ib3pCMUlBSmpPU0VZMlJTSXdWVXY0ZGQ0WDl3SmNjR0hOcko3Q1lRNEdHakxlTk5mTStkeXZncHpRc3RLZjNwYkIyQTZtOTd1QlJFMC9FcmdjeHI4aHlxZzdocnduMHZBdFJJS0lSWDZZMnBNbDBSaElqOGNvOW5CR0Zydmg1NWwzbmdVN1lPYm5nN0lWbkZ2R1MrQllVcG1IemlZL0xzMnpnUDlTWDUwYnkvRzlONXc2SStvZ1l2cHdLMVNvT2xIUU5zR2ZXY2Q5UGVxb2Y4OEIvclR5ekY5aEFJb3BBQnlRekMwSlFCOVNUNW9WbnZobnQrTE9Hc3BydlVoeE5Jd2EwYVk3Y0dSNkNwN3RyOCt3aGtqYXdJeGtSV0M2WUpJNk4rbEFLcTNRZi9UeCtCNzdvR2ZhUWMvOGhCOHcyWHd0dzlCZjNrelpzcFhZL0pJREViZnBBQjJCS0x2VlY5MEp2amdvYWM5dnBSeEU4a2NpVFZDQk1Na05pcko3ay90Ukh5anR4d2pLVjRZcDN0LzZzK1I0RSsvREgzTjYrQnJTOEUzMTREdnZnMisvU2I0aHhmQmY1c1AvdXAyVEYzWmhvbksxekQ2ZGh3R2R3YWlsMjZEenFnWDhNUktpcTlaQnBrU2ttZVlPeVBNM205SmpsKzFaOUQ4QWdOdGxBcTZiWjcwcXNaaStxK2J3Vi83SS9oYkI4RC9kQXI4QXhxODlpejQ3NHAvRzUrK2tvSEp5MXN4L2xrR2RCYzJZakEzSEYwckhOSHVib29tdVFqLzVEZ2NsSXZPR0NHQ1lSS0ZGdVRNVjdZVUFEM1ZEUWFMTWZ5cUJjWk9SR1B5MDFRS1lTTm0vcllWL05kL0F2OU5IdmdidWVCcnNqRHpSUWFtS0tEeFQ5S2dxMWlMa2JJVURPU0hvaU5jZ25ZSGduWVppKzlaRXhTYmlTb01jMmVFMmZsS2N1SkxhNEtHUlF6Ni9VMHdsR2FQMGZlaU1INHVGcE1YRWpCVmxZanA2bFdZK1NTWnRpbTBrdWxZTWlZdUpFSlh1aFRESjlVWVBCeU92b0l3ZEN4ZmdFNGJBbzBKaDM5eExBb1ZwTXdJRVF5VHlGQ1F2R3BMb245c0owSzNKNE9CRERjTUgxZGo5RlFzeGtyak1QRlJQQ2JPeDJHeWZMYWw5VkVjeHN0aW9UdWx4akFGTmZST0pQcUxsNkJuZnlnNlY3dWd6NXlCaHVId3JaakJkaVU1WUpnN0k4d09waWZBS29WSVc3dVEzcnBPQkgyYjNla1ZqWVQyV0NSRzNvK21JR0tnTzBPcmxJYWViVS9IWU9RRE5iUW5vakI0Tkp5R0QwTlBmakEwYndUUkU2UTdoc1VjV2hrV044eVpxU1FsV1dHRUNBWkxtSmZKbWJydlZTSTh0YUszN3hwYmRCL3dRVzh4UGVlLzh4SUdqdmxqOElRL2hrNEcwSmJXY1g4TUhQVkRYNGt2ZW9xOG9jbjN4TE0zM05DWlJjUEhPR0pZWklLZnBReXE3SmpIUzZ5SmpjSHVqTEhBRGdrcHVDN2g4Rjh6RVZxWFNOQzJhd0U2OWxxaHM4QWFta08yNkhyYkR0Mkg3ZEJWUW92Mk5jVzI2Q2l3UXR1K0JXamRZNG4yblpib1RiZkNtS2NDblJ5RE8vWW15TFBuRGxIdmpESDhHNnpoUzkvd2xFbllSN1gwMGZXckZZdVdkVkkwWnB1aGNiY2N6Vy9SMnFkQWN6NnQvYlJvdjRtT05lYWFvWWwrcDIyckhGMGJWTkFtS3RCdndlSVhHeE5jZkZIOGVObEM0bTZ3TVdNdXNFbktwbjVoeW80OHBqOWdMZTRTTkc5UW9HR0xBazh6NVhpYUpVZDk5dTgxMjIvSXBCQTJLOUJHZzJ2V1dLQXZSWVZlTHpFYTdFMVI0MjJtMitNc1NUZW05N25TWW5mS3lONi9tekFUdjdBVWdxY01yVW5tYUZsTFgzeXNNMGZqK3QvYjVsUUx0SzIyUUVmeUFtaVNMS0ZacFVKN2tCUlBYS1c0SHFDWXluV1ZIS1NHMkxreVpleDF1TzFtWk05bEtlbTlUeDlqalk1aU5FWW8wYktNaG43WkF1MHI2SDVQcExYQ0FxMHJLSkNsU2pTR3luRS9RSWtyUVlxQlBlNlMyWCtBSnNZMlBlZDZpV1prNlJsTDBjMnI1c3pvZlJzTzlSNVMxSWZRTFJDcFFMMWFpZm9ZRmVycHNia3VUSW1hVUpYdVhJRGlINi9Zczh2bTNNZzhMMmkyMFlxc083Zkl0S0xjU1h5bjBrWGNjY2xWcXYzTVM2YXQ5SlUvT3grb3VucytTRjZaNGNTdXB6N2w4K3oxdWNzN0xGMUFRak9keGZHWnpteDhJdTFUUmNmbnJpb0lDQVFFQWdJQmdZQkFRQ0FnRUJBSUNBUUVBZ0lCZ1lCQVFDQWdFQkFJQ0FRRUF2OEg0NGIvNlppR3ZHQUFBQUFBU1VWT1JLNUNZSUk9XCIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJpbWFnZS9wbmdcIixcbiAgICAgICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgICAgIGhlaWdodDogMTVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcG9seWdvbjoge1xuICAgICAgICB0eXBlOiBcInNpbXBsZVwiLFxuICAgICAgICBzeW1ib2w6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXNyaVNGU1wiLFxuICAgICAgICAgICAgc3R5bGU6IFwiZXNyaVNGU1NvbGlkXCIsXG4gICAgICAgICAgICBjb2xvcjogWzc2LCAxMjksIDIwNSwgMTkxXSxcbiAgICAgICAgICAgIG91dGxpbmU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImVzcmlTTFNcIixcbiAgICAgICAgICAgICAgICBzdHlsZTogXCJlc3JpU0xTU29saWRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogWzAsIDAsIDAsIDI1NV0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAuNzVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gV2UgZG9uJ3QgYWxsb3cgYWRkaW5nIG11bHRpcGF0Y2ggbGF5ZXJzIGluIGZyb20tc2NyYXRjaCBmbG93LCBzbyBubyBuZWVkIGZvciB0aGlzXG4gICAgbXVsdGlwYXRjaDoge31cbn07XG5cbmV4cG9ydCB7IGVzcmlHZW9tZXRyeVR5cGVzIGFzIGEsIGZlYXR1cmVMYXllclByZWZlcmVuY2VzIGFzIGIsIGVzcmlEYXRhVHlwZXMgYXMgZSwgZmVhdHVyZUxheWVyVHlwZXMgYXMgZiwgZ2VvbWV0cnlUeXBlcyBhcyBnLCByZW5kZXJlcnMgYXMgciB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZWF0dXJlLWxheWVyLTE3YjY0OTQ2LmpzLm1hcCIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgZyBhcyBnZXRSZW5kZXJpbmdSZWYsIGYgYXMgZm9yY2VVcGRhdGUgfSBmcm9tICcuL2luZGV4LWUzYmY3ZGE3LmpzJztcblxuY29uc3QgYXBwZW5kVG9NYXAgPSAobWFwLCBwcm9wTmFtZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBpdGVtcyA9IG1hcC5nZXQocHJvcE5hbWUpO1xuICAgIGlmICghaXRlbXMpIHtcbiAgICAgICAgbWFwLnNldChwcm9wTmFtZSwgW3ZhbHVlXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpdGVtcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgaXRlbXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufTtcbmNvbnN0IGRlYm91bmNlID0gKGZuLCBtcykgPT4ge1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dElkID0gMDtcbiAgICAgICAgICAgIGZuKC4uLmFyZ3MpO1xuICAgICAgICB9LCBtcyk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwb3NzaWJsZSBlbGVtZW50IGlzQ29ubmVjdGVkLlxuICogVGhlIHByb3BlcnR5IG1pZ2h0IG5vdCBiZSB0aGVyZSwgc28gd2UgY2hlY2sgZm9yIGl0LlxuICpcbiAqIFdlIHdhbnQgaXQgdG8gcmV0dXJuIHRydWUgaWYgaXNDb25uZWN0ZWQgaXMgbm90IGEgcHJvcGVydHksXG4gKiBvdGhlcndpc2Ugd2Ugd291bGQgcmVtb3ZlIHRoZXNlIGVsZW1lbnRzIGFuZCB3b3VsZCBub3QgdXBkYXRlLlxuICpcbiAqIEJldHRlciBsZWFrIGluIEVkZ2UgdGhhbiB0byBiZSB1c2VsZXNzLlxuICovXG5jb25zdCBpc0Nvbm5lY3RlZCA9IChtYXliZUVsZW1lbnQpID0+ICEoJ2lzQ29ubmVjdGVkJyBpbiBtYXliZUVsZW1lbnQpIHx8IG1heWJlRWxlbWVudC5pc0Nvbm5lY3RlZDtcbmNvbnN0IGNsZWFudXBFbGVtZW50cyA9IGRlYm91bmNlKChtYXApID0+IHtcbiAgICBmb3IgKGxldCBrZXkgb2YgbWFwLmtleXMoKSkge1xuICAgICAgICBtYXAuc2V0KGtleSwgbWFwLmdldChrZXkpLmZpbHRlcihpc0Nvbm5lY3RlZCkpO1xuICAgIH1cbn0sIDIwMDApO1xuY29uc3Qgc3RlbmNpbFN1YnNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdldFJlbmRlcmluZ1JlZiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGluIGEgc3RlbmNpbCBwcm9qZWN0LCB3ZSBkbyBub3RoaW5nLlxuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIG5vdCByZWFsbHkgZXhwb3J0ZWQgYnkgQHN0ZW5jaWwvY29yZS5cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBlbG1zVG9VcGRhdGUgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzcG9zZTogKCkgPT4gZWxtc1RvVXBkYXRlLmNsZWFyKCksXG4gICAgICAgIGdldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbG0gPSBnZXRSZW5kZXJpbmdSZWYoKTtcbiAgICAgICAgICAgIGlmIChlbG0pIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb01hcChlbG1zVG9VcGRhdGUsIHByb3BOYW1lLCBlbG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBlbG1zVG9VcGRhdGUuZ2V0KHByb3BOYW1lKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5zZXQocHJvcE5hbWUsIGVsZW1lbnRzLmZpbHRlcihmb3JjZVVwZGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cEVsZW1lbnRzKGVsbXNUb1VwZGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBlbG1zVG9VcGRhdGUuZm9yRWFjaCgoZWxtcykgPT4gZWxtcy5mb3JFYWNoKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuY29uc3QgdW53cmFwID0gKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicgPyB2YWwoKSA6IHZhbCk7XG5jb25zdCBjcmVhdGVPYnNlcnZhYmxlTWFwID0gKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlID0gKGEsIGIpID0+IGEgIT09IGIpID0+IHtcbiAgICBjb25zdCB1bndyYXBwZWRTdGF0ZSA9IHVud3JhcChkZWZhdWx0U3RhdGUpO1xuICAgIGxldCBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHVud3JhcHBlZFN0YXRlICE9PSBudWxsICYmIHVud3JhcHBlZFN0YXRlICE9PSB2b2lkIDAgPyB1bndyYXBwZWRTdGF0ZSA6IHt9KSk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICAgIGRpc3Bvc2U6IFtdLFxuICAgICAgICBnZXQ6IFtdLFxuICAgICAgICBzZXQ6IFtdLFxuICAgICAgICByZXNldDogW10sXG4gICAgfTtcbiAgICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBXaGVuIHJlc2V0dGluZyB0aGUgc3RhdGUsIHRoZSBkZWZhdWx0IHN0YXRlIG1heSBiZSBhIGZ1bmN0aW9uIC0gdW53cmFwIGl0IHRvIGludm9rZSBpdC5cbiAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgc3RhdGUgd29uJ3QgYmUgcHJvcGVybHkgcmVzZXRcbiAgICAgICAgc3RhdGVzID0gbmV3IE1hcChPYmplY3QuZW50cmllcygoX2EgPSB1bndyYXAoZGVmYXVsdFN0YXRlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKTtcbiAgICAgICAgaGFuZGxlcnMucmVzZXQuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgLy8gQ2FsbCBmaXJzdCBkaXNwb3NlIGFzIHJlc2V0dGluZyB0aGUgc3RhdGUgd291bGRcbiAgICAgICAgLy8gY2F1c2UgbGVzcyB1cGRhdGVzIDspXG4gICAgICAgIGhhbmRsZXJzLmRpc3Bvc2UuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgICAgICByZXNldCgpO1xuICAgIH07XG4gICAgY29uc3QgZ2V0ID0gKHByb3BOYW1lKSA9PiB7XG4gICAgICAgIGhhbmRsZXJzLmdldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUpKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlcy5nZXQocHJvcE5hbWUpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0ID0gKHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHN0YXRlcy5nZXQocHJvcE5hbWUpO1xuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKHZhbHVlLCBvbGRWYWx1ZSwgcHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBzdGF0ZXMuc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zZXQuZm9yRWFjaCgoY2IpID0+IGNiKHByb3BOYW1lLCB2YWx1ZSwgb2xkVmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3RhdGUgPSAodHlwZW9mIFByb3h5ID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHt9XG4gICAgICAgIDogbmV3IFByb3h5KHVud3JhcHBlZFN0YXRlLCB7XG4gICAgICAgICAgICBnZXQoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHByb3BOYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvd25LZXlzKF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZXMua2V5cygpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzKF8sIHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlcy5oYXMocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldChfLCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBvbiA9IChldmVudE5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkoaGFuZGxlcnNbZXZlbnROYW1lXSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3Qgb25DaGFuZ2UgPSAocHJvcE5hbWUsIGNiKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuU2V0ID0gb24oJ3NldCcsIChrZXksIG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIGNiKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdW53cmFwIHRoZSBkZWZhdWx0U3RhdGUgYmVjYXVzZSBpdCBtaWdodCBiZSBhIGZ1bmN0aW9uLlxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbWlnaHQgbm90IGJlIHNlbmRpbmcgdGhlIHJpZ2h0IHJlc2V0IHZhbHVlLlxuICAgICAgICBjb25zdCB1blJlc2V0ID0gb24oJ3Jlc2V0JywgKCkgPT4gY2IodW53cmFwKGRlZmF1bHRTdGF0ZSlbcHJvcE5hbWVdKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1blNldCgpO1xuICAgICAgICAgICAgdW5SZXNldCgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXNlID0gKC4uLnN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgdW5zdWJzID0gc3Vic2NyaXB0aW9ucy5yZWR1Y2UoKHVuc3Vicywgc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLnNldCkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdzZXQnLCBzdWJzY3JpcHRpb24uc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmdldCkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdnZXQnLCBzdWJzY3JpcHRpb24uZ2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLnJlc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3Jlc2V0Jywgc3Vic2NyaXB0aW9uLnJlc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbignZGlzcG9zZScsIHN1YnNjcmlwdGlvbi5kaXNwb3NlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5zdWJzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnMuZm9yRWFjaCgodW5zdWIpID0+IHVuc3ViKCkpO1xuICAgIH07XG4gICAgY29uc3QgZm9yY2VVcGRhdGUgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChrZXkpO1xuICAgICAgICBoYW5kbGVycy5zZXQuZm9yRWFjaCgoY2IpID0+IGNiKGtleSwgb2xkVmFsdWUsIG9sZFZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXQsXG4gICAgICAgIG9uLFxuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgdXNlLFxuICAgICAgICBkaXNwb3NlLFxuICAgICAgICByZXNldCxcbiAgICAgICAgZm9yY2VVcGRhdGUsXG4gICAgfTtcbn07XG5jb25zdCByZW1vdmVGcm9tQXJyYXkgPSAoYXJyYXksIGl0ZW0pID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgICAgIGFycmF5Lmxlbmd0aC0tO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKSA9PiB7XG4gICAgY29uc3QgbWFwID0gY3JlYXRlT2JzZXJ2YWJsZU1hcChkZWZhdWx0U3RhdGUsIHNob3VsZFVwZGF0ZSk7XG4gICAgbWFwLnVzZShzdGVuY2lsU3Vic2NyaXB0aW9uKCkpO1xuICAgIHJldHVybiBtYXA7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVTdG9yZSBhcyBjIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LTA1OTU2Y2FiLmpzLm1hcCIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuY29uc3QgZmVhdHVyZUxheWVySWNvbkluZm8gPSB7XG4gICAgcG9pbnQ6IFwicG9pbnRcIixcbiAgICBsaW5lOiBcImxpbmVcIixcbiAgICBwb2x5Z29uOiBcInBvbHlnb25cIixcbiAgICBtdWx0aXBhdGNoOiBcImN1YmVcIixcbiAgICB0YWJsZTogXCJ0YWJsZVwiLFxuICAgIG11bHRpcG9pbnQ6IFwibGF5ZXItcG9pbnRzXCJcbn07XG5jb25zdCBlc3JpR2VvbWV0cnlJY29ucyA9IHtcbiAgICBlc3JpR2VvbWV0cnlQb2ludDogXCJwb2ludFwiLFxuICAgIGVzcmlHZW9tZXRyeVBvbHlsaW5lOiBcImxpbmVcIixcbiAgICBlc3JpR2VvbWV0cnlQb2x5Z29uOiBcInBvbHlnb25cIixcbiAgICBlc3JpR2VvbWV0cnlNdWx0aVBhdGNoOiBcImN1YmVcIixcbiAgICBlc3JpR2VvbWV0cnlNdWx0aXBvaW50OiBcInBvaW50XCIsXG4gICAgbm9uZTogXCJ0YWJsZVwiXG59O1xuY29uc3QgZmllbGRUeXBlSWNvbnMgPSB7XG4gICAgZXNyaUZpZWxkVHlwZU9JRDogXCJrZXlcIixcbiAgICBlc3JpRmllbGRUeXBlQm9vbGVhbjogXCJib29sZWFuXCIsXG4gICAgZXNyaUZpZWxkVHlwZVN0cmluZzogXCJzdHJpbmdcIixcbiAgICBlc3JpRmllbGRUeXBlU2luZ2xlOiBcIm51bWJlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVEb3VibGU6IFwibnVtYmVyXCIsXG4gICAgZXNyaUZpZWxkVHlwZUludGVnZXI6IFwiaW50ZWdlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVTbWFsbEludGVnZXI6IFwiaW50ZWdlclwiLFxuICAgIGVzcmlGaWVsZFR5cGVHbG9iYWxJRDogXCJrZXlcIixcbiAgICBlc3JpRmllbGRUeXBlRGF0ZTogXCJkYXRlLXRpbWVcIixcbiAgICBlc3JpRmllbGRUeXBlQmlnSW50ZWdlcjogXCJpbnRlZ2VyXCIsXG4gICAgZXNyaUZpZWxkVHlwZURhdGVPbmx5OiBcImNhbGVuZGFyXCIsXG4gICAgZXNyaUZpZWxkVHlwZVRpbWVPbmx5OiBcImNsb2NrXCIsXG4gICAgZXNyaUZpZWxkVHlwZVRpbWVzdGFtcE9mZnNldDogXCJ0aW1lLXpvbmVcIlxufTtcblxuZXhwb3J0IHsgZmVhdHVyZUxheWVySWNvbkluZm8gYXMgYSwgZXNyaUdlb21ldHJ5SWNvbnMgYXMgZSwgZmllbGRUeXBlSWNvbnMgYXMgZiB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlLXRvLWljb24tNzU0NjQzOWYuanMubWFwIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5pbXBvcnQgeyBjIGFzIGNyZWF0ZVN0b3JlIH0gZnJvbSAnLi9pbmRleC0wNTk1NmNhYi5qcyc7XG5cbmNvbnN0IHVpU3RvcmUgPSBjcmVhdGVTdG9yZSh7XG4gICAgbmV4dFRleHQ6IFwibmV4dFwiLFxuICAgIHdvcmtmbG93OiBcImNvbnRlbnRcIixcbiAgICBzY2FsZTogXCJtXCIsXG4gICAgZGlzYWJsZVNjcm9sbDogZmFsc2UsXG4gICAgZmVhdHVyZUZsYWdzOiB7fVxufSk7XG5jb25zdCB1aVN0b3JlU3RhdGUgPSB1aVN0b3JlLnN0YXRlO1xuXG5leHBvcnQgeyB1aVN0b3JlIGFzIGEsIHVpU3RvcmVTdGF0ZSBhcyB1IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVpLWJjYTdiY2QxLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==