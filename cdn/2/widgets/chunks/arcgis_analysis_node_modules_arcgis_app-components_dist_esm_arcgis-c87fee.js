"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-settings.entry.js":
/*!********************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-settings.entry.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_tile_layer_settings: () => (/* binding */ ArcgisNewItemPagesTileLayerSettings)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _portal_d518b571_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./portal-d518b571.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-d518b571.js");
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./item-properties-10491b2e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-10491b2e.js");
/* harmony import */ var _feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./feature-layer-573bb473.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-573bb473.js");
/* harmony import */ var _tile_layer_8a7b93de_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tile-layer-8a7b93de.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-8a7b93de.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tile-layer-cf04fa97.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js");
/* harmony import */ var _loadModules_b4ac1247_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./loadModules-b4ac1247.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-b4ac1247.js");
/* harmony import */ var _url_4c3ae54c_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./url-4c3ae54c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-4c3ae54c.js");
/* harmony import */ var _functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./functional-44de8fcf.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-44de8fcf.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/* harmony import */ var _feature_layer_79fb302c_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./feature-layer-79fb302c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-79fb302c.js");
/* harmony import */ var _guid_aeaed84d_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./guid-aeaed84d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-aeaed84d.js");
/* harmony import */ var _thumbnail_bcb89e69_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./thumbnail-bcb89e69.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-bcb89e69.js");
/* harmony import */ var _service_8c2c4241_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./service-8c2c4241.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/service-8c2c4241.js");
/* harmony import */ var _user_3ea69c3a_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./user-3ea69c3a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-3ea69c3a.js");
/* harmony import */ var _query_d62660d4_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./query-d62660d4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-d62660d4.js");
/* harmony import */ var _api_2e3a136f_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./api-2e3a136f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-2e3a136f.js");
/* harmony import */ var _string_58a5fef3_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./string-58a5fef3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/string-58a5fef3.js");
/* harmony import */ var _dom_4d367677_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dom-4d367677.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-4d367677.js");
/* harmony import */ var _item_c58ffced_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./item-c58ffced.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-c58ffced.js");
/* harmony import */ var _server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./server-item-8d384796.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-8d384796.js");
/* harmony import */ var _item_3535552d_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./item-3535552d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-3535552d.js");
/* harmony import */ var _functional_81373f6d_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./functional-81373f6d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-81373f6d.js");
/* harmony import */ var _item_types_2029b06b_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./item-types-2029b06b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-2029b06b.js");
/* harmony import */ var _feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./feature-layer-17b64946.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js");
/* harmony import */ var _ags_eb458a03_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ags-eb458a03.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-eb458a03.js");
/* harmony import */ var _url_35875a10_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./url-35875a10.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-35875a10.js");
/* harmony import */ var _storage_0353a769_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./storage-0353a769.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-0353a769.js");
/* harmony import */ var _file_bf8ab90f_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./file-bf8ab90f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-bf8ab90f.js");
/* harmony import */ var _store_6a88e6c5_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./store-6a88e6c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-6a88e6c5.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


































const arcgisNewItemPagesTileLayerSettingsCss = ".title{margin-bottom:1.5rem}.section{margin-bottom:2rem}.section-title{font-size:1rem;font-weight:400;margin-bottom:0.25rem;margin-top:0px}.description{margin-bottom:1rem;margin-top:0px;font-size:0.75rem}";

const ArcgisNewItemPagesTileLayerSettings = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.newItemUpdatePage = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
        // --- Main flow controller
        this.publishType = "tiles";
        // --- Data
        this.autoCreation = true;
        this.basemapUrl = "";
        this.featureLayerInfos = null;
        this.featureLayerLayers = null;
        this.serviceInfo = null;
        /* For auto creation option */
        this.cacheOnDemandMinScale = _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.T;
        this.calculatedScale = {
            minScale: _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.T,
            maxScale: _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.e
        };
        /** Used to prevent re-fetching whenever the user switch baseMapType */
        this.curLods = [];
        this.ranges = [
            { level: 0, label: "world" },
            { level: 1, label: "continent" },
            { level: 2, label: "countries" },
            { level: 3, label: "countriesSmall" },
            { level: 4, label: "states" },
            { level: 5, label: "state" },
            { level: 6, label: "counties" },
            { level: 7, label: "county" },
            { level: 8, label: "metropolitan" },
            { level: 9, label: "cities" },
            { level: 10, label: "city" },
            { level: 11, label: "town" },
            { level: 12, label: "neighborhood" },
            { level: 13, label: "streets" },
            { level: 14, label: "street" },
            { level: 15, label: "buildings" },
            { level: 16, label: "building" },
            { level: 17, label: "small" },
            { level: 18, label: "rooms" },
            { level: 19, label: "room" }
        ];
        this.tileLayerInfo = null;
        // --- UI
        this.handleUrlInputError = (errString) => {
            const { error } = this.i18n;
            this.alertInfo = {
                title: errString === "invalidUrl" ? this.invalidUrlString : error.urlErrorTitle,
                description: errString === "invalidUrl" ? undefined : error[errString]
            };
        };
        // --- Functionality
        this.getPublishTypeInfo = () => {
            const { publishType } = this;
            switch (publishType) {
                case "tiles":
                    return "mapserver";
                case "scenes":
                    return "sceneserver";
                case "features":
                    return "featureserver";
                case "vectorTiles":
                    return "vectortileserver";
                case "tiledImagery":
                case "dynamicImagery":
                    return "imageserver";
                default:
                    return publishType;
            }
        };
        this.toggleAutoCreation = (e) => {
            this.autoCreation = e.detail;
        };
        this.handleBasemapChange = (basemap) => {
            var _a;
            const { tileLayerInfo, curLods } = this;
            this.basemapType = basemap;
            const handleNewLods = (newLods) => {
                const isSameLods = newLods.length === curLods.length &&
                    newLods.every((lod, index) => {
                        const curLod = curLods[index];
                        return (lod.level === curLod.level &&
                            lod.resolution === curLod.resolution &&
                            lod.scale === curLod.scale &&
                            lod.label === curLod.label);
                    });
                if (!isSameLods) {
                    this.curLods = newLods;
                }
            };
            const userDefinedLods = (_a = tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info) === null || _a === void 0 ? void 0 : _a.lods;
            if (basemap === "standard") {
                handleNewLods(_tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.g);
            }
            else if (userDefinedLods) {
                handleNewLods(userDefinedLods);
            }
        };
        this.fetchTileLayerInfo = async (url) => {
            this.isProcessing = true;
            this.alertInfo = null;
            this.tileLayerInfo = null;
            const { error, result } = await (0,_tile_layer_8a7b93de_js__WEBPACK_IMPORTED_MODULE_5__.b)(url, false);
            if (error) {
                this.handleUrlInputError(error.code);
            }
            else if (result) {
                this.tileLayerInfo = { url, info: result };
            }
            this.isProcessing = false;
            return !error;
        };
        this.onUrlInputBlur = async () => {
            const { tileLayerInfo, basemapUrl } = this;
            if (!basemapUrl) {
                this.tileLayerInfo = null;
                this.basemapUrl = null;
                return;
            }
            if ((tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.url) === basemapUrl) {
                // No point in re-fetching the same info
                return;
            }
            this.fetchTileLayerInfo(basemapUrl);
        };
        this.alertInfo = undefined;
        this.isProcessing = false;
        this.showIncreaseScaleRangeWarning = false;
        this.selectedItem = undefined;
        this.basemapType = undefined;
    }
    async handleNext() {
        var _a;
        if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
            // 3D Tiles doesn't support this flow
            return;
        }
        const { publishType, serviceInfo: _, autoCreation, cacheOnDemandMinScale, calculatedScale, tileLayerInfo, selectedItem, basemapType, basemapUrl, inputRef, handleUrlInputError, fetchTileLayerInfo } = this;
        if (basemapType === "custom") {
            if (!basemapUrl) {
                handleUrlInputError("invalidUrl");
                inputRef.setFocus();
                return;
            }
            if (!tileLayerInfo) {
                const success = await fetchTileLayerInfo(basemapUrl);
                if (!success) {
                    inputRef.setFocus();
                    return;
                }
            }
        }
        const { publishContent } = (0,_tile_layer_8a7b93de_js__WEBPACK_IMPORTED_MODULE_5__.d)({
            id: selectedItem.id,
            title: selectedItem.title
        }, {
            publishType,
            cacheOnDemand: publishType !== "vectorTiles" && autoCreation,
            cacheOnDemandMinScale,
            tileInfo: tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info,
            scale: Object.assign({}, calculatedScale),
            layers: (_a = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerData) === null || _a === void 0 ? void 0 : _a.layers
        }, _config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal);
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishContent = publishContent;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileAutoCreation = autoCreation;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapType = basemapType;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapUrl = basemapUrl;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType = publishType;
        this.newItemUpdatePage.emit("itemProperties");
    }
    async componentWillLoad() {
        var _a, _b;
        if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
            // 3D Tiles doesn't support this flow
            return;
        }
        this.fromFeatureLayer = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerFromFeatureLayer;
        this.publishType = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType;
        this.i18n = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_7__.u.i18n.tileLayerSettings;
        this.invalidUrlString = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_7__.u.i18n.url.invalidUrl;
        this.autoCreation = (_a = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileAutoCreation) !== null && _a !== void 0 ? _a : true;
        this.basemapUrl = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapUrl;
        this.basemapType = (_b = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapType) !== null && _b !== void 0 ? _b : "standard";
        // Reset request item
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishContent = null;
        let curItem = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.item;
        if (!curItem) {
            // In case the item is published from item detail page
            curItem = Object.assign(Object.assign({}, _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.existingItem), { id: _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.id, title: _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.sourceTitle, type: _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.type, tags: _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_3__.i.tags });
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.item = curItem;
        }
        // TODO: integrate feature/tile layer publish types with main ItemType structure
        const publishMap = {
            vectorTiles: "Vector Tile Service",
            tiles: "Tile Layer",
            scenes: "Scene Service"
        };
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.type = publishMap[_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType];
        _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_3__.i.title = curItem.title;
        this.selectedItem = curItem;
        const processTileDetail = async () => {
            var _a;
            if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
                // 3D Tiles doesn't support this flow
                return;
            }
            this.isProcessing = true;
            const url = curItem.url;
            let layers = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerLayers;
            let tables = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerTables;
            let serviceInfo = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerServiceInfo;
            if ((!_config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal || !_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerFromFeatureLayer) &&
                !layers &&
                !tables &&
                !serviceInfo) {
                const result = await (0,_feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_4__.q)(url, (0,_portal_d518b571_js__WEBPACK_IMPORTED_MODULE_1__.g)(_config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__.c.portal), true);
                layers = result.layers;
                tables = result.tables;
                serviceInfo = result.serviceInfo;
            }
            this.serviceInfo = serviceInfo;
            this.featureLayerInfos = [...(layers || []), ...(tables || [])];
            this.featureLayerLayers = [...(layers || [])];
            // TODO: support scene
            // https://devtopia.esri.com/WebGIS/arcgis-portal-app/blob/master/src/js/arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg.js#L382-L394
            // https://devtopia.esri.com/WebGIS/arcgis-portal-app/blob/master/src/js/arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg.js#L404-L406
            await this.handleTileLayerScaleChange({
                minScale: _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.T,
                maxScale: _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.e
            });
            // check for tiles on demand renderer support
            if (this.publishType === "tiles") {
                // TODO: disable cache on demand based on the result
                (0,_tile_layer_8a7b93de_js__WEBPACK_IMPORTED_MODULE_5__.h)(this.featureLayerLayers, (_a = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__.c.config.tilesOnDemandEnabled) !== null && _a !== void 0 ? _a : false);
            }
            this.isProcessing = false;
        };
        // Avoid blocking the render thread with await
        processTileDetail();
    }
    async handleTileLayerScaleChange(constraints) {
        var _a, _b;
        const { selectedItem, featureLayerInfos, tileLayerInfo, publishType } = this;
        if (publishType !== "tiles") {
            return;
        }
        const itemUrl = selectedItem.url;
        const { cacheOnDemandMinScale, calculatedScale } = await (0,_tile_layer_8a7b93de_js__WEBPACK_IMPORTED_MODULE_5__.e)(constraints, (_b = (_a = tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info) === null || _a === void 0 ? void 0 : _a.lods) !== null && _b !== void 0 ? _b : _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.a.lods, featureLayerInfos, itemUrl);
        if (itemUrl) {
            cacheOnDemandMinScale && (this.cacheOnDemandMinScale = cacheOnDemandMinScale);
            this.calculatedScale = calculatedScale;
        }
    }
    render() {
        const { ranges: _, i18n, toggleAutoCreation, handleBasemapChange, onUrlInputBlur, isProcessing, autoCreation, basemapType, basemapUrl, alertInfo, publishType, fromFeatureLayer } = this;
        // TODO: add _selectAttributesContainer for vector tiles
        // TODO: implement the rest of `_getItemAttr`
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-loader", { active: isProcessing }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "title" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: i18n.title, scale: "l" })), publishType === "tiles" && (!_config_75adf962_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal || !fromFeatureLayer) && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-switch-card", { defaultChecked: autoCreation, header: i18n.autoCreateOption.title, description: i18n.autoCreateOption.description, onSwitchChange: toggleAutoCreation }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "section-title" }, i18n.basemapOption), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical" }, _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_8__.f.map((option) => {
            const key = option === "custom" ? "customBasemap" : "onlineBasemapOption";
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { key: option, checked: option === basemapType, onCalciteTileSelectChange: () => handleBasemapChange(option), description: i18n[key].description, heading: i18n[key].title, name: option, "input-enabled": true, "input-alignment": "start", type: "radio", value: option, width: "full", id: `${option}-input-option` }));
        }))), basemapType === "custom" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "section-title" }, i18n.customBasemapUrl), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { scale: "m", disabled: isProcessing, value: basemapUrl, onCalciteInputInput: (e) => {
                this.basemapUrl = e.target.value;
                this.alertInfo = null;
            }, onBlur: onUrlInputBlur, placeholder: "https://webadaptorhost.domain.com/arcgis/rest/services/service/MapServer", ref: (ele) => (this.inputRef = ele) }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: alertInfo === null || alertInfo === void 0 ? void 0 : alertInfo.title, description: alertInfo === null || alertInfo === void 0 ? void 0 : alertInfo.description, active: !!alertInfo, onAlertDismiss: () => (this.alertInfo = null) })));
    }
    get el() { return (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
};
ArcgisNewItemPagesTileLayerSettings.style = arcgisNewItemPagesTileLayerSettingsCss;



//# sourceMappingURL=arcgis-new-item-pages-tile-layer-settings.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE),
/* harmony export */   T: () => (/* binding */ TILE_LAYER_SCALE_MIN),
/* harmony export */   a: () => (/* binding */ presetRasterTileCacheInfo),
/* harmony export */   b: () => (/* binding */ presetVectorTileImageInfo),
/* harmony export */   c: () => (/* binding */ presetRasterTileImageInfo),
/* harmony export */   d: () => (/* binding */ tileLayerTypes),
/* harmony export */   e: () => (/* binding */ TILE_LAYER_SCALE_MAX),
/* harmony export */   f: () => (/* binding */ tileLayerBasemaps),
/* harmony export */   g: () => (/* binding */ presetLods),
/* harmony export */   p: () => (/* binding */ presetVectorTileCacheInfo),
/* harmony export */   t: () => (/* binding */ tilesLayer3dTilesLayerTypes)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const tileLayerBasemaps = ["standard", "custom"];
const tilesLayer3dTilesLayerTypes = ["IntegratedMesh", "3DObject"];
const DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE = tilesLayer3dTilesLayerTypes[0];
const tileLayerTypes = ["vector", "raster", "3dTiles"];
// TODO: switch this back once the SettingTileLayer supports this number
// export const TILE_LAYER_SCALE_MIN = 591657527.591555;
const TILE_LAYER_SCALE_MIN = 147914382;
const TILE_LAYER_SCALE_MAX = 0;
const presetLods = [
    { level: 0, label: "1:591,657,528", scale: 591657527.591555 },
    { level: 1, label: "1:295,828,764", scale: 295828763.795777 },
    { level: 2, label: "1:147,914,382", scale: 147914381.897889 },
    { level: 3, label: "1:73,957,191", scale: 73957190.948944 },
    { level: 4, label: "1:36,978,595", scale: 36978595.474472 },
    { level: 5, label: "1:18,489,298", scale: 18489297.737236 },
    { level: 6, label: "1:9,244,649", scale: 9244648.868618 },
    { level: 7, label: "1:4,622,324", scale: 4622324.434309 },
    { level: 8, label: "1:2,311,162", scale: 2311162.217155 },
    { level: 9, label: "1:1,155,581", scale: 1155581.108577 },
    { level: 10, label: "1:577,791", scale: 577790.554289 },
    { level: 11, label: "1:288,895", scale: 288895.277144 },
    { level: 12, label: "1:144,448", scale: 144447.638572 },
    { level: 13, label: "1:72,224", scale: 72223.819286 },
    { level: 14, label: "1:36,112", scale: 36111.909643 },
    { level: 15, label: "1:18,056", scale: 18055.954822 },
    { level: 16, label: "1:9,028", scale: 9027.977411 },
    { level: 17, label: "1:4,514", scale: 4513.988705 },
    { level: 18, label: "1:2,257", scale: 2256.994353 },
    { level: 19, label: "1:1,128", scale: 1128.497176 },
    { level: 20, label: "1:564", scale: 564.248588 },
    { level: 21, label: "1:282", scale: 282.124294 },
    { level: 22, label: "1:141", scale: 141.062147 }
];
const presetRasterTileCacheInfo = {
    spatialReference: { wkid: 102100, latestWkid: 3857 },
    origin: { x: -20037508.342787, y: 20037508.342787 },
    rows: 256,
    cols: 256,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 156543.033928, scale: 591657527.591555 },
        { level: 1, resolution: 78271.5169639999, scale: 295828763.795777 },
        { level: 2, resolution: 39135.7584820001, scale: 147914381.897889 },
        { level: 3, resolution: 19567.8792409999, scale: 73957190.948944 },
        { level: 4, resolution: 9783.93962049996, scale: 36978595.474472 },
        { level: 5, resolution: 4891.96981024998, scale: 18489297.737236 },
        { level: 6, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 7, resolution: 1222.99245256249, scale: 4622324.434309 },
        { level: 8, resolution: 611.49622628138, scale: 2311162.217155 },
        { level: 9, resolution: 305.748113140558, scale: 1155581.108577 },
        { level: 10, resolution: 152.874056570411, scale: 577790.554289 },
        { level: 11, resolution: 76.4370282850732, scale: 288895.277144 },
        { level: 12, resolution: 38.2185141425366, scale: 144447.638572 },
        { level: 13, resolution: 19.1092570712683, scale: 72223.819286 },
        { level: 14, resolution: 9.55462853563415, scale: 36111.909643 },
        { level: 15, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 16, resolution: 2.38865713397468, scale: 9027.977411 },
        { level: 17, resolution: 1.19432856685505, scale: 4513.988705 },
        { level: 18, resolution: 0.597164283559817, scale: 2256.994353 },
        { level: 19, resolution: 0.298582141647617, scale: 1128.497176 },
        { level: 20, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 21, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 22, resolution: 0.03732276770595208, scale: 141.062147 }
    ]
};
const presetVectorTileCacheInfo = {
    spatialReference: {
        wkid: 102100,
        latestWkid: 3857
    },
    origin: {
        x: -2.0037508342787e7,
        y: 2.0037508342787e7
    },
    rows: 512,
    cols: 512,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 78271.51696399994, scale: 2.95828763795777e8 },
        { level: 1, resolution: 39135.75848200009, scale: 1.47914381897889e8 },
        { level: 2, resolution: 19567.87924099992, scale: 7.3957190948944e7 },
        { level: 3, resolution: 9783.93962049996, scale: 3.6978595474472e7 },
        { level: 4, resolution: 4891.96981024998, scale: 1.8489297737236e7 },
        { level: 5, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 6, resolution: 1222.992452562495, scale: 4622324.434309 },
        { level: 7, resolution: 611.4962262813797, scale: 2311162.217155 },
        { level: 8, resolution: 305.74811314055756, scale: 1155581.108577 },
        { level: 9, resolution: 152.87405657041106, scale: 577790.554289 },
        { level: 10, resolution: 76.43702828507324, scale: 288895.277144 },
        { level: 11, resolution: 38.21851414253662, scale: 144447.638572 },
        { level: 12, resolution: 19.10925707126831, scale: 72223.819286 },
        { level: 13, resolution: 9.554628535634155, scale: 36111.909643 },
        { level: 14, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 15, resolution: 2.388657133974685, scale: 9027.977411 },
        { level: 16, resolution: 1.1943285668550503, scale: 4513.988705 },
        { level: 17, resolution: 0.5971642835598172, scale: 2256.994353 },
        { level: 18, resolution: 0.29858214164761665, scale: 1128.497176 },
        { level: 19, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 20, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 21, resolution: 0.03732276770595208, scale: 141.062147 },
        { level: 22, resolution: 0.01866138385297604, scale: 70.5310735 },
        { level: 23, resolution: 0.0093306919293428040466217365, scale: 35.265536760789715032412079626 }
    ]
};
const presetVectorTileImageInfo = {
    format: "indexedVector",
    compressionQuality: 0,
    antialiasing: false
};
const presetRasterTileImageInfo = {
    format: "PNG32",
    compressionQuality: 0,
    antialiasing: true
};



//# sourceMappingURL=tile-layer-cf04fa97.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWM4N2ZlZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNkc7QUFDbEQ7QUFDSDtBQUNpQjtBQUNDO0FBQ29GO0FBQ25HO0FBQ047QUFDb0g7QUFDdEk7QUFDUjtBQUNPO0FBQ0w7QUFDUTtBQUNUO0FBQ0s7QUFDRjtBQUNIO0FBQ0M7QUFDRjtBQUNHO0FBQ0g7QUFDQztBQUNPO0FBQ1A7QUFDTTtBQUNBO0FBQ0c7QUFDVjtBQUNBO0FBQ0k7QUFDSDtBQUNDOztBQUU3Qix1REFBdUQscUJBQXFCLFNBQVMsbUJBQW1CLGVBQWUsZUFBZSxnQkFBZ0Isc0JBQXNCLGVBQWUsYUFBYSxtQkFBbUIsZUFBZSxrQkFBa0I7O0FBRTVQO0FBQ0E7QUFDQSxRQUFRLHFEQUFnQjtBQUN4QixpQ0FBaUMscURBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNEQUFvQjtBQUN6RDtBQUNBLHNCQUFzQixzREFBb0I7QUFDMUMsc0JBQXNCLHNEQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMEJBQTBCO0FBQ3hDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsbUNBQW1DO0FBQ2pELGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMEJBQTBCO0FBQ3hDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsaUNBQWlDO0FBQy9DLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMEJBQTBCO0FBQ3hDLGNBQWMsMEJBQTBCO0FBQ3hDLGNBQWMsa0NBQWtDO0FBQ2hELGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0IsUUFBUSwwREFBZ0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2TEFBNkw7QUFDN007QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUIsRUFBRSwwREFBeUI7QUFDNUQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQywwQkFBMEIsb0RBQVk7QUFDdEMsU0FBUyxFQUFFLGtEQUFXO0FBQ3RCLFFBQVEsb0RBQVk7QUFDcEIsUUFBUSxvREFBWTtBQUNwQixRQUFRLG9EQUFZO0FBQ3BCLFFBQVEsb0RBQVk7QUFDcEIsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG9EQUFZO0FBQzVDLDJCQUEyQixvREFBWTtBQUN2QyxvQkFBb0IsOENBQVk7QUFDaEMsZ0NBQWdDLDhDQUFZO0FBQzVDLGtDQUFrQyxvREFBWTtBQUM5QywwQkFBMEIsb0RBQVk7QUFDdEMsaUNBQWlDLG9EQUFZO0FBQzdDO0FBQ0EsUUFBUSxvREFBWTtBQUNwQixzQkFBc0Isb0RBQVk7QUFDbEM7QUFDQTtBQUNBLG9EQUFvRCxFQUFFLG9EQUFZLGtCQUFrQixJQUFJLG9EQUFZLFlBQVksb0RBQVksb0JBQW9CLG9EQUFZLGFBQWEsMkRBQW1CLE9BQU87QUFDbk0sWUFBWSxvREFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQVksbUJBQW1CLG9EQUFZO0FBQ25ELFFBQVEsMkRBQW1CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFZO0FBQ3JDLHlCQUF5QixvREFBWTtBQUNyQyw4QkFBOEIsb0RBQVk7QUFDMUMsa0JBQWtCLGtEQUFXLHFCQUFxQixvREFBWTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNkRBQXNCLE1BQU0sc0RBQWMsQ0FBQyxrREFBVztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNEQUFvQjtBQUM5QywwQkFBMEIsc0RBQW9CO0FBQzlDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQXlCLGdDQUFnQyxrREFBVztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUE4RDtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5Q0FBeUMsUUFBUSwwREFBc0IsMkxBQTJMLHNEQUF5QjtBQUMzUztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEtBQTBLO0FBQzFMO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUMsQ0FBQyxpREFBSSxRQUFRLHFEQUFDLDZCQUE2QixzQkFBc0IsR0FBRyxxREFBQyxVQUFVLGdCQUFnQixFQUFFLHFEQUFDLGtDQUFrQyxnQ0FBZ0MsaUNBQWlDLGtEQUFXLDJDQUEyQyxxREFBQyxVQUFVLGtCQUFrQixFQUFFLHFEQUFDLGtDQUFrQyx1SkFBdUosS0FBSyxxREFBQyxVQUFVLGtCQUFrQixFQUFFLHFEQUFDLFFBQVEsd0JBQXdCLHVCQUF1QixxREFBQyxnQ0FBZ0Msb0JBQW9CLEVBQUUsc0RBQWlCO0FBQ3pvQjtBQUNBLG9CQUFvQixxREFBQywwQkFBMEIsK1JBQStSLE9BQU8sZ0JBQWdCO0FBQ3JXLFNBQVMsa0NBQWtDLHFEQUFDLFVBQVUsa0JBQWtCLEVBQUUscURBQUMsUUFBUSx3QkFBd0IsMEJBQTBCLHFEQUFDLG9CQUFvQjtBQUMxSjtBQUNBO0FBQ0EsYUFBYSx3SkFBd0osS0FBSyxxREFBQyw0QkFBNEIsOE9BQThPO0FBQ3JiO0FBQ0EsZUFBZSxPQUFPLHFEQUFVO0FBQ2hDO0FBQ0E7O0FBRTRGOztBQUU1Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdlRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwyREFBMkQ7QUFDakUsTUFBTSwyREFBMkQ7QUFDakUsTUFBTSwyREFBMkQ7QUFDakUsTUFBTSx5REFBeUQ7QUFDL0QsTUFBTSx5REFBeUQ7QUFDL0QsTUFBTSx5REFBeUQ7QUFDL0QsTUFBTSx1REFBdUQ7QUFDN0QsTUFBTSx1REFBdUQ7QUFDN0QsTUFBTSx1REFBdUQ7QUFDN0QsTUFBTSx1REFBdUQ7QUFDN0QsTUFBTSxxREFBcUQ7QUFDM0QsTUFBTSxxREFBcUQ7QUFDM0QsTUFBTSxxREFBcUQ7QUFDM0QsTUFBTSxtREFBbUQ7QUFDekQsTUFBTSxtREFBbUQ7QUFDekQsTUFBTSxtREFBbUQ7QUFDekQsTUFBTSxpREFBaUQ7QUFDdkQsTUFBTSxpREFBaUQ7QUFDdkQsTUFBTSxpREFBaUQ7QUFDdkQsTUFBTSxpREFBaUQ7QUFDdkQsTUFBTSw4Q0FBOEM7QUFDcEQsTUFBTSw4Q0FBOEM7QUFDcEQsTUFBTTtBQUNOO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hELGNBQWMseUNBQXlDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLGlFQUFpRTtBQUMzRSxVQUFVLGlFQUFpRTtBQUMzRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLDZEQUE2RDtBQUN2RSxVQUFVLDZEQUE2RDtBQUN2RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvRUFBb0U7QUFDOUUsVUFBVSxvRUFBb0U7QUFDOUUsVUFBVSxtRUFBbUU7QUFDN0UsVUFBVSxrRUFBa0U7QUFDNUUsVUFBVSxrRUFBa0U7QUFDNUUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSxpRUFBaUU7QUFDM0UsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSw4REFBOEQ7QUFDeEUsVUFBVSw4REFBOEQ7QUFDeEUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSxnRUFBZ0U7QUFDMUUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVSwrREFBK0Q7QUFDekUsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNlU7O0FBRTdVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLW5ldy1pdGVtLXBhZ2VzLXRpbGUtbGF5ZXItc2V0dGluZ3MuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGlsZS1sYXllci1jZjA0ZmE5Ny5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LWUzYmY3ZGE3LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0UmVzdEJhc2VVcmwgfSBmcm9tICcuL3BvcnRhbC1kNTE4YjU3MS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbmZpZ1N0YXRlIH0gZnJvbSAnLi9jb25maWctNzVhZGY5NjIuanMnO1xuaW1wb3J0IHsgaSBhcyBpdGVtUHJvcGVydGllc1N0YXRlIH0gZnJvbSAnLi9pdGVtLXByb3BlcnRpZXMtMTA0OTFiMmUuanMnO1xuaW1wb3J0IHsgcSBhcyBnZXRTZXJ2aWNlQW5kTGF5ZXJJbmZvIH0gZnJvbSAnLi9mZWF0dXJlLWxheWVyLTU3M2JiNDczLmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0VGlsZUxheWVySW5mbywgZCBhcyBnZXRQdWJsaXNoVGlsZUxheWVyUGFyYW1zLCBlIGFzIGdldFN1Z2dlc3RlZFNjYWxlUmFuZ2UsIGggYXMgY2hlY2tUaWxlc09uRGVtYW5kU3VwcG9ydCB9IGZyb20gJy4vdGlsZS1sYXllci04YTdiOTNkZS5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tZGJiZTJmNTcuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWJjYTdiY2QxLmpzJztcbmltcG9ydCB7IFQgYXMgVElMRV9MQVlFUl9TQ0FMRV9NSU4sIGUgYXMgVElMRV9MQVlFUl9TQ0FMRV9NQVgsIGYgYXMgdGlsZUxheWVyQmFzZW1hcHMsIGcgYXMgcHJlc2V0TG9kcywgYSBhcyBwcmVzZXRSYXN0ZXJUaWxlQ2FjaGVJbmZvIH0gZnJvbSAnLi90aWxlLWxheWVyLWNmMDRmYTk3LmpzJztcbmltcG9ydCAnLi9sb2FkTW9kdWxlcy1iNGFjMTI0Ny5qcyc7XG5pbXBvcnQgJy4vdXJsLTRjM2FlNTRjLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLTQ0ZGU4ZmNmLmpzJztcbmltcG9ydCAnLi9pbmRleC0wNTk1NmNhYi5qcyc7XG5pbXBvcnQgJy4vZmVhdHVyZS1sYXllci03OWZiMzAyYy5qcyc7XG5pbXBvcnQgJy4vZ3VpZC1hZWFlZDg0ZC5qcyc7XG5pbXBvcnQgJy4vdGh1bWJuYWlsLWJjYjg5ZTY5LmpzJztcbmltcG9ydCAnLi9zZXJ2aWNlLThjMmM0MjQxLmpzJztcbmltcG9ydCAnLi91c2VyLTNlYTY5YzNhLmpzJztcbmltcG9ydCAnLi9xdWVyeS1kNjI2NjBkNC5qcyc7XG5pbXBvcnQgJy4vYXBpLTJlM2ExMzZmLmpzJztcbmltcG9ydCAnLi9zdHJpbmctNThhNWZlZjMuanMnO1xuaW1wb3J0ICcuL2RvbS00ZDM2NzY3Ny5qcyc7XG5pbXBvcnQgJy4vaXRlbS1jNThmZmNlZC5qcyc7XG5pbXBvcnQgJy4vc2VydmVyLWl0ZW0tOGQzODQ3OTYuanMnO1xuaW1wb3J0ICcuL2l0ZW0tMzUzNTU1MmQuanMnO1xuaW1wb3J0ICcuL2Z1bmN0aW9uYWwtODEzNzNmNmQuanMnO1xuaW1wb3J0ICcuL2l0ZW0tdHlwZXMtMjAyOWIwNmIuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItMTdiNjQ5NDYuanMnO1xuaW1wb3J0ICcuL2Fncy1lYjQ1OGEwMy5qcyc7XG5pbXBvcnQgJy4vdXJsLTM1ODc1YTEwLmpzJztcbmltcG9ydCAnLi9zdG9yYWdlLTAzNTNhNzY5LmpzJztcbmltcG9ydCAnLi9maWxlLWJmOGFiOTBmLmpzJztcbmltcG9ydCAnLi9zdG9yZS02YTg4ZTZjNS5qcyc7XG5cbmNvbnN0IGFyY2dpc05ld0l0ZW1QYWdlc1RpbGVMYXllclNldHRpbmdzQ3NzID0gXCIudGl0bGV7bWFyZ2luLWJvdHRvbToxLjVyZW19LnNlY3Rpb257bWFyZ2luLWJvdHRvbToycmVtfS5zZWN0aW9uLXRpdGxle2ZvbnQtc2l6ZToxcmVtO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW4tYm90dG9tOjAuMjVyZW07bWFyZ2luLXRvcDowcHh9LmRlc2NyaXB0aW9ue21hcmdpbi1ib3R0b206MXJlbTttYXJnaW4tdG9wOjBweDtmb250LXNpemU6MC43NXJlbX1cIjtcblxuY29uc3QgQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3MgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXdJdGVtVXBkYXRlUGFnZVwiLCA3KTtcbiAgICAgICAgLy8gLS0tIE1haW4gZmxvdyBjb250cm9sbGVyXG4gICAgICAgIHRoaXMucHVibGlzaFR5cGUgPSBcInRpbGVzXCI7XG4gICAgICAgIC8vIC0tLSBEYXRhXG4gICAgICAgIHRoaXMuYXV0b0NyZWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iYXNlbWFwVXJsID0gXCJcIjtcbiAgICAgICAgdGhpcy5mZWF0dXJlTGF5ZXJJbmZvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmVhdHVyZUxheWVyTGF5ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXJ2aWNlSW5mbyA9IG51bGw7XG4gICAgICAgIC8qIEZvciBhdXRvIGNyZWF0aW9uIG9wdGlvbiAqL1xuICAgICAgICB0aGlzLmNhY2hlT25EZW1hbmRNaW5TY2FsZSA9IFRJTEVfTEFZRVJfU0NBTEVfTUlOO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZWRTY2FsZSA9IHtcbiAgICAgICAgICAgIG1pblNjYWxlOiBUSUxFX0xBWUVSX1NDQUxFX01JTixcbiAgICAgICAgICAgIG1heFNjYWxlOiBUSUxFX0xBWUVSX1NDQUxFX01BWFxuICAgICAgICB9O1xuICAgICAgICAvKiogVXNlZCB0byBwcmV2ZW50IHJlLWZldGNoaW5nIHdoZW5ldmVyIHRoZSB1c2VyIHN3aXRjaCBiYXNlTWFwVHlwZSAqL1xuICAgICAgICB0aGlzLmN1ckxvZHMgPSBbXTtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXG4gICAgICAgICAgICB7IGxldmVsOiAwLCBsYWJlbDogXCJ3b3JsZFwiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxLCBsYWJlbDogXCJjb250aW5lbnRcIiB9LFxuICAgICAgICAgICAgeyBsZXZlbDogMiwgbGFiZWw6IFwiY291bnRyaWVzXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDMsIGxhYmVsOiBcImNvdW50cmllc1NtYWxsXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDQsIGxhYmVsOiBcInN0YXRlc1wiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiA1LCBsYWJlbDogXCJzdGF0ZVwiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiA2LCBsYWJlbDogXCJjb3VudGllc1wiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiA3LCBsYWJlbDogXCJjb3VudHlcIiB9LFxuICAgICAgICAgICAgeyBsZXZlbDogOCwgbGFiZWw6IFwibWV0cm9wb2xpdGFuXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDksIGxhYmVsOiBcImNpdGllc1wiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxMCwgbGFiZWw6IFwiY2l0eVwiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxMSwgbGFiZWw6IFwidG93blwiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxMiwgbGFiZWw6IFwibmVpZ2hib3Job29kXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDEzLCBsYWJlbDogXCJzdHJlZXRzXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDE0LCBsYWJlbDogXCJzdHJlZXRcIiB9LFxuICAgICAgICAgICAgeyBsZXZlbDogMTUsIGxhYmVsOiBcImJ1aWxkaW5nc1wiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxNiwgbGFiZWw6IFwiYnVpbGRpbmdcIiB9LFxuICAgICAgICAgICAgeyBsZXZlbDogMTcsIGxhYmVsOiBcInNtYWxsXCIgfSxcbiAgICAgICAgICAgIHsgbGV2ZWw6IDE4LCBsYWJlbDogXCJyb29tc1wiIH0sXG4gICAgICAgICAgICB7IGxldmVsOiAxOSwgbGFiZWw6IFwicm9vbVwiIH1cbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy50aWxlTGF5ZXJJbmZvID0gbnVsbDtcbiAgICAgICAgLy8gLS0tIFVJXG4gICAgICAgIHRoaXMuaGFuZGxlVXJsSW5wdXRFcnJvciA9IChlcnJTdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHRoaXMuaTE4bjtcbiAgICAgICAgICAgIHRoaXMuYWxlcnRJbmZvID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBlcnJTdHJpbmcgPT09IFwiaW52YWxpZFVybFwiID8gdGhpcy5pbnZhbGlkVXJsU3RyaW5nIDogZXJyb3IudXJsRXJyb3JUaXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyU3RyaW5nID09PSBcImludmFsaWRVcmxcIiA/IHVuZGVmaW5lZCA6IGVycm9yW2VyclN0cmluZ11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIC0tLSBGdW5jdGlvbmFsaXR5XG4gICAgICAgIHRoaXMuZ2V0UHVibGlzaFR5cGVJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBwdWJsaXNoVHlwZSB9ID0gdGhpcztcbiAgICAgICAgICAgIHN3aXRjaCAocHVibGlzaFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGlsZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWFwc2VydmVyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjZW5lc1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzY2VuZXNlcnZlclwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmZWF0dXJlc1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJmZWF0dXJlc2VydmVyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZlY3RvclRpbGVzXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInZlY3RvcnRpbGVzZXJ2ZXJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGlsZWRJbWFnZXJ5XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImR5bmFtaWNJbWFnZXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImltYWdlc2VydmVyXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1Ymxpc2hUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRvZ2dsZUF1dG9DcmVhdGlvbiA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmF1dG9DcmVhdGlvbiA9IGUuZGV0YWlsO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUJhc2VtYXBDaGFuZ2UgPSAoYmFzZW1hcCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyB0aWxlTGF5ZXJJbmZvLCBjdXJMb2RzIH0gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5iYXNlbWFwVHlwZSA9IGJhc2VtYXA7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVOZXdMb2RzID0gKG5ld0xvZHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NhbWVMb2RzID0gbmV3TG9kcy5sZW5ndGggPT09IGN1ckxvZHMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld0xvZHMuZXZlcnkoKGxvZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ckxvZCA9IGN1ckxvZHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsb2QubGV2ZWwgPT09IGN1ckxvZC5sZXZlbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZC5yZXNvbHV0aW9uID09PSBjdXJMb2QucmVzb2x1dGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZC5zY2FsZSA9PT0gY3VyTG9kLnNjYWxlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9kLmxhYmVsID09PSBjdXJMb2QubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU2FtZUxvZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJMb2RzID0gbmV3TG9kcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgdXNlckRlZmluZWRMb2RzID0gKF9hID0gdGlsZUxheWVySW5mbyA9PT0gbnVsbCB8fCB0aWxlTGF5ZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aWxlTGF5ZXJJbmZvLmluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2RzO1xuICAgICAgICAgICAgaWYgKGJhc2VtYXAgPT09IFwic3RhbmRhcmRcIikge1xuICAgICAgICAgICAgICAgIGhhbmRsZU5ld0xvZHMocHJlc2V0TG9kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1c2VyRGVmaW5lZExvZHMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOZXdMb2RzKHVzZXJEZWZpbmVkTG9kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hUaWxlTGF5ZXJJbmZvID0gYXN5bmMgKHVybCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hbGVydEluZm8gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy50aWxlTGF5ZXJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IsIHJlc3VsdCB9ID0gYXdhaXQgZ2V0VGlsZUxheWVySW5mbyh1cmwsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVXJsSW5wdXRFcnJvcihlcnJvci5jb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZUxheWVySW5mbyA9IHsgdXJsLCBpbmZvOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gIWVycm9yO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVXJsSW5wdXRCbHVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB0aWxlTGF5ZXJJbmZvLCBiYXNlbWFwVXJsIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFiYXNlbWFwVXJsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlTGF5ZXJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VtYXBVcmwgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGlsZUxheWVySW5mbyA9PT0gbnVsbCB8fCB0aWxlTGF5ZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aWxlTGF5ZXJJbmZvLnVybCkgPT09IGJhc2VtYXBVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBwb2ludCBpbiByZS1mZXRjaGluZyB0aGUgc2FtZSBpbmZvXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mZXRjaFRpbGVMYXllckluZm8oYmFzZW1hcFVybCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWxlcnRJbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dJbmNyZWFzZVNjYWxlUmFuZ2VXYXJuaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJhc2VtYXBUeXBlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVOZXh0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwiM2RUaWxlc1wiKSB7XG4gICAgICAgICAgICAvLyAzRCBUaWxlcyBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmbG93XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwdWJsaXNoVHlwZSwgc2VydmljZUluZm86IF8sIGF1dG9DcmVhdGlvbiwgY2FjaGVPbkRlbWFuZE1pblNjYWxlLCBjYWxjdWxhdGVkU2NhbGUsIHRpbGVMYXllckluZm8sIHNlbGVjdGVkSXRlbSwgYmFzZW1hcFR5cGUsIGJhc2VtYXBVcmwsIGlucHV0UmVmLCBoYW5kbGVVcmxJbnB1dEVycm9yLCBmZXRjaFRpbGVMYXllckluZm8gfSA9IHRoaXM7XG4gICAgICAgIGlmIChiYXNlbWFwVHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgaWYgKCFiYXNlbWFwVXJsKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVXJsSW5wdXRFcnJvcihcImludmFsaWRVcmxcIik7XG4gICAgICAgICAgICAgICAgaW5wdXRSZWYuc2V0Rm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRpbGVMYXllckluZm8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgZmV0Y2hUaWxlTGF5ZXJJbmZvKGJhc2VtYXBVcmwpO1xuICAgICAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFJlZi5zZXRGb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgcHVibGlzaENvbnRlbnQgfSA9IGdldFB1Ymxpc2hUaWxlTGF5ZXJQYXJhbXMoe1xuICAgICAgICAgICAgaWQ6IHNlbGVjdGVkSXRlbS5pZCxcbiAgICAgICAgICAgIHRpdGxlOiBzZWxlY3RlZEl0ZW0udGl0bGVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgcHVibGlzaFR5cGUsXG4gICAgICAgICAgICBjYWNoZU9uRGVtYW5kOiBwdWJsaXNoVHlwZSAhPT0gXCJ2ZWN0b3JUaWxlc1wiICYmIGF1dG9DcmVhdGlvbixcbiAgICAgICAgICAgIGNhY2hlT25EZW1hbmRNaW5TY2FsZSxcbiAgICAgICAgICAgIHRpbGVJbmZvOiB0aWxlTGF5ZXJJbmZvID09PSBudWxsIHx8IHRpbGVMYXllckluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpbGVMYXllckluZm8uaW5mbyxcbiAgICAgICAgICAgIHNjYWxlOiBPYmplY3QuYXNzaWduKHt9LCBjYWxjdWxhdGVkU2NhbGUpLFxuICAgICAgICAgICAgbGF5ZXJzOiAoX2EgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxheWVyc1xuICAgICAgICB9LCBjb25maWdTdGF0ZS5wb3J0YWwuaXNQb3J0YWwpO1xuICAgICAgICBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaENvbnRlbnQgPSBwdWJsaXNoQ29udGVudDtcbiAgICAgICAgYWRkSXRlbVN0YXRlLnRpbGVBdXRvQ3JlYXRpb24gPSBhdXRvQ3JlYXRpb247XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJCYXNlbWFwVHlwZSA9IGJhc2VtYXBUeXBlO1xuICAgICAgICBhZGRJdGVtU3RhdGUudGlsZUxheWVyQmFzZW1hcFVybCA9IGJhc2VtYXBVcmw7XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJQdWJsaXNoVHlwZSA9IHB1Ymxpc2hUeXBlO1xuICAgICAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlLmVtaXQoXCJpdGVtUHJvcGVydGllc1wiKTtcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwiM2RUaWxlc1wiKSB7XG4gICAgICAgICAgICAvLyAzRCBUaWxlcyBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmbG93XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcm9tRmVhdHVyZUxheWVyID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllckZyb21GZWF0dXJlTGF5ZXI7XG4gICAgICAgIHRoaXMucHVibGlzaFR5cGUgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGU7XG4gICAgICAgIHRoaXMuaTE4biA9IHVpU3RvcmVTdGF0ZS5pMThuLnRpbGVMYXllclNldHRpbmdzO1xuICAgICAgICB0aGlzLmludmFsaWRVcmxTdHJpbmcgPSB1aVN0b3JlU3RhdGUuaTE4bi51cmwuaW52YWxpZFVybDtcbiAgICAgICAgdGhpcy5hdXRvQ3JlYXRpb24gPSAoX2EgPSBhZGRJdGVtU3RhdGUudGlsZUF1dG9DcmVhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5iYXNlbWFwVXJsID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllckJhc2VtYXBVcmw7XG4gICAgICAgIHRoaXMuYmFzZW1hcFR5cGUgPSAoX2IgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyQmFzZW1hcFR5cGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwic3RhbmRhcmRcIjtcbiAgICAgICAgLy8gUmVzZXQgcmVxdWVzdCBpdGVtXG4gICAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJQdWJsaXNoQ29udGVudCA9IG51bGw7XG4gICAgICAgIGxldCBjdXJJdGVtID0gYWRkSXRlbVN0YXRlLml0ZW07XG4gICAgICAgIGlmICghY3VySXRlbSkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgaXRlbSBpcyBwdWJsaXNoZWQgZnJvbSBpdGVtIGRldGFpbCBwYWdlXG4gICAgICAgICAgICBjdXJJdGVtID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhZGRJdGVtU3RhdGUuZXhpc3RpbmdJdGVtKSwgeyBpZDogYWRkSXRlbVN0YXRlLmlkLCB0aXRsZTogYWRkSXRlbVN0YXRlLnNvdXJjZVRpdGxlLCB0eXBlOiBhZGRJdGVtU3RhdGUudHlwZSwgdGFnczogaXRlbVByb3BlcnRpZXNTdGF0ZS50YWdzIH0pO1xuICAgICAgICAgICAgYWRkSXRlbVN0YXRlLml0ZW0gPSBjdXJJdGVtO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IGludGVncmF0ZSBmZWF0dXJlL3RpbGUgbGF5ZXIgcHVibGlzaCB0eXBlcyB3aXRoIG1haW4gSXRlbVR5cGUgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IHB1Ymxpc2hNYXAgPSB7XG4gICAgICAgICAgICB2ZWN0b3JUaWxlczogXCJWZWN0b3IgVGlsZSBTZXJ2aWNlXCIsXG4gICAgICAgICAgICB0aWxlczogXCJUaWxlIExheWVyXCIsXG4gICAgICAgICAgICBzY2VuZXM6IFwiU2NlbmUgU2VydmljZVwiXG4gICAgICAgIH07XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS50eXBlID0gcHVibGlzaE1hcFthZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGVdO1xuICAgICAgICBpdGVtUHJvcGVydGllc1N0YXRlLnRpdGxlID0gY3VySXRlbS50aXRsZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBjdXJJdGVtO1xuICAgICAgICBjb25zdCBwcm9jZXNzVGlsZURldGFpbCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwiM2RUaWxlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gM0QgVGlsZXMgZG9lc24ndCBzdXBwb3J0IHRoaXMgZmxvd1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGN1ckl0ZW0udXJsO1xuICAgICAgICAgICAgbGV0IGxheWVycyA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJMYXllcnM7XG4gICAgICAgICAgICBsZXQgdGFibGVzID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllclRhYmxlcztcbiAgICAgICAgICAgIGxldCBzZXJ2aWNlSW5mbyA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJTZXJ2aWNlSW5mbztcbiAgICAgICAgICAgIGlmICgoIWNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbCB8fCAhYWRkSXRlbVN0YXRlLnRpbGVMYXllckZyb21GZWF0dXJlTGF5ZXIpICYmXG4gICAgICAgICAgICAgICAgIWxheWVycyAmJlxuICAgICAgICAgICAgICAgICF0YWJsZXMgJiZcbiAgICAgICAgICAgICAgICAhc2VydmljZUluZm8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRTZXJ2aWNlQW5kTGF5ZXJJbmZvKHVybCwgZ2V0UmVzdEJhc2VVcmwoY29uZmlnU3RhdGUucG9ydGFsKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gcmVzdWx0LmxheWVycztcbiAgICAgICAgICAgICAgICB0YWJsZXMgPSByZXN1bHQudGFibGVzO1xuICAgICAgICAgICAgICAgIHNlcnZpY2VJbmZvID0gcmVzdWx0LnNlcnZpY2VJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlSW5mbyA9IHNlcnZpY2VJbmZvO1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlTGF5ZXJJbmZvcyA9IFsuLi4obGF5ZXJzIHx8IFtdKSwgLi4uKHRhYmxlcyB8fCBbXSldO1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlTGF5ZXJMYXllcnMgPSBbLi4uKGxheWVycyB8fCBbXSldO1xuICAgICAgICAgICAgLy8gVE9ETzogc3VwcG9ydCBzY2VuZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9XZWJHSVMvYXJjZ2lzLXBvcnRhbC1hcHAvYmxvYi9tYXN0ZXIvc3JjL2pzL2FyY2dpc29ubGluZS9zaGFyaW5nL2Rpaml0L2RpYWxvZy9QdWJsaXNoVGlsZVNlcnZpY2VEbGcuanMjTDM4Mi1MMzk0XG4gICAgICAgICAgICAvLyBodHRwczovL2RldnRvcGlhLmVzcmkuY29tL1dlYkdJUy9hcmNnaXMtcG9ydGFsLWFwcC9ibG9iL21hc3Rlci9zcmMvanMvYXJjZ2lzb25saW5lL3NoYXJpbmcvZGlqaXQvZGlhbG9nL1B1Ymxpc2hUaWxlU2VydmljZURsZy5qcyNMNDA0LUw0MDZcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlVGlsZUxheWVyU2NhbGVDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIG1pblNjYWxlOiBUSUxFX0xBWUVSX1NDQUxFX01JTixcbiAgICAgICAgICAgICAgICBtYXhTY2FsZTogVElMRV9MQVlFUl9TQ0FMRV9NQVhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHRpbGVzIG9uIGRlbWFuZCByZW5kZXJlciBzdXBwb3J0XG4gICAgICAgICAgICBpZiAodGhpcy5wdWJsaXNoVHlwZSA9PT0gXCJ0aWxlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZGlzYWJsZSBjYWNoZSBvbiBkZW1hbmQgYmFzZWQgb24gdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgIGNoZWNrVGlsZXNPbkRlbWFuZFN1cHBvcnQodGhpcy5mZWF0dXJlTGF5ZXJMYXllcnMsIChfYSA9IGNvbmZpZ1N0YXRlLmNvbmZpZy50aWxlc09uRGVtYW5kRW5hYmxlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXZvaWQgYmxvY2tpbmcgdGhlIHJlbmRlciB0aHJlYWQgd2l0aCBhd2FpdFxuICAgICAgICBwcm9jZXNzVGlsZURldGFpbCgpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUaWxlTGF5ZXJTY2FsZUNoYW5nZShjb25zdHJhaW50cykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB7IHNlbGVjdGVkSXRlbSwgZmVhdHVyZUxheWVySW5mb3MsIHRpbGVMYXllckluZm8sIHB1Ymxpc2hUeXBlIH0gPSB0aGlzO1xuICAgICAgICBpZiAocHVibGlzaFR5cGUgIT09IFwidGlsZXNcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1VcmwgPSBzZWxlY3RlZEl0ZW0udXJsO1xuICAgICAgICBjb25zdCB7IGNhY2hlT25EZW1hbmRNaW5TY2FsZSwgY2FsY3VsYXRlZFNjYWxlIH0gPSBhd2FpdCBnZXRTdWdnZXN0ZWRTY2FsZVJhbmdlKGNvbnN0cmFpbnRzLCAoX2IgPSAoX2EgPSB0aWxlTGF5ZXJJbmZvID09PSBudWxsIHx8IHRpbGVMYXllckluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpbGVMYXllckluZm8uaW5mbykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvZHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8ubG9kcywgZmVhdHVyZUxheWVySW5mb3MsIGl0ZW1VcmwpO1xuICAgICAgICBpZiAoaXRlbVVybCkge1xuICAgICAgICAgICAgY2FjaGVPbkRlbWFuZE1pblNjYWxlICYmICh0aGlzLmNhY2hlT25EZW1hbmRNaW5TY2FsZSA9IGNhY2hlT25EZW1hbmRNaW5TY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZWRTY2FsZSA9IGNhbGN1bGF0ZWRTY2FsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgcmFuZ2VzOiBfLCBpMThuLCB0b2dnbGVBdXRvQ3JlYXRpb24sIGhhbmRsZUJhc2VtYXBDaGFuZ2UsIG9uVXJsSW5wdXRCbHVyLCBpc1Byb2Nlc3NpbmcsIGF1dG9DcmVhdGlvbiwgYmFzZW1hcFR5cGUsIGJhc2VtYXBVcmwsIGFsZXJ0SW5mbywgcHVibGlzaFR5cGUsIGZyb21GZWF0dXJlTGF5ZXIgfSA9IHRoaXM7XG4gICAgICAgIC8vIFRPRE86IGFkZCBfc2VsZWN0QXR0cmlidXRlc0NvbnRhaW5lciBmb3IgdmVjdG9yIHRpbGVzXG4gICAgICAgIC8vIFRPRE86IGltcGxlbWVudCB0aGUgcmVzdCBvZiBgX2dldEl0ZW1BdHRyYFxuICAgICAgICByZXR1cm4gKGgoSG9zdCwgbnVsbCwgaChcImFyY2dpcy1uZXctaXRlbS1sb2FkZXJcIiwgeyBhY3RpdmU6IGlzUHJvY2Vzc2luZyB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInRpdGxlXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1kZXNjcmlwdGlvblwiLCB7IGhlYWRlcjogaTE4bi50aXRsZSwgc2NhbGU6IFwibFwiIH0pKSwgcHVibGlzaFR5cGUgPT09IFwidGlsZXNcIiAmJiAoIWNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbCB8fCAhZnJvbUZlYXR1cmVMYXllcikgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJzZWN0aW9uXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1zd2l0Y2gtY2FyZFwiLCB7IGRlZmF1bHRDaGVja2VkOiBhdXRvQ3JlYXRpb24sIGhlYWRlcjogaTE4bi5hdXRvQ3JlYXRlT3B0aW9uLnRpdGxlLCBkZXNjcmlwdGlvbjogaTE4bi5hdXRvQ3JlYXRlT3B0aW9uLmRlc2NyaXB0aW9uLCBvblN3aXRjaENoYW5nZTogdG9nZ2xlQXV0b0NyZWF0aW9uIH0pKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzZWN0aW9uXCIgfSwgaChcInBcIiwgeyBjbGFzczogXCJzZWN0aW9uLXRpdGxlXCIgfSwgaTE4bi5iYXNlbWFwT3B0aW9uKSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3QtZ3JvdXBcIiwgeyBsYXlvdXQ6IFwidmVydGljYWxcIiB9LCB0aWxlTGF5ZXJCYXNlbWFwcy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gb3B0aW9uID09PSBcImN1c3RvbVwiID8gXCJjdXN0b21CYXNlbWFwXCIgOiBcIm9ubGluZUJhc2VtYXBPcHRpb25cIjtcbiAgICAgICAgICAgIHJldHVybiAoaChcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgeyBrZXk6IG9wdGlvbiwgY2hlY2tlZDogb3B0aW9uID09PSBiYXNlbWFwVHlwZSwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKCkgPT4gaGFuZGxlQmFzZW1hcENoYW5nZShvcHRpb24pLCBkZXNjcmlwdGlvbjogaTE4bltrZXldLmRlc2NyaXB0aW9uLCBoZWFkaW5nOiBpMThuW2tleV0udGl0bGUsIG5hbWU6IG9wdGlvbiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIFwiaW5wdXQtYWxpZ25tZW50XCI6IFwic3RhcnRcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZTogb3B0aW9uLCB3aWR0aDogXCJmdWxsXCIsIGlkOiBgJHtvcHRpb259LWlucHV0LW9wdGlvbmAgfSkpO1xuICAgICAgICB9KSkpLCBiYXNlbWFwVHlwZSA9PT0gXCJjdXN0b21cIiAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInNlY3Rpb25cIiB9LCBoKFwicFwiLCB7IGNsYXNzOiBcInNlY3Rpb24tdGl0bGVcIiB9LCBpMThuLmN1c3RvbUJhc2VtYXBVcmwpLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IHNjYWxlOiBcIm1cIiwgZGlzYWJsZWQ6IGlzUHJvY2Vzc2luZywgdmFsdWU6IGJhc2VtYXBVcmwsIG9uQ2FsY2l0ZUlucHV0SW5wdXQ6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlbWFwVXJsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydEluZm8gPSBudWxsO1xuICAgICAgICAgICAgfSwgb25CbHVyOiBvblVybElucHV0Qmx1ciwgcGxhY2Vob2xkZXI6IFwiaHR0cHM6Ly93ZWJhZGFwdG9yaG9zdC5kb21haW4uY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL3NlcnZpY2UvTWFwU2VydmVyXCIsIHJlZjogKGVsZSkgPT4gKHRoaXMuaW5wdXRSZWYgPSBlbGUpIH0pKSksIGgoXCJhcmNnaXMtbmV3LWl0ZW0tYWxlcnRcIiwgeyBoZWFkaW5nOiBhbGVydEluZm8gPT09IG51bGwgfHwgYWxlcnRJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydEluZm8udGl0bGUsIGRlc2NyaXB0aW9uOiBhbGVydEluZm8gPT09IG51bGwgfHwgYWxlcnRJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydEluZm8uZGVzY3JpcHRpb24sIGFjdGl2ZTogISFhbGVydEluZm8sIG9uQWxlcnREaXNtaXNzOiAoKSA9PiAodGhpcy5hbGVydEluZm8gPSBudWxsKSB9KSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3Muc3R5bGUgPSBhcmNnaXNOZXdJdGVtUGFnZXNUaWxlTGF5ZXJTZXR0aW5nc0NzcztcblxuZXhwb3J0IHsgQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3MgYXMgYXJjZ2lzX25ld19pdGVtX3BhZ2VzX3RpbGVfbGF5ZXJfc2V0dGluZ3MgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzLW5ldy1pdGVtLXBhZ2VzLXRpbGUtbGF5ZXItc2V0dGluZ3MuZW50cnkuanMubWFwIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5jb25zdCB0aWxlTGF5ZXJCYXNlbWFwcyA9IFtcInN0YW5kYXJkXCIsIFwiY3VzdG9tXCJdO1xuY29uc3QgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzID0gW1wiSW50ZWdyYXRlZE1lc2hcIiwgXCIzRE9iamVjdFwiXTtcbmNvbnN0IERFRkFVTFRfVElMRV9MQVlFUl8zRF9USUxFU19MQVlFUl9UWVBFID0gdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzWzBdO1xuY29uc3QgdGlsZUxheWVyVHlwZXMgPSBbXCJ2ZWN0b3JcIiwgXCJyYXN0ZXJcIiwgXCIzZFRpbGVzXCJdO1xuLy8gVE9ETzogc3dpdGNoIHRoaXMgYmFjayBvbmNlIHRoZSBTZXR0aW5nVGlsZUxheWVyIHN1cHBvcnRzIHRoaXMgbnVtYmVyXG4vLyBleHBvcnQgY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NSU4gPSA1OTE2NTc1MjcuNTkxNTU1O1xuY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NSU4gPSAxNDc5MTQzODI7XG5jb25zdCBUSUxFX0xBWUVSX1NDQUxFX01BWCA9IDA7XG5jb25zdCBwcmVzZXRMb2RzID0gW1xuICAgIHsgbGV2ZWw6IDAsIGxhYmVsOiBcIjE6NTkxLDY1Nyw1MjhcIiwgc2NhbGU6IDU5MTY1NzUyNy41OTE1NTUgfSxcbiAgICB7IGxldmVsOiAxLCBsYWJlbDogXCIxOjI5NSw4MjgsNzY0XCIsIHNjYWxlOiAyOTU4Mjg3NjMuNzk1Nzc3IH0sXG4gICAgeyBsZXZlbDogMiwgbGFiZWw6IFwiMToxNDcsOTE0LDM4MlwiLCBzY2FsZTogMTQ3OTE0MzgxLjg5Nzg4OSB9LFxuICAgIHsgbGV2ZWw6IDMsIGxhYmVsOiBcIjE6NzMsOTU3LDE5MVwiLCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gICAgeyBsZXZlbDogNCwgbGFiZWw6IFwiMTozNiw5NzgsNTk1XCIsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgICB7IGxldmVsOiA1LCBsYWJlbDogXCIxOjE4LDQ4OSwyOThcIiwgc2NhbGU6IDE4NDg5Mjk3LjczNzIzNiB9LFxuICAgIHsgbGV2ZWw6IDYsIGxhYmVsOiBcIjE6OSwyNDQsNjQ5XCIsIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICAgIHsgbGV2ZWw6IDcsIGxhYmVsOiBcIjE6NCw2MjIsMzI0XCIsIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICAgIHsgbGV2ZWw6IDgsIGxhYmVsOiBcIjE6MiwzMTEsMTYyXCIsIHNjYWxlOiAyMzExMTYyLjIxNzE1NSB9LFxuICAgIHsgbGV2ZWw6IDksIGxhYmVsOiBcIjE6MSwxNTUsNTgxXCIsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgIHsgbGV2ZWw6IDEwLCBsYWJlbDogXCIxOjU3Nyw3OTFcIiwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICB7IGxldmVsOiAxMSwgbGFiZWw6IFwiMToyODgsODk1XCIsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgeyBsZXZlbDogMTIsIGxhYmVsOiBcIjE6MTQ0LDQ0OFwiLCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgIHsgbGV2ZWw6IDEzLCBsYWJlbDogXCIxOjcyLDIyNFwiLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gICAgeyBsZXZlbDogMTQsIGxhYmVsOiBcIjE6MzYsMTEyXCIsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICB7IGxldmVsOiAxNSwgbGFiZWw6IFwiMToxOCwwNTZcIiwgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgIHsgbGV2ZWw6IDE2LCBsYWJlbDogXCIxOjksMDI4XCIsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICAgIHsgbGV2ZWw6IDE3LCBsYWJlbDogXCIxOjQsNTE0XCIsIHNjYWxlOiA0NTEzLjk4ODcwNSB9LFxuICAgIHsgbGV2ZWw6IDE4LCBsYWJlbDogXCIxOjIsMjU3XCIsIHNjYWxlOiAyMjU2Ljk5NDM1MyB9LFxuICAgIHsgbGV2ZWw6IDE5LCBsYWJlbDogXCIxOjEsMTI4XCIsIHNjYWxlOiAxMTI4LjQ5NzE3NiB9LFxuICAgIHsgbGV2ZWw6IDIwLCBsYWJlbDogXCIxOjU2NFwiLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgIHsgbGV2ZWw6IDIxLCBsYWJlbDogXCIxOjI4MlwiLCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgIHsgbGV2ZWw6IDIyLCBsYWJlbDogXCIxOjE0MVwiLCBzY2FsZTogMTQxLjA2MjE0NyB9XG5dO1xuY29uc3QgcHJlc2V0UmFzdGVyVGlsZUNhY2hlSW5mbyA9IHtcbiAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDEwMjEwMCwgbGF0ZXN0V2tpZDogMzg1NyB9LFxuICAgIG9yaWdpbjogeyB4OiAtMjAwMzc1MDguMzQyNzg3LCB5OiAyMDAzNzUwOC4zNDI3ODcgfSxcbiAgICByb3dzOiAyNTYsXG4gICAgY29sczogMjU2LFxuICAgIGRwaTogOTYsXG4gICAgcHJlY2lzZURwaTogOTYsXG4gICAgbG9kczogW1xuICAgICAgICB7IGxldmVsOiAwLCByZXNvbHV0aW9uOiAxNTY1NDMuMDMzOTI4LCBzY2FsZTogNTkxNjU3NTI3LjU5MTU1NSB9LFxuICAgICAgICB7IGxldmVsOiAxLCByZXNvbHV0aW9uOiA3ODI3MS41MTY5NjM5OTk5LCBzY2FsZTogMjk1ODI4NzYzLjc5NTc3NyB9LFxuICAgICAgICB7IGxldmVsOiAyLCByZXNvbHV0aW9uOiAzOTEzNS43NTg0ODIwMDAxLCBzY2FsZTogMTQ3OTE0MzgxLjg5Nzg4OSB9LFxuICAgICAgICB7IGxldmVsOiAzLCByZXNvbHV0aW9uOiAxOTU2Ny44NzkyNDA5OTk5LCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDQsIHJlc29sdXRpb246IDk3ODMuOTM5NjIwNDk5OTYsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgICAgICAgeyBsZXZlbDogNSwgcmVzb2x1dGlvbjogNDg5MS45Njk4MTAyNDk5OCwgc2NhbGU6IDE4NDg5Mjk3LjczNzIzNiB9LFxuICAgICAgICB7IGxldmVsOiA2LCByZXNvbHV0aW9uOiAyNDQ1Ljk4NDkwNTEyNDk5LCBzY2FsZTogOTI0NDY0OC44Njg2MTggfSxcbiAgICAgICAgeyBsZXZlbDogNywgcmVzb2x1dGlvbjogMTIyMi45OTI0NTI1NjI0OSwgc2NhbGU6IDQ2MjIzMjQuNDM0MzA5IH0sXG4gICAgICAgIHsgbGV2ZWw6IDgsIHJlc29sdXRpb246IDYxMS40OTYyMjYyODEzOCwgc2NhbGU6IDIzMTExNjIuMjE3MTU1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDksIHJlc29sdXRpb246IDMwNS43NDgxMTMxNDA1NTgsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgICAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogMTUyLjg3NDA1NjU3MDQxMSwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICAgICAgeyBsZXZlbDogMTEsIHJlc29sdXRpb246IDc2LjQzNzAyODI4NTA3MzIsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDEyLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2LCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgICAgICB7IGxldmVsOiAxMywgcmVzb2x1dGlvbjogMTkuMTA5MjU3MDcxMjY4Mywgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgICAgICB7IGxldmVsOiAxNCwgcmVzb2x1dGlvbjogOS41NTQ2Mjg1MzU2MzQxNSwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICAgICAgICB7IGxldmVsOiAxNSwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgICAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMi4zODg2NTcxMzM5NzQ2OCwgc2NhbGU6IDkwMjcuOTc3NDExIH0sXG4gICAgICAgIHsgbGV2ZWw6IDE3LCByZXNvbHV0aW9uOiAxLjE5NDMyODU2Njg1NTA1LCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICAgICAgeyBsZXZlbDogMTgsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3LCBzY2FsZTogMjI1Ni45OTQzNTMgfSxcbiAgICAgICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMjk4NTgyMTQxNjQ3NjE3LCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICAgICAgeyBsZXZlbDogMjAsIHJlc29sdXRpb246IDAuMTQ5MjkxMDcwODIzODA4MzMsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIxLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgICAgICB7IGxldmVsOiAyMiwgcmVzb2x1dGlvbjogMC4wMzczMjI3Njc3MDU5NTIwOCwgc2NhbGU6IDE0MS4wNjIxNDcgfVxuICAgIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlQ2FjaGVJbmZvID0ge1xuICAgIHNwYXRpYWxSZWZlcmVuY2U6IHtcbiAgICAgICAgd2tpZDogMTAyMTAwLFxuICAgICAgICBsYXRlc3RXa2lkOiAzODU3XG4gICAgfSxcbiAgICBvcmlnaW46IHtcbiAgICAgICAgeDogLTIuMDAzNzUwODM0Mjc4N2U3LFxuICAgICAgICB5OiAyLjAwMzc1MDgzNDI3ODdlN1xuICAgIH0sXG4gICAgcm93czogNTEyLFxuICAgIGNvbHM6IDUxMixcbiAgICBkcGk6IDk2LFxuICAgIHByZWNpc2VEcGk6IDk2LFxuICAgIGxvZHM6IFtcbiAgICAgICAgeyBsZXZlbDogMCwgcmVzb2x1dGlvbjogNzgyNzEuNTE2OTYzOTk5OTQsIHNjYWxlOiAyLjk1ODI4NzYzNzk1Nzc3ZTggfSxcbiAgICAgICAgeyBsZXZlbDogMSwgcmVzb2x1dGlvbjogMzkxMzUuNzU4NDgyMDAwMDksIHNjYWxlOiAxLjQ3OTE0MzgxODk3ODg5ZTggfSxcbiAgICAgICAgeyBsZXZlbDogMiwgcmVzb2x1dGlvbjogMTk1NjcuODc5MjQwOTk5OTIsIHNjYWxlOiA3LjM5NTcxOTA5NDg5NDRlNyB9LFxuICAgICAgICB7IGxldmVsOiAzLCByZXNvbHV0aW9uOiA5NzgzLjkzOTYyMDQ5OTk2LCBzY2FsZTogMy42OTc4NTk1NDc0NDcyZTcgfSxcbiAgICAgICAgeyBsZXZlbDogNCwgcmVzb2x1dGlvbjogNDg5MS45Njk4MTAyNDk5OCwgc2NhbGU6IDEuODQ4OTI5NzczNzIzNmU3IH0sXG4gICAgICAgIHsgbGV2ZWw6IDUsIHJlc29sdXRpb246IDI0NDUuOTg0OTA1MTI0OTksIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICAgICAgICB7IGxldmVsOiA2LCByZXNvbHV0aW9uOiAxMjIyLjk5MjQ1MjU2MjQ5NSwgc2NhbGU6IDQ2MjIzMjQuNDM0MzA5IH0sXG4gICAgICAgIHsgbGV2ZWw6IDcsIHJlc29sdXRpb246IDYxMS40OTYyMjYyODEzNzk3LCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgICAgICAgeyBsZXZlbDogOCwgcmVzb2x1dGlvbjogMzA1Ljc0ODExMzE0MDU1NzU2LCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICAgICAgeyBsZXZlbDogOSwgcmVzb2x1dGlvbjogMTUyLjg3NDA1NjU3MDQxMTA2LCBzY2FsZTogNTc3NzkwLjU1NDI4OSB9LFxuICAgICAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogNzYuNDM3MDI4Mjg1MDczMjQsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDExLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2Miwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICAgICAgeyBsZXZlbDogMTIsIHJlc29sdXRpb246IDE5LjEwOTI1NzA3MTI2ODMxLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gICAgICAgIHsgbGV2ZWw6IDEzLCByZXNvbHV0aW9uOiA5LjU1NDYyODUzNTYzNDE1NSwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICAgICAgICB7IGxldmVsOiAxNCwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgICAgICB7IGxldmVsOiAxNSwgcmVzb2x1dGlvbjogMi4zODg2NTcxMzM5NzQ2ODUsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICAgICAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMS4xOTQzMjg1NjY4NTUwNTAzLCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICAgICAgeyBsZXZlbDogMTcsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3Miwgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gICAgICAgIHsgbGV2ZWw6IDE4LCByZXNvbHV0aW9uOiAwLjI5ODU4MjE0MTY0NzYxNjY1LCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICAgICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMTQ5MjkxMDcwODIzODA4MzMsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIwLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgICAgICB7IGxldmVsOiAyMSwgcmVzb2x1dGlvbjogMC4wMzczMjI3Njc3MDU5NTIwOCwgc2NhbGU6IDE0MS4wNjIxNDcgfSxcbiAgICAgICAgeyBsZXZlbDogMjIsIHJlc29sdXRpb246IDAuMDE4NjYxMzgzODUyOTc2MDQsIHNjYWxlOiA3MC41MzEwNzM1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIzLCByZXNvbHV0aW9uOiAwLjAwOTMzMDY5MTkyOTM0MjgwNDA0NjYyMTczNjUsIHNjYWxlOiAzNS4yNjU1MzY3NjA3ODk3MTUwMzI0MTIwNzk2MjYgfVxuICAgIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlSW1hZ2VJbmZvID0ge1xuICAgIGZvcm1hdDogXCJpbmRleGVkVmVjdG9yXCIsXG4gICAgY29tcHJlc3Npb25RdWFsaXR5OiAwLFxuICAgIGFudGlhbGlhc2luZzogZmFsc2Vcbn07XG5jb25zdCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvID0ge1xuICAgIGZvcm1hdDogXCJQTkczMlwiLFxuICAgIGNvbXByZXNzaW9uUXVhbGl0eTogMCxcbiAgICBhbnRpYWxpYXNpbmc6IHRydWVcbn07XG5cbmV4cG9ydCB7IERFRkFVTFRfVElMRV9MQVlFUl8zRF9USUxFU19MQVlFUl9UWVBFIGFzIEQsIFRJTEVfTEFZRVJfU0NBTEVfTUlOIGFzIFQsIHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8gYXMgYSwgcHJlc2V0VmVjdG9yVGlsZUltYWdlSW5mbyBhcyBiLCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvIGFzIGMsIHRpbGVMYXllclR5cGVzIGFzIGQsIFRJTEVfTEFZRVJfU0NBTEVfTUFYIGFzIGUsIHRpbGVMYXllckJhc2VtYXBzIGFzIGYsIHByZXNldExvZHMgYXMgZywgcHJlc2V0VmVjdG9yVGlsZUNhY2hlSW5mbyBhcyBwLCB0aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZXMgYXMgdCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWxlLWxheWVyLWNmMDRmYTk3LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==