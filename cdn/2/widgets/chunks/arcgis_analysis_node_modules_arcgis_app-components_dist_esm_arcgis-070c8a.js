"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-070c8a"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js":
/*!**************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ addItemState),
/* harmony export */   b: () => (/* binding */ addItemUrlState),
/* harmony export */   c: () => (/* binding */ addItemRequestState),
/* harmony export */   d: () => (/* binding */ addItemStore)
/* harmony export */ });
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const addItemStore = (0,_index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__.c)({
    typeKeywords: [],
    customParameters: [],
    analyzedLocationTypes: [],
    allowStoredAuth: true,
    isSecured: null,
    checkAuth: false
});
// Entire add item state object
const addItemState = addItemStore.state;
// Subsets of add item state
const addItemRequestState = addItemStore.state;
const addItemUrlState = addItemStore.state;



//# sourceMappingURL=add-item-dbbe2f57.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-select.entry.js":
/*!******************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-select.entry.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_tile_layer_select: () => (/* binding */ ArcgisNewItemPagesTileLayerSelect)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tile-layer-cf04fa97.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js");
/* harmony import */ var _tile_layer_f0f9ef4b_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tile-layer-f0f9ef4b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-f0f9ef4b.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */








const arcgisNewItemPagesTileLayerSelectCss = ".tile-select{margin-top:1.25rem}.tile-select:not(:last-child){margin-bottom:2.5rem}";

const ArcgisNewItemPagesTileLayerSelect = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.newItemUpdatePage = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
        this.rasterOptions = {
            upload: { icon: "upload-to", page: "layerUpload" },
            store: { icon: "data-cloud", page: "dataStoreList" },
            existing: { icon: "layers", page: "tileLayerFromExisting" }
        };
        this.vectorOptions = {
            upload: { icon: "upload-to", page: "layerUpload" },
            store: { icon: "data-cloud", page: "dataStoreList" },
            existing: { icon: "layers", page: "tileLayerFromExisting" }
        };
        this.selectedSource = "existing";
        this.selectedLayerType = "vector";
        this.options = this.vectorOptions;
    }
    async componentWillLoad() {
        this.selectedSource = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.addTileLayerOption || "upload";
        const storeTileLayerPublishType = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.tileLayerPublishType;
        this.selectedLayerType =
            storeTileLayerPublishType === "3dTiles"
                ? "3dTiles"
                : storeTileLayerPublishType === "tiles"
                    ? "raster"
                    : "vector";
        this.i18n = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_3__.u.i18n.tileLayerSelect;
    }
    handleNewLayerTypeChange(newType) {
        const { rasterOptions, vectorOptions, selectedSource } = this;
        const isPortal = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal;
        this.selectedLayerType = newType;
        this.options = newType === "raster" ? rasterOptions : vectorOptions;
        if (
        // ! We don't support publishing a vector tile layer from feature layer in Enterprise
        (newType === "vector" && selectedSource === "existing" && isPortal) ||
            // ! This is the only option for 3dTiles
            newType === "3dTiles") {
            this.selectedSource = "upload";
        }
    }
    handleNext() {
        const { selectedSource, selectedLayerType } = this;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.addTileLayerOption = selectedSource;
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.tileLayerPublishType =
            selectedLayerType === "3dTiles"
                ? "3dTiles"
                : selectedLayerType === "raster"
                    ? "tiles"
                    : "vectorTiles";
        (0,_tile_layer_f0f9ef4b_js__WEBPACK_IMPORTED_MODULE_5__.b)();
        this.newItemUpdatePage.emit(this.options[selectedSource].page);
    }
    render() {
        const { i18n, options, selectedLayerType } = this;
        const isPortal = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal;
        const { helpMap, helpBase } = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.config;
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: i18n.layerTypeHeading, headerLink: {
                text: _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_3__.u.i18n.common.learnMore,
                href: `${helpBase}${helpMap["120003719"]}`
            } }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical", class: "tile-select" }, _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_4__.d.map((layerType) => ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { checked: this.selectedLayerType === layerType, heading: i18n.layerTypeOptions[layerType].title, description: i18n.layerTypeOptions[layerType].description, name: "tile-layer-type", "input-enabled": true, width: "full", type: "radio", value: layerType, onCalciteTileSelectChange: (e) => {
                const newType = e.target.value;
                this.handleNewLayerTypeChange(newType);
            } })))), selectedLayerType !== "3dTiles" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.F, null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: i18n.sourceHeading }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical", class: "tile-select" }, Object.keys(options)
            .filter((option) => isPortal
            ? option !== "existing" || selectedLayerType === "raster"
            : option !== "store")
            .map((key, index) => ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { key: `${key}-${index}`, checked: this.selectedSource === key, heading: i18n.sourceOptions[key][key === "upload" && selectedLayerType === "raster" ? "titleRaster" : "title"], description: i18n.sourceOptions[key][key === "upload" && selectedLayerType === "raster"
                ? "rasterDescription"
                : "description"], name: "tile-layer-create-mode", "input-enabled": true, width: "full", type: "radio", value: key, onCalciteTileSelectChange: (e) => {
                this.selectedSource = e.target.value;
            } }))))))));
    }
    get el() { return (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
};
ArcgisNewItemPagesTileLayerSelect.style = arcgisNewItemPagesTileLayerSelectCss;



//# sourceMappingURL=arcgis-new-item-pages-tile-layer-select.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js":
/*!************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ configState),
/* harmony export */   o: () => (/* binding */ onConfigChange)
/* harmony export */ });
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const configStore = (0,_index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__.c)({
    portal: null,
    user: null,
    api: 4,
    scale: "m"
});
const configState = configStore.state;
const onConfigChange = configStore.onChange;



//# sourceMappingURL=config-75adf962.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js":
/*!***********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createStore)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const appendToMap = (map, propName, value) => {
    const items = map.get(propName);
    if (!items) {
        map.set(propName, [value]);
    }
    else if (!items.includes(value)) {
        items.push(value);
    }
};
const debounce = (fn, ms) => {
    let timeoutId;
    return (...args) => {
        if (timeoutId) {
            clearTimeout(timeoutId);
        }
        timeoutId = setTimeout(() => {
            timeoutId = 0;
            fn(...args);
        }, ms);
    };
};

/**
 * Check if a possible element isConnected.
 * The property might not be there, so we check for it.
 *
 * We want it to return true if isConnected is not a property,
 * otherwise we would remove these elements and would not update.
 *
 * Better leak in Edge than to be useless.
 */
const isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;
const cleanupElements = debounce((map) => {
    for (let key of map.keys()) {
        map.set(key, map.get(key).filter(isConnected));
    }
}, 2000);
const stencilSubscription = () => {
    if (typeof _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.g !== 'function') {
        // If we are not in a stencil project, we do nothing.
        // This function is not really exported by @stencil/core.
        return {};
    }
    const elmsToUpdate = new Map();
    return {
        dispose: () => elmsToUpdate.clear(),
        get: (propName) => {
            const elm = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.g)();
            if (elm) {
                appendToMap(elmsToUpdate, propName, elm);
            }
        },
        set: (propName) => {
            const elements = elmsToUpdate.get(propName);
            if (elements) {
                elmsToUpdate.set(propName, elements.filter(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.f));
            }
            cleanupElements(elmsToUpdate);
        },
        reset: () => {
            elmsToUpdate.forEach((elms) => elms.forEach(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.f));
            cleanupElements(elmsToUpdate);
        },
    };
};

const unwrap = (val) => (typeof val === 'function' ? val() : val);
const createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {
    const unwrappedState = unwrap(defaultState);
    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));
    const handlers = {
        dispose: [],
        get: [],
        set: [],
        reset: [],
    };
    const reset = () => {
        var _a;
        // When resetting the state, the default state may be a function - unwrap it to invoke it.
        // otherwise, the state won't be properly reset
        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));
        handlers.reset.forEach((cb) => cb());
    };
    const dispose = () => {
        // Call first dispose as resetting the state would
        // cause less updates ;)
        handlers.dispose.forEach((cb) => cb());
        reset();
    };
    const get = (propName) => {
        handlers.get.forEach((cb) => cb(propName));
        return states.get(propName);
    };
    const set = (propName, value) => {
        const oldValue = states.get(propName);
        if (shouldUpdate(value, oldValue, propName)) {
            states.set(propName, value);
            handlers.set.forEach((cb) => cb(propName, value, oldValue));
        }
    };
    const state = (typeof Proxy === 'undefined'
        ? {}
        : new Proxy(unwrappedState, {
            get(_, propName) {
                return get(propName);
            },
            ownKeys(_) {
                return Array.from(states.keys());
            },
            getOwnPropertyDescriptor() {
                return {
                    enumerable: true,
                    configurable: true,
                };
            },
            has(_, propName) {
                return states.has(propName);
            },
            set(_, propName, value) {
                set(propName, value);
                return true;
            },
        }));
    const on = (eventName, callback) => {
        handlers[eventName].push(callback);
        return () => {
            removeFromArray(handlers[eventName], callback);
        };
    };
    const onChange = (propName, cb) => {
        const unSet = on('set', (key, newValue) => {
            if (key === propName) {
                cb(newValue);
            }
        });
        // We need to unwrap the defaultState because it might be a function.
        // Otherwise we might not be sending the right reset value.
        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));
        return () => {
            unSet();
            unReset();
        };
    };
    const use = (...subscriptions) => {
        const unsubs = subscriptions.reduce((unsubs, subscription) => {
            if (subscription.set) {
                unsubs.push(on('set', subscription.set));
            }
            if (subscription.get) {
                unsubs.push(on('get', subscription.get));
            }
            if (subscription.reset) {
                unsubs.push(on('reset', subscription.reset));
            }
            if (subscription.dispose) {
                unsubs.push(on('dispose', subscription.dispose));
            }
            return unsubs;
        }, []);
        return () => unsubs.forEach((unsub) => unsub());
    };
    const forceUpdate = (key) => {
        const oldValue = states.get(key);
        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));
    };
    return {
        state,
        get,
        set,
        on,
        onChange,
        use,
        dispose,
        reset,
        forceUpdate,
    };
};
const removeFromArray = (array, item) => {
    const index = array.indexOf(item);
    if (index >= 0) {
        array[index] = array[array.length - 1];
        array.length--;
    }
};

const createStore = (defaultState, shouldUpdate) => {
    const map = createObservableMap(defaultState, shouldUpdate);
    map.use(stencilSubscription());
    return map;
};



//# sourceMappingURL=index-05956cab.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE),
/* harmony export */   T: () => (/* binding */ TILE_LAYER_SCALE_MIN),
/* harmony export */   a: () => (/* binding */ presetRasterTileCacheInfo),
/* harmony export */   b: () => (/* binding */ presetVectorTileImageInfo),
/* harmony export */   c: () => (/* binding */ presetRasterTileImageInfo),
/* harmony export */   d: () => (/* binding */ tileLayerTypes),
/* harmony export */   e: () => (/* binding */ TILE_LAYER_SCALE_MAX),
/* harmony export */   f: () => (/* binding */ tileLayerBasemaps),
/* harmony export */   g: () => (/* binding */ presetLods),
/* harmony export */   p: () => (/* binding */ presetVectorTileCacheInfo),
/* harmony export */   t: () => (/* binding */ tilesLayer3dTilesLayerTypes)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const tileLayerBasemaps = ["standard", "custom"];
const tilesLayer3dTilesLayerTypes = ["IntegratedMesh", "3DObject"];
const DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE = tilesLayer3dTilesLayerTypes[0];
const tileLayerTypes = ["vector", "raster", "3dTiles"];
// TODO: switch this back once the SettingTileLayer supports this number
// export const TILE_LAYER_SCALE_MIN = 591657527.591555;
const TILE_LAYER_SCALE_MIN = 147914382;
const TILE_LAYER_SCALE_MAX = 0;
const presetLods = [
    { level: 0, label: "1:591,657,528", scale: 591657527.591555 },
    { level: 1, label: "1:295,828,764", scale: 295828763.795777 },
    { level: 2, label: "1:147,914,382", scale: 147914381.897889 },
    { level: 3, label: "1:73,957,191", scale: 73957190.948944 },
    { level: 4, label: "1:36,978,595", scale: 36978595.474472 },
    { level: 5, label: "1:18,489,298", scale: 18489297.737236 },
    { level: 6, label: "1:9,244,649", scale: 9244648.868618 },
    { level: 7, label: "1:4,622,324", scale: 4622324.434309 },
    { level: 8, label: "1:2,311,162", scale: 2311162.217155 },
    { level: 9, label: "1:1,155,581", scale: 1155581.108577 },
    { level: 10, label: "1:577,791", scale: 577790.554289 },
    { level: 11, label: "1:288,895", scale: 288895.277144 },
    { level: 12, label: "1:144,448", scale: 144447.638572 },
    { level: 13, label: "1:72,224", scale: 72223.819286 },
    { level: 14, label: "1:36,112", scale: 36111.909643 },
    { level: 15, label: "1:18,056", scale: 18055.954822 },
    { level: 16, label: "1:9,028", scale: 9027.977411 },
    { level: 17, label: "1:4,514", scale: 4513.988705 },
    { level: 18, label: "1:2,257", scale: 2256.994353 },
    { level: 19, label: "1:1,128", scale: 1128.497176 },
    { level: 20, label: "1:564", scale: 564.248588 },
    { level: 21, label: "1:282", scale: 282.124294 },
    { level: 22, label: "1:141", scale: 141.062147 }
];
const presetRasterTileCacheInfo = {
    spatialReference: { wkid: 102100, latestWkid: 3857 },
    origin: { x: -20037508.342787, y: 20037508.342787 },
    rows: 256,
    cols: 256,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 156543.033928, scale: 591657527.591555 },
        { level: 1, resolution: 78271.5169639999, scale: 295828763.795777 },
        { level: 2, resolution: 39135.7584820001, scale: 147914381.897889 },
        { level: 3, resolution: 19567.8792409999, scale: 73957190.948944 },
        { level: 4, resolution: 9783.93962049996, scale: 36978595.474472 },
        { level: 5, resolution: 4891.96981024998, scale: 18489297.737236 },
        { level: 6, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 7, resolution: 1222.99245256249, scale: 4622324.434309 },
        { level: 8, resolution: 611.49622628138, scale: 2311162.217155 },
        { level: 9, resolution: 305.748113140558, scale: 1155581.108577 },
        { level: 10, resolution: 152.874056570411, scale: 577790.554289 },
        { level: 11, resolution: 76.4370282850732, scale: 288895.277144 },
        { level: 12, resolution: 38.2185141425366, scale: 144447.638572 },
        { level: 13, resolution: 19.1092570712683, scale: 72223.819286 },
        { level: 14, resolution: 9.55462853563415, scale: 36111.909643 },
        { level: 15, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 16, resolution: 2.38865713397468, scale: 9027.977411 },
        { level: 17, resolution: 1.19432856685505, scale: 4513.988705 },
        { level: 18, resolution: 0.597164283559817, scale: 2256.994353 },
        { level: 19, resolution: 0.298582141647617, scale: 1128.497176 },
        { level: 20, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 21, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 22, resolution: 0.03732276770595208, scale: 141.062147 }
    ]
};
const presetVectorTileCacheInfo = {
    spatialReference: {
        wkid: 102100,
        latestWkid: 3857
    },
    origin: {
        x: -2.0037508342787e7,
        y: 2.0037508342787e7
    },
    rows: 512,
    cols: 512,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 78271.51696399994, scale: 2.95828763795777e8 },
        { level: 1, resolution: 39135.75848200009, scale: 1.47914381897889e8 },
        { level: 2, resolution: 19567.87924099992, scale: 7.3957190948944e7 },
        { level: 3, resolution: 9783.93962049996, scale: 3.6978595474472e7 },
        { level: 4, resolution: 4891.96981024998, scale: 1.8489297737236e7 },
        { level: 5, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 6, resolution: 1222.992452562495, scale: 4622324.434309 },
        { level: 7, resolution: 611.4962262813797, scale: 2311162.217155 },
        { level: 8, resolution: 305.74811314055756, scale: 1155581.108577 },
        { level: 9, resolution: 152.87405657041106, scale: 577790.554289 },
        { level: 10, resolution: 76.43702828507324, scale: 288895.277144 },
        { level: 11, resolution: 38.21851414253662, scale: 144447.638572 },
        { level: 12, resolution: 19.10925707126831, scale: 72223.819286 },
        { level: 13, resolution: 9.554628535634155, scale: 36111.909643 },
        { level: 14, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 15, resolution: 2.388657133974685, scale: 9027.977411 },
        { level: 16, resolution: 1.1943285668550503, scale: 4513.988705 },
        { level: 17, resolution: 0.5971642835598172, scale: 2256.994353 },
        { level: 18, resolution: 0.29858214164761665, scale: 1128.497176 },
        { level: 19, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 20, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 21, resolution: 0.03732276770595208, scale: 141.062147 },
        { level: 22, resolution: 0.01866138385297604, scale: 70.5310735 },
        { level: 23, resolution: 0.0093306919293428040466217365, scale: 35.265536760789715032412079626 }
    ]
};
const presetVectorTileImageInfo = {
    format: "indexedVector",
    compressionQuality: 0,
    antialiasing: false
};
const presetRasterTileImageInfo = {
    format: "PNG32",
    compressionQuality: 0,
    antialiasing: true
};



//# sourceMappingURL=tile-layer-cf04fa97.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-f0f9ef4b.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-f0f9ef4b.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ logTileLayerFinish),
/* harmony export */   b: () => (/* binding */ logTileLayerFromOption),
/* harmony export */   l: () => (/* binding */ logTileLayerStart)
/* harmony export */ });
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */



const TELEMETRY_ID = "create tile layer";
const TELEMETRY_PAGE_NAME = "my content";
const mapTileLayerOptionToTelemetry = (type) => {
    switch (type) {
        case "store":
            return "data store";
        case "existing":
            return "fs";
        case "upload":
            return "upload";
    }
};
const mapTileLayerTypeToTelemetry = (type) => {
    switch (type) {
        case "tiles":
            return "raster";
        case "vectorTiles":
            return "vector";
    }
};
const logTileLayerStart = () => {
    var _a;
    (_a = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry) === null || _a === void 0 ? void 0 : _a.startWorkflow(TELEMETRY_ID, {
        category: "create tile layer",
        pageName: "my content"
    });
};
const logTileLayerFromOption = () => {
    const telemetry = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
    telemetry === null || telemetry === void 0 ? void 0 : telemetry.stepWorkflow(TELEMETRY_ID, "from option", {
        category: TELEMETRY_ID,
        attribute: mapTileLayerOptionToTelemetry(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.addTileLayerOption),
        details: mapTileLayerTypeToTelemetry(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.tileLayerPublishType),
        pageName: TELEMETRY_PAGE_NAME
    });
};
const logTileLayerFinish = () => {
    const telemetry = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
    telemetry === null || telemetry === void 0 ? void 0 : telemetry.endWorkflow(TELEMETRY_ID, {
        category: TELEMETRY_ID,
        attribute: mapTileLayerOptionToTelemetry(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.addTileLayerOption),
        details: mapTileLayerTypeToTelemetry(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.tileLayerPublishType),
        pageName: TELEMETRY_PAGE_NAME
    });
};



//# sourceMappingURL=tile-layer-f0f9ef4b.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ uiStore),
/* harmony export */   u: () => (/* binding */ uiStoreState)
/* harmony export */ });
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const uiStore = (0,_index_05956cab_js__WEBPACK_IMPORTED_MODULE_0__.c)({
    nextText: "next",
    workflow: "content",
    scale: "m",
    disableScroll: false,
    featureFlags: {}
});
const uiStoreState = uiStore.state;



//# sourceMappingURL=ui-bca7bcd1.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLTA3MGM4YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3VEOztBQUV2RCxxQkFBcUIscURBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWdHOztBQUVoRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lIO0FBQ3pEO0FBQ0c7QUFDTjtBQUNVO0FBQ1E7QUFDMUM7O0FBRTdCLDJEQUEyRCxtQkFBbUIsOEJBQThCLHFCQUFxQjs7QUFFakk7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLGlDQUFpQyxxREFBVztBQUM1QztBQUNBLHNCQUFzQix3Q0FBd0M7QUFDOUQscUJBQXFCLDJDQUEyQztBQUNoRSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLHNCQUFzQix3Q0FBd0M7QUFDOUQscUJBQXFCLDJDQUEyQztBQUNoRSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9EQUFZO0FBQzFDLDBDQUEwQyxvREFBWTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOENBQVk7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQiwrQ0FBK0M7QUFDL0QseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0NBQW9DO0FBQ3BELFFBQVEsb0RBQVk7QUFDcEIsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1D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REFBWTtBQUM3RCw2Q0FBNkMsb0RBQVk7QUFDekQ7QUFDQSxLQUFLO0FBQ0w7O0FBRXdGOztBQUV4Rjs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUN1RDs7QUFFdkQsZ0JBQWdCLHFEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRTJDOztBQUUzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FkZC1pdGVtLWRiYmUyZjU3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1uZXctaXRlbS1wYWdlcy10aWxlLWxheWVyLXNlbGVjdC5lbnRyeS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9jb25maWctNzVhZGY5NjIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vaW5kZXgtMDU5NTZjYWIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGlsZS1sYXllci1jZjA0ZmE5Ny5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS90aWxlLWxheWVyLWYwZjllZjRiLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL3VpLWJjYTdiY2QxLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVTdG9yZSB9IGZyb20gJy4vaW5kZXgtMDU5NTZjYWIuanMnO1xuXG5jb25zdCBhZGRJdGVtU3RvcmUgPSBjcmVhdGVTdG9yZSh7XG4gICAgdHlwZUtleXdvcmRzOiBbXSxcbiAgICBjdXN0b21QYXJhbWV0ZXJzOiBbXSxcbiAgICBhbmFseXplZExvY2F0aW9uVHlwZXM6IFtdLFxuICAgIGFsbG93U3RvcmVkQXV0aDogdHJ1ZSxcbiAgICBpc1NlY3VyZWQ6IG51bGwsXG4gICAgY2hlY2tBdXRoOiBmYWxzZVxufSk7XG4vLyBFbnRpcmUgYWRkIGl0ZW0gc3RhdGUgb2JqZWN0XG5jb25zdCBhZGRJdGVtU3RhdGUgPSBhZGRJdGVtU3RvcmUuc3RhdGU7XG4vLyBTdWJzZXRzIG9mIGFkZCBpdGVtIHN0YXRlXG5jb25zdCBhZGRJdGVtUmVxdWVzdFN0YXRlID0gYWRkSXRlbVN0b3JlLnN0YXRlO1xuY29uc3QgYWRkSXRlbVVybFN0YXRlID0gYWRkSXRlbVN0b3JlLnN0YXRlO1xuXG5leHBvcnQgeyBhZGRJdGVtU3RhdGUgYXMgYSwgYWRkSXRlbVVybFN0YXRlIGFzIGIsIGFkZEl0ZW1SZXF1ZXN0U3RhdGUgYXMgYywgYWRkSXRlbVN0b3JlIGFzIGQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLWl0ZW0tZGJiZTJmNTcuanMubWFwIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEYgYXMgRnJhZ21lbnQsIGQgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtZTNiZjdkYTcuanMnO1xuaW1wb3J0IHsgYyBhcyBjb25maWdTdGF0ZSB9IGZyb20gJy4vY29uZmlnLTc1YWRmOTYyLmpzJztcbmltcG9ydCB7IGEgYXMgYWRkSXRlbVN0YXRlIH0gZnJvbSAnLi9hZGQtaXRlbS1kYmJlMmY1Ny5qcyc7XG5pbXBvcnQgeyB1IGFzIHVpU3RvcmVTdGF0ZSB9IGZyb20gJy4vdWktYmNhN2JjZDEuanMnO1xuaW1wb3J0IHsgZCBhcyB0aWxlTGF5ZXJUeXBlcyB9IGZyb20gJy4vdGlsZS1sYXllci1jZjA0ZmE5Ny5qcyc7XG5pbXBvcnQgeyBiIGFzIGxvZ1RpbGVMYXllckZyb21PcHRpb24gfSBmcm9tICcuL3RpbGUtbGF5ZXItZjBmOWVmNGIuanMnO1xuaW1wb3J0ICcuL2luZGV4LTA1OTU2Y2FiLmpzJztcblxuY29uc3QgYXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2VsZWN0Q3NzID0gXCIudGlsZS1zZWxlY3R7bWFyZ2luLXRvcDoxLjI1cmVtfS50aWxlLXNlbGVjdDpub3QoOmxhc3QtY2hpbGQpe21hcmdpbi1ib3R0b206Mi41cmVtfVwiO1xuXG5jb25zdCBBcmNnaXNOZXdJdGVtUGFnZXNUaWxlTGF5ZXJTZWxlY3QgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXdJdGVtVXBkYXRlUGFnZVwiLCA3KTtcbiAgICAgICAgdGhpcy5yYXN0ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgdXBsb2FkOiB7IGljb246IFwidXBsb2FkLXRvXCIsIHBhZ2U6IFwibGF5ZXJVcGxvYWRcIiB9LFxuICAgICAgICAgICAgc3RvcmU6IHsgaWNvbjogXCJkYXRhLWNsb3VkXCIsIHBhZ2U6IFwiZGF0YVN0b3JlTGlzdFwiIH0sXG4gICAgICAgICAgICBleGlzdGluZzogeyBpY29uOiBcImxheWVyc1wiLCBwYWdlOiBcInRpbGVMYXllckZyb21FeGlzdGluZ1wiIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZWN0b3JPcHRpb25zID0ge1xuICAgICAgICAgICAgdXBsb2FkOiB7IGljb246IFwidXBsb2FkLXRvXCIsIHBhZ2U6IFwibGF5ZXJVcGxvYWRcIiB9LFxuICAgICAgICAgICAgc3RvcmU6IHsgaWNvbjogXCJkYXRhLWNsb3VkXCIsIHBhZ2U6IFwiZGF0YVN0b3JlTGlzdFwiIH0sXG4gICAgICAgICAgICBleGlzdGluZzogeyBpY29uOiBcImxheWVyc1wiLCBwYWdlOiBcInRpbGVMYXllckZyb21FeGlzdGluZ1wiIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNvdXJjZSA9IFwiZXhpc3RpbmdcIjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZExheWVyVHlwZSA9IFwidmVjdG9yXCI7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMudmVjdG9yT3B0aW9ucztcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTb3VyY2UgPSBhZGRJdGVtU3RhdGUuYWRkVGlsZUxheWVyT3B0aW9uIHx8IFwidXBsb2FkXCI7XG4gICAgICAgIGNvbnN0IHN0b3JlVGlsZUxheWVyUHVibGlzaFR5cGUgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGU7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRMYXllclR5cGUgPVxuICAgICAgICAgICAgc3RvcmVUaWxlTGF5ZXJQdWJsaXNoVHlwZSA9PT0gXCIzZFRpbGVzXCJcbiAgICAgICAgICAgICAgICA/IFwiM2RUaWxlc1wiXG4gICAgICAgICAgICAgICAgOiBzdG9yZVRpbGVMYXllclB1Ymxpc2hUeXBlID09PSBcInRpbGVzXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcInJhc3RlclwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ2ZWN0b3JcIjtcbiAgICAgICAgdGhpcy5pMThuID0gdWlTdG9yZVN0YXRlLmkxOG4udGlsZUxheWVyU2VsZWN0O1xuICAgIH1cbiAgICBoYW5kbGVOZXdMYXllclR5cGVDaGFuZ2UobmV3VHlwZSkge1xuICAgICAgICBjb25zdCB7IHJhc3Rlck9wdGlvbnMsIHZlY3Rvck9wdGlvbnMsIHNlbGVjdGVkU291cmNlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBpc1BvcnRhbCA9IGNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZExheWVyVHlwZSA9IG5ld1R5cGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG5ld1R5cGUgPT09IFwicmFzdGVyXCIgPyByYXN0ZXJPcHRpb25zIDogdmVjdG9yT3B0aW9ucztcbiAgICAgICAgaWYgKFxuICAgICAgICAvLyAhIFdlIGRvbid0IHN1cHBvcnQgcHVibGlzaGluZyBhIHZlY3RvciB0aWxlIGxheWVyIGZyb20gZmVhdHVyZSBsYXllciBpbiBFbnRlcnByaXNlXG4gICAgICAgIChuZXdUeXBlID09PSBcInZlY3RvclwiICYmIHNlbGVjdGVkU291cmNlID09PSBcImV4aXN0aW5nXCIgJiYgaXNQb3J0YWwpIHx8XG4gICAgICAgICAgICAvLyAhIFRoaXMgaXMgdGhlIG9ubHkgb3B0aW9uIGZvciAzZFRpbGVzXG4gICAgICAgICAgICBuZXdUeXBlID09PSBcIjNkVGlsZXNcIikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNvdXJjZSA9IFwidXBsb2FkXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZFNvdXJjZSwgc2VsZWN0ZWRMYXllclR5cGUgfSA9IHRoaXM7XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS5hZGRUaWxlTGF5ZXJPcHRpb24gPSBzZWxlY3RlZFNvdXJjZTtcbiAgICAgICAgYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hUeXBlID1cbiAgICAgICAgICAgIHNlbGVjdGVkTGF5ZXJUeXBlID09PSBcIjNkVGlsZXNcIlxuICAgICAgICAgICAgICAgID8gXCIzZFRpbGVzXCJcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGVkTGF5ZXJUeXBlID09PSBcInJhc3RlclwiXG4gICAgICAgICAgICAgICAgICAgID8gXCJ0aWxlc1wiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ2ZWN0b3JUaWxlc1wiO1xuICAgICAgICBsb2dUaWxlTGF5ZXJGcm9tT3B0aW9uKCk7XG4gICAgICAgIHRoaXMubmV3SXRlbVVwZGF0ZVBhZ2UuZW1pdCh0aGlzLm9wdGlvbnNbc2VsZWN0ZWRTb3VyY2VdLnBhZ2UpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgaTE4biwgb3B0aW9ucywgc2VsZWN0ZWRMYXllclR5cGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGlzUG9ydGFsID0gY29uZmlnU3RhdGUucG9ydGFsLmlzUG9ydGFsO1xuICAgICAgICBjb25zdCB7IGhlbHBNYXAsIGhlbHBCYXNlIH0gPSBjb25maWdTdGF0ZS5jb25maWc7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCBudWxsLCBoKFwiYXJjZ2lzLW5ldy1pdGVtLWRlc2NyaXB0aW9uXCIsIHsgaGVhZGVyOiBpMThuLmxheWVyVHlwZUhlYWRpbmcsIGhlYWRlckxpbms6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiB1aVN0b3JlU3RhdGUuaTE4bi5jb21tb24ubGVhcm5Nb3JlLFxuICAgICAgICAgICAgICAgIGhyZWY6IGAke2hlbHBCYXNlfSR7aGVscE1hcFtcIjEyMDAwMzcxOVwiXX1gXG4gICAgICAgICAgICB9IH0pLCBoKFwiY2FsY2l0ZS10aWxlLXNlbGVjdC1ncm91cFwiLCB7IGxheW91dDogXCJ2ZXJ0aWNhbFwiLCBjbGFzczogXCJ0aWxlLXNlbGVjdFwiIH0sIHRpbGVMYXllclR5cGVzLm1hcCgobGF5ZXJUeXBlKSA9PiAoaChcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgeyBjaGVja2VkOiB0aGlzLnNlbGVjdGVkTGF5ZXJUeXBlID09PSBsYXllclR5cGUsIGhlYWRpbmc6IGkxOG4ubGF5ZXJUeXBlT3B0aW9uc1tsYXllclR5cGVdLnRpdGxlLCBkZXNjcmlwdGlvbjogaTE4bi5sYXllclR5cGVPcHRpb25zW2xheWVyVHlwZV0uZGVzY3JpcHRpb24sIG5hbWU6IFwidGlsZS1sYXllci10eXBlXCIsIFwiaW5wdXQtZW5hYmxlZFwiOiB0cnVlLCB3aWR0aDogXCJmdWxsXCIsIHR5cGU6IFwicmFkaW9cIiwgdmFsdWU6IGxheWVyVHlwZSwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUeXBlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOZXdMYXllclR5cGVDaGFuZ2UobmV3VHlwZSk7XG4gICAgICAgICAgICB9IH0pKSkpLCBzZWxlY3RlZExheWVyVHlwZSAhPT0gXCIzZFRpbGVzXCIgJiYgKGgoRnJhZ21lbnQsIG51bGwsIGgoXCJhcmNnaXMtbmV3LWl0ZW0tZGVzY3JpcHRpb25cIiwgeyBoZWFkZXI6IGkxOG4uc291cmNlSGVhZGluZyB9KSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3QtZ3JvdXBcIiwgeyBsYXlvdXQ6IFwidmVydGljYWxcIiwgY2xhc3M6IFwidGlsZS1zZWxlY3RcIiB9LCBPYmplY3Qua2V5cyhvcHRpb25zKVxuICAgICAgICAgICAgLmZpbHRlcigob3B0aW9uKSA9PiBpc1BvcnRhbFxuICAgICAgICAgICAgPyBvcHRpb24gIT09IFwiZXhpc3RpbmdcIiB8fCBzZWxlY3RlZExheWVyVHlwZSA9PT0gXCJyYXN0ZXJcIlxuICAgICAgICAgICAgOiBvcHRpb24gIT09IFwic3RvcmVcIilcbiAgICAgICAgICAgIC5tYXAoKGtleSwgaW5kZXgpID0+IChoKFwiY2FsY2l0ZS10aWxlLXNlbGVjdFwiLCB7IGtleTogYCR7a2V5fS0ke2luZGV4fWAsIGNoZWNrZWQ6IHRoaXMuc2VsZWN0ZWRTb3VyY2UgPT09IGtleSwgaGVhZGluZzogaTE4bi5zb3VyY2VPcHRpb25zW2tleV1ba2V5ID09PSBcInVwbG9hZFwiICYmIHNlbGVjdGVkTGF5ZXJUeXBlID09PSBcInJhc3RlclwiID8gXCJ0aXRsZVJhc3RlclwiIDogXCJ0aXRsZVwiXSwgZGVzY3JpcHRpb246IGkxOG4uc291cmNlT3B0aW9uc1trZXldW2tleSA9PT0gXCJ1cGxvYWRcIiAmJiBzZWxlY3RlZExheWVyVHlwZSA9PT0gXCJyYXN0ZXJcIlxuICAgICAgICAgICAgICAgID8gXCJyYXN0ZXJEZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgOiBcImRlc2NyaXB0aW9uXCJdLCBuYW1lOiBcInRpbGUtbGF5ZXItY3JlYXRlLW1vZGVcIiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIHdpZHRoOiBcImZ1bGxcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZToga2V5LCBvbkNhbGNpdGVUaWxlU2VsZWN0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTb3VyY2UgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIH0gfSkpKSkpKSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2VsZWN0LnN0eWxlID0gYXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2VsZWN0Q3NzO1xuXG5leHBvcnQgeyBBcmNnaXNOZXdJdGVtUGFnZXNUaWxlTGF5ZXJTZWxlY3QgYXMgYXJjZ2lzX25ld19pdGVtX3BhZ2VzX3RpbGVfbGF5ZXJfc2VsZWN0IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyY2dpcy1uZXctaXRlbS1wYWdlcy10aWxlLWxheWVyLXNlbGVjdC5lbnRyeS5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmltcG9ydCB7IGMgYXMgY3JlYXRlU3RvcmUgfSBmcm9tICcuL2luZGV4LTA1OTU2Y2FiLmpzJztcblxuY29uc3QgY29uZmlnU3RvcmUgPSBjcmVhdGVTdG9yZSh7XG4gICAgcG9ydGFsOiBudWxsLFxuICAgIHVzZXI6IG51bGwsXG4gICAgYXBpOiA0LFxuICAgIHNjYWxlOiBcIm1cIlxufSk7XG5jb25zdCBjb25maWdTdGF0ZSA9IGNvbmZpZ1N0b3JlLnN0YXRlO1xuY29uc3Qgb25Db25maWdDaGFuZ2UgPSBjb25maWdTdG9yZS5vbkNoYW5nZTtcblxuZXhwb3J0IHsgY29uZmlnU3RhdGUgYXMgYywgb25Db25maWdDaGFuZ2UgYXMgbyB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWctNzVhZGY5NjIuanMubWFwIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5pbXBvcnQgeyBnIGFzIGdldFJlbmRlcmluZ1JlZiwgZiBhcyBmb3JjZVVwZGF0ZSB9IGZyb20gJy4vaW5kZXgtZTNiZjdkYTcuanMnO1xuXG5jb25zdCBhcHBlbmRUb01hcCA9IChtYXAsIHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFwLmdldChwcm9wTmFtZSk7XG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWl0ZW1zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZm4sIG1zKSA9PiB7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBvc3NpYmxlIGVsZW1lbnQgaXNDb25uZWN0ZWQuXG4gKiBUaGUgcHJvcGVydHkgbWlnaHQgbm90IGJlIHRoZXJlLCBzbyB3ZSBjaGVjayBmb3IgaXQuXG4gKlxuICogV2Ugd2FudCBpdCB0byByZXR1cm4gdHJ1ZSBpZiBpc0Nvbm5lY3RlZCBpcyBub3QgYSBwcm9wZXJ0eSxcbiAqIG90aGVyd2lzZSB3ZSB3b3VsZCByZW1vdmUgdGhlc2UgZWxlbWVudHMgYW5kIHdvdWxkIG5vdCB1cGRhdGUuXG4gKlxuICogQmV0dGVyIGxlYWsgaW4gRWRnZSB0aGFuIHRvIGJlIHVzZWxlc3MuXG4gKi9cbmNvbnN0IGlzQ29ubmVjdGVkID0gKG1heWJlRWxlbWVudCkgPT4gISgnaXNDb25uZWN0ZWQnIGluIG1heWJlRWxlbWVudCkgfHwgbWF5YmVFbGVtZW50LmlzQ29ubmVjdGVkO1xuY29uc3QgY2xlYW51cEVsZW1lbnRzID0gZGVib3VuY2UoKG1hcCkgPT4ge1xuICAgIGZvciAobGV0IGtleSBvZiBtYXAua2V5cygpKSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXAuZ2V0KGtleSkuZmlsdGVyKGlzQ29ubmVjdGVkKSk7XG4gICAgfVxufSwgMjAwMCk7XG5jb25zdCBzdGVuY2lsU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2V0UmVuZGVyaW5nUmVmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gYSBzdGVuY2lsIHByb2plY3QsIHdlIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlYWxseSBleHBvcnRlZCBieSBAc3RlbmNpbC9jb3JlLlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGVsbXNUb1VwZGF0ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiBlbG1zVG9VcGRhdGUuY2xlYXIoKSxcbiAgICAgICAgZ2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvTWFwKGVsbXNUb1VwZGF0ZSwgcHJvcE5hbWUsIGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsbXNUb1VwZGF0ZS5nZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxtc1RvVXBkYXRlLnNldChwcm9wTmFtZSwgZWxlbWVudHMuZmlsdGVyKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5mb3JFYWNoKChlbG1zKSA9PiBlbG1zLmZvckVhY2goZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHZhbCgpIDogdmFsKTtcbmNvbnN0IGNyZWF0ZU9ic2VydmFibGVNYXAgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUgPSAoYSwgYikgPT4gYSAhPT0gYikgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZFN0YXRlID0gdW53cmFwKGRlZmF1bHRTdGF0ZSk7XG4gICAgbGV0IHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXModW53cmFwcGVkU3RhdGUgIT09IG51bGwgJiYgdW53cmFwcGVkU3RhdGUgIT09IHZvaWQgMCA/IHVud3JhcHBlZFN0YXRlIDoge30pKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgZGlzcG9zZTogW10sXG4gICAgICAgIGdldDogW10sXG4gICAgICAgIHNldDogW10sXG4gICAgICAgIHJlc2V0OiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFdoZW4gcmVzZXR0aW5nIHRoZSBzdGF0ZSwgdGhlIGRlZmF1bHQgc3RhdGUgbWF5IGJlIGEgZnVuY3Rpb24gLSB1bndyYXAgaXQgdG8gaW52b2tlIGl0LlxuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBzdGF0ZSB3b24ndCBiZSBwcm9wZXJseSByZXNldFxuICAgICAgICBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKChfYSA9IHVud3JhcChkZWZhdWx0U3RhdGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICBoYW5kbGVycy5yZXNldC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBDYWxsIGZpcnN0IGRpc3Bvc2UgYXMgcmVzZXR0aW5nIHRoZSBzdGF0ZSB3b3VsZFxuICAgICAgICAvLyBjYXVzZSBsZXNzIHVwZGF0ZXMgOylcbiAgICAgICAgaGFuZGxlcnMuZGlzcG9zZS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXQgPSAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZ2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSkpO1xuICAgICAgICByZXR1cm4gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXQgPSAocHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUodmFsdWUsIG9sZFZhbHVlLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUsIHZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9ICh0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8ge31cbiAgICAgICAgOiBuZXcgUHJveHkodW53cmFwcGVkU3RhdGUsIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5rZXlzKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzLmhhcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KF8sIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShoYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IChwcm9wTmFtZSwgY2IpID0+IHtcbiAgICAgICAgY29uc3QgdW5TZXQgPSBvbignc2V0JywgKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2IobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byB1bndyYXAgdGhlIGRlZmF1bHRTdGF0ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBub3QgYmUgc2VuZGluZyB0aGUgcmlnaHQgcmVzZXQgdmFsdWUuXG4gICAgICAgIGNvbnN0IHVuUmVzZXQgPSBvbigncmVzZXQnLCAoKSA9PiBjYih1bndyYXAoZGVmYXVsdFN0YXRlKVtwcm9wTmFtZV0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuU2V0KCk7XG4gICAgICAgICAgICB1blJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1c2UgPSAoLi4uc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnMgPSBzdWJzY3JpcHRpb25zLnJlZHVjZSgodW5zdWJzLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3NldCcsIHN1YnNjcmlwdGlvbi5zZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZ2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2dldCcsIHN1YnNjcmlwdGlvbi5nZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24ucmVzZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbigncmVzZXQnLCBzdWJzY3JpcHRpb24ucmVzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdkaXNwb3NlJywgc3Vic2NyaXB0aW9uLmRpc3Bvc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnN1YnM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgfTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KGtleSk7XG4gICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2Ioa2V5LCBvbGRWYWx1ZSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIHNldCxcbiAgICAgICAgb24sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICB1c2UsXG4gICAgICAgIGRpc3Bvc2UsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICB9O1xufTtcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IChhcnJheSwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgYXJyYXkubGVuZ3RoLS07XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpID0+IHtcbiAgICBjb25zdCBtYXAgPSBjcmVhdGVPYnNlcnZhYmxlTWFwKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKTtcbiAgICBtYXAudXNlKHN0ZW5jaWxTdWJzY3JpcHRpb24oKSk7XG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIGFzIGMgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtMDU5NTZjYWIuanMubWFwIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5jb25zdCB0aWxlTGF5ZXJCYXNlbWFwcyA9IFtcInN0YW5kYXJkXCIsIFwiY3VzdG9tXCJdO1xuY29uc3QgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzID0gW1wiSW50ZWdyYXRlZE1lc2hcIiwgXCIzRE9iamVjdFwiXTtcbmNvbnN0IERFRkFVTFRfVElMRV9MQVlFUl8zRF9USUxFU19MQVlFUl9UWVBFID0gdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzWzBdO1xuY29uc3QgdGlsZUxheWVyVHlwZXMgPSBbXCJ2ZWN0b3JcIiwgXCJyYXN0ZXJcIiwgXCIzZFRpbGVzXCJdO1xuLy8gVE9ETzogc3dpdGNoIHRoaXMgYmFjayBvbmNlIHRoZSBTZXR0aW5nVGlsZUxheWVyIHN1cHBvcnRzIHRoaXMgbnVtYmVyXG4vLyBleHBvcnQgY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NSU4gPSA1OTE2NTc1MjcuNTkxNTU1O1xuY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NSU4gPSAxNDc5MTQzODI7XG5jb25zdCBUSUxFX0xBWUVSX1NDQUxFX01BWCA9IDA7XG5jb25zdCBwcmVzZXRMb2RzID0gW1xuICAgIHsgbGV2ZWw6IDAsIGxhYmVsOiBcIjE6NTkxLDY1Nyw1MjhcIiwgc2NhbGU6IDU5MTY1NzUyNy41OTE1NTUgfSxcbiAgICB7IGxldmVsOiAxLCBsYWJlbDogXCIxOjI5NSw4MjgsNzY0XCIsIHNjYWxlOiAyOTU4Mjg3NjMuNzk1Nzc3IH0sXG4gICAgeyBsZXZlbDogMiwgbGFiZWw6IFwiMToxNDcsOTE0LDM4MlwiLCBzY2FsZTogMTQ3OTE0MzgxLjg5Nzg4OSB9LFxuICAgIHsgbGV2ZWw6IDMsIGxhYmVsOiBcIjE6NzMsOTU3LDE5MVwiLCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gICAgeyBsZXZlbDogNCwgbGFiZWw6IFwiMTozNiw5NzgsNTk1XCIsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgICB7IGxldmVsOiA1LCBsYWJlbDogXCIxOjE4LDQ4OSwyOThcIiwgc2NhbGU6IDE4NDg5Mjk3LjczNzIzNiB9LFxuICAgIHsgbGV2ZWw6IDYsIGxhYmVsOiBcIjE6OSwyNDQsNjQ5XCIsIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICAgIHsgbGV2ZWw6IDcsIGxhYmVsOiBcIjE6NCw2MjIsMzI0XCIsIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICAgIHsgbGV2ZWw6IDgsIGxhYmVsOiBcIjE6MiwzMTEsMTYyXCIsIHNjYWxlOiAyMzExMTYyLjIxNzE1NSB9LFxuICAgIHsgbGV2ZWw6IDksIGxhYmVsOiBcIjE6MSwxNTUsNTgxXCIsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgIHsgbGV2ZWw6IDEwLCBsYWJlbDogXCIxOjU3Nyw3OTFcIiwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICB7IGxldmVsOiAxMSwgbGFiZWw6IFwiMToyODgsODk1XCIsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgeyBsZXZlbDogMTIsIGxhYmVsOiBcIjE6MTQ0LDQ0OFwiLCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgIHsgbGV2ZWw6IDEzLCBsYWJlbDogXCIxOjcyLDIyNFwiLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gICAgeyBsZXZlbDogMTQsIGxhYmVsOiBcIjE6MzYsMTEyXCIsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICB7IGxldmVsOiAxNSwgbGFiZWw6IFwiMToxOCwwNTZcIiwgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgIHsgbGV2ZWw6IDE2LCBsYWJlbDogXCIxOjksMDI4XCIsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICAgIHsgbGV2ZWw6IDE3LCBsYWJlbDogXCIxOjQsNTE0XCIsIHNjYWxlOiA0NTEzLjk4ODcwNSB9LFxuICAgIHsgbGV2ZWw6IDE4LCBsYWJlbDogXCIxOjIsMjU3XCIsIHNjYWxlOiAyMjU2Ljk5NDM1MyB9LFxuICAgIHsgbGV2ZWw6IDE5LCBsYWJlbDogXCIxOjEsMTI4XCIsIHNjYWxlOiAxMTI4LjQ5NzE3NiB9LFxuICAgIHsgbGV2ZWw6IDIwLCBsYWJlbDogXCIxOjU2NFwiLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgIHsgbGV2ZWw6IDIxLCBsYWJlbDogXCIxOjI4MlwiLCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgIHsgbGV2ZWw6IDIyLCBsYWJlbDogXCIxOjE0MVwiLCBzY2FsZTogMTQxLjA2MjE0NyB9XG5dO1xuY29uc3QgcHJlc2V0UmFzdGVyVGlsZUNhY2hlSW5mbyA9IHtcbiAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDEwMjEwMCwgbGF0ZXN0V2tpZDogMzg1NyB9LFxuICAgIG9yaWdpbjogeyB4OiAtMjAwMzc1MDguMzQyNzg3LCB5OiAyMDAzNzUwOC4zNDI3ODcgfSxcbiAgICByb3dzOiAyNTYsXG4gICAgY29sczogMjU2LFxuICAgIGRwaTogOTYsXG4gICAgcHJlY2lzZURwaTogOTYsXG4gICAgbG9kczogW1xuICAgICAgICB7IGxldmVsOiAwLCByZXNvbHV0aW9uOiAxNTY1NDMuMDMzOTI4LCBzY2FsZTogNTkxNjU3NTI3LjU5MTU1NSB9LFxuICAgICAgICB7IGxldmVsOiAxLCByZXNvbHV0aW9uOiA3ODI3MS41MTY5NjM5OTk5LCBzY2FsZTogMjk1ODI4NzYzLjc5NTc3NyB9LFxuICAgICAgICB7IGxldmVsOiAyLCByZXNvbHV0aW9uOiAzOTEzNS43NTg0ODIwMDAxLCBzY2FsZTogMTQ3OTE0MzgxLjg5Nzg4OSB9LFxuICAgICAgICB7IGxldmVsOiAzLCByZXNvbHV0aW9uOiAxOTU2Ny44NzkyNDA5OTk5LCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDQsIHJlc29sdXRpb246IDk3ODMuOTM5NjIwNDk5OTYsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgICAgICAgeyBsZXZlbDogNSwgcmVzb2x1dGlvbjogNDg5MS45Njk4MTAyNDk5OCwgc2NhbGU6IDE4NDg5Mjk3LjczNzIzNiB9LFxuICAgICAgICB7IGxldmVsOiA2LCByZXNvbHV0aW9uOiAyNDQ1Ljk4NDkwNTEyNDk5LCBzY2FsZTogOTI0NDY0OC44Njg2MTggfSxcbiAgICAgICAgeyBsZXZlbDogNywgcmVzb2x1dGlvbjogMTIyMi45OTI0NTI1NjI0OSwgc2NhbGU6IDQ2MjIzMjQuNDM0MzA5IH0sXG4gICAgICAgIHsgbGV2ZWw6IDgsIHJlc29sdXRpb246IDYxMS40OTYyMjYyODEzOCwgc2NhbGU6IDIzMTExNjIuMjE3MTU1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDksIHJlc29sdXRpb246IDMwNS43NDgxMTMxNDA1NTgsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgICAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogMTUyLjg3NDA1NjU3MDQxMSwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICAgICAgeyBsZXZlbDogMTEsIHJlc29sdXRpb246IDc2LjQzNzAyODI4NTA3MzIsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDEyLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2LCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgICAgICB7IGxldmVsOiAxMywgcmVzb2x1dGlvbjogMTkuMTA5MjU3MDcxMjY4Mywgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgICAgICB7IGxldmVsOiAxNCwgcmVzb2x1dGlvbjogOS41NTQ2Mjg1MzU2MzQxNSwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICAgICAgICB7IGxldmVsOiAxNSwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgICAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMi4zODg2NTcxMzM5NzQ2OCwgc2NhbGU6IDkwMjcuOTc3NDExIH0sXG4gICAgICAgIHsgbGV2ZWw6IDE3LCByZXNvbHV0aW9uOiAxLjE5NDMyODU2Njg1NTA1LCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICAgICAgeyBsZXZlbDogMTgsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3LCBzY2FsZTogMjI1Ni45OTQzNTMgfSxcbiAgICAgICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMjk4NTgyMTQxNjQ3NjE3LCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICAgICAgeyBsZXZlbDogMjAsIHJlc29sdXRpb246IDAuMTQ5MjkxMDcwODIzODA4MzMsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIxLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgICAgICB7IGxldmVsOiAyMiwgcmVzb2x1dGlvbjogMC4wMzczMjI3Njc3MDU5NTIwOCwgc2NhbGU6IDE0MS4wNjIxNDcgfVxuICAgIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlQ2FjaGVJbmZvID0ge1xuICAgIHNwYXRpYWxSZWZlcmVuY2U6IHtcbiAgICAgICAgd2tpZDogMTAyMTAwLFxuICAgICAgICBsYXRlc3RXa2lkOiAzODU3XG4gICAgfSxcbiAgICBvcmlnaW46IHtcbiAgICAgICAgeDogLTIuMDAzNzUwODM0Mjc4N2U3LFxuICAgICAgICB5OiAyLjAwMzc1MDgzNDI3ODdlN1xuICAgIH0sXG4gICAgcm93czogNTEyLFxuICAgIGNvbHM6IDUxMixcbiAgICBkcGk6IDk2LFxuICAgIHByZWNpc2VEcGk6IDk2LFxuICAgIGxvZHM6IFtcbiAgICAgICAgeyBsZXZlbDogMCwgcmVzb2x1dGlvbjogNzgyNzEuNTE2OTYzOTk5OTQsIHNjYWxlOiAyLjk1ODI4NzYzNzk1Nzc3ZTggfSxcbiAgICAgICAgeyBsZXZlbDogMSwgcmVzb2x1dGlvbjogMzkxMzUuNzU4NDgyMDAwMDksIHNjYWxlOiAxLjQ3OTE0MzgxODk3ODg5ZTggfSxcbiAgICAgICAgeyBsZXZlbDogMiwgcmVzb2x1dGlvbjogMTk1NjcuODc5MjQwOTk5OTIsIHNjYWxlOiA3LjM5NTcxOTA5NDg5NDRlNyB9LFxuICAgICAgICB7IGxldmVsOiAzLCByZXNvbHV0aW9uOiA5NzgzLjkzOTYyMDQ5OTk2LCBzY2FsZTogMy42OTc4NTk1NDc0NDcyZTcgfSxcbiAgICAgICAgeyBsZXZlbDogNCwgcmVzb2x1dGlvbjogNDg5MS45Njk4MTAyNDk5OCwgc2NhbGU6IDEuODQ4OTI5NzczNzIzNmU3IH0sXG4gICAgICAgIHsgbGV2ZWw6IDUsIHJlc29sdXRpb246IDI0NDUuOTg0OTA1MTI0OTksIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICAgICAgICB7IGxldmVsOiA2LCByZXNvbHV0aW9uOiAxMjIyLjk5MjQ1MjU2MjQ5NSwgc2NhbGU6IDQ2MjIzMjQuNDM0MzA5IH0sXG4gICAgICAgIHsgbGV2ZWw6IDcsIHJlc29sdXRpb246IDYxMS40OTYyMjYyODEzNzk3LCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgICAgICAgeyBsZXZlbDogOCwgcmVzb2x1dGlvbjogMzA1Ljc0ODExMzE0MDU1NzU2LCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICAgICAgeyBsZXZlbDogOSwgcmVzb2x1dGlvbjogMTUyLjg3NDA1NjU3MDQxMTA2LCBzY2FsZTogNTc3NzkwLjU1NDI4OSB9LFxuICAgICAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogNzYuNDM3MDI4Mjg1MDczMjQsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgICAgIHsgbGV2ZWw6IDExLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2Miwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICAgICAgeyBsZXZlbDogMTIsIHJlc29sdXRpb246IDE5LjEwOTI1NzA3MTI2ODMxLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gICAgICAgIHsgbGV2ZWw6IDEzLCByZXNvbHV0aW9uOiA5LjU1NDYyODUzNTYzNDE1NSwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICAgICAgICB7IGxldmVsOiAxNCwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgICAgICB7IGxldmVsOiAxNSwgcmVzb2x1dGlvbjogMi4zODg2NTcxMzM5NzQ2ODUsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICAgICAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMS4xOTQzMjg1NjY4NTUwNTAzLCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICAgICAgeyBsZXZlbDogMTcsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3Miwgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gICAgICAgIHsgbGV2ZWw6IDE4LCByZXNvbHV0aW9uOiAwLjI5ODU4MjE0MTY0NzYxNjY1LCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICAgICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMTQ5MjkxMDcwODIzODA4MzMsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIwLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgICAgICB7IGxldmVsOiAyMSwgcmVzb2x1dGlvbjogMC4wMzczMjI3Njc3MDU5NTIwOCwgc2NhbGU6IDE0MS4wNjIxNDcgfSxcbiAgICAgICAgeyBsZXZlbDogMjIsIHJlc29sdXRpb246IDAuMDE4NjYxMzgzODUyOTc2MDQsIHNjYWxlOiA3MC41MzEwNzM1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIzLCByZXNvbHV0aW9uOiAwLjAwOTMzMDY5MTkyOTM0MjgwNDA0NjYyMTczNjUsIHNjYWxlOiAzNS4yNjU1MzY3NjA3ODk3MTUwMzI0MTIwNzk2MjYgfVxuICAgIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlSW1hZ2VJbmZvID0ge1xuICAgIGZvcm1hdDogXCJpbmRleGVkVmVjdG9yXCIsXG4gICAgY29tcHJlc3Npb25RdWFsaXR5OiAwLFxuICAgIGFudGlhbGlhc2luZzogZmFsc2Vcbn07XG5jb25zdCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvID0ge1xuICAgIGZvcm1hdDogXCJQTkczMlwiLFxuICAgIGNvbXByZXNzaW9uUXVhbGl0eTogMCxcbiAgICBhbnRpYWxpYXNpbmc6IHRydWVcbn07XG5cbmV4cG9ydCB7IERFRkFVTFRfVElMRV9MQVlFUl8zRF9USUxFU19MQVlFUl9UWVBFIGFzIEQsIFRJTEVfTEFZRVJfU0NBTEVfTUlOIGFzIFQsIHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8gYXMgYSwgcHJlc2V0VmVjdG9yVGlsZUltYWdlSW5mbyBhcyBiLCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvIGFzIGMsIHRpbGVMYXllclR5cGVzIGFzIGQsIFRJTEVfTEFZRVJfU0NBTEVfTUFYIGFzIGUsIHRpbGVMYXllckJhc2VtYXBzIGFzIGYsIHByZXNldExvZHMgYXMgZywgcHJlc2V0VmVjdG9yVGlsZUNhY2hlSW5mbyBhcyBwLCB0aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZXMgYXMgdCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWxlLWxheWVyLWNmMDRmYTk3LmpzLm1hcCIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgYyBhcyBjb25maWdTdGF0ZSB9IGZyb20gJy4vY29uZmlnLTc1YWRmOTYyLmpzJztcbmltcG9ydCB7IGEgYXMgYWRkSXRlbVN0YXRlIH0gZnJvbSAnLi9hZGQtaXRlbS1kYmJlMmY1Ny5qcyc7XG5cbmNvbnN0IFRFTEVNRVRSWV9JRCA9IFwiY3JlYXRlIHRpbGUgbGF5ZXJcIjtcbmNvbnN0IFRFTEVNRVRSWV9QQUdFX05BTUUgPSBcIm15IGNvbnRlbnRcIjtcbmNvbnN0IG1hcFRpbGVMYXllck9wdGlvblRvVGVsZW1ldHJ5ID0gKHR5cGUpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN0b3JlXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJkYXRhIHN0b3JlXCI7XG4gICAgICAgIGNhc2UgXCJleGlzdGluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnNcIjtcbiAgICAgICAgY2FzZSBcInVwbG9hZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidXBsb2FkXCI7XG4gICAgfVxufTtcbmNvbnN0IG1hcFRpbGVMYXllclR5cGVUb1RlbGVtZXRyeSA9ICh0eXBlKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0aWxlc1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwicmFzdGVyXCI7XG4gICAgICAgIGNhc2UgXCJ2ZWN0b3JUaWxlc1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwidmVjdG9yXCI7XG4gICAgfVxufTtcbmNvbnN0IGxvZ1RpbGVMYXllclN0YXJ0ID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydFdvcmtmbG93KFRFTEVNRVRSWV9JRCwge1xuICAgICAgICBjYXRlZ29yeTogXCJjcmVhdGUgdGlsZSBsYXllclwiLFxuICAgICAgICBwYWdlTmFtZTogXCJteSBjb250ZW50XCJcbiAgICB9KTtcbn07XG5jb25zdCBsb2dUaWxlTGF5ZXJGcm9tT3B0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHRlbGVtZXRyeSA9IGNvbmZpZ1N0YXRlLnRlbGVtZXRyeTtcbiAgICB0ZWxlbWV0cnkgPT09IG51bGwgfHwgdGVsZW1ldHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZWxlbWV0cnkuc3RlcFdvcmtmbG93KFRFTEVNRVRSWV9JRCwgXCJmcm9tIG9wdGlvblwiLCB7XG4gICAgICAgIGNhdGVnb3J5OiBURUxFTUVUUllfSUQsXG4gICAgICAgIGF0dHJpYnV0ZTogbWFwVGlsZUxheWVyT3B0aW9uVG9UZWxlbWV0cnkoYWRkSXRlbVN0YXRlLmFkZFRpbGVMYXllck9wdGlvbiksXG4gICAgICAgIGRldGFpbHM6IG1hcFRpbGVMYXllclR5cGVUb1RlbGVtZXRyeShhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUpLFxuICAgICAgICBwYWdlTmFtZTogVEVMRU1FVFJZX1BBR0VfTkFNRVxuICAgIH0pO1xufTtcbmNvbnN0IGxvZ1RpbGVMYXllckZpbmlzaCA9ICgpID0+IHtcbiAgICBjb25zdCB0ZWxlbWV0cnkgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnk7XG4gICAgdGVsZW1ldHJ5ID09PSBudWxsIHx8IHRlbGVtZXRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGVsZW1ldHJ5LmVuZFdvcmtmbG93KFRFTEVNRVRSWV9JRCwge1xuICAgICAgICBjYXRlZ29yeTogVEVMRU1FVFJZX0lELFxuICAgICAgICBhdHRyaWJ1dGU6IG1hcFRpbGVMYXllck9wdGlvblRvVGVsZW1ldHJ5KGFkZEl0ZW1TdGF0ZS5hZGRUaWxlTGF5ZXJPcHRpb24pLFxuICAgICAgICBkZXRhaWxzOiBtYXBUaWxlTGF5ZXJUeXBlVG9UZWxlbWV0cnkoYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hUeXBlKSxcbiAgICAgICAgcGFnZU5hbWU6IFRFTEVNRVRSWV9QQUdFX05BTUVcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGxvZ1RpbGVMYXllckZpbmlzaCBhcyBhLCBsb2dUaWxlTGF5ZXJGcm9tT3B0aW9uIGFzIGIsIGxvZ1RpbGVMYXllclN0YXJ0IGFzIGwgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZS1sYXllci1mMGY5ZWY0Yi5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmltcG9ydCB7IGMgYXMgY3JlYXRlU3RvcmUgfSBmcm9tICcuL2luZGV4LTA1OTU2Y2FiLmpzJztcblxuY29uc3QgdWlTdG9yZSA9IGNyZWF0ZVN0b3JlKHtcbiAgICBuZXh0VGV4dDogXCJuZXh0XCIsXG4gICAgd29ya2Zsb3c6IFwiY29udGVudFwiLFxuICAgIHNjYWxlOiBcIm1cIixcbiAgICBkaXNhYmxlU2Nyb2xsOiBmYWxzZSxcbiAgICBmZWF0dXJlRmxhZ3M6IHt9XG59KTtcbmNvbnN0IHVpU3RvcmVTdGF0ZSA9IHVpU3RvcmUuc3RhdGU7XG5cbmV4cG9ydCB7IHVpU3RvcmUgYXMgYSwgdWlTdG9yZVN0YXRlIGFzIHUgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWktYmNhN2JjZDEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9