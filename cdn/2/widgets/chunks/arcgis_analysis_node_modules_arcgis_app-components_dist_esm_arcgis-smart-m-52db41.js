"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-smart-m-52db41"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-smart-mapping-styler-popover.entry.js":
/*!**************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-smart-mapping-styler-popover.entry.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_smart_mapping_styler_popover: () => (/* binding */ ArcgisSmartMappingStylerPopover)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _raster_unique_value_0976ec7f_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./raster-unique-value-0976ec7f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/raster-unique-value-0976ec7f.js");
/* harmony import */ var _loadModules_b4ac1247_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadModules-b4ac1247.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-b4ac1247.js");
/* harmony import */ var _commonEnums_fcf13661_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./commonEnums-fcf13661.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/commonEnums-fcf13661.js");
/* harmony import */ var _languageUtil_ef0e54b2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./languageUtil-ef0e54b2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-ef0e54b2.js");
/* harmony import */ var _dom_4d367677_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dom-4d367677.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-4d367677.js");
/* harmony import */ var _locale_050b6db9_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./locale-050b6db9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/locale-050b6db9.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/* harmony import */ var _commonFunctions_b0830e9e_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commonFunctions-b0830e9e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/commonFunctions-b0830e9e.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */










const arcgisSmartMappingStylerPopoverCss = ".styler-popover{z-index:100;}.styler-panel{width:328px;min-height:300px}.styler-div{width:100%}";

const ArcgisSmartMappingStylerPopover = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.arcgisSmartMappingStylerPopoverClose = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "arcgisSmartMappingStylerPopoverClose", 7);
        this.arcgisSmartMappingStylerPopoverDisconnected = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "arcgisSmartMappingStylerPopoverDisconnected", 7);
        //--------------------------------------------------------------------------
        //
        //  Private Properties
        //
        //--------------------------------------------------------------------------
        this.documentTabHandler = undefined;
        this.documentClickHandler = undefined;
        this.panelScrollHandler = undefined;
        // --------------------------------------------------------------------------
        //
        //  Private methods
        //
        // --------------------------------------------------------------------------
        this.onOpen = () => { requestAnimationFrame(() => this.setFocus()); };
        this.referenceElement = undefined;
        this.open = false;
        this.heading = undefined;
    }
    //--------------------------------------------------------------------------
    //
    //  public calls
    //
    //--------------------------------------------------------------------------
    async reposition() {
        var _a;
        (_a = this.popoverNode) === null || _a === void 0 ? void 0 : _a.reposition();
    }
    async setFocus() {
        var _a;
        (_a = this.closeActionNode) === null || _a === void 0 ? void 0 : _a.setFocus();
    }
    async setOpen(open) {
        var _a;
        if (this.popoverNode) {
            this.popoverNode.open = open;
            if (open) {
                (_a = this.panelNode) === null || _a === void 0 ? void 0 : _a.setFocus();
                this.popoverNode.reposition();
            }
        }
    }
    async addStyler(stylerNode) {
        if (this.contentNode) {
            this.contentNode.appendChild(stylerNode);
        }
    }
    async getPopoverRefElement() {
        return this.closeActionNode;
    }
    //--------------------------------------------------------------------------
    //
    //  Lifecycle
    //
    //--------------------------------------------------------------------------
    componentDidLoad() {
        if (this.popoverNode) {
            requestAnimationFrame(() => this.closeActionNode.setFocus());
        }
    }
    disconnectedCallback() {
        // in case popover got removed by just removing node from DOM
        this.arcgisSmartMappingStylerPopoverDisconnected.emit();
    }
    // --------------------------------------------------------------------------
    //
    //  Render Methods
    //
    //--------------------------------------------------------------------------
    render() {
        const { referenceElement, open, heading } = this;
        const { strings } = _raster_unique_value_0976ec7f_js__WEBPACK_IMPORTED_MODULE_1__.s;
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.H, { class: "js-app-flyout arcgis-smart-mapping-popover" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-popover", { open: open, placement: "leading-start", offsetDistance: 0, offsetSkidding: 45, pointerDisabled: true, triggerDisabled: true, label: "", referenceElement: referenceElement, class: "smart-mapping-styler-popover js-app-flyout styler-popover", onCalcitePopoverOpen: this.onOpen, ref: (node) => (this.popoverNode = node) }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-panel", {
            // need access to the close button dom to pass to symbol styler as reference element,
            // so can't use closable:true
            closable: false, heading: heading || strings.styler.symbolStyle, class: "styler-panel", ref: (node) => (this.panelNode = node), onCalcitePanelClose: () => {
                this.arcgisSmartMappingStylerPopoverClose.emit();
                // focus on info icon; wait so enter key doesn't re-open it
                setTimeout(() => referenceElement.parentElement.focus(), 300);
            }
        }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { id: "symbol-styler-dismiss-button", slot: "header-actions-end", icon: "x", text: strings.close, onClick: () => this.arcgisSmartMappingStylerPopoverClose.emit(), ref: (node) => (this.closeActionNode = node) }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "styler-div", ref: (node) => (this.contentNode = node) })))));
    }
    get hostElement() { return (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
};
ArcgisSmartMappingStylerPopover.style = arcgisSmartMappingStylerPopoverCss;



//# sourceMappingURL=arcgis-smart-mapping-styler-popover.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLXNtYXJ0LW0tNTJkYjQxLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RztBQUNsQztBQUN4QztBQUNBO0FBQ0M7QUFDVDtBQUNHO0FBQ0Q7QUFDVTs7QUFFdkMsNERBQTRELGFBQWEsY0FBYyxZQUFZLGlCQUFpQixZQUFZLFdBQVc7O0FBRTNJO0FBQ0E7QUFDQSxRQUFRLHFEQUFnQjtBQUN4QixvREFBb0QscURBQVc7QUFDL0QsMkRBQTJELHFEQUFXO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQztBQUNsRCxnQkFBZ0IsVUFBVSxFQUFFLCtEQUFpQjtBQUM3QyxnQkFBZ0IscURBQUMsQ0FBQyxpREFBSSxJQUFJLHFEQUFxRCxFQUFFLHFEQUFDLHNCQUFzQiw2VEFBNlQsRUFBRSxxREFBQztBQUN4YTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsU0FBUyxFQUFFLHFEQUFDLHFCQUFxQiwrTUFBK00sR0FBRyxxREFBQyxVQUFVLCtEQUErRDtBQUM3VDtBQUNBLHdCQUF3QixPQUFPLHFEQUFVO0FBQ3pDO0FBQ0E7O0FBRWtGOztBQUVsRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1zbWFydC1tYXBwaW5nLXN0eWxlci1wb3BvdmVyLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBIIGFzIEhvc3QsIGQgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtZTNiZjdkYTcuanMnO1xuaW1wb3J0IHsgcyBhcyBzbWFydE1hcHBpbmdTdGF0ZSB9IGZyb20gJy4vcmFzdGVyLXVuaXF1ZS12YWx1ZS0wOTc2ZWM3Zi5qcyc7XG5pbXBvcnQgJy4vbG9hZE1vZHVsZXMtYjRhYzEyNDcuanMnO1xuaW1wb3J0ICcuL2NvbW1vbkVudW1zLWZjZjEzNjYxLmpzJztcbmltcG9ydCAnLi9sYW5ndWFnZVV0aWwtZWYwZTU0YjIuanMnO1xuaW1wb3J0ICcuL2RvbS00ZDM2NzY3Ny5qcyc7XG5pbXBvcnQgJy4vbG9jYWxlLTA1MGI2ZGI5LmpzJztcbmltcG9ydCAnLi9pbmRleC0wNTk1NmNhYi5qcyc7XG5pbXBvcnQgJy4vY29tbW9uRnVuY3Rpb25zLWIwODMwZTllLmpzJztcblxuY29uc3QgYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckNzcyA9IFwiLnN0eWxlci1wb3BvdmVye3otaW5kZXg6MTAwO30uc3R5bGVyLXBhbmVse3dpZHRoOjMyOHB4O21pbi1oZWlnaHQ6MzAwcHh9LnN0eWxlci1kaXZ7d2lkdGg6MTAwJX1cIjtcblxuY29uc3QgQXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlciA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMuYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckNsb3NlID0gY3JlYXRlRXZlbnQodGhpcywgXCJhcmNnaXNTbWFydE1hcHBpbmdTdHlsZXJQb3BvdmVyQ2xvc2VcIiwgNyk7XG4gICAgICAgIHRoaXMuYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckRpc2Nvbm5lY3RlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckRpc2Nvbm5lY3RlZFwiLCA3KTtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICAvLyAgUHJpdmF0ZSBQcm9wZXJ0aWVzXG4gICAgICAgIC8vXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5kb2N1bWVudFRhYkhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucGFuZWxTY3JvbGxIYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICAvLyAgUHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIC8vXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMub25PcGVuID0gKCkgPT4geyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5zZXRGb2N1cygpKTsgfTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyAgcHVibGljIGNhbGxzXG4gICAgLy9cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgcmVwb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLnBvcG92ZXJOb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwb3NpdGlvbigpO1xuICAgIH1cbiAgICBhc3luYyBzZXRGb2N1cygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNsb3NlQWN0aW9uTm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEZvY3VzKCk7XG4gICAgfVxuICAgIGFzeW5jIHNldE9wZW4ob3Blbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnBvcG92ZXJOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnBvcG92ZXJOb2RlLm9wZW4gPSBvcGVuO1xuICAgICAgICAgICAgaWYgKG9wZW4pIHtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnBhbmVsTm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEZvY3VzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyTm9kZS5yZXBvc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgYWRkU3R5bGVyKHN0eWxlck5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudE5vZGUuYXBwZW5kQ2hpbGQoc3R5bGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0UG9wb3ZlclJlZkVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlQWN0aW9uTm9kZTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gIExpZmVjeWNsZVxuICAgIC8vXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcG92ZXJOb2RlKSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5jbG9zZUFjdGlvbk5vZGUuc2V0Rm9jdXMoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIGluIGNhc2UgcG9wb3ZlciBnb3QgcmVtb3ZlZCBieSBqdXN0IHJlbW92aW5nIG5vZGUgZnJvbSBET01cbiAgICAgICAgdGhpcy5hcmNnaXNTbWFydE1hcHBpbmdTdHlsZXJQb3BvdmVyRGlzY29ubmVjdGVkLmVtaXQoKTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBSZW5kZXIgTWV0aG9kc1xuICAgIC8vXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyByZWZlcmVuY2VFbGVtZW50LCBvcGVuLCBoZWFkaW5nIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHN0cmluZ3MgfSA9IHNtYXJ0TWFwcGluZ1N0YXRlO1xuICAgICAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczogXCJqcy1hcHAtZmx5b3V0IGFyY2dpcy1zbWFydC1tYXBwaW5nLXBvcG92ZXJcIiB9LCBoKFwiY2FsY2l0ZS1wb3BvdmVyXCIsIHsgb3Blbjogb3BlbiwgcGxhY2VtZW50OiBcImxlYWRpbmctc3RhcnRcIiwgb2Zmc2V0RGlzdGFuY2U6IDAsIG9mZnNldFNraWRkaW5nOiA0NSwgcG9pbnRlckRpc2FibGVkOiB0cnVlLCB0cmlnZ2VyRGlzYWJsZWQ6IHRydWUsIGxhYmVsOiBcIlwiLCByZWZlcmVuY2VFbGVtZW50OiByZWZlcmVuY2VFbGVtZW50LCBjbGFzczogXCJzbWFydC1tYXBwaW5nLXN0eWxlci1wb3BvdmVyIGpzLWFwcC1mbHlvdXQgc3R5bGVyLXBvcG92ZXJcIiwgb25DYWxjaXRlUG9wb3Zlck9wZW46IHRoaXMub25PcGVuLCByZWY6IChub2RlKSA9PiAodGhpcy5wb3BvdmVyTm9kZSA9IG5vZGUpIH0sIGgoXCJjYWxjaXRlLXBhbmVsXCIsIHtcbiAgICAgICAgICAgIC8vIG5lZWQgYWNjZXNzIHRvIHRoZSBjbG9zZSBidXR0b24gZG9tIHRvIHBhc3MgdG8gc3ltYm9sIHN0eWxlciBhcyByZWZlcmVuY2UgZWxlbWVudCxcbiAgICAgICAgICAgIC8vIHNvIGNhbid0IHVzZSBjbG9zYWJsZTp0cnVlXG4gICAgICAgICAgICBjbG9zYWJsZTogZmFsc2UsIGhlYWRpbmc6IGhlYWRpbmcgfHwgc3RyaW5ncy5zdHlsZXIuc3ltYm9sU3R5bGUsIGNsYXNzOiBcInN0eWxlci1wYW5lbFwiLCByZWY6IChub2RlKSA9PiAodGhpcy5wYW5lbE5vZGUgPSBub2RlKSwgb25DYWxjaXRlUGFuZWxDbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckNsb3NlLmVtaXQoKTtcbiAgICAgICAgICAgICAgICAvLyBmb2N1cyBvbiBpbmZvIGljb247IHdhaXQgc28gZW50ZXIga2V5IGRvZXNuJ3QgcmUtb3BlbiBpdFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVmZXJlbmNlRWxlbWVudC5wYXJlbnRFbGVtZW50LmZvY3VzKCksIDMwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGgoXCJjYWxjaXRlLWFjdGlvblwiLCB7IGlkOiBcInN5bWJvbC1zdHlsZXItZGlzbWlzcy1idXR0b25cIiwgc2xvdDogXCJoZWFkZXItYWN0aW9ucy1lbmRcIiwgaWNvbjogXCJ4XCIsIHRleHQ6IHN0cmluZ3MuY2xvc2UsIG9uQ2xpY2s6ICgpID0+IHRoaXMuYXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3ZlckNsb3NlLmVtaXQoKSwgcmVmOiAobm9kZSkgPT4gKHRoaXMuY2xvc2VBY3Rpb25Ob2RlID0gbm9kZSkgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzdHlsZXItZGl2XCIsIHJlZjogKG5vZGUpID0+ICh0aGlzLmNvbnRlbnROb2RlID0gbm9kZSkgfSkpKSkpO1xuICAgIH1cbiAgICBnZXQgaG9zdEVsZW1lbnQoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuQXJjZ2lzU21hcnRNYXBwaW5nU3R5bGVyUG9wb3Zlci5zdHlsZSA9IGFyY2dpc1NtYXJ0TWFwcGluZ1N0eWxlclBvcG92ZXJDc3M7XG5cbmV4cG9ydCB7IEFyY2dpc1NtYXJ0TWFwcGluZ1N0eWxlclBvcG92ZXIgYXMgYXJjZ2lzX3NtYXJ0X21hcHBpbmdfc3R5bGVyX3BvcG92ZXIgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzLXNtYXJ0LW1hcHBpbmctc3R5bGVyLXBvcG92ZXIuZW50cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9