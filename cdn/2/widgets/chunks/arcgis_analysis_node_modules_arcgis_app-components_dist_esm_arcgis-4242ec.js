"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-4242ec"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-database.entry.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-database.entry.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_data_store_select_database: () => (/* binding */ ArcgisNewItemPagesDataStoreSelectDatabase)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data-store-e2ae6a67.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-e2ae6a67.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _data_store_8e83fb7a_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data-store-8e83fb7a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-8e83fb7a.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/* harmony import */ var _portal_d518b571_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./portal-d518b571.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-d518b571.js");
/* harmony import */ var _loadModules_b4ac1247_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loadModules-b4ac1247.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-b4ac1247.js");
/* harmony import */ var _url_4c3ae54c_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./url-4c3ae54c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-4c3ae54c.js");
/* harmony import */ var _functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./functional-44de8fcf.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-44de8fcf.js");
/* harmony import */ var _service_8c2c4241_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./service-8c2c4241.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/service-8c2c4241.js");
/* harmony import */ var _feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./feature-layer-573bb473.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-573bb473.js");
/* harmony import */ var _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./item-properties-10491b2e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-10491b2e.js");
/* harmony import */ var _feature_layer_79fb302c_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./feature-layer-79fb302c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-79fb302c.js");
/* harmony import */ var _guid_aeaed84d_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./guid-aeaed84d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-aeaed84d.js");
/* harmony import */ var _thumbnail_bcb89e69_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./thumbnail-bcb89e69.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-bcb89e69.js");
/* harmony import */ var _user_3ea69c3a_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./user-3ea69c3a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-3ea69c3a.js");
/* harmony import */ var _query_d62660d4_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./query-d62660d4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-d62660d4.js");
/* harmony import */ var _api_2e3a136f_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./api-2e3a136f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-2e3a136f.js");
/* harmony import */ var _string_58a5fef3_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./string-58a5fef3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/string-58a5fef3.js");
/* harmony import */ var _dom_4d367677_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dom-4d367677.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-4d367677.js");
/* harmony import */ var _item_c58ffced_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./item-c58ffced.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-c58ffced.js");
/* harmony import */ var _server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./server-item-8d384796.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-8d384796.js");
/* harmony import */ var _item_3535552d_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./item-3535552d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-3535552d.js");
/* harmony import */ var _functional_81373f6d_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./functional-81373f6d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-81373f6d.js");
/* harmony import */ var _item_types_2029b06b_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./item-types-2029b06b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-2029b06b.js");
/* harmony import */ var _feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./feature-layer-17b64946.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js");
/* harmony import */ var _ags_eb458a03_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ags-eb458a03.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-eb458a03.js");
/* harmony import */ var _url_35875a10_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./url-35875a10.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-35875a10.js");
/* harmony import */ var _storage_0353a769_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./storage-0353a769.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-0353a769.js");
/* harmony import */ var _file_bf8ab90f_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./file-bf8ab90f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-bf8ab90f.js");
/* harmony import */ var _store_6a88e6c5_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./store-6a88e6c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-6a88e6c5.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


































const arcgisNewItemPagesDataStoreSelectDatabaseCss = ".input-label{margin-top:1.25rem}.hidden-file-input{display:none}.device-select{margin-top:0.5rem;margin-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.server-database-connection-select{padding-bottom:0.5rem}.tile-select{margin-bottom:0.125rem}.server-file-name{font-weight:700}.file-input{margin-bottom:2rem;box-sizing:border-box;width:100%;border-width:2px;border-style:dashed;border-color:var(--calcite-color-border-1);background-color:var(--calcite-color-background);padding-top:2rem;padding-bottom:2rem;text-align:center}.file-browser-button{margin-top:0px;margin-bottom:0px;margin-left:0.75rem;margin-right:0.75rem;box-sizing:border-box;display:inline-flex;width:auto;cursor:pointer;align-items:center;border-radius:0;padding:0px;font-size:0.875rem;color:var(--calcite-color-text-1);border:1px solid var(--calcite-color-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-color-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-color-text-link);box-sizing:border-box;display:flex;height:2rem;width:2rem;align-items:center;justify-content:center;padding:0.25rem}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:0.5rem}.change-file{padding-top:0.5rem}.change-file-btn{cursor:pointer;color:#0079c1}.database-connection-table{width:100%;border-collapse:collapse;text-align:left}.database-connection-table tr{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}.database-connection-table td{padding:0.5rem;font-size:0.875rem;font-weight:300;border-left:1px solid #ccc;border-right:1px solid #ccc}.database-connection-table th{padding:0.5rem;font-size:1rem;font-weight:300;background-color:#efefef}tbody tr:nth-child(even){background-color:var(--calcite-color-background)}.text-container{margin-top:2rem;margin-bottom:2rem}.loader-container{display:flex}";

const ArcgisNewItemPagesDataStoreSelectDatabase = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.newItemUpdatePage = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
        this.missingHostingServer = false;
        this.handlePublisherFileDropEvent = (e) => {
            const file = e.detail;
            const hostingServerUrl = (0,_data_store_8e83fb7a_js__WEBPACK_IMPORTED_MODULE_5__.i)()
                ? this.hostingServer.adminPublicUrl
                : this.hostingServer.adminUrl;
            const url = `${hostingServerUrl}/admin/uploads/upload`;
            const data = new FormData();
            data.append("itemFile", file);
            this.resetPublisherFile();
            this.importingPublisherFile = true;
            (0,_data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_2__.h)(url, data, hostingServerUrl || "").then((response) => {
                this.publisherFileName = response.result.itemName;
                this.publisherFileProps = response.result.connectionStringProps;
                this.publisherConnectionString = response.result.connectionString;
                this.importingPublisherFile = false;
            });
        };
        this.handleServerFileDropEvent = (e) => {
            const file = e.detail;
            const hostingServerUrl = (0,_data_store_8e83fb7a_js__WEBPACK_IMPORTED_MODULE_5__.i)()
                ? this.hostingServer.adminPublicUrl
                : this.hostingServer.adminUrl;
            const url = `${hostingServerUrl}/admin/uploads/upload`;
            const data = new FormData();
            data.append("itemFile", file);
            this.resetServerFile();
            this.importingServerFile = true;
            (0,_data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_2__.h)(url, data, hostingServerUrl || "").then((response) => {
                this.serverFileName = response.result.itemName;
                this.serverFileProps = response.result.connectionStringProps;
                this.serverConnectionString = response.result.connectionString;
                this.importingServerFile = false;
            });
        };
        this.error = null;
        this.allowedExtensions = ["sde"];
        this.serverDatabaseOption = null;
        this.publisherFiles = undefined;
        this.publisherFileName = undefined;
        this.serverFiles = undefined;
        this.serverFileName = undefined;
        this.publisherConnectionString = "";
        this.serverConnectionString = "";
        this.importingPublisherFile = false;
        this.importingServerFile = false;
        this.hostingServer = undefined;
        this.publisherFileProps = undefined;
        this.serverFileProps = undefined;
    }
    async componentWillLoad() {
        this.i18n = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_3__.u.i18n.dataStoreSelectDatabase;
        this.hostingServer = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.hostingServer;
        if (!this.hostingServer) {
            this.missingHostingServer = true;
        }
        this.publisherConnectionString = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherConnectionString;
        this.publisherFileName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFileName;
        this.publisherFileProps = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFileProps;
        this.serverDatabaseOption = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverDatabaseOption || null;
        this.serverConnectionString = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverConnectionString;
        this.serverFileName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileName;
        this.serverFileProps = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileProps;
    }
    validFileInputs() {
        const { publisherConnectionString, serverConnectionString, serverDatabaseOption } = this;
        if (!publisherConnectionString) {
            this.error = "invalidPublisherConnectionFile";
            return false;
        }
        if (serverDatabaseOption === "newConnection" && !serverConnectionString) {
            this.error = "invalidServerConnectionFile";
            return false;
        }
        return true;
    }
    handleNext() {
        if (this.validFileInputs()) {
            const { publisherConnectionString, serverConnectionString, serverDatabaseOption } = this;
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherConnectionString = publisherConnectionString;
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFileName = this.publisherFileName;
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFileProps = this.publisherFileProps;
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverDatabaseOption = serverDatabaseOption;
            if (serverDatabaseOption === "newConnection") {
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverConnectionString = serverConnectionString;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileName = this.serverFileName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileProps = this.serverFileProps;
            }
            else {
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverConnectionString = null;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileName = null;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFileProps = null;
            }
            this.newItemUpdatePage.emit("dataStoreSelectServerList");
        }
    }
    propIsNotPassword(prop) {
        return ["ENCRYPTED_PASSWORD_UTF8", "ENCRYPTED_PASSWORD"].indexOf(prop.key) <= -1;
    }
    resetPublisherFile() {
        this.publisherFiles = null;
        this.publisherFileProps = null;
        this.publisherConnectionString = null;
        this.publisherFileName = null;
    }
    resetServerFile() {
        this.serverFiles = null;
        this.serverFileProps = null;
        this.serverConnectionString = null;
        this.serverFileName = null;
    }
    renderErrorItem() {
        var _a, _b;
        const { i18n, error } = this;
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: (_a = i18n.errors[error]) === null || _a === void 0 ? void 0 : _a.heading, description: (_b = i18n.errors[error]) === null || _b === void 0 ? void 0 : _b.description, active: error !== null, onAlertDismiss: () => {
                this.error = null;
            } }));
    }
    render() {
        const { i18n, missingHostingServer, allowedExtensions, publisherFileProps, serverFileProps, importingPublisherFile, importingServerFile, serverFileName, publisherFileName } = this;
        const { config } = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_4__.c;
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: missingHostingServer ? i18n.errors.hostingServerError : i18n.heading }), !missingHostingServer && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.publisherDatabaseConnection, " ", i18n.sdeFile, !importingPublisherFile && !publisherFileProps && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-drag-and-drop", { files: this.publisherFiles, allowedExtensions: allowedExtensions, insideModal: true, fullHeight: true, config: config, onArcgisDropSuccess: this.handlePublisherFileDropEvent }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "file-input" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("input", { class: "hidden-file-input", onChange: (e) => {
                this.publisherFiles = Object.assign({}, e.target.files);
            }, ref: (el) => (this.publisherInputElement = el), accept: allowedExtensions === null || allowedExtensions === void 0 ? void 0 : allowedExtensions.map((extension) => `.${extension}`).join(","), tabIndex: -1, type: "file" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { width: "42", height: "54", viewBox: "0 0 42 54", fill: "none", xmlns: "http://www.w3.org/2000/svg", "aria-hidden": "true", focusable: "false" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z", fill: "#6A6A6A" }), ")", (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("path", { "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z", fill: "#6A6A6A" })), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "text-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("h3", { class: "device-select" }, i18n.dragAndDropOrSelectFile)), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { class: "file-browser-button", onClick: () => { var _a; return (_a = this.publisherInputElement) === null || _a === void 0 ? void 0 : _a.click(); } }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "file-browser-button__icon" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: "desktop" })), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "file-browser-button__text" }, i18n.selectFile))))), importingPublisherFile && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "loader-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-loader", { inline: true, label: "importing-publisher-file-loader" }), i18n.importingConnectionFile)), publisherFileProps && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("table", { class: "database-connection-table" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", { colSpan: 2 }, i18n.fileChosen, ":", " ", (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "server-file-name" }, publisherFileName)))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody", null, publisherFileProps.map((prop) => {
            return (this.propIsNotPassword(prop) && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, prop.key), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", { class: "value-cell" }, prop.value))));
        }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "change-file" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "change-file-btn", onClick: () => {
                this.resetPublisherFile();
            } }, i18n.chooseDifferentFile)))))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.serverDatabaseConnection, " ", i18n.sdeFile)), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical", key: "server-database-connection-select", class: "server-database-connection-select" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { class: "tile-select", key: "publisher-database-connection-select", checked: this.serverDatabaseOption === null, description: i18n.sameAsPublisher, name: "same-as-publisher-database-connection", "input-enabled": true, width: "full", type: "radio", value: null, onCalciteTileSelectChange: () => {
                this.serverDatabaseOption = null;
            } }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { class: "tile-select", key: "new-server-database-connection-select", checked: this.serverDatabaseOption === "newConnection", description: i18n.newConnection, name: "new-server-database-connection", "input-enabled": true, width: "full", type: "radio", value: "newConnection", onCalciteTileSelectChange: () => {
                this.serverDatabaseOption = "newConnection";
            } })), this.serverDatabaseOption === "newConnection" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, !importingServerFile && !serverFileProps && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-drag-and-drop", { files: this.serverFiles, allowedExtensions: allowedExtensions, insideModal: true, fullHeight: true, config: config, onArcgisDropSuccess: this.handleServerFileDropEvent }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "file-input" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("input", { class: "hidden-file-input", onChange: (e) => {
                this.serverFiles = Object.assign({}, e.target.files);
            }, ref: (el) => (this.serverInputElement = el), accept: allowedExtensions === null || allowedExtensions === void 0 ? void 0 : allowedExtensions.map((extension) => `.${extension}`).join(","), tabIndex: -1, type: "file" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { width: "42", height: "54", viewBox: "0 0 42 54", fill: "none", xmlns: "http://www.w3.org/2000/svg", "aria-hidden": "true", focusable: "false" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z", fill: "#6A6A6A" }), ")", (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("path", { "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z", fill: "#6A6A6A" })), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "text-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("h3", { class: "device-select" }, i18n.dragAndDropOrSelectFile)), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { class: "file-browser-button", onClick: () => { var _a; return (_a = this.serverInputElement) === null || _a === void 0 ? void 0 : _a.click(); } }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "file-browser-button__icon" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: "desktop" })), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "file-browser-button__text" }, i18n.selectFile))))), importingServerFile && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "loader-container" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-loader", { inline: true, label: "importing-publisher-file-loader" }), i18n.importingConnectionFile)), serverFileProps && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("table", { class: "database-connection-table" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", { colSpan: 2 }, i18n.fileChosen, ":", " ", (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "server-file-name" }, serverFileName)))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody", null, serverFileProps.map((prop) => {
            return (this.propIsNotPassword(prop) && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, prop.key), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", { class: "value-cell" }, prop.value))));
        }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "change-file" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "change-file-btn", onClick: () => {
                this.resetServerFile();
            } }, i18n.chooseDifferentFile)))))), this.renderErrorItem()))));
    }
};
ArcgisNewItemPagesDataStoreSelectDatabase.style = arcgisNewItemPagesDataStoreSelectDatabaseCss;



//# sourceMappingURL=arcgis-new-item-pages-data-store-select-database.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLTQyNDJlYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDaUY7QUFDdEI7QUFDWTtBQUNsQjtBQUNHO0FBQ3VCO0FBQ2xEO0FBQ0M7QUFDSztBQUNSO0FBQ087QUFDSDtBQUNNO0FBQ0U7QUFDRjtBQUNUO0FBQ0s7QUFDTDtBQUNDO0FBQ0Y7QUFDRztBQUNIO0FBQ0M7QUFDTztBQUNQO0FBQ007QUFDQTtBQUNHO0FBQ1Y7QUFDQTtBQUNJO0FBQ0g7QUFDQzs7QUFFN0IsbUVBQW1FLG1CQUFtQixtQkFBbUIsYUFBYSxlQUFlLGtCQUFrQixxQkFBcUIsZUFBZSxnQkFBZ0Isa0NBQWtDLG1DQUFtQyxzQkFBc0IsYUFBYSx1QkFBdUIsa0JBQWtCLGdCQUFnQixZQUFZLG1CQUFtQixzQkFBc0IsV0FBVyxpQkFBaUIsb0JBQW9CLDJDQUEyQyxpREFBaUQsaUJBQWlCLG9CQUFvQixrQkFBa0IscUJBQXFCLGVBQWUsa0JBQWtCLG9CQUFvQixxQkFBcUIsc0JBQXNCLG9CQUFvQixXQUFXLGVBQWUsbUJBQW1CLGdCQUFnQixZQUFZLG1CQUFtQixrQ0FBa0MsK0NBQStDLHVCQUF1QixpQ0FBaUMsbUJBQW1CLDBCQUEwQixvQkFBb0IsMkJBQTJCLHdDQUF3QywyQkFBMkIsNkNBQTZDLG9CQUFvQiwyQkFBMkIseUJBQXlCLHFDQUFxQyxzQkFBc0IsYUFBYSxZQUFZLFdBQVcsbUJBQW1CLHVCQUF1QixnQkFBZ0IsK0JBQStCLFdBQVcsMkJBQTJCLGVBQWUsYUFBYSxtQkFBbUIsaUJBQWlCLGVBQWUsY0FBYywyQkFBMkIsV0FBVyx5QkFBeUIsZ0JBQWdCLDhCQUE4QixpQkFBaUIsbUJBQW1CLDJDQUEyQyw4QkFBOEIsZUFBZSxtQkFB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QUFDZjtBQUNBO0FBQ0E7O0FBRXlHOztBQUV6RyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1uZXctaXRlbS1wYWdlcy1kYXRhLXN0b3JlLXNlbGVjdC1kYXRhYmFzZS5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCB9IGZyb20gJy4vaW5kZXgtZTNiZjdkYTcuanMnO1xuaW1wb3J0IHsgYSBhcyBhZGRJdGVtU3RhdGUgfSBmcm9tICcuL2FkZC1pdGVtLWRiYmUyZjU3LmpzJztcbmltcG9ydCB7IGggYXMgaGFuZGxlRGF0YWJhc2VGaWxlRHJvcCB9IGZyb20gJy4vZGF0YS1zdG9yZS1lMmFlNmE2Ny5qcyc7XG5pbXBvcnQgeyB1IGFzIHVpU3RvcmVTdGF0ZSB9IGZyb20gJy4vdWktYmNhN2JjZDEuanMnO1xuaW1wb3J0IHsgYyBhcyBjb25maWdTdGF0ZSB9IGZyb20gJy4vY29uZmlnLTc1YWRmOTYyLmpzJztcbmltcG9ydCB7IGkgYXMgaXNBcmNHSVNFbnRlcnByaXNlT25LdWJlcm5ldGVzIH0gZnJvbSAnLi9kYXRhLXN0b3JlLThlODNmYjdhLmpzJztcbmltcG9ydCAnLi9pbmRleC0wNTk1NmNhYi5qcyc7XG5pbXBvcnQgJy4vcG9ydGFsLWQ1MThiNTcxLmpzJztcbmltcG9ydCAnLi9sb2FkTW9kdWxlcy1iNGFjMTI0Ny5qcyc7XG5pbXBvcnQgJy4vdXJsLTRjM2FlNTRjLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLTQ0ZGU4ZmNmLmpzJztcbmltcG9ydCAnLi9zZXJ2aWNlLThjMmM0MjQxLmpzJztcbmltcG9ydCAnLi9mZWF0dXJlLWxheWVyLTU3M2JiNDczLmpzJztcbmltcG9ydCAnLi9pdGVtLXByb3BlcnRpZXMtMTA0OTFiMmUuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItNzlmYjMwMmMuanMnO1xuaW1wb3J0ICcuL2d1aWQtYWVhZWQ4NGQuanMnO1xuaW1wb3J0ICcuL3RodW1ibmFpbC1iY2I4OWU2OS5qcyc7XG5pbXBvcnQgJy4vdXNlci0zZWE2OWMzYS5qcyc7XG5pbXBvcnQgJy4vcXVlcnktZDYyNjYwZDQuanMnO1xuaW1wb3J0ICcuL2FwaS0yZTNhMTM2Zi5qcyc7XG5pbXBvcnQgJy4vc3RyaW5nLTU4YTVmZWYzLmpzJztcbmltcG9ydCAnLi9kb20tNGQzNjc2NzcuanMnO1xuaW1wb3J0ICcuL2l0ZW0tYzU4ZmZjZWQuanMnO1xuaW1wb3J0ICcuL3NlcnZlci1pdGVtLThkMzg0Nzk2LmpzJztcbmltcG9ydCAnLi9pdGVtLTM1MzU1NTJkLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLTgxMzczZjZkLmpzJztcbmltcG9ydCAnLi9pdGVtLXR5cGVzLTIwMjliMDZiLmpzJztcbmltcG9ydCAnLi9mZWF0dXJlLWxheWVyLTE3YjY0OTQ2LmpzJztcbmltcG9ydCAnLi9hZ3MtZWI0NThhMDMuanMnO1xuaW1wb3J0ICcuL3VybC0zNTg3NWExMC5qcyc7XG5pbXBvcnQgJy4vc3RvcmFnZS0wMzUzYTc2OS5qcyc7XG5pbXBvcnQgJy4vZmlsZS1iZjhhYjkwZi5qcyc7XG5pbXBvcnQgJy4vc3RvcmUtNmE4OGU2YzUuanMnO1xuXG5jb25zdCBhcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3REYXRhYmFzZUNzcyA9IFwiLmlucHV0LWxhYmVse21hcmdpbi10b3A6MS4yNXJlbX0uaGlkZGVuLWZpbGUtaW5wdXR7ZGlzcGxheTpub25lfS5kZXZpY2Utc2VsZWN0e21hcmdpbi10b3A6MC41cmVtO21hcmdpbi1ib3R0b206MC41cmVtO2ZvbnQtc2l6ZToxcmVtO2ZvbnQtd2VpZ2h0OjUwMDtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSl9LnNlcnZlci1kYXRhYmFzZS1jb25uZWN0aW9uLXNlbGVjdHtwYWRkaW5nLWJvdHRvbTowLjVyZW19LnRpbGUtc2VsZWN0e21hcmdpbi1ib3R0b206MC4xMjVyZW19LnNlcnZlci1maWxlLW5hbWV7Zm9udC13ZWlnaHQ6NzAwfS5maWxlLWlucHV0e21hcmdpbi1ib3R0b206MnJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTtib3JkZXItd2lkdGg6MnB4O2JvcmRlci1zdHlsZTpkYXNoZWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTEpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1iYWNrZ3JvdW5kKTtwYWRkaW5nLXRvcDoycmVtO3BhZGRpbmctYm90dG9tOjJyZW07dGV4dC1hbGlnbjpjZW50ZXJ9LmZpbGUtYnJvd3Nlci1idXR0b257bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MC43NXJlbTttYXJnaW4tcmlnaHQ6MC43NXJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTppbmxpbmUtZmxleDt3aWR0aDphdXRvO2N1cnNvcjpwb2ludGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXItcmFkaXVzOjA7cGFkZGluZzowcHg7Zm9udC1zaXplOjAuODc1cmVtO2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0xKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTEpO2JhY2tncm91bmQtY29sb3I6d2hpdGU7dHJhbnNpdGlvbjphbGwgMTUwbXMgZWFzZS1pbi1vdXQ7b3V0bGluZS1vZmZzZXQ6MHB4O291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnQ7Zm9udC1mYW1pbHk6aW5oZXJpdH0uZmlsZS1icm93c2VyLWJ1dHRvbjpob3Zlcntib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCl9LmZpbGUtYnJvd3Nlci1idXR0b246Zm9jdXN7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCk7b3V0bGluZS1vZmZzZXQ6LTJweH0uZmlsZS1icm93c2VyLWJ1dHRvbl9faWNvbntiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjg7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LWxpbmspO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmZsZXg7aGVpZ2h0OjJyZW07d2lkdGg6MnJlbTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOjAuMjVyZW19LmZpbGUtYnJvd3Nlci1idXR0b25fX2ljb24gc3Zne3dpZHRoOjEwMCV9LmZpbGUtYnJvd3Nlci1idXR0b25fX3RleHR7cGFkZGluZzowLjVyZW19LmNoYW5nZS1maWxle3BhZGRpbmctdG9wOjAuNXJlbX0uY2hhbmdlLWZpbGUtYnRue2N1cnNvcjpwb2ludGVyO2NvbG9yOiMwMDc5YzF9LmRhdGFiYXNlLWNvbm5lY3Rpb24tdGFibGV7d2lkdGg6MTAwJTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGV4dC1hbGlnbjpsZWZ0fS5kYXRhYmFzZS1jb25uZWN0aW9uLXRhYmxlIHRye2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci0xKX0uZGF0YWJhc2UtY29ubmVjdGlvbi10YWJsZSB0ZHtwYWRkaW5nOjAuNXJlbTtmb250LXNpemU6MC44NzVyZW07Zm9udC13ZWlnaHQ6MzAwO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjY2NjO2JvcmRlci1yaWdodDoxcHggc29saWQgI2NjY30uZGF0YWJhc2UtY29ubmVjdGlvbi10YWJsZSB0aHtwYWRkaW5nOjAuNXJlbTtmb250LXNpemU6MXJlbTtmb250LXdlaWdodDozMDA7YmFja2dyb3VuZC1jb2xvcjojZWZlZmVmfXRib2R5IHRyOm50aC1jaGlsZChldmVuKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYmFja2dyb3VuZCl9LnRleHQtY29udGFpbmVye21hcmdpbi10b3A6MnJlbTttYXJnaW4tYm90dG9tOjJyZW19LmxvYWRlci1jb250YWluZXJ7ZGlzcGxheTpmbGV4fVwiO1xuXG5jb25zdCBBcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3REYXRhYmFzZSA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMubmV3SXRlbVVwZGF0ZVBhZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcIm5ld0l0ZW1VcGRhdGVQYWdlXCIsIDcpO1xuICAgICAgICB0aGlzLm1pc3NpbmdIb3N0aW5nU2VydmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFuZGxlUHVibGlzaGVyRmlsZURyb3BFdmVudCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gZS5kZXRhaWw7XG4gICAgICAgICAgICBjb25zdCBob3N0aW5nU2VydmVyVXJsID0gaXNBcmNHSVNFbnRlcnByaXNlT25LdWJlcm5ldGVzKClcbiAgICAgICAgICAgICAgICA/IHRoaXMuaG9zdGluZ1NlcnZlci5hZG1pblB1YmxpY1VybFxuICAgICAgICAgICAgICAgIDogdGhpcy5ob3N0aW5nU2VydmVyLmFkbWluVXJsO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7aG9zdGluZ1NlcnZlclVybH0vYWRtaW4vdXBsb2Fkcy91cGxvYWRgO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgZGF0YS5hcHBlbmQoXCJpdGVtRmlsZVwiLCBmaWxlKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQdWJsaXNoZXJGaWxlKCk7XG4gICAgICAgICAgICB0aGlzLmltcG9ydGluZ1B1Ymxpc2hlckZpbGUgPSB0cnVlO1xuICAgICAgICAgICAgaGFuZGxlRGF0YWJhc2VGaWxlRHJvcCh1cmwsIGRhdGEsIGhvc3RpbmdTZXJ2ZXJVcmwgfHwgXCJcIikudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVOYW1lID0gcmVzcG9uc2UucmVzdWx0Lml0ZW1OYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyRmlsZVByb3BzID0gcmVzcG9uc2UucmVzdWx0LmNvbm5lY3Rpb25TdHJpbmdQcm9wcztcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmcgPSByZXNwb25zZS5yZXN1bHQuY29ubmVjdGlvblN0cmluZztcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydGluZ1B1Ymxpc2hlckZpbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVNlcnZlckZpbGVEcm9wRXZlbnQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGUuZGV0YWlsO1xuICAgICAgICAgICAgY29uc3QgaG9zdGluZ1NlcnZlclVybCA9IGlzQXJjR0lTRW50ZXJwcmlzZU9uS3ViZXJuZXRlcygpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmhvc3RpbmdTZXJ2ZXIuYWRtaW5QdWJsaWNVcmxcbiAgICAgICAgICAgICAgICA6IHRoaXMuaG9zdGluZ1NlcnZlci5hZG1pblVybDtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke2hvc3RpbmdTZXJ2ZXJVcmx9L2FkbWluL3VwbG9hZHMvdXBsb2FkYDtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGRhdGEuYXBwZW5kKFwiaXRlbUZpbGVcIiwgZmlsZSk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U2VydmVyRmlsZSgpO1xuICAgICAgICAgICAgdGhpcy5pbXBvcnRpbmdTZXJ2ZXJGaWxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGhhbmRsZURhdGFiYXNlRmlsZURyb3AodXJsLCBkYXRhLCBob3N0aW5nU2VydmVyVXJsIHx8IFwiXCIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJGaWxlTmFtZSA9IHJlc3BvbnNlLnJlc3VsdC5pdGVtTmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckZpbGVQcm9wcyA9IHJlc3BvbnNlLnJlc3VsdC5jb25uZWN0aW9uU3RyaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJDb25uZWN0aW9uU3RyaW5nID0gcmVzcG9uc2UucmVzdWx0LmNvbm5lY3Rpb25TdHJpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRpbmdTZXJ2ZXJGaWxlID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuYWxsb3dlZEV4dGVuc2lvbnMgPSBbXCJzZGVcIl07XG4gICAgICAgIHRoaXMuc2VydmVyRGF0YWJhc2VPcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlcnZlckZpbGVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlcnZlckZpbGVOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmcgPSBcIlwiO1xuICAgICAgICB0aGlzLnNlcnZlckNvbm5lY3Rpb25TdHJpbmcgPSBcIlwiO1xuICAgICAgICB0aGlzLmltcG9ydGluZ1B1Ymxpc2hlckZpbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbXBvcnRpbmdTZXJ2ZXJGaWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaG9zdGluZ1NlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJGaWxlUHJvcHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2VydmVyRmlsZVByb3BzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICAgICAgdGhpcy5pMThuID0gdWlTdG9yZVN0YXRlLmkxOG4uZGF0YVN0b3JlU2VsZWN0RGF0YWJhc2U7XG4gICAgICAgIHRoaXMuaG9zdGluZ1NlcnZlciA9IGFkZEl0ZW1TdGF0ZS5ob3N0aW5nU2VydmVyO1xuICAgICAgICBpZiAoIXRoaXMuaG9zdGluZ1NlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5taXNzaW5nSG9zdGluZ1NlcnZlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdWJsaXNoZXJDb25uZWN0aW9uU3RyaW5nID0gYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmc7XG4gICAgICAgIHRoaXMucHVibGlzaGVyRmlsZU5hbWUgPSBhZGRJdGVtU3RhdGUucHVibGlzaGVyRmlsZU5hbWU7XG4gICAgICAgIHRoaXMucHVibGlzaGVyRmlsZVByb3BzID0gYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckZpbGVQcm9wcztcbiAgICAgICAgdGhpcy5zZXJ2ZXJEYXRhYmFzZU9wdGlvbiA9IGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJEYXRhYmFzZU9wdGlvbiB8fCBudWxsO1xuICAgICAgICB0aGlzLnNlcnZlckNvbm5lY3Rpb25TdHJpbmcgPSBhZGRJdGVtU3RhdGUuc2VydmVyQ29ubmVjdGlvblN0cmluZztcbiAgICAgICAgdGhpcy5zZXJ2ZXJGaWxlTmFtZSA9IGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJGaWxlTmFtZTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJGaWxlUHJvcHMgPSBhZGRJdGVtU3RhdGUuc2VydmVyRmlsZVByb3BzO1xuICAgIH1cbiAgICB2YWxpZEZpbGVJbnB1dHMoKSB7XG4gICAgICAgIGNvbnN0IHsgcHVibGlzaGVyQ29ubmVjdGlvblN0cmluZywgc2VydmVyQ29ubmVjdGlvblN0cmluZywgc2VydmVyRGF0YWJhc2VPcHRpb24gfSA9IHRoaXM7XG4gICAgICAgIGlmICghcHVibGlzaGVyQ29ubmVjdGlvblN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IFwiaW52YWxpZFB1Ymxpc2hlckNvbm5lY3Rpb25GaWxlXCI7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcnZlckRhdGFiYXNlT3B0aW9uID09PSBcIm5ld0Nvbm5lY3Rpb25cIiAmJiAhc2VydmVyQ29ubmVjdGlvblN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IFwiaW52YWxpZFNlcnZlckNvbm5lY3Rpb25GaWxlXCI7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGhhbmRsZU5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkRmlsZUlucHV0cygpKSB7XG4gICAgICAgICAgICBjb25zdCB7IHB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmcsIHNlcnZlckNvbm5lY3Rpb25TdHJpbmcsIHNlcnZlckRhdGFiYXNlT3B0aW9uIH0gPSB0aGlzO1xuICAgICAgICAgICAgYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmcgPSBwdWJsaXNoZXJDb25uZWN0aW9uU3RyaW5nO1xuICAgICAgICAgICAgYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckZpbGVOYW1lID0gdGhpcy5wdWJsaXNoZXJGaWxlTmFtZTtcbiAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5wdWJsaXNoZXJGaWxlUHJvcHMgPSB0aGlzLnB1Ymxpc2hlckZpbGVQcm9wcztcbiAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJEYXRhYmFzZU9wdGlvbiA9IHNlcnZlckRhdGFiYXNlT3B0aW9uO1xuICAgICAgICAgICAgaWYgKHNlcnZlckRhdGFiYXNlT3B0aW9uID09PSBcIm5ld0Nvbm5lY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJDb25uZWN0aW9uU3RyaW5nID0gc2VydmVyQ29ubmVjdGlvblN0cmluZztcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc2VydmVyRmlsZU5hbWUgPSB0aGlzLnNlcnZlckZpbGVOYW1lO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJGaWxlUHJvcHMgPSB0aGlzLnNlcnZlckZpbGVQcm9wcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJDb25uZWN0aW9uU3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc2VydmVyRmlsZU5hbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJGaWxlUHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXdJdGVtVXBkYXRlUGFnZS5lbWl0KFwiZGF0YVN0b3JlU2VsZWN0U2VydmVyTGlzdFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9wSXNOb3RQYXNzd29yZChwcm9wKSB7XG4gICAgICAgIHJldHVybiBbXCJFTkNSWVBURURfUEFTU1dPUkRfVVRGOFwiLCBcIkVOQ1JZUFRFRF9QQVNTV09SRFwiXS5pbmRleE9mKHByb3Aua2V5KSA8PSAtMTtcbiAgICB9XG4gICAgcmVzZXRQdWJsaXNoZXJGaWxlKCkge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJGaWxlUHJvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckNvbm5lY3Rpb25TdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVOYW1lID0gbnVsbDtcbiAgICB9XG4gICAgcmVzZXRTZXJ2ZXJGaWxlKCkge1xuICAgICAgICB0aGlzLnNlcnZlckZpbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXJ2ZXJGaWxlUHJvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNlcnZlckNvbm5lY3Rpb25TdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLnNlcnZlckZpbGVOYW1lID0gbnVsbDtcbiAgICB9XG4gICAgcmVuZGVyRXJyb3JJdGVtKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB7IGkxOG4sIGVycm9yIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoXCJhcmNnaXMtbmV3LWl0ZW0tYWxlcnRcIiwgeyBoZWFkaW5nOiAoX2EgPSBpMThuLmVycm9yc1tlcnJvcl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWFkaW5nLCBkZXNjcmlwdGlvbjogKF9iID0gaTE4bi5lcnJvcnNbZXJyb3JdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVzY3JpcHRpb24sIGFjdGl2ZTogZXJyb3IgIT09IG51bGwsIG9uQWxlcnREaXNtaXNzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB9IH0pKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGkxOG4sIG1pc3NpbmdIb3N0aW5nU2VydmVyLCBhbGxvd2VkRXh0ZW5zaW9ucywgcHVibGlzaGVyRmlsZVByb3BzLCBzZXJ2ZXJGaWxlUHJvcHMsIGltcG9ydGluZ1B1Ymxpc2hlckZpbGUsIGltcG9ydGluZ1NlcnZlckZpbGUsIHNlcnZlckZpbGVOYW1lLCBwdWJsaXNoZXJGaWxlTmFtZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBjb25maWcgfSA9IGNvbmZpZ1N0YXRlO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgbnVsbCwgaChcImFyY2dpcy1uZXctaXRlbS1kZXNjcmlwdGlvblwiLCB7IGhlYWRlcjogbWlzc2luZ0hvc3RpbmdTZXJ2ZXIgPyBpMThuLmVycm9ycy5ob3N0aW5nU2VydmVyRXJyb3IgOiBpMThuLmhlYWRpbmcgfSksICFtaXNzaW5nSG9zdGluZ1NlcnZlciAmJiAoaChcImRpdlwiLCBudWxsLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5wdXQtbGFiZWxcIiB9LCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCBudWxsLCBpMThuLnB1Ymxpc2hlckRhdGFiYXNlQ29ubmVjdGlvbiwgXCIgXCIsIGkxOG4uc2RlRmlsZSwgIWltcG9ydGluZ1B1Ymxpc2hlckZpbGUgJiYgIXB1Ymxpc2hlckZpbGVQcm9wcyAmJiAoaChcImFyY2dpcy1kcmFnLWFuZC1kcm9wXCIsIHsgZmlsZXM6IHRoaXMucHVibGlzaGVyRmlsZXMsIGFsbG93ZWRFeHRlbnNpb25zOiBhbGxvd2VkRXh0ZW5zaW9ucywgaW5zaWRlTW9kYWw6IHRydWUsIGZ1bGxIZWlnaHQ6IHRydWUsIGNvbmZpZzogY29uZmlnLCBvbkFyY2dpc0Ryb3BTdWNjZXNzOiB0aGlzLmhhbmRsZVB1Ymxpc2hlckZpbGVEcm9wRXZlbnQgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImZpbGUtaW5wdXRcIiB9LCBoKFwiaW5wdXRcIiwgeyBjbGFzczogXCJoaWRkZW4tZmlsZS1pbnB1dFwiLCBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlckZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgZS50YXJnZXQuZmlsZXMpO1xuICAgICAgICAgICAgfSwgcmVmOiAoZWwpID0+ICh0aGlzLnB1Ymxpc2hlcklucHV0RWxlbWVudCA9IGVsKSwgYWNjZXB0OiBhbGxvd2VkRXh0ZW5zaW9ucyA9PT0gbnVsbCB8fCBhbGxvd2VkRXh0ZW5zaW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsb3dlZEV4dGVuc2lvbnMubWFwKChleHRlbnNpb24pID0+IGAuJHtleHRlbnNpb259YCkuam9pbihcIixcIiksIHRhYkluZGV4OiAtMSwgdHlwZTogXCJmaWxlXCIgfSksIGgoXCJzdmdcIiwgeyB3aWR0aDogXCI0MlwiLCBoZWlnaHQ6IFwiNTRcIiwgdmlld0JveDogXCIwIDAgNDIgNTRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGZvY3VzYWJsZTogXCJmYWxzZVwiIH0sIGgoXCJwYXRoXCIsIHsgZDogXCJNMzEuNTY2IDBIMFY1My44SDQxLjhWMTAuMjM0TDMxLjU2NiAwWk0zMS44IDEuMzY2TDQwLjQzNCAxMEgzMS44VjEuMzY2Wk0wLjc5OTk5OSA1M1YwLjhIMzFWMTAuOEg0MVY1M0gwLjc5OTk5OVpcIiwgZmlsbDogXCIjNkE2QTZBXCIgfSksIFwiKVwiLCBoKFwicGF0aFwiLCB7IFwiZmlsbC1ydWxlXCI6IFwiZXZlbm9kZFwiLCBcImNsaXAtcnVsZVwiOiBcImV2ZW5vZGRcIiwgZDogXCJNMjAuOTAwNCAzOFYyNS43MDdMMTguMjU0NCAyOC4zNTRMMTcuNTQ3NCAyNy42NDdMMjEuNDAwNCAyMy43OTNMMjUuMjU0NCAyNy42NDdMMjQuNTQ3NCAyOC4zNTRMMjEuOTAwNCAyNS43MDdWMzhIMjAuOTAwNFpNMTQuOTAwNCAyMUgyNy45MDA0VjIwSDE0LjkwMDRWMjFaXCIsIGZpbGw6IFwiIzZBNkE2QVwiIH0pKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInRleHQtY29udGFpbmVyXCIgfSwgaChcImgzXCIsIHsgY2xhc3M6IFwiZGV2aWNlLXNlbGVjdFwiIH0sIGkxOG4uZHJhZ0FuZERyb3BPclNlbGVjdEZpbGUpKSwgaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcImZpbGUtYnJvd3Nlci1idXR0b25cIiwgb25DbGljazogKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLnB1Ymxpc2hlcklucHV0RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsaWNrKCk7IH0gfSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJmaWxlLWJyb3dzZXItYnV0dG9uX19pY29uXCIgfSwgaChcImNhbGNpdGUtaWNvblwiLCB7IGljb246IFwiZGVza3RvcFwiIH0pKSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJmaWxlLWJyb3dzZXItYnV0dG9uX190ZXh0XCIgfSwgaTE4bi5zZWxlY3RGaWxlKSkpKSksIGltcG9ydGluZ1B1Ymxpc2hlckZpbGUgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJsb2FkZXItY29udGFpbmVyXCIgfSwgaChcImNhbGNpdGUtbG9hZGVyXCIsIHsgaW5saW5lOiB0cnVlLCBsYWJlbDogXCJpbXBvcnRpbmctcHVibGlzaGVyLWZpbGUtbG9hZGVyXCIgfSksIGkxOG4uaW1wb3J0aW5nQ29ubmVjdGlvbkZpbGUpKSwgcHVibGlzaGVyRmlsZVByb3BzICYmIChoKFwiZGl2XCIsIG51bGwsIGgoXCJ0YWJsZVwiLCB7IGNsYXNzOiBcImRhdGFiYXNlLWNvbm5lY3Rpb24tdGFibGVcIiB9LCBoKFwidGhlYWRcIiwgbnVsbCwgaChcInRyXCIsIG51bGwsIGgoXCJ0aFwiLCB7IGNvbFNwYW46IDIgfSwgaTE4bi5maWxlQ2hvc2VuLCBcIjpcIiwgXCIgXCIsIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwic2VydmVyLWZpbGUtbmFtZVwiIH0sIHB1Ymxpc2hlckZpbGVOYW1lKSkpKSwgaChcInRib2R5XCIsIG51bGwsIHB1Ymxpc2hlckZpbGVQcm9wcy5tYXAoKHByb3ApID0+IHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5wcm9wSXNOb3RQYXNzd29yZChwcm9wKSAmJiAoaChcInRyXCIsIG51bGwsIGgoXCJ0ZFwiLCBudWxsLCBwcm9wLmtleSksIGgoXCJ0ZFwiLCB7IGNsYXNzOiBcInZhbHVlLWNlbGxcIiB9LCBwcm9wLnZhbHVlKSkpKTtcbiAgICAgICAgfSkpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNoYW5nZS1maWxlXCIgfSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJjaGFuZ2UtZmlsZS1idG5cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQdWJsaXNoZXJGaWxlKCk7XG4gICAgICAgICAgICB9IH0sIGkxOG4uY2hvb3NlRGlmZmVyZW50RmlsZSkpKSkpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImlucHV0LWxhYmVsXCIgfSwgaChcImNhbGNpdGUtbGFiZWxcIiwgbnVsbCwgaTE4bi5zZXJ2ZXJEYXRhYmFzZUNvbm5lY3Rpb24sIFwiIFwiLCBpMThuLnNkZUZpbGUpKSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3QtZ3JvdXBcIiwgeyBsYXlvdXQ6IFwidmVydGljYWxcIiwga2V5OiBcInNlcnZlci1kYXRhYmFzZS1jb25uZWN0aW9uLXNlbGVjdFwiLCBjbGFzczogXCJzZXJ2ZXItZGF0YWJhc2UtY29ubmVjdGlvbi1zZWxlY3RcIiB9LCBoKFwiY2FsY2l0ZS10aWxlLXNlbGVjdFwiLCB7IGNsYXNzOiBcInRpbGUtc2VsZWN0XCIsIGtleTogXCJwdWJsaXNoZXItZGF0YWJhc2UtY29ubmVjdGlvbi1zZWxlY3RcIiwgY2hlY2tlZDogdGhpcy5zZXJ2ZXJEYXRhYmFzZU9wdGlvbiA9PT0gbnVsbCwgZGVzY3JpcHRpb246IGkxOG4uc2FtZUFzUHVibGlzaGVyLCBuYW1lOiBcInNhbWUtYXMtcHVibGlzaGVyLWRhdGFiYXNlLWNvbm5lY3Rpb25cIiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIHdpZHRoOiBcImZ1bGxcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZTogbnVsbCwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyRGF0YWJhc2VPcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgfSB9KSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgeyBjbGFzczogXCJ0aWxlLXNlbGVjdFwiLCBrZXk6IFwibmV3LXNlcnZlci1kYXRhYmFzZS1jb25uZWN0aW9uLXNlbGVjdFwiLCBjaGVja2VkOiB0aGlzLnNlcnZlckRhdGFiYXNlT3B0aW9uID09PSBcIm5ld0Nvbm5lY3Rpb25cIiwgZGVzY3JpcHRpb246IGkxOG4ubmV3Q29ubmVjdGlvbiwgbmFtZTogXCJuZXctc2VydmVyLWRhdGFiYXNlLWNvbm5lY3Rpb25cIiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIHdpZHRoOiBcImZ1bGxcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZTogXCJuZXdDb25uZWN0aW9uXCIsIG9uQ2FsY2l0ZVRpbGVTZWxlY3RDaGFuZ2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckRhdGFiYXNlT3B0aW9uID0gXCJuZXdDb25uZWN0aW9uXCI7XG4gICAgICAgICAgICB9IH0pKSwgdGhpcy5zZXJ2ZXJEYXRhYmFzZU9wdGlvbiA9PT0gXCJuZXdDb25uZWN0aW9uXCIgJiYgKGgoXCJjYWxjaXRlLWxhYmVsXCIsIG51bGwsICFpbXBvcnRpbmdTZXJ2ZXJGaWxlICYmICFzZXJ2ZXJGaWxlUHJvcHMgJiYgKGgoXCJhcmNnaXMtZHJhZy1hbmQtZHJvcFwiLCB7IGZpbGVzOiB0aGlzLnNlcnZlckZpbGVzLCBhbGxvd2VkRXh0ZW5zaW9uczogYWxsb3dlZEV4dGVuc2lvbnMsIGluc2lkZU1vZGFsOiB0cnVlLCBmdWxsSGVpZ2h0OiB0cnVlLCBjb25maWc6IGNvbmZpZywgb25BcmNnaXNEcm9wU3VjY2VzczogdGhpcy5oYW5kbGVTZXJ2ZXJGaWxlRHJvcEV2ZW50IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJmaWxlLWlucHV0XCIgfSwgaChcImlucHV0XCIsIHsgY2xhc3M6IFwiaGlkZGVuLWZpbGUtaW5wdXRcIiwgb25DaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJGaWxlcyA9IE9iamVjdC5hc3NpZ24oe30sIGUudGFyZ2V0LmZpbGVzKTtcbiAgICAgICAgICAgIH0sIHJlZjogKGVsKSA9PiAodGhpcy5zZXJ2ZXJJbnB1dEVsZW1lbnQgPSBlbCksIGFjY2VwdDogYWxsb3dlZEV4dGVuc2lvbnMgPT09IG51bGwgfHwgYWxsb3dlZEV4dGVuc2lvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsbG93ZWRFeHRlbnNpb25zLm1hcCgoZXh0ZW5zaW9uKSA9PiBgLiR7ZXh0ZW5zaW9ufWApLmpvaW4oXCIsXCIpLCB0YWJJbmRleDogLTEsIHR5cGU6IFwiZmlsZVwiIH0pLCBoKFwic3ZnXCIsIHsgd2lkdGg6IFwiNDJcIiwgaGVpZ2h0OiBcIjU0XCIsIHZpZXdCb3g6IFwiMCAwIDQyIDU0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBmb2N1c2FibGU6IFwiZmFsc2VcIiB9LCBoKFwicGF0aFwiLCB7IGQ6IFwiTTMxLjU2NiAwSDBWNTMuOEg0MS44VjEwLjIzNEwzMS41NjYgMFpNMzEuOCAxLjM2Nkw0MC40MzQgMTBIMzEuOFYxLjM2NlpNMC43OTk5OTkgNTNWMC44SDMxVjEwLjhINDFWNTNIMC43OTk5OTlaXCIsIGZpbGw6IFwiIzZBNkE2QVwiIH0pLCBcIilcIiwgaChcInBhdGhcIiwgeyBcImZpbGwtcnVsZVwiOiBcImV2ZW5vZGRcIiwgXCJjbGlwLXJ1bGVcIjogXCJldmVub2RkXCIsIGQ6IFwiTTIwLjkwMDQgMzhWMjUuNzA3TDE4LjI1NDQgMjguMzU0TDE3LjU0NzQgMjcuNjQ3TDIxLjQwMDQgMjMuNzkzTDI1LjI1NDQgMjcuNjQ3TDI0LjU0NzQgMjguMzU0TDIxLjkwMDQgMjUuNzA3VjM4SDIwLjkwMDRaTTE0LjkwMDQgMjFIMjcuOTAwNFYyMEgxNC45MDA0VjIxWlwiLCBmaWxsOiBcIiM2QTZBNkFcIiB9KSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0ZXh0LWNvbnRhaW5lclwiIH0sIGgoXCJoM1wiLCB7IGNsYXNzOiBcImRldmljZS1zZWxlY3RcIiB9LCBpMThuLmRyYWdBbmREcm9wT3JTZWxlY3RGaWxlKSksIGgoXCJidXR0b25cIiwgeyBjbGFzczogXCJmaWxlLWJyb3dzZXItYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5zZXJ2ZXJJbnB1dEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGljaygpOyB9IH0sIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiZmlsZS1icm93c2VyLWJ1dHRvbl9faWNvblwiIH0sIGgoXCJjYWxjaXRlLWljb25cIiwgeyBpY29uOiBcImRlc2t0b3BcIiB9KSksIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiZmlsZS1icm93c2VyLWJ1dHRvbl9fdGV4dFwiIH0sIGkxOG4uc2VsZWN0RmlsZSkpKSkpLCBpbXBvcnRpbmdTZXJ2ZXJGaWxlICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwibG9hZGVyLWNvbnRhaW5lclwiIH0sIGgoXCJjYWxjaXRlLWxvYWRlclwiLCB7IGlubGluZTogdHJ1ZSwgbGFiZWw6IFwiaW1wb3J0aW5nLXB1Ymxpc2hlci1maWxlLWxvYWRlclwiIH0pLCBpMThuLmltcG9ydGluZ0Nvbm5lY3Rpb25GaWxlKSksIHNlcnZlckZpbGVQcm9wcyAmJiAoaChcImRpdlwiLCBudWxsLCBoKFwidGFibGVcIiwgeyBjbGFzczogXCJkYXRhYmFzZS1jb25uZWN0aW9uLXRhYmxlXCIgfSwgaChcInRoZWFkXCIsIG51bGwsIGgoXCJ0clwiLCBudWxsLCBoKFwidGhcIiwgeyBjb2xTcGFuOiAyIH0sIGkxOG4uZmlsZUNob3NlbiwgXCI6XCIsIFwiIFwiLCBoKFwic3BhblwiLCB7IGNsYXNzOiBcInNlcnZlci1maWxlLW5hbWVcIiB9LCBzZXJ2ZXJGaWxlTmFtZSkpKSksIGgoXCJ0Ym9keVwiLCBudWxsLCBzZXJ2ZXJGaWxlUHJvcHMubWFwKChwcm9wKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucHJvcElzTm90UGFzc3dvcmQocHJvcCkgJiYgKGgoXCJ0clwiLCBudWxsLCBoKFwidGRcIiwgbnVsbCwgcHJvcC5rZXkpLCBoKFwidGRcIiwgeyBjbGFzczogXCJ2YWx1ZS1jZWxsXCIgfSwgcHJvcC52YWx1ZSkpKSk7XG4gICAgICAgIH0pKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJjaGFuZ2UtZmlsZVwiIH0sIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiY2hhbmdlLWZpbGUtYnRuXCIsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2VydmVyRmlsZSgpO1xuICAgICAgICAgICAgfSB9LCBpMThuLmNob29zZURpZmZlcmVudEZpbGUpKSkpKSksIHRoaXMucmVuZGVyRXJyb3JJdGVtKCkpKSkpO1xuICAgIH1cbn07XG5BcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3REYXRhYmFzZS5zdHlsZSA9IGFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdERhdGFiYXNlQ3NzO1xuXG5leHBvcnQgeyBBcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3REYXRhYmFzZSBhcyBhcmNnaXNfbmV3X2l0ZW1fcGFnZXNfZGF0YV9zdG9yZV9zZWxlY3RfZGF0YWJhc2UgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzLW5ldy1pdGVtLXBhZ2VzLWRhdGEtc3RvcmUtc2VsZWN0LWRhdGFiYXNlLmVudHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==