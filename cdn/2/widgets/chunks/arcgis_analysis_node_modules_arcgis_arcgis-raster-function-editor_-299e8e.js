"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-299e8e"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-pansharpen-sensor-picker-1bb0d2d6.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-pansharpen-sensor-picker-1bb0d2d6.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ RfxPansharpenSensorPicker)
/* harmony export */ });
/* harmony import */ var _index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-da1b7138.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/index-da1b7138.js");
/* harmony import */ var _functions_f1f2dffd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions-f1f2dffd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/functions-f1f2dffd.js");
/* harmony import */ var _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-utils-928a4096.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js");
/* harmony import */ var _type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type-gaurds-1840747f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/type-gaurds-1840747f.js");
/* harmony import */ var _rfx_args_helper_ab401543_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rfx-args-helper-ab401543.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-args-helper-ab401543.js");
/* harmony import */ var _arcgis_core_identity_IdentityManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/core/identity/IdentityManager.js */ "@arcgis/core/identity/IdentityManager.js");
/* harmony import */ var _arcgis_core_core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arcgis/core/core/lang.js */ "@arcgis/core/core/lang.js");
/* harmony import */ var _arcgis_core_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arcgis/core/core/urlUtils.js */ "@arcgis/core/core/urlUtils.js");
/* harmony import */ var _arcgis_core_layers_Layer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arcgis/core/layers/Layer.js */ "@arcgis/core/layers/Layer.js");
/* harmony import */ var _arcgis_core_layers_ImageryLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arcgis/core/layers/ImageryLayer.js */ "@arcgis/core/layers/ImageryLayer.js");
/* harmony import */ var _arcgis_core_smartMapping_raster_renderers_stretch_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arcgis/core/smartMapping/raster/renderers/stretch.js */ "@arcgis/core/smartMapping/raster/renderers/stretch.js");
/* harmony import */ var _arcgis_core_request_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arcgis/core/request.js */ "@arcgis/core/request.js");
/* harmony import */ var _arcgis_core_rest_support_AlgorithmicColorRamp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arcgis/core/rest/support/AlgorithmicColorRamp.js */ "@arcgis/core/rest/support/AlgorithmicColorRamp.js");
/* harmony import */ var _arcgis_core_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arcgis/core/rest/support/MultipartColorRamp.js */ "@arcgis/core/rest/support/MultipartColorRamp.js");
/* harmony import */ var _arcgis_core_Color_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arcgis/core/Color.js */ "@arcgis/core/Color.js");
/* harmony import */ var _colorRampUtils_8bdd46c5_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./colorRampUtils-8bdd46c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/colorRampUtils-8bdd46c5.js");
/* harmony import */ var _arcgis_core_rest_geoprocessor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @arcgis/core/rest/geoprocessor.js */ "@arcgis/core/rest/geoprocessor.js");
/* harmony import */ var _arcgis_core_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @arcgis/core/portal/PortalItem.js */ "@arcgis/core/portal/PortalItem.js");



















/**
 * List prepared using this: https://devtopia.esri.com/WebGIS/arcgis-orthomaker-app/blob/e32ca451e634fd3c0ea824501f3c23c7ab898498/app/project/rasterTypeResources.js
 * if a Sensor does not have pansharpen weights then set the weight as [0,0,0,0]
 */
const sensorList = [
    {
        name: "DubaiSat-2",
        pansharpenWeights: [0.166, 0.167, 0.167, 0.5]
    },
    {
        name: "GeoEye-1",
        pansharpenWeights: [0.41, 0.16, 0.13, 0.3]
    },
    {
        name: "GF-1 PMS",
        pansharpenWeights: [0.2501, 0.3646, 0, 0.3853]
    },
    {
        name: "GF-2 PMS",
        pansharpenWeights: [0.2501, 0.3646, 0, 0.3853]
    },
    {
        name: "IKONOS",
        pansharpenWeights: [0.378, 0.211, 0, 0.411]
    },
    {
        name: "Jilin-1",
        pansharpenWeights: [0.2501, 0.3646, 0, 0.5]
    },
    {
        name: "KOMPSAT-2",
        pansharpenWeights: [0.166, 0.167, 0.167, 0.5]
    },
    {
        name: "KOMPSAT-3",
        pansharpenWeights: [0.166, 0.167, 0.167, 0.5]
    },
    {
        name: "Landsat 1-5  MSS",
        pansharpenWeights: [0, 0, 0, 0]
    },
    {
        name: "Landsat 7  ETM+",
        pansharpenWeights: [0.11, 0.14, 0.14, 0.61]
    },
    {
        name: "Landsat 8",
        pansharpenWeights: [0.42, 0.51, 0.07, 0.0]
    },
    {
        name: "Pleiades Neo",
        pansharpenWeights: [0.45, 0.55, 0, 0]
    },
    {
        name: "Pleiades-1",
        pansharpenWeights: [0.9, 0.75, 0.5, 0.5]
    },
    {
        name: "QuickBird",
        pansharpenWeights: [0.85, 0.7, 0.35, 1]
    },
    {
        name: "SkySat",
        pansharpenWeights: [0.41, 0.16, 0.13, 0.3]
    },
    {
        name: "SPOT 5",
        pansharpenWeights: [0.166, 0.167, 0.167, 0.5]
    },
    {
        name: "SPOT 6",
        pansharpenWeights: [0.45, 0.55, 0, 0]
    },
    {
        name: "SPOT 7",
        pansharpenWeights: [0.45, 0.55, 0, 0]
    },
    {
        name: "SuperView-1",
        pansharpenWeights: [0.85, 0.7, 0.35, 1]
    },
    {
        name: "TH-01",
        pansharpenWeights: [0.329, 0.509, 0, 0.162]
    },
    {
        name: "UltraCam",
        pansharpenWeights: [0.326, 0.645, 0.029, 0]
    },
    {
        name: "WorldView-2",
        pansharpenWeights: [0.39, 0.23, 0.21, 0.17]
    },
    {
        name: "WorldView-3",
        pansharpenWeights: [0.38, 0.25, 0.2, 0.16]
    },
    {
        name: "WorldView-4",
        pansharpenWeights: [0.39, 0.23, 0.21, 0.17]
    },
    {
        name: "ZY1-02C PMS",
        pansharpenWeights: [0.378, 0.211, 0, 0.411]
    },
    {
        name: "ZY3-CRESDA",
        pansharpenWeights: [0.329, 0.509, 0, 0.162]
    },
    {
        name: "ZY3-SASMAC",
        pansharpenWeights: [0.329, 0.509, 0, 0.162]
    }
];
const HelpClickHandlerKeys = {
    inputArgHelpClickHandler: "inputArgHelpClickHandler"
};

const RfxPansharpenSensorPicker = class {
    constructor(hostRef) {
        (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.rfxArgumentChange = (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "rfxArgumentChange", 7);
        //--------------------------------------------------------------------------
        //
        //  Properties
        //
        //--------------------------------------------------------------------------
        /**
         * The strings used for localization.
         * @private
         * @type {Object}
         */
        // private strings: typeof import("./t9n/rfx-cte-pansharpen-sensor-picker.t9n.en.json");
        /**
         * The direction of the locale, either "ltr" or "rtl".
         * @private
         * @type {"ltr" | "rtl"}
         */
        // private direction: "ltr" | "rtl";
        this.sensorList = sensorList;
        /**
         * Stores event handlers for help action click, stored in connected callback to avoid
         * fetching function on each render ( to avoid common bad practice )
         */
        this.helpActionClickEventHandlers = new Map();
        this.handleInputChange = (e) => {
            e.stopPropagation();
            const element = e.target;
            const value = element.value;
            this.inputArg.value = value;
            this.value = value;
            const sensor = this.sensorList.find((_sensor) => {
                return _sensor.name === value;
            });
            // if sensor is UNKNOWN then return default value
            const sensorPansharpenWeight = (0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_3__.i)(sensor) === false ? sensor.pansharpenWeights : [0.166, 0.167, 0.167, 0.5];
            this.widgetArgs.triggerArgs.Weights.input.value = sensorPansharpenWeight;
            this.rfxArgumentChange.emit({ value });
        };
        this.value = undefined;
        this.widgetArgs = undefined;
        this.store = [];
    }
    //--------------------------------------------------------------------------
    //
    //  Lifecycle
    //
    //--------------------------------------------------------------------------
    connectedCallback() {
        this.processWidgetArgs(this.widgetArgs);
    }
    componentWillLoad() {
        this.setupInitialState(this.widgetArgs);
    }
    componentDidLoad() {
        this.attachHelpClickEventHandlers();
    }
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    /**
     * All validation logic of widgetArgs -> mainly the inputArgs and triggerAttributes
     * goes here
     */
    processWidgetArgs({ inputArgs }) {
        // should have only one inputArg
        Object.keys(inputArgs).forEach((_inputArg) => {
            const rfxArg = inputArgs[_inputArg];
            this.inputArg = rfxArg;
            rfxArg.input = this.hostElement;
        });
    }
    setupInitialState({ rfxArgs, rasterFunctions }) {
        this.value = this.inputArg.value;
        // Set initial store
        const widgetName = (0,_functions_f1f2dffd_js__WEBPACK_IMPORTED_MODULE_1__.e)(rfxArgs);
        const rasterFunction = rasterFunctions[widgetName];
        const rasterFunctionArguments = rasterFunction?.rasterFunctionArguments;
        const inputArgName = this.inputArg.name;
        this.value = this.inputArg.value;
        const inputArgDomain = rasterFunctionArguments?.[inputArgName]?.domain;
        if (inputArgDomain?.type === "list") {
            // const enumData = rfxUtils.coerceEnumDataForCurrentEnv(this.rfxArgs, inputArgDomain.enum, this.portalMode);
            const enumData = inputArgDomain.enum;
            this.store = (0,_rfx_args_helper_ab401543_js__WEBPACK_IMPORTED_MODULE_4__.j)(enumData);
        }
        else {
            console.error("Invalid inputArg! Check Schema");
        }
        // the Sensor picker store is a combination of the domain list
        // and a list of sensors listed in sensorList
        this.store = this.store.concat(this.sensorList.map(function (sensor) {
            return {
                key: sensor.name,
                label: sensor.name
            };
        }));
        this.store?.forEach((enumElement) => {
            enumElement.key = enumElement.key.toString();
        });
        if ((0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_3__.i)(this.store)) {
            console.error("Domain list Enum not set! Check Schema");
        }
        this.value = this.inputArg.value || this.store[0].key;
    }
    attachHelpClickEventHandlers() {
        const inputArgHelpClickHandler = this.widgetArgs.onHelpActionClick({
            heading: this.inputArg.displayName,
            referenceElement: this.widgetContainer,
            helpTextID: this.inputArg?.helpTextID
        });
        this.helpActionClickEventHandlers.set(HelpClickHandlerKeys.inputArgHelpClickHandler, inputArgHelpClickHandler);
    }
    render() {
        return ((0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { alignment: "start", scale: _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_2__.U.Scale, layout: "default", ref: (e) => {
                this.widgetContainer = e;
            } }, (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("rfx-label", { label: this.inputArg.displayName, onRfxLabelHelpActionClick: () => this.helpActionClickEventHandlers.get(HelpClickHandlerKeys.inputArgHelpClickHandler)() }), (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("rfx-dtex-common-select", { options: this.store, value: String(this.value), onRfxArgumentChange: this.handleInputChange }))));
    }
    get hostElement() { return (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.a)(this); }
};



//# sourceMappingURL=rfx-cte-pansharpen-sensor-picker-1bb0d2d6.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-pansharpen-sensor-picker.entry.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-pansharpen-sensor-picker.entry.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   rfx_cte_pansharpen_sensor_picker: () => (/* reexport safe */ _rfx_cte_pansharpen_sensor_picker_1bb0d2d6_js__WEBPACK_IMPORTED_MODULE_0__.R)
/* harmony export */ });
/* harmony import */ var _rfx_cte_pansharpen_sensor_picker_1bb0d2d6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rfx-cte-pansharpen-sensor-picker-1bb0d2d6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-pansharpen-sensor-picker-1bb0d2d6.js");
/* harmony import */ var _index_da1b7138_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-da1b7138.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/index-da1b7138.js");
/* harmony import */ var _functions_f1f2dffd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./functions-f1f2dffd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/functions-f1f2dffd.js");
/* harmony import */ var _arcgis_core_core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/lang.js */ "@arcgis/core/core/lang.js");
/* harmony import */ var _resources_27c66f5c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources-27c66f5c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/resources-27c66f5c.js");
/* harmony import */ var _localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./localization-helper-4819b67d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/localization-helper-4819b67d.js");
/* harmony import */ var _type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./type-gaurds-1840747f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/type-gaurds-1840747f.js");
/* harmony import */ var _getTag_96af029d_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./_getTag-96af029d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/_getTag-96af029d.js");
/* harmony import */ var _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ui-utils-928a4096.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js");
/* harmony import */ var _rfx_args_helper_ab401543_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./rfx-args-helper-ab401543.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-args-helper-ab401543.js");
/* harmony import */ var _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interfaces-d0c68944.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/interfaces-d0c68944.js");
/* harmony import */ var _arcgis_core_identity_IdentityManager_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arcgis/core/identity/IdentityManager.js */ "@arcgis/core/identity/IdentityManager.js");
/* harmony import */ var _arcgis_core_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arcgis/core/core/urlUtils.js */ "@arcgis/core/core/urlUtils.js");
/* harmony import */ var _arcgis_core_layers_Layer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arcgis/core/layers/Layer.js */ "@arcgis/core/layers/Layer.js");
/* harmony import */ var _arcgis_core_layers_ImageryLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arcgis/core/layers/ImageryLayer.js */ "@arcgis/core/layers/ImageryLayer.js");
/* harmony import */ var _arcgis_core_smartMapping_raster_renderers_stretch_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arcgis/core/smartMapping/raster/renderers/stretch.js */ "@arcgis/core/smartMapping/raster/renderers/stretch.js");
/* harmony import */ var _arcgis_core_request_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @arcgis/core/request.js */ "@arcgis/core/request.js");
/* harmony import */ var _arcgis_core_rest_support_AlgorithmicColorRamp_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @arcgis/core/rest/support/AlgorithmicColorRamp.js */ "@arcgis/core/rest/support/AlgorithmicColorRamp.js");
/* harmony import */ var _arcgis_core_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @arcgis/core/rest/support/MultipartColorRamp.js */ "@arcgis/core/rest/support/MultipartColorRamp.js");
/* harmony import */ var _arcgis_core_Color_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @arcgis/core/Color.js */ "@arcgis/core/Color.js");
/* harmony import */ var _colorRampUtils_8bdd46c5_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./colorRampUtils-8bdd46c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/colorRampUtils-8bdd46c5.js");
/* harmony import */ var _arcgis_core_rest_geoprocessor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @arcgis/core/rest/geoprocessor.js */ "@arcgis/core/rest/geoprocessor.js");
/* harmony import */ var _arcgis_core_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @arcgis/core/portal/PortalItem.js */ "@arcgis/core/portal/PortalItem.js");
























//# sourceMappingURL=rfx-cte-pansharpen-sensor-picker.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js":
/*!*****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CalciteScale),
/* harmony export */   U: () => (/* binding */ UIDefaults),
/* harmony export */   a: () => (/* binding */ CalciteOverlayPositioning)
/* harmony export */ });
const UIDefaults = {
    Scale: "s",
    PopoverTimer: 60
};
const CalciteScale = {
    s: "s",
    m: "m"
};
const CalciteOverlayPositioning = {
    absolute: "absolute",
    fixed: "fixed"
};



//# sourceMappingURL=ui-utils-928a4096.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXJjZ2lzLXJhc3Rlci1mdW5jdGlvbi1lZGl0b3JfLTI5OWU4ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtHO0FBQ25DO0FBQ047QUFDUTtBQUNIO0FBQ1o7QUFDZjtBQUNJO0FBQ0Q7QUFDTztBQUNrQjtBQUM5QjtBQUMwQjtBQUNGO0FBQzFCO0FBQ087QUFDSztBQUNBOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLHFEQUFnQjtBQUN4QixpQ0FBaUMscURBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMkNBQTJDLDJEQUFlO0FBQzFEO0FBQ0EsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsV0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0RBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULFlBQVksMkRBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBQyxjQUFjLHFEQUFDLG9CQUFvQiwyQkFBMkIsb0RBQVU7QUFDekY7QUFDQSxlQUFlLEVBQUUscURBQUMsZ0JBQWdCLDJKQUEySixHQUFHLHFEQUFDLDZCQUE2Qiw2RkFBNkY7QUFDM1Q7QUFDQSx3QkFBd0IsT0FBTyxxREFBVTtBQUN6Qzs7QUFFMEM7O0FBRTFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFF1RztBQUMxRTtBQUNJO0FBQ0U7QUFDRjtBQUNVO0FBQ1I7QUFDSjtBQUNDO0FBQ087QUFDTDtBQUNnQjtBQUNYO0FBQ0Q7QUFDTztBQUNrQjtBQUM5QjtBQUMwQjtBQUNGO0FBQzFCO0FBQ087QUFDSztBQUNBOztBQUUzQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThFOztBQUU5RSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FyY2dpcy1yYXN0ZXItZnVuY3Rpb24tZWRpdG9yL2Rpc3QvZXNtL3JmeC1jdGUtcGFuc2hhcnBlbi1zZW5zb3ItcGlja2VyLTFiYjBkMmQ2LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FyY2dpcy1yYXN0ZXItZnVuY3Rpb24tZWRpdG9yL2Rpc3QvZXNtL3JmeC1jdGUtcGFuc2hhcnBlbi1zZW5zb3ItcGlja2VyLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FyY2dpcy1yYXN0ZXItZnVuY3Rpb24tZWRpdG9yL2Rpc3QvZXNtL3VpLXV0aWxzLTkyOGE0MDk2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgYSBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC1kYTFiNzEzOC5qcyc7XG5pbXBvcnQgeyBlIGFzIGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gJy4vZnVuY3Rpb25zLWYxZjJkZmZkLmpzJztcbmltcG9ydCB7IFUgYXMgVUlEZWZhdWx0cyB9IGZyb20gJy4vdWktdXRpbHMtOTI4YTQwOTYuanMnO1xuaW1wb3J0IHsgaSBhcyBpc0VtcHR5RGF0YUl0ZW0gfSBmcm9tICcuL3R5cGUtZ2F1cmRzLTE4NDA3NDdmLmpzJztcbmltcG9ydCB7IGogYXMgY2xvbmVSRlQgfSBmcm9tICcuL3JmeC1hcmdzLWhlbHBlci1hYjQwMTU0My5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9pZGVudGl0eS9JZGVudGl0eU1hbmFnZXIuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvY29yZS9sYW5nLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2NvcmUvdXJsVXRpbHMuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvbGF5ZXJzL0xheWVyLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2xheWVycy9JbWFnZXJ5TGF5ZXIuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3Jhc3Rlci9yZW5kZXJlcnMvc3RyZXRjaC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXF1ZXN0LmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9BbGdvcml0aG1pY0NvbG9yUmFtcC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvTXVsdGlwYXJ0Q29sb3JSYW1wLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL0NvbG9yLmpzJztcbmltcG9ydCAnLi9jb2xvclJhbXBVdGlscy04YmRkNDZjNS5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXN0L2dlb3Byb2Nlc3Nvci5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9wb3J0YWwvUG9ydGFsSXRlbS5qcyc7XG5cbi8qKlxuICogTGlzdCBwcmVwYXJlZCB1c2luZyB0aGlzOiBodHRwczovL2RldnRvcGlhLmVzcmkuY29tL1dlYkdJUy9hcmNnaXMtb3J0aG9tYWtlci1hcHAvYmxvYi9lMzJjYTQ1MWU2MzRmZDNjMGVhODI0NTAxZjNjMjNjN2FiODk4NDk4L2FwcC9wcm9qZWN0L3Jhc3RlclR5cGVSZXNvdXJjZXMuanNcbiAqIGlmIGEgU2Vuc29yIGRvZXMgbm90IGhhdmUgcGFuc2hhcnBlbiB3ZWlnaHRzIHRoZW4gc2V0IHRoZSB3ZWlnaHQgYXMgWzAsMCwwLDBdXG4gKi9cbmNvbnN0IHNlbnNvckxpc3QgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiBcIkR1YmFpU2F0LTJcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjE2NiwgMC4xNjcsIDAuMTY3LCAwLjVdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiR2VvRXllLTFcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjQxLCAwLjE2LCAwLjEzLCAwLjNdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiR0YtMSBQTVNcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjI1MDEsIDAuMzY0NiwgMCwgMC4zODUzXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkdGLTIgUE1TXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4yNTAxLCAwLjM2NDYsIDAsIDAuMzg1M11cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJJS09OT1NcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjM3OCwgMC4yMTEsIDAsIDAuNDExXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkppbGluLTFcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjI1MDEsIDAuMzY0NiwgMCwgMC41XVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIktPTVBTQVQtMlwiLFxuICAgICAgICBwYW5zaGFycGVuV2VpZ2h0czogWzAuMTY2LCAwLjE2NywgMC4xNjcsIDAuNV1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJLT01QU0FULTNcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjE2NiwgMC4xNjcsIDAuMTY3LCAwLjVdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiTGFuZHNhdCAxLTUgIE1TU1wiLFxuICAgICAgICBwYW5zaGFycGVuV2VpZ2h0czogWzAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiTGFuZHNhdCA3ICBFVE0rXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4xMSwgMC4xNCwgMC4xNCwgMC42MV1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYW5kc2F0IDhcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjQyLCAwLjUxLCAwLjA3LCAwLjBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiUGxlaWFkZXMgTmVvXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC40NSwgMC41NSwgMCwgMF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJQbGVpYWRlcy0xXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC45LCAwLjc1LCAwLjUsIDAuNV1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJRdWlja0JpcmRcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjg1LCAwLjcsIDAuMzUsIDFdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiU2t5U2F0XCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC40MSwgMC4xNiwgMC4xMywgMC4zXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlNQT1QgNVwiLFxuICAgICAgICBwYW5zaGFycGVuV2VpZ2h0czogWzAuMTY2LCAwLjE2NywgMC4xNjcsIDAuNV1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJTUE9UIDZcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjQ1LCAwLjU1LCAwLCAwXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlNQT1QgN1wiLFxuICAgICAgICBwYW5zaGFycGVuV2VpZ2h0czogWzAuNDUsIDAuNTUsIDAsIDBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiU3VwZXJWaWV3LTFcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjg1LCAwLjcsIDAuMzUsIDFdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiVEgtMDFcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjMyOSwgMC41MDksIDAsIDAuMTYyXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlVsdHJhQ2FtXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4zMjYsIDAuNjQ1LCAwLjAyOSwgMF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJXb3JsZFZpZXctMlwiLFxuICAgICAgICBwYW5zaGFycGVuV2VpZ2h0czogWzAuMzksIDAuMjMsIDAuMjEsIDAuMTddXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiV29ybGRWaWV3LTNcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjM4LCAwLjI1LCAwLjIsIDAuMTZdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiV29ybGRWaWV3LTRcIixcbiAgICAgICAgcGFuc2hhcnBlbldlaWdodHM6IFswLjM5LCAwLjIzLCAwLjIxLCAwLjE3XVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlpZMS0wMkMgUE1TXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4zNzgsIDAuMjExLCAwLCAwLjQxMV1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJaWTMtQ1JFU0RBXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4zMjksIDAuNTA5LCAwLCAwLjE2Ml1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJaWTMtU0FTTUFDXCIsXG4gICAgICAgIHBhbnNoYXJwZW5XZWlnaHRzOiBbMC4zMjksIDAuNTA5LCAwLCAwLjE2Ml1cbiAgICB9XG5dO1xuY29uc3QgSGVscENsaWNrSGFuZGxlcktleXMgPSB7XG4gICAgaW5wdXRBcmdIZWxwQ2xpY2tIYW5kbGVyOiBcImlucHV0QXJnSGVscENsaWNrSGFuZGxlclwiXG59O1xuXG5jb25zdCBSZnhQYW5zaGFycGVuU2Vuc29yUGlja2VyID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy5yZnhBcmd1bWVudENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwicmZ4QXJndW1lbnRDaGFuZ2VcIiwgNyk7XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gIFByb3BlcnRpZXNcbiAgICAgICAgLy9cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0cmluZ3MgdXNlZCBmb3IgbG9jYWxpemF0aW9uLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gcHJpdmF0ZSBzdHJpbmdzOiB0eXBlb2YgaW1wb3J0KFwiLi90OW4vcmZ4LWN0ZS1wYW5zaGFycGVuLXNlbnNvci1waWNrZXIudDluLmVuLmpzb25cIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBsb2NhbGUsIGVpdGhlciBcImx0clwiIG9yIFwicnRsXCIuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtcImx0clwiIHwgXCJydGxcIn1cbiAgICAgICAgICovXG4gICAgICAgIC8vIHByaXZhdGUgZGlyZWN0aW9uOiBcImx0clwiIHwgXCJydGxcIjtcbiAgICAgICAgdGhpcy5zZW5zb3JMaXN0ID0gc2Vuc29yTGlzdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBldmVudCBoYW5kbGVycyBmb3IgaGVscCBhY3Rpb24gY2xpY2ssIHN0b3JlZCBpbiBjb25uZWN0ZWQgY2FsbGJhY2sgdG8gYXZvaWRcbiAgICAgICAgICogZmV0Y2hpbmcgZnVuY3Rpb24gb24gZWFjaCByZW5kZXIgKCB0byBhdm9pZCBjb21tb24gYmFkIHByYWN0aWNlIClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVscEFjdGlvbkNsaWNrRXZlbnRIYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5pbnB1dEFyZy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3Qgc2Vuc29yID0gdGhpcy5zZW5zb3JMaXN0LmZpbmQoKF9zZW5zb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NlbnNvci5uYW1lID09PSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gaWYgc2Vuc29yIGlzIFVOS05PV04gdGhlbiByZXR1cm4gZGVmYXVsdCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc2Vuc29yUGFuc2hhcnBlbldlaWdodCA9IGlzRW1wdHlEYXRhSXRlbShzZW5zb3IpID09PSBmYWxzZSA/IHNlbnNvci5wYW5zaGFycGVuV2VpZ2h0cyA6IFswLjE2NiwgMC4xNjcsIDAuMTY3LCAwLjVdO1xuICAgICAgICAgICAgdGhpcy53aWRnZXRBcmdzLnRyaWdnZXJBcmdzLldlaWdodHMuaW5wdXQudmFsdWUgPSBzZW5zb3JQYW5zaGFycGVuV2VpZ2h0O1xuICAgICAgICAgICAgdGhpcy5yZnhBcmd1bWVudENoYW5nZS5lbWl0KHsgdmFsdWUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2lkZ2V0QXJncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFtdO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyAgTGlmZWN5Y2xlXG4gICAgLy9cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc1dpZGdldEFyZ3ModGhpcy53aWRnZXRBcmdzKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBJbml0aWFsU3RhdGUodGhpcy53aWRnZXRBcmdzKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICAgICAgdGhpcy5hdHRhY2hIZWxwQ2xpY2tFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgICAvL1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBBbGwgdmFsaWRhdGlvbiBsb2dpYyBvZiB3aWRnZXRBcmdzIC0+IG1haW5seSB0aGUgaW5wdXRBcmdzIGFuZCB0cmlnZ2VyQXR0cmlidXRlc1xuICAgICAqIGdvZXMgaGVyZVxuICAgICAqL1xuICAgIHByb2Nlc3NXaWRnZXRBcmdzKHsgaW5wdXRBcmdzIH0pIHtcbiAgICAgICAgLy8gc2hvdWxkIGhhdmUgb25seSBvbmUgaW5wdXRBcmdcbiAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRBcmdzKS5mb3JFYWNoKChfaW5wdXRBcmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJmeEFyZyA9IGlucHV0QXJnc1tfaW5wdXRBcmddO1xuICAgICAgICAgICAgdGhpcy5pbnB1dEFyZyA9IHJmeEFyZztcbiAgICAgICAgICAgIHJmeEFyZy5pbnB1dCA9IHRoaXMuaG9zdEVsZW1lbnQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXR1cEluaXRpYWxTdGF0ZSh7IHJmeEFyZ3MsIHJhc3RlckZ1bmN0aW9ucyB9KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmlucHV0QXJnLnZhbHVlO1xuICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdG9yZVxuICAgICAgICBjb25zdCB3aWRnZXROYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHJmeEFyZ3MpO1xuICAgICAgICBjb25zdCByYXN0ZXJGdW5jdGlvbiA9IHJhc3RlckZ1bmN0aW9uc1t3aWRnZXROYW1lXTtcbiAgICAgICAgY29uc3QgcmFzdGVyRnVuY3Rpb25Bcmd1bWVudHMgPSByYXN0ZXJGdW5jdGlvbj8ucmFzdGVyRnVuY3Rpb25Bcmd1bWVudHM7XG4gICAgICAgIGNvbnN0IGlucHV0QXJnTmFtZSA9IHRoaXMuaW5wdXRBcmcubmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRBcmcudmFsdWU7XG4gICAgICAgIGNvbnN0IGlucHV0QXJnRG9tYWluID0gcmFzdGVyRnVuY3Rpb25Bcmd1bWVudHM/LltpbnB1dEFyZ05hbWVdPy5kb21haW47XG4gICAgICAgIGlmIChpbnB1dEFyZ0RvbWFpbj8udHlwZSA9PT0gXCJsaXN0XCIpIHtcbiAgICAgICAgICAgIC8vIGNvbnN0IGVudW1EYXRhID0gcmZ4VXRpbHMuY29lcmNlRW51bURhdGFGb3JDdXJyZW50RW52KHRoaXMucmZ4QXJncywgaW5wdXRBcmdEb21haW4uZW51bSwgdGhpcy5wb3J0YWxNb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGVudW1EYXRhID0gaW5wdXRBcmdEb21haW4uZW51bTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBjbG9uZVJGVChlbnVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBpbnB1dEFyZyEgQ2hlY2sgU2NoZW1hXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBTZW5zb3IgcGlja2VyIHN0b3JlIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIGRvbWFpbiBsaXN0XG4gICAgICAgIC8vIGFuZCBhIGxpc3Qgb2Ygc2Vuc29ycyBsaXN0ZWQgaW4gc2Vuc29yTGlzdFxuICAgICAgICB0aGlzLnN0b3JlID0gdGhpcy5zdG9yZS5jb25jYXQodGhpcy5zZW5zb3JMaXN0Lm1hcChmdW5jdGlvbiAoc2Vuc29yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleTogc2Vuc29yLm5hbWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHNlbnNvci5uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuc3RvcmU/LmZvckVhY2goKGVudW1FbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBlbnVtRWxlbWVudC5rZXkgPSBlbnVtRWxlbWVudC5rZXkudG9TdHJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0VtcHR5RGF0YUl0ZW0odGhpcy5zdG9yZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEb21haW4gbGlzdCBFbnVtIG5vdCBzZXQhIENoZWNrIFNjaGVtYVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEFyZy52YWx1ZSB8fCB0aGlzLnN0b3JlWzBdLmtleTtcbiAgICB9XG4gICAgYXR0YWNoSGVscENsaWNrRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgY29uc3QgaW5wdXRBcmdIZWxwQ2xpY2tIYW5kbGVyID0gdGhpcy53aWRnZXRBcmdzLm9uSGVscEFjdGlvbkNsaWNrKHtcbiAgICAgICAgICAgIGhlYWRpbmc6IHRoaXMuaW5wdXRBcmcuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICByZWZlcmVuY2VFbGVtZW50OiB0aGlzLndpZGdldENvbnRhaW5lcixcbiAgICAgICAgICAgIGhlbHBUZXh0SUQ6IHRoaXMuaW5wdXRBcmc/LmhlbHBUZXh0SURcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGVscEFjdGlvbkNsaWNrRXZlbnRIYW5kbGVycy5zZXQoSGVscENsaWNrSGFuZGxlcktleXMuaW5wdXRBcmdIZWxwQ2xpY2tIYW5kbGVyLCBpbnB1dEFyZ0hlbHBDbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCBudWxsLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGFsaWdubWVudDogXCJzdGFydFwiLCBzY2FsZTogVUlEZWZhdWx0cy5TY2FsZSwgbGF5b3V0OiBcImRlZmF1bHRcIiwgcmVmOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyID0gZTtcbiAgICAgICAgICAgIH0gfSwgaChcInJmeC1sYWJlbFwiLCB7IGxhYmVsOiB0aGlzLmlucHV0QXJnLmRpc3BsYXlOYW1lLCBvblJmeExhYmVsSGVscEFjdGlvbkNsaWNrOiAoKSA9PiB0aGlzLmhlbHBBY3Rpb25DbGlja0V2ZW50SGFuZGxlcnMuZ2V0KEhlbHBDbGlja0hhbmRsZXJLZXlzLmlucHV0QXJnSGVscENsaWNrSGFuZGxlcikoKSB9KSwgaChcInJmeC1kdGV4LWNvbW1vbi1zZWxlY3RcIiwgeyBvcHRpb25zOiB0aGlzLnN0b3JlLCB2YWx1ZTogU3RyaW5nKHRoaXMudmFsdWUpLCBvblJmeEFyZ3VtZW50Q2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlIH0pKSkpO1xuICAgIH1cbiAgICBnZXQgaG9zdEVsZW1lbnQoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuXG5leHBvcnQgeyBSZnhQYW5zaGFycGVuU2Vuc29yUGlja2VyIGFzIFIgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmZ4LWN0ZS1wYW5zaGFycGVuLXNlbnNvci1waWNrZXItMWJiMGQyZDYuanMubWFwIiwiZXhwb3J0IHsgUiBhcyByZnhfY3RlX3BhbnNoYXJwZW5fc2Vuc29yX3BpY2tlciB9IGZyb20gJy4vcmZ4LWN0ZS1wYW5zaGFycGVuLXNlbnNvci1waWNrZXItMWJiMGQyZDYuanMnO1xuaW1wb3J0ICcuL2luZGV4LWRhMWI3MTM4LmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbnMtZjFmMmRmZmQuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvY29yZS9sYW5nLmpzJztcbmltcG9ydCAnLi9yZXNvdXJjZXMtMjdjNjZmNWMuanMnO1xuaW1wb3J0ICcuL2xvY2FsaXphdGlvbi1oZWxwZXItNDgxOWI2N2QuanMnO1xuaW1wb3J0ICcuL3R5cGUtZ2F1cmRzLTE4NDA3NDdmLmpzJztcbmltcG9ydCAnLi9fZ2V0VGFnLTk2YWYwMjlkLmpzJztcbmltcG9ydCAnLi91aS11dGlscy05MjhhNDA5Ni5qcyc7XG5pbXBvcnQgJy4vcmZ4LWFyZ3MtaGVscGVyLWFiNDAxNTQzLmpzJztcbmltcG9ydCAnLi9pbnRlcmZhY2VzLWQwYzY4OTQ0LmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2lkZW50aXR5L0lkZW50aXR5TWFuYWdlci5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9jb3JlL3VybFV0aWxzLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2xheWVycy9MYXllci5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9sYXllcnMvSW1hZ2VyeUxheWVyLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9yYXN0ZXIvcmVuZGVyZXJzL3N0cmV0Y2guanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcmVxdWVzdC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvQWxnb3JpdGhtaWNDb2xvclJhbXAuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L011bHRpcGFydENvbG9yUmFtcC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9Db2xvci5qcyc7XG5pbXBvcnQgJy4vY29sb3JSYW1wVXRpbHMtOGJkZDQ2YzUuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcmVzdC9nZW9wcm9jZXNzb3IuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcG9ydGFsL1BvcnRhbEl0ZW0uanMnO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZngtY3RlLXBhbnNoYXJwZW4tc2Vuc29yLXBpY2tlci5lbnRyeS5qcy5tYXAiLCJjb25zdCBVSURlZmF1bHRzID0ge1xuICAgIFNjYWxlOiBcInNcIixcbiAgICBQb3BvdmVyVGltZXI6IDYwXG59O1xuY29uc3QgQ2FsY2l0ZVNjYWxlID0ge1xuICAgIHM6IFwic1wiLFxuICAgIG06IFwibVwiXG59O1xuY29uc3QgQ2FsY2l0ZU92ZXJsYXlQb3NpdGlvbmluZyA9IHtcbiAgICBhYnNvbHV0ZTogXCJhYnNvbHV0ZVwiLFxuICAgIGZpeGVkOiBcImZpeGVkXCJcbn07XG5cbmV4cG9ydCB7IENhbGNpdGVTY2FsZSBhcyBDLCBVSURlZmF1bHRzIGFzIFUsIENhbGNpdGVPdmVybGF5UG9zaXRpb25pbmcgYXMgYSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11aS11dGlscy05MjhhNDA5Ni5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=