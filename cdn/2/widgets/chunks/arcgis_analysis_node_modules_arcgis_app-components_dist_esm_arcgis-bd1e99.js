"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-bd1e99"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-item-classification-input-checkbox_6.entry.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-item-classification-input-checkbox_6.entry.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_item_classification_input_checkbox: () => (/* binding */ ArcgisItemClassificationInputCheckbox),
/* harmony export */   arcgis_item_classification_input_date: () => (/* binding */ ArcgisItemClassificationInputDate),
/* harmony export */   arcgis_item_classification_input_grouped_multiple_selection: () => (/* binding */ ArcgisItemClassificationInputGroupedMultipleSelection),
/* harmony export */   arcgis_item_classification_input_multiple_selection: () => (/* binding */ ArcgisItemClassificationInputMultipleSelection),
/* harmony export */   arcgis_item_classification_input_single_selection: () => (/* binding */ ArcgisItemClassificationInputSingleSelection),
/* harmony export */   arcgis_item_classification_input_textbox: () => (/* binding */ ArcgisItemClassificationInputTextbox)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */


const inputCheckboxCss = ".classification-checkbox{margin:0.25rem}";

const ArcgisItemClassificationInputCheckbox = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.toggleAttribute = (e) => {
            this.itemClassificationValue[this.attributeId] = e.target.checked;
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a, _b, _c;
        this.attributeValue = this.inputData.attributeValue;
        this.itemClassificationValue = this.inputData.itemClassificationValue;
        this.attributeId = this.inputData.attributeId;
        this.labelClass = this.attributeId;
        this.attributeLabel = (_a = this.attributeValue) === null || _a === void 0 ? void 0 : _a.label;
        this.attributeName = (_b = this.attributeValue) === null || _b === void 0 ? void 0 : _b.name;
        this.isChecked = !!((_c = this.itemClassificationValue) === null || _c === void 0 ? void 0 : _c[this.attributeId]);
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-checkbox" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { class: `trailer-0 flex-1 ${this.labelClass}`, key: this.attributeId, for: this.attributeId, layout: "inline" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-checkbox", { id: this.attributeId, name: this.attributeName, scale: "m", checked: this.isChecked, onCalciteCheckboxChange: this.toggleAttribute.bind(this), disabled: this.isSaving }), this.attributeLabel)));
    }
};
ArcgisItemClassificationInputCheckbox.style = inputCheckboxCss;

const inputDateCss = ".classification-date{margin:0.25rem}";

const ArcgisItemClassificationInputDate = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.onDateChange = (e) => {
            const value = e.target.value;
            if (!!value) {
                this.itemClassificationValue[this.attributeId] = value;
            }
            else {
                delete this.itemClassificationValue[this.attributeId];
            }
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a, _b, _c;
        this.attributeValue = this.inputData.attributeValue;
        this.itemClassificationValue = this.inputData.itemClassificationValue;
        this.attributeId = this.inputData.attributeId;
        this.labelClass = this.attributeId;
        this.attributeLabel = (_a = this.attributeValue) === null || _a === void 0 ? void 0 : _a.label;
        this.attributeName = (_b = this.attributeValue) === null || _b === void 0 ? void 0 : _b.name;
        this.currentInputValue = (_c = this.itemClassificationValue) === null || _c === void 0 ? void 0 : _c[this.attributeId];
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-date" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { class: `trailer-0 flex-1 ${this.labelClass}`, key: this.attributeId, for: this.attributeId }, this.attributeLabel, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: this.labelClass }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-date-picker", { id: this.attributeId, name: this.attributeName, value: this.currentInputValue, onCalciteInputDatePickerChange: this.onDateChange.bind(this), disabled: this.isSaving })))));
    }
};
ArcgisItemClassificationInputDate.style = inputDateCss;

const inputGroupedMultipleSelectionCss = ".classification-multiple-group-select{margin:0.25rem}";

const ArcgisItemClassificationInputGroupedMultipleSelection = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.configureGroupMultiCombobox = () => {
            let groupItemTSXArr = [];
            for (const groupIndex in this.valueExpressionResult) {
                const groupItemArr = this.valueExpressionResult[groupIndex];
                const groupItemTSX = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox-item-group", { label: groupIndex, key: groupIndex }, groupItemArr.map((groupItem) => {
                    var _a;
                    const label = groupItem.label;
                    const value = groupItem.value;
                    const isSelected = (_a = this.selectedValues) === null || _a === void 0 ? void 0 : _a.includes(value);
                    return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox-item", { key: label, textLabel: label, value: value, selected: isSelected }));
                }));
                groupItemTSXArr = [...groupItemTSXArr, structuredClone(groupItemTSX)];
            }
            return groupItemTSXArr;
        };
        this.onAttributesChange = (e) => {
            const selectedItems = e.target.selectedItems;
            const selectedItemsLen = selectedItems.length;
            const value = e.target.value;
            if (selectedItemsLen === 0) {
                delete this.itemClassificationValue[this.attributeId];
            }
            else if (selectedItemsLen === 1) {
                this.itemClassificationValue[this.attributeId] = [...[], value];
            }
            else if (selectedItemsLen > 1) {
                this.itemClassificationValue[this.attributeId] = [...value];
            }
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a;
        this.attributeValue = this.inputData.attributeValue;
        this.itemClassificationValue = this.inputData.itemClassificationValue;
        this.attributeId = this.inputData.attributeId;
        this.valueExpressionResult = this.inputData.valueExpressionResult;
        this.attributeLabel = (_a = this.attributeValue) === null || _a === void 0 ? void 0 : _a.label;
        this.selectedValues = this.itemClassificationValue[this.attributeId];
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-multiple-group-select" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: this.attributeId, key: this.attributeId, id: `${this.attributeId}_label` }, this.attributeLabel, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox", { id: this.attributeId, label: "groupedMultipleSelection", selectionMode: "multiple", scale: "m", onCalciteComboboxChange: this.onAttributesChange.bind(this), disabled: this.isSaving }, this.configureGroupMultiCombobox()))));
    }
};
ArcgisItemClassificationInputGroupedMultipleSelection.style = inputGroupedMultipleSelectionCss;

const inputMultipleSelectionCss = ".classification-multiple-select{margin:0.25rem}";

const ArcgisItemClassificationInputMultipleSelection = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.configureCombobox = () => {
            var _a;
            return (_a = this.valueExpressionResult) === null || _a === void 0 ? void 0 : _a.map((comboboxItem) => {
                var _a;
                const label = comboboxItem.label;
                const value = comboboxItem.value;
                const isSelected = !!((_a = this.selectedValues) === null || _a === void 0 ? void 0 : _a.includes(value));
                return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox-item", { id: label, selected: isSelected, key: label, value: value, textLabel: label }));
            });
        };
        this.onAttributesChange = (e) => {
            const selectedItems = e.target.selectedItems;
            const selectedItemsLen = selectedItems.length;
            const value = e.target.value;
            if (selectedItemsLen === 0) {
                delete this.itemClassificationValue[this.attributeId];
            }
            else if (selectedItemsLen === 1) {
                this.itemClassificationValue[this.attributeId] = [...[], value];
            }
            else if (selectedItemsLen > 1) {
                this.itemClassificationValue[this.attributeId] = [...value];
            }
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a, _b, _c, _d, _e, _f;
        this.attributeValue = (_a = this.inputData) === null || _a === void 0 ? void 0 : _a.attributeValue;
        this.itemClassificationValue = (_b = this.inputData) === null || _b === void 0 ? void 0 : _b.itemClassificationValue;
        this.attributeId = (_c = this.inputData) === null || _c === void 0 ? void 0 : _c.attributeId;
        this.valueExpressionResult = (_d = this.inputData) === null || _d === void 0 ? void 0 : _d.valueExpressionResult;
        this.attributeLabel = (_e = this.attributeValue) === null || _e === void 0 ? void 0 : _e.label;
        this.selectedValues = (_f = this.itemClassificationValue) === null || _f === void 0 ? void 0 : _f[this.attributeId];
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-multiple-select" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: this.attributeId, key: this.attributeId, id: `${this.attributeId}_label` }, this.attributeLabel, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox", { id: this.attributeId, label: "multipleSelection", selectionMode: "multiple", scale: "m", onCalciteComboboxChange: this.onAttributesChange.bind(this), disabled: this.isSaving }, this.configureCombobox()))));
    }
};
ArcgisItemClassificationInputMultipleSelection.style = inputMultipleSelectionCss;

const inputSingleSelectionCss = ".classification-single-select{margin:0.25rem}";

const ArcgisItemClassificationInputSingleSelection = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.configureCombobox = () => {
            var _a;
            return (_a = this.valueExpressionResult) === null || _a === void 0 ? void 0 : _a.map((comboboxItem) => {
                var _a;
                const label = comboboxItem.label;
                const value = comboboxItem.value;
                const isSelected = !!((_a = this.selectedValues) === null || _a === void 0 ? void 0 : _a.includes(value));
                return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox-item", { id: label, selected: isSelected, key: label, value: value, textLabel: label }));
            });
        };
        this.onAttributeChange = (e) => {
            const value = e.target.value;
            if (!!value) {
                this.itemClassificationValue[this.attributeId] = value;
            }
            else {
                delete this.itemClassificationValue[this.attributeId];
            }
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a;
        this.attributeValue = this.inputData.attributeValue;
        this.itemClassificationValue = this.inputData.itemClassificationValue;
        this.attributeId = this.inputData.attributeId;
        this.valueExpressionResult = this.inputData.valueExpressionResult;
        this.attributeLabel = (_a = this.attributeValue) === null || _a === void 0 ? void 0 : _a.label;
        this.selectedValues = this.itemClassificationValue[this.attributeId];
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-single-select" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: this.attributeId, key: this.attributeId, id: `${this.attributeId}_label` }, this.attributeLabel, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-combobox", { id: this.attributeId, label: "SingleSelection", selectionMode: "single", scale: "m", onCalciteComboboxChange: this.onAttributeChange.bind(this), disabled: this.isSaving }, this.configureCombobox()))));
    }
};
ArcgisItemClassificationInputSingleSelection.style = inputSingleSelectionCss;

const inputTextboxCss = ".classification-textbox{margin:0.25rem}";

const ArcgisItemClassificationInputTextbox = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.toggleAttributeHandler = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "toggleAttributeHandler", 7);
        this.getAttributeType = (attributeJson) => {
            const type = attributeJson === null || attributeJson === void 0 ? void 0 : attributeJson.type;
            if (type === "string") {
                return "text";
            }
            else if (["integer", "float"].includes(type)) {
                return "number";
            }
            else if (type === "date") {
                return "date";
            }
            return "text";
        };
        this.onAttributeChange = (e) => {
            const value = e.target.value;
            if (!!value) {
                this.itemClassificationValue[this.attributeId] = value;
            }
            else {
                delete this.itemClassificationValue[this.attributeId];
            }
            this.toggleAttributeHandler.emit(Object.assign({}, this.itemClassificationValue));
        };
        this.isSaving = undefined;
        this.inputData = undefined;
    }
    loadAttributes() {
        var _a, _b, _c, _d;
        this.attributeValue = this.inputData.attributeValue;
        this.itemClassificationValue = this.inputData.itemClassificationValue;
        this.attributeId = this.inputData.attributeId;
        this.labelClass = this.attributeId;
        this.attributeLabel = (_a = this.attributeValue) === null || _a === void 0 ? void 0 : _a.label;
        this.attributeName = (_b = this.attributeValue) === null || _b === void 0 ? void 0 : _b.name;
        this.attributeDesc = (_c = this.attributeValue) === null || _c === void 0 ? void 0 : _c.description;
        this.currentInputValue = (_d = this.itemClassificationValue) === null || _d === void 0 ? void 0 : _d[this.attributeId];
        this.attributeType = this.getAttributeType(this.attributeValue);
    }
    render() {
        this.loadAttributes();
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "classification-textbox" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { class: `trailer-0 flex-1 ${this.labelClass}`, key: this.attributeId, for: this.attributeId, id: `${this.attributeId}_label` }, this.attributeLabel, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: this.labelClass }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: this.attributeId, name: this.attributeName, scale: "m", type: this.attributeType, value: this.currentInputValue, numberButtonType: "vertical", placeholder: this.attributeDesc, onCalciteInputInput: this.onAttributeChange.bind(this), disabled: this.isSaving })))));
    }
};
ArcgisItemClassificationInputTextbox.style = inputTextboxCss;



//# sourceMappingURL=arcgis-item-classification-input-checkbox_6.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWJkMWU5OS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDaUY7O0FBRWpGLG1EQUFtRCxlQUFlOztBQUVsRTtBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsc0NBQXNDLHFEQUFXO0FBQ2pEO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUMsVUFBVSxrQ0FBa0MsRUFBRSxxREFBQyxvQkFBb0IsMkJBQTJCLGdCQUFnQixtRUFBbUUsRUFBRSxxREFBQyx1QkFBdUIsd0tBQXdLO0FBQ3BZO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkMsZUFBZTs7QUFFMUQ7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLHNDQUFzQyxxREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFDLFVBQVUsOEJBQThCLEVBQUUscURBQUMsb0JBQW9CLDJCQUEyQixnQkFBZ0IsaURBQWlELHVCQUF1QixxREFBQyxVQUFVLHdCQUF3QixFQUFFLHFEQUFDLGdDQUFnQyxzS0FBc0s7QUFDL2E7QUFDQTtBQUNBOztBQUVBLGdGQUFnRixlQUFlOztBQUUvRjtBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsc0NBQXNDLHFEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFEQUFDLGtDQUFrQyxvQ0FBb0M7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQUMsNEJBQTRCLGtFQUFrRTtBQUMzSCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUMsVUFBVSwrQ0FBK0MsRUFBRSxxREFBQyxvQkFBb0IscURBQXFELGlCQUFpQixTQUFTLHVCQUF1QixxREFBQyx1QkFBdUIsc0xBQXNMO0FBQ3JaO0FBQ0E7QUFDQTs7QUFFQSxtRUFBbUUsZUFBZTs7QUFFbEY7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLHNDQUFzQyxxREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxREFBQyw0QkFBNEIsNkVBQTZFO0FBQ2xJLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBQyxVQUFVLHlDQUF5QyxFQUFFLHFEQUFDLG9CQUFvQixxREFBcUQsaUJBQWlCLFNBQVMsdUJBQXVCLHFEQUFDLHVCQUF1QiwrS0FBK0s7QUFDeFk7QUFDQTtBQUNBOztBQUVBLCtEQUErRCxlQUFlOztBQUU5RTtBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsc0NBQXNDLHFEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFDLDRCQUE0Qiw2RUFBNkU7QUFDbEksYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUMsVUFBVSx1Q0FBdUMsRUFBRSxxREFBQyxvQkFBb0IscURBQXFELGlCQUFpQixTQUFTLHVCQUF1QixxREFBQyx1QkFBdUIsMEtBQTBLO0FBQ2pZO0FBQ0E7QUFDQTs7QUFFQSxpREFBaUQsZUFBZTs7QUFFaEU7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLHNDQUFzQyxxREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFDLFVBQVUsaUNBQWlDLEVBQUUscURBQUMsb0JBQW9CLDJCQUEyQixnQkFBZ0Isd0RBQXdELGlCQUFpQixTQUFTLHVCQUF1QixxREFBQyxVQUFVLHdCQUF3QixFQUFFLHFEQUFDLG9CQUFvQixxUUFBcVE7QUFDdGlCO0FBQ0E7QUFDQTs7QUFFNGpCOztBQUU1akIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtaXRlbS1jbGFzc2lmaWNhdGlvbi1pbnB1dC1jaGVja2JveF82LmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoIH0gZnJvbSAnLi9pbmRleC1lM2JmN2RhNy5qcyc7XG5cbmNvbnN0IGlucHV0Q2hlY2tib3hDc3MgPSBcIi5jbGFzc2lmaWNhdGlvbi1jaGVja2JveHttYXJnaW46MC4yNXJlbX1cIjtcblxuY29uc3QgQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRDaGVja2JveCA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMudG9nZ2xlQXR0cmlidXRlSGFuZGxlciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidG9nZ2xlQXR0cmlidXRlSGFuZGxlclwiLCA3KTtcbiAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZVt0aGlzLmF0dHJpYnV0ZUlkXSA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIuZW1pdChPYmplY3QuYXNzaWduKHt9LCB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNTYXZpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5wdXREYXRhID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsb2FkQXR0cmlidXRlcygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUgPSB0aGlzLmlucHV0RGF0YS5hdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZSA9IHRoaXMuaW5wdXREYXRhLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUlkID0gdGhpcy5pbnB1dERhdGEuYXR0cmlidXRlSWQ7XG4gICAgICAgIHRoaXMubGFiZWxDbGFzcyA9IHRoaXMuYXR0cmlidXRlSWQ7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTGFiZWwgPSAoX2EgPSB0aGlzLmF0dHJpYnV0ZVZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFiZWw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTmFtZSA9IChfYiA9IHRoaXMuYXR0cmlidXRlVmFsdWUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5uYW1lO1xuICAgICAgICB0aGlzLmlzQ2hlY2tlZCA9ICEhKChfYyA9IHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1t0aGlzLmF0dHJpYnV0ZUlkXSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlcygpO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJjbGFzc2lmaWNhdGlvbi1jaGVja2JveFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgY2xhc3M6IGB0cmFpbGVyLTAgZmxleC0xICR7dGhpcy5sYWJlbENsYXNzfWAsIGtleTogdGhpcy5hdHRyaWJ1dGVJZCwgZm9yOiB0aGlzLmF0dHJpYnV0ZUlkLCBsYXlvdXQ6IFwiaW5saW5lXCIgfSwgaChcImNhbGNpdGUtY2hlY2tib3hcIiwgeyBpZDogdGhpcy5hdHRyaWJ1dGVJZCwgbmFtZTogdGhpcy5hdHRyaWJ1dGVOYW1lLCBzY2FsZTogXCJtXCIsIGNoZWNrZWQ6IHRoaXMuaXNDaGVja2VkLCBvbkNhbGNpdGVDaGVja2JveENoYW5nZTogdGhpcy50b2dnbGVBdHRyaWJ1dGUuYmluZCh0aGlzKSwgZGlzYWJsZWQ6IHRoaXMuaXNTYXZpbmcgfSksIHRoaXMuYXR0cmlidXRlTGFiZWwpKSk7XG4gICAgfVxufTtcbkFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0Q2hlY2tib3guc3R5bGUgPSBpbnB1dENoZWNrYm94Q3NzO1xuXG5jb25zdCBpbnB1dERhdGVDc3MgPSBcIi5jbGFzc2lmaWNhdGlvbi1kYXRle21hcmdpbjowLjI1cmVtfVwiO1xuXG5jb25zdCBBcmNnaXNJdGVtQ2xhc3NpZmljYXRpb25JbnB1dERhdGUgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXJcIiwgNyk7XG4gICAgICAgIHRoaXMub25EYXRlQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWVbdGhpcy5hdHRyaWJ1dGVJZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGVIYW5kbGVyLmVtaXQoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzU2F2aW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlucHV0RGF0YSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbG9hZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlID0gdGhpcy5pbnB1dERhdGEuYXR0cmlidXRlVmFsdWU7XG4gICAgICAgIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWUgPSB0aGlzLmlucHV0RGF0YS5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVJZCA9IHRoaXMuaW5wdXREYXRhLmF0dHJpYnV0ZUlkO1xuICAgICAgICB0aGlzLmxhYmVsQ2xhc3MgPSB0aGlzLmF0dHJpYnV0ZUlkO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxhYmVsID0gKF9hID0gdGhpcy5hdHRyaWJ1dGVWYWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSAoX2IgPSB0aGlzLmF0dHJpYnV0ZVZhbHVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRWYWx1ZSA9IChfYyA9IHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1t0aGlzLmF0dHJpYnV0ZUlkXTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImNsYXNzaWZpY2F0aW9uLWRhdGVcIiB9LCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGNsYXNzOiBgdHJhaWxlci0wIGZsZXgtMSAke3RoaXMubGFiZWxDbGFzc31gLCBrZXk6IHRoaXMuYXR0cmlidXRlSWQsIGZvcjogdGhpcy5hdHRyaWJ1dGVJZCB9LCB0aGlzLmF0dHJpYnV0ZUxhYmVsLCBoKFwiZGl2XCIsIHsgY2xhc3M6IHRoaXMubGFiZWxDbGFzcyB9LCBoKFwiY2FsY2l0ZS1pbnB1dC1kYXRlLXBpY2tlclwiLCB7IGlkOiB0aGlzLmF0dHJpYnV0ZUlkLCBuYW1lOiB0aGlzLmF0dHJpYnV0ZU5hbWUsIHZhbHVlOiB0aGlzLmN1cnJlbnRJbnB1dFZhbHVlLCBvbkNhbGNpdGVJbnB1dERhdGVQaWNrZXJDaGFuZ2U6IHRoaXMub25EYXRlQ2hhbmdlLmJpbmQodGhpcyksIGRpc2FibGVkOiB0aGlzLmlzU2F2aW5nIH0pKSkpKTtcbiAgICB9XG59O1xuQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXREYXRlLnN0eWxlID0gaW5wdXREYXRlQ3NzO1xuXG5jb25zdCBpbnB1dEdyb3VwZWRNdWx0aXBsZVNlbGVjdGlvbkNzcyA9IFwiLmNsYXNzaWZpY2F0aW9uLW11bHRpcGxlLWdyb3VwLXNlbGVjdHttYXJnaW46MC4yNXJlbX1cIjtcblxuY29uc3QgQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRHcm91cGVkTXVsdGlwbGVTZWxlY3Rpb24gPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXJcIiwgNyk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlR3JvdXBNdWx0aUNvbWJvYm94ID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGdyb3VwSXRlbVRTWEFyciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cEluZGV4IGluIHRoaXMudmFsdWVFeHByZXNzaW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJdGVtQXJyID0gdGhpcy52YWx1ZUV4cHJlc3Npb25SZXN1bHRbZ3JvdXBJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJdGVtVFNYID0gaChcImNhbGNpdGUtY29tYm9ib3gtaXRlbS1ncm91cFwiLCB7IGxhYmVsOiBncm91cEluZGV4LCBrZXk6IGdyb3VwSW5kZXggfSwgZ3JvdXBJdGVtQXJyLm1hcCgoZ3JvdXBJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBncm91cEl0ZW0ubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ3JvdXBJdGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gKF9hID0gdGhpcy5zZWxlY3RlZFZhbHVlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChoKFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCIsIHsga2V5OiBsYWJlbCwgdGV4dExhYmVsOiBsYWJlbCwgdmFsdWU6IHZhbHVlLCBzZWxlY3RlZDogaXNTZWxlY3RlZCB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGdyb3VwSXRlbVRTWEFyciA9IFsuLi5ncm91cEl0ZW1UU1hBcnIsIHN0cnVjdHVyZWRDbG9uZShncm91cEl0ZW1UU1gpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEl0ZW1UU1hBcnI7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25BdHRyaWJ1dGVzQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBlLnRhcmdldC5zZWxlY3RlZEl0ZW1zO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtc0xlbiA9IHNlbGVjdGVkSXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1zTGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWVbdGhpcy5hdHRyaWJ1dGVJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEl0ZW1zTGVuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZVt0aGlzLmF0dHJpYnV0ZUlkXSA9IFsuLi5bXSwgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRJdGVtc0xlbiA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdID0gWy4uLnZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQXR0cmlidXRlSGFuZGxlci5lbWl0KE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc1NhdmluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbnB1dERhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxvYWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUgPSB0aGlzLmlucHV0RGF0YS5hdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZSA9IHRoaXMuaW5wdXREYXRhLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUlkID0gdGhpcy5pbnB1dERhdGEuYXR0cmlidXRlSWQ7XG4gICAgICAgIHRoaXMudmFsdWVFeHByZXNzaW9uUmVzdWx0ID0gdGhpcy5pbnB1dERhdGEudmFsdWVFeHByZXNzaW9uUmVzdWx0O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxhYmVsID0gKF9hID0gdGhpcy5hdHRyaWJ1dGVWYWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZVt0aGlzLmF0dHJpYnV0ZUlkXTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImNsYXNzaWZpY2F0aW9uLW11bHRpcGxlLWdyb3VwLXNlbGVjdFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiB0aGlzLmF0dHJpYnV0ZUlkLCBrZXk6IHRoaXMuYXR0cmlidXRlSWQsIGlkOiBgJHt0aGlzLmF0dHJpYnV0ZUlkfV9sYWJlbGAgfSwgdGhpcy5hdHRyaWJ1dGVMYWJlbCwgaChcImNhbGNpdGUtY29tYm9ib3hcIiwgeyBpZDogdGhpcy5hdHRyaWJ1dGVJZCwgbGFiZWw6IFwiZ3JvdXBlZE11bHRpcGxlU2VsZWN0aW9uXCIsIHNlbGVjdGlvbk1vZGU6IFwibXVsdGlwbGVcIiwgc2NhbGU6IFwibVwiLCBvbkNhbGNpdGVDb21ib2JveENoYW5nZTogdGhpcy5vbkF0dHJpYnV0ZXNDaGFuZ2UuYmluZCh0aGlzKSwgZGlzYWJsZWQ6IHRoaXMuaXNTYXZpbmcgfSwgdGhpcy5jb25maWd1cmVHcm91cE11bHRpQ29tYm9ib3goKSkpKSk7XG4gICAgfVxufTtcbkFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0R3JvdXBlZE11bHRpcGxlU2VsZWN0aW9uLnN0eWxlID0gaW5wdXRHcm91cGVkTXVsdGlwbGVTZWxlY3Rpb25Dc3M7XG5cbmNvbnN0IGlucHV0TXVsdGlwbGVTZWxlY3Rpb25Dc3MgPSBcIi5jbGFzc2lmaWNhdGlvbi1tdWx0aXBsZS1zZWxlY3R7bWFyZ2luOjAuMjVyZW19XCI7XG5cbmNvbnN0IEFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0TXVsdGlwbGVTZWxlY3Rpb24gPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXJcIiwgNyk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlQ29tYm9ib3ggPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy52YWx1ZUV4cHJlc3Npb25SZXN1bHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKGNvbWJvYm94SXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGNvbWJvYm94SXRlbS5sYWJlbDtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJvYm94SXRlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gISEoKF9hID0gdGhpcy5zZWxlY3RlZFZhbHVlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChoKFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCIsIHsgaWQ6IGxhYmVsLCBzZWxlY3RlZDogaXNTZWxlY3RlZCwga2V5OiBsYWJlbCwgdmFsdWU6IHZhbHVlLCB0ZXh0TGFiZWw6IGxhYmVsIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQXR0cmlidXRlc0NoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW1zID0gZS50YXJnZXQuc2VsZWN0ZWRJdGVtcztcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNMZW4gPSBzZWxlY3RlZEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtc0xlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRJdGVtc0xlbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWVbdGhpcy5hdHRyaWJ1dGVJZF0gPSBbLi4uW10sIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkSXRlbXNMZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZVt0aGlzLmF0dHJpYnV0ZUlkXSA9IFsuLi52YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIuZW1pdChPYmplY3QuYXNzaWduKHt9LCB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNTYXZpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5wdXREYXRhID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsb2FkQXR0cmlidXRlcygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUgPSAoX2EgPSB0aGlzLmlucHV0RGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlID0gKF9iID0gdGhpcy5pbnB1dERhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVJZCA9IChfYyA9IHRoaXMuaW5wdXREYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYXR0cmlidXRlSWQ7XG4gICAgICAgIHRoaXMudmFsdWVFeHByZXNzaW9uUmVzdWx0ID0gKF9kID0gdGhpcy5pbnB1dERhdGEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC52YWx1ZUV4cHJlc3Npb25SZXN1bHQ7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTGFiZWwgPSAoX2UgPSB0aGlzLmF0dHJpYnV0ZVZhbHVlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubGFiZWw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSAoX2YgPSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZbdGhpcy5hdHRyaWJ1dGVJZF07XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlcygpO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJjbGFzc2lmaWNhdGlvbi1tdWx0aXBsZS1zZWxlY3RcIiB9LCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogdGhpcy5hdHRyaWJ1dGVJZCwga2V5OiB0aGlzLmF0dHJpYnV0ZUlkLCBpZDogYCR7dGhpcy5hdHRyaWJ1dGVJZH1fbGFiZWxgIH0sIHRoaXMuYXR0cmlidXRlTGFiZWwsIGgoXCJjYWxjaXRlLWNvbWJvYm94XCIsIHsgaWQ6IHRoaXMuYXR0cmlidXRlSWQsIGxhYmVsOiBcIm11bHRpcGxlU2VsZWN0aW9uXCIsIHNlbGVjdGlvbk1vZGU6IFwibXVsdGlwbGVcIiwgc2NhbGU6IFwibVwiLCBvbkNhbGNpdGVDb21ib2JveENoYW5nZTogdGhpcy5vbkF0dHJpYnV0ZXNDaGFuZ2UuYmluZCh0aGlzKSwgZGlzYWJsZWQ6IHRoaXMuaXNTYXZpbmcgfSwgdGhpcy5jb25maWd1cmVDb21ib2JveCgpKSkpKTtcbiAgICB9XG59O1xuQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRNdWx0aXBsZVNlbGVjdGlvbi5zdHlsZSA9IGlucHV0TXVsdGlwbGVTZWxlY3Rpb25Dc3M7XG5cbmNvbnN0IGlucHV0U2luZ2xlU2VsZWN0aW9uQ3NzID0gXCIuY2xhc3NpZmljYXRpb24tc2luZ2xlLXNlbGVjdHttYXJnaW46MC4yNXJlbX1cIjtcblxuY29uc3QgQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRTaW5nbGVTZWxlY3Rpb24gPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInRvZ2dsZUF0dHJpYnV0ZUhhbmRsZXJcIiwgNyk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlQ29tYm9ib3ggPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy52YWx1ZUV4cHJlc3Npb25SZXN1bHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKGNvbWJvYm94SXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGNvbWJvYm94SXRlbS5sYWJlbDtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJvYm94SXRlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gISEoKF9hID0gdGhpcy5zZWxlY3RlZFZhbHVlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChoKFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCIsIHsgaWQ6IGxhYmVsLCBzZWxlY3RlZDogaXNTZWxlY3RlZCwga2V5OiBsYWJlbCwgdmFsdWU6IHZhbHVlLCB0ZXh0TGFiZWw6IGxhYmVsIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQXR0cmlidXRlQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWVbdGhpcy5hdHRyaWJ1dGVJZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGVIYW5kbGVyLmVtaXQoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzU2F2aW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlucHV0RGF0YSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbG9hZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZSA9IHRoaXMuaW5wdXREYXRhLmF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlID0gdGhpcy5pbnB1dERhdGEuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWU7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlSWQgPSB0aGlzLmlucHV0RGF0YS5hdHRyaWJ1dGVJZDtcbiAgICAgICAgdGhpcy52YWx1ZUV4cHJlc3Npb25SZXN1bHQgPSB0aGlzLmlucHV0RGF0YS52YWx1ZUV4cHJlc3Npb25SZXN1bHQ7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTGFiZWwgPSAoX2EgPSB0aGlzLmF0dHJpYnV0ZVZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFiZWw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY2xhc3NpZmljYXRpb24tc2luZ2xlLXNlbGVjdFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiB0aGlzLmF0dHJpYnV0ZUlkLCBrZXk6IHRoaXMuYXR0cmlidXRlSWQsIGlkOiBgJHt0aGlzLmF0dHJpYnV0ZUlkfV9sYWJlbGAgfSwgdGhpcy5hdHRyaWJ1dGVMYWJlbCwgaChcImNhbGNpdGUtY29tYm9ib3hcIiwgeyBpZDogdGhpcy5hdHRyaWJ1dGVJZCwgbGFiZWw6IFwiU2luZ2xlU2VsZWN0aW9uXCIsIHNlbGVjdGlvbk1vZGU6IFwic2luZ2xlXCIsIHNjYWxlOiBcIm1cIiwgb25DYWxjaXRlQ29tYm9ib3hDaGFuZ2U6IHRoaXMub25BdHRyaWJ1dGVDaGFuZ2UuYmluZCh0aGlzKSwgZGlzYWJsZWQ6IHRoaXMuaXNTYXZpbmcgfSwgdGhpcy5jb25maWd1cmVDb21ib2JveCgpKSkpKTtcbiAgICB9XG59O1xuQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRTaW5nbGVTZWxlY3Rpb24uc3R5bGUgPSBpbnB1dFNpbmdsZVNlbGVjdGlvbkNzcztcblxuY29uc3QgaW5wdXRUZXh0Ym94Q3NzID0gXCIuY2xhc3NpZmljYXRpb24tdGV4dGJveHttYXJnaW46MC4yNXJlbX1cIjtcblxuY29uc3QgQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRUZXh0Ym94ID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGVIYW5kbGVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJ0b2dnbGVBdHRyaWJ1dGVIYW5kbGVyXCIsIDcpO1xuICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZVR5cGUgPSAoYXR0cmlidXRlSnNvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGF0dHJpYnV0ZUpzb24gPT09IG51bGwgfHwgYXR0cmlidXRlSnNvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXR0cmlidXRlSnNvbi50eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChbXCJpbnRlZ2VyXCIsIFwiZmxvYXRcIl0uaW5jbHVkZXModHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZGF0ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQXR0cmlidXRlQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWVbdGhpcy5hdHRyaWJ1dGVJZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlW3RoaXMuYXR0cmlidXRlSWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGVIYW5kbGVyLmVtaXQoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pdGVtQ2xhc3NpZmljYXRpb25WYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzU2F2aW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlucHV0RGF0YSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbG9hZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZSA9IHRoaXMuaW5wdXREYXRhLmF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB0aGlzLml0ZW1DbGFzc2lmaWNhdGlvblZhbHVlID0gdGhpcy5pbnB1dERhdGEuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWU7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlSWQgPSB0aGlzLmlucHV0RGF0YS5hdHRyaWJ1dGVJZDtcbiAgICAgICAgdGhpcy5sYWJlbENsYXNzID0gdGhpcy5hdHRyaWJ1dGVJZDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVMYWJlbCA9IChfYSA9IHRoaXMuYXR0cmlidXRlVmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYWJlbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gKF9iID0gdGhpcy5hdHRyaWJ1dGVWYWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5hbWU7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlRGVzYyA9IChfYyA9IHRoaXMuYXR0cmlidXRlVmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRWYWx1ZSA9IChfZCA9IHRoaXMuaXRlbUNsYXNzaWZpY2F0aW9uVmFsdWUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZFt0aGlzLmF0dHJpYnV0ZUlkXTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVUeXBlID0gdGhpcy5nZXRBdHRyaWJ1dGVUeXBlKHRoaXMuYXR0cmlidXRlVmFsdWUpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY2xhc3NpZmljYXRpb24tdGV4dGJveFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgY2xhc3M6IGB0cmFpbGVyLTAgZmxleC0xICR7dGhpcy5sYWJlbENsYXNzfWAsIGtleTogdGhpcy5hdHRyaWJ1dGVJZCwgZm9yOiB0aGlzLmF0dHJpYnV0ZUlkLCBpZDogYCR7dGhpcy5hdHRyaWJ1dGVJZH1fbGFiZWxgIH0sIHRoaXMuYXR0cmlidXRlTGFiZWwsIGgoXCJkaXZcIiwgeyBjbGFzczogdGhpcy5sYWJlbENsYXNzIH0sIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgaWQ6IHRoaXMuYXR0cmlidXRlSWQsIG5hbWU6IHRoaXMuYXR0cmlidXRlTmFtZSwgc2NhbGU6IFwibVwiLCB0eXBlOiB0aGlzLmF0dHJpYnV0ZVR5cGUsIHZhbHVlOiB0aGlzLmN1cnJlbnRJbnB1dFZhbHVlLCBudW1iZXJCdXR0b25UeXBlOiBcInZlcnRpY2FsXCIsIHBsYWNlaG9sZGVyOiB0aGlzLmF0dHJpYnV0ZURlc2MsIG9uQ2FsY2l0ZUlucHV0SW5wdXQ6IHRoaXMub25BdHRyaWJ1dGVDaGFuZ2UuYmluZCh0aGlzKSwgZGlzYWJsZWQ6IHRoaXMuaXNTYXZpbmcgfSkpKSkpO1xuICAgIH1cbn07XG5BcmNnaXNJdGVtQ2xhc3NpZmljYXRpb25JbnB1dFRleHRib3guc3R5bGUgPSBpbnB1dFRleHRib3hDc3M7XG5cbmV4cG9ydCB7IEFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0Q2hlY2tib3ggYXMgYXJjZ2lzX2l0ZW1fY2xhc3NpZmljYXRpb25faW5wdXRfY2hlY2tib3gsIEFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0RGF0ZSBhcyBhcmNnaXNfaXRlbV9jbGFzc2lmaWNhdGlvbl9pbnB1dF9kYXRlLCBBcmNnaXNJdGVtQ2xhc3NpZmljYXRpb25JbnB1dEdyb3VwZWRNdWx0aXBsZVNlbGVjdGlvbiBhcyBhcmNnaXNfaXRlbV9jbGFzc2lmaWNhdGlvbl9pbnB1dF9ncm91cGVkX211bHRpcGxlX3NlbGVjdGlvbiwgQXJjZ2lzSXRlbUNsYXNzaWZpY2F0aW9uSW5wdXRNdWx0aXBsZVNlbGVjdGlvbiBhcyBhcmNnaXNfaXRlbV9jbGFzc2lmaWNhdGlvbl9pbnB1dF9tdWx0aXBsZV9zZWxlY3Rpb24sIEFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0U2luZ2xlU2VsZWN0aW9uIGFzIGFyY2dpc19pdGVtX2NsYXNzaWZpY2F0aW9uX2lucHV0X3NpbmdsZV9zZWxlY3Rpb24sIEFyY2dpc0l0ZW1DbGFzc2lmaWNhdGlvbklucHV0VGV4dGJveCBhcyBhcmNnaXNfaXRlbV9jbGFzc2lmaWNhdGlvbl9pbnB1dF90ZXh0Ym94IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyY2dpcy1pdGVtLWNsYXNzaWZpY2F0aW9uLWlucHV0LWNoZWNrYm94XzYuZW50cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9