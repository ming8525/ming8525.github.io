System.register(["jimu-arcgis","jimu-core","jimu-core/data-source","jimu-core/react","jimu-for-builder","jimu-for-builder/templates","jimu-layouts/layout-runtime","jimu-theme","jimu-ui","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/expression-builder","jimu-ui/advanced/resource-selector","jimu-ui/advanced/setting-components","jimu-ui/advanced/utility-selector","jimu-ui/basic/list-tree"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__ = {};
	var __WEBPACK_EXTERNAL_MODULE_react__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_for_builder_templates__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_theme__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_expression_builder__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_resource_selector__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_utility_selector__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_list_tree__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_react__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_for_builder__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_for_builder_templates__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_theme__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_expression_builder__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_resource_selector__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_utility_selector__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_list_tree__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_react__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_for_builder__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_for_builder_templates__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_theme__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_expression_builder__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_resource_selector__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_utility_selector__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_list_tree__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/svg/filled/brand/arcgis-enterprise.svg":
/*!***********************************************************!*\
  !*** ./jimu-icons/svg/filled/brand/arcgis-enterprise.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 32 32\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2.596 6.357c.39-.59.944-1.055 1.595-1.337L15.544.094a1.143 1.143 0 0 1 .91 0L30 5.97V23.66a3.6 3.6 0 0 1-.596 1.983 3.648 3.648 0 0 1-1.595 1.337l-11.353 4.927a1.144 1.144 0 0 1-.91 0L2 26.029V8.34a3.6 3.6 0 0 1 .596-1.984m3.419 15.162c.009.016.022.029.037.038l9.594 5.351a.721.721 0 0 0 .705 0l9.144-5.103a.994.994 0 0 0 .37-.356.95.95 0 0 0 .135-.488v-9.89a.852.852 0 0 0-.122-.438.89.89 0 0 0-.331-.32l-9.497-5.3a.106.106 0 0 0-.104 0l-2.415 1.348a.069.069 0 0 0-.026.025.066.066 0 0 0 .026.092l8.947 4.992c.39.218.716.532.941.91.226.378.345.807.345 1.243v5.514c0 .08-.021.157-.062.226a.459.459 0 0 1-.172.165l-5.633 3.145a3.904 3.904 0 0 1-1.899.49c-.666 0-1.32-.169-1.898-.49L8.972 19.81a1.457 1.457 0 0 1-.542-.524 1.394 1.394 0 0 1-.198-.715V11.76a.069.069 0 0 1 .07-.068c.012 0 .024.003.035.009l7.651 4.268c.05.028.092.068.121.117a.313.313 0 0 1 .045.16v2.526c0 .012.003.024.009.034a.068.068 0 0 0 .06.033.073.073 0 0 0 .035-.009l1.972-1.1c.28-.156.511-.38.673-.651.161-.27.247-.577.247-.89v-.964c0-.278-.076-.55-.22-.79-.144-.241-.35-.44-.598-.58L9.65 9.011a.885.885 0 0 0-.86 0L6.052 10.54a.104.104 0 0 0-.052.088v10.842c0 .018.006.035.015.05\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/check.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/check.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m6.036 12.157 8.01-8.01a.5.5 0 1 1 .707.707l-8.01 8.01a1 1 0 0 1-1.415 0L1.146 8.682a.5.5 0 1 1 .708-.707z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/more-vertical.svg":
/*!***************************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/more-vertical.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M7 14a1 1 0 1 0 2 0 1 1 0 0 0-2 0m1-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2m0-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/data/link-tilted.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/data/link-tilted.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m1.373 8 2.07-2.071.83.828L2.2 8.828a3.515 3.515 0 0 0 4.97 4.971l2.072-2.071.828.828L8 14.627A4.686 4.686 0 1 1 1.373 8M13.799 7.172l-2.071 2.07.828.83L14.627 8A4.686 4.686 0 1 0 8 1.373l-2.071 2.07.828.83L8.828 2.2a3.515 3.515 0 0 1 4.971 4.97\"></path><path fill=\"#000\" d=\"M5.515 9.657a.586.586 0 0 0 .828.828l4.142-4.142a.586.586 0 0 0-.828-.828z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/down.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/down.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .538.538 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.538.538 0 0 1 0-.738\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/horizontal.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/horizontal.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M3.646 10.354a.5.5 0 0 0 .708-.708L2.707 8h10.586l-1.647 1.646a.5.5 0 0 0 .708.708l2.5-2.5a.5.5 0 0 0 0-.708l-2.5-2.5a.5.5 0 0 0-.708.708L13.293 7H2.707l1.647-1.646a.5.5 0 1 0-.708-.708l-2.5 2.5a.5.5 0 0 0 0 .708z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/right.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/right.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.538.538 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.538.538 0 0 1-.738 0\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/sort-ascending.svg":
/*!****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/sort-ascending.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M1.5 3a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zM1 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M1.5 9a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zM1.5 12a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/sort-descending.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/sort-descending.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M1.5 13a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1zM1 9.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5M1.5 7a.5.5 0 0 1 0-1h10a.5.5 0 0 1 0 1zM1.5 4a.5.5 0 0 1 0-1h13a.5.5 0 0 1 0 1z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/up.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/up.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M13.854 11.347a.486.486 0 0 1-.708 0L8 5.76l-5.146 5.587a.485.485 0 0 1-.708 0 .538.538 0 0 1 0-.738l5.5-5.956a.485.485 0 0 1 .708 0l5.5 5.956a.538.538 0 0 1 0 .738\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/vertical.svg":
/*!**********************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/vertical.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M10.354 12.354a.5.5 0 0 0-.708-.708L8 13.293V2.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5a.5.5 0 1 0 .708.708L7 2.707v10.586l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/edit.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/edit.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11.227 1.312c-.404-.404-1.045-.417-1.432-.03L2.49 8.587l-.48 2.674a.637.637 0 0 0 .73.73l2.673-.48 7.305-7.306c.387-.387.374-1.028-.03-1.431zm-8.114 9.575.32-1.781 4.991-4.992 1.462 1.462-4.992 4.991zm7.473-6.012 1.402-1.4-1.462-1.463-1.401 1.402z\" clip-rule=\"evenodd\"></path><path fill=\"#000\" d=\"M1.5 14a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/plus.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/plus.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M7.5 0a.5.5 0 0 0-.5.5V7H.5a.5.5 0 0 0 0 1H7v6.5a.5.5 0 0 0 1 0V8h6.5a.5.5 0 0 0 0-1H8V.5a.5.5 0 0 0-.5-.5\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/search.svg":
/*!***************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/search.svg ***!
  \***************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/suggested/warning.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/suggested/warning.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/filled/brand/arcgis-enterprise.tsx":
/*!*******************************************************!*\
  !*** ./jimu-icons/filled/brand/arcgis-enterprise.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisEnterpriseFilled: () => (/* binding */ ArcgisEnterpriseFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_brand_arcgis_enterprise_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/brand/arcgis-enterprise.svg */ "./jimu-icons/svg/filled/brand/arcgis-enterprise.svg");
/* harmony import */ var _svg_filled_brand_arcgis_enterprise_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_brand_arcgis_enterprise_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArcgisEnterpriseFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_brand_arcgis_enterprise_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/check.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/application/check.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CheckOutlined: () => (/* binding */ CheckOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_check_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/check.svg */ "./jimu-icons/svg/outlined/application/check.svg");
/* harmony import */ var _svg_outlined_application_check_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_check_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const CheckOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_check_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/more-vertical.tsx":
/*!***********************************************************!*\
  !*** ./jimu-icons/outlined/application/more-vertical.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MoreVerticalOutlined: () => (/* binding */ MoreVerticalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_more_vertical_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/more-vertical.svg */ "./jimu-icons/svg/outlined/application/more-vertical.svg");
/* harmony import */ var _svg_outlined_application_more_vertical_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_more_vertical_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const MoreVerticalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_more_vertical_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/data/link-tilted.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/data/link-tilted.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkTiltedOutlined: () => (/* binding */ LinkTiltedOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_data_link_tilted_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/data/link-tilted.svg */ "./jimu-icons/svg/outlined/data/link-tilted.svg");
/* harmony import */ var _svg_outlined_data_link_tilted_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_data_link_tilted_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const LinkTiltedOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_data_link_tilted_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/down.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/directional/down.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DownOutlined: () => (/* binding */ DownOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/down.svg */ "./jimu-icons/svg/outlined/directional/down.svg");
/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const DownOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/horizontal.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/outlined/directional/horizontal.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HorizontalOutlined: () => (/* binding */ HorizontalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/horizontal.svg */ "./jimu-icons/svg/outlined/directional/horizontal.svg");
/* harmony import */ var _svg_outlined_directional_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const HorizontalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/right.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/directional/right.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RightOutlined: () => (/* binding */ RightOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/right.svg */ "./jimu-icons/svg/outlined/directional/right.svg");
/* harmony import */ var _svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const RightOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/sort-ascending.tsx":
/*!************************************************************!*\
  !*** ./jimu-icons/outlined/directional/sort-ascending.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortAscendingOutlined: () => (/* binding */ SortAscendingOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_sort_ascending_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/sort-ascending.svg */ "./jimu-icons/svg/outlined/directional/sort-ascending.svg");
/* harmony import */ var _svg_outlined_directional_sort_ascending_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_sort_ascending_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SortAscendingOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_sort_ascending_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/sort-descending.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/directional/sort-descending.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortDescendingOutlined: () => (/* binding */ SortDescendingOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_sort_descending_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/sort-descending.svg */ "./jimu-icons/svg/outlined/directional/sort-descending.svg");
/* harmony import */ var _svg_outlined_directional_sort_descending_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_sort_descending_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SortDescendingOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_sort_descending_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/up.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/directional/up.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpOutlined: () => (/* binding */ UpOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/up.svg */ "./jimu-icons/svg/outlined/directional/up.svg");
/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const UpOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/vertical.tsx":
/*!******************************************************!*\
  !*** ./jimu-icons/outlined/directional/vertical.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VerticalOutlined: () => (/* binding */ VerticalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_vertical_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/vertical.svg */ "./jimu-icons/svg/outlined/directional/vertical.svg");
/* harmony import */ var _svg_outlined_directional_vertical_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_vertical_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const VerticalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_vertical_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseOutlined: () => (/* binding */ CloseOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const CloseOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/edit.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/edit.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditOutlined: () => (/* binding */ EditOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/edit.svg */ "./jimu-icons/svg/outlined/editor/edit.svg");
/* harmony import */ var _svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const EditOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/plus.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/plus.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlusOutlined: () => (/* binding */ PlusOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/plus.svg */ "./jimu-icons/svg/outlined/editor/plus.svg");
/* harmony import */ var _svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PlusOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/search.tsx":
/*!***********************************************!*\
  !*** ./jimu-icons/outlined/editor/search.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchOutlined: () => (/* binding */ SearchOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/search.svg */ "./jimu-icons/svg/outlined/editor/search.svg");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SearchOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/suggested/warning.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/suggested/warning.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WarningOutlined: () => (/* binding */ WarningOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/suggested/warning.svg */ "./jimu-icons/svg/outlined/suggested/warning.svg");
/* harmony import */ var _svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const WarningOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/collapse/index.ts":
/*!******************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/collapse/index.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CollapsableCheckbox: () => (/* binding */ CollapsableCheckbox),
/* harmony export */   CollapsableRadio: () => (/* binding */ CollapsableRadio),
/* harmony export */   CollapsableToggle: () => (/* binding */ CollapsableToggle),
/* harmony export */   SettingCollapse: () => (/* binding */ SettingCollapse),
/* harmony export */   UnControlledSettingCollapse: () => (/* binding */ UnControlledSettingCollapse)
/* harmony export */ });
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");

/**
 * The `SettingCollapse` component allows users to show the collapsible panel.
 *
 * @deprecated Use `CollapsablePanel` from `jimu-ui` instead.
 * ```ts
 * import { SettingCollapse } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const SettingCollapse = jimu_ui__WEBPACK_IMPORTED_MODULE_0__.CollapsablePanel;
/**
 * The `UnControlledSettingCollapse` is an uncontrolled component which allows users to show the collapsible panel.
 *
 * @deprecated Use `CollapsablePanel` from `jimu-ui` instead.
 * ```ts
 * import { UnControlledSettingCollapse } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const UnControlledSettingCollapse = jimu_ui__WEBPACK_IMPORTED_MODULE_0__.CollapsablePanel;
/**
 * The `CollapsableToggle` component allows users to show the collapsible panel.
 *
 * @deprecated Use `CollapsableToggle` from `jimu-ui` instead.
 * ```ts
 * import { CollapsableToggle } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const CollapsableToggle = jimu_ui__WEBPACK_IMPORTED_MODULE_0__.CollapsableToggle;
/**
 * The `CollapsableRadio` component allows users to show the collapsible panel.
 *
 * @deprecated Use `CollapsableRadio` from `jimu-ui` instead.
 * ```ts
 * import { CollapsableRadio } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const CollapsableRadio = jimu_ui__WEBPACK_IMPORTED_MODULE_0__.CollapsableRadio;
/**
 * The `CollapsableCheckbox` component allows users to show the collapsible panel.
 *
 * @deprecated Use `CollapsableCheckbox` from `jimu-ui` instead.
 * ```ts
 * import { CollapsableCheckbox } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const CollapsableCheckbox = jimu_ui__WEBPACK_IMPORTED_MODULE_0__.CollapsableCheckbox;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/direction-selector/direction-selector.tsx":
/*!******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/direction-selector/direction-selector.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirectionSelector: () => (/* binding */ DirectionSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_directional_horizontal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/directional/horizontal */ "./jimu-icons/outlined/directional/horizontal.tsx");
/* harmony import */ var jimu_icons_outlined_directional_vertical__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/vertical */ "./jimu-icons/outlined/directional/vertical.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




/**
 * The `DirectionSelector` component provides the user with the ability to set the direction.
 *
 * ```ts
 * import { DirectionSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const DirectionSelector = (props) => {
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const { vertical = false, onChange, autoFlip = true, className, size = 'sm' } = props, others = __rest(props, ["vertical", "onChange", "autoFlip", "className", "size"]);
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.AdvancedButtonGroup, Object.assign({ size: size, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('setting--direction-selector', className) }, others),
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: size, title: translate('horizontal'), type: 'default', icon: true, active: !vertical, onClick: () => { onChange(false); } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_horizontal__WEBPACK_IMPORTED_MODULE_2__.HorizontalOutlined, { autoFlip: autoFlip })),
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: size, title: translate('vertical'), type: 'default', icon: true, active: vertical, onClick: () => { onChange(true); } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_vertical__WEBPACK_IMPORTED_MODULE_3__.VerticalOutlined, null))));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/ds-list-for-selector.tsx":
/*!*************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/ds-list-for-selector.tsx ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DsListForSelector: () => (/* binding */ DsListForSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");


class _DsListForSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getIsLoading = () => {
            if (!this.props.fromRootDsIds) {
                return false;
            }
            return this.props.fromRootDsIds.some(rootDsId => this.getIsSingleDsLoading(rootDsId));
        };
        this.getIsSingleDsLoading = (dsId) => {
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
            const dsInfo = ds === null || ds === void 0 ? void 0 : ds.getInfo();
            // No data source info means the data source is removed.
            if (!dsInfo) {
                return false;
            }
            if (dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError) {
                return false;
            }
            else if (dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Created) {
                // If the data source is set, should wait util all child data sources are created.
                return ds.isDataSourceSet ? !ds.areChildDataSourcesCreated() : false;
            }
            return true;
        };
        this.formatMessage = (id, values) => {
            const messages = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
            return this.props.intl.formatMessage({ id: id, defaultMessage: messages[id] }, values);
        };
        this.state = {
            isLoading: this.getIsLoading()
        };
    }
    componentDidMount() {
        if (this.state.isLoading) {
            this.waitChildDssReady().finally(() => {
                this.setState({ isLoading: false });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (prevProps.fromRootDsIds !== this.props.fromRootDsIds) {
            this.setState({ isLoading: this.getIsLoading() });
        }
        if (this.state.isLoading) {
            this.waitChildDssReady().finally(() => {
                this.setState({ isLoading: false });
            });
        }
    }
    waitChildDssReady() {
        if (!this.props.fromRootDsIds) {
            return Promise.resolve([]);
        }
        return Promise.all(this.props.fromRootDsIds.map(rootDsId => this.waitChildDssReadyForSingleDs(rootDsId))).catch(err => []);
    }
    waitChildDssReadyForSingleDs(dsId) {
        const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
        if ((ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) && !ds.areChildDataSourcesCreated()) {
            return ds.childDataSourcesReady().then(() => ds);
        }
        return Promise.resolve(ds);
    }
    getContent() {
        var _a, _b, _c, _d;
        const rootDsIds = [];
        for (let i = 0; i < this.props.fromRootDsIds.length; i++) {
            rootDsIds.push(this.props.fromRootDsIds[i]);
        }
        const appConfig = ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig : (_d = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _d === void 0 ? void 0 : _d.appConfig;
        const getWhetherItemError = (dataSourceId) => {
            var _a, _b, _c;
            return ((_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.dataSourcesInfo) === null || _b === void 0 ? void 0 : _b[dataSourceId]) === null || _c === void 0 ? void 0 : _c.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError;
        };
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' }, rootDsIds.map((rootDsId, index) => {
            var _a;
            const rootDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(rootDsId);
            // const label = rootDs.getLabel()
            const label = (_a = appConfig.dataSources[rootDsId]) === null || _a === void 0 ? void 0 : _a.sourceLabel;
            const itemError = getWhetherItemError(rootDsId);
            const childerDss = rootDs === null || rootDs === void 0 ? void 0 : rootDs.getChildDataSources();
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { key: index },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-dark-600 pl-2 pr-2 d-flex align-items-center justify-content-between', style: { fontSize: '14px' } },
                    label,
                    itemError &&
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Alert, { buttonType: 'tertiary', form: 'tooltip', size: 'small', type: 'error', text: this.formatMessage('dataSourceCreateError') })), childerDss === null || childerDss === void 0 ? void 0 :
                childerDss.map((childDs, idx) => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { key: idx, className: 'mt-1 mb-1' },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('layerviewselector-ds-item pl-2 pr-2', { 'layerviewselector-ds-item-selected': (this.props.selectedDsIds && this.props.selectedDsIds.includes(childDs.id)) }), title: childDs.getLabel(), onClick: () => {
                                this.props.onSelect && this.props.onSelect({
                                    rootDataSourceId: rootDsId,
                                    dataSourceId: childDs.id
                                });
                            } }, childDs === null || childDs === void 0 ? void 0 : childDs.getLabel())));
                })));
        })));
    }
    render() {
        if (!this.props.fromRootDsIds || this.props.fromRootDsIds.length === 0) {
            return null;
        }
        else {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' }, this.state.isLoading ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Secondary, width: 24, height: 16 }) : this.getContent());
        }
    }
}
const DsListForSelector = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_DsListForSelector);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/index.tsx":
/*!**********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/index.tsx ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelectorDeprecated: () => (/* binding */ JimuLayerViewSelectorDeprecated)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ds_list_for_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ds-list-for-selector */ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/ds-list-for-selector.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/** @jsx jsx */




const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
& {
  .ds-selector > span {
    display: none;
  }
}
`;
class _JimuLayerViewSelectorDeprecated extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.toggleList = (evt) => {
            this.setState({
                listOpen: !this.state.listOpen
            });
        };
        this.onResize = (width) => {
            this.setState({
                width: width
            });
        };
        this.handleChooseLayer = (selectedDsJson) => {
            if (this.props.onSelect) {
                if (selectedDsJson) {
                    const rootDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(selectedDsJson.rootDataSourceId);
                    const layerDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(selectedDsJson.dataSourceId);
                    const layerId = layerDs.id; // let survey widget work, need @teng9981 's help to review
                    const jimuLayerId = rootDs.getJimuChildId(layerId)[0];
                    this.props.onSelect((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                        jimuMapViewId: `${this.props.useMapWidgetIds[0]}-${selectedDsJson.rootDataSourceId}`,
                        jimuLayerId: jimuLayerId,
                        dataSourceId: selectedDsJson && selectedDsJson.dataSourceId,
                        rootDataSourceId: selectedDsJson && selectedDsJson.rootDataSourceId
                    }));
                }
                else {
                    this.props.onSelect((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({}));
                }
            }
            this.setState({
                listOpen: false
            });
        };
        this.handleClickNone = () => {
            if (this.props.onSelect) {
                this.props.onSelect((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({}));
            }
            this.setState({
                listOpen: false
            });
        };
        this.getTitle = () => {
            if (this.props.jimuLayerViewInfo && this.props.useMapWidgetIds && this.props.useMapWidgetIds[0] && this.props.jimuLayerViewInfo.dataSourceId) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                        dataSourceId: this.props.jimuLayerViewInfo.dataSourceId,
                        mainDataSourceId: this.props.jimuLayerViewInfo.dataSourceId,
                        rootDataSourceId: this.props.jimuLayerViewInfo.rootDataSourceId
                    }) }, (ds, info, query) => {
                    return ds === null || ds === void 0 ? void 0 : ds.getLabel();
                }));
            }
            else {
                return this.getNoneString();
            }
        };
        this.getContent = () => {
            const widgetId = this.props.useMapWidgetIds && this.props.useMapWidgetIds[0];
            const config = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder.appConfig;
            const widgetJson = config.widgets[widgetId];
            if (widgetJson && widgetJson.useDataSources && widgetJson.useDataSources[0]) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 mt-1 mb-2' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: () => { this.handleClickNone(); } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'layerviewselector-ds-item pl-2 pr-2' }, this.getNoneString())),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 mt-1 mb-1' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 border border-bottom-0 border-right-0 border-left-0' })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-selector' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.MultipleDataSourceComponent, { useDataSources: widgetJson.useDataSources }, (dss, infos) => {
                            const fromRootDsIds = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(Object.keys(dss));
                            const selectedDsIds = [];
                            if (this.props.jimuLayerViewInfo && this.props.jimuLayerViewInfo.dataSourceId) {
                                selectedDsIds.push(this.props.jimuLayerViewInfo.dataSourceId);
                            }
                            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ds_list_for_selector__WEBPACK_IMPORTED_MODULE_2__.DsListForSelector, { fromRootDsIds: fromRootDsIds, onSelect: (selectedDsJson) => { this.handleChooseLayer(selectedDsJson); }, selectedDsIds: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(selectedDsIds) }));
                        }))));
            }
            else {
                return this.getEmptyContent();
            }
        };
        this.getNoneString = () => {
            return this.props.intl.formatMessage({ id: 'none', defaultMessage: 'None' });
        };
        this.getEmptyContent = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 mt-1 mb-2' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'layerviewselector-ds-item pl-2 pr-2', onClick: () => { this.handleClickNone(); } }, this.getNoneString())));
        };
        this.state = {
            listOpen: false,
            width: 0
        };
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { size: 'sm', toggle: (evt) => { this.toggleList(evt); }, isOpen: this.state.listOpen, className: 'w-100' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownButton, { size: 'sm', type: 'tertiary', className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 d-flex flex-column align-items-center toollist-item', 'justify-content-between toollist-item-click layerviewselector-input') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 d-flex justify-content-between align-items-center' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'layerviewselector-input-text ml-2' }, this.getTitle()))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('ml-0 mr-0 mb-0 mt-1 p-0', { [this.props.className]: !!this.props.className }), css: STYLE },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 layerviewselector-bg' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { width: `${this.state.width}px` } }, this.getContent())))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, onResize: this.onResize })));
    }
}
/**
 * @deprecated
 * A react component for selecting layers in a map. It is usually used on the settings page of a widget,
 * and works with JimuLayerViewComponent to get the jimulayerview instance.
 */
const JimuLayerViewSelectorDeprecated = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.withStyles)(_JimuLayerViewSelectorDeprecated, 'JimuLayerViewSelectorDeprecated'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/dropdown/index.tsx":
/*!********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/dropdown/index.tsx ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelectorDropdown: () => (/* binding */ JimuLayerViewSelectorDropdown),
/* harmony export */   _JimuLayerViewSelectorDropdown: () => (/* binding */ _JimuLayerViewSelectorDropdown)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _selector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../selector */ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/selector/index.tsx");
/** @jsx jsx */





/**
 * A component for selecting layers in a map view. It is usually used on the settings page of a widget.
 * It includes a dropdown button to display the selected values and JimuLayerViewSelector component to select the layer.
 * ```
 * import { JimuLayerViewSelectorDropdown } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const _JimuLayerViewSelectorDropdown = (props) => {
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const { useRef, useState } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
    const buttonRef = useRef(null);
    const [isOpen, setIsOpen] = useState(false);
    const getSelectLabel = () => {
        var _a;
        const { defaultSelectedValues, isMultiSelection, jimuMapViewId } = props;
        const number = (defaultSelectedValues === null || defaultSelectedValues === void 0 ? void 0 : defaultSelectedValues.length) || 0;
        if (number === 0) {
            return translate('numSelected', { number });
        }
        if (isMultiSelection) {
            return translate('numSelected', { number });
        }
        else {
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            return (_a = jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.jimuLayerViews[defaultSelectedValues[0]]) === null || _a === void 0 ? void 0 : _a.layer.title;
        }
    };
    const onTogglePopper = () => {
        if (isOpen) {
            setIsOpen(false);
        }
        else {
            setIsOpen(true);
        }
    };
    const getDropdownMenuStyle = () => {
        var _a;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      ${buttonRef
            ? `
          width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(1.5 * ((_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth))} !important;
        `
            : ''}
      padding: 16px;
    `;
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('component-layer-view-selector-dropdown', 'w-100', props.className || '') },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { className: 'w-100', direction: 'down', toggle: onTogglePopper, isOpen: isOpen, autoWidth: true },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownButton, { ref: node => { buttonRef.current = node; } }, getSelectLabel()),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, { className: 'shadow-lg', css: getDropdownMenuStyle(), alignment: 'end' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selector__WEBPACK_IMPORTED_MODULE_4__.JimuLayerViewSelector, Object.assign({}, props, { isInDropdown: true }))))));
};
/**
 * A component for selecting layers in a map view. It is usually used on the settings page of a widget.
 * It includes a dropdown button to display the selected values and JimuLayerViewSelector component to select the layer.
 * ```
 * import { JimuLayerViewSelectorDropdown } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const JimuLayerViewSelectorDropdown = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.withStyles)(_JimuLayerViewSelectorDropdown, 'JimuLayerViewSelectorDropdown');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/selector/index.tsx":
/*!********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/selector/index.tsx ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelector: () => (/* binding */ JimuLayerViewSelector),
/* harmony export */   _JimuLayerViewSelector: () => (/* binding */ _JimuLayerViewSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ "./jimu-icons/outlined/editor/search.tsx");
/* harmony import */ var jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/basic/list-tree */ "jimu-ui/basic/list-tree");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */






/**
 * Construct the tree structure json data from jimuLayerViews.
 */
const constructTree = (jimuLayerViews, disableLayers, hideLayers, selectedValues) => {
    const treeJson = {
        itemKey: 'root item',
        itemStateTitle: 'root item',
        itemChildren: []
    };
    const treeItemByKey = {};
    for (const key of Object.keys(jimuLayerViews)) {
        const isDisabled = disableLayers ? disableLayers(jimuLayerViews[key], jimuLayerViews) : false;
        const isSelected = (selectedValues === null || selectedValues === void 0 ? void 0 : selectedValues.length) > 0 && selectedValues.includes(key);
        treeItemByKey[key] = {
            itemKey: key,
            itemStateTitle: jimuLayerViews[key].layer.title,
            itemChildren: [],
            isItemSelectable: !isDisabled,
            itemStateChecked: !isDisabled && isSelected
        };
    }
    for (const [key, val] of Object.entries(jimuLayerViews)) {
        const { parentJimuLayerViewId: pId } = val;
        if (jimuLayerViews[key].fromRuntime) {
            //To exclude the layers that added from Add Data widget
            continue;
        }
        else {
            const treeItem = treeItemByKey[key];
            if (!hideLayers) { //if hideLayers props is not defined
                if (pId === null) {
                    treeJson.itemChildren.push(treeItem);
                }
                else {
                    treeItemByKey[pId].itemChildren.push(treeItem);
                }
            }
            else if (!hideLayers(jimuLayerViews[key], jimuLayerViews)) {
                if (pId === null) {
                    treeJson.itemChildren.push(treeItem);
                }
                else {
                    treeItemByKey[pId].itemChildren.push(treeItem);
                }
            }
        }
    }
    return treeJson;
};
/**
 * Sort the tree items in the same level.
 */
const sortTreeItem = (item, jimuLayerViews) => {
    if (!item.itemChildren || item.itemChildren.length === 0) {
        return item;
    }
    // sort the children nodes
    item.itemChildren = item.itemChildren.sort((a, b) => { return jimuLayerViews[a.itemKey].index - jimuLayerViews[b.itemKey].index; });
    // iterate the children
    item.itemChildren.forEach(child => sortTreeItem(child, jimuLayerViews));
    return item;
};
/**
 * Filter the tree items that title includes the search string and expand the items.
 */
const filterTreeItem = (item, filterKey) => {
    if (!item.itemChildren || item.itemChildren.length === 0) {
        return item.itemStateTitle.toLowerCase().includes(filterKey.toLowerCase()) ? item : null;
    }
    const filteredChildren = item.itemChildren
        .map(child => filterTreeItem(child, filterKey))
        .filter(Boolean);
    //Expand every item in the tree, except the last one.
    if (filteredChildren.length > 0) {
        item.itemStateExpanded = true;
    }
    if (filteredChildren.length === 0) {
        return item.itemStateTitle.toLowerCase().includes(filterKey.toLowerCase()) ? item : null;
    }
    item.itemChildren = filteredChildren;
    return item;
};
/**
 * Modify the itemStateChecked attribute of a tree item.
 */
const modifyTreeItemCheckState = (item, key, value) => {
    if (item.itemKey === key) {
        item.itemStateChecked = value;
        return item;
    }
    if (!item.itemChildren || item.itemChildren.length === 0) {
        return item;
    }
    item.itemChildren = item.itemChildren.map(child => modifyTreeItemCheckState(child, key, value));
    return item;
};
/**
 * A component for selecting layers in a map view. It is usually used in the
 * setting page to get the layer id.
 * ```
 * import { JimuLayerViewSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const _JimuLayerViewSelector = (props) => {
    const { jimuMapViewId, hideLayers, disableLayers, isMultiSelection = false, defaultSelectedValues } = props;
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const { useRef, useState, useEffect } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
    const searchRef = useRef(null);
    const getAllJimuLayerViews = (jimuMapViewId) => __awaiter(void 0, void 0, void 0, function* () {
        const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
        const jimuLayerViews = yield jimuMapView.whenAllJimuLayerViewLoaded();
        return jimuLayerViews;
    });
    const [searchedText, setSearchedText] = useState('');
    const [rootItemJson, setRootItemJson] = useState(null);
    const [searchedItemJson, setSearchedItemJson] = useState(null);
    const [isLoading, setIsLoading] = useState(true);
    useEffect(() => {
        getAllJimuLayerViews(jimuMapViewId).then((jimuLayerViews) => {
            setIsLoading(false);
            const initTree = constructTree(jimuLayerViews, disableLayers, hideLayers, defaultSelectedValues);
            const sortedTree = sortTreeItem(initTree, jimuLayerViews);
            setRootItemJson(sortedTree);
        });
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [jimuMapViewId]);
    /**
     * Fired when search text is changed.
     */
    const onTextChange = (evt) => {
        const value = evt.target.value;
        if (value === '') {
            setSearchedItemJson(null);
            setSearchedText(value);
            setRootItemJson(rootItemJson);
        }
        else {
            setSearchedText(value);
            const newRootItemJson = JSON.parse(JSON.stringify(rootItemJson));
            const filteredItemJson = filterTreeItem(newRootItemJson, value);
            if (!filteredItemJson) {
                const noSearchedResultItemJson = {
                    itemKey: 'root item',
                    itemStateTitle: 'root item',
                    itemChildren: []
                };
                setSearchedItemJson(noSearchedResultItemJson);
            }
            else {
                setSearchedItemJson(filteredItemJson);
            }
        }
    };
    const handleUpdateLayerItem = (actionData, refComponent) => {
        if (actionData.updateType === jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.HandleExpandItem) {
            const [, nextRootItemJson] = actionData.itemJsons;
            if (searchedItemJson) {
                setSearchedItemJson(Object.assign({}, nextRootItemJson));
            }
            else {
                setRootItemJson(Object.assign({}, nextRootItemJson));
            }
        }
        if (actionData.updateType === jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.HandleCheckboxChanged) {
            const [currentItemJson, nextRootItemJson] = actionData.itemJsons;
            if (searchedItemJson) {
                setSearchedItemJson(Object.assign({}, nextRootItemJson));
            }
            else {
                setRootItemJson(Object.assign({}, nextRootItemJson));
            }
            if (isMultiSelection) {
                const newSelectedItem = defaultSelectedValues ? [...defaultSelectedValues] : [];
                if (currentItemJson.isItemSelectable && currentItemJson.itemStateChecked) {
                    newSelectedItem.push(currentItemJson.itemKey);
                    if (searchedItemJson) {
                        modifyTreeItemCheckState(rootItemJson, currentItemJson.itemKey, true);
                    }
                }
                else if (currentItemJson.isItemSelectable && (currentItemJson.itemStateChecked === false)) {
                    newSelectedItem.splice(newSelectedItem.indexOf(currentItemJson.itemKey), 1);
                    if (searchedItemJson) {
                        modifyTreeItemCheckState(rootItemJson, currentItemJson.itemKey, false);
                    }
                }
                props.onChange(newSelectedItem);
            }
            else {
                if (currentItemJson.isItemSelectable && currentItemJson.itemStateChecked) {
                    if (searchedItemJson) {
                        modifyTreeItemCheckState(rootItemJson, currentItemJson.itemKey, true);
                        modifyTreeItemCheckState(rootItemJson, defaultSelectedValues[0], false);
                    }
                    props.onChange([currentItemJson.itemKey]);
                }
                else if (currentItemJson.isItemSelectable && (currentItemJson.itemStateChecked === false)) {
                    if (searchedItemJson) {
                        modifyTreeItemCheckState(rootItemJson, currentItemJson.itemKey, false);
                    }
                    props.onChange([]);
                }
            }
        }
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('component-layer-view-selector', 'w-100 h-100', props.className || '') },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'search-container' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { prefix: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_2__.SearchOutlined, null), allowClear: true, size: 'sm', type: 'text', defaultValue: '', ref: searchRef, placeholder: translate('SearchLabel'), onChange: onTextChange })),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'tree-container' }, isLoading
            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { className: 'w-100 h-100', type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Secondary })
            : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.Tree, { className: 'w-100', collapseStyle: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeCollapseStyle.Arrow, dndEnabled: false, onUpdateItem: handleUpdateLayerItem, rootItemJson: searchedItemJson || rootItemJson, isMultiSelection: isMultiSelection, checkboxLinkage: false, size: 'sm', treeAlignmentType: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeAlignmentType.Intact, disableDoubleClickTitle: true, treeStyle: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeStyle.Basic, singleLineText: true, searchedText: searchedText }))));
};
/**
 * A component for selecting layers in a map view. It is usually used on the settings page of a widget.
 * It includes a dropdown button to display the selected values and JimuLayerViewSelector component to select the layer.
 * ```
 * import { JimuLayerViewSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const JimuLayerViewSelector = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_5__.withStyles)(_JimuLayerViewSelector, 'JimuLayerViewSelector');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/jimu-map-view-selector/index.tsx":
/*!*********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/jimu-map-view-selector/index.tsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuMapViewSelector: () => (/* binding */ JimuMapViewSelector),
/* harmony export */   _JimuMapViewSelector: () => (/* binding */ _JimuMapViewSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map-selector-utils/utils */ "./jimu-ui/advanced/lib/setting-components/components/map-selector-utils/utils.ts");




//Get the name of the map view, includes the map view that is deleted.
const getDataSourceLabel = (dataSourceId) => {
    var _a, _b, _c, _d, _e, _f;
    if (!dataSourceId) {
        return '';
    }
    const appConfig = ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig : (_d = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _d === void 0 ? void 0 : _d.appConfig;
    const label = ((_e = appConfig.dataSources[dataSourceId]) === null || _e === void 0 ? void 0 : _e.label) || ((_f = appConfig.dataSources[dataSourceId]) === null || _f === void 0 ? void 0 : _f.sourceLabel);
    return label;
};
/**
 * A component for selecting map views in a map. It is usually used on the settings page of a widget,
 * and works with JimuLayerViewSelector.
 * ```
 * import { JimuMapViewSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const _JimuMapViewSelector = (props) => {
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const noneMapView = { id: 'none', label: translate('none') };
    const appConfig = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a, _b;
        return ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_b = state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig : state.appConfig;
    });
    const browserSizeMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.browserSizeMode;
    });
    const currentPageId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo.currentPageId;
    });
    const currentDialogId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo.currentDialogId;
    });
    const currentContainerType = currentDialogId ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog : jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Page;
    const currentId = currentDialogId || currentPageId;
    const mapViewJsons = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        //Get the map widgets in all the pages and windows of the app
        const selectLists = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__.searchUtils.getMapWidgets(appConfig, browserSizeMode, currentContainerType, currentId);
        const getOptionList = () => {
            const OptionList = [];
            //Get the mapView of current page or window.
            const currentMapExist = selectLists[0].maps.length > 0;
            let currentPageDivider = false;
            if (currentMapExist) {
                const sortedCurrentPageMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(selectLists[0].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
                sortedCurrentPageMapList.forEach((mapWidget, index) => {
                    if (appConfig.widgets[mapWidget].useDataSources && appConfig.widgets[mapWidget].useDataSources.length > 0) {
                        if (!currentPageDivider) {
                            OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
                            currentPageDivider = true;
                        }
                        const currentType = currentContainerType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog ? translate('currentWindow') : translate('currentPage');
                        const currentHeader = {
                            header: true,
                            label: `${currentType} | ${appConfig.widgets[mapWidget].label}`
                        };
                        OptionList.push(currentHeader);
                        appConfig.widgets[mapWidget].useDataSources.forEach((ds) => {
                            const option = {
                                id: `${mapWidget}-${ds.dataSourceId}`,
                                label: getDataSourceLabel(ds.dataSourceId),
                                headerLabel: `${currentContainerType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog ? translate('currentWindow') : translate('currentPage')} ${appConfig.widgets[mapWidget].label}`
                            };
                            OptionList.push(option);
                        });
                    }
                });
            }
            const breakList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.getBreakList)(1, selectLists);
            //Get the option list of pages.
            let pageDivider = false;
            const sortedPageList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(breakList.pageList, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Page);
            for (let i = 0; i < breakList.pageList.length; i++) {
                const sortedMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(sortedPageList[i].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
                for (let j = 0; j < sortedMapList.length; j++) {
                    if (appConfig.widgets[sortedMapList[j]].useDataSources && appConfig.widgets[sortedMapList[j]].useDataSources.length > 0) {
                        if (!pageDivider) {
                            OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
                            pageDivider = true;
                        }
                        const otherHeader = {
                            header: true,
                            label: `${appConfig.pages[sortedPageList[i].id].label} | ${appConfig.widgets[sortedMapList[j]].label}`
                        };
                        OptionList.push(otherHeader);
                        appConfig.widgets[sortedMapList[j]].useDataSources.forEach((ds) => {
                            const otherOption = {
                                id: `${sortedMapList[j]}-${ds.dataSourceId}`,
                                label: getDataSourceLabel(ds.dataSourceId),
                                headerLabel: `${appConfig.pages[sortedPageList[i].id].label} ${appConfig.widgets[sortedMapList[j]].label}`
                            };
                            OptionList.push(otherOption);
                        });
                    }
                }
            }
            //Get the option list of windows.
            if (breakList.dialogList) {
                let dialogDivider = false;
                const sortedDialogList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(breakList.dialogList, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Dialog);
                for (let i = 0; i < breakList.dialogList.length; i++) {
                    const sortedMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(sortedDialogList[i].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
                    for (let j = 0; j < sortedMapList.length; j++) {
                        if (appConfig.widgets[sortedMapList[j]].useDataSources && appConfig.widgets[sortedMapList[j]].useDataSources.length > 0) {
                            if (!dialogDivider) {
                                OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
                                dialogDivider = true;
                            }
                            const otherHeader = {
                                header: true,
                                label: `${appConfig.dialogs[sortedDialogList[i].id].label} | ${appConfig.widgets[sortedMapList[j]].label}`
                            };
                            OptionList.push(otherHeader);
                            appConfig.widgets[sortedMapList[j]].useDataSources.forEach((ds) => {
                                const otherOption = {
                                    id: `${sortedMapList[j]}-${ds.dataSourceId}`,
                                    label: getDataSourceLabel(ds.dataSourceId),
                                    headerLabel: `${appConfig.dialogs[sortedDialogList[i].id].label} ${appConfig.widgets[sortedMapList[j]].label}`
                                };
                                OptionList.push(otherOption);
                            });
                        }
                    }
                }
            }
            return OptionList;
        };
        return getOptionList();
    }, [appConfig, browserSizeMode, currentContainerType, currentId, translate]);
    const onChange = e => {
        var _a;
        const mapViewId = e.target.value;
        const useMapViewIds = mapViewId === noneMapView.id ? [] : [mapViewId];
        (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, useMapViewIds);
    };
    const getSelectedMapWidget = () => {
        var _a;
        if (!props.useMapViewIds || ((_a = props.useMapViewIds) === null || _a === void 0 ? void 0 : _a.length) === 0) {
            return null;
        }
        const selectedMapViewId = props.useMapViewIds[0];
        return mapViewJsons.find(w => w.id === selectedMapViewId) || null;
    };
    const selectedMapView = getSelectedMapWidget();
    const getWhetherItemError = (dataSourceId) => {
        var _a, _b, _c;
        return ((_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.dataSourcesInfo) === null || _b === void 0 ? void 0 : _b[dataSourceId]) === null || _c === void 0 ? void 0 : _c.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError;
    };
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'component-map-view-selector' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { size: 'sm', onChange: onChange, value: selectedMapView ? selectedMapView.id : noneMapView.id, "aria-label": props['aria-label'] }, [noneMapView].concat(mapViewJsons).map((option, index) => {
                var _a;
                return (getWhetherItemError((_a = option.id) === null || _a === void 0 ? void 0 : _a.split('-')[1])
                    ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Option, { disabled: true, className: 'd-flex align-items-center justify-content-start' },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("span", null, option.label),
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Alert, { buttonType: 'tertiary', form: 'tooltip', size: 'small', type: 'error', text: translate('dataSourceCreateError'), style: { marginLeft: 'auto' } }))
                    : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Option, { header: option.header, divider: option.divider, value: option.id, key: index },
                        !option.header && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'sr-only' }, option.headerLabel),
                        option.label));
            })))));
};
/**
 * A component for selecting map views in a map. It is usually used on the settings page of a widget,
 * and works with JimuLayerViewSelector.
 * ```
 * import { JimuMapViewSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const JimuMapViewSelector = _JimuMapViewSelector;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/layout/index.ts":
/*!****************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/layout/index.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingRow: () => (/* reexport safe */ _row__WEBPACK_IMPORTED_MODULE_1__.SettingRow),
/* harmony export */   SettingSection: () => (/* reexport safe */ _section__WEBPACK_IMPORTED_MODULE_0__.SettingSection)
/* harmony export */ });
/* harmony import */ var _section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./section */ "./jimu-ui/advanced/lib/setting-components/components/layout/section.tsx");
/* harmony import */ var _row__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./row */ "./jimu-ui/advanced/lib/setting-components/components/layout/row.tsx");




/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/layout/row.tsx":
/*!***************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/layout/row.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingRow: () => (/* binding */ SettingRow),
/* harmony export */   _SettingRow: () => (/* binding */ _SettingRow)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_directional_right__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/right */ "./jimu-icons/outlined/directional/right.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




const Header = (props) => {
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'jimu-widget-setting--row-header mb-4' }, props.children));
};
/**
 * The unstyled version of the SettingRow component.
 * Please use {@link SettingRow} instead.
 */
class _SettingRow extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onActionClick = (type) => {
            if (type === 'drilldown') {
                if (this.props && this.props.onDrillDown) {
                    this.props.onDrillDown();
                }
            }
        };
    }
    render() {
        const _a = this.props, { action, flow, truncateLabel, label, role, indented, className, level = 3, bottomLine = false } = _a, otherProps = __rest(_a, ["action", "flow", "truncateLabel", "label", "role", "indented", "className", "level", "bottomLine"]);
        const title = typeof label === 'string' ? label : '';
        const rootClasses = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(className, 'jimu-widget-setting--row', 'form-group', 'align-items-center', {
            'form-inline': flow !== 'wrap',
            'bottom-line': bottomLine,
            'pl-5': indented
        });
        const Tag = action ? 'span' : 'label';
        const Label = label && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(Tag, { title: title, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(`jimu-widget-setting--row-label justify-content-start flex-grow-1 text-break setting-text-level-${level}`, {
                'w-100 mr-0': flow === 'wrap',
                'text-truncate': truncateLabel
            }) }, label);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Row, { className: rootClasses, role: role, "aria-label": otherProps['aria-label'] },
            flow === 'wrap' && action
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(Header, null, action === 'drilldown'
                    ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', type: 'tertiary', onClick: () => { this.onActionClick('drilldown'); } },
                        Label,
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_right__WEBPACK_IMPORTED_MODULE_3__.RightOutlined, { className: 'right-icon' }))
                    : undefined)
                : Label,
            this.props.children));
    }
}
/**
 * The `SettingRow` component allows users to display setting content in a row.
 * Use this component inside of the `SettingSection` component.
 *
 * ```ts
 * import { SettingRow } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const SettingRow = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_SettingRow, 'SettingRow');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/layout/section.tsx":
/*!*******************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/layout/section.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingSection: () => (/* binding */ SettingSection),
/* harmony export */   _SettingSection: () => (/* binding */ _SettingSection)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



/**
 * The unstyled version of the SettingSection component.
 */
class _SettingSection extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    render() {
        const _a = this.props, { className, style, title, role, children } = _a, otherProps = __rest(_a, ["className", "style", "title", "role", "children"]);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Container, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(className, 'jimu-widget-setting--section'), style: style, role: role, "aria-label": otherProps['aria-label'], "aria-describedby": otherProps['aria-describedby'] },
            title && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Row, { className: 'jimu-widget-setting--section-header' }, typeof title === 'string'
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("h6", { className: 'w-100 setting-text-level-1' }, title)
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 text-truncate setting-text-level-1' }, title)),
            children));
    }
}
/**
 * The `SettingSection` component allows users to display setting content as a section.
 * Use this component to wrap `SettingRow` component(s).
 *
 * ```ts
 * import { SettingSection } from 'jimu-ui/advanced/setting-components'
 * ```
 */
const SettingSection = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_SettingSection, 'SettingSection');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/block-link-content.tsx":
/*!*********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/block-link-content.tsx ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BlockLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _link_setting_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./link-setting-list */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/link-setting-list.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class BlockLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getInitLinkParam = () => {
            const blocks = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getBlockAnchorPointsInPage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getAppConfig(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentPageId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode());
            if (!blocks || blocks.length < 1) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block,
                    value: ''
                });
            }
            // default, select the first line
            if (this.props.originLinkParam.linkType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block) {
                const data = this.getBlockData();
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block,
                    value: data && data.some(p => p.id === 'default') ? 'default' : data && data[0] && data[0].id
                });
            }
            else {
                return this.props.originLinkParam;
            }
        };
        this.getBlockData = () => {
            var _a;
            const blocks = (_a = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getBlockAnchorPointsInPage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getAppConfig(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentPageId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode())) === null || _a === void 0 ? void 0 : _a.sort((b1, b2) => { var _a; return (_a = b1.label) === null || _a === void 0 ? void 0 : _a.localeCompare(b2.label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
            const data = blocks.map(b => ({ id: b.id, name: b.label }));
            return data;
        };
        this.setLinkParam = (newSelectItem) => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', newSelectItem.id);
            this.props.onLinkParamChange(tempLinkParam);
        };
    }
    componentDidMount() {
        const linkParam = this.getInitLinkParam();
        this.props.onLinkParamChange(linkParam);
    }
    render() {
        const data = this.getBlockData();
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'jumpTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.jumpTo })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, data && data.length > 0 &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_link_setting_list__WEBPACK_IMPORTED_MODULE_2__["default"], { linkParam: this.props.linkParam, datas: data, onClick: this.setLinkParam, "aria-label": this.props.intl.formatMessage({ id: 'jumpTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.jumpTo }) }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/collapse-tool.tsx":
/*!****************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/collapse-tool.tsx ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CollapseTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/directional/down */ "./jimu-icons/outlined/directional/down.tsx");
/* harmony import */ var jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/up */ "./jimu-icons/outlined/directional/up.tsx");




class CollapseTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onCollapseClick = e => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
            this.setState({ collapse: !this.state.collapse });
        };
    }
    componentWillMount() {
        this.setState({
            collapse: this.props.isOpen
        });
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100', this.props.className) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { title: this.props.title, style: { overflow: 'hidden' }, className: 'w-100 btn pb-2 pr-2 d-flex justify-content-between' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, this.props.title),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', className: 'collapse-btn py-0 jimu-outline-inside pr-0', onClick: this.onCollapseClick }, this.state.collapse ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_2__.DownOutlined, { size: 's' }) : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_3__.UpOutlined, { size: 's' }))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Collapse, { isOpen: this.state.collapse, "aria-label": this.props.title }, this.props.children)));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/dialog-link-content.tsx":
/*!**********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/dialog-link-content.tsx ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DialogLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _link_setting_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link-setting-list */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/link-setting-list.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts");




class DialogLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getInitLinkParam = () => {
            const dialogs = this.props.appConfig.dialogs;
            if (!dialogs || Object.keys(dialogs).length < 1) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog,
                    value: ''
                });
            }
            // default, select the first line
            if (this.props.originLinkParam.linkType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog) {
                const dialogData = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getDialogData)(this.props.appConfig);
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog,
                    value: dialogData && dialogData[0] && dialogData[0].id
                });
            }
            else {
                return this.props.originLinkParam;
            }
        };
        this.setLinkParam = (newSelectItem) => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', newSelectItem.id);
            this.props.onLinkParamChange(tempLinkParam);
        };
    }
    componentDidMount() {
        const linkParam = this.getInitLinkParam();
        this.props.onLinkParamChange(linkParam);
    }
    componentDidUpdate(prevProps) {
        if (prevProps.appConfig !== this.props.appConfig) {
            const linkParam = this.getInitLinkParam();
            this.props.onLinkParamChange(linkParam);
        }
    }
    render() {
        const data = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getDialogData)(this.props.appConfig);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'chooseADialog', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.chooseADialog })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, data && data.length > 0 &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_link_setting_list__WEBPACK_IMPORTED_MODULE_1__["default"], { linkParam: this.props.linkParam, datas: data, onClick: this.setLinkParam, "aria-label": this.props.intl.formatMessage({ id: 'chooseADialog', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.chooseADialog }) }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/link-setting-list.tsx":
/*!********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/link-setting-list.tsx ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ LinkSelectorList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");


class LinkSelectorList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.itemOnClick = (newSelectItem) => {
            this.props.onClick(newSelectItem);
            this.setState({ selectedItemName: newSelectItem.name });
        };
    }
    getListContent() {
        return this.props.datas.map((listItem, idx) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { onClick: () => { this.itemOnClick(listItem); }, key: idx, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('link-selector-list-item btn w-100 border text-left border-bottom-0 rounded-0 text-truncate', { itemselected: this.props.linkParam.value === listItem.id }) }, listItem.name));
    }
    render() {
        const selected = this.props.datas.find(d => this.props.linkParam.value === d.id);
        const selectedItemId = selected && selected.id;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'link-selector-list w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: selectedItemId, className: 'w-100', onChange: e => { this.itemOnClick(this.props.datas.find(d => d.id === e.target.value)); }, "aria-label": this.props['aria-label'], size: 'sm' }, this.props.datas.map((listItem, idx) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { key: idx, value: listItem.id }, listItem.name)))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/page-link-content.tsx":
/*!********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/page-link-content.tsx ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PageLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts");
/* harmony import */ var _link_setting_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./link-setting-list */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/link-setting-list.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts");





class PageLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getInitLinkParam = () => {
            const pageStructure = this.props.appConfig.pageStructure;
            if (!pageStructure || pageStructure.length < 1) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    value: ''
                });
            }
            // default, select the first line
            if (this.props.originLinkParam.linkType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Page) {
                const pageData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getPageData)(this.props.appConfig, this.props.intl);
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Page,
                    value: pageData && pageData.some(p => p.id === 'default') ? 'default' : pageData && pageData[0] && pageData[0].id,
                    openType: !this.props.openTypes || this.props.openTypes.includes(_types__WEBPACK_IMPORTED_MODULE_1__.OpenTypes.CurrentWindow) ? _types__WEBPACK_IMPORTED_MODULE_1__.OpenTypes.CurrentWindow : this.props.openTypes[0]
                });
            }
            else {
                return this.props.originLinkParam;
            }
        };
        this.setLinkParam = (newSelectItem) => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', newSelectItem.id);
            this.props.onLinkParamChange(tempLinkParam);
        };
    }
    componentDidMount() {
        const pagelinkParam = this.getInitLinkParam();
        this.props.onLinkParamChange(pagelinkParam);
    }
    render() {
        const pageData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getPageData)(this.props.appConfig, this.props.intl);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'chooseAPage', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.chooseAPage })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null,
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_link_setting_list__WEBPACK_IMPORTED_MODULE_2__["default"], { linkParam: this.props.linkParam, datas: pageData, onClick: this.setLinkParam, "aria-label": this.props.intl.formatMessage({ id: 'chooseAPage', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.chooseAPage }) }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/screen-link-content.tsx":
/*!**********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/screen-link-content.tsx ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BlockLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");



class BlockLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.screenGroupLabelStyle = {
            marginLeft: '-20px'
        };
        this.getInitLinkParam = () => {
            const data = this.getScreenData();
            if (!data || data.length < 1) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen,
                    value: ''
                });
            }
            // default, select the first line
            if (this.props.originLinkParam.linkType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen,
                    value: data[0].screens[0].id
                });
            }
            else {
                return this.props.originLinkParam;
            }
        };
        this.getScreenData = () => {
            var _a;
            return (_a = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getScreenAnchorPointsInPage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getAppConfig(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentPageId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode())) === null || _a === void 0 ? void 0 : _a.sort((s1, s2) => { var _a; return (_a = s1.label) === null || _a === void 0 ? void 0 : _a.localeCompare(s2.label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
        };
        this.setLinkParam = e => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', e.target.value);
            this.props.onLinkParamChange(tempLinkParam);
        };
    }
    componentDidMount() {
        const linkParam = this.getInitLinkParam();
        this.props.onLinkParamChange(linkParam);
    }
    render() {
        var _a;
        const data = this.getScreenData();
        const options = [];
        data.forEach(g => {
            options.push(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { value: g.id, key: g.id, disabled: true, style: this.screenGroupLabelStyle }, g.label));
            g.screens.forEach((s, i) => options.push(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { value: s.id, key: `${g.id}-${i}` }, s.label)));
        });
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'jumpTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.jumpTo })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, data.length > 0 &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Select, { value: (_a = this.props.linkParam) === null || _a === void 0 ? void 0 : _a.value, className: 'w-100', onChange: this.setLinkParam, size: 'sm', "aria-label": this.props.intl.formatMessage({ id: 'jumpTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.jumpTo }) }, options))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/view-link-content.tsx":
/*!********************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/view-link-content.tsx ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ViewLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts");
/* harmony import */ var _collapse_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collapse-tool */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/collapse-tool.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts");





class ViewLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.noScroll = 'Do not scroll';
        this.getInitLinkParam = () => {
            const linkType = this.props.originLinkParam.linkType;
            if (linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View) {
                return this.props.originLinkParam;
            }
            else {
                let initLinkParam = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View,
                    value: ''
                });
                if (!(0,_utils__WEBPACK_IMPORTED_MODULE_4__.isDialogId)(this.getDefaultPageOrDialogId())) {
                    initLinkParam = initLinkParam.set('openType', this.getInitOpenType());
                }
                return initLinkParam;
            }
        };
        this.getInitOpenType = () => {
            return !this.props.openTypes || this.props.openTypes.includes(_types__WEBPACK_IMPORTED_MODULE_1__.OpenTypes.CurrentWindow) ? _types__WEBPACK_IMPORTED_MODULE_1__.OpenTypes.CurrentWindow : this.props.openTypes[0];
        };
        this.pageOrDialogChange = (e) => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', e.target.value);
            if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.linkToViewOnDialog)(tempLinkParam)) {
                tempLinkParam = tempLinkParam.without('openType');
            }
            else {
                tempLinkParam = tempLinkParam.set('openType', this.getInitOpenType());
            }
            this.props.onLinkParamChange(tempLinkParam);
        };
        this.viewChange = (viewId, sectionId) => {
            let tempViewParamArr = [];
            tempViewParamArr = Object.assign(tempViewParamArr, this.state.viewLinkParamArr);
            if (!tempViewParamArr[0]) {
                tempViewParamArr[0] = this.getDefaultPageOrDialogId();
            }
            const views = this.props.appConfig.sections[sectionId].views;
            // remove views which are in the same section with the clicked view
            let toRemoveViewIds = tempViewParamArr.filter(id => views.some(v => v === id) && id !== viewId);
            let toAddViewIds = [];
            const index = tempViewParamArr.indexOf(viewId);
            if (index > -1) {
                toRemoveViewIds = toRemoveViewIds.concat(tempViewParamArr[index]);
            }
            else {
                toAddViewIds = toAddViewIds.concat(viewId);
            }
            if (toRemoveViewIds && toRemoveViewIds.length > 0) {
                let childViewIds = [];
                toRemoveViewIds.forEach(vId => {
                    childViewIds = childViewIds.concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.getAllChildViewIds)(vId, this.props.appConfig));
                });
                toRemoveViewIds = toRemoveViewIds.concat(childViewIds);
            }
            tempViewParamArr = tempViewParamArr.filter(id => !toRemoveViewIds.some(vId => vId === id));
            tempViewParamArr = tempViewParamArr.concat(toAddViewIds);
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', tempViewParamArr.join(','));
            this.props.onLinkParamChange(tempLinkParam);
        };
        this.viewRemove = (viewId) => {
            let tempViewParamArr = [];
            tempViewParamArr = Object.assign(tempViewParamArr, this.state.viewLinkParamArr);
            if (!tempViewParamArr[0]) {
                tempViewParamArr[0] = this.getDefaultPageOrDialogId();
            }
            const childViewIds = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getAllChildViewIds)(viewId, this.props.appConfig);
            const toRemoveViewIds = childViewIds.concat(viewId);
            tempViewParamArr = tempViewParamArr.slice(0, 1).concat(tempViewParamArr.slice(1).filter(id => !toRemoveViewIds.some(vId => vId === id)));
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', tempViewParamArr.join(','));
            this.props.onLinkParamChange(tempLinkParam, true);
        };
        this.onScrollToViewChange = (viewId) => {
            this.setState({ scrollToViewId: viewId });
        };
        this.getDefaultPageOrDialogId = () => {
            const pages = this.props.appConfig && this.props.appConfig.pages;
            const pageIds = pages && Object.keys(pages).filter(pageId => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromPage)(pageId, this.props.appConfig).length > 0);
            const defaultPageId = (pageIds && pageIds.find(p => pages[p].isDefault)) || (pageIds === null || pageIds === void 0 ? void 0 : pageIds[0]);
            if (defaultPageId) {
                return defaultPageId;
            }
            const dialogs = this.props.appConfig && this.props.appConfig.dialogs;
            const dialogIds = dialogs && Object.keys(dialogs).filter(dialogId => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromDialog)(dialogId, this.props.appConfig).length > 0);
            return dialogIds === null || dialogIds === void 0 ? void 0 : dialogIds[0];
        };
        this.getSelectedVeiwIds = () => {
            return this.state.viewLinkParamArr.slice(1);
        };
        this.state = {
            viewLinkParamArr: [],
            scrollToViewId: this.noScroll
        };
    }
    componentDidMount() {
        const viewlinkParam = this.getInitLinkParam();
        const { value, linkType } = viewlinkParam;
        if (value && linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View) {
            this.setState({
                viewLinkParamArr: value.split(',')
            });
        }
        else {
            this.setState({
                viewLinkParamArr: []
            });
        }
        this.props.onLinkParamChange(viewlinkParam);
    }
    static getDerivedStateFromProps(newProps, prevState) {
        const { value, linkType } = newProps.linkParam;
        if (value && linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View) {
            return Object.assign(Object.assign({}, prevState), { viewLinkParamArr: value.split(',') });
        }
        else {
            return Object.assign(Object.assign({}, prevState), { viewLinkParamArr: [] });
        }
    }
    render() {
        var _a, _b, _c;
        if (!this.props.appConfig) {
            return null;
        }
        const pageData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getPageData)(this.props.appConfig, this.props.intl);
        const dialogData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getDialogData)(this.props.appConfig);
        const pageOrDialogId = this.state.viewLinkParamArr[0] || this.getDefaultPageOrDialogId();
        if (!pageData.some(p => p.id === pageOrDialogId) && !dialogData.some(d => d.id === pageOrDialogId)) {
            return null;
        }
        const pagesWithSection = pageData.filter(p => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromPage)(p.id, this.props.appConfig).length > 0);
        const dialogsWithSection = dialogData.filter(d => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromDialog)(d.id, this.props.appConfig).length > 0);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'chooseViews', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.chooseViews })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null,
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { value: pageOrDialogId, onChange: this.pageOrDialogChange, className: 'w-100 mb-4', size: 'sm' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Option, { header: true }, this.props.intl.formatMessage({ id: 'page', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.page })),
                    pagesWithSection.map((p, index) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Option, { key: index, value: p.id }, p.name)),
                    dialogsWithSection.length > 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Option, { header: true }, this.props.intl.formatMessage({ id: 'dialog', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.dialog })),
                    dialogsWithSection.map((d, index) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Option, { key: index, value: d.id }, d.name))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('choose-view', { 'mb-4': ((_a = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromPage)(pageOrDialogId, this.props.appConfig)) === null || _a === void 0 ? void 0 : _a.length) > 0 }) }, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromPage)(pageOrDialogId, this.props.appConfig).map(sectionId => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SectionItem, { sections: this.props.appConfig.sections, sectionId: sectionId, viewsInfo: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getViewInfoFromSection)(sectionId, this.props.appConfig), viewLinkParamArr: this.state.viewLinkParamArr, viewChange: this.viewChange, viewRemove: this.viewRemove, key: sectionId }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('choose-view', { 'mb-4': ((_b = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromDialog)(pageOrDialogId, this.props.appConfig)) === null || _b === void 0 ? void 0 : _b.length) > 0 }) }, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromDialog)(pageOrDialogId, this.props.appConfig).map(sectionId => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SectionItem, { sections: this.props.appConfig.sections, sectionId: sectionId, viewsInfo: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getViewInfoFromSection)(sectionId, this.props.appConfig), viewLinkParamArr: this.state.viewLinkParamArr, viewChange: this.viewChange, viewRemove: this.viewRemove, key: sectionId }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('choose-view', { 'mb-4': ((_c = this.getSelectedVeiwIds()) === null || _c === void 0 ? void 0 : _c.length) > 0 }) }, this.getSelectedVeiwIds().map(viewId => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getSectionIdsFromView)(viewId, this.props.appConfig).map(sectionId => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SectionItem, { sections: this.props.appConfig.sections, sectionId: sectionId, viewsInfo: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getViewInfoFromSection)(sectionId, this.props.appConfig), viewLinkParamArr: this.state.viewLinkParamArr, viewChange: this.viewChange, viewRemove: this.viewRemove, key: sectionId })))))));
    }
}
class SectionItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.onViewChange = (viewId) => {
            this.setState({ viewId });
            this.props.viewChange(viewId, this.props.sectionId);
        };
        this.state = {
            viewId: null
        };
    }
    componentWillUnmount() {
        // remove view when view option is not existed
        this.props.viewRemove(this.state.viewId);
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_collapse_tool__WEBPACK_IMPORTED_MODULE_2__["default"], { className: 'mb-4 choose-view', title: this.props.sections[this.props.sectionId] && this.props.sections[this.props.sectionId].label, isOpen: true, key: this.props.sectionId },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'link-selector-list w-100 view-border border-top-0 border-left-0 border-right-0 rounded-0', role: 'menu' }, this.props.viewsInfo.map((v, idx) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { role: 'menuitem', onClick: () => { this.onViewChange(v.id); }, key: idx, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-outline-inside link-selector-list-item btn w-100 view-border px-2 pt-1 text-left border-bottom-0 rounded-0 text-truncate', { 'item-common': !(this.props.viewLinkParamArr.includes(v.id)) }, { itemselected: this.props.viewLinkParamArr.includes(v.id) }), title: v.label, "aria-checked": this.props.viewLinkParamArr.includes(v.id) }, v.label)))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/webaddress-link-content.tsx":
/*!**************************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/webaddress-link-content.tsx ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WebaddressLinkContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_expression_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/expression-builder */ "jimu-ui/advanced/expression-builder");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../types */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts");





const expressionFrom = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_ui_advanced_expression_builder__WEBPACK_IMPORTED_MODULE_2__.ExpressionInputType.Static, jimu_ui_advanced_expression_builder__WEBPACK_IMPORTED_MODULE_2__.ExpressionInputType.Attribute, jimu_ui_advanced_expression_builder__WEBPACK_IMPORTED_MODULE_2__.ExpressionInputType.Expression]);
class WebaddressLinkContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a;
        super(props);
        this.getInitLinkParam = () => {
            const linkType = this.props.originLinkParam.linkType;
            if (linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress) {
                return this.props.originLinkParam;
            }
            else {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                    linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress,
                    openType: !this.props.openTypes || this.props.openTypes.includes(_types__WEBPACK_IMPORTED_MODULE_3__.OpenTypes.NewWindow) ? _types__WEBPACK_IMPORTED_MODULE_3__.OpenTypes.NewWindow : this.props.openTypes[0],
                    value: ''
                });
            }
        };
        this.webAddressInputChange = (res) => {
            const currentAddress = res.value;
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('value', currentAddress).set('expression', null);
            this.props.onLinkParamChange(tempLinkParam);
        };
        this.webAddressExpressionChange = (e) => {
            let tempLinkParam = this.props.linkParam;
            tempLinkParam = tempLinkParam.set('expression', e).set('value', '');
            this.props.onLinkParamChange(tempLinkParam);
            this.closeExpPopup();
        };
        this.openExpPopup = () => { this.setState({ isExpPopupOpen: true }); };
        this.closeExpPopup = () => { this.setState({ isExpPopupOpen: false }); };
        this.getDefaultExp = () => {
            return {
                name: 'Expression',
                parts: [
                    {
                        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExpressionPartType.String,
                        exp: '"https://"'
                    }
                ]
            };
        };
        this.onUrlChange = (res) => {
            this.setState({ url: res.value });
        };
        this.state = {
            isExpPopupOpen: false,
            url: ((_a = this.props.linkParam) === null || _a === void 0 ? void 0 : _a.linkType) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress ? this.props.linkParam.value : ''
        };
    }
    componentDidMount() {
        const webAddressLinkParam = this.getInitLinkParam();
        this.props.onLinkParamChange(webAddressLinkParam);
    }
    componentDidUpdate(prevProps) {
        var _a, _b, _c;
        if (((_a = prevProps.linkParam) === null || _a === void 0 ? void 0 : _a.value) !== ((_b = this.props.linkParam) === null || _b === void 0 ? void 0 : _b.value)) {
            this.setState({ url: ((_c = this.props.linkParam) === null || _c === void 0 ? void 0 : _c.linkType) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress ? this.props.linkParam.value : this.state.url });
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, this.props.useDataSources && this.props.useDataSources.length > 0
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui_advanced_expression_builder__WEBPACK_IMPORTED_MODULE_2__.ExpressionInput, { useDataSources: this.props.useDataSources, onChange: this.webAddressExpressionChange, expression: (this.props.linkParam && this.props.linkParam.expression) || this.getDefaultExp(), closeExpPopup: this.closeExpPopup, openExpPopup: this.openExpPopup, isExpPopupOpen: this.state.isExpPopupOpen, types: expressionFrom, widgetId: this.props.widgetId, "aria-label": this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url }) })
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.UrlInput, { value: this.state.url, schemes: _utils__WEBPACK_IMPORTED_MODULE_4__.supportedURISchemes, onChange: this.onUrlChange, className: 'w-100', onAcceptValue: this.webAddressInputChange, "aria-label": this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url }) }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/index.tsx":
/*!*********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/index.tsx ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkSelectorContent: () => (/* binding */ LinkSelectorContent),
/* harmony export */   LinkSetting: () => (/* binding */ LinkSetting),
/* harmony export */   _LinkSelectorContent: () => (/* binding */ _LinkSelectorContent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts");
/* harmony import */ var _components_page_link_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/page-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/page-link-content.tsx");
/* harmony import */ var _components_dialog_link_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/dialog-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/dialog-link-content.tsx");
/* harmony import */ var _components_block_link_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/block-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/block-link-content.tsx");
/* harmony import */ var _components_screen_link_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/screen-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/screen-link-content.tsx");
/* harmony import */ var _components_view_link_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/view-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/view-link-content.tsx");
/* harmony import */ var _components_webaddress_link_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/webaddress-link-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/components/webaddress-link-content.tsx");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts");
/** @jsx jsx */












/**
 * The `LinkSelectorContent` component allows users to configure a link.
 *
 * ```ts
 * import { LinkSelectorContent } from 'jimu-ui/advanced/setting-components'
 * ```
 */
class _LinkSelectorContent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        // leftContent for LinkType
        this.getLinkTypeContent = () => {
            if (this.props.isLinkPageSetting) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: this.state.linkParam.linkType, size: 'sm', onChange: this.linkTypeChange, className: 'w-100', "aria-label": this.props.intl.formatMessage({ id: 'linkTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.linkTo }) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress }, this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url }))));
            }
            else {
                const hiddenLinks = this.getHiddenLinks();
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: this.state.linkParam.linkType, size: 'sm', onChange: this.linkTypeChange, className: 'w-100', "aria-label": this.props.intl.formatMessage({ id: 'linkTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.linkTo }) },
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None }, this.props.intl.formatMessage({ id: 'none', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.none })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Page) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Page }, this.props.intl.formatMessage({ id: 'page', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.page })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View }, this.props.intl.formatMessage({ id: 'view', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.view })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog }, this.props.intl.formatMessage({ id: 'dialog', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.dialog })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress }, this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block }, this.props.intl.formatMessage({ id: 'block', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.block })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop }, this.props.intl.formatMessage({ id: 'pageTop', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.pageTop })),
                    !hiddenLinks.some(l => l === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PrintPreview) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PrintPreview }, this.props.intl.formatMessage({ id: 'printPreview', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.printPreview }))));
            }
        };
        this.getHiddenLinks = () => {
            var _a, _b, _c, _d, _e;
            let hiddenLinks = this.props.hiddenLinks || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            const currentPageId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_9__.utils.getCurrentPageId();
            const appConfig = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_9__.utils.getAppConfig();
            const currentPageJson = (_a = appConfig.pages) === null || _a === void 0 ? void 0 : _a[currentPageId];
            const currentPageLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_9__.searchUtils.findLayoutId(currentPageJson === null || currentPageJson === void 0 ? void 0 : currentPageJson.layout, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_9__.utils.getCurrentSizeMode(), appConfig.mainSizeMode);
            const currentLayoutJson = appConfig.layouts[currentPageLayoutId];
            const currentDialogId = ((_b = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _b === void 0 ? void 0 : _b.isBuilder) ? (_d = (_c = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appRuntimeInfo) === null || _d === void 0 ? void 0 : _d.currentDialogId : (_e = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appRuntimeInfo) === null || _e === void 0 ? void 0 : _e.currentDialogId;
            if ((currentLayoutJson === null || currentLayoutJson === void 0 ? void 0 : currentLayoutJson.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutType.FixedLayout || currentDialogId) {
                hiddenLinks = hiddenLinks.concat([jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop]);
            }
            return hiddenLinks;
        };
        // rightContent for LinkParamSetting
        this.getLinkContent = (linkType) => {
            switch (linkType) {
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None:
                    return null;
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Page:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_page_link_content__WEBPACK_IMPORTED_MODULE_3__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, appConfig: this.props.appConfig, onLinkParamChange: this.linkParamChange, intl: this.props.intl, openTypes: this.props.openTypes }));
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_dialog_link_content__WEBPACK_IMPORTED_MODULE_4__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, appConfig: this.props.appConfig, onLinkParamChange: this.linkParamChange, intl: this.props.intl }));
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_block_link_content__WEBPACK_IMPORTED_MODULE_5__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, onLinkParamChange: this.linkParamChange, intl: this.props.intl }));
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_screen_link_content__WEBPACK_IMPORTED_MODULE_6__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, onLinkParamChange: this.linkParamChange, intl: this.props.intl }));
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_view_link_content__WEBPACK_IMPORTED_MODULE_7__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, intl: this.props.intl, openTypes: this.props.openTypes, appConfig: this.props.appConfig, onLinkParamChange: this.linkParamChange, browserSizeMode: this.props.browserSizeMode }));
                case jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress:
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_webaddress_link_content__WEBPACK_IMPORTED_MODULE_8__["default"], { originLinkParam: this.state.originLinkParam, linkParam: this.state.linkParam, intl: this.props.intl, onLinkParamChange: this.linkParamChange, useDataSources: this.props.useDataSources, openTypes: this.props.openTypes, widgetId: this.props.widgetId }));
                default:
                    return null;
            }
        };
        this.linkTypeChange = (e) => {
            let tempLinkParam = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.state.linkParam);
            const type = e.target.value;
            if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop) {
                tempLinkParam = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            }
            this.setState({
                linkParam: tempLinkParam.set('linkType', type)
            });
        };
        this.radioOpenTypeChange = (openType) => {
            let tempLinkParam = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.state.linkParam);
            tempLinkParam = tempLinkParam.set('openType', openType);
            this.setState({
                linkParam: tempLinkParam
            });
        };
        this.linkParamChange = (changedParam, isTypeSame) => {
            if (isTypeSame) {
                if (changedParam && this.state.linkParam && changedParam.linkType === this.state.linkParam.linkType) {
                    this.setState({
                        linkParam: this.fixLinkParam(changedParam)
                    });
                }
            }
            else {
                this.setState({
                    linkParam: this.fixLinkParam(changedParam)
                });
            }
        };
        this.fixLinkParam = (linkParam) => {
            var _a;
            let fixedLinkParam = linkParam;
            /**
             * Remove invalid view ids. Some views may be removed.
             */
            if ((linkParam === null || linkParam === void 0 ? void 0 : linkParam.linkType) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View && (linkParam === null || linkParam === void 0 ? void 0 : linkParam.value)) {
                const views = (_a = this.props.appConfig) === null || _a === void 0 ? void 0 : _a.views;
                const viewLinkParamArr = linkParam.value.split(',');
                const validViewIds = viewLinkParamArr.slice(1).filter(viewId => views === null || views === void 0 ? void 0 : views[viewId]);
                const fixedValue = [viewLinkParamArr[0]].concat(validViewIds).join(',');
                fixedLinkParam = fixedLinkParam.set('value', fixedValue);
            }
            return fixedLinkParam;
        };
        this.settingConfirm = () => {
            const linkParam = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.state.linkParam);
            this.setState({
                originLinkParam: linkParam
            });
            this.props.onSettingConfirm(linkParam);
        };
        this.isLinkParamOk = (linkParam) => {
            if (!linkParam || !linkParam.linkType) {
                return false;
            }
            if (linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View) {
                const pageId = (linkParam.value && linkParam.value.split(',')[0]) || null;
                const viewIds = (linkParam.value && linkParam.value.split(',').slice(1)) || [];
                return !!(pageId && typeof pageId === 'string' && viewIds.length > 0);
            }
            else if (linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress) {
                if (this.props.useDataSources && this.props.useDataSources.length > 0) {
                    const parts = linkParam.expression && linkParam.expression.parts;
                    let isExpressionOk = false;
                    if (parts && parts.length > 0) {
                        if (parts.length === 1) {
                            // when using expression, the default part is "", which does not mean expression is ok
                            isExpressionOk = !!parts[0].exp && parts[0].exp !== '""';
                        }
                        else {
                            isExpressionOk = true;
                        }
                    }
                    return isExpressionOk;
                }
                else {
                    const hasError = jimu_core__WEBPACK_IMPORTED_MODULE_0__.urlUtils.checkAbsoluteUrl(linkParam.value, _utils__WEBPACK_IMPORTED_MODULE_11__.supportedURISchemes) !== 'valid';
                    return linkParam.value && !hasError;
                }
            }
            else if (linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop || linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PrintPreview || linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None) {
                // link to page top, only needs linkType property.
                return true;
            }
            else { // other link types only need value and value is type of string.
                return !!(linkParam.value && typeof linkParam.value === 'string');
            }
        };
        if (!this.props.linkParam || !this.props.linkParam.linkType) {
            const initLinkParam = {
                linkType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None,
                openType: !this.props.openTypes || this.props.openTypes.includes(_types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.CurrentWindow) ? _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.CurrentWindow : this.props.openTypes[0]
            };
            this.state = {
                linkParam: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(initLinkParam),
                originLinkParam: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(initLinkParam)
            };
        }
        else {
            this.state = {
                linkParam: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.props.linkParam),
                originLinkParam: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.props.linkParam)
            };
        }
    }
    needOpenIn(linkParam) {
        if (!linkParam) {
            return true;
        }
        const hideOpenInType = [jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Dialog, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Block, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.Screen, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PageTop, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.PrintPreview];
        return !hideOpenInType.some(t => t === linkParam.linkType) && !(0,_utils__WEBPACK_IMPORTED_MODULE_11__.linkToViewOnDialog)(linkParam);
    }
    render() {
        if (!this.props.appConfig) {
            return null;
        }
        else {
            const linkTypeContent = this.getLinkTypeContent();
            const linkContent = this.getLinkContent(this.state.linkParam.linkType);
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, 'w-100 h-100') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-builder-link-selector w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'relative' }, className: 'w-100 h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Container, null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Row, { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'linkTo', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.linkTo })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Row, { className: 'mb-4' }, linkTypeContent),
                            this.state.linkParam.linkType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.None
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Row, { className: 'mb-4' }, linkContent),
                                    this.needOpenIn(this.state.linkParam) &&
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Row, { className: 'mb-3 option-name' }, this.props.intl.formatMessage({ id: 'openIn', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.openIn })),
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Row, { role: 'radiogroup', className: 'p-0', "aria-label": this.props.intl.formatMessage({ id: 'openIn', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.openIn }) },
                                                (!this.props.openTypes || this.props.openTypes.some(o => o === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.CurrentWindow)) &&
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { className: 'link-setting-cursor-pointer open-type-label mb-6 d-flex align-items-center' },
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { name: "openIn", className: "mr-2", onChange: () => { this.radioOpenTypeChange(_types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.CurrentWindow); }, checked: this.state.linkParam.openType === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.CurrentWindow }),
                                                        this.props.intl.formatMessage({ id: 'appWindow', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.appWindow })),
                                                (!this.props.openTypes || this.props.openTypes.some(o => o === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.TopWindow)) &&
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { className: 'link-setting-cursor-pointer open-type-label mb-6 d-flex align-items-center' },
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { name: "openIn", className: "mr-2", onChange: () => { this.radioOpenTypeChange(_types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.TopWindow); }, checked: this.state.linkParam.openType === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.TopWindow }),
                                                        this.props.intl.formatMessage({ id: 'topWindow', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.topWindow })),
                                                (!this.props.openTypes || this.props.openTypes.some(o => o === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.NewWindow)) &&
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { className: 'link-setting-cursor-pointer open-type-label mb-6 d-flex align-items-center' },
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { name: "openIn", className: "mr-2", onChange: () => { this.radioOpenTypeChange(_types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.NewWindow); }, checked: this.state.linkParam.openType === _types__WEBPACK_IMPORTED_MODULE_2__.OpenTypes.NewWindow }),
                                                        this.props.intl.formatMessage({ id: 'newWindow', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.newWindow })))))
                                : null),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100', style: { position: 'absolute' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'w-100 text-dark link-setting-ok-btn', type: 'primary', onClick: this.settingConfirm, disabled: !this.isLinkParamOk(this.state.linkParam), title: this.props.intl.formatMessage({ id: 'ok', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.ok }) },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate' }, this.props.intl.formatMessage({ id: 'ok', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.ok }))))))));
        }
    }
    componentDidMount() {
        if (this.props.isLinkPageSetting) {
            this.linkTypeChange({
                target: {
                    value: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress
                }
            });
        }
    }
}
const mapStateToProps = (state) => {
    return {
        appConfig: window && window.jimuConfig && window.jimuConfig.isBuilder ? state.appStateInBuilder.appConfig : state.appConfig,
        browserSizeMode: window && window.jimuConfig && window.jimuConfig.isBuilder ? state.appStateInBuilder.browserSizeMode : state.browserSizeMode
    };
};
const LinkSelectorContent = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_10__.withStyles)(_LinkSelectorContent, 'LinkSelectorContent')));
/**
 * @deprecated
 */
const LinkSetting = LinkSelectorContent;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts":
/*!********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/utils.ts ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAllChildViewIds: () => (/* binding */ getAllChildViewIds),
/* harmony export */   getDialogData: () => (/* binding */ getDialogData),
/* harmony export */   getPageData: () => (/* binding */ getPageData),
/* harmony export */   getSectionIdsFromDialog: () => (/* binding */ getSectionIdsFromDialog),
/* harmony export */   getSectionIdsFromPage: () => (/* binding */ getSectionIdsFromPage),
/* harmony export */   getSectionIdsFromView: () => (/* binding */ getSectionIdsFromView),
/* harmony export */   getViewInfoFromSection: () => (/* binding */ getViewInfoFromSection),
/* harmony export */   isDialogId: () => (/* binding */ isDialogId),
/* harmony export */   linkToViewOnDialog: () => (/* binding */ linkToViewOnDialog),
/* harmony export */   supportedURISchemes: () => (/* binding */ supportedURISchemes)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");



function getSectionIdsFromPage(pageId, appConfig) {
    var _a, _b;
    const pageJson = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.pages) === null || _a === void 0 ? void 0 : _a[pageId];
    if ((pageJson === null || pageJson === void 0 ? void 0 : pageJson.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.PageType.Normal) {
        const bodySections = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getContentsInContainer(appConfig, { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Page, id: pageId }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode());
        let headerSections = [];
        let footerSections = [];
        if (pageJson.header) {
            headerSections = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getContentsInContainer(appConfig, { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Header, id: 'header' }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode());
        }
        if (pageJson.footer) {
            footerSections = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getContentsInContainer(appConfig, { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Footer, id: 'footer' }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode());
        }
        return (_b = headerSections.concat(bodySections, footerSections)) === null || _b === void 0 ? void 0 : _b.sort((sId1, sId2) => { var _a, _b, _c, _d, _e; return (_c = (_b = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.sections) === null || _a === void 0 ? void 0 : _a[sId1]) === null || _b === void 0 ? void 0 : _b.label) === null || _c === void 0 ? void 0 : _c.localeCompare((_e = (_d = appConfig === null || appConfig === void 0 ? void 0 : appConfig.sections) === null || _d === void 0 ? void 0 : _d[sId2]) === null || _e === void 0 ? void 0 : _e.label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
    }
    return [];
}
function getSectionIdsFromDialog(dialogId, appConfig) {
    var _a;
    const dialogJson = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.dialogs) === null || _a === void 0 ? void 0 : _a[dialogId];
    if (!dialogJson) {
        return [];
    }
    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getContentsInContainer(appConfig, { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog, id: dialogId }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode());
}
/**
 * return all child views of parent view,
 * e.g., page_1 -> section_1 -> view_1 -> section_2 -> view_2 -> section_3 -> view_3
 * input view_1, return [view_2, view_3],
 * input view_2, return [view_3],
 * input view_undefiled, return []
 */
function getAllChildViewIds(parentViewId, appConfig) {
    if (!parentViewId) {
        return [];
    }
    const sectionIds = getSectionIdsFromView(parentViewId, appConfig);
    if (sectionIds && sectionIds.length > 0) {
        let childViewIds = [];
        let grandChildViewIds = [];
        sectionIds.forEach(sectionId => {
            childViewIds = childViewIds.concat(getViewInfoFromSection(sectionId, appConfig).map(info => info.id));
        });
        if (childViewIds.length > 0) {
            childViewIds.forEach(vId => {
                grandChildViewIds = grandChildViewIds.concat(getAllChildViewIds(vId, appConfig));
            });
        }
        return childViewIds.concat(grandChildViewIds);
    }
    else {
        return [];
    }
}
function getSectionIdsFromView(viewId, appConfig) {
    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.getContentsInContainer(appConfig, { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.View, id: viewId }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getCurrentSizeMode()) || [];
}
function getViewInfoFromSection(sectionId, appConfig) {
    const tempViews = appConfig.sections[sectionId].views;
    const info = [];
    for (let i = 0; i < tempViews.length; i++) {
        info.push({
            id: tempViews[i],
            label: appConfig.views[tempViews[i]].label
        });
    }
    return info.sort((v1, v2) => { var _a; return (_a = v1.label) === null || _a === void 0 ? void 0 : _a.localeCompare(v2.label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
}
function getPageData(appConfig, intl) {
    const pages = appConfig === null || appConfig === void 0 ? void 0 : appConfig.pages;
    const currentPage = {
        id: jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.CURRENT_PAGE,
        name: intl.formatMessage({ id: 'currentPage', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.currentPage })
    };
    const pageIds = pages && Object.keys(pages).filter(pId => pages[pId].type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.PageType.Normal).sort((pId1, pId2) => { var _a; return (_a = pages[pId1].label) === null || _a === void 0 ? void 0 : _a.localeCompare(pages[pId2].label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
    let data = [currentPage];
    if (pageIds) {
        data = data.concat(pageIds.map(pId => ({ id: pId, name: pages[pId].label })));
    }
    return data;
}
function getDialogData(appConfig) {
    const dialogs = appConfig === null || appConfig === void 0 ? void 0 : appConfig.dialogs;
    const fixedDialogs = (dialogs && Object.values(dialogs).filter(d => (d === null || d === void 0 ? void 0 : d.mode) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DialogMode.Fixed)) || [];
    const anchoredDialogs = (dialogs && Object.values(dialogs).filter(d => (d === null || d === void 0 ? void 0 : d.mode) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DialogMode.Anchored)) || [];
    const sortedDialogs = fixedDialogs.concat(anchoredDialogs).sort((d1, d2) => { var _a; return (_a = d1.label) === null || _a === void 0 ? void 0 : _a.localeCompare(d2.label, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' }); });
    const dialogIds = sortedDialogs.map(d => d.id);
    const data = dialogIds && dialogIds.filter(id => !dialogs[id].isSplash).map(id => ({ id: id, name: dialogs[id].label }));
    return data;
}
function linkToViewOnDialog(linkParams) {
    var _a;
    const pageOrDlgId = linkParams.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.View ? (_a = linkParams.value) === null || _a === void 0 ? void 0 : _a.split(',')[0] : null;
    return isDialogId(pageOrDlgId);
}
function isDialogId(id) {
    return typeof id === 'string' && id.includes('dialog_');
}
const supportedURISchemes = ['https', 'mailto', 'tel', 'sms', 'ftp'];


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-side-popper.tsx":
/*!*******************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-side-popper.tsx ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkSelectorSidePopper: () => (/* binding */ LinkSelectorSidePopper),
/* harmony export */   LinkSettingPopup: () => (/* binding */ LinkSettingPopup),
/* harmony export */   _LinkSelectorSidePopper: () => (/* binding */ _LinkSelectorSidePopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _link_selector_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link-selector-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/index.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _side_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../side-popper */ "./jimu-ui/advanced/lib/setting-components/components/side-popper/index.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");





/**
 * The `LinkSelectorSidePopper` component allows users to configure a link using a popup.
 *
 * ```ts
 * import { LinkSelectorSidePopper } from 'jimu-ui/advanced/setting-components'
 * ```
 */
class _LinkSelectorSidePopper extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.close = () => {
            this.props.onSettingCancel();
        };
        this.getIsOpen = () => {
            return this.props.isOpen || this.props.showDialog;
        };
    }
    render() {
        const position = this.props.position || 'right';
        const { title } = this.props;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_side_popper__WEBPACK_IMPORTED_MODULE_3__.SidePopper, { isOpen: this.getIsOpen(), position: position, toggle: this.close, trigger: this.props.trigger, backToFocusNode: this.props.backToFocusNode, widgetId: this.props.widgetId, title: this.props.intl.formatMessage({ id: title ? 'setLinkForTitle' : 'setLink', defaultMessage: title ? jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.setLinkForTitle : jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.setLink }, { title }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'bg-light-300 w-100 h-100 px-4' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_link_selector_content__WEBPACK_IMPORTED_MODULE_1__.LinkSelectorContent, { isLinkPageSetting: this.props.isLinkPageSetting, linkParam: this.props.linkParam, onSettingConfirm: this.props.onSettingConfirm, useDataSources: this.props.useDataSources, widgetId: this.props.widgetId, hiddenLinks: this.props.hiddenLinks, openTypes: this.props.openTypes }))));
    }
}
/**
 * A component to set link, such as link to a view, a page or url
 */
const LinkSelectorSidePopper = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_4__.withTheme)(_LinkSelectorSidePopper));
/**
 * @deprecated
 */
const LinkSettingPopup = LinkSelectorSidePopper;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector.tsx":
/*!*******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector.tsx ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkSelector: () => (/* binding */ LinkSelector),
/* harmony export */   _LinkSelector: () => (/* binding */ _LinkSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link-selector-side-popper */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-side-popper.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_outlined_data_link_tilted__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/data/link-tilted */ "./jimu-icons/outlined/data/link-tilted.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





/**
 * The `LinkSelector` component allows users to configure a link using a popup.
 *
 * ```ts
 * import { LinkSelector } from 'jimu-ui/advanced/setting-components'
 * ```
 */
class _LinkSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.linkSelectorTrigger = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.toggle = () => {
            const newIsOpen = !this.state.isOpen;
            // use renderPopper to controll whether render popper to let popper auto focus the first conent DOM.
            this.setState({ isOpen: newIsOpen }, () => { this.setState({ renderPopper: newIsOpen }); });
        };
        this.onCancel = () => {
            var _a, _b;
            (_b = (_a = this.props).onSettingCancel) === null || _b === void 0 ? void 0 : _b.call(_a);
            this.toggle();
        };
        this.onConfirm = (linkParam) => {
            var _a, _b;
            (_b = (_a = this.props).onSettingConfirm) === null || _b === void 0 ? void 0 : _b.call(_a, linkParam);
            this.toggle();
        };
        this.getIsOpen = () => {
            return this.state.isOpen && !jimu_core__WEBPACK_IMPORTED_MODULE_0__.urlUtils.getAppIdPageIdFromUrl().pageId;
        };
        this.state = {
            isOpen: false,
            renderPopper: false
        };
    }
    render() {
        const _a = this.props, { theme, intl, buttonLabel } = _a, otherProps = __rest(_a, ["theme", "intl", "buttonLabel"]);
        const label = buttonLabel || this.props.intl.formatMessage({ id: 'setLink', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.setLink });
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { className: 'w-100 text-black', type: 'primary', onClick: this.toggle, ref: this.linkSelectorTrigger, title: label },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 px-2 text-truncate' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_data_link_tilted__WEBPACK_IMPORTED_MODULE_4__.LinkTiltedOutlined, { className: 'text-black mr-1' }),
                    label)),
            this.state.renderPopper &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__.LinkSelectorSidePopper, Object.assign({}, otherProps, { isOpen: this.getIsOpen(), position: 'right', onSettingCancel: this.onCancel, onSettingConfirm: this.onConfirm, trigger: this.linkSelectorTrigger.current, widgetId: this.props.widgetId }))));
    }
}
/**
 * A component to set link, such as link to a view, a page or url
 */
const LinkSelector = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.withTheme)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_LinkSelector));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/index.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/index.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkSelector: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_0__.LinkSelector),
/* harmony export */   LinkSelectorContent: () => (/* reexport safe */ _components_link_selector_content__WEBPACK_IMPORTED_MODULE_2__.LinkSelectorContent),
/* harmony export */   LinkSelectorSidePopper: () => (/* reexport safe */ _components_link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__.LinkSelectorSidePopper),
/* harmony export */   LinkSetting: () => (/* reexport safe */ _components_link_selector_content__WEBPACK_IMPORTED_MODULE_2__.LinkSetting),
/* harmony export */   LinkSettingPopup: () => (/* reexport safe */ _components_link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__.LinkSettingPopup),
/* harmony export */   _LinkSelector: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_0__._LinkSelector),
/* harmony export */   _LinkSelectorContent: () => (/* reexport safe */ _components_link_selector_content__WEBPACK_IMPORTED_MODULE_2__._LinkSelectorContent),
/* harmony export */   _LinkSelectorSidePopper: () => (/* reexport safe */ _components_link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__._LinkSelectorSidePopper)
/* harmony export */ });
/* harmony import */ var _components_link_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/link-selector */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector.tsx");
/* harmony import */ var _components_link_selector_side_popper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/link-selector-side-popper */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-side-popper.tsx");
/* harmony import */ var _components_link_selector_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/link-selector-content */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/components/link-selector-content/index.tsx");





/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OpenTypes: () => (/* binding */ OpenTypes)
/* harmony export */ });
var OpenTypes;
(function (OpenTypes) {
    OpenTypes["CurrentWindow"] = "_self";
    OpenTypes["TopWindow"] = "_top";
    OpenTypes["NewWindow"] = "_blank";
})(OpenTypes || (OpenTypes = {}));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/map-selector-utils/utils.ts":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/map-selector-utils/utils.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LabelType: () => (/* binding */ LabelType),
/* harmony export */   divider: () => (/* binding */ divider),
/* harmony export */   getBreakList: () => (/* binding */ getBreakList),
/* harmony export */   sortByLabel: () => (/* binding */ sortByLabel)
/* harmony export */ });
//Divider in option list.
const divider = {
    label: 'divider',
    divider: true
};
//Divide lists into page list and window list.
const getBreakList = (breaker, selectLists) => {
    var _a, _b;
    let pageList = [];
    let dialogList = [];
    for (let i = 1; i < selectLists.length; i++) {
        if (selectLists[i].type === 'dialogs') {
            breaker = i;
            break;
        }
    }
    if (breaker === 1 && ((_a = selectLists[1]) === null || _a === void 0 ? void 0 : _a.type) === 'dialogs') {
        dialogList = selectLists.slice(1);
    }
    else if (breaker === 1 && ((_b = selectLists[1]) === null || _b === void 0 ? void 0 : _b.type) === 'pages') {
        pageList = selectLists.slice(1);
    }
    else {
        pageList = selectLists.slice(1, breaker);
        dialogList = selectLists.slice(breaker);
    }
    return {
        pageList: pageList,
        dialogList: dialogList
    };
};
//Option labels.
var LabelType;
(function (LabelType) {
    LabelType["Page"] = "pages";
    LabelType["Dialog"] = "dialogs";
    LabelType["Widget"] = "widgets";
})(LabelType || (LabelType = {}));
//Sort pages, dialogs, or maps by label.
const sortByLabel = (items, appConfig, type) => {
    return items.sort((a, b) => {
        const labelA = type === LabelType.Widget ? appConfig[type][a].label : appConfig[type][a.id].label;
        const labelB = type === LabelType.Widget ? appConfig[type][b].label : appConfig[type][b.id].label;
        return labelA.localeCompare(labelB, window === null || window === void 0 ? void 0 : window.locale, { numeric: true, sensitivity: 'base' });
    });
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/map-widget-selector/index.tsx":
/*!******************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/map-widget-selector/index.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapWidgetSelector: () => (/* binding */ MapWidgetSelector),
/* harmony export */   _MapWidgetSelector: () => (/* binding */ _MapWidgetSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map-selector-utils/utils */ "./jimu-ui/advanced/lib/setting-components/components/map-selector-utils/utils.ts");




//Get the option list of all pages and windows, first is the current page, then is the other pages, and then is the other windows.
const getOptionList = (selectLists, appConfig, currentContainerType, translate) => {
    const OptionList = [];
    const currentMapExist = selectLists[0].maps.length > 0;
    //Get the current page or window list.
    if (currentMapExist) {
        //Add divider after None option.
        OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
        const currentHeader = {
            header: true,
            label: currentContainerType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog ? translate('currentWindow') : translate('currentPage')
        };
        OptionList.push(currentHeader);
        const sortedCurrentPageMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(selectLists[0].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
        sortedCurrentPageMapList.forEach((id) => {
            const currentOption = {
                id: id,
                label: appConfig.widgets[id].label,
                headerLabel: currentContainerType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog ? translate('currentWindow') : translate('currentPage')
            };
            OptionList.push(currentOption);
        });
    }
    const breakList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.getBreakList)(1, selectLists);
    let pageDivider = false;
    //Get the option list of pages.
    const sortedPageList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(breakList.pageList, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Page);
    for (let i = 0; i < breakList.pageList.length; i++) {
        if (breakList.pageList[i].maps.length > 0) {
            if (!pageDivider) {
                OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
                pageDivider = true;
            }
            const otherHeader = {
                header: true,
                label: appConfig.pages[sortedPageList[i].id].label
            };
            OptionList.push(otherHeader);
            const sortedMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(sortedPageList[i].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
            sortedMapList.forEach((id) => {
                const otherOption = {
                    id: id,
                    label: appConfig.widgets[id].label,
                    headerLabel: appConfig.pages[sortedPageList[i].id].label
                };
                OptionList.push(otherOption);
            });
        }
    }
    //Get the option list of windows.
    if (breakList.dialogList) {
        let dialogDivider = false;
        const sortedDialogList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(breakList.dialogList, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Dialog);
        for (let i = 0; i < breakList.dialogList.length; i++) {
            if (breakList.dialogList[i].maps.length > 0) {
                if (!dialogDivider) {
                    OptionList.push(_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.divider);
                    dialogDivider = true;
                }
                const otherHeader = {
                    header: true,
                    label: appConfig.dialogs[sortedDialogList[i].id].label
                };
                OptionList.push(otherHeader);
                const sortedMapList = (0,_map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.sortByLabel)(sortedDialogList[i].maps, appConfig, _map_selector_utils_utils__WEBPACK_IMPORTED_MODULE_3__.LabelType.Widget);
                sortedMapList.forEach((id) => {
                    const otherOption = {
                        id: id,
                        label: appConfig.widgets[id].label,
                        headerLabel: appConfig.dialogs[sortedDialogList[i].id].label
                    };
                    OptionList.push(otherOption);
                });
            }
        }
    }
    return OptionList;
};
const { useState } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
const _MapWidgetSelector = (props) => {
    var _a;
    const { onSelect, isNeedConfirmBeforeChange } = props;
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const [confirmDialogOpen, setConfirmDialogOpen] = useState(false);
    const [selectedValue, setSelectedValue] = useState(null);
    const noneMapWidget = { id: 'none', label: translate('none') };
    const appConfig = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a, _b;
        return ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_b = state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig : state.appConfig;
    });
    const browserSizeMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.browserSizeMode;
    });
    const currentPageId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo.currentPageId;
    });
    const currentDialogId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a;
        return (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo.currentDialogId;
    });
    const currentContainerType = currentDialogId ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Dialog : jimu_core__WEBPACK_IMPORTED_MODULE_0__.ContainerType.Page;
    const currentId = currentDialogId || currentPageId;
    const mapWidgetJsons = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        const selectLists = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__.searchUtils.getMapWidgets(appConfig, browserSizeMode, currentContainerType, currentId);
        return getOptionList(selectLists, appConfig, currentContainerType, translate);
    }, [appConfig, browserSizeMode, currentContainerType, currentId, translate]);
    const getSelectedMapWidget = () => {
        var _a;
        if (!props.useMapWidgetIds || ((_a = props.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a.length) === 0) {
            return null;
        }
        const selectedMapWidgetId = props.useMapWidgetIds[0];
        return mapWidgetJsons.find(w => w.id === selectedMapWidgetId) || null;
    };
    const [currentMapId, setCurrentMapId] = useState(((_a = props.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0]) || null);
    const previousValueRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(currentMapId);
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useUpdateEffect(() => {
        var _a, _b;
        setCurrentMapId(((_a = props.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0]) || null);
        previousValueRef.current = ((_b = props.useMapWidgetIds) === null || _b === void 0 ? void 0 : _b[0]) || null;
    }, [props.useMapWidgetIds]);
    const onClick = e => {
        const selectedMapWidgetId = e.target.value;
        if (selectedMapWidgetId === currentMapId) {
            return;
        }
        const useMapWidgetIds = selectedMapWidgetId === noneMapWidget.id ? [] : [selectedMapWidgetId];
        if (isNeedConfirmBeforeChange) {
            if (previousValueRef.current === null) {
                onSelect === null || onSelect === void 0 ? void 0 : onSelect(useMapWidgetIds);
                setCurrentMapId(selectedMapWidgetId);
            }
            else {
                setConfirmDialogOpen(true);
            }
        }
        else {
            onSelect === null || onSelect === void 0 ? void 0 : onSelect(useMapWidgetIds);
            setCurrentMapId(selectedMapWidgetId);
        }
        setSelectedValue(selectedMapWidgetId);
    };
    const handleMapChangeOk = () => {
        setConfirmDialogOpen(false);
        const selectedMapWidgetId = selectedValue;
        const useMapWidgetIds = selectedMapWidgetId === noneMapWidget.id ? [] : [selectedMapWidgetId];
        onSelect === null || onSelect === void 0 ? void 0 : onSelect(useMapWidgetIds);
        setCurrentMapId(selectedValue);
    };
    const handleMapChangeCancel = () => {
        setConfirmDialogOpen(false);
    };
    const selectedMapWidget = getSelectedMapWidget();
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 component-map-selector' },
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { size: 'sm', value: selectedMapWidget ? selectedMapWidget.id : noneMapWidget.id, "aria-label": props['aria-label'] || translate('selectMapWidget'), "aria-describedby": props['aria-describedby'], "ally-description": props['ally-description'] }, [noneMapWidget].concat(mapWidgetJsons).map((option, index) => {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Option, { header: option.header, divider: option.divider, value: option.id, key: index, onClick: onClick },
                !option.header && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'sr-only' }, option.headerLabel),
                option.label));
        })),
        confirmDialogOpen && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ConfirmDialog, { level: 'info', title: translate('confirmTitle'), hasNotShowAgainOption: false, content: props.confirmMessage, onConfirm: handleMapChangeOk, onClose: handleMapChangeCancel })));
};
/**
 * A react component for selecting Map widgets. It is usually used on the setting page of a widget,
 * and works with JimuMapViewComponent, JimuLayerViewComponent, JimuMapViewS and JimuLayerViewSelector.
 */
const MapWidgetSelector = _MapWidgetSelector;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/multiple-jimu-map-config/index.tsx":
/*!***********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/multiple-jimu-map-config/index.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultipleJimuMapConfig: () => (/* binding */ MultipleJimuMapConfig)
/* harmony export */ });
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/suggested/warning */ "./jimu-icons/outlined/suggested/warning.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui/basic/list-tree */ "jimu-ui/basic/list-tree");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/** @jsx jsx */






const getStyle = () => {
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.css) `
    .jimu-tree-item__icon {
      background-color: var(--info-400);
      width: 1rem;
      height: 1rem;
      margin-right: 0.5rem;
      svg {
        margin-right: 0!important;
      }
    }
    .jimu-tree-item__body {
      .jimu-icon {
        margin-right: 4px;
        color: var(--danger-700);
      }
      .jimu-tree-item__main-line {
        cursor: pointer;
      }
    }
  `;
};
function _MultipleJimuMapConfig(props) {
    var _a, _b;
    const { mapWidgetId, disabled, disableSwitchMap = false, onClick, sidePopperContent, isDataSourceValid, invalidDataSourceTooltip, showDefaultMapWhenEmpty } = props, restProps = __rest(props, ["mapWidgetId", "disabled", "disableSwitchMap", "onClick", "sidePopperContent", "isDataSourceValid", "invalidDataSourceTooltip", "showDefaultMapWhenEmpty"]);
    const currentActiveJmvIdRef = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useRef('');
    const containerRef = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useRef(null);
    const [showPopper, setShowPopper] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(false);
    const [currentTitle, setCurrentTitle] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState('');
    const [currentDsId, setCurrentDsId] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(null);
    const [defaultDsId, setDefaultDsID] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(null);
    const jimuMapViewGroup = jimu_arcgis__WEBPACK_IMPORTED_MODULE_0__.MapViewManager.getInstance().getJimuMapViewGroup(mapWidgetId);
    const [allDataSourcesReady, setAllDataSourcesReady] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(false);
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_1__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages);
    const useDataSources = jimu_core__WEBPACK_IMPORTED_MODULE_1__.ReactRedux.useSelector((state) => {
        var _a, _b, _c;
        const appState = state.appStateInBuilder;
        const useDataSourcesConfig = appState && ((_c = (_b = (_a = appState === null || appState === void 0 ? void 0 : appState.appConfig) === null || _a === void 0 ? void 0 : _a.widgets) === null || _b === void 0 ? void 0 : _b[mapWidgetId]) === null || _c === void 0 ? void 0 : _c.useDataSources);
        return useDataSourcesConfig;
    });
    const dataSourcesInfo = jimu_core__WEBPACK_IMPORTED_MODULE_1__.ReactRedux.useSelector((state) => {
        const appState = state.appStateInBuilder;
        const dataSourcesInfoConfig = appState && (appState === null || appState === void 0 ? void 0 : appState.dataSourcesInfo);
        return dataSourcesInfoConfig;
    }, (oldDssInfo, newDssInfo) => {
        if (!useDataSources) {
            return true;
        }
        else {
            for (const useDataSource of useDataSources) {
                if (oldDssInfo && newDssInfo && (oldDssInfo[useDataSource.dataSourceId] !== newDssInfo[useDataSource.dataSourceId])) {
                    return false;
                }
            }
            return true;
        }
    });
    jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useEffect(() => {
        // When the connected dataSources are not ready, check the loading status
        if (!allDataSourcesReady) {
            // When connect to an empty map, the useDataSources field is undefined
            if (!useDataSources || (useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources.length) === 0) {
                setAllDataSourcesReady(true);
            }
            else {
                let readyCount = 0;
                for (const item of useDataSources) {
                    const dsInfo = dataSourcesInfo === null || dataSourcesInfo === void 0 ? void 0 : dataSourcesInfo[item.dataSourceId];
                    if (dsInfo && (dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_1__.DataSourceStatus.Created || dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_1__.DataSourceStatus.CreateError)) {
                        readyCount++;
                        if (readyCount === useDataSources.length) {
                            setAllDataSourcesReady(true);
                        }
                    }
                }
            }
        }
    }, [allDataSourcesReady, dataSourcesInfo, useDataSources]);
    const getSkeletonList = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useCallback(() => {
        const SKELETON_NUM = 2;
        const skeletonItems = [];
        for (let i = 0; i < SKELETON_NUM; i++) {
            skeletonItems.push({
                itemKey: i.toString(),
                itemStateCommands: [{
                        iconProps: () => ({ icon: ' ', size: 12, style: { opacity: 0 } })
                    }]
            });
        }
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_5__.List, { className: 'w-100', itemsJson: skeletonItems, dndEnabled: false, handleClickItemBody: () => { } });
    }, []);
    const getDataSourceLabel = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useCallback((dsObj) => {
        if (!dsObj) {
            return '';
        }
        const label = dsObj.getLabel();
        return label || (dsObj === null || dsObj === void 0 ? void 0 : dsObj.getDataSourceJson().sourceLabel) || dsObj.id;
    }, []);
    const defaultItemsJson = (_b = (_a = (useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources.asMutable())) === null || _a === void 0 ? void 0 : _a.sort((useDs1, useDs2) => useDs1.dataSourceId.localeCompare(useDs2.dataSourceId))) === null || _b === void 0 ? void 0 : _b.map(useDataSource => {
        const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_1__.DataSourceManager.getInstance().getDataSource(useDataSource.dataSourceId);
        let item = null;
        if (dsObj) {
            item = {
                itemStateTitle: getDataSourceLabel(dsObj),
                itemStateChecked: useDataSource.dataSourceId === currentActiveJmvIdRef.current,
                itemKey: `${useDataSource.dataSourceId}`,
                itemStateDisabled: disabled
            };
        }
        else {
            item = {
                itemStateTitle: translate('none'),
                itemKey: `${useDataSource.dataSourceId}`,
                itemStateDisabled: true
            };
        }
        return item;
    });
    const getItemsJson = () => {
        if (showDefaultMapWhenEmpty && (!useDataSources || useDataSources.length === 0)) {
            return [{
                    itemStateTitle: translate('multipleMapDefaultWebMap'),
                    itemKey: 'default',
                    itemStateChecked: currentActiveJmvIdRef.current === 'default',
                    itemStateDisabled: disabled
                }];
        }
        else {
            return defaultItemsJson;
        }
    };
    jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useEffect(() => {
        if (!(jimuMapViewGroup === null || jimuMapViewGroup === void 0 ? void 0 : jimuMapViewGroup.jimuMapViews)) {
            return;
        }
        const jmvPromises = Object.keys(jimuMapViewGroup === null || jimuMapViewGroup === void 0 ? void 0 : jimuMapViewGroup.jimuMapViews).map(jmvId => {
            return jimuMapViewGroup === null || jimuMapViewGroup === void 0 ? void 0 : jimuMapViewGroup.jimuMapViews[jmvId].whenJimuMapViewLoaded();
        });
        Promise.all(jmvPromises).then(() => {
            // Get active jimuMapView when all views are ready, set to ' ' for empty map
            const activeDsId = jimuMapViewGroup === null || jimuMapViewGroup === void 0 ? void 0 : jimuMapViewGroup.getActiveJimuMapView().dataSourceId;
            setCurrentDsId(activeDsId.length > 0 ? activeDsId : ' ');
            setDefaultDsID(activeDsId.length > 0 ? activeDsId : ' ');
        }).catch(err => {
            console.error(err);
        });
    }, [jimuMapViewGroup, jimuMapViewGroup === null || jimuMapViewGroup === void 0 ? void 0 : jimuMapViewGroup.jimuMapViews]);
    // Used for switch map
    const handleClickWithSwitchMap = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useCallback((actionData, refComponent) => {
        const { itemJsons } = refComponent.props;
        const currentItemJson = itemJsons[0];
        if (isDataSourceValid && !isDataSourceValid(currentItemJson.itemKey)) {
            // Not a valid data-source, do not response to click
            return;
        }
        setCurrentDsId(currentItemJson.itemKey);
        onClick && onClick(currentItemJson.itemKey);
        if (currentActiveJmvIdRef.current === currentItemJson.itemKey) {
            currentActiveJmvIdRef.current = '';
            setShowPopper(false);
        }
        else {
            currentActiveJmvIdRef.current = currentItemJson.itemKey;
            setCurrentTitle(currentItemJson.itemStateTitle);
            setShowPopper(true);
        }
        if (!disableSwitchMap) {
            // The itemKey is dsId
            if (jimuMapViewGroup && currentItemJson.itemKey !== currentDsId) {
                jimuMapViewGroup.switchMap();
            }
        }
    }, [currentDsId, disableSwitchMap, isDataSourceValid, jimuMapViewGroup, onClick]);
    jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useEffect(() => {
        return () => {
            // Make sure previous round the popper is open, otherwise it will switch twice
            // Put this logic in cleanup func, so it will be executed even if when click the canvas (component unmount)
            if (!disableSwitchMap && showPopper && defaultDsId !== currentDsId) {
                jimuMapViewGroup.switchMap();
                setCurrentDsId(defaultDsId);
            }
        };
    }, [currentDsId, defaultDsId, disableSwitchMap, jimuMapViewGroup, showPopper]);
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)("div", { ref: containerRef, className: 'w-100 multiple-jimu-map-config-component', css: getStyle(), tabIndex: 0 }, 
    // Wait for currentDsId, so the switchMap could work correctly
    (allDataSourcesReady && currentDsId)
        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.Fragment, null,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_5__.List, Object.assign({}, restProps, { itemsJson: getItemsJson(), handleClickItemBody: handleClickWithSwitchMap, renderOverrideItemCommands: (actionData, refComponent) => {
                    const { itemJsons } = refComponent.props;
                    const [currentItemJson] = itemJsons;
                    return (isDataSourceValid && !isDataSourceValid(currentItemJson.itemKey))
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: invalidDataSourceTooltip, role: 'tooltip' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)("div", null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_2__.WarningOutlined, null)))
                        : '';
                } })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__.SidePopper, { position: 'right', isOpen: showPopper, toggle: () => {
                    setShowPopper(false);
                    currentActiveJmvIdRef.current = '';
                    containerRef === null || containerRef === void 0 ? void 0 : containerRef.current.focus();
                }, title: currentTitle, trigger: containerRef === null || containerRef === void 0 ? void 0 : containerRef.current }, sidePopperContent))
        : getSkeletonList()));
}
/**
 * This component is used for configuring one or multiple `JimuMap`. If two data sources are selected in the connected map widget,
 * clicking on the list item of this component switches the map widget's active view to the corresponding one. The switch behavior
 * is on the fly (discarded when refreshing the page).
 * Use this component by `import { MultipleJimuMapConfig } from 'jimu-ui/advanced/setting-components'`.
 */
const MultipleJimuMapConfig = _MultipleJimuMapConfig;


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/page-aware-popper.tsx":
/*!**********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/page-aware-popper.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/** @jsx jsx */
/* eslint-disable @typescript-eslint/no-unused-vars */



class PageAwarePopper extends jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.PureComponent {
    componentDidUpdate(prevProps) {
        if (this.props.pageId !== prevProps.pageId || this.props.sizemode !== prevProps.sizemode) {
            this.props.toggle();
        }
    }
    getStyle() {
        const { theme } = this.props;
        return theme && (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.css) `
      background-color: ${theme.colors.palette.light[300]};
      ${(0,jimu_theme__WEBPACK_IMPORTED_MODULE_2__.popperPointer)({
            background: theme.colors.palette.light[300],
            border: {
                color: theme.colors.palette.light[600],
                width: '1px'
            }
        })}
      > * {
        ::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }

        ::-webkit-scrollbar-track {
          background: transparent;
        }

        ::-webkit-scrollbar-thumb {
          background: ${theme.colors.palette.light[500]};
          border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
          background: ${theme.colors.palette.light[800]};
        }
      }
    `;
    }
    render() {
        const _a = this.props, { pageId, sizemode, dispatch } = _a, otherProps = __rest(_a, ["pageId", "sizemode", "dispatch"]);
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_0__.Popper, Object.assign({ css: this.getStyle() }, otherProps));
    }
}
function mapStateToProps(state) {
    return {
        pageId: state.appRuntimeInfo.currentPageId,
        sizemode: state.browserSizeMode
    };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (jimu_core__WEBPACK_IMPORTED_MODULE_1__.ReactRedux.connect(mapStateToProps)(PageAwarePopper));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/page-template-popper/index.tsx":
/*!*******************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/page-template-popper/index.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PageTemplatePopper: () => (/* binding */ PageTemplatePopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _page_template_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page-template-list */ "./jimu-ui/advanced/lib/setting-components/components/page-template-popper/page-template-list.tsx");
/* harmony import */ var _page_aware_popper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../page-aware-popper */ "./jimu-ui/advanced/lib/setting-components/components/page-aware-popper.tsx");
/** @jsx jsx */



const MODIFIERS = [
    {
        name: 'preventOverflow',
        options: {
            boundariesElement: 'viewport',
            padding: { bottom: 20 }
        }
    }
];
class PageTemplatePopper extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.togglePopper = () => {
            var _a;
            if (this.state.open && this.props.onClose) {
                this.props.onClose();
            }
            if (this.state.open) {
                (_a = this.props.referenceElement) === null || _a === void 0 ? void 0 : _a.focus();
            }
            this.setState({ open: !this.state.open });
        };
        this.tabSelect = (tabId) => {
            this.setState({ tabId: tabId });
        };
        this.onItemSelect = (templateJson) => {
            this.props.onClose();
            this.props.onItemSelect(templateJson);
        };
        this.state = {
            open: true,
            tabId: 'fullScreenApp'
        };
    }
    render() {
        const { referenceElement, theme } = this.props;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_page_aware_popper__WEBPACK_IMPORTED_MODULE_2__["default"], { placement: 'bottom', theme: this.props.theme, reference: referenceElement, offset: [0, 10], open: true, toggle: this.togglePopper, showArrow: true, modifiers: MODIFIERS, forceLatestFocusElements: true },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
            width: 390px;
            max-height: 640px;
            height: calc(100vh - 150px);
            overflow: hidden;
          ` },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_page_template_list__WEBPACK_IMPORTED_MODULE_1__.PageTemplateList, { theme: theme, tabId: this.state.tabId, onTabSelect: this.tabSelect, formatMessage: this.props.formatMessage, onItemSelect: this.onItemSelect }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/page-template-popper/page-template-list.tsx":
/*!********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/page-template-popper/page-template-list.tsx ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PageTemplateList: () => (/* binding */ PageTemplateList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder/templates */ "jimu-for-builder/templates");
/* harmony import */ var _template_selector_template_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../template-selector/template-list */ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-list.tsx");
/** @jsx jsx */




class PageTemplateList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.onTabSelect = (tabId) => {
            this.props.onTabSelect(tabId);
        };
        this.onFullScreenTypeChange = (e) => {
            this.setState({ fullScreenType: e.target.value });
        };
        this.state = { fullScreenType: 'all' };
    }
    render() {
        const { theme, formatMessage } = this.props;
        const { fullScreenType } = this.state;
        let templates = [];
        if (fullScreenType === 'fixed') {
            templates = (0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenPageTemplates)();
        }
        else if (fullScreenType === 'grid') {
            templates = (0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenGridPageTemplates)();
        }
        else {
            templates = [(0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenPageTemplates)()[0], (0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenGridPageTemplates)()[0]]
                .concat((0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenPageTemplates)().slice(1), (0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getFullScreenGridPageTemplates)().slice(1));
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { className: 'pt-4 px-5 mb-2 text-dark-600 text-truncate', title: formatMessage('addPage') }, formatMessage('addPage')),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tabs, { defaultValue: 'fullScreenApp', fill: true, type: 'underline', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
            height: calc(100% - 49px);
            width: 390px;
            .tab-content {
              height: calc(100% - 30px);
              .tab-pane {
                height: 100%;
                overflow-y: scroll;
              }
              .tab-pane:first-of-type {
                overflow-y: hidden;
              }
            }
            .jimu-nav {
              padding-left: ${theme && theme.sizes[5]};
              padding-right: ${theme && theme.sizes[5]};
            }
            .nav-item {
              width: 50%;
              .tab-title {
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
              }
            }
          `, onChange: this.onTabSelect },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: 'fullScreenApp', title: formatMessage('fullScreenApp'), className: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.FOCUSABLE_CONTAINER_CLASS },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex flex-column h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { className: 'align-self-end my-4', value: fullScreenType, "aria-label": formatMessage('page'), css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
                  width: 120px;
                  padding-right: 1.2rem;
                `, size: 'sm', onChange: this.onFullScreenTypeChange },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: 'all' }, formatMessage('all')),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: 'fixed' }, formatMessage('fixed')),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: 'grid' }, formatMessage('grid'))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_template_selector_template_list__WEBPACK_IMPORTED_MODULE_3__.TemplateList, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [jimu_ui__WEBPACK_IMPORTED_MODULE_1__.FOCUSABLE_CONTAINER_CLASS]: this.props.tabId === 'fullScreenApp' }), templates: templates, onItemSelect: this.props.onItemSelect, css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
                  height: calc(100% - 64px);
                  overflow: auto;
                  padding-top: 0;
                ` }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: 'scrollingPage', title: formatMessage('scrollingPage'), className: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.FOCUSABLE_CONTAINER_CLASS },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_template_selector_template_list__WEBPACK_IMPORTED_MODULE_3__.TemplateList, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [jimu_ui__WEBPACK_IMPORTED_MODULE_1__.FOCUSABLE_CONTAINER_CLASS]: this.props.tabId === 'scrollingPage' }), templates: (0,jimu_for_builder_templates__WEBPACK_IMPORTED_MODULE_2__.getScrollingPageTemplates)(), onItemSelect: this.props.onItemSelect })))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/index.tsx":
/*!************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/proxy-setting/index.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProxySetting: () => (/* reexport safe */ _setting__WEBPACK_IMPORTED_MODULE_1__.ProxySetting),
/* harmony export */   ProxySettingPopup: () => (/* reexport safe */ _setting_popup__WEBPACK_IMPORTED_MODULE_2__.ProxySettingPopup),
/* harmony export */   proxySettingUtils: () => (/* reexport module object */ _utils__WEBPACK_IMPORTED_MODULE_0__)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/utils.ts");
/* harmony import */ var _setting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setting */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/index.tsx");
/* harmony import */ var _setting_popup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setting-popup */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting-popup/index.tsx");






/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting-popup/index.tsx":
/*!**************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting-popup/index.tsx ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProxySettingPopup: () => (/* binding */ ProxySettingPopup)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _setting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../setting */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/index.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/utils.ts");
/* harmony import */ var jimu_ui_lib_components_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui/lib/components/types */ "./jimu-ui/lib/components/types.ts");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-core/data-source */ "jimu-core/data-source");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */







const registerAppPromise = {};
class _ProxySettingPopup extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.getProxySettingConfigs = (needProxyItems) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            const proxySettingConfigs = {};
            const appProxies = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.appProxies;
            Object.keys(needProxyItems).forEach(sourceUrl => {
                const proxyJson = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getProxyJsonFromSourceUrl)(sourceUrl, appProxies);
                if (proxyJson) {
                    // init a new proxy setting config without previous proxy url and proxy id
                    proxySettingConfigs[sourceUrl] = proxyJson.without('id').without('proxyId').without('proxyUrl');
                }
            });
            return proxySettingConfigs;
        });
        this.registerApp = () => __awaiter(this, void 0, void 0, function* () {
            var _c, _d, _e, _f;
            const appId = (_d = (_c = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _c === void 0 ? void 0 : _c.appStateInBuilder) === null || _d === void 0 ? void 0 : _d.appId;
            if (registerAppPromise[appId]) {
                return yield registerAppPromise[appId];
            }
            const portalUrl = (_f = (_e = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _e === void 0 ? void 0 : _e.appStateInBuilder) === null || _f === void 0 ? void 0 : _f.portalUrl;
            const url = `${portalUrl}/sharing/rest/oauth2/registerApp`;
            registerAppPromise[appId] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request(url, {
                authentication: jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl),
                httpMethod: 'POST',
                params: {
                    itemId: appId,
                    appType: 'browser',
                    /* eslint-disable camelcase */
                    redirect_uris: JSON.stringify([this.getAppRootUrl()])
                }
            });
            return yield registerAppPromise[appId];
        });
        this.createProxies = (proxySettingConfigs) => __awaiter(this, void 0, void 0, function* () {
            var _g, _h, _j;
            if (!proxySettingConfigs) {
                return yield Promise.resolve(null);
            }
            const appProxies = (_j = (_h = (_g = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _g === void 0 ? void 0 : _g.appStateInBuilder) === null || _h === void 0 ? void 0 : _h.appConfig) === null || _j === void 0 ? void 0 : _j.appProxies;
            const existingProxyJsons = {};
            let proxies = [];
            Object.keys(proxySettingConfigs).forEach(sourceUrl => {
                const proxyConfig = proxySettingConfigs[sourceUrl];
                if (!proxyConfig) {
                    return;
                }
                const hitsPerInterval = proxyConfig.hitsPerInterval;
                const intervalSeconds = proxyConfig.intervalSeconds;
                const existingProxyJson = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getProxyJsonFromSourceUrl)(sourceUrl, appProxies);
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_3__.isSameProxy)(existingProxyJson, sourceUrl, hitsPerInterval, intervalSeconds)) {
                    existingProxyJsons[existingProxyJson.id] = existingProxyJson;
                }
                else {
                    proxies = proxies.concat({
                        sourceUrl: sourceUrl,
                        hitsPerInterval,
                        intervalSeconds
                    });
                }
            });
            if (proxies.length === 0) { // No need to create new proxies.
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(existingProxyJsons);
            }
            const isRegistered = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.isRegisteredApp)();
            if (!isRegistered) { // Must register app before creating proxies.
                yield this.registerApp();
            }
            const serviceProxyParams = {
                referrers: [this.getAppUrl()].concat(jimu_core__WEBPACK_IMPORTED_MODULE_0__.proxyUtils.getProxyReferrers())
            };
            const createProxyUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getCreateProxyUrl)();
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request(createProxyUrl, {
                authentication: jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl),
                httpMethod: 'POST',
                params: {
                    serviceProxyParams,
                    proxies
                }
            }).then(res => {
                var _a, _b;
                const proxiesInResponse = (res === null || res === void 0 ? void 0 : res.appProxies) || [];
                const proxiesInAppConfig = existingProxyJsons;
                const appConfig = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig;
                const appProxies = appConfig === null || appConfig === void 0 ? void 0 : appConfig.appProxies;
                proxiesInResponse.forEach(p => {
                    const existingProxyJson = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getProxyJsonFromSourceUrl)(p.sourceUrl, appProxies);
                    // If have a proxy json with same source url, should update the proxy json instead of adding a new proxy json to app config.
                    const proxyJsonId = (existingProxyJson === null || existingProxyJson === void 0 ? void 0 : existingProxyJson.id) || jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils.getUniqueId(appConfig.set('appProxies', appProxies ? appProxies.merge(proxiesInAppConfig) : proxiesInAppConfig), 'appProxy');
                    proxiesInAppConfig[proxyJsonId] = Object.assign(Object.assign({}, p), { id: proxyJsonId });
                });
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(proxiesInAppConfig);
            });
        });
        this.getAppRootUrl = () => {
            var _a;
            const origin = (_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.origin;
            return origin;
        };
        this.getAppUrl = () => {
            var _a, _b, _c, _d, _e, _f;
            const appId = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appId;
            const appItem = (_d = (_c = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _c === void 0 ? void 0 : _c.appStateInBuilder) === null || _d === void 0 ? void 0 : _d.appInfo;
            const isTemplate = (appItem === null || appItem === void 0 ? void 0 : appItem.type) === 'Web Experience Template';
            const appUrlWithoutOrigin = (_e = jimu_core__WEBPACK_IMPORTED_MODULE_0__.urlUtils.getAppUrl({ appId, isTemplate })) === null || _e === void 0 ? void 0 : _e.replace(/^\//, '');
            const origin = (_f = this.getAppRootUrl()) === null || _f === void 0 ? void 0 : _f.replace(/\/$/, '');
            return `${origin}/${appUrlWithoutOrigin}`;
        };
        this.onProxyConfigChange = (proxySettingConfigs) => {
            this.setState({ proxySettingConfigs: proxySettingConfigs });
        };
        this.onFinish = () => {
            var _a, _b, _c, _d;
            this.setState({ isLoading: true });
            // New proxy settings, these settings haven't been used to create/update remote proxies yet.
            const proxySettingConfigs = this.state.proxySettingConfigs || {};
            // Existing proxy settings in app config, these settings have already been asynced to remote proxies.
            const existingProxyJsons = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.appProxies;
            const needToDeleteProxies = existingProxyJsons && Object.values(existingProxyJsons).filter(proxyJson => {
                var _a;
                let newProxyConfig = proxySettingConfigs[proxyJson === null || proxyJson === void 0 ? void 0 : proxyJson.sourceUrl];
                const isFeatureService = jimu_core_data_source__WEBPACK_IMPORTED_MODULE_6__.dataSourceJsonCreator.getDataSourceTypeFromArcGISWholeServiceUrl(proxyJson === null || proxyJson === void 0 ? void 0 : proxyJson.sourceUrl) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.FeatureService;
                if (isFeatureService) {
                    const associatedSceneServiceUrl = (_a = proxyJson === null || proxyJson === void 0 ? void 0 : proxyJson.sourceUrl) === null || _a === void 0 ? void 0 : _a.replace('/FeatureServer', '/SceneServer');
                    const newAssociatedSceneServiceConfig = proxySettingConfigs[associatedSceneServiceUrl];
                    /**
                     * If current source url is a feature service and has an associated scene service,
                     * 1. if have added the feature service as data source and configured proxy for it, should use its own proxy config
                     * 2. else use its associated scene service's proxy config
                     */
                    newProxyConfig = newProxyConfig || Object.assign(Object.assign({}, newAssociatedSceneServiceConfig), { sourceUrl: proxyJson === null || proxyJson === void 0 ? void 0 : proxyJson.sourceUrl });
                }
                /**
                 * If existing proxy's source url is not used any more, or,
                 * existing proxy is not same as new proxy config (need to create a new proxy),
                 * delete it.
                 */
                return !newProxyConfig || !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.isSameProxy)(proxyJson, newProxyConfig.sourceUrl, newProxyConfig.hitsPerInterval, newProxyConfig.intervalSeconds);
            });
            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.deleteProxies)(needToDeleteProxies === null || needToDeleteProxies === void 0 ? void 0 : needToDeleteProxies.map(proxyJson => proxyJson.proxyId), (_d = this.state) === null || _d === void 0 ? void 0 : _d.getAppConfigAction()).then(() => {
                this.createProxies(proxySettingConfigs).then(proxyJsons => {
                    var _a;
                    if (!this.__unmount) {
                        if (proxyJsons) {
                            const action = (_a = this.state) === null || _a === void 0 ? void 0 : _a.getAppConfigAction();
                            Object.keys(proxyJsons).forEach(proxyId => {
                                action === null || action === void 0 ? void 0 : action.editAppProxy(proxyJsons[proxyId]);
                            });
                            action === null || action === void 0 ? void 0 : action.exec();
                        }
                        const newAppConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder.appConfig;
                        this.props.onFinish(newAppConfig).then(() => {
                            if (!this.__unmount) {
                                setTimeout(() => {
                                    this.setState({ isLoading: false }, () => {
                                        this.props.onToggle();
                                    });
                                }, 3000); // waiting that publish success toast is hidden
                            }
                        }, () => {
                            if (!this.__unmount) {
                                setTimeout(() => {
                                    this.setState({ isLoading: false }, () => {
                                        this.props.onToggle();
                                    });
                                }, 3000); // waiting that publish error toast is hidden
                            }
                        });
                    }
                });
            }).catch(error => {
                console.error('Creating proxy failed: ', error);
                this.setState({
                    isLoading: false,
                    isError: true
                }, () => {
                    setTimeout(() => {
                        this.setState({
                            isError: false
                        });
                    }, 5500);
                });
            });
        };
        this.getTostStyle = () => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      & {
        height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};
        top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(60)};
      }
      .jimu-toast-info {
        background: ${(_d = (_c = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.colors) === null || _c === void 0 ? void 0 : _c.palette) === null || _d === void 0 ? void 0 : _d.secondary[300]};
        line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};
        color: ${(_h = (_g = (_f = (_e = this.props) === null || _e === void 0 ? void 0 : _e.theme) === null || _f === void 0 ? void 0 : _f.colors) === null || _g === void 0 ? void 0 : _g.palette) === null || _h === void 0 ? void 0 : _h.dark[800]};
        font-weight: 300;
        padding: 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
        box-shadow: 0 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba((_l = (_k = (_j = this.props) === null || _j === void 0 ? void 0 : _j.theme) === null || _k === void 0 ? void 0 : _k.colors) === null || _l === void 0 ? void 0 : _l.white, 0.2)};
      }
    `;
        };
        this.state = {
            getAppConfigAction: null,
            isLoading: false,
            isError: false,
            proxySettingConfigs: null,
            needProxyItems: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder').then(module => {
            if (!this.__unmount) {
                this.setState({
                    getAppConfigAction: module.getAppConfigAction
                });
            }
        });
        this.setState({ isLoading: true });
        this.initNeedProxyItemsAndProxySettingConfigs();
    }
    componentDidUpdate(prevProps) {
        if ((!prevProps.isOpen && this.props.isOpen) || (prevProps.appProxies !== this.props.appProxies)) {
            this.initNeedProxyItemsAndProxySettingConfigs();
        }
    }
    initNeedProxyItemsAndProxySettingConfigs() {
        return __awaiter(this, void 0, void 0, function* () {
            this.setState({ isLoading: true });
            try {
                const needProxyItems = yield (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getNeedProxyItems)();
                const proxySettingConfigs = yield this.getProxySettingConfigs(needProxyItems);
                if (!this.__unmount) {
                    this.setState({
                        proxySettingConfigs: proxySettingConfigs,
                        needProxyItems: needProxyItems,
                        isLoading: false
                    });
                }
            }
            catch (err) {
                if (!this.__unmount) {
                    this.setState({ isLoading: false });
                }
                console.error('Getting proxy config error', err);
            }
        });
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        const proxySettingConfigs = this.state.proxySettingConfigs;
        const needProxyItems = this.state.needProxyItems;
        const subscriberContentString = this.props.intl.formatMessage({ id: 'subscriberContents', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.subscriberContents });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Modal, { isOpen: this.props.isOpen, centered: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [this.props.className]: !!this.props.className }), returnfocusafterclose: 'true', contentClassName: 'proxy-setting-container', backdrop: 'static', "aria-label": subscriberContentString },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalHeader, { className: 'd-flex justify-content-between header px-30', toggle: this.props.onToggle },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate' }, subscriberContentString)),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalBody, { className: 'd-flex px-30' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_setting__WEBPACK_IMPORTED_MODULE_2__.ProxySetting, { onChange: this.onProxyConfigChange, proxySettingConfigs: proxySettingConfigs, needProxyItems: needProxyItems })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalFooter, { className: 'px-30' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'mr-2', type: 'primary', onClick: this.onFinish }, this.props.intl.formatMessage({ id: 'publish', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.publish })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'default', onClick: this.props.onCancel }, this.props.intl.formatMessage({ id: 'cancel', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.cancel }))),
            this.state.isLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui_lib_components_types__WEBPACK_IMPORTED_MODULE_4__.LoadingType.Secondary }),
            this.state.isError &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Toast, { open: this.state.isError, type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ToastType.Info, css: this.getTostStyle(), text: this.props.intl.formatMessage({ id: 'creatProxyToPublishAppError', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.creatProxyToPublishAppError }) })));
    }
}
const mapStateToProps = (state, ownProps) => {
    var _a, _b;
    return {
        appProxies: (_b = (_a = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.appProxies
    };
};
// eslint-disable-next-line
const __ProxySettingPopup = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_5__.withStyles)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_5__.withTheme)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_ProxySettingPopup)), 'ProxySettingPopup');
const ProxySettingPopup = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(__ProxySettingPopup);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/index.tsx":
/*!********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/index.tsx ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProxySetting: () => (/* binding */ ProxySetting),
/* harmony export */   _ProxySetting: () => (/* binding */ _ProxySetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _proxy_setting_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./proxy-setting-item */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/proxy-setting-item.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-core/data-source */ "jimu-core/data-source");





class _ProxySetting extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.columnName = {
            authorized: this.props.intl.formatMessage({ id: 'authorized', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.authorized }),
            subscriberContent: this.props.intl.formatMessage({ id: 'subscriberContent', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.subscriberContent }),
            credits: this.props.intl.formatMessage({ id: 'credits', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.credits }),
            requestLimit: this.props.intl.formatMessage({ id: 'requestLimit', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requestLimit }),
            requestInterval: this.props.intl.formatMessage({ id: 'requestInterval', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requestInterval })
        };
        this.onProxyChange = (sourceUrl, proxySettingConfig) => {
            const proxySettingConfigs = this.props.proxySettingConfigs || {};
            const newProxySettingConfigs = Object.assign({}, proxySettingConfigs);
            const isSceneService = jimu_core_data_source__WEBPACK_IMPORTED_MODULE_4__.dataSourceJsonCreator.getDataSourceTypeFromArcGISWholeServiceUrl(sourceUrl) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.SceneService;
            if (proxySettingConfig) {
                newProxySettingConfigs[sourceUrl] = proxySettingConfig;
                if (isSceneService) {
                    const associatedFeatureServiceSourceUrl = sourceUrl.replace('/SceneServer', '/FeatureServer');
                    const associatedFeatureServiceProxyConfig = Object.assign(Object.assign({}, proxySettingConfig), { sourceUrl: associatedFeatureServiceSourceUrl });
                    newProxySettingConfigs[associatedFeatureServiceSourceUrl] = associatedFeatureServiceProxyConfig;
                }
            }
            else {
                delete newProxySettingConfigs[sourceUrl];
                if (isSceneService) {
                    const associatedFeatureServiceSourceUrl = sourceUrl.replace('/SceneServer', '/FeatureServer');
                    delete newProxySettingConfigs[associatedFeatureServiceSourceUrl];
                }
            }
            this.props.onChange(newProxySettingConfigs);
        };
    }
    render() {
        const needProxyItems = this.props.needProxyItems;
        const proxySettingConfigs = this.props.proxySettingConfigs;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('h-100 w-100 bg-light-300', { [this.props.className]: !!this.props.className }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'subscriber-warning' }, this.props.intl.formatMessage({ id: 'subscriberWarning', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.subscriberWarning })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'secondary-title mt-5 mb-4' }, this.props.intl.formatMessage({ id: 'data', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.data })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("table", { className: 'content-table w-100' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("thead", { className: 'content-table-header container' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("tr", { className: 'row' }, Object.keys(this.columnName).map((key, i) => {
                        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("th", { key: i, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('text-truncate', { 'col-4': key === 'subscriberContent', 'col-2': key !== 'subscriberContent' }), title: this.columnName[key] }, this.columnName[key]));
                    }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("tbody", { className: 'container' }, needProxyItems && Object.keys(needProxyItems).map((sourceUrl, i) => {
                    var _a, _b;
                    const itemsWithSameSourceURl = needProxyItems[sourceUrl];
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_proxy_setting_item__WEBPACK_IMPORTED_MODULE_2__.ProxySettingItem, { isPremium: itemsWithSameSourceURl.isPremium, isSubscriber: itemsWithSameSourceURl.isSubscriber, sourceUrl: sourceUrl, intl: this.props.intl, key: i, onChange: this.onProxyChange, label: (_b = (_a = itemsWithSameSourceURl.items) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.label, proxySettingConfig: proxySettingConfigs === null || proxySettingConfigs === void 0 ? void 0 : proxySettingConfigs[sourceUrl] }));
                })))));
    }
}
const ProxySetting = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.withStyles)(_ProxySetting, 'ProxySetting'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/proxy-setting-item.tsx":
/*!*********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/proxy-setting/setting/proxy-setting-item.tsx ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProxySettingItem: () => (/* binding */ ProxySettingItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_application_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/application/check */ "./jimu-icons/outlined/application/check.tsx");



const MIN_HITS_PER_INTERVAL = 1;
class ProxySettingItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.interval = {
            none: this.props.intl.formatMessage({ id: 'intervalNone', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.intervalNone }),
            second: this.props.intl.formatMessage({ id: 'intervalSecond', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.intervalSecond }),
            minute: this.props.intl.formatMessage({ id: 'intervalMinute', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.intervalMinute }),
            hour: this.props.intl.formatMessage({ id: 'intervalHour', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.intervalHour }),
            day: this.props.intl.formatMessage({ id: 'intervalDay', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.intervalDay })
        };
        this.setIsHostedInSamePortal = () => {
            this.props.sourceUrl && jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance().fetchServiceInfo(this.props.sourceUrl).then(res => {
                if (!this.__unmount) {
                    this.setState({ isHostedInSamePortal: res.isHostedInSamePortal });
                }
            });
        };
        this.onToggleProxy = () => {
            let newProxyConfig;
            if (this.props.proxySettingConfig) {
                newProxyConfig = null;
            }
            else {
                newProxyConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ sourceUrl: this.props.sourceUrl });
            }
            this.props.onChange(this.props.sourceUrl, newProxyConfig);
        };
        this.onHitsPerInervalChange = (value) => {
            const hitsPerInterval = value;
            const config = {
                sourceUrl: this.props.sourceUrl,
                hitsPerInterval
            };
            const newProxyConfig = this.props.proxySettingConfig ? Object.assign(Object.assign({}, this.props.proxySettingConfig), config) : config;
            this.props.onChange(this.props.sourceUrl, newProxyConfig);
        };
        this.onIntervalUnitChange = e => {
            const intervalUnit = e.target.value;
            const intervalSeconds = this.getIntervalSeconds(intervalUnit);
            const config = {
                sourceUrl: this.props.sourceUrl,
                intervalSeconds
            };
            const newProxyConfig = this.props.proxySettingConfig ? Object.assign(Object.assign({}, this.props.proxySettingConfig), config) : config;
            this.props.onChange(this.props.sourceUrl, newProxyConfig);
        };
        this.state = {
            isHostedInSamePortal: true
        };
    }
    componentDidMount() {
        this.__unmount = false;
        this.setIsHostedInSamePortal();
    }
    componentDidUpdate(prevProps) {
        this.__unmount = false;
        if (prevProps.sourceUrl !== this.props.sourceUrl) {
            this.setIsHostedInSamePortal();
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    getIntervalUnit(intervalSeconds) {
        if (!intervalSeconds) {
            return 'none';
        }
        switch (intervalSeconds) {
            case 1:
                return 'second';
            case 60:
                return 'minute';
            case 3600:
                return 'hour';
            case 86400:
                return 'day';
            default:
                return 'none';
        }
    }
    getIntervalSeconds(intervalUnit) {
        if (!intervalUnit) {
            return null;
        }
        switch (intervalUnit) {
            case 'second':
                return 1;
            case 'minute':
                return 60;
            case 'hour':
                return 3600;
            case 'day':
                return 86400;
            default:
                return null;
        }
    }
    render() {
        var _a, _b;
        if (!this.props.sourceUrl) {
            return null;
        }
        const label = this.props.label;
        const useProxy = !!this.props.proxySettingConfig;
        const selectedIntervalUnit = this.getIntervalUnit((_a = this.props.proxySettingConfig) === null || _a === void 0 ? void 0 : _a.intervalSeconds);
        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();
        const sourceUrlWithToken = `${this.props.sourceUrl}?token=${session.token}`;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("tr", { className: 'row m-0 content-table-tr' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("td", { className: 'col-2', title: !this.state.isHostedInSamePortal ? this.props.intl.formatMessage({ id: 'disabledProxyTooltip', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.disabledProxyTooltip }) : null },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Switch, { onChange: this.onToggleProxy, checked: useProxy, className: 'mr-2', disabled: !this.state.isHostedInSamePortal, "aria-label": this.props.intl.formatMessage({ id: 'authorized', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.authorized }), "aria-checked": useProxy })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("td", { className: 'col-4', title: label },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Link, { to: sourceUrlWithToken, target: '_blank', className: 'font-size-13 px-0 text-truncate d-block text-left', "aria-label": this.props.intl.formatMessage({ id: 'subscriberContent', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.subscriberContent }) }, label)),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("td", { className: 'col-2' }, this.props.isPremium && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_application_check__WEBPACK_IMPORTED_MODULE_2__.CheckOutlined, { size: 'm' })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("td", { className: 'col-2' }, useProxy &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NumericInput, { size: 'sm', value: (_b = this.props.proxySettingConfig) === null || _b === void 0 ? void 0 : _b.hitsPerInterval, onChange: this.onHitsPerInervalChange, precision: 0, min: MIN_HITS_PER_INTERVAL, className: 'request-limit', "aria-label": this.props.intl.formatMessage({ id: 'requestLimit', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requestLimit }) })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("td", { className: 'col-2' }, useProxy &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: selectedIntervalUnit, onChange: this.onIntervalUnitChange, size: 'sm', className: 'request-interval', "aria-label": this.props.intl.formatMessage({ id: 'requestInterval', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requestInterval }) }, Object.keys(this.interval).map((intv, i) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { value: intv, key: i, selected: intv === selectedIntervalUnit }, this.interval[intv]))))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/utils.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/proxy-setting/utils.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deleteProxies: () => (/* binding */ deleteProxies),
/* harmony export */   getCreateProxyUrl: () => (/* binding */ getCreateProxyUrl),
/* harmony export */   getDeleteProxyUrl: () => (/* binding */ getDeleteProxyUrl),
/* harmony export */   getNeedProxyDataSources: () => (/* binding */ getNeedProxyDataSources),
/* harmony export */   getNeedProxyItems: () => (/* binding */ getNeedProxyItems),
/* harmony export */   getNeedProxyUtilities: () => (/* binding */ getNeedProxyUtilities),
/* harmony export */   getProxyJsonFromSourceUrl: () => (/* binding */ getProxyJsonFromSourceUrl),
/* harmony export */   getProxyRootUrl: () => (/* binding */ getProxyRootUrl),
/* harmony export */   isRegisteredApp: () => (/* binding */ isRegisteredApp),
/* harmony export */   isSameProxy: () => (/* binding */ isSameProxy),
/* harmony export */   needToConfigProxy: () => (/* binding */ needToConfigProxy)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/data-source-selector */ "jimu-ui/advanced/data-source-selector");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


function getNeedProxyItems() {
    return __awaiter(this, void 0, void 0, function* () {
        const needProxyDataSources = yield getNeedProxyDataSources();
        const needProxyUtilities = yield getNeedProxyUtilities();
        const needProxyItems = {};
        Object.keys(needProxyDataSources).forEach(sourceUrl => {
            if (!needProxyItems[sourceUrl]) {
                needProxyItems[sourceUrl] = { items: [], isPremium: needProxyDataSources[sourceUrl].isPremium, isSubscriber: needProxyDataSources[sourceUrl].isSubscriber };
            }
            needProxyItems[sourceUrl].items = needProxyItems[sourceUrl].items.concat(needProxyDataSources[sourceUrl].dataSources.map(ds => ({ label: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getLabelFromArcGISServiceUrl(sourceUrl), id: ds.id })));
        });
        Object.keys(needProxyUtilities).forEach(sourceUrl => {
            if (!needProxyItems[sourceUrl]) {
                needProxyItems[sourceUrl] = { items: [], isPremium: needProxyUtilities[sourceUrl].isPremium, isSubscriber: needProxyUtilities[sourceUrl].isSubscriber };
            }
            needProxyItems[sourceUrl].items = needProxyItems[sourceUrl].items.concat(needProxyUtilities[sourceUrl].utilities.map(u => {
                const utilityJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__.UtilityManager.getInstance().getUtilityJson(u.utilityId);
                return { label: (utilityJson === null || utilityJson === void 0 ? void 0 : utilityJson.label) || (utilityJson === null || utilityJson === void 0 ? void 0 : utilityJson.name) || (utilityJson === null || utilityJson === void 0 ? void 0 : utilityJson.sourceLabel), id: u.utilityId };
            }));
        });
        return needProxyItems;
    });
}
function getNeedProxyDataSources() {
    var _a, _b, _c, _d;
    return __awaiter(this, void 0, void 0, function* () {
        const dataSourceJsons = (_d = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)()) === null || _a === void 0 ? void 0 : _a.getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig) === null || _d === void 0 ? void 0 : _d.dataSources;
        const checkPromises = [];
        if (dataSourceJsons) {
            Object.keys(dataSourceJsons).forEach(dsId => {
                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
                checkPromises.push(traverseToGetNeedProxyDataSources(ds));
            });
        }
        return Promise.allSettled(checkPromises).then(checkResultArr => {
            let finalResult = {};
            const fulfilledResults = checkResultArr.filter(c => c.status === 'fulfilled')
                .map(c => c.value);
            fulfilledResults.forEach(res => {
                res && Object.keys(res).forEach(sourceUrl => {
                    if (!finalResult[sourceUrl]) {
                        finalResult = Object.assign(Object.assign({}, finalResult), res);
                    }
                    else {
                        finalResult[sourceUrl].dataSources = finalResult[sourceUrl].dataSources.concat(res[sourceUrl].dataSources);
                    }
                });
            });
            return finalResult;
        });
    });
}
function getNeedProxyUtilities() {
    var _a, _b, _c, _d;
    return __awaiter(this, void 0, void 0, function* () {
        const utilityJsons = (_d = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)()) === null || _a === void 0 ? void 0 : _a.getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig) === null || _d === void 0 ? void 0 : _d.utilities;
        const checkPromises = [];
        if (utilityJsons) {
            Object.keys(utilityJsons).forEach(uId => {
                checkPromises.push(getSingleNeedProxyUtility(utilityJsons[uId]));
            });
        }
        return Promise.allSettled(checkPromises).then(checkResultArr => {
            let finalResult = {};
            const fulfilledResults = checkResultArr.filter(c => c.status === 'fulfilled')
                .map(c => c.value);
            fulfilledResults.forEach(res => {
                res && Object.keys(res).forEach(sourceUrl => {
                    if (!finalResult[sourceUrl]) {
                        finalResult = Object.assign(Object.assign({}, finalResult), res);
                    }
                    else {
                        finalResult[sourceUrl].utilities = finalResult[sourceUrl].utilities.concat(res[sourceUrl].utilities);
                    }
                });
            });
            return finalResult;
        });
    });
}
/**
 * If forceToCreateProxy is true, will force to create proxy for all subscriber descendant data sources.
 */
function traverseToGetNeedProxyDataSources(dataSource, forceToCreateProxy = false) {
    var _a, _b, _c, _d, _e, _f;
    return __awaiter(this, void 0, void 0, function* () {
        const result = {};
        if (!dataSource) {
            return result;
        }
        if (dataSource.isDataSourceSet && !dataSource.areChildDataSourcesCreated()) {
            // If is data source set, will wait util all child data sources are created.
            yield dataSource.childDataSourcesReady();
        }
        const widgets = (_d = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)()) === null || _a === void 0 ? void 0 : _a.getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig) === null || _d === void 0 ? void 0 : _d.widgets;
        const isMainDs = ((_e = dataSource.getMainDataSource()) === null || _e === void 0 ? void 0 : _e.id) === dataSource.id;
        const isUsed = jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_1__.dataComponentsUtils.getWidgetsUsingDsOrItsViews(dataSource.id, widgets, false).length > 0;
        const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getFullArcGISServiceUrl((_f = dataSource.getDataSourceJson()) === null || _f === void 0 ? void 0 : _f.url, false);
        if (isMainDs && sourceUrl && (forceToCreateProxy || isUsed)) {
            const isPrm = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.proxyUtils.isDataSourcePremium(dataSource.getDataSourceJson());
            const isSub = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.proxyUtils.isDataSourceSubscriber(dataSource.getDataSourceJson());
            if (isPrm || isSub) {
                result[sourceUrl] = {
                    dataSources: [dataSource],
                    isPremium: isPrm,
                    isSubscriber: isSub
                };
            }
        }
        const checkChildDssPromises = [];
        if (isMainDs && dataSource.isDataSourceSet) {
            const isMap = dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebMap || dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebScene;
            // If is a webmap/webscene data source and is used (currently only map widget), will force to create proxies for all subscriber descendant data sources.
            // Because map widget will load all layers.
            const allChildDataSourcesNeedProxy = (isMap && isUsed) || forceToCreateProxy;
            dataSource.getChildDataSources().forEach(childDs => {
                checkChildDssPromises.push(traverseToGetNeedProxyDataSources(childDs, allChildDataSourcesNeedProxy));
            });
        }
        return Promise.allSettled(checkChildDssPromises).then(checkChildDssResultArr => {
            let parentAndChildrenRes = result;
            const fulfilledChildDssResults = checkChildDssResultArr.filter(c => c.status === 'fulfilled')
                .map(c => c.value);
            fulfilledChildDssResults.forEach(res => {
                res && Object.keys(res).forEach(sourceUrl => {
                    if (!parentAndChildrenRes[sourceUrl]) {
                        parentAndChildrenRes = Object.assign(Object.assign({}, parentAndChildrenRes), res);
                    }
                    else {
                        parentAndChildrenRes[sourceUrl].dataSources = parentAndChildrenRes[sourceUrl].dataSources.concat(res[sourceUrl].dataSources);
                    }
                });
            });
            return parentAndChildrenRes;
        });
    });
}
function getSingleNeedProxyUtility(utilityJson) {
    var _a, _b, _c, _d;
    return __awaiter(this, void 0, void 0, function* () {
        const result = {};
        if (!utilityJson) {
            return result;
        }
        const widgets = (_d = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)()) === null || _a === void 0 ? void 0 : _a.getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig) === null || _d === void 0 ? void 0 : _d.widgets;
        const isUsed = widgets && Object.values(widgets).some(w => { var _a; return (_a = w.useUtilities) === null || _a === void 0 ? void 0 : _a.some(u => u.utilityId === utilityJson.id); });
        const sourceUrl = utilityJson.url;
        if (sourceUrl && isUsed) {
            const isPrm = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.proxyUtils.isUtilityPremium(utilityJson);
            const isSub = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.proxyUtils.isUtilitySubscriber(utilityJson);
            if (isPrm || isSub) {
                const utility = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.UtilityManager.getInstance().getUtility(utilityJson.id);
                result[sourceUrl] = {
                    utilities: [utility],
                    isPremium: isPrm,
                    isSubscriber: isSub
                };
            }
        }
        return result;
    });
}
function getProxyJsonFromSourceUrl(sourceUrl, appProxies) {
    var _a;
    if (!sourceUrl || !appProxies) {
        return null;
    }
    let proxy = null;
    for (const proxyId in appProxies) {
        if (((_a = appProxies[proxyId]) === null || _a === void 0 ? void 0 : _a.sourceUrl) === sourceUrl) {
            proxy = appProxies[proxyId];
            break;
        }
    }
    return proxy;
}
function isSameProxy(existingProxyJson, sourceUrl, hitsPerInterval, intervalSeconds) {
    if (!existingProxyJson || !sourceUrl) {
        return false;
    }
    const isSourceUrlSame = existingProxyJson.sourceUrl === sourceUrl;
    if (!isSourceUrlSame) {
        return false;
    }
    const isLimitSame = (!existingProxyJson.hitsPerInterval && !hitsPerInterval) || (existingProxyJson.hitsPerInterval === hitsPerInterval);
    if (!isLimitSame) {
        return false;
    }
    const isIntervalSame = (!existingProxyJson.intervalSeconds && !intervalSeconds) || (existingProxyJson.intervalSeconds === intervalSeconds);
    if (!isIntervalSame) {
        return false;
    }
    return true;
}
function isRegisteredApp() {
    var _a, _b;
    const appItem = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder.appInfo;
    const isRegisteredAppCache = (_b = appItem === null || appItem === void 0 ? void 0 : appItem.typeKeywords) === null || _b === void 0 ? void 0 : _b.includes('Registered App');
    return isRegisteredAppCache;
}
function needToConfigProxy() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    return __awaiter(this, void 0, void 0, function* () {
        const isOnline = !((_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appContext) === null || _b === void 0 ? void 0 : _b.jimuConfig) === null || _c === void 0 ? void 0 : _c.isInPortal) &&
            !((_f = (_e = (_d = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _d === void 0 ? void 0 : _d.appContext) === null || _e === void 0 ? void 0 : _e.jimuConfig) === null || _f === void 0 ? void 0 : _f.isDevEdition);
        if (!isOnline) {
            return yield Promise.resolve(false);
        }
        const isRegistered = isRegisteredApp();
        let isOwner = false;
        if (!isRegistered) {
            const appItem = (_g = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _g === void 0 ? void 0 : _g.appStateInBuilder.appInfo;
            const currentUser = (_k = (_j = (_h = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _h === void 0 ? void 0 : _h.appStateInBuilder) === null || _j === void 0 ? void 0 : _j.user) === null || _k === void 0 ? void 0 : _k.username;
            isOwner = (appItem === null || appItem === void 0 ? void 0 : appItem.owner) === currentUser;
        }
        const canCreateProxy = isRegistered || isOwner;
        if (!canCreateProxy) {
            return yield Promise.resolve(false);
        }
        const needProxyItems = yield getNeedProxyItems();
        const checkIsSourceUrlHostedInSamePortal = Object.keys(needProxyItems).map((sourceUrl) => __awaiter(this, void 0, void 0, function* () { return yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance().fetchServiceInfo(sourceUrl).then(res => res.isHostedInSamePortal); }));
        return Promise.allSettled(checkIsSourceUrlHostedInSamePortal)
            .then(checkResults => checkResults.filter(c => c.status === 'fulfilled').map(c => c.value))
            .then(res => (res === null || res === void 0 ? void 0 : res.length) > 0 && (res === null || res === void 0 ? void 0 : res.some(r => r)));
    });
}
function deleteProxies(proxyIds, action) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!proxyIds || proxyIds.length === 0 || !action) {
            yield Promise.resolve();
            return;
        }
        const deleteProxyUrl = getDeleteProxyUrl();
        yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request(deleteProxyUrl, {
            authentication: jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl),
            httpMethod: 'POST',
            params: {
                proxies: proxyIds.join()
            }
        }).then((res) => __awaiter(this, void 0, void 0, function* () {
            var _a;
            res.results && Object.values(res.results).forEach((r) => {
                if (r.success) { // remove proxy json in app config which has been delete in origin
                    removeAppProxiesInConfig(r.proxyId, action);
                }
            });
            action === null || action === void 0 ? void 0 : action.exec();
            if ((_a = res.results) === null || _a === void 0 ? void 0 : _a.every(r => r.success === true)) {
                return Promise.resolve();
            }
            else {
                return Promise.reject(`Deleting existing proxy failed: ${JSON.stringify(res)}`);
            }
        })).catch((err) => __awaiter(this, void 0, void 0, function* () {
            proxyIds.forEach(proxyId => {
                removeAppProxiesInConfig(proxyId, action);
            });
            action === null || action === void 0 ? void 0 : action.exec();
            return Promise.reject(`Deleting existing proxy failed: ${JSON.stringify(err)}`);
        }));
    });
}
/**
 * proxyId is the id of created proxy, it is saved in `appProxies` in the app config.
 */
function removeAppProxiesInConfig(proxyId, action) {
    var _a, _b, _c;
    const existingProxyJsons = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.appProxies;
    const proxyJson = existingProxyJsons && Object.values(existingProxyJsons).find(p => p.proxyId === proxyId);
    proxyJson && (action === null || action === void 0 ? void 0 : action.removeAppProxy(proxyJson.id));
}
function getProxyRootUrl() {
    var _a, _b, _c, _d, _e, _f, _g;
    const portalUrl = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.portalUrl;
    const appId = (_d = (_c = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _c === void 0 ? void 0 : _c.appStateInBuilder) === null || _d === void 0 ? void 0 : _d.appId;
    const owner = (_g = (_f = (_e = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _e === void 0 ? void 0 : _e.appStateInBuilder) === null || _f === void 0 ? void 0 : _f.appInfo) === null || _g === void 0 ? void 0 : _g.owner;
    return `${portalUrl}/sharing/rest/content/users/${owner}/items/${appId}`;
}
function getCreateProxyUrl() {
    const rootUrl = getProxyRootUrl();
    return `${rootUrl}/createProxies`;
}
function getDeleteProxyUrl() {
    const rootUrl = getProxyRootUrl();
    return `${rootUrl}/deleteProxies`;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/quick-style/index.ts":
/*!*********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/quick-style/index.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NavQuickStyleItem: () => (/* reexport safe */ _nav_quick_style_item__WEBPACK_IMPORTED_MODULE_0__.NavQuickStyleItem),
/* harmony export */   QuickStylePopper: () => (/* reexport safe */ _quick_style_popper__WEBPACK_IMPORTED_MODULE_1__.QuickStylePopper)
/* harmony export */ });
/* harmony import */ var _nav_quick_style_item__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nav-quick-style-item */ "./jimu-ui/advanced/lib/setting-components/components/quick-style/nav-quick-style-item.tsx");
/* harmony import */ var _quick_style_popper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quick-style-popper */ "./jimu-ui/advanced/lib/setting-components/components/quick-style/quick-style-popper.tsx");




/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/quick-style/nav-quick-style-item.tsx":
/*!*************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/quick-style/nav-quick-style-item.tsx ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NavQuickStyleItem: () => (/* binding */ NavQuickStyleItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/** @jsx jsx */


const useStyle = () => {
    var _a, _b, _c;
    const theme = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();
    const primary600 = (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.palette.primary[600];
    const light200 = (_b = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _b === void 0 ? void 0 : _b.palette.light[200];
    const black = (_c = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _c === void 0 ? void 0 : _c.black;
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      width: 100%;
      height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(50)};
      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)}  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      display: flex;
      align-items: center;
      justify-content: center;
      color: ${black};
      background-color: ${light200};
      position: relative;
      &.selected {
        outline: 3px solid ${primary600};
      }
      >.overlay {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }
  `;
    }, [primary600, light200, black]);
};
const NavQuickStyleItem = (props) => {
    const { title, children, selected, onClick } = props;
    const style = useStyle();
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: style, title: title, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('quick-style-item', { selected }), onClick: onClick },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'overlay' }),
        children));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/quick-style/quick-style-popper.tsx":
/*!***********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/quick-style/quick-style-popper.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QuickStylePopper: () => (/* binding */ QuickStylePopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _setting_popper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setting-popper */ "./jimu-ui/advanced/lib/setting-components/components/quick-style/setting-popper.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const QuickStylePopper = (props) => {
    const { onClose, children, floating } = props, others = __rest(props, ["onClose", "children", "floating"]);
    const translate = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
    const headerTitle = translate('quickStyle');
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_setting_popper__WEBPACK_IMPORTED_MODULE_2__.SettingPopper, Object.assign({}, others, { headerTitle: floating ? headerTitle : '', onHeaderClose: onClose }),
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
            !floating && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.PanelHeader, { className: 'px-4 py-2', title: headerTitle, onClose: onClose }),
            children)));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/quick-style/setting-popper.tsx":
/*!*******************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/quick-style/setting-popper.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingPopper: () => (/* binding */ SettingPopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const MODIFIERS = [
    {
        name: 'preventOverflow',
        options: {
            altAxis: true
        }
    }, {
        name: 'flip',
        options: {
            fallbackPlacements: ['bottom-end', 'top-end']
        }
    }
];
const Root = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.styled)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Popper)(() => {
    var _a, _b, _c, _d;
    const theme2 = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getTheme2)();
    const dark600 = (_a = theme2 === null || theme2 === void 0 ? void 0 : theme2.colors) === null || _a === void 0 ? void 0 : _a.palette.dark[600];
    const dark800 = (_b = theme2 === null || theme2 === void 0 ? void 0 : theme2.colors) === null || _b === void 0 ? void 0 : _b.palette.dark[800];
    const light300 = (_c = theme2 === null || theme2 === void 0 ? void 0 : theme2.colors) === null || _c === void 0 ? void 0 : _c.palette.light[300];
    const light600 = (_d = theme2 === null || theme2 === void 0 ? void 0 : theme2.colors) === null || _d === void 0 ? void 0 : _d.palette.light[600];
    return `
    background-color: ${light300};
    color: ${dark600};
    border: 1px solid ${light600};
    > .popper-box {
      > .panel-header {
        color: ${dark600};
        .action-btn {
          color: ${dark600};
          &:hover {
            color: ${dark800};
          }
        }
      }
    }
  `;
});
const SettingPopper = (props) => {
    const { className, placement = 'right-start', popperNodeRef, onInitResizeHandler, onInitDragHandler, version: propVersion, modifiers: propModifiers } = props, others = __rest(props, ["className", "placement", "popperNodeRef", "onInitResizeHandler", "onInitDragHandler", "version", "modifiers"]);
    const ref = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(null);
    const handleRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useForkRef(popperNodeRef, ref);
    const [version, setVersion] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useControlled({ controlled: propVersion, default: 0 });
    const modifiers = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        return [
            ...MODIFIERS,
            ...(propModifiers !== null && propModifiers !== void 0 ? propModifiers : [])
        ];
    }, [propModifiers]);
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        onInitResizeHandler === null || onInitResizeHandler === void 0 ? void 0 : onInitResizeHandler(() => {
            var _a;
            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.classList.add('d-none');
        }, null, () => {
            var _a;
            setVersion(v => v + 1);
            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.classList.remove('d-none');
        });
    }, [onInitResizeHandler, setVersion]);
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        onInitDragHandler === null || onInitDragHandler === void 0 ? void 0 : onInitDragHandler(() => {
            var _a;
            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.classList.add('d-none');
        }, null, () => {
            var _a;
            setVersion(v => v + 1);
            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.classList.remove('d-none');
        });
    }, [onInitDragHandler, setVersion]);
    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(Root, Object.assign({ className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('shadow-2', className), modifiers: modifiers, placement: placement, popperNodeRef: handleRef, version: version }, others)));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/radio-group/index.tsx":
/*!**********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/radio-group/index.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RadioGroup: () => (/* binding */ RadioGroup),
/* harmony export */   _RadioGroup: () => (/* binding */ _RadioGroup)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



class _RadioGroup extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = { value: this.props.value };
        this.onRadioButtonChange = (evt) => {
            const value = evt.target.value;
            if (this.state.value === value)
                return;
            this.setState({
                value: value
            });
            if (this.props.onChange) {
                this.props.onChange(value);
            }
        };
        _RadioGroup.count++;
        this.inputName = `setting-radiogroup-${_RadioGroup.count}`;
    }
    render() {
        const _a = this.props, { options, className } = _a, otherProps = __rest(_a, ["options", "className"]);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.FormGroup, Object.assign({}, otherProps, { onChange: this.onRadioButtonChange, className: `setting--button-group ${className}` }), options.map(option => {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { key: option.value },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Radio, { value: option.value, name: this.inputName, checked: this.state.value === option.value }),
                option.content));
        })));
    }
}
_RadioGroup.count = 0;
const RadioGroup = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_RadioGroup, 'RadioGroup');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/datasource-list.tsx":
/*!***********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/datasource-list.tsx ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/basic/list-tree */ "jimu-ui/basic/list-tree");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const { useState, useRef } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
const IconClose = __webpack_require__(/*! jimu-icons/svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
  .warning-alert-con {
    padding: 0 !important;
  }
  .warning-alert-con .jimu-icon-component {
    color: var(--warning-700) !important;
  }
`;
const DatasourceList = (props) => {
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages, jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages);
    const isLoadDatasourceSelector = useRef(false);
    const dataComponentsUtilsRef = useRef(null);
    const DataSourceRemoveWaringReasonRef = useRef(null);
    const { className, datasourceConfig, useDataSources, dsConfigItemIndex, createOutputDs, showSourcePanel, showNewSourceItem, id, dataSourceCreateStatus, onDsConfigIdChange, updateConfigForLayerOptions, hideSidePopper } = props;
    const widgetsJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => { var _a, _b, _c; return (_c = (_b = (_a = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.widgets) === null || _c === void 0 ? void 0 : _c[id]; });
    const widgets = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => { var _a, _b; return (_b = (_a = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.widgets; });
    const AdvancedActionMap = {
        overrideItemBlockInfo: ({ itemBlockInfo }, refComponent) => {
            return {
                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItem,
                children: [{
                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemDroppableContainer,
                        children: [{
                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemDraggableContainer,
                                children: [{
                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemBody,
                                        children: [{
                                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemMainLine,
                                                children: [{
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemDragHandle
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemIcon,
                                                        autoCollapsed: true
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemTitle
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemDetailToggle
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.TreeItemActionType.RenderOverrideItemCommands
                                                    }]
                                            }]
                                    }]
                            }]
                    }]
            };
        }
    };
    const [dsToRemove, setDsToRemove] = useState(null);
    const [removeDsIndex, setRemoveDsIndex] = useState(null);
    const [showRemoveSearchItemWarning, setShowRemoveSearchItemWarning] = useState(false);
    const [DataSourceRemoveWarningPopup, setDataSourceRemoveWarningPopup] = useState(null);
    const loadDatasourceSelector = () => __awaiter(void 0, void 0, void 0, function* () {
        if (isLoadDatasourceSelector.current) {
            return false;
        }
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-ui/advanced/data-source-selector').then(module => {
            isLoadDatasourceSelector.current = true;
            dataComponentsUtilsRef.current = module.dataComponentsUtils;
            DataSourceRemoveWaringReasonRef.current = module.DataSourceRemoveWaringReason;
            setDataSourceRemoveWarningPopup(module.DataSourceRemoveWarningPopup);
            return Promise.resolve(true);
        });
    });
    const checkIsUtilityAvaible = (dsConfigItem, utilityStates) => {
        var _a, _b;
        if ((dsConfigItem === null || dsConfigItem === void 0 ? void 0 : dsConfigItem.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.FeatureService)
            return false;
        const utilityId = (_a = dsConfigItem === null || dsConfigItem === void 0 ? void 0 : dsConfigItem.useUtility) === null || _a === void 0 ? void 0 : _a.utilityId;
        if (!utilityId)
            return false;
        const isValid = (_b = utilityStates === null || utilityStates === void 0 ? void 0 : utilityStates[utilityId]) !== null && _b !== void 0 ? _b : true;
        return isValid;
    };
    const utilityAvaibleState = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => {
        var _a, _b;
        const utilityAvaibleState = {};
        const utilityStates = ((_b = (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo) === null || _b === void 0 ? void 0 : _b.utilityStates) || {};
        datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.forEach(item => {
            if ((item === null || item === void 0 ? void 0 : item.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService) {
                utilityAvaibleState[item.configId] = checkIsUtilityAvaible(item === null || item === void 0 ? void 0 : item.asMutable({ deep: true }), utilityStates);
            }
        });
        return utilityAvaibleState;
    });
    const hideRemovePopup = () => {
        setShowRemoveSearchItemWarning(!showRemoveSearchItemWarning);
    };
    const beforeRemovingDataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useEventCallback(() => {
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(removeDsIndex, 1);
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
        hideSidePopper();
    });
    const afterRemovingDataSource = () => {
        setDsToRemove(null);
        setRemoveDsIndex(null);
        setShowRemoveSearchItemWarning(false);
    };
    const isDataSourceAccessible = (dataSourceId, isOutputDs = false) => {
        let isDataSourceInProps;
        let isDataSourceAccessible = true;
        if (isOutputDs) {
            const outputDs = (widgetsJson === null || widgetsJson === void 0 ? void 0 : widgetsJson.outputDataSources) || [];
            isDataSourceInProps = (outputDs === null || outputDs === void 0 ? void 0 : outputDs.filter(dsId => dataSourceId === dsId).length) > 0;
        }
        else {
            isDataSourceInProps = (useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources.filter(useDs => dataSourceId === useDs.dataSourceId).length) > 0;
        }
        if (typeof (dataSourceCreateStatus === null || dataSourceCreateStatus === void 0 ? void 0 : dataSourceCreateStatus[dataSourceId]) === 'boolean' && !(dataSourceCreateStatus === null || dataSourceCreateStatus === void 0 ? void 0 : dataSourceCreateStatus[dataSourceId])) {
            isDataSourceAccessible = false;
        }
        return isDataSourceInProps && dataSourceId && isDataSourceAccessible;
    };
    const onRemoveLayerButtonClick = (dsIndex) => {
        var _a;
        const isOutputDs = ((_a = datasourceConfig[dsIndex]) === null || _a === void 0 ? void 0 : _a.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService;
        if (!isOutputDs) {
            removeDsItem(dsIndex);
        }
        else {
            if (isLoadDatasourceSelector.current) {
                removeOutpuDs(dsIndex);
            }
            else {
                loadDatasourceSelector().then(() => {
                    removeOutpuDs(dsIndex);
                });
            }
        }
    };
    const removeOutpuDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useEventCallback((dsIndex) => {
        const outputDataSourceId = datasourceConfig[dsIndex].outputDataSourceId;
        const relatedWidgets = dataComponentsUtilsRef.current.getWidgetsUsingDsOrItsDescendantDss(outputDataSourceId, widgets);
        if (relatedWidgets.length === 0) {
            removeDsItem(dsIndex);
        }
        else {
            setDsToRemove(outputDataSourceId);
            setShowRemoveSearchItemWarning(true);
            setRemoveDsIndex(dsIndex);
        }
    });
    const removeDsItem = (dsIndex) => {
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(dsIndex, 1);
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
        hideSidePopper();
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `w-100 mt-2 ${className || ''}`, css: STYLE },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.List, Object.assign({ className: 'w-100', itemsJson: Array.from(datasourceConfig).map((item, index) => {
                var _a;
                return ({
                    itemStateDetailContent: item,
                    itemKey: `${index}`,
                    itemStateChecked: showSourcePanel && index === dsConfigItemIndex,
                    itemStateTitle: item === null || item === void 0 ? void 0 : item.label,
                    itemStateIcon: { icon: (_a = item.icon) === null || _a === void 0 ? void 0 : _a.svg },
                    itemStateCommands: [
                        {
                            label: nls('deleteOption'),
                            iconProps: () => ({ icon: IconClose, size: 12 }),
                            action: () => {
                                onRemoveLayerButtonClick(index);
                            }
                        }
                    ]
                });
            }), dndEnabled: true, renderOverrideItemDetailToggle: (actionData, refComponent) => {
                var _a;
                const { itemJsons } = refComponent.props;
                const [currentItemJson] = itemJsons;
                const itemStateDetailContent = currentItemJson === null || currentItemJson === void 0 ? void 0 : currentItemJson.itemStateDetailContent;
                const isGeocodeService = (itemStateDetailContent === null || itemStateDetailContent === void 0 ? void 0 : itemStateDetailContent.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService;
                const dsId = isGeocodeService ? itemStateDetailContent === null || itemStateDetailContent === void 0 ? void 0 : itemStateDetailContent.outputDataSourceId : (_a = itemStateDetailContent === null || itemStateDetailContent === void 0 ? void 0 : itemStateDetailContent.useDataSource) === null || _a === void 0 ? void 0 : _a.dataSourceId;
                const isDataError = createOutputDs ? !isDataSourceAccessible(dsId, isGeocodeService) : false;
                const isUtilityAvaible = utilityAvaibleState === null || utilityAvaibleState === void 0 ? void 0 : utilityAvaibleState[itemStateDetailContent.configId];
                if (isGeocodeService && !isUtilityAvaible) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { className: 'warning-alert-con', buttonType: 'tertiary', form: 'tooltip', size: 'small', type: 'warning', text: nls('utilityNotAvailable') }));
                }
                return (isDataError && dsId)
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { buttonType: 'tertiary', form: 'tooltip', size: 'small', type: 'error', text: nls('dataSourceCreateError') })
                    : '';
            }, onUpdateItem: (actionData, refComponent) => {
                const { itemJsons } = refComponent.props;
                const [, parentItemJson] = itemJsons;
                const newDatasourceConfig = parentItemJson.map(item => {
                    return item.itemStateDetailContent;
                });
                onDsConfigIdChange(null);
                updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
            }, onClickItemBody: (actionData, refComponent) => {
                var _a;
                const { itemJsons: [currentItemJson] } = refComponent.props;
                const isGeocodeSource = ((_a = currentItemJson === null || currentItemJson === void 0 ? void 0 : currentItemJson.itemStateDetailContent) === null || _a === void 0 ? void 0 : _a.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService;
                onDsConfigIdChange(+currentItemJson.itemKey, isGeocodeSource);
            } }, AdvancedActionMap)),
        showNewSourceItem && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_1__.List, Object.assign({ className: 'setting-ui-unit-list-new', itemsJson: [{
                    name: '......'
                }].map((item, x) => ({
                itemStateDetailContent: 'item',
                itemKey: 'index',
                itemStateChecked: true,
                itemStateTitle: '......',
                itemStateCommands: []
            })), dndEnabled: false, renderOverrideItemDetailToggle: () => '' }, AdvancedActionMap)),
        DataSourceRemoveWarningPopup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(DataSourceRemoveWarningPopup, { dataSourceId: dsToRemove, isOpen: showRemoveSearchItemWarning, toggle: hideRemovePopup, reason: DataSourceRemoveWaringReasonRef.current.DataSourceRemoved, afterRemove: afterRemovingDataSource, beforeRemove: beforeRemovingDataSource })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatasourceList);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/display-field-select.tsx":
/*!****************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/display-field-select.tsx ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/data-source-selector */ "jimu-ui/advanced/data-source-selector");
/* harmony import */ var jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/basic/list-tree */ "jimu-ui/basic/list-tree");
/** @jsx jsx */




const DisplayFieldSelect = (props) => {
    const advancedActionMap = {
        overrideItemBlockInfo: ({ itemBlockInfo }, refComponent) => {
            return {
                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItem,
                children: [{
                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemDroppableContainer,
                        children: [{
                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemDraggableContainer,
                                children: [{
                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemBody,
                                        children: [{
                                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemMainLine,
                                                children: [{
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemDragHandle
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemIcon,
                                                        autoCollapsed: true
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemTitle
                                                    }, {
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.TreeItemActionType.RenderOverrideItemCommands
                                                    }]
                                            }]
                                    }]
                            }]
                    }]
            };
        }
    };
    const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &{
      max-height: 256px;
      overflow-y: auto;
    }
  `;
    const theme = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();
    const { disPlayField, useDataSource, onFieldChange } = props;
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100' },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.FieldSelector, { useDataSources: useDataSource ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([useDataSource]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), onChange: (allSelectedFields) => { onFieldChange(allSelectedFields, disPlayField, true); }, selectedFields: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(disPlayField === null || disPlayField === void 0 ? void 0 : disPlayField.map(field => field === null || field === void 0 ? void 0 : field.name)), isMultiple: true, isSearchInputHidden: false, isDataSourceDropDownHidden: true, useDropdown: true, useMultiDropdownBottomTools: true, types: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number, jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]) }),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: STYLE },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_3__.List, Object.assign({ size: 'sm', className: 'mt-2', itemsJson: Array.from(disPlayField).map((field, index) => ({
                    itemStateDetailContent: field,
                    itemKey: `${field === null || field === void 0 ? void 0 : field.name}${index}`,
                    itemStateIcon: jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.dataComponentsUtils.getIconFromFieldType(field.type, theme),
                    itemStateTitle: field.alias || field.jimuName || field.name,
                    itemStateCommands: []
                })), dndEnabled: true, onUpdateItem: (actionData, refComponent) => {
                    const { itemJsons } = refComponent.props;
                    const [, parentItemJson] = itemJsons;
                    const newDisplayField = parentItemJson.map(item => {
                        return item.itemStateDetailContent;
                    });
                    onFieldChange(newDisplayField, disPlayField, true);
                } }, advancedActionMap)))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisplayFieldSelect);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/index.tsx":
/*!*************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/index.tsx ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchDataSetting: () => (/* binding */ SearchDataSetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
/* harmony import */ var jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/editor/plus */ "./jimu-icons/outlined/editor/plus.tsx");
/* harmony import */ var _set_layer_source_side_popper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./set-layer-source-side-popper */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-layer-source-side-popper.tsx");
/* harmony import */ var _set_locator_source__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./set-locator-source */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-locator-source.tsx");
/* harmony import */ var _datasource_list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./datasource-list */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/datasource-list.tsx");
/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/util */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/** @jsx jsx */










const { useSelector } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux;
const { useRef, useEffect } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
const SearchDataSetting = (props) => {
    var _a, _b, _c, _d, _e, _f;
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    const appTheme = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_9__.useTheme)();
    const { datasourceConfig, id, useDataSources, searchDataSettingType, createOutputDs, hideIconSetting, enableFiltering, onSettingChange, onOutputDsSettingChange, onEnableFilteringChange } = props;
    const sourceListRef = useRef(null);
    const sidePopperTrigger = useRef(null);
    const [open, setOpen] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const [showLayerSourcePanel, setShowLayerSourcePanel] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const [showLocatorSourcePanel, setShowLocatorSourcePanel] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const [showNewSourceItem, setShowNewSourceItem] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const [dsConfigItemIndex, setDsConfigItemIndex] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [popperFocusNode, setPopperFocusNode] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [dsCreateStatus, setDsCreateStatus] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({}));
    const widgetsJson = useSelector((state) => { var _a, _b, _c; return (_c = (_b = (_a = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.widgets) === null || _c === void 0 ? void 0 : _c[id]; });
    const utilitiesInConfig = useSelector((state) => {
        return state.appStateInBuilder.appConfig.utilities;
    });
    const DropDownStyle = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    & {
      background-color: ${(_c = (_b = (_a = appTheme.colors) === null || _a === void 0 ? void 0 : _a.palette) === null || _b === void 0 ? void 0 : _b.secondary) === null || _c === void 0 ? void 0 : _c[400]};
    }
  `;
    const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .data-remind {
      color: ${(_f = (_e = (_d = appTheme.colors) === null || _d === void 0 ? void 0 : _d.palette) === null || _e === void 0 ? void 0 : _e.dark) === null || _f === void 0 ? void 0 : _f[500]};
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
    }
  `;
    useEffect(() => {
        createOutputDs && checkAndInitOutputDs();
        // eslint-disable-next-line
    }, [datasourceConfig]);
    useEffect(() => {
        deleteSearchTemplateWhenUtilityNotExist(utilitiesInConfig);
        // eslint-disable-next-line
    }, [utilitiesInConfig]);
    const deleteSearchTemplateWhenUtilityNotExist = (utilitiesInConfig) => {
        let isHasRemoveTemplate = false;
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.filter(item => {
            var _a;
            if ((item === null || item === void 0 ? void 0 : item.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.FeatureService) {
                return true;
            }
            else {
                const useUtilityId = (_a = item === null || item === void 0 ? void 0 : item.useUtility) === null || _a === void 0 ? void 0 : _a.utilityId;
                if (!useUtilityId)
                    return true;
                if (!(utilitiesInConfig === null || utilitiesInConfig === void 0 ? void 0 : utilitiesInConfig[useUtilityId])) {
                    isHasRemoveTemplate = true;
                    return false;
                }
                else {
                    return true;
                }
            }
        });
        isHasRemoveTemplate && updateConfigForLayerOptions(newDatasourceConfig);
    };
    /**
     * Check is output datasource in current widget json, if not, create output datasource
    */
    const checkAndInitOutputDs = () => {
        const outputDataSources = (widgetsJson === null || widgetsJson === void 0 ? void 0 : widgetsJson.outputDataSources) || [];
        const newDatasourceConfig = (datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true })) || [];
        for (let i; i < (newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.length) - 1; i++) {
            const dsConfigItem = newDatasourceConfig[i];
            if ((dsConfigItem === null || dsConfigItem === void 0 ? void 0 : dsConfigItem.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.FeatureService)
                continue;
            const ouputDsId = dsConfigItem === null || dsConfigItem === void 0 ? void 0 : dsConfigItem.outputDataSourceId;
            if (!(outputDataSources === null || outputDataSources === void 0 ? void 0 : outputDataSources.includes(ouputDsId))) {
                updateConfigForLayerOptions(datasourceConfig);
                break;
            }
        }
    };
    /**
     * Toggle new search source dropdown list
     */
    const toggleNewSource = () => {
        setOpen(!open);
    };
    const dsStatusChange = (dsId, isDsCreateSuccess = false) => {
        const newDsCreateStatus = dsCreateStatus.set(dsId, isDsCreateSuccess);
        setDsCreateStatus(newDsCreateStatus);
    };
    /**
     * Fire callback after add new source
     */
    const onDsConfigIdChange = (configItemIndex, isGeocodeSource) => {
        setShowNewSourceItem(false);
        if (!(typeof (configItemIndex) === 'number')) {
            hideSidePopper();
            return;
        }
        setSidePopperAnchor(configItemIndex, false);
        if (dsConfigItemIndex === configItemIndex) {
            if (isGeocodeSource) {
                setShowLocatorSourcePanel(!showLocatorSourcePanel);
                setShowLayerSourcePanel(false);
            }
            else {
                setShowLayerSourcePanel(!showLayerSourcePanel);
                setShowLocatorSourcePanel(false);
            }
        }
        else {
            setDsConfigItemIndex(configItemIndex);
            if (isGeocodeSource) {
                setShowLocatorSourcePanel(true);
                setShowLayerSourcePanel(false);
            }
            else {
                setShowLayerSourcePanel(true);
                setShowLocatorSourcePanel(false);
            }
        }
    };
    /**
     * Close side popper
     */
    const hideSidePopper = () => {
        setShowLocatorSourcePanel(false);
        setShowLayerSourcePanel(false);
        setDsConfigItemIndex(null);
    };
    const opentSourcePanel = (isLayerSource) => {
        const isShowSourcePanel = isLayerSource ? !showLocatorSourcePanel : !showLayerSourcePanel;
        setShowNewSourceItem(isShowSourcePanel);
        if (isShowSourcePanel) {
            const index = (datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.length) || 0;
            setDsConfigItemIndex(index);
            setSidePopperAnchor(index, true);
        }
        isLayerSource ? setShowLayerSourcePanel(isShowSourcePanel) : setShowLocatorSourcePanel(isShowSourcePanel);
    };
    const showSourcePanel = () => {
        var _a;
        const isGeocodeSource = ((_a = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig[dsConfigItemIndex]) === null || _a === void 0 ? void 0 : _a.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService;
        return isGeocodeSource ? showLocatorSourcePanel : showLayerSourcePanel;
    };
    /**
     * Update config after datasources config change
     */
    const updateConfigForLayerOptions = (newDatasourceConfig) => {
        if (checkIsNewLayer(newDatasourceConfig)) {
            setShowNewSourceItem(false);
        }
        const allDataSources = getAllDatasource(newDatasourceConfig);
        const dsInWidgetJson = getDsInWidgetJson(allDataSources);
        if (createOutputDs) {
            onOutputDsSettingChange && onOutputDsSettingChange(allDataSources.outputDataSources, newDatasourceConfig, dsInWidgetJson);
        }
        else {
            onSettingChange && onSettingChange(newDatasourceConfig, dsInWidgetJson);
        }
    };
    /**
     * Get all useDatasources and outputDatasources
     */
    const getAllDatasource = (datasourceConfig) => {
        var _a;
        const allDataSources = (_a = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true })) === null || _a === void 0 ? void 0 : _a.reduce((currentDsMap, dsCogfigItem) => {
            // add useDataSource
            const useDataSource = dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.useDataSource;
            if (useDataSource) {
                if (!(0,_utils_util__WEBPACK_IMPORTED_MODULE_8__.isDsInDatasources)(useDataSource, currentDsMap === null || currentDsMap === void 0 ? void 0 : currentDsMap.useDataSources)) {
                    currentDsMap === null || currentDsMap === void 0 ? void 0 : currentDsMap.useDataSources.push(useDataSource);
                }
                else {
                    currentDsMap.useDataSources = concatFieldsOFSameUseDataSources(useDataSource, currentDsMap === null || currentDsMap === void 0 ? void 0 : currentDsMap.useDataSources);
                }
            }
            if (createOutputDs) {
                // add outputDataSource
                const outputDsJson = getOutputDsJson(dsCogfigItem);
                outputDsJson && currentDsMap.outputDataSources.push(outputDsJson);
            }
            return currentDsMap;
        }, { useDataSources: [], outputDataSources: [] });
        return allDataSources;
    };
    const concatFieldsOFSameUseDataSources = (useDataSource, currentDsMap) => {
        return currentDsMap.map(ds => {
            const isSameDs = (useDataSource === null || useDataSource === void 0 ? void 0 : useDataSource.dataSourceId) === (ds === null || ds === void 0 ? void 0 : ds.dataSourceId);
            if (isSameDs) {
                const dsFields = (useDataSource === null || useDataSource === void 0 ? void 0 : useDataSource.fields) || [];
                const dsFieldsInUseDatasourceMap = (ds === null || ds === void 0 ? void 0 : ds.fields) || [];
                const fieldsArrary = Array.from(new Set(dsFieldsInUseDatasourceMap.concat(dsFields)));
                ds.fields = fieldsArrary;
            }
            return ds;
        });
    };
    const getOutputDsJson = (dsCogfigItem) => {
        let outputDataSourceJson;
        if ((dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.searchServiceType) === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchServiceType.GeocodeService) {
            outputDataSourceJson = {
                id: dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.outputDataSourceId,
                type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.FeatureLayer,
                label: dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.label,
                originDataSources: [],
                isOutputFromWidget: true,
                isDataInDataSourceInstance: false,
                schema: (0,_utils_util__WEBPACK_IMPORTED_MODULE_8__.getInitSchema)(dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.label, dsCogfigItem === null || dsCogfigItem === void 0 ? void 0 : dsCogfigItem.addressFields),
                geometryType: 'esriGeometryPoint'
            };
        }
        return outputDataSourceJson;
    };
    /**
     * get new ds in widgetJson after select layer.
     */
    const getDsInWidgetJson = (allDataSources, outputDataSourcesJson) => {
        var _a;
        const udpateWidgetJson = { id: id };
        // Instead of function onSettingChange, use action to change widget json, which can avoid conflict.
        // Because editing widget json in builder needs pub-sub and pub-sub is async.
        udpateWidgetJson.useDataSources = allDataSources === null || allDataSources === void 0 ? void 0 : allDataSources.useDataSources;
        if (createOutputDs) {
            udpateWidgetJson.outputDataSources = (_a = allDataSources === null || allDataSources === void 0 ? void 0 : allDataSources.outputDataSources) === null || _a === void 0 ? void 0 : _a.map(outputDs => {
                return outputDs === null || outputDs === void 0 ? void 0 : outputDs.id;
            });
        }
        return {
            dsInWidgetJson: udpateWidgetJson,
            isWidgetJsonDsChanged: (0,_utils_util__WEBPACK_IMPORTED_MODULE_8__.checkIsWidgetJsonDsChanged)(widgetsJson, udpateWidgetJson.useDataSources, udpateWidgetJson.outputDataSources)
        };
    };
    /**
     * Check is a new layer
     */
    const checkIsNewLayer = (newDatasourceConfig) => {
        return (newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.length) !== (datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.length);
    };
    const locatorSourcePanelToggle = () => {
        if (showLocatorSourcePanel) {
            setDsConfigItemIndex(null);
        }
        setShowLocatorSourcePanel(!showLocatorSourcePanel);
        setShowNewSourceItem(false);
        removeUnaccessibleSearchData();
    };
    const layerSourcePanelToggle = () => {
        if (showLayerSourcePanel) {
            setDsConfigItemIndex(null);
        }
        setShowLayerSourcePanel(!showLayerSourcePanel);
        setShowNewSourceItem(false);
        removeUnaccessibleSearchData();
    };
    const removeUnaccessibleSearchData = () => {
        var _a;
        const newDatasourceConfig = (_a = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true })) === null || _a === void 0 ? void 0 : _a.filter(item => {
            return ((item === null || item === void 0 ? void 0 : item.useDataSource) || (item === null || item === void 0 ? void 0 : item.useUtility));
        });
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const setSidePopperAnchor = (index, newAdded = false) => {
        let node;
        if (newAdded) {
            node = sidePopperTrigger.current.getElementsByClassName('add-search-btn')[0];
        }
        else {
            node = sidePopperTrigger.current.getElementsByClassName('jimu-tree-item__body')[index];
        }
        setPopperFocusNode(node);
    };
    const handleEnableFiltering = (evt) => {
        const value = evt.target.checked;
        onEnableFilteringChange && onEnableFilteringChange(value);
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__.SettingSection, { css: STYLE },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__.SettingRow, { flow: 'wrap' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'w-100 data-remind' }, nls('addSources'))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__.SettingRow, { flow: 'wrap' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100', ref: sidePopperTrigger },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                        (!searchDataSettingType || searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.Both) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { className: 'w-100', size: 'sm', toggle: toggleNewSource, isOpen: open, autoWidth: true },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownButton, { className: 'add-search-btn w-100', title: nls('newSearchSource'), arrow: false, icon: true, type: 'primary' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_4__.PlusOutlined, { className: 'mr-1 d-inline-block', autoFlip: true }),
                                nls('newSearchSource')),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, { css: DropDownStyle },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { className: 'w-100', onClick: () => { opentSourcePanel(true); }, title: nls('layerSource') }, nls('layerSource')),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { className: 'w-100', onClick: () => { opentSourcePanel(false); }, title: nls('locatorSource') }, nls('locatorSource')))),
                        searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.FeatureService && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'primary', className: 'w-100 add-search-btn', onClick: () => { opentSourcePanel(true); } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_4__.PlusOutlined, { className: 'mr-1 d-inline-block', autoFlip: true }),
                            nls('layerSource')),
                        searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.GeocodeService && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'primary', className: 'w-100 add-search-btn', onClick: () => { opentSourcePanel(false); } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_4__.PlusOutlined, { className: 'mr-1 d-inline-block', autoFlip: true }),
                            nls('locatorSource'))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100', ref: sourceListRef },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_datasource_list__WEBPACK_IMPORTED_MODULE_7__["default"], { id: id, dsConfigItemIndex: dsConfigItemIndex, datasourceConfig: datasourceConfig || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), showSourcePanel: showSourcePanel(), useDataSources: useDataSources, onDsConfigIdChange: onDsConfigIdChange, showNewSourceItem: showNewSourceItem, updateConfigForLayerOptions: updateConfigForLayerOptions, hideSidePopper: hideSidePopper, createOutputDs: createOutputDs, dataSourceCreateStatus: dsCreateStatus }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_set_layer_source_side_popper__WEBPACK_IMPORTED_MODULE_5__["default"], { id: id, dsConfigItemIndex: dsConfigItemIndex, datasourceConfig: datasourceConfig || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), useDataSources: useDataSources, isOpen: showLayerSourcePanel, onSettingChange: onSettingChange, trigger: sourceListRef === null || sourceListRef === void 0 ? void 0 : sourceListRef.current, updateConfigForLayerOptions: updateConfigForLayerOptions, toggle: layerSourcePanelToggle, dsStatusChange: dsStatusChange, popperFocusNode: popperFocusNode, hideIconSetting: hideIconSetting }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_set_locator_source__WEBPACK_IMPORTED_MODULE_6__["default"], { id: id, dsConfigItemIndex: dsConfigItemIndex, datasourceConfig: datasourceConfig || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), useDataSources: useDataSources, isOpen: showLocatorSourcePanel, onSettingChange: onSettingChange, updateConfigForLayerOptions: updateConfigForLayerOptions, trigger: sourceListRef === null || sourceListRef === void 0 ? void 0 : sourceListRef.current, toggle: locatorSourcePanelToggle, popperFocusNode: popperFocusNode, hideIconSetting: hideIconSetting, createOutputDs: createOutputDs }))),
        (searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.Both || searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.FeatureService) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__.SettingSection, null,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__.SettingRow, { label: nls('enableSearchFilter') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Switch, { checked: enableFiltering, onChange: handleEnableFiltering, title: nls('enableSearchFilter') }))),
        (searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.Both || searchDataSettingType === _type_type__WEBPACK_IMPORTED_MODULE_3__.SearchDataType.FeatureService) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null)));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-layer-source-side-popper.tsx":
/*!************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-layer-source-side-popper.tsx ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/data-source-selector */ "jimu-ui/advanced/data-source-selector");
/* harmony import */ var jimu_ui_advanced_resource_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/resource-selector */ "jimu-ui/advanced/resource-selector");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/util */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts");
/* harmony import */ var _display_field_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./display-field-select */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/display-field-select.tsx");
/** @jsx jsx */








const { useEffect, useRef } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
const SUPPORTED_TYPES = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureLayer, jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer]);
const LayerSourceSidePopper = (props) => {
    var _a;
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    const focusCloseButtonTimeoutRef = useRef(null);
    const { trigger, isOpen, id, datasourceConfig, dsConfigItemIndex, popperFocusNode, toggle, updateConfigForLayerOptions, onSettingChange, dsStatusChange, hideIconSetting } = props;
    const datasourceConfigItem = (datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig[dsConfigItemIndex]) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
    const { configId, label, icon, searchFields, searchExact, displayFields, hint, useDataSource } = datasourceConfigItem;
    const [datasource, setDatasource] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [newLabel, setNewLabel] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(label);
    useEffect(() => {
        if (configId) {
            setNewLabel(label);
        }
        // eslint-disable-next-line
    }, [configId]);
    useEffect(() => {
        if (configId && label !== newLabel) {
            setNewLabel(label);
        }
        // eslint-disable-next-line
    }, [datasourceConfigItem]);
    useEffect(() => {
        // focus the back button when it is open
        if (isOpen) {
            clearTimeout(focusCloseButtonTimeoutRef.current);
            focusCloseButtonTimeoutRef.current = setTimeout(() => {
                const closeButton = document.querySelector('.search-ds-setting-popper .action-close');
                closeButton === null || closeButton === void 0 ? void 0 : closeButton.focus();
            }, 200);
        }
    }, [isOpen]);
    /**
     * Create output datasource by useDatasource
     */
    const createOutputDsByUseDatasource = (useDataSource) => {
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSourceByUseDataSource((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(useDataSource)).then((originDs) => {
            const dsJsonOriginDs = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getOutputJsonOriginDs)(originDs);
            if (!dsJsonOriginDs)
                Promise.reject(Error(''));
            return dsJsonOriginDs;
        }).then((dsJsonOriginDs) => {
            const { datasourceConfig } = getDatasourceConfig(dsJsonOriginDs, useDataSource);
            updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(datasourceConfig));
        });
    };
    /**
     * Get layer default config
     */
    const getDatasourceConfig = (dsJsonOriginDs, useDataSource) => {
        const configIdList = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getConfigIdList)(datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true }));
        const nextDsConfigId = configId || (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getNewConfigId)(configIdList);
        let newDatasourceConfig = datasourceConfig ? datasourceConfig.asMutable({ deep: true }) : [];
        const queryItemLabel = dsJsonOriginDs === null || dsJsonOriginDs === void 0 ? void 0 : dsJsonOriginDs.getLabel();
        const defaultField = getDefaultField(useDataSource);
        useDataSource.fields = defaultField === null || defaultField === void 0 ? void 0 : defaultField.map(field => field === null || field === void 0 ? void 0 : field.jimuName);
        const dsConfigItem = {
            configId: nextDsConfigId,
            icon: null,
            label: queryItemLabel,
            displayLabel: true,
            useDataSource: useDataSource,
            displayFields: defaultField,
            searchFields: defaultField,
            hint: '',
            searchServiceType: _type_type__WEBPACK_IMPORTED_MODULE_5__.SearchServiceType.FeatureService
        };
        if (datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.configId) {
            newDatasourceConfig = newDatasourceConfig.map(el => {
                if ((el === null || el === void 0 ? void 0 : el.configId) === nextDsConfigId) {
                    return dsConfigItem;
                }
                else {
                    return el;
                }
            });
        }
        else {
            newDatasourceConfig.push(dsConfigItem);
        }
        return {
            dsConfigItem: dsConfigItem,
            datasourceConfig: newDatasourceConfig
        };
    };
    /**
     * Get default field after add layer
    */
    const getDefaultField = (useDataSource) => {
        var _a, _b, _c, _d, _e;
        const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        const ds = dsManager.getDataSource(useDataSource === null || useDataSource === void 0 ? void 0 : useDataSource.dataSourceId);
        const displayFieldName = (_a = ds.getLayerDefinition()) === null || _a === void 0 ? void 0 : _a.displayField;
        const fields = (_b = ds === null || ds === void 0 ? void 0 : ds.getSchema()) === null || _b === void 0 ? void 0 : _b.fields;
        let displayField;
        const allFieldsData = [];
        for (const fieldKey in fields) {
            if (((_c = fields === null || fields === void 0 ? void 0 : fields[fieldKey]) === null || _c === void 0 ? void 0 : _c.type) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date) {
                allFieldsData.push(fields === null || fields === void 0 ? void 0 : fields[fieldKey]);
            }
            if (((_d = fields === null || fields === void 0 ? void 0 : fields[fieldKey]) === null || _d === void 0 ? void 0 : _d.name) === displayFieldName && ((_e = fields === null || fields === void 0 ? void 0 : fields[fieldKey]) === null || _e === void 0 ? void 0 : _e.type) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date) {
                displayField = fields === null || fields === void 0 ? void 0 : fields[fieldKey];
            }
        }
        const defaultField = (allFieldsData === null || allFieldsData === void 0 ? void 0 : allFieldsData.length) > 1 ? allFieldsData[1] : allFieldsData[0];
        //If the feature layer has the Display field settings, the default search and display field should be the layer defined display field.
        return displayField ? [(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(displayField)] : [(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(defaultField)];
    };
    /**
     * Fire callback when datasource change.
     */
    const onDataChange = (useDataSources) => {
        if (useDataSources && useDataSources.length > 0) {
            createOutputDsByUseDatasource(useDataSources[0]);
        }
        else {
            removeDatsSource();
        }
    };
    const removeDatsSource = () => {
        const configIdList = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getConfigIdList)(datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true }));
        const nextDsConfigId = configId || (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getNewConfigId)(configIdList);
        let newDatasourceConfig = datasourceConfig ? datasourceConfig.asMutable({ deep: true }) : [];
        const dsConfigItem = {
            configId: nextDsConfigId,
            icon: null,
            label: '......',
            displayLabel: true,
            useDataSource: null,
            displayFields: [],
            searchFields: [],
            hint: '',
            searchServiceType: _type_type__WEBPACK_IMPORTED_MODULE_5__.SearchServiceType.FeatureService
        };
        newDatasourceConfig = newDatasourceConfig.map(el => {
            if ((el === null || el === void 0 ? void 0 : el.configId) === nextDsConfigId) {
                return dsConfigItem;
            }
            else {
                return el;
            }
        });
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    /**
     * Fire callback when searching fields change.
     */
    const onFieldChange = (allSelectedFields, preFields, isDisplayField = false) => {
        var _a, _b;
        if (!allSelectedFields)
            return;
        const fieldName = isDisplayField ? 'displayFields' : 'searchFields';
        let filteredFields = filterFields(allSelectedFields);
        //At least one field is selected
        if ((filteredFields === null || filteredFields === void 0 ? void 0 : filteredFields.length) === 0) {
            filteredFields = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(preFields)) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })) === null || _b === void 0 ? void 0 : _b.splice(0, 1);
        }
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        let newDatasourceConfigItem = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.setIn([fieldName], filteredFields);
        newDatasourceConfigItem = initNewDatasourceConfigByField(newDatasourceConfigItem);
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(dsConfigItemIndex, 1, newDatasourceConfigItem === null || newDatasourceConfigItem === void 0 ? void 0 : newDatasourceConfigItem.asMutable({ deep: true }));
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const initNewDatasourceConfigByField = (datasourceConfigItem) => {
        var _a, _b, _c, _d;
        const searchFieldNameArr = ((_b = (_a = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.searchFields) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })) === null || _b === void 0 ? void 0 : _b.map(item => item === null || item === void 0 ? void 0 : item.jimuName)) || [];
        const displayFieldsNameArr = ((_d = (_c = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.displayFields) === null || _c === void 0 ? void 0 : _c.asMutable({ deep: true })) === null || _d === void 0 ? void 0 : _d.map(item => item === null || item === void 0 ? void 0 : item.jimuName)) || [];
        const dsFields = Array.from(new Set(searchFieldNameArr.concat(displayFieldsNameArr)));
        return datasourceConfigItem.setIn(['useDataSource', 'fields'], dsFields);
    };
    /**
     * Filter fields after fields changed
     */
    const filterFields = (newTableFields) => {
        const fields = newTableFields === null || newTableFields === void 0 ? void 0 : newTableFields.filter(item => {
            return (item === null || item === void 0 ? void 0 : item.type) !== (jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType === null || jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType === void 0 ? void 0 : jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date);
        });
        return fields;
    };
    /**
     * Fire callback when change layer config.
     */
    const onConfigItemChange = (key, value) => {
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        const newDatasourceConfigItem = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.setIn(key, value);
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(dsConfigItemIndex, 1, newDatasourceConfigItem === null || newDatasourceConfigItem === void 0 ? void 0 : newDatasourceConfigItem.asMutable({ deep: true }));
        onSettingChange((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const handleCheckboxChange = (evt) => {
        onConfigItemChange(['searchExact'], !searchExact);
    };
    const handleLabelChange = (event) => {
        var _a;
        const value = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value;
        setNewLabel(value);
    };
    const handleLabelAccept = value => {
        if (!value) {
            setNewLabel(label);
        }
        else {
            setNewLabel(value === null || value === void 0 ? void 0 : value.trim());
            onConfigItemChange(['label'], value === null || value === void 0 ? void 0 : value.trim());
        }
    };
    const handleHintChange = (event) => {
        var _a;
        const value = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value;
        onConfigItemChange(['hint'], value);
    };
    /**
     * Fire callback when the datasource created.
     */
    const onDsCreate = ds => {
        setDatasource(ds);
        ds && dsStatusChange(ds.id, true);
    };
    const onCreateDataSourceFailed = err => {
        if (!(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useDataSource))
            return false;
        const dsId = datasourceConfigItem.useDataSource.dataSourceId;
        dsStatusChange(dsId, false);
    };
    /**
     * Render layer setting
     */
    const renderSourceSetting = () => {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('label') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { "aria-label": nls('label'), size: 'sm', value: newLabel || '', onAcceptValue: handleLabelAccept, onChange: handleLabelChange, className: 'w-100', placeholder: nls('findAddressOrPlace') }))),
            !hideIconSetting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { label: nls('searchIcon') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_resource_selector__WEBPACK_IMPORTED_MODULE_3__.IconPicker, { icon: icon, onChange: (icon) => { onConfigItemChange(['icon'], icon); }, configurableOption: 'none', setButtonUseColor: false }))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, { title: nls('searchOptions'), role: 'group', "aria-label": nls('searchOptions') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('selectSearchFields'), role: 'group', "aria-label": nls('selectSearchFields') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.FieldSelectorWithFullTextIndex, { useDataSources: useDataSource ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([useDataSource]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), onChange: (allSelectedFields) => { onFieldChange(allSelectedFields, searchFields); }, selectedFields: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(searchFields === null || searchFields === void 0 ? void 0 : searchFields.map(field => field === null || field === void 0 ? void 0 : field.name)), isMultiple: true, isSearchInputHidden: false, isDataSourceDropDownHidden: true, useDropdown: true, useMultiDropdownBottomTools: true, widgetId: id, types: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number, jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]) }),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2', "aria-label": nls('exactMatch'), onClick: handleCheckboxChange },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Checkbox, { title: nls('exactMatch'), checked: searchExact, className: 'mr-1' }),
                        nls('exactMatch'))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('displayFields'), role: 'group', "aria-label": nls('displayFields') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_display_field_select__WEBPACK_IMPORTED_MODULE_7__["default"], { disPlayField: displayFields || [], onFieldChange: onFieldChange, useDataSource: useDataSource })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('searchHint') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { size: 'sm', value: hint || '', title: hint || nls('findAddressOrPlace'), "aria-label": nls('searchHint'), onChange: handleHintChange, className: 'w-100', placeholder: nls('findAddressOrPlace') })))));
    };
    const useDataSources = (datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useDataSource) ? [(_a = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useDataSource) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })] : [];
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SidePopper, { className: 'search-ds-setting-popper', isOpen: isOpen, position: 'right', toggle: toggle, trigger: trigger, title: nls('setLayerSource'), backToFocusNode: popperFocusNode },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `overflow: auto;` },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, { style: { paddingTop: 0 } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('data') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceSelector, { closeDataSourceListOnChange: true, types: SUPPORTED_TYPES, useDataSources: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(useDataSources), disableRemove: () => true, mustUseDataSource: true, onChange: onDataChange, widgetId: id }))),
            ((datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.configId) && datasource) && renderSourceSetting(),
            (useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources[0]) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'waiting-for-database' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(useDataSources[0]), onDataSourceCreated: onDsCreate, onCreateDataSourceFailed: onCreateDataSourceFailed })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LayerSourceSidePopper);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-locator-source.tsx":
/*!**************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/set-locator-source.tsx ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var jimu_ui_advanced_utility_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/utility-selector */ "jimu-ui/advanced/utility-selector");
/* harmony import */ var jimu_ui_advanced_resource_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/resource-selector */ "jimu-ui/advanced/resource-selector");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/util */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts");
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/constants */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts");
/* harmony import */ var _display_field_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./display-field-select */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/display-field-select.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */









const { useEffect, useRef } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
var UrlCheckResultType;
(function (UrlCheckResultType) {
    UrlCheckResultType["Pass"] = "Pass";
    UrlCheckResultType["NotHttps"] = "Not_Https";
    UrlCheckResultType["InvalidURL"] = "Invalid_URL";
})(UrlCheckResultType || (UrlCheckResultType = {}));
const supportedUtilityTypes = [jimu_core__WEBPACK_IMPORTED_MODULE_0__.SupportedUtilityType.GeoCoding];
const LocatorSourceSidePopper = (props) => {
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    const focusCloseButtonTimeoutRef = useRef(null);
    const { id, trigger, toggle, isOpen, datasourceConfig, dsConfigItemIndex, popperFocusNode, createOutputDs, onSettingChange, updateConfigForLayerOptions, hideIconSetting } = props;
    const datasourceConfigItem = (datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig[dsConfigItemIndex]) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
    const { configId, label, icon, hint, outputDataSourceId, displayFields } = datasourceConfigItem;
    const [newLabel, setNewLabel] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(label);
    const [isvalidateServiceEnd, setIsvalidateServiceEnd] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const [urlCheckResults, setUrlCheckResultType] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(UrlCheckResultType.Pass);
    const [useUtility, setUseUtility] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useUtility);
    const [showLoading, setShowLoading] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    useEffect(() => {
        // focus the back button when it is open
        if (isOpen) {
            clearTimeout(focusCloseButtonTimeoutRef.current);
            focusCloseButtonTimeoutRef.current = setTimeout(() => {
                const closeButton = document.querySelector('.search-locator-setting-popper .action-close');
                closeButton === null || closeButton === void 0 ? void 0 : closeButton.focus();
            }, 200);
        }
    }, [isOpen]);
    useEffect(() => {
        if (!isOpen)
            return;
        setUrlCheckResultType(UrlCheckResultType.Pass);
        setShowLoading(false);
        if (datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useUtility) {
            //Check if geocode service url is available
            getUrlOfUseUtility(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useUtility).then(url => {
                validateGeocodeService(url).then(urlCheckResult => {
                    setUrlCheckResultType(urlCheckResult === null || urlCheckResult === void 0 ? void 0 : urlCheckResult.urlCheckResultType);
                });
            });
            setUseUtility(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.useUtility);
            setNewLabel(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.label);
        }
        else {
            setUseUtility(null);
            setNewLabel(_utils_constants__WEBPACK_IMPORTED_MODULE_7__.DefaultGeocodeLabel);
        }
        // eslint-disable-next-line
    }, [dsConfigItemIndex, configId, isOpen]);
    useEffect(() => {
        setNewLabel(datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.label);
    }, [datasourceConfigItem]);
    /**
     * Update geocode config
     */
    const updateGeocodeConfig = (singleLineFieldName, useUtility, fields, isSupportSuggest) => {
        const configIdList = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getConfigIdList)(datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true }));
        const nextDsConfigId = configId || (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getNewConfigId)(configIdList);
        let newDatasourceConfig = datasourceConfig ? datasourceConfig.asMutable({ deep: true }) : [];
        const label = getLabelOfUseUtility(useUtility);
        const defaultHint = getDefaultHintOfUseUtility(useUtility);
        // const label = getDefaultGeocodeLabel(geocodeServiceUrl)
        const { addressFieldsSchema, defaultAddressFieldName } = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getAddressFieldsSchemaAndDefaultFieldName)(fields);
        const initDsConfigItem = {
            configId: nextDsConfigId,
            icon: null,
            label: label,
            hint: defaultHint,
            useUtility: useUtility,
            searchServiceType: _type_type__WEBPACK_IMPORTED_MODULE_5__.SearchServiceType.GeocodeService,
            singleLineFieldName: singleLineFieldName,
            isSupportSuggest: isSupportSuggest
        };
        if (createOutputDs) {
            initDsConfigItem.outputDataSourceId = `${id}_output_${nextDsConfigId}`;
            initDsConfigItem.addressFields = addressFieldsSchema;
            initDsConfigItem.displayFields = getDefaultDisplayField(addressFieldsSchema, defaultAddressFieldName);
            initDsConfigItem.defaultAddressFieldName = defaultAddressFieldName;
        }
        if (datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.configId) {
            newDatasourceConfig = datasourceConfig.map(el => {
                if ((el === null || el === void 0 ? void 0 : el.configId) === nextDsConfigId) {
                    return initDsConfigItem;
                }
                else {
                    return el;
                }
            });
        }
        else {
            newDatasourceConfig.push(initDsConfigItem);
        }
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    /**
     * Use address field as displayField by default
    */
    const getDefaultDisplayField = (addressFieldsSchema, defaultAddressFieldName) => {
        let addressSchema;
        addressFieldsSchema === null || addressFieldsSchema === void 0 ? void 0 : addressFieldsSchema.forEach(field => {
            var _a;
            if (((_a = field === null || field === void 0 ? void 0 : field.jimuName) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase()) === defaultAddressFieldName) {
                addressSchema = field;
            }
        });
        if (!addressSchema) {
            addressSchema = addressFieldsSchema[0];
        }
        return [addressSchema];
    };
    /**
     * Check whether geocode service is legal
     */
    const validateGeocodeService = (geocodeServiceUrl) => __awaiter(void 0, void 0, void 0, function* () {
        const httpsRex = '^(([h][t]{2}[p][s])?://)';
        const urlRegExString = new RegExp(httpsRex);
        setIsvalidateServiceEnd(false);
        if (geocodeServiceUrl && urlRegExString.test(geocodeServiceUrl)) {
            try {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.loadArcGISJSAPIModules)(['esri/request']).then(modules => {
                    const [esriRequest] = modules;
                    return esriRequest(geocodeServiceUrl, {
                        query: {
                            f: 'json'
                        },
                        responseType: 'json'
                    }).then(res => {
                        var _a;
                        const result = (res === null || res === void 0 ? void 0 : res.data) || {};
                        setIsvalidateServiceEnd(true);
                        if (result === null || result === void 0 ? void 0 : result.capabilities) {
                            const singleLineAddressField = (result === null || result === void 0 ? void 0 : result.singleLineAddressField) || {};
                            const addressFields = (result === null || result === void 0 ? void 0 : result.addressFields) || [];
                            const candidateFields = (result === null || result === void 0 ? void 0 : result.candidateFields) || [];
                            const capabilitiesArr = ((_a = result === null || result === void 0 ? void 0 : result.capabilities) === null || _a === void 0 ? void 0 : _a.split(',')) || [];
                            const isSupportSuggest = capabilitiesArr === null || capabilitiesArr === void 0 ? void 0 : capabilitiesArr.includes('Suggest');
                            return Promise.resolve({
                                urlCheckResultType: UrlCheckResultType.Pass,
                                singleLineFieldName: singleLineAddressField === null || singleLineAddressField === void 0 ? void 0 : singleLineAddressField.name,
                                addressFields: addressFields,
                                isSupportSuggest: isSupportSuggest,
                                candidateFields: candidateFields
                            });
                        }
                        else {
                            return Promise.resolve({ urlCheckResultType: UrlCheckResultType.InvalidURL });
                        }
                    });
                });
            }
            catch (e) {
                setIsvalidateServiceEnd(true);
                return Promise.resolve({ urlCheckResultType: UrlCheckResultType.InvalidURL });
            }
        }
        else {
            setIsvalidateServiceEnd(true);
            return Promise.resolve({ urlCheckResultType: UrlCheckResultType.NotHttps });
        }
    });
    /**
     * Fire callback when change layer config.
     */
    const onConfigItemChange = (key, value) => {
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        const newDatasourceConfigItem = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.setIn(key, value);
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(dsConfigItemIndex, 1, newDatasourceConfigItem === null || newDatasourceConfigItem === void 0 ? void 0 : newDatasourceConfigItem.asMutable({ deep: true }));
        onSettingChange((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const handleLabelChange = (event) => {
        var _a;
        const value = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value;
        setNewLabel(value);
    };
    const handleLabelAccept = value => {
        if (!value) {
            setNewLabel(label);
        }
        else {
            setNewLabel(value === null || value === void 0 ? void 0 : value.trim());
            onConfigItemChange(['label'], value === null || value === void 0 ? void 0 : value.trim());
        }
    };
    const handleHintChange = (event) => {
        var _a;
        const value = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value;
        onConfigItemChange(['hint'], value);
    };
    const handleUtilityChange = (utilities) => {
        const utility = utilities[0];
        setUseUtility(utility || null);
        if (!utility) {
            removeUtility();
        }
        else {
            setShowLoading(true);
            getUrlOfUseUtility(utility).then(url => {
                validateGeocodeService(url).then(urlCheckResult => {
                    setShowLoading(false);
                    setUrlCheckResultType(urlCheckResult === null || urlCheckResult === void 0 ? void 0 : urlCheckResult.urlCheckResultType);
                    if ((urlCheckResult === null || urlCheckResult === void 0 ? void 0 : urlCheckResult.urlCheckResultType) !== UrlCheckResultType.Pass) {
                        setUseUtility(null);
                    }
                    else {
                        const fields = urlCheckResult.addressFields.concat(urlCheckResult.candidateFields);
                        updateGeocodeConfig(urlCheckResult.singleLineFieldName, utility || null, fields, urlCheckResult === null || urlCheckResult === void 0 ? void 0 : urlCheckResult.isSupportSuggest);
                    }
                });
            });
        }
    };
    const removeUtility = () => {
        const configIdList = (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getConfigIdList)(datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true }));
        const nextDsConfigId = configId || (0,_utils_util__WEBPACK_IMPORTED_MODULE_6__.getNewConfigId)(configIdList);
        let newDatasourceConfig = datasourceConfig ? datasourceConfig.asMutable({ deep: true }) : [];
        // const label = getDefaultGeocodeLabel(geocodeServiceUrl)
        const initDsConfigItem = {
            configId: nextDsConfigId,
            icon: null,
            label: '.....',
            hint: '',
            useUtility: null,
            searchServiceType: _type_type__WEBPACK_IMPORTED_MODULE_5__.SearchServiceType.GeocodeService,
            singleLineFieldName: ''
        };
        newDatasourceConfig = datasourceConfig.map(el => {
            if ((el === null || el === void 0 ? void 0 : el.configId) === nextDsConfigId) {
                return initDsConfigItem;
            }
            else {
                return el;
            }
        });
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const getUrlOfUseUtility = (useUtility) => __awaiter(void 0, void 0, void 0, function* () {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.UtilityManager.getInstance().getUrlOfUseUtility(useUtility)
            .then((url) => {
            return Promise.resolve(url);
        });
    });
    const getLabelOfUseUtility = (useUtility) => {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.UtilityManager.getInstance().getLabelOfUseUtility(useUtility);
    };
    const getDefaultHintOfUseUtility = (useUtility) => {
        var _a;
        const utilityJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__.UtilityManager.getInstance().getUtilityJson(useUtility.utilityId);
        return (_a = utilityJson === null || utilityJson === void 0 ? void 0 : utilityJson.orgSetting) === null || _a === void 0 ? void 0 : _a.placeholder;
    };
    /**
     * Fire callback when display fields change.
     */
    const onDisplayFieldChange = (allSelectedFields, preFields, isDisplayField = false) => {
        var _a, _b;
        if (!allSelectedFields)
            return;
        //At least one field is selected
        if ((allSelectedFields === null || allSelectedFields === void 0 ? void 0 : allSelectedFields.length) === 0) {
            allSelectedFields = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(preFields)) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })) === null || _b === void 0 ? void 0 : _b.splice(0, 1);
        }
        const newDatasourceConfig = datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.asMutable({ deep: true });
        const newDatasourceConfigItem = datasourceConfigItem === null || datasourceConfigItem === void 0 ? void 0 : datasourceConfigItem.setIn(['displayFields'], allSelectedFields);
        newDatasourceConfig === null || newDatasourceConfig === void 0 ? void 0 : newDatasourceConfig.splice(dsConfigItemIndex, 1, newDatasourceConfigItem === null || newDatasourceConfigItem === void 0 ? void 0 : newDatasourceConfigItem.asMutable({ deep: true }));
        updateConfigForLayerOptions((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newDatasourceConfig));
    };
    const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &>div {
      padding: 0!important;
    }
  `;
    const getUseUtility = (useUtility) => {
        var _a;
        if (!useUtility)
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        const utilities = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder.appConfig) === null || _a === void 0 ? void 0 : _a.utilities;
        if (utilities === null || utilities === void 0 ? void 0 : utilities[useUtility.utilityId]) {
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([useUtility]);
        }
        else {
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        }
    };
    const renderUtilitySelector = () => {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, { style: { paddingTop: 0 } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('locatorSource') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100', css: STYLE },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_utility_selector__WEBPACK_IMPORTED_MODULE_2__.UtilitySelector, { useUtilities: getUseUtility(useUtility), onChange: handleUtilityChange, showRemove: false, types: supportedUtilityTypes, closePopupOnSelect: true })),
                (urlCheckResults !== UrlCheckResultType.Pass && isvalidateServiceEnd) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex w-100 align-items-center justify-content-between mt-1' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Alert, { form: "basic", type: "warning", className: "w-100", open: true, withIcon: true, text: nls('invalidUrlMessage') })))));
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SidePopper, { className: 'search-locator-setting-popper', isOpen: isOpen, position: 'right', toggle: toggle, trigger: trigger, title: nls('setLocatorSource'), backToFocusNode: popperFocusNode },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `overflow: auto;` },
            renderUtilitySelector(),
            showLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Loading, null),
            (urlCheckResults === UrlCheckResultType.Pass && configId && useUtility) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('label') },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { "aria-label": nls('label'), size: 'sm', value: newLabel || '', onChange: handleLabelChange, onAcceptValue: handleLabelAccept, className: 'w-100' }))),
                !hideIconSetting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { label: nls('searchIcon') },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_resource_selector__WEBPACK_IMPORTED_MODULE_3__.IconPicker, { icon: icon, onChange: (icon) => { onConfigItemChange(['icon'], icon); }, configurableOption: 'none', setButtonUseColor: false }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingSection, { title: nls('searchOptions'), role: 'group', "aria-label": nls('searchOptions') },
                    outputDataSourceId && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('displayFields'), role: 'group', "aria-label": nls('displayFields') },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_display_field_select__WEBPACK_IMPORTED_MODULE_8__["default"], { disPlayField: displayFields || [], onFieldChange: onDisplayFieldChange, useDataSource: {
                                dataSourceId: outputDataSourceId,
                                mainDataSourceId: outputDataSourceId
                            } })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('searchHint') },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { size: 'sm', "aria-label": nls('searchHint'), title: hint || nls('findAddressOrPlace'), value: hint || '', onChange: handleHintChange, className: 'w-100', placeholder: nls('findAddressOrPlace') })))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LocatorSourceSidePopper);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/general-search-setting.tsx":
/*!******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/general-search-setting.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchGeneralSetting: () => (/* binding */ SearchGeneralSetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/** @jsx jsx */




const SearchGeneralSetting = (props) => {
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    const { hint, onSettingChange } = props;
    const [newHint, setNewHint] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(hint);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {
        setNewHint(hint);
        // eslint-disable-next-line
    }, [hint]);
    const handleHintChange = (event) => {
        var _a;
        const value = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value;
        setNewHint(value);
    };
    const handHintAccept = value => {
        setNewHint(value);
        onSettingChange && onSettingChange(value);
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'general-setting-con' },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', label: nls('multySearchHint') },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.TextInput, { "aria-label": nls('multySearchHint'), title: newHint || nls('findAddressOrPlace'), size: 'sm', value: newHint, onChange: handleHintChange, onAcceptValue: handHintAccept, className: 'w-100', placeholder: nls('findAddressOrPlace') }))));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/index.ts":
/*!************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/index.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByFieldSeriesX: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.ByFieldSeriesX),
/* harmony export */   ByFieldSeriesY: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.ByFieldSeriesY),
/* harmony export */   DEFAULT_MAX_SUGGESTION: () => (/* reexport safe */ _type_type__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_MAX_SUGGESTION),
/* harmony export */   DefaultAddress: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAddress),
/* harmony export */   DefaultGeocodeLabel: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultGeocodeLabel),
/* harmony export */   DefaultGeocodeURL: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultGeocodeURL),
/* harmony export */   MAX_RECENT_SEARCHES: () => (/* reexport safe */ _type_type__WEBPACK_IMPORTED_MODULE_0__.MAX_RECENT_SEARCHES),
/* harmony export */   MAX_SUGGESTION: () => (/* reexport safe */ _type_type__WEBPACK_IMPORTED_MODULE_0__.MAX_SUGGESTION),
/* harmony export */   MaxCategories: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.MaxCategories),
/* harmony export */   MaxPieces: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.MaxPieces),
/* harmony export */   MaxSeries: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.MaxSeries),
/* harmony export */   ObjectIdSchema: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.ObjectIdSchema),
/* harmony export */   OutStatisticFieldNameSplit: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.OutStatisticFieldNameSplit),
/* harmony export */   OutputDsAddress: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsAddress),
/* harmony export */   OutputDsObjectField: () => (/* reexport safe */ _utils_constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsObjectField),
/* harmony export */   SearchDataSetting: () => (/* reexport safe */ _dataSetting__WEBPACK_IMPORTED_MODULE_3__.SearchDataSetting),
/* harmony export */   SearchDataType: () => (/* reexport safe */ _type_type__WEBPACK_IMPORTED_MODULE_0__.SearchDataType),
/* harmony export */   SearchGeneralSetting: () => (/* reexport safe */ _general_search_setting__WEBPACK_IMPORTED_MODULE_5__.SearchGeneralSetting),
/* harmony export */   SearchServiceType: () => (/* reexport safe */ _type_type__WEBPACK_IMPORTED_MODULE_0__.SearchServiceType),
/* harmony export */   SearchSuggestionSetting: () => (/* reexport safe */ _search_suggestion_setting__WEBPACK_IMPORTED_MODULE_4__.SearchSuggestionSetting),
/* harmony export */   checkIsUseDsChenged: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.checkIsUseDsChenged),
/* harmony export */   checkIsWidgetJsonDsChanged: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.checkIsWidgetJsonDsChanged),
/* harmony export */   getAddressFieldsSchemaAndDefaultFieldName: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getAddressFieldsSchemaAndDefaultFieldName),
/* harmony export */   getConfigIdList: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getConfigIdList),
/* harmony export */   getInitOutDataSource: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getInitOutDataSource),
/* harmony export */   getInitSchema: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getInitSchema),
/* harmony export */   getNameOfDefaultAddressField: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getNameOfDefaultAddressField),
/* harmony export */   getNewConfigId: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getNewConfigId),
/* harmony export */   getOutputDataSourceId: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getOutputDataSourceId),
/* harmony export */   getOutputJsonOriginDs: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getOutputJsonOriginDs),
/* harmony export */   getWhetherDsInUseDataSources: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.getWhetherDsInUseDataSources),
/* harmony export */   isDsInDatasources: () => (/* reexport safe */ _utils_util__WEBPACK_IMPORTED_MODULE_2__.isDsInDatasources)
/* harmony export */ });
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/constants */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts");
/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/util */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts");
/* harmony import */ var _dataSetting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dataSetting */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/dataSetting/index.tsx");
/* harmony import */ var _search_suggestion_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search-suggestion-setting */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/search-suggestion-setting.tsx");
/* harmony import */ var _general_search_setting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./general-search-setting */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/general-search-setting.tsx");



//Component





/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/search-suggestion-setting.tsx":
/*!*********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/search-suggestion-setting.tsx ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchSuggestionSetting: () => (/* binding */ SearchSuggestionSetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var _type_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type/type */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "react");
/** @jsx jsx */






const SearchSuggestionSetting = (props) => {
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    const appTheme = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_4__.useTheme)();
    const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .check-box-label {
      color: ${appTheme.colors.palette.dark[800]}
    }
    .search-setting-con {
      padding-left: 0;
      padding-right: 0;
    }
    .checkbox-con .jimu-widget-setting--row-label{
      max-width: 100%;
    }
    .cursor-pointer {
      cursor: pointer;
    }
  `;
    const { onSettingChange, hideRecentSearchSetting } = props;
    const settingConfig = props.settingConfig || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
    const { maxSuggestions, isUseCurrentLoation, isShowRecentSearches, recentSearchesMaxNumber } = settingConfig;
    const [newRecentSearchesMaxNumber, setRecentSearchesMaxNumber] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(recentSearchesMaxNumber);
    const [newMaxSuggestions, setMaxSuggestions] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(maxSuggestions);
    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {
        setRecentSearchesMaxNumber(recentSearchesMaxNumber);
        setMaxSuggestions(maxSuggestions);
        // eslint-disable-next-line
    }, [settingConfig]);
    const onConfigChange = (key, value) => {
        const newSettingConfig = settingConfig.setIn(key, value);
        onSettingChange && onSettingChange(newSettingConfig);
    };
    const handleCurrentLocationChange = (evt) => {
        onConfigChange(['isUseCurrentLoation'], !isUseCurrentLoation);
    };
    const handleMaxSuggestionsChange = (e) => {
        const value = e.target.value;
        checkNumber(value, 0) && setMaxSuggestions(value);
    };
    const handleMaxSuggestionsAccept = value => {
        if (!value || value > _type_type__WEBPACK_IMPORTED_MODULE_2__.MAX_SUGGESTION) {
            value = maxSuggestions || _type_type__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_MAX_SUGGESTION;
            setMaxSuggestions(value);
        }
        checkNumber(value, 0) && onConfigChange(['maxSuggestions'], Number(value));
    };
    const handleRecentSearchesMaxNumberAccept = value => {
        if (!value) {
            value = recentSearchesMaxNumber || _type_type__WEBPACK_IMPORTED_MODULE_2__.MAX_RECENT_SEARCHES;
            setRecentSearchesMaxNumber(value);
        }
        checkNumber(value) && onConfigChange(['recentSearchesMaxNumber'], Number(value));
    };
    const handleRecentSearchesMaxNumberChange = (e) => {
        const value = e.target.value;
        checkNumber(value) && setRecentSearchesMaxNumber(value);
    };
    const checkNumber = (value, minimum = 1) => {
        if ((value === null || value === void 0 ? void 0 : value.length) === 0)
            return true;
        if (isNaN(Number(value))) {
            return false;
        }
        else {
            const numberVal = Number(value);
            return Number.isInteger(numberVal) && numberVal >= minimum;
        }
    };
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: STYLE },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap', className: 'mt-2 checkbox-con', label: nls('maximumSuggestions') },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.TextInput, { size: 'sm', "aria-label": nls('maximumSuggestions'), value: newMaxSuggestions, onChange: handleMaxSuggestionsChange, onAcceptValue: handleMaxSuggestionsAccept, className: 'w-100' })),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, null,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'cursor-pointer', onClick: handleCurrentLocationChange, "aria-label": nls('useCurrentLocation') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { checked: !!isUseCurrentLoation, className: 'mr-1', title: nls('useCurrentLocation') }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'check-box-label' }, nls('useCurrentLocation')))),
        !hideRecentSearchSetting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { label: nls('recentSearches') },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Switch, { checked: isShowRecentSearches || false, title: nls('recentSearches'), onChange: (evt) => { onConfigChange(['isShowRecentSearches'], !isShowRecentSearches); } })),
        isShowRecentSearches && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { label: nls('maximumNumber') },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.TextInput, { size: 'sm', "aria-label": nls('maximumNumber'), value: newRecentSearchesMaxNumber, onChange: handleRecentSearchesMaxNumberChange, onAcceptValue: handleRecentSearchesMaxNumberAccept, style: { width: '50px' } }))));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/type/type.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_MAX_SUGGESTION: () => (/* binding */ DEFAULT_MAX_SUGGESTION),
/* harmony export */   MAX_RECENT_SEARCHES: () => (/* binding */ MAX_RECENT_SEARCHES),
/* harmony export */   MAX_SUGGESTION: () => (/* binding */ MAX_SUGGESTION),
/* harmony export */   SearchDataType: () => (/* binding */ SearchDataType),
/* harmony export */   SearchServiceType: () => (/* binding */ SearchServiceType)
/* harmony export */ });
const DEFAULT_MAX_SUGGESTION = 6;
const MAX_SUGGESTION = 20;
const MAX_RECENT_SEARCHES = 6;
var SearchDataType;
(function (SearchDataType) {
    SearchDataType["Both"] = "Both";
    SearchDataType["GeocodeService"] = "GeocodeService";
    SearchDataType["FeatureService"] = "FeatureService";
})(SearchDataType || (SearchDataType = {}));
var SearchServiceType;
(function (SearchServiceType) {
    SearchServiceType["GeocodeService"] = "GeocodeService";
    SearchServiceType["FeatureService"] = "FeatureService";
})(SearchServiceType || (SearchServiceType = {}));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts":
/*!**********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByFieldSeriesX: () => (/* binding */ ByFieldSeriesX),
/* harmony export */   ByFieldSeriesY: () => (/* binding */ ByFieldSeriesY),
/* harmony export */   DefaultAddress: () => (/* binding */ DefaultAddress),
/* harmony export */   DefaultGeocodeLabel: () => (/* binding */ DefaultGeocodeLabel),
/* harmony export */   DefaultGeocodeURL: () => (/* binding */ DefaultGeocodeURL),
/* harmony export */   MaxCategories: () => (/* binding */ MaxCategories),
/* harmony export */   MaxPieces: () => (/* binding */ MaxPieces),
/* harmony export */   MaxSeries: () => (/* binding */ MaxSeries),
/* harmony export */   OutStatisticFieldNameSplit: () => (/* binding */ OutStatisticFieldNameSplit),
/* harmony export */   OutputDsAddress: () => (/* binding */ OutputDsAddress),
/* harmony export */   OutputDsObjectField: () => (/* binding */ OutputDsObjectField)
/* harmony export */ });
const ByFieldSeriesX = 'FieldName';
const ByFieldSeriesY = 'FieldValue';
const MaxCategories = 99;
const MaxPieces = 1000;
const MaxSeries = 20;
const OutStatisticFieldNameSplit = '__';
const OutputDsObjectField = 'objectid';
const OutputDsAddress = 'address';
const DefaultAddress = 'Default Address';
const DefaultGeocodeURL = 'https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer';
const DefaultGeocodeLabel = 'ArcGIS World Geocoding Service';


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/geocode-utils.ts":
/*!**************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/geocode-utils.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaultGeocodeLabel: () => (/* binding */ getDefaultGeocodeLabel),
/* harmony export */   getGeocodeName: () => (/* binding */ getGeocodeName),
/* harmony export */   getOrganizationGeocodeService: () => (/* binding */ getOrganizationGeocodeService),
/* harmony export */   isArcGISWorldGeocoder: () => (/* binding */ isArcGISWorldGeocoder),
/* harmony export */   isMeteredArcGISWorldGeocoder: () => (/* binding */ isMeteredArcGISWorldGeocoder),
/* harmony export */   isProxiedArcGISWorldGeocoder: () => (/* binding */ isProxiedArcGISWorldGeocoder)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts");


const getDefaultGeocodeLabel = (geocodeUrl) => {
    if (isArcGISWorldGeocoder(geocodeUrl)) {
        return _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultGeocodeLabel;
    }
    else {
        return getGeocodeName(geocodeUrl);
    }
};
const getGeocodeName = (geocodeUrl) => {
    if (!geocodeUrl) {
        return 'geocoder';
    }
    const strs = geocodeUrl.split('/');
    return strs[strs.length - 2] || 'geocoder';
};
const isMeteredArcGISWorldGeocoder = (url) => {
    if (!url) {
        return false;
    }
    return /(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(url);
};
const isProxiedArcGISWorldGeocoder = (url) => {
    if (!url) {
        return false;
    }
    return /(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(url);
};
const isArcGISWorldGeocoder = (url) => {
    if (!url) {
        return false;
    }
    return /(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(url);
};
const getOrganizationGeocodeService = (portalUrl) => {
    const request = jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request;
    const sm = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance();
    return request(`${jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPortalRestUrl(portalUrl)}portals/self`, {
        authentication: sm.getMainSession(),
        httpMethod: 'GET'
    }).then(portalSelf => {
        var _a;
        return Promise.resolve(((_a = portalSelf === null || portalSelf === void 0 ? void 0 : portalSelf.helperServices) === null || _a === void 0 ? void 0 : _a.geocode) || []);
    }).catch(err => {
        return Promise.resolve([]);
    });
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/util.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ObjectIdSchema: () => (/* binding */ ObjectIdSchema),
/* harmony export */   checkIsUseDsChenged: () => (/* binding */ checkIsUseDsChenged),
/* harmony export */   checkIsWidgetJsonDsChanged: () => (/* binding */ checkIsWidgetJsonDsChanged),
/* harmony export */   getAddressFieldsSchemaAndDefaultFieldName: () => (/* binding */ getAddressFieldsSchemaAndDefaultFieldName),
/* harmony export */   getConfigIdList: () => (/* binding */ getConfigIdList),
/* harmony export */   getInitOutDataSource: () => (/* binding */ getInitOutDataSource),
/* harmony export */   getInitSchema: () => (/* binding */ getInitSchema),
/* harmony export */   getNameOfDefaultAddressField: () => (/* binding */ getNameOfDefaultAddressField),
/* harmony export */   getNewConfigId: () => (/* binding */ getNewConfigId),
/* harmony export */   getOutputDataSourceId: () => (/* binding */ getOutputDataSourceId),
/* harmony export */   getOutputJsonOriginDs: () => (/* binding */ getOutputJsonOriginDs),
/* harmony export */   getWhetherDsInUseDataSources: () => (/* binding */ getWhetherDsInUseDataSources),
/* harmony export */   isDsInDatasources: () => (/* binding */ isDsInDatasources)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/constants.ts");
/* harmony import */ var _utils_geocode_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/geocode-utils */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/utils/geocode-utils.ts");



const ObjectIdSchema = {
    jimuName: _constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsObjectField,
    alias: 'OBJECTID',
    type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number,
    name: _constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsObjectField
};
/**
 * Get outputDs default schema
*/
const getInitSchema = (label = '', addressFields = []) => {
    const fields = {};
    addressFields === null || addressFields === void 0 ? void 0 : addressFields.forEach((fieldSchema, index) => {
        fields[fieldSchema === null || fieldSchema === void 0 ? void 0 : fieldSchema.jimuName] = fieldSchema;
        if (index === 0) {
            fields[_constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsObjectField] = ObjectIdSchema;
        }
    });
    return {
        label,
        idField: _constants__WEBPACK_IMPORTED_MODULE_1__.OutputDsObjectField,
        fields: fields
    };
};
const getNameOfDefaultAddressField = (fields, nameIndex = 0) => {
    let name = _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAddress;
    fields === null || fields === void 0 ? void 0 : fields.forEach(field => {
        name = nameIndex ? `${name}${nameIndex}` : name;
        if (field.jimuName === name) {
            nameIndex += 1;
            name = getNameOfDefaultAddressField(fields, nameIndex);
        }
    });
    return name;
};
const getAddressFieldsSchemaAndDefaultFieldName = (addressFields = []) => {
    const addressFieldSchema = addressFields === null || addressFields === void 0 ? void 0 : addressFields.map(field => {
        return {
            jimuName: field === null || field === void 0 ? void 0 : field.alias,
            alias: field === null || field === void 0 ? void 0 : field.alias,
            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String,
            name: field === null || field === void 0 ? void 0 : field.alias
        };
    });
    const defaultAddressFieldName = getNameOfDefaultAddressField(addressFieldSchema, 0);
    const DefaultAddressSchema = {
        jimuName: defaultAddressFieldName,
        alias: defaultAddressFieldName,
        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String,
        name: defaultAddressFieldName
    };
    addressFieldSchema.unshift(DefaultAddressSchema);
    return {
        addressFieldsSchema: addressFieldSchema,
        defaultAddressFieldName: defaultAddressFieldName
    };
};
/**
 * Get outputDs json
*/
const getInitOutDataSource = (widgetId, configId, geocodeUrl, label) => {
    const dsLabel = label || (0,_utils_geocode_utils__WEBPACK_IMPORTED_MODULE_2__.getDefaultGeocodeLabel)(geocodeUrl);
    const dsId = getOutputDataSourceId(configId, widgetId);
    const schema = getInitSchema(label);
    const outputDsJson = {
        id: dsId,
        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.FeatureLayer,
        label: dsLabel,
        originDataSources: [],
        isOutputFromWidget: true,
        isDataInDataSourceInstance: false,
        schema,
        geometryType: 'esriGeometryPoint'
    };
    return outputDsJson;
};
const getOutputJsonOriginDs = (ds) => {
    if (!ds) {
        return null;
    }
    if (ds.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.SceneLayer) {
        /**
         * If is scene layer data source, will use associated feature layer data source to generate output data source.
         */
        return (ds).getAssociatedDataSource();
    }
    else {
        return ds;
    }
};
const getWhetherDsInUseDataSources = (ds, useDataSources) => {
    if (!ds || !useDataSources) {
        return false;
    }
    return useDataSources.some(u => u.dataSourceId === ds.dataSourceId);
};
const isDsInDatasources = (datasource, datasources) => {
    var _a;
    return ((_a = datasources.filter(ds => (ds === null || ds === void 0 ? void 0 : ds.dataSourceId) === (datasource === null || datasource === void 0 ? void 0 : datasource.dataSourceId))) === null || _a === void 0 ? void 0 : _a.length) > 0;
};
const checkIsUseDsChenged = (datasource, preDatasources) => {
    var _a;
    //Check is ds length change
    if ((datasource === null || datasource === void 0 ? void 0 : datasource.length) !== (preDatasources === null || preDatasources === void 0 ? void 0 : preDatasources.length)) {
        return true;
    }
    //Check is ds id change
    const intersectionDsField = [];
    datasource === null || datasource === void 0 ? void 0 : datasource.forEach(ds => {
        var _a;
        const preCommonDs = preDatasources.filter(preDs => (preDs === null || preDs === void 0 ? void 0 : preDs.dataSourceId) === (ds === null || ds === void 0 ? void 0 : ds.dataSourceId));
        if ((preCommonDs === null || preCommonDs === void 0 ? void 0 : preCommonDs.length) > 0) {
            intersectionDsField.push({
                dsFields: ds === null || ds === void 0 ? void 0 : ds.fields,
                preDsFields: (_a = preCommonDs[0]) === null || _a === void 0 ? void 0 : _a.fields
            });
        }
    });
    if ((intersectionDsField === null || intersectionDsField === void 0 ? void 0 : intersectionDsField.length) !== (datasource === null || datasource === void 0 ? void 0 : datasource.length)) {
        return true;
    }
    //Check is ds field change
    const isFieldsChange = ((_a = intersectionDsField === null || intersectionDsField === void 0 ? void 0 : intersectionDsField.filter(item => {
        var _a, _b, _c, _d;
        const isLengthChange = ((_a = item === null || item === void 0 ? void 0 : item.dsFields) === null || _a === void 0 ? void 0 : _a.length) !== ((_b = item === null || item === void 0 ? void 0 : item.preDsFields) === null || _b === void 0 ? void 0 : _b.length);
        const isFieldItemChange = ((_d = (_c = item === null || item === void 0 ? void 0 : item.dsFields) === null || _c === void 0 ? void 0 : _c.filter(field => { var _a; return !((_a = item === null || item === void 0 ? void 0 : item.preDsFields) === null || _a === void 0 ? void 0 : _a.includes(field)); })) === null || _d === void 0 ? void 0 : _d.length) > 0;
        return isLengthChange || isFieldItemChange;
    })) === null || _a === void 0 ? void 0 : _a.length) > 0;
    return isFieldsChange;
};
/**
 * Check is useDatasource or outputDatasource chenged in widgeJson
*/
const checkIsWidgetJsonDsChanged = (widgetJson, useDataSource, outputDatasource) => {
    var _a, _b, _c;
    const widgetJsonUseDs = ((_a = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.useDataSources) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })) || [];
    const widgetJsonoutputUseDs = ((_b = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.outputDataSources) === null || _b === void 0 ? void 0 : _b.asMutable({ deep: true })) || [];
    if ((widgetJsonUseDs === null || widgetJsonUseDs === void 0 ? void 0 : widgetJsonUseDs.length) !== (useDataSource === null || useDataSource === void 0 ? void 0 : useDataSource.length) || (widgetJsonoutputUseDs === null || widgetJsonoutputUseDs === void 0 ? void 0 : widgetJsonoutputUseDs.length) !== (outputDatasource === null || outputDatasource === void 0 ? void 0 : outputDatasource.length)) {
        return true;
    }
    const isUseDsChenged = checkIsUseDsChenged(useDataSource, widgetJsonUseDs);
    const isOutputDsChanged = ((_c = widgetJsonoutputUseDs.filter(ouputDs => !(outputDatasource === null || outputDatasource === void 0 ? void 0 : outputDatasource.includes(ouputDs)))) === null || _c === void 0 ? void 0 : _c.length) > 0;
    return (isUseDsChenged || isOutputDsChanged);
};
/**
 * Get congfig id list
*/
const getConfigIdList = (datasourceConfig) => {
    return datasourceConfig === null || datasourceConfig === void 0 ? void 0 : datasourceConfig.map(item => item.configId);
};
/**
 * Get new datasource config id
*/
const getNewConfigId = (configIdList) => {
    if (!configIdList || (configIdList === null || configIdList === void 0 ? void 0 : configIdList.length) === 0)
        return 'config_0';
    const maxIndex = getConfigIndexMaxNumber(configIdList);
    return `config_${maxIndex + 1}`;
};
const getConfigIndexMaxNumber = (configIdList) => {
    var _a;
    const idIndexData = configIdList === null || configIdList === void 0 ? void 0 : configIdList.map(id => {
        var _a;
        const currentIndex = (_a = id === null || id === void 0 ? void 0 : id.split('_')) === null || _a === void 0 ? void 0 : _a.pop();
        return currentIndex ? Number(currentIndex) : 0;
    });
    return (_a = idIndexData === null || idIndexData === void 0 ? void 0 : idIndexData.sort((a, b) => b - a)) === null || _a === void 0 ? void 0 : _a[0];
};
const getOutputDataSourceId = (configId, widgetId) => {
    var _a;
    if (!configId)
        return `${widgetId}_output_0`;
    const currentIndex = (_a = configId === null || configId === void 0 ? void 0 : configId.split('_')) === null || _a === void 0 ? void 0 : _a.pop();
    return `${widgetId}_output_${Number(currentIndex)}`;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/side-popper/index.tsx":
/*!**********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/side-popper/index.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SidePopper: () => (/* binding */ SidePopper),
/* harmony export */   _SidePopper: () => (/* binding */ _SidePopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/** @jsx jsx */




const leftSidebarLayoutId = 'left-sidebar-left-layout';
const rightSidebarLayoutId = 'right-sidebar-right-layout';
const modifiers = [{
        name: 'preventOverflow',
        options: {
            boundariesElement: 'viewport'
        }
    }];
/**
 * The `SidePopper` component is a popper which reference node is left/right side panel of builder.
 *
 * ```ts
 * import { SidePopper } from 'jimu-ui/advanced/setting-components'
 * ```
 */
class _SidePopper extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.closeBtnRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.popperRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.handleDocumentMousedown = (evt) => {
            if (this.props.isOpen) {
                const target = evt.target;
                const isTargetOutOfTrigger = !this.props.trigger || (Array.isArray(this.props.trigger) ? !this.props.trigger.some(t => !(0,jimu_ui__WEBPACK_IMPORTED_MODULE_3__.isOutBoundary)(target, t)) : (0,jimu_ui__WEBPACK_IMPORTED_MODULE_3__.isOutBoundary)(target, this.props.trigger));
                // If the clicked dom is out of trigger node, close side popper.
                if (isTargetOutOfTrigger) {
                    this.toggle();
                }
            }
        };
        this.toggle = () => {
            this.props.toggle();
        };
        this.keepFocusAfterClose = () => {
            /**
             * Wait for side popper is closed.
             */
            setTimeout(() => {
                var _a, _b;
                if (this.props.backToFocusNode) {
                    this.props.backToFocusNode.focus();
                }
                else {
                    if (Array.isArray(this.props.trigger)) {
                        (_a = this.props.trigger[0]) === null || _a === void 0 ? void 0 : _a.focus();
                    }
                    else {
                        (_b = this.props.trigger) === null || _b === void 0 ? void 0 : _b.focus();
                    }
                }
            }, 200);
        };
        this.onKeyDown = e => {
            var _a, _b;
            if (e.key === 'Esc' || e.key === 'Escape') {
                if (!((_a = this.popperRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target))) {
                    return;
                }
                if (e.target === this.closeBtnRef.current) {
                    this.toggle();
                }
                else {
                    (_b = this.closeBtnRef.current) === null || _b === void 0 ? void 0 : _b.focus();
                }
            }
        };
    }
    componentDidMount() {
        var _a;
        (_a = this.getReference(this.props.position)) === null || _a === void 0 ? void 0 : _a.addEventListener('mousedown', this.handleDocumentMousedown, false);
    }
    componentDidUpdate(prevProps) {
        var _a;
        const isReferencePanelClosed = (this.props.position === 'left' && prevProps.leftSidebarCollapse && !this.props.leftSidebarCollapse) ||
            (this.props.position === 'right' && prevProps.rightSidebarCollapse && !this.props.rightSidebarCollapse);
        const isSelectedWidgetNotTriggerWidget = this.props.widgetId && this.props.layoutSelection !== prevProps.layoutSelection && ((_a = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.searchUtils.findLayoutItem(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.utils.getAppConfig(), this.props.layoutSelection)) === null || _a === void 0 ? void 0 : _a.widgetId) !== this.props.widgetId;
        const isTemplatedPage = !prevProps.isTemplatePage && this.props.isTemplatePage;
        /**
         * Close the side popper if one of the following events happen.
         *  1. reference panel (right/left builder panel) is closed
         *  2. selected widget is not the widget which setting triggers side popper
         *  3. change page to template page
         */
        if (isReferencePanelClosed || isSelectedWidgetNotTriggerWidget || isTemplatedPage) {
            // Close the side popper.
            this.props.isOpen && this.toggle();
        }
        /**
         * After close the side popper, should keep the focus back to the trigger node.
         */
        if (prevProps.isOpen && !this.props.isOpen) {
            this.keepFocusAfterClose();
        }
    }
    componentWillUnmount() {
        var _a;
        (_a = this.getReference(this.props.position)) === null || _a === void 0 ? void 0 : _a.removeEventListener('mousedown', this.handleDocumentMousedown, false);
    }
    getReference(position) {
        return position === 'left'
            ? document && document.querySelector(`[data-layoutid="${leftSidebarLayoutId}"]`)
            : document && document.querySelector(`[data-layoutid="${rightSidebarLayoutId}"]`);
    }
    getPlacement(position) {
        return position === 'left' ? 'right-start' : 'left-start';
    }
    render() {
        const _a = this.props, { isOpen, position, className, dispatch, leftSidebarCollapse, rightSidebarCollapse, trigger, backToFocusNode, widgetId, layoutSelection, title, isTemplatePage, addFocusableContainerClass } = _a, others = __rest(_a, ["isOpen", "position", "className", "dispatch", "leftSidebarCollapse", "rightSidebarCollapse", "trigger", "backToFocusNode", "widgetId", "layoutSelection", "title", "isTemplatePage", "addFocusableContainerClass"]);
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Popper, Object.assign({ reference: this.getReference(position), placement: this.getPlacement(position), open: isOpen, forceLatestFocusElements: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('bg-light-300', className), modifiers: modifiers }, others, { toggle: null, onKeyDown: this.onKeyDown, "aria-label": typeof this.props['aria-label'] === 'string' ? this.props['aria-label'] : (typeof title === 'string' ? title : undefined) }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: this.popperRef },
                typeof title !== 'undefined' && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.PanelHeader, { title: title, showClose: true, onClose: this.toggle, level: 1, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('p-4', { [jimu_ui__WEBPACK_IMPORTED_MODULE_3__.FOCUSABLE_CONTAINER_CLASS]: addFocusableContainerClass }), closeButtonRef: this.closeBtnRef }),
                typeof title !== 'undefined'
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `height: calc(100% - 56px); overflow: auto;` }, this.props.children)
                    : this.props.children)));
    }
}
const SidePopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect((state, ownProps) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    return {
        /**
         * Currently, side-popper use left/right sidebar in builder as reference. When left/right sidebar is closed, side-popper should be closed, too.
         * So map these two state to side-popper's props to know when left/right sidebar is closed.
         */
        leftSidebarCollapse: (_b = (_a = state.widgetsState) === null || _a === void 0 ? void 0 : _a['left-sidebar']) === null || _b === void 0 ? void 0 : _b.collapse, // true means open, false means closed
        rightSidebarCollapse: (_d = (_c = state.widgetsState) === null || _c === void 0 ? void 0 : _c['right-sidebar']) === null || _d === void 0 ? void 0 : _d.collapse,
        layoutSelection: ownProps.widgetId
            ? ((_e = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _e === void 0 ? void 0 : _e.isBuilder) ? (_g = (_f = state.appStateInBuilder) === null || _f === void 0 ? void 0 : _f.appRuntimeInfo) === null || _g === void 0 ? void 0 : _g.selection : (_h = state.appRuntimeInfo) === null || _h === void 0 ? void 0 : _h.selection
            : null,
        isTemplatePage: ((_j = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _j === void 0 ? void 0 : _j.isBuilder) && ((_k = state.appRuntimeInfo) === null || _k === void 0 ? void 0 : _k.currentPageId) === 'template'
    };
})((0,jimu_theme__WEBPACK_IMPORTED_MODULE_2__.withStyles)(_SidePopper, 'SidePopper'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/size-mode-select/index.tsx":
/*!***************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/size-mode-select/index.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SizeMode: () => (/* binding */ SizeMode),
/* harmony export */   SizeModeSelector: () => (/* binding */ SizeModeSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_icons_outlined_application_check__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-icons/outlined/application/check */ "./jimu-icons/outlined/application/check.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */



var SizeMode;
(function (SizeMode) {
    SizeMode["Auto"] = "AUTO";
    SizeMode["Custom"] = "CUSTOM";
})(SizeMode || (SizeMode = {}));
class _SizeModeSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.toggleDropdown = () => {
            this.setState(prevState => ({
                dropdownOpen: !prevState.dropdownOpen
            }));
        };
        this.state = { dropdownOpen: false };
        this._onAutoSelected = this.onSelect.bind(this, SizeMode.Auto);
        this._onCustomSelected = this.onSelect.bind(this, SizeMode.Custom);
    }
    onSelect(mode) {
        if (this.props.mode !== mode) {
            this.props.onChange(mode);
        }
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .auto-dropdown.jimu-dropdown {
        width: 26px;
        height: 26px;

        .btn {
          padding: 0 !important;
        }
      }

      & > .jimu-dropdown .jimu-dropdown-button,
      & > .jimu-dropdown .jimu-dropdown-button:hover {
        height: 26px;
        padding: 0 0.375rem;
      }
    `;
    }
    autoInput() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Input, { style: { width: '110px' }, css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
          background-color: var(--light-600);
          border-color: var(--light-600);
          color: var(--black);
          height: 1.625rem;
          border-width: 0;
          padding: 0 0.25rem;
        `, disabled: true, value: this.props.intl.formatMessage({ id: 'auto' }) }));
    }
    render() {
        const { mode, intl } = this.props;
        const autoLabel = intl.formatMessage({ id: 'auto' });
        const customLabel = intl.formatMessage({ id: 'custom' });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex', css: this.getStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { className: 'auto-dropdown', isOpen: this.state.dropdownOpen, toggle: this.toggleDropdown },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownButton, { icon: true }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { onClick: this._onAutoSelected },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `width: 1rem;` }, mode === SizeMode.Auto && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_check__WEBPACK_IMPORTED_MODULE_1__.CheckOutlined, { size: 's' })),
                        autoLabel),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { onClick: this._onCustomSelected },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `width: 1rem;` }, mode === SizeMode.Custom && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_check__WEBPACK_IMPORTED_MODULE_1__.CheckOutlined, { size: 's' })),
                        customLabel))),
            mode === SizeMode.Auto && this.autoInput(),
            mode === SizeMode.Custom && this.props.children));
    }
}
const SizeModeSelector = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_SizeModeSelector);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/sort-setting/index.tsx":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/sort-setting/index.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortSetting: () => (/* binding */ SortSetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/data-source-selector */ "jimu-ui/advanced/data-source-selector");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_outlined_editor_edit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/editor/edit */ "./jimu-icons/outlined/editor/edit.tsx");
/* harmony import */ var jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/editor/plus */ "./jimu-icons/outlined/editor/plus.tsx");
/* harmony import */ var jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-ui/basic/list-tree */ "jimu-ui/basic/list-tree");
/* harmony import */ var jimu_icons_outlined_directional_sort_descending__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/outlined/directional/sort-descending */ "./jimu-icons/outlined/directional/sort-descending.tsx");
/* harmony import */ var jimu_icons_outlined_directional_sort_ascending__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/directional/sort-ascending */ "./jimu-icons/outlined/directional/sort-ascending.tsx");
/* harmony import */ var jimu_icons_outlined_application_more_vertical__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/application/more-vertical */ "./jimu-icons/outlined/application/more-vertical.tsx");
/** @jsx jsx */
/* eslint-disable prefer-const */











// #endregion
class _Sort extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.preValue = null;
        this.initRuleOptionName = (value, preValue) => {
            var _a, _b;
            const ruleOptionName = (value === null || value === void 0 ? void 0 : value.map(item => item === null || item === void 0 ? void 0 : item.ruleOptionName)) || [];
            const preRuleOptionName = (preValue === null || preValue === void 0 ? void 0 : preValue.map(item => item === null || item === void 0 ? void 0 : item.ruleOptionName)) || [];
            let isRuleOptionNameChange = false;
            if ((value === null || value === void 0 ? void 0 : value.length) !== (preValue === null || preValue === void 0 ? void 0 : preValue.length) || ruleOptionName.join('') !== preRuleOptionName.join('')) {
                isRuleOptionNameChange = true;
                this.initEditOptionNameStatus(value);
            }
            if (isRuleOptionNameChange || (!((_b = (_a = this.state) === null || _a === void 0 ? void 0 : _a.ruleOptionName) === null || _b === void 0 ? void 0 : _b.length) && (ruleOptionName === null || ruleOptionName === void 0 ? void 0 : ruleOptionName.length) > 0)) {
                this.setState({
                    ruleOptionName: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(ruleOptionName)
                });
            }
        };
        this.initEditOptionNameStatus = (value) => {
            const newEditOptionNameStatus = value.map(item => false);
            this.setState({
                editOptionNameStatus: newEditOptionNameStatus
            });
        };
        // #region action
        this.initData = () => {
            if (Array.isArray(this.props.value) && this.props.value.length) {
                return false;
            }
            const _option = this.deepClone(this.state.option);
            _option.ruleOptionName = this.props.intl.formatMessage({ id: 'option', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.option }) + 0;
            const _sortData = [_option];
            this.props.onChange(_sortData);
        };
        this.onOptionChange = (ruleIndex, optionIndex, changeName, changeValue) => {
            const _sortData = this.deepClone(this.props.value);
            _sortData[optionIndex].rule[ruleIndex][changeName] = changeValue;
            this.props.onChange(_sortData, optionIndex);
        };
        this.onOptionKeyUp = (evt, ruleIndex, optionIndex, changeName, changeValue) => {
            if (evt.key === 'Enter' || evt.key === ' ') {
                this.onOptionChange(ruleIndex, optionIndex, changeName, changeValue);
            }
        };
        this.onSelectChange = (allSelectedFields, ruleIndex, optionIndex) => {
            const field = allSelectedFields[0];
            if (!field) {
                return;
            }
            const _sortData = this.deepClone(this.props.value);
            const selectedData = field.name;
            _sortData[optionIndex].rule[ruleIndex].jimuFieldName = selectedData;
            this.props.onChange(_sortData, optionIndex);
        };
        this.addOption = () => {
            const _isValueValid = Array.isArray(this.props.value);
            const _optionIndex = _isValueValid ? this.props.value.length : 0;
            const _optionText = this.createOptionText(_optionIndex);
            const _option = this.deepClone(this.state.option);
            _option.ruleOptionName = _optionText;
            const _sortData = _isValueValid ? this.deepClone(this.props.value) : [];
            _sortData.push(_option);
            this.props.onChange(_sortData);
        };
        this.createOptionText = (index) => {
            const _optionText = this.props.intl.formatMessage({ id: 'option', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.option }) + index;
            if (!this.isOptionNameRepeat(_optionText)) {
                return _optionText;
            }
            const _index = index + 1;
            return this.createOptionText(_index);
        };
        this.deleteOption = (index, e) => {
            if (e && (e.key !== 'Enter' && e.key !== ' ')) {
                return false;
            }
            const _sortData = this.deepClone(this.props.value);
            _sortData.splice(index, 1);
            this.props.onChange(_sortData);
        };
        this.deleteAll = () => {
            this.props.onChange([]);
        };
        this.toggleOptionNameDisplay = (optionIndex, isOpen = false, e) => {
            const { editOptionNameStatus } = this.state;
            if (e && (e.key !== 'Enter' && e.key !== ' ')) {
                return false;
            }
            const newEditOptionNameStatus = (editOptionNameStatus === null || editOptionNameStatus === void 0 ? void 0 : editOptionNameStatus.asMutable({ deep: true })) || [];
            newEditOptionNameStatus[optionIndex] = isOpen;
            this.setState({
                editOptionNameStatus: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newEditOptionNameStatus)
            }, () => {
                var _a;
                (_a = this.inputRef) === null || _a === void 0 ? void 0 : _a.select();
            });
        };
        this.handleOptionNameChange = (optionIndex, value) => {
            if (!value)
                return;
            const _sortData = this.deepClone(this.props.value);
            const _optionName = value;
            const _isOptionNameValid = !this.isOptionNameRepeat(_optionName) && _optionName;
            if (_isOptionNameValid) {
                _sortData[optionIndex].ruleOptionName = _optionName;
            }
            this.props.onChange(_sortData);
        };
        this.isOptionNameRepeat = (optionName) => {
            if (!Array.isArray(this.props.value))
                return false;
            let isHasOption = false;
            this.props.value.forEach((el) => {
                if (el.ruleOptionName === optionName)
                    isHasOption = true;
            });
            return isHasOption;
        };
        this.deepClone = (obj) => {
            const isArray = Array.isArray(obj);
            const cloneObj = isArray ? [] : {};
            for (const key in obj) {
                const isObject = (typeof obj[key] === 'object' || typeof obj[key] === 'function') && obj[key] !== null;
                cloneObj[key] = isObject ? this.deepClone(obj[key]) : obj[key];
            }
            return cloneObj;
        };
        this.setInputRef = (el) => {
            if (el) {
                this.inputRef = el;
                // el.select()
                el.focus();
            }
        };
        this.createRuleOptionElement = (useDataSources, rule, index, optionIndex) => {
            // select element
            const _selectedFields = rule.jimuFieldName ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([rule.jimuFieldName]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            const ruleOption = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-down-con', key: rule.jimuFieldName || index },
                this.props.useDataSource &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'sort-field-selector' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_3__.FieldSelector, { useDataSources: useDataSources, onChange: (allSelectedFields, ds) => { this.onSelectChange(allSelectedFields, index, optionIndex); }, selectedFields: _selectedFields, isSearchInputHidden: true, isDataSourceDropDownHidden: true, useDropdown: true, useKeyUpEvent: true })),
                [{
                        getTitle: () => this.nls('ascending'),
                        order: jimu_core__WEBPACK_IMPORTED_MODULE_0__.OrderRule.Asc
                    }, {
                        getTitle: () => this.nls('decending'),
                        order: jimu_core__WEBPACK_IMPORTED_MODULE_0__.OrderRule.Desc
                    }].map((item, x, items) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { key: x, title: item.getTitle(), size: 'sm', type: rule.order === item.order ? 'primary' : 'secondary', className: `sort-button ${this.props.singleRowItemOnly && rule.order !== item.order ? 'collapse' : ''}`, onClick: () => { this.onOptionChange(index, optionIndex, 'order', this.props.singleRowItemOnly ? [...items, items[0]][x + 1].order : item.order); }, onKeyUp: (evt) => { this.onOptionKeyUp(evt, index, optionIndex, 'order', this.props.singleRowItemOnly ? [...items, items[0]][x + 1].order : item.order); } },
                        item.order === jimu_core__WEBPACK_IMPORTED_MODULE_0__.OrderRule.Asc && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_sort_ascending__WEBPACK_IMPORTED_MODULE_9__.SortAscendingOutlined, { size: '12', className: 'sort-arrow-down-icon' }),
                        item.order === jimu_core__WEBPACK_IMPORTED_MODULE_0__.OrderRule.Desc && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_sort_descending__WEBPACK_IMPORTED_MODULE_8__.SortDescendingOutlined, { size: '12', className: 'sort-arrow-down-icon' })));
                })));
            return ruleOption;
        };
        this.onRuleOptionNameChange = (e, index) => {
            var _a;
            const value = e.target.value;
            const newRuleOptionName = ((_a = this.state.ruleOptionName) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })) || [];
            newRuleOptionName[index] = value;
            this.setState({
                ruleOptionName: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newRuleOptionName)
            });
        };
        this.createOptionNameElement = (el, optionIndex) => {
            var _a;
            const { editOptionNameStatus } = this.state;
            // edit option name input element
            const _optionName = el.ruleOptionName;
            const _optionNameInInput = (_a = this.state.ruleOptionName) === null || _a === void 0 ? void 0 : _a[optionIndex];
            const _placeholder = this.props.intl.formatMessage({ id: 'optionNamePlaceholder', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.optionNamePlaceholder });
            const editOptionNameInputEle = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.TextInput, { className: 'flex-grow-1 h-100 edit-input', size: 'sm', type: 'text', defaultValue: _optionName, onChange: (e) => { this.onRuleOptionNameChange(e, optionIndex); }, onAcceptValue: value => { this.handleOptionNameChange(optionIndex, value); }, onBlur: () => { this.toggleOptionNameDisplay(optionIndex, false); }, ref: el => { this.setInputRef(el); }, placeholder: _placeholder, title: _optionNameInInput || _placeholder, "aria-label": _optionNameInInput || _placeholder }));
            const _optionNameElement = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'option-name d-flex align-items-center flex-grow-1', "aria-label": _optionName },
                editOptionNameStatus[optionIndex] ? editOptionNameInputEle : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: 'optionNameCon', title: _optionName, onDoubleClick: () => { this.toggleOptionNameDisplay(optionIndex, true); } }, _optionName),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', type: 'tertiary', icon: true, className: 'padding-0 option-name-icon-con', title: this.nls('edit'), "aria-describedby": 'optionNameCon', onClick: () => { this.toggleOptionNameDisplay(optionIndex, !editOptionNameStatus[optionIndex]); }, onKeyDown: e => { this.toggleOptionNameDisplay(optionIndex, !editOptionNameStatus[optionIndex], e); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_edit__WEBPACK_IMPORTED_MODULE_5__.EditOutlined, { size: 's', className: 'option-name-icon' }))));
            return _optionNameElement;
        };
        this.createOptionElement = (useDataSources, el, index) => {
            let _deleteTemp;
            // delete button element
            _deleteTemp = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'close-con text-right' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', icon: true, type: 'tertiary', className: 'padding-0', title: this.nls('deleteOption'), onClick: () => { this.deleteOption(index); }, onKeyUp: (e) => { this.deleteOption(index, e); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_4__.CloseOutlined, { size: this.props.singleRowItemOnly ? 14 : 12, className: 'sort-arrow-down-icon' }))));
            const getOptionSelect = () => el.rule.map((ruleEl, ruleIndex) => {
                return this.createRuleOptionElement(useDataSources, ruleEl, ruleIndex, index);
            });
            const getOptionName = () => this.createOptionNameElement(el, index);
            // option list element
            const _options = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-con flex-grow-1', key: index, role: 'group', "aria-label": el.ruleOptionName }, (this.props.singleRowItemOnly &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'option-name-con' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_more_vertical__WEBPACK_IMPORTED_MODULE_10__.MoreVerticalOutlined, { size: 14 }),
                        getOptionSelect(),
                        _deleteTemp))) ||
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'option-name-con d-flex align-items-center' },
                        getOptionName(),
                        _deleteTemp),
                    getOptionSelect())));
            return _options;
        };
        this.nls = (id) => {
            return this.props.intl ? this.props.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages[id] }) : id;
        };
        this.onDataSourceCreated = (e) => {
        };
        // #endregion
        this.checkIsOrderChange = () => {
            var _a, _b;
            const { value } = this.props;
            if ((value === null || value === void 0 ? void 0 : value.length) !== ((_a = this.preValue) === null || _a === void 0 ? void 0 : _a.length)) {
                return false;
            }
            const ruleOptionName = (value === null || value === void 0 ? void 0 : value.map(item => item === null || item === void 0 ? void 0 : item.ruleOptionName)) || [];
            const preRuleOptionName = ((_b = this.preValue) === null || _b === void 0 ? void 0 : _b.map(item => item === null || item === void 0 ? void 0 : item.ruleOptionName)) || [];
            return (ruleOptionName === null || ruleOptionName === void 0 ? void 0 : ruleOptionName.join('')) !== (preRuleOptionName === null || preRuleOptionName === void 0 ? void 0 : preRuleOptionName.join(''));
        };
        this.state = {
            option: {
                ruleOptionName: '',
                isEditOptionName: false,
                rule: [
                    {
                        jimuFieldName: '',
                        order: jimu_core__WEBPACK_IMPORTED_MODULE_0__.OrderRule.Asc
                    }
                ]
            },
            ruleOptionName: null,
            editOptionNameStatus: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([])
        };
    }
    // #region life cycle
    componentDidMount() {
        this.initData();
    }
    // #endregion
    componentDidUpdate(prevProps, prevState) {
        var _a, _b, _c, _d;
        this.preValue = prevProps === null || prevProps === void 0 ? void 0 : prevProps.value;
        this.initRuleOptionName((_a = this.props) === null || _a === void 0 ? void 0 : _a.value, prevProps === null || prevProps === void 0 ? void 0 : prevProps.value);
        if (((_b = prevProps === null || prevProps === void 0 ? void 0 : prevProps.useDataSource) === null || _b === void 0 ? void 0 : _b.dataSourceId) !== ((_d = (_c = this.props) === null || _c === void 0 ? void 0 : _c.useDataSource) === null || _d === void 0 ? void 0 : _d.dataSourceId)) {
            Promise.resolve(true).then(() => {
                this.initData();
            });
        }
    }
    render() {
        const { value } = this.props;
        const isOrderChange = this.checkIsOrderChange();
        const invalidExpression = this.props.intl.formatMessage({ id: 'invalidExpression', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.invalidExpression });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('sort-con', this.props.singleRowItemOnly && 'single-row-item', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: 'tertiary', className: 'add-option-btn', onClick: this.addOption },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_6__.PlusOutlined, { size: 's', className: 'add-option-icon' }),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'addOption', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.addOption }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: this.props.useDataSource, onDataSourceCreated: this.onDataSourceCreated }, (ds) => {
                    if (!Array.isArray(value))
                        return invalidExpression;
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.List, { size: 'sm', className: 'setting-ui-unit-list', itemsJson: value.asMutable({ deep: true }).map((i, x) => ({ itemStateDetailContent: i, itemKey: `${x}` })), dndEnabled: true, onUpdateItem: (actionData, refComponent) => {
                            const { itemJsons } = refComponent.props;
                            const [, parentItemJson] = itemJsons;
                            const newSortData = parentItemJson.map(item => {
                                return item.itemStateDetailContent;
                            });
                            if (isOrderChange) {
                                this.props.onChange(newSortData);
                            }
                        }, overrideItemBlockInfo: ({ itemBlockInfo }) => {
                            return {
                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItem,
                                children: [{
                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItemDroppableContainer,
                                        children: [{
                                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItemDraggableContainer,
                                                children: [{
                                                        name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItemBody,
                                                        children: [{
                                                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItemDragHandle
                                                            }, {
                                                                name: jimu_ui_basic_list_tree__WEBPACK_IMPORTED_MODULE_7__.TreeItemActionType.RenderOverrideItemMainLine
                                                            }]
                                                    }]
                                            }]
                                    }]
                            };
                        }, renderOverrideItemMainLine: (actionData, refComponent) => {
                            var _a;
                            const { itemJsons } = refComponent.props;
                            const currentItemJson = itemJsons[0];
                            const listItemJsons = itemJsons[1];
                            return this.createOptionElement((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([(_a = this.props.useDataSource) === null || _a === void 0 ? void 0 : _a.asMutable({ deep: true })]), currentItemJson.itemStateDetailContent, listItemJsons.indexOf(currentItemJson));
                        } }));
                }),
                Array.isArray(value) && value.length === 0 && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'no-sort-remind' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.props.intl.formatMessage({ id: 'noOptionRemindText', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.noOptionRemindText })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.props.intl.formatMessage({ id: 'pleaceAddOne', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.pleaceAddOne }))))));
    }
}
const SortSetting = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_Sort), 'SortSetting');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/style-picker/index.tsx":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/style-picker/index.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StylePicker: () => (/* binding */ StylePicker),
/* harmony export */   _StylePicker: () => (/* binding */ _StylePicker)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");


class _StylePicker extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.onStyleClick = value => {
            if (this.state.selectedValue === value)
                return;
            this.setState({
                selectedValue: value
            });
            if (this.props.onChange) {
                this.props.onChange(value);
            }
        };
        this.state = {
            selectedValue: this.props.value
        };
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.value !== this.props.value) {
            this.setState({
                selectedValue: this.props.value
            });
        }
    }
    render() {
        const styles = this.props.styles;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('widget-setting--stylepicker w-100', {
                small: this.props.size === 'small'
            }) }, Object.keys(styles).map((uId, index) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { key: uId, role: 'button', className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('widget-setting--stylepicker-item', {
                active: uId === this.state.selectedValue,
                'full-width': styles[uId].size === 'full'
            }), style: { backgroundImage: `url(${styles[uId].thumbnail})` }, onClick: () => { this.onStyleClick(uId); } }))));
    }
}
/**
 * @deprecated Deprecated since there is no place for use
 */
const StylePicker = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_StylePicker, 'StylePicker');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/card-layout-setting.tsx":
/*!*******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/card-layout-setting.tsx ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CardLayoutSetting: () => (/* binding */ CardLayoutSetting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout */ "./jimu-ui/advanced/lib/setting-components/components/layout/index.ts");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/type.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/suggested/warning */ "./jimu-icons/outlined/suggested/warning.tsx");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/utils.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/** @jsx jsx */








const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
  .jimu-radio {
    cursor: pointer;
  }
  .clear-padding {
    padding-left: 0;
    padding-right: 0;
  }
`;
const ModalStyle = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
  & .modal-content {
    border: none;
  }
  .header-con {
    & {
      border: none;
      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-bottom: 0;
    }
    svg {
      color: var(--warning-600);
      border-bottom: none;
      margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)} !important;
    }
  }
  .modal-body {
    padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
  }
  .modal-footer {
    & {
      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-top: 0;
    }
  }
`;
const CardLayoutSetting = (props) => {
    const { id, cardLayout, status, isCardWidget, browserSizeMode, layouts, mainSizeMode, config, appConfig } = props;
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false);
    const [reminderTitle, setReminderTitle] = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(null);
    const [reminderText, setReminderText] = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(null);
    const [reminderBottomText, setReminderBottomText] = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(null);
    const layout = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(cardLayout);
    const oldLayout = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(cardLayout);
    (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(() => {
        layout.current = props.cardLayout;
        oldLayout.current = props.cardLayout;
    }, [status, props]);
    const handleToggle = () => {
        setIsOpen(!isOpen);
        layout.current = oldLayout.current;
    };
    const handleConfirm = () => {
        const regularLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.searchUtils.findLayoutId(layouts[_type__WEBPACK_IMPORTED_MODULE_2__.Status.Default], browserSizeMode, mainSizeMode);
        const desLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.searchUtils.findLayoutId(layouts[status], browserSizeMode, mainSizeMode);
        const option = {
            layout: layout.current,
            config: config,
            widgetId: id,
            appConfig: appConfig,
            status: status,
            regularLayoutId: regularLayoutId,
            desLayoutId: desLayoutId,
            label: nls(status.toLowerCase()),
            isCardWidget
        };
        if (layout.current === _type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.AUTO) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_6__.setLayoutAuto)(option);
        }
        else {
            (0,_utils__WEBPACK_IMPORTED_MODULE_6__.setLayoutCustom)(option);
        }
        setIsOpen(false);
        oldLayout.current = layout.current;
    };
    const handleLayoutChange = (newLayout) => {
        if (oldLayout.current === newLayout)
            return;
        if (newLayout === _type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.AUTO) {
            setReminderTitle(nls('remindAutoLayoutTitle'));
            setReminderText(nls('remindAutoLayoutText'));
            setReminderBottomText('');
        }
        else {
            setReminderTitle(nls('remindCustomLayoutTitle'));
            setReminderText(nls('remindCustomLayoutText'));
            setReminderBottomText(nls('remindCustomLayoutBottomText'));
        }
        setIsOpen(true);
        layout.current = newLayout;
    };
    const renderRemindModel = () => {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Modal, { isOpen: isOpen, toggle: handleToggle, centered: true, css: ModalStyle },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.ModalHeader, { closeIcon: '', className: 'header-con' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_4__.WarningOutlined, { className: 'mr-2', size: 24 }),
                reminderTitle),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.ModalBody, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, reminderText),
                reminderBottomText && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-5' }, reminderBottomText)),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.ModalFooter, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { title: nls('ok'), type: 'primary', onClick: handleConfirm }, nls('ok')),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { title: nls('cancel'), onClick: () => { setIsOpen(false); } }, nls('cancel')))));
    };
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages, jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages);
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: STYLE, role: 'group', "aria-label": nls('layout') },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.SettingSection, { className: 'clear-padding', title: nls('layout') },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.SettingRow, { flow: 'wrap' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center', onClick: () => { handleLayoutChange(_type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.AUTO); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Radio, { title: nls('auto'), checked: cardLayout === _type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.AUTO, className: 'mr-2' }),
                    " ",
                    nls('auto'))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.SettingRow, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center', onClick: () => { handleLayoutChange(_type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.CUSTOM); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Radio, { title: nls('custom'), checked: cardLayout === _type__WEBPACK_IMPORTED_MODULE_2__.CardLayout.CUSTOM || !cardLayout, className: 'mr-2' }),
                    " ",
                    nls('custom'))),
            renderRemindModel())));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/index.ts":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/index.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CardLayout: () => (/* reexport safe */ _type__WEBPACK_IMPORTED_MODULE_1__.CardLayout),
/* harmony export */   CardLayoutSetting: () => (/* reexport safe */ _card_layout_setting__WEBPACK_IMPORTED_MODULE_0__.CardLayoutSetting),
/* harmony export */   Status: () => (/* reexport safe */ _type__WEBPACK_IMPORTED_MODULE_1__.Status),
/* harmony export */   setLayoutAuto: () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.setLayoutAuto),
/* harmony export */   setLayoutCustom: () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.setLayoutCustom)
/* harmony export */ });
/* harmony import */ var _card_layout_setting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card-layout-setting */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/card-layout-setting.tsx");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/type.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/utils.ts");





/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/type.ts":
/*!***************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/type.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CardLayout: () => (/* binding */ CardLayout),
/* harmony export */   Status: () => (/* binding */ Status)
/* harmony export */ });
var CardLayout;
(function (CardLayout) {
    CardLayout["AUTO"] = "Auto";
    CardLayout["CUSTOM"] = "Custom";
})(CardLayout || (CardLayout = {}));
var Status;
(function (Status) {
    Status["Default"] = "DEFAULT";
    Status["Selected"] = "SELECTED";
    Status["Hover"] = "HOVER";
})(Status || (Status = {}));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/utils.ts":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/utils.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setLayoutAuto: () => (/* binding */ setLayoutAuto),
/* harmony export */   setLayoutCustom: () => (/* binding */ setLayoutCustom)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ "jimu-for-builder");


const setLayoutAuto = (option) => {
    const { layout, desLayoutId, config, widgetId, status, isCardWidget } = option;
    const action = (0,jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__.getAppConfigAction)();
    desLayoutId && action.removeLayout(desLayoutId);
    const newConfig = getNewWidgetConfig(config, isCardWidget, layout, status);
    action.editWidgetConfig(widgetId, newConfig);
    action.editWidgetProperty(widgetId, `layouts.${status}`, {});
    action.exec();
};
const setLayoutCustom = (option) => {
    var _a;
    const { layout, regularLayoutId, config, widgetId, appConfig, status, label, isCardWidget } = option;
    const browserSizeMode = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder.browserSizeMode;
    const action = (0,jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__.getAppConfigAction)();
    const newLayoutJson = action.duplicateLayout(regularLayoutId, false);
    action.editLayoutProperty(newLayoutJson.id, 'label', label);
    const preLayoutId = (_a = appConfig.widgets[widgetId].layouts[status]) === null || _a === void 0 ? void 0 : _a[browserSizeMode];
    preLayoutId && action.removeLayout(preLayoutId);
    const newConfig = getNewWidgetConfig(config, isCardWidget, layout, status);
    action.editWidgetConfig(widgetId, newConfig);
    action.editWidgetProperty(widgetId, `layouts.${status}.${browserSizeMode}`, newLayoutJson.id);
    action.editLayoutProperty(newLayoutJson.id, 'parent', { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutParentType.Widget, id: widgetId });
    action.exec();
};
function getNewWidgetConfig(config, isCardWidget, layout, status) {
    let newConfig = config;
    if (isCardWidget) {
        newConfig = config.set('cardLayout', layout);
    }
    else {
        newConfig = config.setIn(['cardConfigs', status, 'listLayout'], layout);
    }
    return newConfig;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/template-selector/index.tsx":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/template-selector/index.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateSelector: () => (/* binding */ TemplateSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _template_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template-list */ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-list.tsx");
/* harmony import */ var _page_aware_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../page-aware-popper */ "./jimu-ui/advanced/lib/setting-components/components/page-aware-popper.tsx");
/** @jsx jsx */




const MODIFIERS = [
    {
        name: 'preventOverflow',
        options: {
            altAxis: true,
            boundariesElement: 'viewport',
            padding: { bottom: 20 }
        }
    },
    {
        name: 'flip',
        options: {
            fallbackPlacements: ['right', 'left']
        }
    }
];
function TemplateSelector(props) {
    const { title, templates, templateContentStyle, referenceElement, onItemSelect, onClose } = props;
    const theme = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        if (props.theme) {
            return props.theme;
        }
        if (window.jimuConfig.isInBuilder) {
            return (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getTheme2)();
        }
        return (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getTheme)();
    }, [props.theme]);
    const style = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    min-width: 300px;
    width: auto;
    border: 1px solid ${theme ? theme.colors.palette.light[600] : 'var(--light-600)'};
    box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);

    .template-content {
      max-height: 600px;
      height: ${title ? 'calc(100% - 50px)' : '100%'};
      overflow: auto;
    }

    .size-mode-SMALL & .template-content {
      width: 320px;
    }
  `, [theme, title]);
    const togglePopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback(() => {
        onClose === null || onClose === void 0 ? void 0 : onClose();
        if (typeof (referenceElement === null || referenceElement === void 0 ? void 0 : referenceElement.focus) === 'function') {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
                referenceElement === null || referenceElement === void 0 ? void 0 : referenceElement.focus();
            });
        }
    }, [onClose, referenceElement]);
    const handleSelect = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((item) => {
        togglePopper();
        onItemSelect(item);
    }, [togglePopper, onItemSelect]);
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_page_aware_popper__WEBPACK_IMPORTED_MODULE_3__["default"], { placement: 'bottom', theme: theme, css: style, reference: referenceElement, offset: [0, 10], toggle: togglePopper, open: true, showArrow: true, modifiers: MODIFIERS },
        title && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { className: 'text-dark-600 text-truncate title px-5 pt-4 mb-0' }, title)),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'template-content', style: templateContentStyle },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_template_list__WEBPACK_IMPORTED_MODULE_2__.TemplateList, { templates: templates, onItemSelect: handleSelect }))));
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-item.tsx":
/*!************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/template-selector/template-item.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateItem: () => (/* binding */ TemplateItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */


function TemplateItem(props) {
    var _a, _b, _c, _d;
    const { template, onClick } = props;
    const locale = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appContext.locale;
    const label = (_b = (_a = template.i18nLabel) === null || _a === void 0 ? void 0 : _a[locale]) !== null && _b !== void 0 ? _b : template.label;
    const desc = (_d = (_c = template.i18nDescription) === null || _c === void 0 ? void 0 : _c[locale]) !== null && _d !== void 0 ? _d : template.description;
    const multipleIcon = template.gifThumbnail != null;
    const descId = 'templage_desc_' + template.name;
    const style = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    transform: ${(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appContext.isRTL && template.flipThumbnail ? 'scaleX(-1);' : ''}  ;
  `, [template]);
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'block-item' },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tooltip, { title: desc },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { role: 'option', "aria-label": label, "aria-describedby": descId, onClick: onClick, className: 'block-item--icon p-0' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('default-icon', { 'multiple-icon': multipleIcon }), css: style, src: template.thumbnail, draggable: false, width: template.thumbnailWidth / 2, height: template.thumbnailHeight / 2 }),
                multipleIcon && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('gif-icon', { 'multiple-icon': multipleIcon }), css: style, draggable: false, src: template.gifThumbnail })))),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { "aria-hidden": true, className: 'block-item-label text-center mt-2', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `max-width: ${template.thumbnailWidth / 2}px` }, label),
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { "aria-hidden": true, className: 'sr-only', id: descId }, desc)));
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-list.tsx":
/*!************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/template-selector/template-list.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateList: () => (/* binding */ TemplateList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _template_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template-item */ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-item.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/** @jsx jsx */



function TemplateList(props) {
    const { templates, onItemSelect } = props, otherProps = __rest(props, ["templates", "onItemSelect"]);
    const theme = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getBuilderThemeVariables)(), []);
    const style = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    width: auto;
    padding: 20px;
    background-color: ${theme ? theme.colors.palette.light[300] : 'var(--light-300)'};
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-row-gap: 10px;
    grid-column-gap: 10px;

    .block-item {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      cursor: pointer;
      padding: 0;

      .jimu-btn {
        border-radius: unset !important;
      }

      .block-item--icon {
        background: ${theme ? theme.colors.palette.light[200] : 'var(--light-200)'};
        border: none;
        position: relative;

        .default-icon {
          opacity: 1;
        }
        .gif-icon {
          opacity: 0;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
      }
      .block-item--icon:hover {
        outline: 2px solid ${theme ? theme.colors.palette.primary[600] : 'var(--primary-600)'};
        .default-icon.multiple-icon {
          opacity: 0;
        }
        .gif-icon {
          opacity: 1;
        }
      }

      .block-item-label {
        color: ${theme ? theme.colors.palette.dark[400] : 'var(--dark-400)'};
      }
    }

    .size-mode-SMALL & .block-item {
      width: 140px;
      height: auto;
    }
  `, [theme]);
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", Object.assign({ className: window.jimuConfig.isInBuilder ? jimu_theme__WEBPACK_IMPORTED_MODULE_1__.Theme2GlobalStyleClassName : '', css: style }, otherProps, { role: 'listbox' }), templates.map((template) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_template_item__WEBPACK_IMPORTED_MODULE_2__.TemplateItem, { key: template.name, template: template, onClick: () => { onItemSelect(template); } })))));
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/index.tsx":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/index.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WidgetListPopper: () => (/* binding */ WidgetListPopper)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _page_aware_popper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../page-aware-popper */ "./jimu-ui/advanced/lib/setting-components/components/page-aware-popper.tsx");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _widget_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./widget-list */ "./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/widget-list.tsx");
/** @jsx jsx */






const MODIFIERS = [
    (0,jimu_ui__WEBPACK_IMPORTED_MODULE_1__.getFallbackPlacementsModifier)(['top', 'right', 'bottom', 'left'], true),
    {
        name: 'preventOverflow',
        enabled: true,
        options: {
            boundariesElement: 'viewport',
            padding: 0
        }
    }
];
class _WidgetListPopper extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.togglePopper = (evt) => {
            if (this.state.open && this.props.onClose) {
                this.props.onClose(evt);
            }
        };
        this.onWidgetLoaded = () => {
            this.setState({ generation: this.state.generation + 1 });
        };
        this.state = {
            open: true,
            generation: 0
        };
    }
    getStyle() {
        const { theme } = this.props;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      background-color: ${theme.colors.palette.light[400]};
      color: ${theme.colors.palette.dark[800]};

      .content {
        height: 600px;
        width: 380px;
        overflow: hidden;
        padding: 0;
      }

      .title {
        font-size: 16px;
        font-weight: 600;
        color: ${theme.colors.palette.dark[600]};
      }

      .px-20 {
        padding-left: 20px;
        padding-right: 20px;
      }

      .pt-20 {
        padding-top: 20px;
      }
    `;
    }
    render() {
        var _a;
        if (!this.state.open) {
            return null;
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_page_aware_popper__WEBPACK_IMPORTED_MODULE_2__["default"], { theme: this.props.theme, placement: (_a = this.props.placement) !== null && _a !== void 0 ? _a : 'bottom', toggle: this.togglePopper, css: this.getStyle(), version: this.state.generation, modifiers: MODIFIERS, reference: this.props.referenceElement, open: true, forceLatestFocusElements: true },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'shadow-lg content', css: this.props.css },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center px-20 pt-20' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'title' }, this.props.intl.formatMessage({ id: 'addWidget', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addWidget })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: 'sm', icon: true, type: 'tertiary', onClick: this.togglePopper, title: this.props.intl.formatMessage({ id: 'close', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.close }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_3__.CloseOutlined, null))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_widget_list__WEBPACK_IMPORTED_MODULE_5__.WidgetList, { isPlaceholder: this.props.isPlaceholder, isAccepted: this.props.isAccepted, onSelect: this.props.onSelect, onWidgetLoaded: this.onWidgetLoaded, theme: this.props.theme }))));
    }
}
_WidgetListPopper.defaultProps = {
    isPlaceholder: false,
    isAccepted: () => true
};
const WidgetListPopper = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_4__.withTheme2)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_WidgetListPopper));


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/widget-list.tsx":
/*!***********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/widget-list.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WidgetList: () => (/* binding */ WidgetList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_filled_brand_arcgis_enterprise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/brand/arcgis-enterprise */ "./jimu-icons/filled/brand/arcgis-enterprise.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ "./jimu-icons/outlined/editor/search.tsx");
/** @jsx jsx */





const ALL_GROUP_VALUE = 1000;
class _WidgetList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.sectionItem = {
            itemType: jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section,
            label: this.props.intl.formatMessage({ id: 'section', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.section }),
            uri: '',
            manifest: {
                properties: {},
                defaultSize: {
                    width: 500,
                    height: 500
                }
            },
            icon: '../builder/widgets/element-selector/dist/runtime/assets/section.svg',
            name: 'section',
            group: 9,
            order: 900
        };
        this.groupLabelMap = {
            1: this.props.intl.formatMessage({ id: 'mapCentric', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.mapCentric }),
            2: this.props.intl.formatMessage({ id: 'dataCentric', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.dataCentric }),
            3: this.props.intl.formatMessage({ id: 'pageElements', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.pageElements }),
            4: this.props.intl.formatMessage({ id: 'menuAndTollbars', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.menuAndTollbars }),
            8: this.props.intl.formatMessage({ id: 'layout', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.layout }),
            9: this.props.intl.formatMessage({ id: 'section', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.section })
        };
        this.allGroup = {
            value: ALL_GROUP_VALUE,
            label: this.props.intl.formatMessage({ id: 'all', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.all })
        };
        this.getRequireEnterpriseIconTooltip = (requiredUserTypeExtensions) => {
            if ((requiredUserTypeExtensions === null || requiredUserTypeExtensions === void 0 ? void 0 : requiredUserTypeExtensions.length) > 0) {
                const userTypeExtensions = requiredUserTypeExtensions.join(', ');
                return this.props.intl.formatMessage({ id: 'requireEnterpriseAndUserTypeExtensions', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requireEnterpriseAndUserTypeExtensions }, { userTypeExtensions });
            }
            else {
                return this.props.intl.formatMessage({ id: 'requireEnterprise', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.requireEnterprise });
            }
        };
        this.WidgetCard = ({ widgetInfo }) => {
            var _a, _b, _c, _d;
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-start justify-content-center widget-card' },
                ((_a = widgetInfo.manifest) === null || _a === void 0 ? void 0 : _a.requireEnterprise) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { title: this.getRequireEnterpriseIconTooltip((_b = widgetInfo.manifest) === null || _b === void 0 ? void 0 : _b.requiredUserTypeExtensions), type: 'tertiary', className: 'widget-enterprise-btn', icon: true, size: 'sm' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_filled_brand_arcgis_enterprise__WEBPACK_IMPORTED_MODULE_2__.ArcgisEnterpriseFilled, null)),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'w-100 h-100 p-0', key: widgetInfo.name, onClick: () => { this.props.onSelect(widgetInfo); }, "aria-label": widgetInfo.label },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex flex-column w-100 h-100 widget-card--content' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-center' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-card-image' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { size: 20, className: 'w-100 m-0', autoFlip: (_d = (_c = widgetInfo.manifest) === null || _c === void 0 ? void 0 : _c.properties) === null || _d === void 0 ? void 0 : _d.flipIcon, icon: typeof widgetInfo.icon === 'string' ? widgetInfo.icon : widgetInfo.icon && widgetInfo.icon.svg, color: this.props.theme.colors.dark }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 d-flex align-items-center' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-card-name w-100 text-center text-capitalize text-truncate', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
                line-height: 1rem;
                max-height: 2.2rem;
                white-space: normal;
              `, title: widgetInfo.label }, widgetInfo.label)))));
        };
        this.WidgetGroup = ({ group }) => {
            if (!group) {
                return null;
            }
            const WidgetCard = this.WidgetCard;
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-group w-100 mb-4' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: 'group-label w-100 text-break', title: group.label }, group.label),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'card-grid m-0' }, group.itemList.sort((i1, i2) => i1.order - i2.order).map((item, index) => {
                    if (!item) {
                        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-card', style: { visibility: 'hidden' }, key: index });
                    }
                    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(WidgetCard, { widgetInfo: item, key: index });
                })));
        };
        this.getGroupList = (commonWidgetList, customWidgetList, searchValue) => {
            var _a, _b, _c, _d;
            const groups = [this.allGroup];
            const showCommonGroups = !!commonWidgetList;
            if (showCommonGroups) {
                const commonGroups = this.getCommonGroups(commonWidgetList, ALL_GROUP_VALUE, searchValue);
                commonGroups && Object.values(commonGroups).forEach(g => {
                    if (typeof g.groupId === 'number') {
                        groups.push({ value: g.groupId, label: this.getGroupLabel(g.groupId) });
                    }
                });
            }
            const showCustomGroup = (_b = (_a = this.state.jimuForBuilderUtils) === null || _a === void 0 ? void 0 : _a.showCustomWidgets) === null || _b === void 0 ? void 0 : _b.call(_a, commonWidgetList);
            if (showCustomGroup) {
                const customGroup = this.getCustomGroup(commonWidgetList, customWidgetList, ALL_GROUP_VALUE, searchValue);
                customGroup && groups.push({ value: (_c = this.state.jimuForBuilderUtils) === null || _c === void 0 ? void 0 : _c.CUSTOM_GROUP, label: this.getGroupLabel((_d = this.state.jimuForBuilderUtils) === null || _d === void 0 ? void 0 : _d.CUSTOM_GROUP) });
            }
            return groups.filter(g => !!g.label);
        };
        this.changeSelectedGroup = e => {
            this.setState({ selectedGroup: e.target.value });
        };
        this.onSearchValueChange = e => {
            this.setState({
                searchValue: e.target.value,
                selectedGroup: ALL_GROUP_VALUE // if is searching, will reset the selected group to all
            });
        };
        this.state = {
            selectedGroup: ALL_GROUP_VALUE,
            commonWidgetList: null,
            remoteCustomWidgetList: null,
            searchValue: '',
            jimuForBuilderUtils: null
        };
        this.searchInputRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
    }
    componentDidMount() {
        this.loadJimuForBuilderUtilsPromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.cancelablePromise.cancelable(jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder').then(JimuForBuilder => {
            var _a;
            this.setState({ jimuForBuilderUtils: JimuForBuilder === null || JimuForBuilder === void 0 ? void 0 : JimuForBuilder.utils });
            this.groupLabelMap[(_a = JimuForBuilder === null || JimuForBuilder === void 0 ? void 0 : JimuForBuilder.utils) === null || _a === void 0 ? void 0 : _a.CUSTOM_GROUP] = this.props.intl.formatMessage({ id: 'custom', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.custom });
        }));
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
            this.searchInputRef.current.focus();
        });
    }
    componentDidUpdate(prevProps, prevState) {
        if (!prevState.jimuForBuilderUtils && this.state.jimuForBuilderUtils) {
            this.loadCommonWidgetList(this.state.jimuForBuilderUtils.fetchCommonWidgetList);
            this.loadCustomWidgetList(this.state.jimuForBuilderUtils.fetchRemoteCustomWidgetList);
        }
    }
    componentWillUnmount() {
        var _a, _b, _c;
        (_a = this.loadJimuForBuilderUtilsPromise) === null || _a === void 0 ? void 0 : _a.cancel();
        (_b = this.loadCommonWidgetsPromise) === null || _b === void 0 ? void 0 : _b.cancel();
        (_c = this.loadCommonWidgetsPromise) === null || _c === void 0 ? void 0 : _c.cancel();
    }
    loadCommonWidgetList(fetchCommonWidgetList) {
        if (!fetchCommonWidgetList) {
            return;
        }
        this.loadCommonWidgetsPromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.cancelablePromise.cancelable(fetchCommonWidgetList().then((items) => {
            var _a, _b;
            const notLayoutWidgetList = items === null || items === void 0 ? void 0 : items.filter(item => this.props.isAccepted(item, this.props.isPlaceholder));
            (_b = (_a = this.props).onWidgetLoaded) === null || _b === void 0 ? void 0 : _b.call(_a);
            this.setState({
                commonWidgetList: notLayoutWidgetList
            });
        }));
    }
    loadCustomWidgetList(fetchRemoteCustomWidgetList) {
        if (!fetchRemoteCustomWidgetList) {
            return;
        }
        this.loadRemoteCustomWidgetsPromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.cancelablePromise.cancelable(fetchRemoteCustomWidgetList().then((items) => {
            var _a, _b;
            const list = items === null || items === void 0 ? void 0 : items.filter(item => this.props.isAccepted(item, this.props.isPlaceholder));
            (_b = (_a = this.props).onWidgetLoaded) === null || _b === void 0 ? void 0 : _b.call(_a);
            this.setState({
                remoteCustomWidgetList: list
            });
        }));
    }
    getStyle() {
        const { theme } = this.props;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      color: ${theme.colors.palette.dark[800]};

      .widget-enterprise-btn {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
      }

      .px-20 {
        padding-left: 18px;
        padding-right: 18px;
      }

      .pt-20 {
        padding-top: 20px;
      }

      .list-container {
        height: calc(100% - 150px);
        overflow-y: auto;
        padding-bottom: 20px;
      }

      .groups {
        font-size: 13px;
        font-weight: 600;
        color: ${theme.colors.palette.dark[400]};
      }

      .group-select {
        width: 210px;
      }

      .widget-group {
        .group-label{
          font-size: 13px;
          font-weight: 600;
          color: ${theme.colors.palette.dark[400]};
        }
      }

      .card-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        grid-row-gap: 0.5rem;
        grid-column-gap: 0.5rem;
      }

      .widget-card {
        height: 80px;
        width: 108px;
        padding: 0;
        border: none;
        position: relative;

        .widget-card--content {
          padding-top: 12px;
          cursor: pointer;
          background-color: ${theme.colors.palette.light[500]};
          &:hover {
            background-color: ${theme.colors.palette.light[600]};
          }
        }

        .widget-card-image {
          width: 20px;
          height: 20px;
          &:after {
            display: none;
          }
          img {
            width: 20px;
            height: 20px;
          }
        }

        .widget-card-name {
          line-height: 1rem;
          max-height: 2rem;
          white-space: normal;
          color: ${theme.colors.dark};
          padding: 0 10px;
          font-size: 13px;
        }
      }
    `;
    }
    getGroupLabel(groupId) {
        return this.groupLabelMap[groupId];
    }
    getCommonGroups(commonWidgetList, selectedGroup, searchValue) {
        const list = selectedGroup === ALL_GROUP_VALUE ? commonWidgetList : commonWidgetList === null || commonWidgetList === void 0 ? void 0 : commonWidgetList.filter(w => w.group === selectedGroup);
        const groups = {};
        list === null || list === void 0 ? void 0 : list.forEach(w => {
            var _a;
            if (w.group === ((_a = this.state.jimuForBuilderUtils) === null || _a === void 0 ? void 0 : _a.CUSTOM_GROUP)) {
                return;
            }
            if (this.isFuzzySearch(w.label, searchValue)) {
                if (!groups[w.group]) {
                    groups[w.group] = {
                        label: this.getGroupLabel(w.group),
                        groupId: w.group,
                        itemList: []
                    };
                }
                groups[w.group].itemList.push(w);
            }
        });
        return groups;
    }
    getCustomGroup(commonWidgetList, customWidgetList, selectedGroup, searchValue) {
        var _a, _b, _c;
        if (selectedGroup === ALL_GROUP_VALUE || selectedGroup === ((_a = this.state.jimuForBuilderUtils) === null || _a === void 0 ? void 0 : _a.CUSTOM_GROUP)) {
            const itemList = (customWidgetList || []).concat(((commonWidgetList === null || commonWidgetList === void 0 ? void 0 : commonWidgetList.filter(w => { var _a; return w.group === ((_a = this.state.jimuForBuilderUtils) === null || _a === void 0 ? void 0 : _a.CUSTOM_GROUP); })) || [])).filter(w => this.isFuzzySearch(w.label, searchValue));
            // Hide group which items are empty when searching.
            if (!searchValue || itemList.length > 0) {
                return {
                    label: this.getGroupLabel((_b = this.state.jimuForBuilderUtils) === null || _b === void 0 ? void 0 : _b.CUSTOM_GROUP),
                    groupId: (_c = this.state.jimuForBuilderUtils) === null || _c === void 0 ? void 0 : _c.CUSTOM_GROUP,
                    itemList
                };
            }
        }
        return null;
    }
    isFuzzySearch(label, searchValue) {
        if (!label) {
            return false;
        }
        if (!searchValue) {
            return true;
        }
        return label.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase());
    }
    render() {
        var _a, _b, _c, _d, _e, _f;
        const WidgetGroup = this.WidgetGroup;
        const { commonWidgetList, remoteCustomWidgetList: customWidgetList, selectedGroup, searchValue } = this.state;
        const showCommonGroups = !!commonWidgetList;
        let commonWidgetsToShow = commonWidgetList;
        if (showCommonGroups && this.props.isAccepted(this.sectionItem, this.props.isPlaceholder)) {
            commonWidgetsToShow = commonWidgetList.concat([this.sectionItem]);
        }
        const commonGroups = showCommonGroups && this.getCommonGroups(commonWidgetsToShow, selectedGroup, searchValue);
        const showCustomGroup = (_b = (_a = this.state.jimuForBuilderUtils) === null || _a === void 0 ? void 0 : _a.showCustomWidgets) === null || _b === void 0 ? void 0 : _b.call(_a, commonWidgetsToShow);
        const customGroup = showCustomGroup && this.getCustomGroup(commonWidgetsToShow, customWidgetList, selectedGroup, searchValue);
        const groupList = this.getGroupList(commonWidgetsToShow, customWidgetList, searchValue);
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `content mt-4 ${window.jimuConfig.isInBuilder ? jimu_theme__WEBPACK_IMPORTED_MODULE_3__.Theme2GlobalStyleClassName : ''}`, css: this.getStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center mb-4 px-20' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { ref: this.searchInputRef, prefix: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_4__.SearchOutlined, { size: 16, color: (_f = (_e = (_d = (_c = this.props.theme) === null || _c === void 0 ? void 0 : _c.colors) === null || _d === void 0 ? void 0 : _d.palette) === null || _e === void 0 ? void 0 : _e.dark) === null || _f === void 0 ? void 0 : _f[200] }), value: searchValue, onChange: this.onSearchValueChange, className: 'w-100', size: 'sm', placeholder: this.props.intl.formatMessage({ id: 'search', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.search }), allowClear: true })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center mb-4 px-20' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'groups' }, this.props.intl.formatMessage({ id: 'category', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.category })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { className: 'group-select', size: 'sm', value: selectedGroup, onChange: this.changeSelectedGroup }, groupList.map((g, i) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: g.value, key: i, selected: g.value === selectedGroup }, g.label));
                }))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 list-container px-20' },
                !commonWidgetList && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Secondary }),
                showCommonGroups && Object.values(commonGroups).sort((g1, g2) => g1.groupId - g2.groupId).map((g, i) => {
                    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(WidgetGroup, { key: i, group: g });
                }),
                showCustomGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(WidgetGroup, { group: customGroup }))));
    }
}
_WidgetList.defaultProps = {
    isPlaceholder: false,
    isAccepted: () => true
};
const WidgetList = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_WidgetList);


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/components/widget-selector/index.tsx":
/*!**************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/components/widget-selector/index.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WidgetSelector: () => (/* binding */ WidgetSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */



class _WidgetSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.onSelectWidget = (widgetUri) => {
            this.setState({ currentWidget: widgetUri });
        };
        this.getListItemJSX = (item) => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Card, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('widget-card-item', {
                    'widget-card-selected': this.state.currentWidget && this.state.currentWidget.indexOf(item.uri) === 0
                }), key: item.title, onClick: () => { this.onSelectWidget(item.uri); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-card-image bg-light-300' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CardImg, { top: true, width: '100%', src: item.image.src, alt: item.image.alt }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CardBody, { className: 'widget-card-content' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'text-capitalize', title: item.title }, item.title))));
        };
        this.state = {
            currentWidget: null,
            listInfo: []
        };
    }
    componentDidMount() {
        this.getListInfo().then(res => {
            this.setState({
                listInfo: res.listInfo
            });
        });
    }
    getListInfo() {
        return __awaiter(this, void 0, void 0, function* () {
            return yield fetch(`${jimu_core__WEBPACK_IMPORTED_MODULE_0__.urlUtils.getAbsoluteRootUrl()}widgets/widgets-info.json`)
                .then((res) => __awaiter(this, void 0, void 0, function* () { return yield res.json(); })).then((widgetInfo) => {
                const listInfo = widgetInfo.map(v => {
                    const tempInfo = {
                        title: '',
                        uri: '',
                        image: {
                            src: ''
                        }
                    };
                    tempInfo.title = v.label;
                    tempInfo.uri = v.path;
                    tempInfo.image.src = '../' + v.icon;
                    return tempInfo;
                });
                return { listInfo };
            });
        });
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-choose-widget-popup' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Modal, { isOpen: true, className: 'component-choose-widget-popup-modal' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalHeader, { className: 'component-choose-widget-clear-border component-choose-widget-modal-header' },
                        this.props.title,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'choose-widget-popup-close', onClick: this.props.onCancel })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalBody, { className: 'component-choose-widget-clear-border component-choose-widget-modal-body' }, this.state.listInfo.length > 0 ? this.state.listInfo.map(l => this.getListItemJSX(l)) : 'Loading...'),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalFooter, { className: 'component-choose-widget-clear-border component-choose-widget-modal-footer' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { onClick: () => { this.props.onOK(this.state.currentWidget); } }, "OK"),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { onClick: this.props.onCancel }, "Cancel"))))));
    }
}
const WidgetSelector = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_WidgetSelector, 'WidgetSelector');


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/index.ts":
/*!**********************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/index.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByFieldSeriesX: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.ByFieldSeriesX),
/* harmony export */   ByFieldSeriesY: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.ByFieldSeriesY),
/* harmony export */   CardLayout: () => (/* reexport safe */ _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__.CardLayout),
/* harmony export */   CardLayoutSetting: () => (/* reexport safe */ _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__.CardLayoutSetting),
/* harmony export */   CollapsableCheckbox: () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_9__.CollapsableCheckbox),
/* harmony export */   CollapsableRadio: () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_9__.CollapsableRadio),
/* harmony export */   CollapsableToggle: () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_9__.CollapsableToggle),
/* harmony export */   DEFAULT_MAX_SUGGESTION: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.DEFAULT_MAX_SUGGESTION),
/* harmony export */   DefaultAddress: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.DefaultAddress),
/* harmony export */   DefaultGeocodeLabel: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.DefaultGeocodeLabel),
/* harmony export */   DefaultGeocodeURL: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.DefaultGeocodeURL),
/* harmony export */   DirectionSelector: () => (/* reexport safe */ _components_direction_selector_direction_selector__WEBPACK_IMPORTED_MODULE_20__.DirectionSelector),
/* harmony export */   JimuLayerViewSelector: () => (/* reexport safe */ _components_jimu_layer_view_selector_selector__WEBPACK_IMPORTED_MODULE_4__.JimuLayerViewSelector),
/* harmony export */   JimuLayerViewSelectorDeprecated: () => (/* reexport safe */ _components_jimu_layer_view_selector_deprecated__WEBPACK_IMPORTED_MODULE_3__.JimuLayerViewSelectorDeprecated),
/* harmony export */   JimuLayerViewSelectorDropdown: () => (/* reexport safe */ _components_jimu_layer_view_selector_dropdown__WEBPACK_IMPORTED_MODULE_5__.JimuLayerViewSelectorDropdown),
/* harmony export */   JimuMapViewSelector: () => (/* reexport safe */ _components_jimu_map_view_selector__WEBPACK_IMPORTED_MODULE_6__.JimuMapViewSelector),
/* harmony export */   LinkSelector: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__.LinkSelector),
/* harmony export */   LinkSelectorContent: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__.LinkSelectorContent),
/* harmony export */   LinkSelectorSidePopper: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__.LinkSelectorSidePopper),
/* harmony export */   LinkSetting: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__.LinkSetting),
/* harmony export */   LinkSettingPopup: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__.LinkSettingPopup),
/* harmony export */   MAX_RECENT_SEARCHES: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.MAX_RECENT_SEARCHES),
/* harmony export */   MAX_SUGGESTION: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.MAX_SUGGESTION),
/* harmony export */   MapWidgetSelector: () => (/* reexport safe */ _components_map_widget_selector__WEBPACK_IMPORTED_MODULE_2__.MapWidgetSelector),
/* harmony export */   MaxCategories: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.MaxCategories),
/* harmony export */   MaxPieces: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.MaxPieces),
/* harmony export */   MaxSeries: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.MaxSeries),
/* harmony export */   MultipleJimuMapConfig: () => (/* reexport safe */ _components_multiple_jimu_map_config__WEBPACK_IMPORTED_MODULE_24__.MultipleJimuMapConfig),
/* harmony export */   NavQuickStyleItem: () => (/* reexport safe */ _components_quick_style__WEBPACK_IMPORTED_MODULE_22__.NavQuickStyleItem),
/* harmony export */   ObjectIdSchema: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.ObjectIdSchema),
/* harmony export */   OpenTypes: () => (/* reexport safe */ _components_link_selector_types__WEBPACK_IMPORTED_MODULE_11__.OpenTypes),
/* harmony export */   OutStatisticFieldNameSplit: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.OutStatisticFieldNameSplit),
/* harmony export */   OutputDsAddress: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.OutputDsAddress),
/* harmony export */   OutputDsObjectField: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.OutputDsObjectField),
/* harmony export */   PageTemplatePopper: () => (/* reexport safe */ _components_page_template_popper__WEBPACK_IMPORTED_MODULE_16__.PageTemplatePopper),
/* harmony export */   ProxySetting: () => (/* reexport safe */ _components_proxy_setting__WEBPACK_IMPORTED_MODULE_12__.ProxySetting),
/* harmony export */   ProxySettingPopup: () => (/* reexport safe */ _components_proxy_setting__WEBPACK_IMPORTED_MODULE_12__.ProxySettingPopup),
/* harmony export */   QuickStylePopper: () => (/* reexport safe */ _components_quick_style__WEBPACK_IMPORTED_MODULE_22__.QuickStylePopper),
/* harmony export */   RadioGroup: () => (/* reexport safe */ _components_radio_group__WEBPACK_IMPORTED_MODULE_8__.RadioGroup),
/* harmony export */   SearchDataSetting: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.SearchDataSetting),
/* harmony export */   SearchDataType: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.SearchDataType),
/* harmony export */   SearchGeneralSetting: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.SearchGeneralSetting),
/* harmony export */   SearchServiceType: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.SearchServiceType),
/* harmony export */   SearchSuggestionSetting: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.SearchSuggestionSetting),
/* harmony export */   SettingCollapse: () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_9__.SettingCollapse),
/* harmony export */   SettingLayout: () => (/* reexport module object */ _components_layout__WEBPACK_IMPORTED_MODULE_0__),
/* harmony export */   SettingRow: () => (/* reexport safe */ _components_layout__WEBPACK_IMPORTED_MODULE_0__.SettingRow),
/* harmony export */   SettingSection: () => (/* reexport safe */ _components_layout__WEBPACK_IMPORTED_MODULE_0__.SettingSection),
/* harmony export */   SidePopper: () => (/* reexport safe */ _components_side_popper__WEBPACK_IMPORTED_MODULE_13__.SidePopper),
/* harmony export */   SizeMode: () => (/* reexport safe */ _components_size_mode_select__WEBPACK_IMPORTED_MODULE_21__.SizeMode),
/* harmony export */   SizeModeSelector: () => (/* reexport safe */ _components_size_mode_select__WEBPACK_IMPORTED_MODULE_21__.SizeModeSelector),
/* harmony export */   SortSetting: () => (/* reexport safe */ _components_sort_setting__WEBPACK_IMPORTED_MODULE_19__.SortSetting),
/* harmony export */   Status: () => (/* reexport safe */ _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__.Status),
/* harmony export */   StylePicker: () => (/* reexport safe */ _components_style_picker__WEBPACK_IMPORTED_MODULE_7__.StylePicker),
/* harmony export */   TemplateList: () => (/* reexport safe */ _components_template_selector_template_list__WEBPACK_IMPORTED_MODULE_18__.TemplateList),
/* harmony export */   TemplateSelector: () => (/* reexport safe */ _components_template_selector__WEBPACK_IMPORTED_MODULE_17__.TemplateSelector),
/* harmony export */   UnControlledSettingCollapse: () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_9__.UnControlledSettingCollapse),
/* harmony export */   WidgetList: () => (/* reexport safe */ _components_widget_list_popper_widget_list__WEBPACK_IMPORTED_MODULE_15__.WidgetList),
/* harmony export */   WidgetListPopper: () => (/* reexport safe */ _components_widget_list_popper__WEBPACK_IMPORTED_MODULE_14__.WidgetListPopper),
/* harmony export */   WidgetSelector: () => (/* reexport safe */ _components_widget_selector__WEBPACK_IMPORTED_MODULE_1__.WidgetSelector),
/* harmony export */   _JimuLayerViewSelector: () => (/* reexport safe */ _components_jimu_layer_view_selector_selector__WEBPACK_IMPORTED_MODULE_4__._JimuLayerViewSelector),
/* harmony export */   _JimuLayerViewSelectorDropdown: () => (/* reexport safe */ _components_jimu_layer_view_selector_dropdown__WEBPACK_IMPORTED_MODULE_5__._JimuLayerViewSelectorDropdown),
/* harmony export */   _JimuMapViewSelector: () => (/* reexport safe */ _components_jimu_map_view_selector__WEBPACK_IMPORTED_MODULE_6__._JimuMapViewSelector),
/* harmony export */   _LinkSelector: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__._LinkSelector),
/* harmony export */   _LinkSelectorContent: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__._LinkSelectorContent),
/* harmony export */   _LinkSelectorSidePopper: () => (/* reexport safe */ _components_link_selector__WEBPACK_IMPORTED_MODULE_10__._LinkSelectorSidePopper),
/* harmony export */   _MapWidgetSelector: () => (/* reexport safe */ _components_map_widget_selector__WEBPACK_IMPORTED_MODULE_2__._MapWidgetSelector),
/* harmony export */   _SidePopper: () => (/* reexport safe */ _components_side_popper__WEBPACK_IMPORTED_MODULE_13__._SidePopper),
/* harmony export */   checkIsUseDsChenged: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.checkIsUseDsChenged),
/* harmony export */   checkIsWidgetJsonDsChanged: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.checkIsWidgetJsonDsChanged),
/* harmony export */   getAddressFieldsSchemaAndDefaultFieldName: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getAddressFieldsSchemaAndDefaultFieldName),
/* harmony export */   getConfigIdList: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getConfigIdList),
/* harmony export */   getInitOutDataSource: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getInitOutDataSource),
/* harmony export */   getInitSchema: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getInitSchema),
/* harmony export */   getNameOfDefaultAddressField: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getNameOfDefaultAddressField),
/* harmony export */   getNewConfigId: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getNewConfigId),
/* harmony export */   getOutputDataSourceId: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getOutputDataSourceId),
/* harmony export */   getOutputJsonOriginDs: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getOutputJsonOriginDs),
/* harmony export */   getWhetherDsInUseDataSources: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.getWhetherDsInUseDataSources),
/* harmony export */   isDsInDatasources: () => (/* reexport safe */ _components_search_setting__WEBPACK_IMPORTED_MODULE_23__.isDsInDatasources),
/* harmony export */   proxySettingUtils: () => (/* reexport safe */ _components_proxy_setting__WEBPACK_IMPORTED_MODULE_12__.proxySettingUtils),
/* harmony export */   setLayoutAuto: () => (/* reexport safe */ _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__.setLayoutAuto),
/* harmony export */   setLayoutCustom: () => (/* reexport safe */ _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__.setLayoutCustom)
/* harmony export */ });
/* harmony import */ var _components_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/layout */ "./jimu-ui/advanced/lib/setting-components/components/layout/index.ts");
/* harmony import */ var _components_widget_selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/widget-selector */ "./jimu-ui/advanced/lib/setting-components/components/widget-selector/index.tsx");
/* harmony import */ var _components_map_widget_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/map-widget-selector */ "./jimu-ui/advanced/lib/setting-components/components/map-widget-selector/index.tsx");
/* harmony import */ var _components_jimu_layer_view_selector_deprecated__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/jimu-layer-view-selector-deprecated */ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector-deprecated/index.tsx");
/* harmony import */ var _components_jimu_layer_view_selector_selector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/jimu-layer-view-selector/selector */ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/selector/index.tsx");
/* harmony import */ var _components_jimu_layer_view_selector_dropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/jimu-layer-view-selector/dropdown */ "./jimu-ui/advanced/lib/setting-components/components/jimu-layer-view-selector/dropdown/index.tsx");
/* harmony import */ var _components_jimu_map_view_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/jimu-map-view-selector */ "./jimu-ui/advanced/lib/setting-components/components/jimu-map-view-selector/index.tsx");
/* harmony import */ var _components_style_picker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/style-picker */ "./jimu-ui/advanced/lib/setting-components/components/style-picker/index.tsx");
/* harmony import */ var _components_radio_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/radio-group */ "./jimu-ui/advanced/lib/setting-components/components/radio-group/index.tsx");
/* harmony import */ var _components_collapse__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/collapse */ "./jimu-ui/advanced/lib/setting-components/components/collapse/index.ts");
/* harmony import */ var _components_link_selector__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/link-selector */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/index.ts");
/* harmony import */ var _components_link_selector_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/link-selector/types */ "./jimu-ui/advanced/lib/setting-components/components/link-selector/types.ts");
/* harmony import */ var _components_proxy_setting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/proxy-setting */ "./jimu-ui/advanced/lib/setting-components/components/proxy-setting/index.tsx");
/* harmony import */ var _components_side_popper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/side-popper */ "./jimu-ui/advanced/lib/setting-components/components/side-popper/index.tsx");
/* harmony import */ var _components_widget_list_popper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/widget-list-popper */ "./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/index.tsx");
/* harmony import */ var _components_widget_list_popper_widget_list__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/widget-list-popper/widget-list */ "./jimu-ui/advanced/lib/setting-components/components/widget-list-popper/widget-list.tsx");
/* harmony import */ var _components_page_template_popper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/page-template-popper */ "./jimu-ui/advanced/lib/setting-components/components/page-template-popper/index.tsx");
/* harmony import */ var _components_template_selector__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/template-selector */ "./jimu-ui/advanced/lib/setting-components/components/template-selector/index.tsx");
/* harmony import */ var _components_template_selector_template_list__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/template-selector/template-list */ "./jimu-ui/advanced/lib/setting-components/components/template-selector/template-list.tsx");
/* harmony import */ var _components_sort_setting__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/sort-setting */ "./jimu-ui/advanced/lib/setting-components/components/sort-setting/index.tsx");
/* harmony import */ var _components_direction_selector_direction_selector__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/direction-selector/direction-selector */ "./jimu-ui/advanced/lib/setting-components/components/direction-selector/direction-selector.tsx");
/* harmony import */ var _components_size_mode_select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/size-mode-select */ "./jimu-ui/advanced/lib/setting-components/components/size-mode-select/index.tsx");
/* harmony import */ var _components_quick_style__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/quick-style */ "./jimu-ui/advanced/lib/setting-components/components/quick-style/index.ts");
/* harmony import */ var _components_search_setting__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/search-setting */ "./jimu-ui/advanced/lib/setting-components/components/search-setting/index.ts");
/* harmony import */ var _components_multiple_jimu_map_config__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/multiple-jimu-map-config */ "./jimu-ui/advanced/lib/setting-components/components/multiple-jimu-map-config/index.tsx");
/* harmony import */ var _components_switch_card_layout__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/switch-card-layout */ "./jimu-ui/advanced/lib/setting-components/components/switch-card-layout/index.ts");






























/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-deprecated.ts":
/*!**********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-deprecated.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelectorDeprecatedStyles: () => (/* binding */ JimuLayerViewSelectorDeprecatedStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const JimuLayerViewSelectorDeprecatedStyles = (props) => {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .dropdown-menu--inner {
      background-color: ${theme.colors.palette.secondary[200]};
      padding: 0;
    }

    .dropdown-toggle-content {
      width: 100%;
    }

    .layerviewselector-input {
      width: 100%;
      height: 30px !important;
      background-color: ${theme.colors.palette.secondary[200]};
      &:hover {
        background-color: ${theme.colors.palette.secondary[200]};
      }
      flex-direction: unset !important;
    }

    .layerviewselector-input-text {
      max-width: calc(100% - 13px);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .layerviewselector-bg {
      max-height: 270px;
      overflow-y: auto;
      background-color: ${theme.colors.palette.secondary[200]};
    }

    .layerviewselector-item-bg {
      cursor: pointer;
    }

    .layerviewselector-item-bg:hover {
      background-color: ${theme.colors.primary};
    }

    .layerviewselector-ds-item {
      cursor: pointer;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 100%;
    }

    .layerviewselector-ds-item:hover {
      background-color: ${theme.colors.primary};
    }

    .layerviewselector-ds-item-selected {
      background-color: ${theme.colors.primary};
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-dropdown.ts":
/*!********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-dropdown.ts ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelectorDropdownStyles: () => (/* binding */ JimuLayerViewSelectorDropdownStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");


function getInputHeight(inputVarsBySize, inputBorderWidth) {
    const heightInner = jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.math(`
    ${inputVarsBySize.fontSize} * ${inputVarsBySize.lineHeight} +
    ${inputVarsBySize.paddingY} * 2`);
    return inputBorderWidth.toString() === '0'
        ? heightInner
        : `calc(${heightInner} + ${inputBorderWidth} * 2)`;
}
function getInputSizingStyles(inputVars, size) {
    const inputVarsBySize = inputVars.sizes[size];
    return `
    height: ${inputVarsBySize.height !== 'auto'
        ? inputVarsBySize.height
        : getInputHeight(inputVarsBySize, inputVars.border.width)};
    padding: ${inputVarsBySize.paddingY} ${inputVarsBySize.paddingX};
    font-size: ${inputVarsBySize.fontSize};
    line-height: ${inputVarsBySize.lineHeight};
    border-radius: ${inputVarsBySize.borderRadius};
  `;
}
const JimuLayerViewSelectorDropdownStyles = (props) => {
    var _a, _b;
    const theme = props.theme;
    const buttonProps = props === null || props === void 0 ? void 0 : props.buttonProps;
    const inputVars = (_a = theme === null || theme === void 0 ? void 0 : theme.components) === null || _a === void 0 ? void 0 : _a.input;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    width: 100%;
      > .dropdown{
        > .dropdown-button {
          text-align: start;
        }
      }
      ${(_b = buttonProps === null || buttonProps === void 0 ? void 0 : buttonProps.type) !== null && _b !== void 0 ? _b : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      /* Button override */
        > .dropdown{
          > .dropdown-button {
            &,
            &:hover {
              color: ${inputVars.color};
              background-color: ${inputVars.bg};
              background-clip: padding-box;
              box-shadow: ${inputVars.boxShadow};
              transition: ${inputVars.transition};
              text-decoration: none;
              ${getInputSizingStyles(inputVars, 'sm')}
              ${(0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getBoxStyles)(inputVars)}
            }
            &[aria-expanded="true"] {
              color: ${inputVars.color};
              background-color: ${inputVars.focus.bg};
              border-color: ${inputVars.focus.borderColor};
              text-decoration: none;
              box-shadow: ${inputVars.boxShadow}, ${inputVars.focus.boxShadow};
            }
          }
        }
      `}

  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector.ts":
/*!***********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelectorStyles: () => (/* binding */ JimuLayerViewSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const JimuLayerViewSelectorStyles = (props) => {
    const height = props.isInDropdown ? '366px' : 'calc(100% - 34px)';
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .tree-container{
      margin-top: 16px;
      height: ${height};
    }
    `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/collapse.ts":
/*!**************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/layout/collapse.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settingCollapseStyles: () => (/* binding */ settingCollapseStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const settingCollapseStyles = (props) => {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const isOpen = props === null || props === void 0 ? void 0 : props.isOpen;
    const type = (_a = props === null || props === void 0 ? void 0 : props.type) !== null && _a !== void 0 ? _a : 'default';
    const theme = props.theme;
    const light500 = (_d = (_c = (_b = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _b === void 0 ? void 0 : _b.palette) === null || _c === void 0 ? void 0 : _c.light) === null || _d === void 0 ? void 0 : _d[500];
    const light800 = (_g = (_f = (_e = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _e === void 0 ? void 0 : _e.palette) === null || _f === void 0 ? void 0 : _f.light) === null || _g === void 0 ? void 0 : _g[800];
    const primary = (_h = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _h === void 0 ? void 0 : _h.primary;
    if (type !== 'primary') {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .dividing-line {
      background-color: ${light800};
    }
    `;
    }
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .handle {
      border-top: 2px solid ${isOpen ? primary : light500};
      background-color: ${light500};
      .title {
        padding-left: 8px;
        padding-right: 8px;
      }
    }
    .dividing-line {
      background-color: ${light800};
    }
    `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/row.ts":
/*!*********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/layout/row.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settingRowStyles: () => (/* binding */ settingRowStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const settingRowStyles = (props) => {
    const theme = props.theme;
    const flow = props.flow;
    const action = props.action;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &.jimu-widget-setting--row {
      margin-bottom: 0;
      margin-left: 0;
      margin-right: 0;
      &:first-of-type {
        margin-top: 0;
      }
      + .jimu-widget-setting--row {
        margin-top: ${theme.sizes[4]};
      }
    }
    &.bottom-line {
      padding-bottom: ${theme.sizes[4]};
      border-bottom: 1px solid ${theme.colors.palette.light[500]};
    }
    &,
    .jimu-widget-setting--row-header {
      > .jimu-widget-setting--row-label {
        font-size: 0.8125rem;
        font-weight: 500;
        color: ${theme.colors.palette.dark[400]};
      }
    }
    > .jimu-widget-setting--row-label {
      display: inline-block;
      margin-bottom: ${flow === 'wrap'
        ? action
            ? '0'
            : theme.sizes[2]
        : '0'};
      margin-right: 20px;
    }
    > input {
      &[type='number'] {
        width: 50px;
        flex-shrink: 0;
      }
    }
    input {
      &[type='number'] {
        &::-webkit-inner-spin-button,
        &::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
      }
    }
    .jimu-widget-setting--row-header {
      display: flex;
      width: 100%;
      align-items: center;
      margin-bottom: 0.75rem;
      > .btn {
        width: 100%;
        padding-left: 0;
        padding-right: 0;
      }
      .jimu-widget-setting--row-label {
        text-align: left;
        flex: 1;
        margin-bottom: 0;
      }
    }
    &.form-inline {
      flex-wrap: nowrap;
      .jimu-widget-setting--row-label {
        max-width: 80%;
        + * {
          flex-shrink: 0;
        }
      }
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/section.ts":
/*!*************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/layout/section.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settingSectionStyles: () => (/* binding */ settingSectionStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const settingSectionStyles = (props) => {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    padding: ${theme.sizes[4]};
    border-bottom: 1px solid ${theme.colors.palette.light[800]};

    &:last-child {
      border-bottom: 0 none;
    }

    &:nth-of-type(1):nth-last-of-type(1) {
      border-bottom: 0 none;
    }

    .jimu-widget-setting--section-header {
      > h6 {
        color: ${theme.colors.palette.dark[600]};
        font-weight: ${theme.typography.weights.bold};
        margin-bottom: 0;
      }
      + * {
        margin-top: ${theme.sizes[4]};
      }
    }

    .jimu-widget-setting--section-header {
      &.row {
        margin-left: 0;
        margin-right: 0;
      }
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/link-selector-content.ts":
/*!********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/link-selector-content.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   linkSelectorContentStyles: () => (/* binding */ linkSelectorContentStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function linkSelectorContentStyles(props) {
    const theme = props.theme;
    const gray = (theme && theme.colors && theme.colors.palette && theme.colors.palette.light[500]) || '#ccc';
    const cyan = (theme && theme.colors && theme.colors.primary) || 'blue';
    const settingColor = jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(gray, 0.5);
    if (window.jimuConfig.isInBuilder) {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .widget-builder-link-selector {
      .collapse-btn{
        margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-16)};
      }
      .option-name{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        color: ${theme.colors.palette.dark[400]};
      }
      .link-selector-list {
        .view-border{
          border-width: 1px;
          border-style: solid;
        }
        .link-selector-list-item {
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
          cursor: pointer;

          &:hover {
            background-color: ${settingColor};
          }
        }

        .link-selector-list-select {
          background-color: ${settingColor};
        }
      }

      select {
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)} !important;
      }

      .itemselected {
        background-color: ${cyan} !important;
      }

      .btn-primary {
        background-color: #00A6B6 !important;
        border-color: #00A6B6 !important;
        color: #ffffff !important;
      }

      .form-check-input {
        span {
          background: #00A6B6 !important;
        }
      }

      .form-check-input:hover {
        border-color: gray;
      }

      input[type='radio'].form-check-input {
        -webkit-appearance: none;
        -moz-appearance: none;
        background: transparent;
        border: 1px solid #000;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        transition: all 0.2s ease;
        &:before {
        content: '';
        display: block;
        position: absolute;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: #00A6B6 !important;
        margin: 8px;
        transition: all 0.2s ease-out;
        }
        &:hover {
        border-color: #00A6B6 !important;
        }
        &:checked {
        &:before {
            width: 8px;
            height: 8px;
            margin: 3px;
        }
        }
      }
      .link-setting-cursor-pointer{
        cursor: pointer;
      }
      .open-type-label{
        width: 100%;
        display: block;
      }
    }
    .url-error-container{
      *{
        color: ${theme.colors.danger};
      }
      div{
        width: calc(100% - 20px);
        margin-left: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }
  `;
    }
    else {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .widget-builder-link-selector {
      .collapse-btn{
        position: absolute;
        right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-4)};
      }
      .option-name{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        color: ${theme.colors.palette.dark[400]};
        font-weight: 500;
      }
      .item-common{
        background: ${theme.colors.white};
      }
      .view-border{
        border: 1px solid ${theme.colors.palette.light[400]};
      }
      .link-selector-list {

        .link-selector-list-item {
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
          cursor: pointer;

          &:hover {
            background-color: ${settingColor};
          }
        }

        .link-selector-list-select {
          background-color: ${settingColor};
        }
      }

      select {
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)} !important;
      }

      .itemselected {
        background-color: ${cyan} !important;
      }
      .link-setting-cursor-pointer{
        cursor: pointer;
      }
      .open-type-label{
        width: 100%;
        display: block;
      }
      .url-error-container{
        *{
          color: ${theme.colors.danger};
        }
        div{
          width: calc(100% - 20px);
          margin-left: 4px;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      }
    }
  `;
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting-popup.ts":
/*!******************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting-popup.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   proxySettingPopupStyles: () => (/* binding */ proxySettingPopupStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function proxySettingPopupStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(960)} !important;
    .header{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
      color: ${theme.colors.palette.dark[600]};
    }
    .proxy-setting-container{
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(960)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(640)};
      border: 0;
      color: ${theme.colors.palette.dark[600]};
    }
    .px-30{
      padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }
  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting.ts":
/*!************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   proxySettingStyles: () => (/* binding */ proxySettingStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function proxySettingStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    color: ${theme.colors.palette.dark[600]};
    .font-size-13{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)} !important;
    }
    .subscriber-warning{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
    }
    .secondary-title{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
    }
    .content-table{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
      color: ${theme.colors.palette.dark[800]};
    }
    .content-table-header{
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(32)};
      background-color: ${theme.colors.palette.light[400]};
      display: block;
      line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }
    .content-table-tr{
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(39)};
      line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(39)};
      border-bottom: 1px solid ${theme.colors.palette.light[400]};
    }
    .col-4, .col-2{
      height: 100%;
    }
    .request-limit{
      margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};
    }
    .request-interval{
      display: block;
      margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-3)};
    }
  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/radio-group.ts":
/*!**********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/radio-group.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   radioGroupStyle: () => (/* binding */ radioGroupStyle)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const radioGroupStyle = (props) => {
    const theme = props.theme;
    const gutter = props.gutter;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    margin-bottom: 0;
    label {
      display: inline-flex;
      align-items: center;
      margin-right: ${gutter || theme.sizes[4]};
      .jimu-radio {
        margin-right: ${theme.gutters[4]};
      }
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/side-popper.ts":
/*!**********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/side-popper.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sidePopperStyles: () => (/* binding */ sidePopperStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function sidePopperStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(260)};
    height: calc(100% - 70px);
    padding: 0;
    overflow: hidden;
    border-radius: 0;
    box-shadow: 0 0 0;
    border-left: 1px solid ${theme.colors.palette.light[800]};
    border-right: 1px solid ${theme.colors.palette.light[800]};
    border-top: 0;
    border-bottom: 0;
    margin: 0 !important;
  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/sort-setting.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/sort-setting.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sortSettingStyle: () => (/* binding */ sortSettingStyle)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const sortSettingStyle = (props) => {
    const theme = props.theme;
    const colors = theme.colors;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    width:100%;
    &.single-row-item {
        .select-con {
            padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(0)};
            .option-name-con {
                margin-bottom: 0;
                .close-con>span {
                    margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
                }
            }
        }
    }
    .padding-0 {
        padding: 0;
    }
    .jimu-tree-item {
        margin-bottom:${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
    }
    .jimu-tree-item__draggable {
        box-shadow: 0 0 0 2px ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(colors.white, 0.3)};
    }
    .add-option-btn {
        & {
            color:${colors.palette.primary[600]};
            margin-top:${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
            margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(17)};
            cursor: pointer;
            font-size:13px;
            overflow: hidden;
            padding: 0;
        }
        .add-option-icon{
            margin-right: 4px;
        }
    }
    .no-sort-remind {
        margin: 70px auto 0;
        color: ${colors.palette.light[800]};
        font-size: 13px;
        text-align: center;
    }
    .select-con {
        & {
            box-sizing:border-box;
            padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
            padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};
        }
        .option-name-con {
            & {
              display: flex;
              align-items: center;
              margin-bottom:${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
              width: 100%;
            }
            .option-name {
              font-size: 13px;
              line-height: 13px;
              color: ${colors.palette.dark[800]};
              height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
              line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(25)};
              cursor: pointer;
              overflow: hidden;
              width: 0;
              padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(4)};
              .edit-input {
                max-width: 88%;
                input {
                    width: 80px;
                }
                input:placeholder-shown {
                    text-overflow: ellipsis;
                }
              }
            }
            .option-name input {
                display:inline-block;
                width: auto;
                height: 100%;
            }
            .jimu-input {
                line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
                vertical-align: middle;
            }
            .input-wrapper {
                vertical-align: middle;
            }
            .option-name-icon-con {
                margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
                svg {
                    margin-top:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
                }
            }
            .option-name-icon {
                color: ${colors.palette.dark[400]};
                cursor: pointer;
            }
            .option-name span {
                display: inline-block;
                text-overflow: ellipsis;
                overflow:hidden;
            }
            .close-con {
                svg {
                    margin: 0;
                    margin-top:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)};
                }
            }
            .close-con>span {
                margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
                color: ${colors.black};
                cursor: pointer;
            }
        }

        .select-down-con {
            & {
                display: flex;
                align-items: center;
                height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(34)};
            }
            .sort-arrow-down-icon {
                margin-right: 0;
            }
            .select-input {
                flex-grow:1;
                color: ${colors.dark};
            }
            .sort-button {
                margin-left: 5px;
                cursor: pointer;
                border:none;
            }
            .sort-field-selector {
                & {
                    background:${colors.palette.secondary[200]};
                    border-radius: 2px;
                    flex-grow: 1;
                    width: 0;
                }
            }
        }
    }


  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/style-picker.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/style-picker.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   stylePickerStyles: () => (/* binding */ stylePickerStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const stylePickerStyles = (props) => {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .widget-setting--stylepicker {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-gap: 10px;
    }

    .widget-setting--stylepicker-item {
      height: 93px;
      border: 1px solid ${theme.colors.palette.light[500]};
      background-color: ${theme.colors.white};
      background-repeat: no-repeat;
      background-position: center;
      &:hover {
        border-color: ${theme.colors.primary};
      }
      &.active {
        border: 2px solid ${theme.colors.primary};
      }
      &.full-width {
        grid-column-start: 1;
        grid-column-end: 3;
      }
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/components/widget-selector.ts":
/*!**************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/components/widget-selector.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   widgetSelectorStyles: () => (/* binding */ widgetSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const widgetSelectorStyles = (props) => {
    const theme = props.theme;
    // eslint-disable-next-line max-len
    const closeImageUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsElEQVQ4jaWSLQ7EIBhEv2LxnAzP1cBzAU6DhKCpZneaQHYpP2k6omreCzA9yjf0IgyfGCMZY+g8zy2ADrpgmsA5R977raTC6IJpAiklCSEopTSVVBgddME0AeeclFJTSQ+jCwY5fh9xVERm8E0wkiAzeCjoJcgMbm/wJjdBf4XdOmwF49irdf4Es6l2E7MVXLOSXAJr7XKqkQTMFcwYQiha65JzLruggy4YZPgfPMkHXzQME+F7oHYAAAAASUVORK5CYII=';
    // eslint-disable-next-line max-len
    const widgetPlaceholderImageUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA20lEQVQ4jWPkidn2n4ECwESJ5iFgABsLI8PBRiuGS732DKJ8bKQbwMHKzKAqyc0gK8zBIMDNilUNI6FYkBBgBxrExPDg9Xes8iy4NIZYSDJ4GYkx/Pj1j6F25Q2cFuD0wo2nXxi42ZkZYu1lGMItpUg34Mrjzwx//0HYT9//IN0AFiZGBjstIaAh/xkOXntLugHGyvwM/FysDBcefGT48PUP6QaI8ELinZ2FicFGQ4iBnRW7UmY2vegGbBIPXn1j+P//P8OXn38ZPn77zXDxwSesBhBMB4QAxXkBAMaDOywJrob4AAAAAElFTkSuQmCC';
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-choose-widget-popup{
      .widget-card-active-btn{
        outline: none;
      }
    }
    div.component-choose-widget-popup-modal{
      width: 850px;
      max-width: 850px;
      height: 600px;
      background: ${theme.colors.white};
      border-radius: 4px;
      position: absolute;
      margin: auto;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      .component-choose-widget-clear-border{
        border: 0;
        padding: 0;
      }
      .modal-content{
        border: 0;
        padding: 20px 10px 20px 40px;
        position: static;
      }
      .component-choose-widget-modal-header{
        .choose-widget-popup-close{
          width: 50px;
          height: 50px;
          display: inline-block;
          right: 28px;
          position: absolute;
          top: 10px;
          &:hover{
            cursor: pointer;
          }
        }
        .choose-widget-popup-close:after{
          content: '';
          display: inline-block;
          width: 16px;
          height: 16px;
          background-image: url(${closeImageUrl});
          position: relative;
          left: 18px;
          top: 12px;
        }
      }
      .component-choose-widget-modal-body{
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -webkit-box-pack: start;
        -ms-flex-pack: start;
        justify-content: flex-start;
        margin: 40px 0 10px 0;
        .widget-card-item{
          width: 70px;
          height: 120px;
          border: 0;
          margin: 0 30px 0 0;
          &:hover{
            cursor: pointer;
          }
          .widget-card-image{
            width: 70px;
            height: 70px;
            border: 1px solid #ccc;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            >div{
              width: 30px;
              height: 30px;
              position: relative;
              &:after{
                display: none;
              }
            }
          }
          .widget-card-content{
            font-size: 12px;
            color: #000;
            letter-spacing: 0.33px;
            padding: 2px;
            text-align: center;
            line-height: 14px;
          }
        }
        .widget-card-selected{
          .widget-card-image{
            border: 2px solid #0C5CB6;
            >div:after{
              content: '';
              display: block;
              width: 16px;
              height: 16px;
              position: absolute;
              top: -20px;
              right: -20px;
              background-image: url(${widgetPlaceholderImageUrl});
            }
          }
        }
      }
      .component-choose-widget-modal-footer{
        position: absolute;
        bottom: 20px;
        right: 40px;
        >button{
          font-size: 14px;
          letter-spacing: 0.39px;
          text-align: center;
          vertical-align: middle;
        }
        button:first-of-type {
          background-color: #0075D0;
          border: 1px solid  #0075D0;
          border-radius: 3px;
          color: #ffffff;
        }
        button:last-of-type{
          background-color: #ffffff;
          border: 1px solid #CCCCCC;
          border-radius: 3px;
          color: #000000;
        }
      }
    }
  `;
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/setting-components/styles/index.ts":
/*!*****************************************************************!*\
  !*** ./jimu-ui/advanced/lib/setting-components/styles/index.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JimuLayerViewSelector: () => (/* reexport safe */ _components_jimu_layer_view_selector__WEBPACK_IMPORTED_MODULE_13__.JimuLayerViewSelectorStyles),
/* harmony export */   JimuLayerViewSelectorDeprecated: () => (/* reexport safe */ _components_jimu_layer_view_selector_deprecated__WEBPACK_IMPORTED_MODULE_11__.JimuLayerViewSelectorDeprecatedStyles),
/* harmony export */   JimuLayerViewSelectorDropdown: () => (/* reexport safe */ _components_jimu_layer_view_selector_dropdown__WEBPACK_IMPORTED_MODULE_12__.JimuLayerViewSelectorDropdownStyles),
/* harmony export */   LinkSelectorContent: () => (/* reexport safe */ _components_link_selector_content__WEBPACK_IMPORTED_MODULE_6__.linkSelectorContentStyles),
/* harmony export */   ProxySetting: () => (/* reexport safe */ _components_proxy_setting__WEBPACK_IMPORTED_MODULE_7__.proxySettingStyles),
/* harmony export */   ProxySettingPopup: () => (/* reexport safe */ _components_proxy_setting_popup__WEBPACK_IMPORTED_MODULE_8__.proxySettingPopupStyles),
/* harmony export */   RadioGroup: () => (/* reexport safe */ _components_radio_group__WEBPACK_IMPORTED_MODULE_9__.radioGroupStyle),
/* harmony export */   SettingCollapse: () => (/* reexport safe */ _components_layout_collapse__WEBPACK_IMPORTED_MODULE_5__.settingCollapseStyles),
/* harmony export */   SettingRow: () => (/* reexport safe */ _components_layout_row__WEBPACK_IMPORTED_MODULE_4__.settingRowStyles),
/* harmony export */   SettingSection: () => (/* reexport safe */ _components_layout_section__WEBPACK_IMPORTED_MODULE_3__.settingSectionStyles),
/* harmony export */   SidePopper: () => (/* reexport safe */ _components_side_popper__WEBPACK_IMPORTED_MODULE_10__.sidePopperStyles),
/* harmony export */   SortSetting: () => (/* reexport safe */ _components_sort_setting__WEBPACK_IMPORTED_MODULE_1__.sortSettingStyle),
/* harmony export */   StylePicker: () => (/* reexport safe */ _components_style_picker__WEBPACK_IMPORTED_MODULE_2__.stylePickerStyles),
/* harmony export */   WidgetSelector: () => (/* reexport safe */ _components_widget_selector__WEBPACK_IMPORTED_MODULE_0__.widgetSelectorStyles)
/* harmony export */ });
/* harmony import */ var _components_widget_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/widget-selector */ "./jimu-ui/advanced/lib/setting-components/styles/components/widget-selector.ts");
/* harmony import */ var _components_sort_setting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/sort-setting */ "./jimu-ui/advanced/lib/setting-components/styles/components/sort-setting.ts");
/* harmony import */ var _components_style_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/style-picker */ "./jimu-ui/advanced/lib/setting-components/styles/components/style-picker.ts");
/* harmony import */ var _components_layout_section__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/layout/section */ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/section.ts");
/* harmony import */ var _components_layout_row__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/layout/row */ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/row.ts");
/* harmony import */ var _components_layout_collapse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/layout/collapse */ "./jimu-ui/advanced/lib/setting-components/styles/components/layout/collapse.ts");
/* harmony import */ var _components_link_selector_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/link-selector-content */ "./jimu-ui/advanced/lib/setting-components/styles/components/link-selector-content.ts");
/* harmony import */ var _components_proxy_setting__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/proxy-setting */ "./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting.ts");
/* harmony import */ var _components_proxy_setting_popup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/proxy-setting-popup */ "./jimu-ui/advanced/lib/setting-components/styles/components/proxy-setting-popup.ts");
/* harmony import */ var _components_radio_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/radio-group */ "./jimu-ui/advanced/lib/setting-components/styles/components/radio-group.ts");
/* harmony import */ var _components_side_popper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/side-popper */ "./jimu-ui/advanced/lib/setting-components/styles/components/side-popper.ts");
/* harmony import */ var _components_jimu_layer_view_selector_deprecated__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/jimu-layer-view-selector-deprecated */ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-deprecated.ts");
/* harmony import */ var _components_jimu_layer_view_selector_dropdown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/jimu-layer-view-selector-dropdown */ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector-dropdown.ts");
/* harmony import */ var _components_jimu_layer_view_selector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/jimu-layer-view-selector */ "./jimu-ui/advanced/lib/setting-components/styles/components/jimu-layer-view-selector.ts");
















/***/ }),

/***/ "./jimu-ui/lib/components/types.ts":
/*!*****************************************!*\
  !*** ./jimu-ui/lib/components/types.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoadingType: () => (/* reexport safe */ jimu_core__WEBPACK_IMPORTED_MODULE_0__.LoadingType),
/* harmony export */   NavIconType: () => (/* binding */ NavIconType)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

var NavIconType;
(function (NavIconType) {
    NavIconType["IMAGE"] = "image";
    NavIconType["ICON"] = "icon";
})(NavIconType || (NavIconType = {}));
/**
 * @ignore
 */



/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-core/data-source":
/*!****************************************!*\
  !*** external "jimu-core/data-source" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__;

/***/ }),

/***/ "react":
/*!**********************************!*\
  !*** external "jimu-core/react" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "jimu-for-builder":
/*!***********************************!*\
  !*** external "jimu-for-builder" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__;

/***/ }),

/***/ "jimu-for-builder/templates":
/*!*********************************************!*\
  !*** external "jimu-for-builder/templates" ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder_templates__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-theme":
/*!*****************************!*\
  !*** external "jimu-theme" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_theme__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/advanced/data-source-selector":
/*!********************************************************!*\
  !*** external "jimu-ui/advanced/data-source-selector" ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__;

/***/ }),

/***/ "jimu-ui/advanced/expression-builder":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/expression-builder" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_expression_builder__;

/***/ }),

/***/ "jimu-ui/advanced/resource-selector":
/*!*****************************************************!*\
  !*** external "jimu-ui/advanced/resource-selector" ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_resource_selector__;

/***/ }),

/***/ "jimu-ui/advanced/setting-components":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/setting-components" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__;

/***/ }),

/***/ "jimu-ui/advanced/utility-selector":
/*!****************************************************!*\
  !*** external "jimu-ui/advanced/utility-selector" ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_utility_selector__;

/***/ }),

/***/ "jimu-ui/basic/list-tree":
/*!******************************************!*\
  !*** external "jimu-ui/basic/list-tree" ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_list_tree__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************************************!*\
  !*** ./jimu-ui/advanced/setting-components.tsx ***!
  \*************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByFieldSeriesX: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.ByFieldSeriesX),
/* harmony export */   ByFieldSeriesY: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.ByFieldSeriesY),
/* harmony export */   CardLayout: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.CardLayout),
/* harmony export */   CardLayoutSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.CardLayoutSetting),
/* harmony export */   CollapsableCheckbox: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.CollapsableCheckbox),
/* harmony export */   CollapsableRadio: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.CollapsableRadio),
/* harmony export */   CollapsableToggle: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.CollapsableToggle),
/* harmony export */   DEFAULT_MAX_SUGGESTION: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_MAX_SUGGESTION),
/* harmony export */   DefaultAddress: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.DefaultAddress),
/* harmony export */   DefaultGeocodeLabel: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.DefaultGeocodeLabel),
/* harmony export */   DefaultGeocodeURL: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.DefaultGeocodeURL),
/* harmony export */   DirectionSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.DirectionSelector),
/* harmony export */   JimuLayerViewSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.JimuLayerViewSelector),
/* harmony export */   JimuLayerViewSelectorDeprecated: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.JimuLayerViewSelectorDeprecated),
/* harmony export */   JimuLayerViewSelectorDropdown: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.JimuLayerViewSelectorDropdown),
/* harmony export */   JimuMapViewSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.JimuMapViewSelector),
/* harmony export */   LinkSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.LinkSelector),
/* harmony export */   LinkSelectorContent: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.LinkSelectorContent),
/* harmony export */   LinkSelectorSidePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.LinkSelectorSidePopper),
/* harmony export */   LinkSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.LinkSetting),
/* harmony export */   LinkSettingPopup: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.LinkSettingPopup),
/* harmony export */   MAX_RECENT_SEARCHES: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MAX_RECENT_SEARCHES),
/* harmony export */   MAX_SUGGESTION: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MAX_SUGGESTION),
/* harmony export */   MapWidgetSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MapWidgetSelector),
/* harmony export */   MaxCategories: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MaxCategories),
/* harmony export */   MaxPieces: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MaxPieces),
/* harmony export */   MaxSeries: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MaxSeries),
/* harmony export */   MultipleJimuMapConfig: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.MultipleJimuMapConfig),
/* harmony export */   NavQuickStyleItem: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.NavQuickStyleItem),
/* harmony export */   ObjectIdSchema: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.ObjectIdSchema),
/* harmony export */   OpenTypes: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.OpenTypes),
/* harmony export */   OutStatisticFieldNameSplit: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.OutStatisticFieldNameSplit),
/* harmony export */   OutputDsAddress: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.OutputDsAddress),
/* harmony export */   OutputDsObjectField: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.OutputDsObjectField),
/* harmony export */   PageTemplatePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.PageTemplatePopper),
/* harmony export */   ProxySetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.ProxySetting),
/* harmony export */   ProxySettingPopup: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.ProxySettingPopup),
/* harmony export */   QuickStylePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.QuickStylePopper),
/* harmony export */   RadioGroup: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.RadioGroup),
/* harmony export */   SearchDataSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SearchDataSetting),
/* harmony export */   SearchDataType: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SearchDataType),
/* harmony export */   SearchGeneralSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SearchGeneralSetting),
/* harmony export */   SearchServiceType: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SearchServiceType),
/* harmony export */   SearchSuggestionSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SearchSuggestionSetting),
/* harmony export */   SettingCollapse: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingCollapse),
/* harmony export */   SettingLayout: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingLayout),
/* harmony export */   SettingRow: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingRow),
/* harmony export */   SettingSection: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingSection),
/* harmony export */   SidePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SidePopper),
/* harmony export */   SizeMode: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SizeMode),
/* harmony export */   SizeModeSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SizeModeSelector),
/* harmony export */   SortSetting: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.SortSetting),
/* harmony export */   Status: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.Status),
/* harmony export */   StylePicker: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.StylePicker),
/* harmony export */   TemplateList: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.TemplateList),
/* harmony export */   TemplateSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.TemplateSelector),
/* harmony export */   UnControlledSettingCollapse: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.UnControlledSettingCollapse),
/* harmony export */   WidgetList: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.WidgetList),
/* harmony export */   WidgetListPopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.WidgetListPopper),
/* harmony export */   WidgetSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.WidgetSelector),
/* harmony export */   _JimuLayerViewSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._JimuLayerViewSelector),
/* harmony export */   _JimuLayerViewSelectorDropdown: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._JimuLayerViewSelectorDropdown),
/* harmony export */   _JimuMapViewSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._JimuMapViewSelector),
/* harmony export */   _LinkSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._LinkSelector),
/* harmony export */   _LinkSelectorContent: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._LinkSelectorContent),
/* harmony export */   _LinkSelectorSidePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._LinkSelectorSidePopper),
/* harmony export */   _MapWidgetSelector: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._MapWidgetSelector),
/* harmony export */   _SidePopper: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__._SidePopper),
/* harmony export */   changeCurrentDialog: () => (/* binding */ changeCurrentDialog),
/* harmony export */   changeCurrentPage: () => (/* binding */ changeCurrentPage),
/* harmony export */   checkIsUseDsChenged: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.checkIsUseDsChenged),
/* harmony export */   checkIsWidgetJsonDsChanged: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.checkIsWidgetJsonDsChanged),
/* harmony export */   getAddressFieldsSchemaAndDefaultFieldName: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getAddressFieldsSchemaAndDefaultFieldName),
/* harmony export */   getConfigIdList: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getConfigIdList),
/* harmony export */   getInitOutDataSource: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getInitOutDataSource),
/* harmony export */   getInitSchema: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getInitSchema),
/* harmony export */   getNameOfDefaultAddressField: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getNameOfDefaultAddressField),
/* harmony export */   getNewConfigId: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getNewConfigId),
/* harmony export */   getOutputDataSourceId: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getOutputDataSourceId),
/* harmony export */   getOutputJsonOriginDs: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getOutputJsonOriginDs),
/* harmony export */   getWhetherDsInUseDataSources: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.getWhetherDsInUseDataSources),
/* harmony export */   handelDialogInfos: () => (/* binding */ handelDialogInfos),
/* harmony export */   isDsInDatasources: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.isDsInDatasources),
/* harmony export */   proxySettingUtils: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.proxySettingUtils),
/* harmony export */   setLayoutAuto: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.setLayoutAuto),
/* harmony export */   setLayoutCustom: () => (/* reexport safe */ _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__.setLayoutCustom)
/* harmony export */ });
/* harmony import */ var _lib_setting_components_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/setting-components/styles */ "./jimu-ui/advanced/lib/setting-components/styles/index.ts");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ "jimu-for-builder");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _lib_setting_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/setting-components */ "./jimu-ui/advanced/lib/setting-components/index.ts");




(0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.registerStyles)('jimu-ui/advanced/setting-components/', _lib_setting_components_styles__WEBPACK_IMPORTED_MODULE_0__);
// handel closed dialog ids when page/dialog is changed:
// 1. add `currentDialogId` (splash, or combine with previous pageIds if it exists)
// 2. add splash dialog id
// 3. remove `targetDialogId` if it exists in dialogInfos (only when dialog is changed)
function handelDialogInfos(targetDialogId) {
    var _a, _b;
    const state = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.getAppStore)().getState().appStateInBuilder;
    const currentPageId = state.appRuntimeInfo.currentPageId;
    const currentDialogId = state.appRuntimeInfo.currentDialogId;
    let dialogInfos = state.appRuntimeInfo.dialogInfos || (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.Immutable)({});
    const dialogs = state.appConfig.dialogs;
    const pages = state.appConfig.pages;
    const dialogInfo = {
        canClose: true,
        checked: true,
        isClosed: true
    };
    if (currentDialogId) {
        if ((_a = dialogs[currentDialogId]) === null || _a === void 0 ? void 0 : _a.isSplash) {
            dialogInfos = dialogInfos.set(currentDialogId, dialogInfo);
        }
        if (pages[currentPageId].autoOpenDialogId) {
            dialogInfos = dialogInfos.set(currentPageId + '-' + pages[currentPageId].autoOpenDialogId, dialogInfo);
        }
        if (targetDialogId) { // click dlg item. save all pages related.
            Object.keys(pages).forEach(id => {
                if (pages[id].autoOpenDialogId === currentDialogId) {
                    dialogInfos = dialogInfos.set(id + '-' + currentDialogId, dialogInfo);
                }
            });
        }
    }
    if (!((_b = dialogs[currentDialogId]) === null || _b === void 0 ? void 0 : _b.isSplash)) {
        // eslint-disable-next-line
        Object.keys(dialogs).some(id => {
            if (dialogs[id].isSplash) {
                dialogInfos = dialogInfos.set(id, dialogInfo);
            }
        });
    }
    if (targetDialogId) {
        dialogInfos && Object.keys(dialogInfos).forEach(dlgId => {
            if (dlgId === targetDialogId || dlgId === currentPageId + '-' + targetDialogId) {
                dialogInfos = dialogInfos.set(dlgId, { canClose: isDialogCanClose(targetDialogId), checked: false, isClosed: false });
            }
        });
    }
    return dialogInfos;
}
function isDialogCanClose(dialogId) {
    const state = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.getAppStore)().getState().appStateInBuilder;
    const dialog = state.appConfig.dialogs[dialogId];
    return !dialog.interactionType || !dialog.confirmBeforeClose;
}
function changeCurrentPage(targetPageId) {
    const state = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.getAppStore)().getState().appStateInBuilder;
    const currentPageId = state.appRuntimeInfo.currentPageId;
    const currentDialogId = state.appRuntimeInfo.currentDialogId;
    jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishChangeSelectionToApp(null);
    if (currentDialogId) {
        const dialogInfos = handelDialogInfos();
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishDialogInfosChangeToApp(dialogInfos);
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishDialogChangeToApp(null);
    }
    if (currentPageId !== targetPageId) {
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishPageChangeToApp(targetPageId);
    }
    jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publichActivePagePartChangeToApp(jimu_core__WEBPACK_IMPORTED_MODULE_1__.PagePart.Body);
}
function changeCurrentDialog(targetDialogId, forceRefresh = false) {
    jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishChangeSelectionToApp(null);
    const currentDialogId = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.getAppStore)().getState().appStateInBuilder.appRuntimeInfo.currentDialogId;
    if (forceRefresh || targetDialogId !== currentDialogId) {
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishDialogChangeToApp(targetDialogId);
        const dialogInfos = handelDialogInfos(targetDialogId);
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publishDialogInfosChangeToApp(dialogInfos);
        jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__.builderAppSync.publichActivePagePartChangeToApp(null); // should be null when window is open.
    }
}


})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTZDO0FBRWlCO0FBRXZELE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxLQUF3QixFQUFFLEVBQUU7SUFDakUsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUc7SUFDdEIsTUFBTSxFQUFFLFNBQVMsS0FBZ0IsS0FBSyxFQUFoQixNQUFNLFVBQUssS0FBSyxFQUFoQyxhQUF3QixDQUFRO0lBRXRDLE1BQU0sT0FBTyxHQUFHLHFEQUFVLENBQUMsK0JBQStCLEVBQUUsU0FBUyxDQUFDO0lBQ3RFLElBQUksQ0FBQyxHQUFHO1FBQUUsT0FBTyxrRkFBSyxTQUFTLEVBQUUsT0FBTyxJQUFNLE1BQWEsRUFBSTtJQUMvRCxPQUFPLDJEQUFDLEdBQUcsa0JBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsZ0ZBQUcsSUFBTSxNQUFNLEVBQUk7QUFDMUQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWDRDO0FBRWE7QUFFbkQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUF3QixFQUFFLEVBQUU7SUFDeEQsTUFB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aXMtZW50ZXJwcmlzZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL2NoZWNrLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS12ZXJ0aWNhbC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RhdGEvbGluay10aWx0ZWQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvaG9yaXpvbnRhbC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3JpZ2h0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvc29ydC1hc2NlbmRpbmcuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9zb3J0LWRlc2NlbmRpbmcuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC91cC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3ZlcnRpY2FsLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL2VkaXQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvcGx1cy5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zZWFyY2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvd2FybmluZy5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvZmlsbGVkL2JyYW5kL2FyY2dpcy1lbnRlcnByaXNlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9jaGVjay50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS12ZXJ0aWNhbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGF0YS9saW5rLXRpbHRlZC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvZG93bi50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvaG9yaXpvbnRhbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvcmlnaHQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3NvcnQtYXNjZW5kaW5nLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9zb3J0LWRlc2NlbmRpbmcudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC92ZXJ0aWNhbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvZWRpdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3BsdXMudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zZWFyY2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93YXJuaW5nLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvY29sbGFwc2UvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2RpcmVjdGlvbi1zZWxlY3Rvci9kaXJlY3Rpb24tc2VsZWN0b3IudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3ItZGVwcmVjYXRlZC9kcy1saXN0LWZvci1zZWxlY3Rvci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2ppbXUtbGF5ZXItdmlldy1zZWxlY3Rvci1kZXByZWNhdGVkL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvamltdS1sYXllci12aWV3LXNlbGVjdG9yL2Ryb3Bkb3duL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvamltdS1sYXllci12aWV3LXNlbGVjdG9yL3NlbGVjdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvamltdS1tYXAtdmlldy1zZWxlY3Rvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xheW91dC9pbmRleC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbGF5b3V0L3Jvdy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xheW91dC9zZWN0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci9jb21wb25lbnRzL2xpbmstc2VsZWN0b3ItY29udGVudC9jb21wb25lbnRzL2Jsb2NrLWxpbmstY29udGVudC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xpbmstc2VsZWN0b3IvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQvY29tcG9uZW50cy9jb2xsYXBzZS10b29sLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci9jb21wb25lbnRzL2xpbmstc2VsZWN0b3ItY29udGVudC9jb21wb25lbnRzL2RpYWxvZy1saW5rLWNvbnRlbnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1jb250ZW50L2NvbXBvbmVudHMvbGluay1zZXR0aW5nLWxpc3QudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1jb250ZW50L2NvbXBvbmVudHMvcGFnZS1saW5rLWNvbnRlbnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1jb250ZW50L2NvbXBvbmVudHMvc2NyZWVuLWxpbmstY29udGVudC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xpbmstc2VsZWN0b3IvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQvY29tcG9uZW50cy92aWV3LWxpbmstY29udGVudC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xpbmstc2VsZWN0b3IvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQvY29tcG9uZW50cy93ZWJhZGRyZXNzLWxpbmstY29udGVudC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xpbmstc2VsZWN0b3IvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1jb250ZW50L3V0aWxzLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1zaWRlLXBvcHBlci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL2xpbmstc2VsZWN0b3IvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci9pbmRleC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci90eXBlcy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbWFwLXNlbGVjdG9yLXV0aWxzL3V0aWxzLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9tYXAtd2lkZ2V0LXNlbGVjdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvbXVsdGlwbGUtamltdS1tYXAtY29uZmlnL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvcGFnZS1hd2FyZS1wb3BwZXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9wYWdlLXRlbXBsYXRlLXBvcHBlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3BhZ2UtdGVtcGxhdGUtcG9wcGVyL3BhZ2UtdGVtcGxhdGUtbGlzdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3Byb3h5LXNldHRpbmcvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9wcm94eS1zZXR0aW5nL3NldHRpbmctcG9wdXAvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9wcm94eS1zZXR0aW5nL3NldHRpbmcvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9wcm94eS1zZXR0aW5nL3NldHRpbmcvcHJveHktc2V0dGluZy1pdGVtLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvcHJveHktc2V0dGluZy91dGlscy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvcXVpY2stc3R5bGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3F1aWNrLXN0eWxlL25hdi1xdWljay1zdHlsZS1pdGVtLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvcXVpY2stc3R5bGUvcXVpY2stc3R5bGUtcG9wcGVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvcXVpY2stc3R5bGUvc2V0dGluZy1wb3BwZXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9yYWRpby1ncm91cC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nL2RhdGFTZXR0aW5nL2RhdGFzb3VyY2UtbGlzdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nL2RhdGFTZXR0aW5nL2Rpc3BsYXktZmllbGQtc2VsZWN0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc2VhcmNoLXNldHRpbmcvZGF0YVNldHRpbmcvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9zZWFyY2gtc2V0dGluZy9kYXRhU2V0dGluZy9zZXQtbGF5ZXItc291cmNlLXNpZGUtcG9wcGVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc2VhcmNoLXNldHRpbmcvZGF0YVNldHRpbmcvc2V0LWxvY2F0b3Itc291cmNlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc2VhcmNoLXNldHRpbmcvZ2VuZXJhbC1zZWFyY2gtc2V0dGluZy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nL2luZGV4LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9zZWFyY2gtc2V0dGluZy9zZWFyY2gtc3VnZ2VzdGlvbi1zZXR0aW5nLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc2VhcmNoLXNldHRpbmcvdHlwZS90eXBlLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9zZWFyY2gtc2V0dGluZy91dGlscy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nL3V0aWxzL2dlb2NvZGUtdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nL3V0aWxzL3V0aWwudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NpZGUtcG9wcGVyL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc2l6ZS1tb2RlLXNlbGVjdC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3NvcnQtc2V0dGluZy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3N0eWxlLXBpY2tlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3N3aXRjaC1jYXJkLWxheW91dC9jYXJkLWxheW91dC1zZXR0aW5nLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc3dpdGNoLWNhcmQtbGF5b3V0L2luZGV4LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy9zd2l0Y2gtY2FyZC1sYXlvdXQvdHlwZS50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvc3dpdGNoLWNhcmQtbGF5b3V0L3V0aWxzLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy90ZW1wbGF0ZS1zZWxlY3Rvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9jb21wb25lbnRzL3RlbXBsYXRlLXNlbGVjdG9yL3RlbXBsYXRlLWl0ZW0udHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvY29tcG9uZW50cy90ZW1wbGF0ZS1zZWxlY3Rvci90ZW1wbGF0ZS1saXN0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvd2lkZ2V0LWxpc3QtcG9wcGVyL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvd2lkZ2V0LWxpc3QtcG9wcGVyL3dpZGdldC1saXN0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2NvbXBvbmVudHMvd2lkZ2V0LXNlbGVjdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL2luZGV4LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvc3R5bGVzL2NvbXBvbmVudHMvamltdS1sYXllci12aWV3LXNlbGVjdG9yLWRlcHJlY2F0ZWQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3ItZHJvcGRvd24udHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9sYXlvdXQvY29sbGFwc2UudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9sYXlvdXQvcm93LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvc3R5bGVzL2NvbXBvbmVudHMvbGF5b3V0L3NlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9wcm94eS1zZXR0aW5nLXBvcHVwLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvc3R5bGVzL2NvbXBvbmVudHMvcHJveHktc2V0dGluZy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvc2V0dGluZy1jb21wb25lbnRzL3N0eWxlcy9jb21wb25lbnRzL3JhZGlvLWdyb3VwLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMvc3R5bGVzL2NvbXBvbmVudHMvc2lkZS1wb3BwZXIudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9zb3J0LXNldHRpbmcudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy9zdHlsZS1waWNrZXIudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvY29tcG9uZW50cy93aWRnZXQtc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL3NldHRpbmctY29tcG9uZW50cy9zdHlsZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2NvbXBvbmVudHMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWFyY2dpc1wiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1jb3JlXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmUvZGF0YS1zb3VyY2VcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZS9yZWFjdFwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1mb3ItYnVpbGRlclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1mb3ItYnVpbGRlci90ZW1wbGF0ZXNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS10aGVtZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3RvclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9hZHZhbmNlZC9leHByZXNzaW9uLWJ1aWxkZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWkvYWR2YW5jZWQvcmVzb3VyY2Utc2VsZWN0b3JcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpL2FkdmFuY2VkL3V0aWxpdHktc2VsZWN0b3JcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWkvYmFzaWMvbGlzdC10cmVlXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMi41OTYgNi4zNTdjLjM5LS41OS45NDQtMS4wNTUgMS41OTUtMS4zMzdMMTUuNTQ0LjA5NGExLjE0MyAxLjE0MyAwIDAgMSAuOTEgMEwzMCA1Ljk3VjIzLjY2YTMuNiAzLjYgMCAwIDEtLjU5NiAxLjk4MyAzLjY0OCAzLjY0OCAwIDAgMS0xLjU5NSAxLjMzN2wtMTEuMzUzIDQuOTI3YTEuMTQ0IDEuMTQ0IDAgMCAxLS45MSAwTDIgMjYuMDI5VjguMzRhMy42IDMuNiAwIDAgMSAuNTk2LTEuOTg0bTMuNDE5IDE1LjE2MmMuMDA5LjAxNi4wMjIuMDI5LjAzNy4wMzhsOS41OTQgNS4zNTFhLjcyMS43MjEgMCAwIDAgLjcwNSAwbDkuMTQ0LTUuMTAzYS45OTQuOTk0IDAgMCAwIC4zNy0uMzU2Ljk1Ljk1IDAgMCAwIC4xMzUtLjQ4OHYtOS44OWEuODUyLjg1MiAwIDAgMC0uMTIyLS40MzguODkuODkgMCAwIDAtLjMzMS0uMzJsLTkuNDk3LTUuM2EuMTA2LjEwNiAwIDAgMC0uMTA0IDBsLTIuNDE1IDEuMzQ4YS4wNjkuMDY5IDAgMCAwLS4wMjYuMDI1LjA2Ni4wNjYgMCAwIDAgLjAyNi4wOTJsOC45NDcgNC45OTJjLjM5LjIxOC43MTYuNTMyLjk0MS45MS4yMjYuMzc4LjM0NS44MDcuMzQ1IDEuMjQzdjUuNTE0YzAgLjA4LS4wMjEuMTU3LS4wNjIuMjI2YS40NTkuNDU5IDAgMCAxLS4xNzIuMTY1bC01LjYzMyAzLjE0NWEzLjkwNCAzLjkwNCAwIDAgMS0xLjg5OS40OWMtLjY2NiAwLTEuMzItLjE2OS0xLjg5OC0uNDlMOC45NzIgMTkuODFhMS40NTcgMS40NTcgMCAwIDEtLjU0Mi0uNTI0IDEuMzk0IDEuMzk0IDAgMCAxLS4xOTgtLjcxNVYxMS43NmEuMDY5LjA2OSAwIDAgMSAuMDctLjA2OGMuMDEyIDAgLjAyNC4wMDMuMDM1LjAwOWw3LjY1MSA0LjI2OGMuMDUuMDI4LjA5Mi4wNjguMTIxLjExN2EuMzEzLjMxMyAwIDAgMSAuMDQ1LjE2djIuNTI2YzAgLjAxMi4wMDMuMDI0LjAwOS4wMzRhLjA2OC4wNjggMCAwIDAgLjA2LjAzMy4wNzMuMDczIDAgMCAwIC4wMzUtLjAwOWwxLjk3Mi0xLjFjLjI4LS4xNTYuNTExLS4zOC42NzMtLjY1MS4xNjEtLjI3LjI0Ny0uNTc3LjI0Ny0uODl2LS45NjRjMC0uMjc4LS4wNzYtLjU1LS4yMi0uNzktLjE0NC0uMjQxLS4zNS0uNDQtLjU5OC0uNThMOS42NSA5LjAxMWEuODg1Ljg4NSAwIDAgMC0uODYgMEw2LjA1MiAxMC41NGEuMTA0LjEwNCAwIDAgMC0uMDUyLjA4OHYxMC44NDJjMCAuMDE4LjAwNi4wMzUuMDE1LjA1XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJtNi4wMzYgMTIuMTU3IDguMDEtOC4wMWEuNS41IDAgMSAxIC43MDcuNzA3bC04LjAxIDguMDFhMSAxIDAgMCAxLTEuNDE1IDBMMS4xNDYgOC42ODJhLjUuNSAwIDEgMSAuNzA4LS43MDd6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNNyAxNGExIDEgMCAxIDAgMiAwIDEgMSAwIDAgMC0yIDBtMS01YTEgMSAwIDEgMSAwLTIgMSAxIDAgMCAxIDAgMm0wLTZhMSAxIDAgMSAxIDAtMiAxIDEgMCAwIDEgMCAyXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJtMS4zNzMgOCAyLjA3LTIuMDcxLjgzLjgyOEwyLjIgOC44MjhhMy41MTUgMy41MTUgMCAwIDAgNC45NyA0Ljk3MWwyLjA3Mi0yLjA3MS44MjguODI4TDggMTQuNjI3QTQuNjg2IDQuNjg2IDAgMSAxIDEuMzczIDhNMTMuNzk5IDcuMTcybC0yLjA3MSAyLjA3LjgyOC44M0wxNC42MjcgOEE0LjY4NiA0LjY4NiAwIDEgMCA4IDEuMzczbC0yLjA3MSAyLjA3LjgyOC44M0w4LjgyOCAyLjJhMy41MTUgMy41MTUgMCAwIDEgNC45NzEgNC45N1xcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk01LjUxNSA5LjY1N2EuNTg2LjU4NiAwIDAgMCAuODI4LjgyOGw0LjE0Mi00LjE0MmEuNTg2LjU4NiAwIDAgMC0uODI4LS44Mjh6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMi4xNDYgNC42NTNhLjQ4NS40ODUgMCAwIDEgLjcwOCAwTDggMTAuMjRsNS4xNDYtNS41ODdhLjQ4NS40ODUgMCAwIDEgLjcwOCAwIC41MzguNTM4IDAgMCAxIDAgLjczOGwtNS41IDUuOTU2YS40ODUuNDg1IDAgMCAxLS43MDggMGwtNS41LTUuOTU2YS41MzguNTM4IDAgMCAxIDAtLjczOFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTMuNjQ2IDEwLjM1NGEuNS41IDAgMCAwIC43MDgtLjcwOEwyLjcwNyA4aDEwLjU4NmwtMS42NDcgMS42NDZhLjUuNSAwIDAgMCAuNzA4LjcwOGwyLjUtMi41YS41LjUgMCAwIDAgMC0uNzA4bC0yLjUtMi41YS41LjUgMCAwIDAtLjcwOC43MDhMMTMuMjkzIDdIMi43MDdsMS42NDctMS42NDZhLjUuNSAwIDEgMC0uNzA4LS43MDhsLTIuNSAyLjVhLjUuNSAwIDAgMCAwIC43MDh6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNNC42NTMgMTMuODU0YS40ODUuNDg1IDAgMCAxIDAtLjcwOEwxMC4yNCA4IDQuNjUzIDIuODU0YS40ODUuNDg1IDAgMCAxIDAtLjcwOC41MzguNTM4IDAgMCAxIC43MzggMGw1Ljk1NiA1LjVhLjQ4NS40ODUgMCAwIDEgMCAuNzA4bC01Ljk1NiA1LjVhLjUzOC41MzggMCAwIDEtLjczOCAwXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNMS41IDNhLjUuNSAwIDAgMCAwIDFoNGEuNS41IDAgMCAwIDAtMXpNMSA2LjVhLjUuNSAwIDAgMSAuNS0uNWg3YS41LjUgMCAwIDEgMCAxaC03YS41LjUgMCAwIDEtLjUtLjVNMS41IDlhLjUuNSAwIDAgMCAwIDFoMTBhLjUuNSAwIDAgMCAwLTF6TTEuNSAxMmEuNS41IDAgMCAwIDAgMWgxM2EuNS41IDAgMCAwIDAtMXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNMS41IDEzYS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6TTEgOS41YS41LjUgMCAwIDAgLjUuNWg3YS41LjUgMCAwIDAgMC0xaC03YS41LjUgMCAwIDAtLjUuNU0xLjUgN2EuNS41IDAgMCAxIDAtMWgxMGEuNS41IDAgMCAxIDAgMXpNMS41IDRhLjUuNSAwIDAgMSAwLTFoMTNhLjUuNSAwIDAgMSAwIDF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTMuODU0IDExLjM0N2EuNDg2LjQ4NiAwIDAgMS0uNzA4IDBMOCA1Ljc2bC01LjE0NiA1LjU4N2EuNDg1LjQ4NSAwIDAgMS0uNzA4IDAgLjUzOC41MzggMCAwIDEgMC0uNzM4bDUuNS01Ljk1NmEuNDg1LjQ4NSAwIDAgMSAuNzA4IDBsNS41IDUuOTU2YS41MzguNTM4IDAgMCAxIDAgLjczOFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTEwLjM1NCAxMi4zNTRhLjUuNSAwIDAgMC0uNzA4LS43MDhMOCAxMy4yOTNWMi43MDdsMS42NDYgMS42NDdhLjUuNSAwIDAgMCAuNzA4LS43MDhsLTIuNS0yLjVhLjUuNSAwIDAgMC0uNzA4IDBsLTIuNSAyLjVhLjUuNSAwIDEgMCAuNzA4LjcwOEw3IDIuNzA3djEwLjU4NmwtMS42NDYtMS42NDdhLjUuNSAwIDAgMC0uNzA4LjcwOGwyLjUgMi41YS41LjUgMCAwIDAgLjcwOCAwelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIm04Ljc0NSA4IDYuMSA2LjFhLjUyNy41MjcgMCAxIDEtLjc0NS43NDZMOCA4Ljc0NmwtNi4xIDYuMWEuNTI3LjUyNyAwIDEgMS0uNzQ2LS43NDZsNi4xLTYuMS02LjEtNi4xYS41MjcuNTI3IDAgMCAxIC43NDYtLjc0Nmw2LjEgNi4xIDYuMS02LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni43NDZ6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTEuMjI3IDEuMzEyYy0uNDA0LS40MDQtMS4wNDUtLjQxNy0xLjQzMi0uMDNMMi40OSA4LjU4N2wtLjQ4IDIuNjc0YS42MzcuNjM3IDAgMCAwIC43My43M2wyLjY3My0uNDggNy4zMDUtNy4zMDZjLjM4Ny0uMzg3LjM3NC0xLjAyOC0uMDMtMS40MzF6bS04LjExNCA5LjU3NS4zMi0xLjc4MSA0Ljk5MS00Ljk5MiAxLjQ2MiAxLjQ2Mi00Ljk5MiA0Ljk5MXptNy40NzMtNi4wMTIgMS40MDItMS40LTEuNDYyLTEuNDYzLTEuNDAxIDEuNDAyelxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTEuNSAxNGEuNS41IDAgMCAwIDAgMWgxM2EuNS41IDAgMCAwIDAtMXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNy41IDBhLjUuNSAwIDAgMC0uNS41VjdILjVhLjUuNSAwIDAgMCAwIDFIN3Y2LjVhLjUuNSAwIDAgMCAxIDBWOGg2LjVhLjUuNSAwIDAgMCAwLTFIOFYuNWEuNS41IDAgMCAwLS41LS41XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTIgNi41YTUuNSA1LjUgMCAxIDEtMTEgMCA1LjUgNS41IDAgMCAxIDExIDBtLTEuMjcgNC45MzZhNi41IDYuNSAwIDEgMSAuNzA3LS43MDdsNC4xMzYgNC4xMzdhLjUuNSAwIDEgMS0uNzA3LjcwN3pcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTggMi4xMjUgMTQuMzM0IDE0SDEuNjY3em0tLjg4Mi0uNDdhMSAxIDAgMCAxIDEuNzY1IDBsNi4zMzMgMTEuODc0QTEgMSAwIDAgMSAxNC4zMzQgMTVIMS42NjdhMSAxIDAgMCAxLS44ODItMS40N3pNOCA0Ljg3NGEuOTA1LjkwNSAwIDAgMC0uOS45OTVsLjM1IDMuNTA3YS41NTIuNTUyIDAgMCAwIDEuMSAwTDguOSA1Ljg3YS45MDUuOTA1IDAgMCAwLS45LS45OTVtMSA3YTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvZmlsbGVkL2JyYW5kL2FyY2dpcy1lbnRlcnByaXNlLnN2ZydcblxuZXhwb3J0IGNvbnN0IEFyY2dpc0VudGVycHJpc2VGaWxsZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL2NoZWNrLnN2ZydcblxuZXhwb3J0IGNvbnN0IENoZWNrT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL21vcmUtdmVydGljYWwuc3ZnJ1xuXG5leHBvcnQgY29uc3QgTW9yZVZlcnRpY2FsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RhdGEvbGluay10aWx0ZWQuc3ZnJ1xuXG5leHBvcnQgY29uc3QgTGlua1RpbHRlZE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2ZydcblxuZXhwb3J0IGNvbnN0IERvd25PdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvaG9yaXpvbnRhbC5zdmcnXG5cbmV4cG9ydCBjb25zdCBIb3Jpem9udGFsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3JpZ2h0LnN2ZydcblxuZXhwb3J0IGNvbnN0IFJpZ2h0T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3NvcnQtYXNjZW5kaW5nLnN2ZydcblxuZXhwb3J0IGNvbnN0IFNvcnRBc2NlbmRpbmdPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvc29ydC1kZXNjZW5kaW5nLnN2ZydcblxuZXhwb3J0IGNvbnN0IFNvcnREZXNjZW5kaW5nT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwLnN2ZydcblxuZXhwb3J0IGNvbnN0IFVwT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL3ZlcnRpY2FsLnN2ZydcblxuZXhwb3J0IGNvbnN0IFZlcnRpY2FsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9jbG9zZS5zdmcnXG5cbmV4cG9ydCBjb25zdCBDbG9zZU91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3IvZWRpdC5zdmcnXG5cbmV4cG9ydCBjb25zdCBFZGl0T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9wbHVzLnN2ZydcblxuZXhwb3J0IGNvbnN0IFBsdXNPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL3NlYXJjaC5zdmcnXG5cbmV4cG9ydCBjb25zdCBTZWFyY2hPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvc3VnZ2VzdGVkL3dhcm5pbmcuc3ZnJ1xuXG5leHBvcnQgY29uc3QgV2FybmluZ091dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7XG4gIENvbGxhcHNhYmxlUGFuZWwsIHR5cGUgQ29sbGFwc2FibGVQYW5lbFByb3BzLFxuICBDb2xsYXBzYWJsZVRvZ2dsZSBhcyBKaW11Q29sbGFwc2FibGVUb2dnbGUsIHR5cGUgQ29sbGFwc2FibGVUb2dnbGVQcm9wcyBhcyBKaW11Q29sbGFwc2FibGVUb2dnbGVQcm9wcyxcbiAgQ29sbGFwc2FibGVSYWRpbyBhcyBKaW11Q29sbGFwc2FibGVSYWRpbywgdHlwZSBDb2xsYXBzYWJsZVJhZGlvUHJvcHMgYXMgSmltdUNvbGxhcHNhYmxlUmFkaW9Qcm9wcyxcbiAgQ29sbGFwc2FibGVDaGVja2JveCBhcyBKaW11Q29sbGFwc2FibGVDaGVja2JveCwgdHlwZSBDb2xsYXBzYWJsZUNoZWNrYm94UHJvcHMgYXMgSmltdUNvbGxhcHNhYmxlQ2hlY2tib3hQcm9wc1xufSBmcm9tICdqaW11LXVpJ1xuXG4vKipcbiAqIFRoZSBgU2V0dGluZ0NvbGxhcHNlYCBjb21wb25lbnQgcHJvcHMuXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbGxhcHNhYmxlUGFuZWxQcm9wc2AgZnJvbSBgamltdS11aWAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IHR5cGUgU2V0dGluZ0NvbGxhcHNlUHJvcHMgPSBDb2xsYXBzYWJsZVBhbmVsUHJvcHNcblxuLyoqXG4gKiBUaGUgYFNldHRpbmdDb2xsYXBzZWAgY29tcG9uZW50IGFsbG93cyB1c2VycyB0byBzaG93IHRoZSBjb2xsYXBzaWJsZSBwYW5lbC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbGxhcHNhYmxlUGFuZWxgIGZyb20gYGppbXUtdWlgIGluc3RlYWQuXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU2V0dGluZ0NvbGxhcHNlIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFNldHRpbmdDb2xsYXBzZSA9IENvbGxhcHNhYmxlUGFuZWxcblxuLyoqXG4gKiBUaGUgYFVuQ29udHJvbGxlZFNldHRpbmdDb2xsYXBzZWAgY29tcG9uZW50IHByb3BzLlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb2xsYXBzYWJsZVBhbmVsUHJvcHNgIGZyb20gYGppbXUtdWlgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCB0eXBlIFVuQ29udHJvbGxlZFNldHRpbmdDb2xsYXBzZVByb3BzID0gQ29sbGFwc2FibGVQYW5lbFByb3BzXG5cbi8qKlxuICogVGhlIGBVbkNvbnRyb2xsZWRTZXR0aW5nQ29sbGFwc2VgIGlzIGFuIHVuY29udHJvbGxlZCBjb21wb25lbnQgd2hpY2ggYWxsb3dzIHVzZXJzIHRvIHNob3cgdGhlIGNvbGxhcHNpYmxlIHBhbmVsLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29sbGFwc2FibGVQYW5lbGAgZnJvbSBgamltdS11aWAgaW5zdGVhZC5cbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBVbkNvbnRyb2xsZWRTZXR0aW5nQ29sbGFwc2UgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgVW5Db250cm9sbGVkU2V0dGluZ0NvbGxhcHNlID0gQ29sbGFwc2FibGVQYW5lbFxuXG4vKipcbiAqIFRoZSBgQ29sbGFwc2FibGVUb2dnbGVQcm9wc2AgY29tcG9uZW50IHByb3BzLlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb2xsYXBzYWJsZVRvZ2dsZVByb3BzYCBmcm9tIGBqaW11LXVpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgdHlwZSBDb2xsYXBzYWJsZVRvZ2dsZVByb3BzID0gSmltdUNvbGxhcHNhYmxlVG9nZ2xlUHJvcHNcblxuLyoqXG4gKiBUaGUgYENvbGxhcHNhYmxlVG9nZ2xlYCBjb21wb25lbnQgYWxsb3dzIHVzZXJzIHRvIHNob3cgdGhlIGNvbGxhcHNpYmxlIHBhbmVsLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29sbGFwc2FibGVUb2dnbGVgIGZyb20gYGppbXUtdWlgIGluc3RlYWQuXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgQ29sbGFwc2FibGVUb2dnbGUgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgQ29sbGFwc2FibGVUb2dnbGUgPSBKaW11Q29sbGFwc2FibGVUb2dnbGVcblxuLyoqXG4gKiBUaGUgYENvbGxhcHNhYmxlUmFkaW9gIGNvbXBvbmVudCBwcm9wcy5cbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29sbGFwc2FibGVSYWRpb1Byb3BzYCBmcm9tIGBqaW11LXVpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgdHlwZSBDb2xsYXBzYWJsZVJhZGlvUHJvcHMgPSBKaW11Q29sbGFwc2FibGVSYWRpb1Byb3BzXG5cbi8qKlxuICogVGhlIGBDb2xsYXBzYWJsZVJhZGlvYCBjb21wb25lbnQgYWxsb3dzIHVzZXJzIHRvIHNob3cgdGhlIGNvbGxhcHNpYmxlIHBhbmVsLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29sbGFwc2FibGVSYWRpb2AgZnJvbSBgamltdS11aWAgaW5zdGVhZC5cbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBDb2xsYXBzYWJsZVJhZGlvIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IENvbGxhcHNhYmxlUmFkaW8gPSBKaW11Q29sbGFwc2FibGVSYWRpb1xuXG4vKipcbiAqIFRoZSBgQ29sbGFwc2FibGVDaGVja2JveGAgY29tcG9uZW50IHByb3BzLlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb2xsYXBzYWJsZUNoZWNrYm94UHJvcHNgIGZyb20gYGppbXUtdWlgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCB0eXBlIENvbGxhcHNhYmxlQ2hlY2tib3hQcm9wcyA9IEppbXVDb2xsYXBzYWJsZUNoZWNrYm94UHJvcHNcblxuLyoqXG4gKiBUaGUgYENvbGxhcHNhYmxlQ2hlY2tib3hgIGNvbXBvbmVudCBhbGxvd3MgdXNlcnMgdG8gc2hvdyB0aGUgY29sbGFwc2libGUgcGFuZWwuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb2xsYXBzYWJsZUNoZWNrYm94YCBmcm9tIGBqaW11LXVpYCBpbnN0ZWFkLlxuICogYGBgdHNcbiAqIGltcG9ydCB7IENvbGxhcHNhYmxlQ2hlY2tib3ggfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgQ29sbGFwc2FibGVDaGVja2JveCA9IEppbXVDb2xsYXBzYWJsZUNoZWNrYm94XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcywgaG9va3MgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBBZHZhbmNlZEJ1dHRvbkdyb3VwLCBCdXR0b24sIHR5cGUgQnV0dG9uU2l6ZSwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IEhvcml6b250YWxPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvaG9yaXpvbnRhbCdcbmltcG9ydCB7IFZlcnRpY2FsT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3ZlcnRpY2FsJ1xuXG4vKipcbiAqIFRoZSBEaXJlY3Rpb25TZWxlY3RvciBjb21wb25lbnQgcHJvcHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aW9uU2VsZWN0b3JQcm9wc1xuICBleHRlbmRzIE9taXQ8UmVhY3QuSHRtbEhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwgJ29uQ2hhbmdlJz4ge1xuICAvKipcbiAgICogRGVmaW5lcyB0aGUgc2l6ZSBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgc21cbiAgICovXG4gIHNpemU/OiBCdXR0b25TaXplXG4gIC8qKlxuICAgKiBGbGlwIHRoZSBpY29uIGF1dG9tYXRpY2FsbHkgaWYgdGhlIGxvY2FsZSBpcyBmb2xsb3dpbmcgcmlnaHQtdG8tbGVmdCAoUlRMKS5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgYXV0b0ZsaXA/OiBib29sZWFuXG4gIC8qKlxuICAgKiBEaXNwbGF5IGNvbXBvbmVudHMgdmVydGljYWxseSBvciBub3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB2ZXJ0aWNhbD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiBkaXJlY3Rpb24gY2hhbmdlcy5cbiAgICogQHBhcmFtIHZlcnRpY2FsXG4gICAqIEBldmVudFxuICAgKi9cbiAgb25DaGFuZ2U/OiAodmVydGljYWw/OiBib29sZWFuKSA9PiB2b2lkXG59XG5cbi8qKlxuICogVGhlIGBEaXJlY3Rpb25TZWxlY3RvcmAgY29tcG9uZW50IHByb3ZpZGVzIHRoZSB1c2VyIHdpdGggdGhlIGFiaWxpdHkgdG8gc2V0IHRoZSBkaXJlY3Rpb24uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERpcmVjdGlvblNlbGVjdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IERpcmVjdGlvblNlbGVjdG9yID0gKHByb3BzOiBEaXJlY3Rpb25TZWxlY3RvclByb3BzKSA9PiB7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGRlZmF1bHRNZXNzYWdlcylcbiAgY29uc3Qge1xuICAgIHZlcnRpY2FsID0gZmFsc2UsXG4gICAgb25DaGFuZ2UsXG4gICAgYXV0b0ZsaXAgPSB0cnVlLFxuICAgIGNsYXNzTmFtZSxcbiAgICBzaXplID0gJ3NtJyxcbiAgICAuLi5vdGhlcnNcbiAgfSA9IHByb3BzXG5cbiAgcmV0dXJuIChcbiAgICA8QWR2YW5jZWRCdXR0b25Hcm91cFxuICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2V0dGluZy0tZGlyZWN0aW9uLXNlbGVjdG9yJywgY2xhc3NOYW1lKX1cbiAgICAgIHsuLi5vdGhlcnN9XG4gICAgPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICB0aXRsZT17dHJhbnNsYXRlKCdob3Jpem9udGFsJyl9XG4gICAgICAgIHR5cGU9J2RlZmF1bHQnXG4gICAgICAgIGljb25cbiAgICAgICAgYWN0aXZlPXshdmVydGljYWx9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHsgb25DaGFuZ2UoZmFsc2UpIH19XG4gICAgICA+XG4gICAgICAgIDxIb3Jpem9udGFsT3V0bGluZWQgYXV0b0ZsaXA9e2F1dG9GbGlwfSAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIHNpemU9e3NpemV9XG4gICAgICAgIHRpdGxlPXt0cmFuc2xhdGUoJ3ZlcnRpY2FsJyl9XG4gICAgICAgIHR5cGU9J2RlZmF1bHQnXG4gICAgICAgIGljb25cbiAgICAgICAgYWN0aXZlPXt2ZXJ0aWNhbH1cbiAgICAgICAgb25DbGljaz17KCkgPT4geyBvbkNoYW5nZSh0cnVlKSB9fVxuICAgICAgPlxuICAgICAgICA8VmVydGljYWxPdXRsaW5lZCAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgPC9BZHZhbmNlZEJ1dHRvbkdyb3VwPlxuICApXG59XG4iLCJpbXBvcnQge1xuICBSZWFjdCwgdHlwZSBJbW11dGFibGVBcnJheSwgRGF0YVNvdXJjZU1hbmFnZXIsIGNsYXNzTmFtZXMsIGdldEFwcFN0b3JlLCBEYXRhU291cmNlU3RhdHVzLCB0eXBlIEludGxTaGFwZSwgaW5qZWN0SW50bCwgdHlwZSBEYXRhU291cmNlXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEFsZXJ0LCBMb2FkaW5nLCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdVVJRGVmYXVsdE1lc3NhZ2VzLCBMb2FkaW5nVHlwZSB9IGZyb20gJ2ppbXUtdWknXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGVkRHNKc29uIHtcbiAgcm9vdERhdGFTb3VyY2VJZDogc3RyaW5nXG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nXG59XG5cbmludGVyZmFjZSBEc0xpc3RGb3JTZWxlY3RvclByb3BzIHtcbiAgZnJvbVJvb3REc0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBzZWxlY3RlZERzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+XG5cbiAgb25TZWxlY3Q/OiAoc2VsZWN0ZWREc0pzb246IFNlbGVjdGVkRHNKc29uKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGlzTG9hZGluZzogYm9vbGVhblxufVxuXG5jbGFzcyBfRHNMaXN0Rm9yU2VsZWN0b3IgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PERzTGlzdEZvclNlbGVjdG9yUHJvcHMgJiB7IGludGw6IEludGxTaGFwZSB9LCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiB0aGlzLmdldElzTG9hZGluZygpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgdGhpcy53YWl0Q2hpbGREc3NSZWFkeSgpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUmVhZG9ubHk8RHNMaXN0Rm9yU2VsZWN0b3JQcm9wcyAmIHsgaW50bDogSW50bFNoYXBlIH0+KSB7XG4gICAgaWYgKHByZXZQcm9wcy5mcm9tUm9vdERzSWRzICE9PSB0aGlzLnByb3BzLmZyb21Sb290RHNJZHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRoaXMuZ2V0SXNMb2FkaW5nKCkgfSlcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLndhaXRDaGlsZERzc1JlYWR5KCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHdhaXRDaGlsZERzc1JlYWR5ICgpOiBQcm9taXNlPERhdGFTb3VyY2VbXT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLm1hcChyb290RHNJZCA9PiB0aGlzLndhaXRDaGlsZERzc1JlYWR5Rm9yU2luZ2xlRHMocm9vdERzSWQpKSkuY2F0Y2goZXJyID0+IFtdKVxuICB9XG5cbiAgd2FpdENoaWxkRHNzUmVhZHlGb3JTaW5nbGVEcyAoZHNJZDogc3RyaW5nKTogUHJvbWlzZTxEYXRhU291cmNlPiB7XG4gICAgY29uc3QgZHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UoZHNJZClcbiAgICBpZiAoZHM/LmlzRGF0YVNvdXJjZVNldCAmJiAhZHMuYXJlQ2hpbGREYXRhU291cmNlc0NyZWF0ZWQoKSkge1xuICAgICAgcmV0dXJuIGRzLmNoaWxkRGF0YVNvdXJjZXNSZWFkeSgpLnRoZW4oKCkgPT4gZHMpXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZHMpXG4gIH1cblxuICBnZXRJc0xvYWRpbmcgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmZyb21Sb290RHNJZHMpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLnNvbWUocm9vdERzSWQgPT4gdGhpcy5nZXRJc1NpbmdsZURzTG9hZGluZyhyb290RHNJZCkpXG4gIH1cblxuICBnZXRJc1NpbmdsZURzTG9hZGluZyA9IChkc0lkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICAgIGNvbnN0IGRzSW5mbyA9IGRzPy5nZXRJbmZvKClcbiAgICAvLyBObyBkYXRhIHNvdXJjZSBpbmZvIG1lYW5zIHRoZSBkYXRhIHNvdXJjZSBpcyByZW1vdmVkLlxuICAgIGlmICghZHNJbmZvKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGRzSW5mby5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIGlmIChkc0luZm8uaW5zdGFuY2VTdGF0dXMgPT09IERhdGFTb3VyY2VTdGF0dXMuQ3JlYXRlZCkge1xuICAgICAgLy8gSWYgdGhlIGRhdGEgc291cmNlIGlzIHNldCwgc2hvdWxkIHdhaXQgdXRpbCBhbGwgY2hpbGQgZGF0YSBzb3VyY2VzIGFyZSBjcmVhdGVkLlxuICAgICAgcmV0dXJuIGRzLmlzRGF0YVNvdXJjZVNldCA/ICFkcy5hcmVDaGlsZERhdGFTb3VyY2VzQ3JlYXRlZCgpIDogZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgamltdVVJRGVmYXVsdE1lc3NhZ2VzKVxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZShcbiAgICAgIHsgaWQ6IGlkLCBkZWZhdWx0TWVzc2FnZTogbWVzc2FnZXNbaWRdIH0sXG4gICAgICB2YWx1ZXNcbiAgICApXG4gIH1cblxuICBnZXRDb250ZW50ICgpIHtcbiAgICBjb25zdCByb290RHNJZHMgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByb290RHNJZHMucHVzaCh0aGlzLnByb3BzLmZyb21Sb290RHNJZHNbaV0pXG4gICAgfVxuXG4gICAgY29uc3QgYXBwQ29uZmlnID0gd2luZG93Py5qaW11Q29uZmlnPy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcgOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcENvbmZpZ1xuXG4gICAgY29uc3QgZ2V0V2hldGhlckl0ZW1FcnJvciA9IChkYXRhU291cmNlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgcmV0dXJuIGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uZGF0YVNvdXJjZXNJbmZvPy5bZGF0YVNvdXJjZUlkXT8uaW5zdGFuY2VTdGF0dXMgPT09IERhdGFTb3VyY2VTdGF0dXMuQ3JlYXRlRXJyb3JcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cbiAgICAgICAge3Jvb3REc0lkcy5tYXAoKHJvb3REc0lkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvb3REcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShyb290RHNJZClcbiAgICAgICAgICAvLyBjb25zdCBsYWJlbCA9IHJvb3REcy5nZXRMYWJlbCgpXG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBhcHBDb25maWcuZGF0YVNvdXJjZXNbcm9vdERzSWRdPy5zb3VyY2VMYWJlbFxuICAgICAgICAgIGNvbnN0IGl0ZW1FcnJvciA9IGdldFdoZXRoZXJJdGVtRXJyb3Iocm9vdERzSWQpXG4gICAgICAgICAgY29uc3QgY2hpbGRlckRzcyA9IHJvb3REcz8uZ2V0Q2hpbGREYXRhU291cmNlcygpXG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtZGFyay02MDAgcGwtMiBwci0yIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4nIHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgIHtpdGVtRXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgIDxBbGVydFxuICAgICAgICAgICAgICAgICAgICBidXR0b25UeXBlPSd0ZXJ0aWFyeSdcbiAgICAgICAgICAgICAgICAgICAgZm9ybT0ndG9vbHRpcCdcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICB0ZXh0PXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RhdGFTb3VyY2VDcmVhdGVFcnJvcicpfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2NoaWxkZXJEc3M/Lm1hcCgoY2hpbGREcywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT0nbXQtMSBtYi0xJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbGF5ZXJ2aWV3c2VsZWN0b3ItZHMtaXRlbSBwbC0yIHByLTInLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyAnbGF5ZXJ2aWV3c2VsZWN0b3ItZHMtaXRlbS1zZWxlY3RlZCc6ICh0aGlzLnByb3BzLnNlbGVjdGVkRHNJZHMgJiYgdGhpcy5wcm9wcy5zZWxlY3RlZERzSWRzLmluY2x1ZGVzKGNoaWxkRHMuaWQpKSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Y2hpbGREcy5nZXRMYWJlbCgpfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0ICYmIHRoaXMucHJvcHMub25TZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICByb290RGF0YVNvdXJjZUlkOiByb290RHNJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZUlkOiBjaGlsZERzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID57Y2hpbGREcz8uZ2V0TGFiZWwoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmZyb21Sb290RHNJZHMgfHwgdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCc+e3RoaXMuc3RhdGUuaXNMb2FkaW5nID8gPExvYWRpbmcgdHlwZT17TG9hZGluZ1R5cGUuU2Vjb25kYXJ5fSB3aWR0aD17MjR9IGhlaWdodD17MTZ9IC8+IDogdGhpcy5nZXRDb250ZW50KCl9PC9kaXY+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEc0xpc3RGb3JTZWxlY3RvciA9IGluamVjdEludGwoX0RzTGlzdEZvclNlbGVjdG9yKVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCBjc3MsIGNsYXNzTmFtZXMsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIE11bHRpcGxlRGF0YVNvdXJjZUNvbXBvbmVudCwgRGF0YVNvdXJjZUNvbXBvbmVudCwgdHlwZSBJbnRsU2hhcGUsIGluamVjdEludGwsXG4gIGdldEFwcFN0b3JlLCB0eXBlIERhdGFTb3VyY2UsIHR5cGUgSU1EYXRhU291cmNlSW5mbywgSW1tdXRhYmxlLCB0eXBlIEltbXV0YWJsZUFycmF5LCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCB0eXBlIFF1ZXJ5UGFyYW1zXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IERyb3Bkb3duLCBEcm9wZG93bkJ1dHRvbiwgRHJvcGRvd25NZW51IH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IERzTGlzdEZvclNlbGVjdG9yLCB0eXBlIFNlbGVjdGVkRHNKc29uIH0gZnJvbSAnLi9kcy1saXN0LWZvci1zZWxlY3RvcidcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBsaXN0T3BlbjogYm9vbGVhblxuICB3aWR0aDogbnVtYmVyXG59XG5jb25zdCBTVFlMRSA9IGNzc2BcbiYge1xuICAuZHMtc2VsZWN0b3IgPiBzcGFuIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59XG5gXG4vKipcbiAqIFRoZSBKaW11TGF5ZXJWaWV3U2VsZWN0b3IgY29tcG9uZW50IHByb3BzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSmltdUxheWVyVmlld1NlbGVjdG9yRGVwcmVjYXRlZFByb3BzIHtcblxuICAvKipcbiAgICogVGhlIGFycmF5IG9mIE1hcCB3aWRnZXQgSURzLiBJdCBpcyByZXR1cm5lZCBieSBzZWxlY3RpbmcgZnJvbSB0aGUgTWFwV2lkZ2V0U2VsZWN0b3IgY29tcG9uZW50LlxuICAgKi9cbiAgdXNlTWFwV2lkZ2V0SWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+XG5cbiAgLyoqXG4gICAqIFRoZSBqaW11TGF5ZXJWaWV3SW5mbyBvZiB0aGUgbGF5ZXIgc2VsZWN0ZWQgYnkgdGhlIG9uU2VsZWN0IGZ1bmN0aW9uLlxuICAgKi9cbiAgamltdUxheWVyVmlld0luZm8/OiBhbnlcblxuICAvKiogQGlnbm9yZSAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBsYXllciBpcyBzZWxlY3RlZC5cbiAgICovXG4gIG9uU2VsZWN0PzogKGppbXVMYXllclZpZXdJbmZvOiBhbnkpID0+IHZvaWRcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgaW50bDogSW50bFNoYXBlXG59XG5cbmNsYXNzIF9KaW11TGF5ZXJWaWV3U2VsZWN0b3JEZXByZWNhdGVkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxKaW11TGF5ZXJWaWV3U2VsZWN0b3JEZXByZWNhdGVkUHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxpc3RPcGVuOiBmYWxzZSxcbiAgICAgIHdpZHRoOiAwXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTGlzdCA9IChldnQpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGxpc3RPcGVuOiAhdGhpcy5zdGF0ZS5saXN0T3BlblxuICAgIH0pXG4gIH1cblxuICBvblJlc2l6ZSA9ICh3aWR0aCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgd2lkdGg6IHdpZHRoXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUNob29zZUxheWVyID0gKHNlbGVjdGVkRHNKc29uOiBTZWxlY3RlZERzSnNvbikgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0KSB7XG4gICAgICBpZiAoc2VsZWN0ZWREc0pzb24pIHtcbiAgICAgICAgY29uc3Qgcm9vdERzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHNlbGVjdGVkRHNKc29uLnJvb3REYXRhU291cmNlSWQpXG4gICAgICAgIGNvbnN0IGxheWVyRHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2Uoc2VsZWN0ZWREc0pzb24uZGF0YVNvdXJjZUlkKVxuICAgICAgICBjb25zdCBsYXllcklkID0gKGxheWVyRHMgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSkuaWQgLy8gbGV0IHN1cnZleSB3aWRnZXQgd29yaywgbmVlZCBAdGVuZzk5ODEgJ3MgaGVscCB0byByZXZpZXdcbiAgICAgICAgY29uc3QgamltdUxheWVySWQgPSByb290RHMuZ2V0SmltdUNoaWxkSWQobGF5ZXJJZClbMF1cblxuICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KEltbXV0YWJsZSh7XG4gICAgICAgICAgamltdU1hcFZpZXdJZDogYCR7dGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHNbMF19LSR7c2VsZWN0ZWREc0pzb24ucm9vdERhdGFTb3VyY2VJZH1gLFxuICAgICAgICAgIGppbXVMYXllcklkOiBqaW11TGF5ZXJJZCxcbiAgICAgICAgICBkYXRhU291cmNlSWQ6IHNlbGVjdGVkRHNKc29uICYmIHNlbGVjdGVkRHNKc29uLmRhdGFTb3VyY2VJZCxcbiAgICAgICAgICByb290RGF0YVNvdXJjZUlkOiBzZWxlY3RlZERzSnNvbiAmJiBzZWxlY3RlZERzSnNvbi5yb290RGF0YVNvdXJjZUlkXG4gICAgICAgIH0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdChJbW11dGFibGUoe30pKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbGlzdE9wZW46IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTm9uZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNlbGVjdCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdChJbW11dGFibGUoe30pKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbGlzdE9wZW46IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGdldFRpdGxlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmppbXVMYXllclZpZXdJbmZvICYmIHRoaXMucHJvcHMudXNlTWFwV2lkZ2V0SWRzICYmIHRoaXMucHJvcHMudXNlTWFwV2lkZ2V0SWRzWzBdICYmIHRoaXMucHJvcHMuamltdUxheWVyVmlld0luZm8uZGF0YVNvdXJjZUlkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RGF0YVNvdXJjZUNvbXBvbmVudFxuICAgICAgICAgIHVzZURhdGFTb3VyY2U9e0ltbXV0YWJsZSh7XG4gICAgICAgICAgICBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuamltdUxheWVyVmlld0luZm8uZGF0YVNvdXJjZUlkLFxuICAgICAgICAgICAgbWFpbkRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5qaW11TGF5ZXJWaWV3SW5mby5kYXRhU291cmNlSWQsXG4gICAgICAgICAgICByb290RGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmppbXVMYXllclZpZXdJbmZvLnJvb3REYXRhU291cmNlSWRcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIChkczogRGF0YVNvdXJjZSwgaW5mbzogSU1EYXRhU291cmNlSW5mbywgcXVlcnk6IFF1ZXJ5UGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBkcz8uZ2V0TGFiZWwoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgPC9EYXRhU291cmNlQ29tcG9uZW50PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb25lU3RyaW5nKClcbiAgICB9XG4gIH1cblxuICBnZXRDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHdpZGdldElkID0gdGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHMgJiYgdGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHNbMF1cbiAgICBjb25zdCBjb25maWcgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXIuYXBwQ29uZmlnXG4gICAgY29uc3Qgd2lkZ2V0SnNvbiA9IGNvbmZpZy53aWRnZXRzW3dpZGdldElkXVxuICAgIGlmICh3aWRnZXRKc29uICYmIHdpZGdldEpzb24udXNlRGF0YVNvdXJjZXMgJiYgd2lkZ2V0SnNvbi51c2VEYXRhU291cmNlc1swXSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIG10LTEgbWItMic+XG4gICAgICAgICAgPGRpdiBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuaGFuZGxlQ2xpY2tOb25lKCkgfX0+PGRpdiBjbGFzc05hbWU9J2xheWVydmlld3NlbGVjdG9yLWRzLWl0ZW0gcGwtMiBwci0yJz57dGhpcy5nZXROb25lU3RyaW5nKCl9PC9kaXY+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIG10LTEgbWItMSc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgYm9yZGVyIGJvcmRlci1ib3R0b20tMCBib3JkZXItcmlnaHQtMCBib3JkZXItbGVmdC0wJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkcy1zZWxlY3Rvcic+XG4gICAgICAgICAgICA8TXVsdGlwbGVEYXRhU291cmNlQ29tcG9uZW50IHVzZURhdGFTb3VyY2VzPXt3aWRnZXRKc29uLnVzZURhdGFTb3VyY2VzfT5cbiAgICAgICAgICAgICAgeyhkc3M6IHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogRGF0YVNvdXJjZSB9LCBpbmZvczogeyBbZGF0YVNvdXJjZUlkOiBzdHJpbmddOiBJTURhdGFTb3VyY2VJbmZvIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tUm9vdERzSWRzID0gSW1tdXRhYmxlKE9iamVjdC5rZXlzKGRzcykpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZERzSWRzID0gW11cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5qaW11TGF5ZXJWaWV3SW5mbyAmJiB0aGlzLnByb3BzLmppbXVMYXllclZpZXdJbmZvLmRhdGFTb3VyY2VJZCkge1xuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREc0lkcy5wdXNoKHRoaXMucHJvcHMuamltdUxheWVyVmlld0luZm8uZGF0YVNvdXJjZUlkKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8RHNMaXN0Rm9yU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgZnJvbVJvb3REc0lkcz17ZnJvbVJvb3REc0lkc31cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhzZWxlY3RlZERzSnNvbjogU2VsZWN0ZWREc0pzb24pID0+IHsgdGhpcy5oYW5kbGVDaG9vc2VMYXllcihzZWxlY3RlZERzSnNvbikgfX0gc2VsZWN0ZWREc0lkcz17SW1tdXRhYmxlKHNlbGVjdGVkRHNJZHMpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA8L011bHRpcGxlRGF0YVNvdXJjZUNvbXBvbmVudD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEVtcHR5Q29udGVudCgpXG4gICAgfVxuICB9XG5cbiAgZ2V0Tm9uZVN0cmluZyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ25vbmUnLCBkZWZhdWx0TWVzc2FnZTogJ05vbmUnIH0pXG4gIH1cblxuICBnZXRFbXB0eUNvbnRlbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBtdC0xIG1iLTInPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbGF5ZXJ2aWV3c2VsZWN0b3ItZHMtaXRlbSBwbC0yIHByLTInIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVDbGlja05vbmUoKSB9fT57dGhpcy5nZXROb25lU3RyaW5nKCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAnLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9PlxuICAgICAgICA8RHJvcGRvd24gc2l6ZT0nc20nIHRvZ2dsZT17KGV2dCkgPT4geyB0aGlzLnRvZ2dsZUxpc3QoZXZ0KSB9fSBpc09wZW49e3RoaXMuc3RhdGUubGlzdE9wZW59IGNsYXNzTmFtZT0ndy0xMDAnPlxuICAgICAgICAgIDxEcm9wZG93bkJ1dHRvblxuICAgICAgICAgICAgc2l6ZT0nc20nIHR5cGU9J3RlcnRpYXJ5JyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIgdG9vbGxpc3QtaXRlbScsXG4gICAgICAgICAgICAgICdqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB0b29sbGlzdC1pdGVtLWNsaWNrIGxheWVydmlld3NlbGVjdG9yLWlucHV0Jyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbGF5ZXJ2aWV3c2VsZWN0b3ItaW5wdXQtdGV4dCBtbC0yJz57dGhpcy5nZXRUaXRsZSgpfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Ecm9wZG93bkJ1dHRvbj5cbiAgICAgICAgICA8RHJvcGRvd25NZW51IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWwtMCBtci0wIG1iLTAgbXQtMSBwLTAnLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9IGNzcz17U1RZTEV9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGxheWVydmlld3NlbGVjdG9yLWJnJz5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogYCR7dGhpcy5zdGF0ZS53aWR0aH1weGAgfX0+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0Q29udGVudCgpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBBIHJlYWN0IGNvbXBvbmVudCBmb3Igc2VsZWN0aW5nIGxheWVycyBpbiBhIG1hcC4gSXQgaXMgdXN1YWxseSB1c2VkIG9uIHRoZSBzZXR0aW5ncyBwYWdlIG9mIGEgd2lkZ2V0LFxuICogYW5kIHdvcmtzIHdpdGggSmltdUxheWVyVmlld0NvbXBvbmVudCB0byBnZXQgdGhlIGppbXVsYXllcnZpZXcgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEZXByZWNhdGVkID0gaW5qZWN0SW50bCh3aXRoU3R5bGVzKF9KaW11TGF5ZXJWaWV3U2VsZWN0b3JEZXByZWNhdGVkLCAnSmltdUxheWVyVmlld1NlbGVjdG9yRGVwcmVjYXRlZCcpKVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgY3NzLFxuICBqc3gsXG4gIHBvbGlzaGVkLFxuICBjbGFzc05hbWVzLFxuICBob29rc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQge1xuICBEcm9wZG93bixcbiAgRHJvcGRvd25CdXR0b24sXG4gIERyb3Bkb3duTWVudSxcbiAgZGVmYXVsdE1lc3NhZ2VzXG59IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBNYXBWaWV3TWFuYWdlciB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5pbXBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3IsIHR5cGUgSmltdUxheWVyVmlld1NlbGVjdG9yUHJvcHMgfSBmcm9tICcuLi9zZWxlY3RvcidcblxuZXhwb3J0IGludGVyZmFjZSBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93blByb3BzIGV4dGVuZHMgT21pdDxKaW11TGF5ZXJWaWV3U2VsZWN0b3JQcm9wcywgJ2lzSW5Ecm9wZG93bic+IHt9XG5cbi8qKlxuICogQSBjb21wb25lbnQgZm9yIHNlbGVjdGluZyBsYXllcnMgaW4gYSBtYXAgdmlldy4gSXQgaXMgdXN1YWxseSB1c2VkIG9uIHRoZSBzZXR0aW5ncyBwYWdlIG9mIGEgd2lkZ2V0LlxuICogSXQgaW5jbHVkZXMgYSBkcm9wZG93biBidXR0b24gdG8gZGlzcGxheSB0aGUgc2VsZWN0ZWQgdmFsdWVzIGFuZCBKaW11TGF5ZXJWaWV3U2VsZWN0b3IgY29tcG9uZW50IHRvIHNlbGVjdCB0aGUgbGF5ZXIuXG4gKiBgYGBcbiAqIGltcG9ydCB7IEppbXVMYXllclZpZXdTZWxlY3RvckRyb3Bkb3duIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgY29uc3QgX0ppbXVMYXllclZpZXdTZWxlY3RvckRyb3Bkb3duID0gKHByb3BzOiBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93blByb3BzKSA9PiB7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGRlZmF1bHRNZXNzYWdlcylcbiAgY29uc3QgeyB1c2VSZWYsIHVzZVN0YXRlIH0gPSBSZWFjdFxuICBjb25zdCBidXR0b25SZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IGdldFNlbGVjdExhYmVsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGVmYXVsdFNlbGVjdGVkVmFsdWVzLCBpc011bHRpU2VsZWN0aW9uLCBqaW11TWFwVmlld0lkIH0gPSBwcm9wc1xuICAgIGNvbnN0IG51bWJlciA9IGRlZmF1bHRTZWxlY3RlZFZhbHVlcz8ubGVuZ3RoIHx8IDBcbiAgICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlKCdudW1TZWxlY3RlZCcsIHsgbnVtYmVyIH0pXG4gICAgfVxuICAgIGlmIChpc011bHRpU2VsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlKCdudW1TZWxlY3RlZCcsIHsgbnVtYmVyIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcbiAgICAgIHJldHVybiBqaW11TWFwVmlldz8uamltdUxheWVyVmlld3NbZGVmYXVsdFNlbGVjdGVkVmFsdWVzWzBdXT8ubGF5ZXIudGl0bGVcbiAgICB9XG4gIH1cblxuICBjb25zdCBvblRvZ2dsZVBvcHBlciA9ICgpID0+IHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBzZXRJc09wZW4oZmFsc2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldElzT3Blbih0cnVlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldERyb3Bkb3duTWVudVN0eWxlID0gKCkgPT4ge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAke1xuICAgICAgICBidXR0b25SZWZcbiAgICAgICAgPyBgXG4gICAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDEuNSAqIGJ1dHRvblJlZi5jdXJyZW50Py5jbGllbnRXaWR0aCl9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgICAgcGFkZGluZzogMTZweDtcbiAgICBgXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY29tcG9uZW50LWxheWVyLXZpZXctc2VsZWN0b3ItZHJvcGRvd24nLCAndy0xMDAnLCBwcm9wcy5jbGFzc05hbWUgfHwgJycpfVxuICAgID5cbiAgICAgIDxEcm9wZG93blxuICAgICAgICBjbGFzc05hbWU9J3ctMTAwJ1xuICAgICAgICBkaXJlY3Rpb249J2Rvd24nXG4gICAgICAgIHRvZ2dsZT17b25Ub2dnbGVQb3BwZXJ9XG4gICAgICAgIGlzT3Blbj17aXNPcGVufVxuICAgICAgICBhdXRvV2lkdGg9e3RydWV9XG4gICAgICA+XG4gICAgICAgIDxEcm9wZG93bkJ1dHRvblxuICAgICAgICByZWYgPSB7bm9kZSA9PiB7IGJ1dHRvblJlZi5jdXJyZW50ID0gbm9kZSB9IH1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXRTZWxlY3RMYWJlbCgpfVxuICAgICAgICA8L0Ryb3Bkb3duQnV0dG9uPlxuICAgICAgICA8RHJvcGRvd25NZW51XG4gICAgICAgICAgY2xhc3NOYW1lPSdzaGFkb3ctbGcnXG4gICAgICAgICAgY3NzPXtnZXREcm9wZG93bk1lbnVTdHlsZSgpfVxuICAgICAgICAgIGFsaWdubWVudD0nZW5kJ1xuICAgICAgICA+XG4gICAgICAgICAgPEppbXVMYXllclZpZXdTZWxlY3RvclxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgaXNJbkRyb3Bkb3duPXt0cnVlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICAgPC9Ecm9wZG93bj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IGZvciBzZWxlY3RpbmcgbGF5ZXJzIGluIGEgbWFwIHZpZXcuIEl0IGlzIHVzdWFsbHkgdXNlZCBvbiB0aGUgc2V0dGluZ3MgcGFnZSBvZiBhIHdpZGdldC5cbiAqIEl0IGluY2x1ZGVzIGEgZHJvcGRvd24gYnV0dG9uIHRvIGRpc3BsYXkgdGhlIHNlbGVjdGVkIHZhbHVlcyBhbmQgSmltdUxheWVyVmlld1NlbGVjdG9yIGNvbXBvbmVudCB0byBzZWxlY3QgdGhlIGxheWVyLlxuICogYGBgXG4gKiBpbXBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93biB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJ1xuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IEppbXVMYXllclZpZXdTZWxlY3RvckRyb3Bkb3duID0gd2l0aFN0eWxlcyhfSmltdUxheWVyVmlld1NlbGVjdG9yRHJvcGRvd24sICdKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93bicpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIGNsYXNzTmFtZXMsXG4gIGhvb2tzXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7XG4gIExvYWRpbmcsXG4gIExvYWRpbmdUeXBlLFxuICBUZXh0SW5wdXQsXG4gIGRlZmF1bHRNZXNzYWdlc1xufSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zZWFyY2gnXG5pbXBvcnQgeyBUcmVlLCBUcmVlQ29sbGFwc2VTdHlsZSwgVHJlZUl0ZW1BY3Rpb25UeXBlLCB0eXBlIFRyZWVJdGVtVHlwZSwgVHJlZUFsaWdubWVudFR5cGUsIFRyZWVTdHlsZSB9IGZyb20gJ2ppbXUtdWkvYmFzaWMvbGlzdC10cmVlJ1xuaW1wb3J0IHsgdHlwZSBKaW11TGF5ZXJWaWV3LCBNYXBWaWV3TWFuYWdlciwgdHlwZSBKaW11TGF5ZXJWaWV3cyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbi8qKlxuICogQ29uc3RydWN0IHRoZSB0cmVlIHN0cnVjdHVyZSBqc29uIGRhdGEgZnJvbSBqaW11TGF5ZXJWaWV3cy5cbiAqL1xuY29uc3QgY29uc3RydWN0VHJlZSA9IChqaW11TGF5ZXJWaWV3czogeyBbamltdUxheWVyVmlld0lkOiBzdHJpbmddOiBKaW11TGF5ZXJWaWV3IH0sIGRpc2FibGVMYXllcnM6IChqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3LCBqaW11TGF5ZXJWaWV3czogSmltdUxheWVyVmlld3MpID0+IGJvb2xlYW4sIGhpZGVMYXllcnM6IChqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3LCBqaW11TGF5ZXJWaWV3czogSmltdUxheWVyVmlld3MpID0+IGJvb2xlYW4sIHNlbGVjdGVkVmFsdWVzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCB0cmVlSnNvbiA9IHtcbiAgICBpdGVtS2V5OiAncm9vdCBpdGVtJyxcbiAgICBpdGVtU3RhdGVUaXRsZTogJ3Jvb3QgaXRlbScsXG4gICAgaXRlbUNoaWxkcmVuOiBbXVxuICB9XG4gIGNvbnN0IHRyZWVJdGVtQnlLZXkgPSB7fVxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cykpIHtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gZGlzYWJsZUxheWVycyA/IGRpc2FibGVMYXllcnMoamltdUxheWVyVmlld3Nba2V5XSwgamltdUxheWVyVmlld3MpIDogZmFsc2VcbiAgICBjb25zdCBpc1NlbGVjdGVkOiBib29sZWFuID0gc2VsZWN0ZWRWYWx1ZXM/Lmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXMoa2V5KVxuICAgIHRyZWVJdGVtQnlLZXlba2V5XSA9IHtcbiAgICAgIGl0ZW1LZXk6IGtleSxcbiAgICAgIGl0ZW1TdGF0ZVRpdGxlOiBqaW11TGF5ZXJWaWV3c1trZXldLmxheWVyLnRpdGxlLFxuICAgICAgaXRlbUNoaWxkcmVuOiBbXSxcbiAgICAgIGlzSXRlbVNlbGVjdGFibGU6ICFpc0Rpc2FibGVkLFxuICAgICAgaXRlbVN0YXRlQ2hlY2tlZDogIWlzRGlzYWJsZWQgJiYgaXNTZWxlY3RlZFxuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoamltdUxheWVyVmlld3MpKSB7XG4gICAgY29uc3QgeyBwYXJlbnRKaW11TGF5ZXJWaWV3SWQ6IHBJZCB9ID0gdmFsXG4gICAgaWYgKGppbXVMYXllclZpZXdzW2tleV0uZnJvbVJ1bnRpbWUpIHtcbiAgICAgIC8vVG8gZXhjbHVkZSB0aGUgbGF5ZXJzIHRoYXQgYWRkZWQgZnJvbSBBZGQgRGF0YSB3aWRnZXRcbiAgICAgIGNvbnRpbnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRyZWVJdGVtID0gdHJlZUl0ZW1CeUtleVtrZXldXG4gICAgICBpZiAoIWhpZGVMYXllcnMpIHsgLy9pZiBoaWRlTGF5ZXJzIHByb3BzIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmIChwSWQgPT09IG51bGwpIHtcbiAgICAgICAgICB0cmVlSnNvbi5pdGVtQ2hpbGRyZW4ucHVzaCh0cmVlSXRlbSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmVlSXRlbUJ5S2V5W3BJZF0uaXRlbUNoaWxkcmVuLnB1c2godHJlZUl0ZW0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWhpZGVMYXllcnMoamltdUxheWVyVmlld3Nba2V5XSwgamltdUxheWVyVmlld3MpKSB7XG4gICAgICAgIGlmIChwSWQgPT09IG51bGwpIHtcbiAgICAgICAgICB0cmVlSnNvbi5pdGVtQ2hpbGRyZW4ucHVzaCh0cmVlSXRlbSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmVlSXRlbUJ5S2V5W3BJZF0uaXRlbUNoaWxkcmVuLnB1c2godHJlZUl0ZW0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRyZWVKc29uXG59XG5cbi8qKlxuICogU29ydCB0aGUgdHJlZSBpdGVtcyBpbiB0aGUgc2FtZSBsZXZlbC5cbiAqL1xuY29uc3Qgc29ydFRyZWVJdGVtID0gKGl0ZW06IFRyZWVJdGVtVHlwZSwgamltdUxheWVyVmlld3M6IHtcbiAgW2ppbXVMYXllclZpZXdJZDogc3RyaW5nXTogSmltdUxheWVyVmlld1xufSkgPT4ge1xuICBpZiAoIWl0ZW0uaXRlbUNoaWxkcmVuIHx8IGl0ZW0uaXRlbUNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpdGVtXG4gIH1cbiAgLy8gc29ydCB0aGUgY2hpbGRyZW4gbm9kZXNcbiAgaXRlbS5pdGVtQ2hpbGRyZW4gPSBpdGVtLml0ZW1DaGlsZHJlbi5zb3J0KChhLCBiKSA9PiB7IHJldHVybiBqaW11TGF5ZXJWaWV3c1thLml0ZW1LZXldLmluZGV4IC0gamltdUxheWVyVmlld3NbYi5pdGVtS2V5XS5pbmRleCB9KVxuICAvLyBpdGVyYXRlIHRoZSBjaGlsZHJlblxuICBpdGVtLml0ZW1DaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHNvcnRUcmVlSXRlbShjaGlsZCwgamltdUxheWVyVmlld3MpKVxuICByZXR1cm4gaXRlbVxufVxuXG4vKipcbiAqIEZpbHRlciB0aGUgdHJlZSBpdGVtcyB0aGF0IHRpdGxlIGluY2x1ZGVzIHRoZSBzZWFyY2ggc3RyaW5nIGFuZCBleHBhbmQgdGhlIGl0ZW1zLlxuICovXG5jb25zdCBmaWx0ZXJUcmVlSXRlbSA9IChpdGVtOiBUcmVlSXRlbVR5cGUsIGZpbHRlcktleTogc3RyaW5nKSA9PiB7XG4gIGlmICghaXRlbS5pdGVtQ2hpbGRyZW4gfHwgaXRlbS5pdGVtQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGl0ZW0uaXRlbVN0YXRlVGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJLZXkudG9Mb3dlckNhc2UoKSkgPyBpdGVtIDogbnVsbFxuICB9XG4gIGNvbnN0IGZpbHRlcmVkQ2hpbGRyZW4gPSBpdGVtLml0ZW1DaGlsZHJlblxuICAgIC5tYXAoY2hpbGQgPT4gZmlsdGVyVHJlZUl0ZW0oY2hpbGQsIGZpbHRlcktleSkpXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAvL0V4cGFuZCBldmVyeSBpdGVtIGluIHRoZSB0cmVlLCBleGNlcHQgdGhlIGxhc3Qgb25lLlxuICBpZiAoZmlsdGVyZWRDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgaXRlbS5pdGVtU3RhdGVFeHBhbmRlZCA9IHRydWVcbiAgfVxuICBpZiAoZmlsdGVyZWRDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaXRlbS5pdGVtU3RhdGVUaXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcktleS50b0xvd2VyQ2FzZSgpKSA/IGl0ZW0gOiBudWxsXG4gIH1cbiAgaXRlbS5pdGVtQ2hpbGRyZW4gPSBmaWx0ZXJlZENoaWxkcmVuXG4gIHJldHVybiBpdGVtXG59XG5cbi8qKlxuICogTW9kaWZ5IHRoZSBpdGVtU3RhdGVDaGVja2VkIGF0dHJpYnV0ZSBvZiBhIHRyZWUgaXRlbS5cbiAqL1xuY29uc3QgbW9kaWZ5VHJlZUl0ZW1DaGVja1N0YXRlID0gKGl0ZW06IFRyZWVJdGVtVHlwZSwga2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSA9PiB7XG4gIGlmIChpdGVtLml0ZW1LZXkgPT09IGtleSkge1xuICAgIGl0ZW0uaXRlbVN0YXRlQ2hlY2tlZCA9IHZhbHVlXG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIGlmICghaXRlbS5pdGVtQ2hpbGRyZW4gfHwgaXRlbS5pdGVtQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIGl0ZW0uaXRlbUNoaWxkcmVuID0gaXRlbS5pdGVtQ2hpbGRyZW4ubWFwKGNoaWxkID0+IG1vZGlmeVRyZWVJdGVtQ2hlY2tTdGF0ZShjaGlsZCwga2V5LCB2YWx1ZSkpXG4gIHJldHVybiBpdGVtXG59XG5cbi8qKlxuICogVGhlIEppbXVMYXllclZpZXdTZWxlY3RvciBhbmQgSmltdUxheWVyVmlld1NlbGVjdG9yRHJvcGRvd24gY29tcG9uZW50IHByb3BzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEppbXVMYXllclZpZXdTZWxlY3RvclByb3BzIHtcblxuICAvKiogQGlnbm9yZSAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcblxuICAvKipcbiAgICogVGhlIGlkIG9mIGEgamltdU1hcFZpZXcsIGl0IGlzIHVzdWFsbHkgcmV0dXJuZWQgYnkgc2VsZWN0aW5nIGZyb20gYSBqaW11TWFwVmlld1NlbGVjdG9yIGNvbXBvbmVudC5cbiAgICovXG4gIGppbXVNYXBWaWV3SWQ6IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB3aGVuIHNlbGVjdGVkIGxheWVycyBhcmUgY2hhbmdlZC5cbiAgICovXG4gIG9uQ2hhbmdlOiAoamltdUxheWVyVmlld0lkczogc3RyaW5nW10pID0+IHZvaWRcblxuICAvKipcbiAgICogRGVmYXVsdCBzZWxlY3RlZCB2YWx1ZXMgd2hlbiBmaXJzdCByZW5kZXIgdGhlIHNlbGVjdG9yLlxuICAgKi9cbiAgZGVmYXVsdFNlbGVjdGVkVmFsdWVzPzogc3RyaW5nW11cblxuICAvKipcbiAgICogV2hldGhlciB0byBoaWRlIHNvbWUgdHlwZXMgb2YgamltdUxheWVyVmlldy5cbiAgICogQHBhcmFtIGppbXVMYXllclZpZXc6IHRoZSBjdXJyZW50IGxheWVyLlxuICAgKiBAcGFyYW0gamltdUxheWVyVmlld3M6IGFsbCB0aGUgbGF5ZXJzIHRoYXQgZnJvbSBhIGppbXVNYXBWaWV3LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaGlkZUxheWVycz86IChqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3LCBqaW11TGF5ZXJWaWV3czogSmltdUxheWVyVmlld3MpID0+IGJvb2xlYW5cblxuICAvKipcbiAgICogV2hldGhlciB0byBkaXNhYmxlIHNvbWUgdHlwZXMgb2YgamltdUxheWVyVmlldywgd2hpY2ggYXJlIG5vdCBzZWxlY3RhYmxlLlxuICAgKiBAcGFyYW0gamltdUxheWVyVmlldzogdGhlIGN1cnJlbnQgbGF5ZXIuXG4gICAqIEBwYXJhbSBqaW11TGF5ZXJWaWV3czogYWxsIHRoZSBsYXllcnMgdGhhdCBmcm9tIGEgamltdU1hcFZpZXcuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlTGF5ZXJzPzogKGppbXVMYXllclZpZXc6IEppbXVMYXllclZpZXcsIGppbXVMYXllclZpZXdzOiBKaW11TGF5ZXJWaWV3cykgPT4gYm9vbGVhblxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCBhbGxvdyB0byBzZWxlY3QgbXVsdGkgaXRlbXMuXG4gICAqICBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNNdWx0aVNlbGVjdGlvbj86IGJvb2xlYW5cblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgaXMgdXNlZCBpbiB0aGUgSmltdUxheWVyVmlld1NlbGVjdG9yRHJvcGRvd24gY29tcG9uZW50LiBUaGlzIHByb3BlcnR5IGlzIHVzZWQgZm9yIGhlaWdodCBzdHlsZSBjYWxjdWxhdGlvbi5cbiAgICogQGlnbm9yZVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNJbkRyb3Bkb3duPzogYm9vbGVhblxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IGZvciBzZWxlY3RpbmcgbGF5ZXJzIGluIGEgbWFwIHZpZXcuIEl0IGlzIHVzdWFsbHkgdXNlZCBpbiB0aGVcbiAqIHNldHRpbmcgcGFnZSB0byBnZXQgdGhlIGxheWVyIGlkLlxuICogYGBgXG4gKiBpbXBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3IgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBjb25zdCBfSmltdUxheWVyVmlld1NlbGVjdG9yID0gKHByb3BzOiBKaW11TGF5ZXJWaWV3U2VsZWN0b3JQcm9wcykgPT4ge1xuICBjb25zdCB7IGppbXVNYXBWaWV3SWQsIGhpZGVMYXllcnMsIGRpc2FibGVMYXllcnMsIGlzTXVsdGlTZWxlY3Rpb24gPSBmYWxzZSwgZGVmYXVsdFNlbGVjdGVkVmFsdWVzIH0gPSBwcm9wc1xuICBjb25zdCB0cmFuc2xhdGUgPSBob29rcy51c2VUcmFuc2xhdGlvbihkZWZhdWx0TWVzc2FnZXMpXG4gIGNvbnN0IHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gPSBSZWFjdFxuICBjb25zdCBzZWFyY2hSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgZ2V0QWxsSmltdUxheWVyVmlld3MgPSBhc3luYyAoamltdU1hcFZpZXdJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxuICAgIGNvbnN0IGppbXVMYXllclZpZXdzID0gYXdhaXQgamltdU1hcFZpZXcud2hlbkFsbEppbXVMYXllclZpZXdMb2FkZWQoKVxuICAgIHJldHVybiBqaW11TGF5ZXJWaWV3c1xuICB9XG4gIGNvbnN0IFtzZWFyY2hlZFRleHQsIHNldFNlYXJjaGVkVGV4dF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBbcm9vdEl0ZW1Kc29uLCBzZXRSb290SXRlbUpzb25dID0gdXNlU3RhdGU8VHJlZUl0ZW1UeXBlPihudWxsKVxuICBjb25zdCBbc2VhcmNoZWRJdGVtSnNvbiwgc2V0U2VhcmNoZWRJdGVtSnNvbl0gPSB1c2VTdGF0ZTxUcmVlSXRlbVR5cGU+KG51bGwpXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2V0QWxsSmltdUxheWVyVmlld3MoamltdU1hcFZpZXdJZCkudGhlbigoamltdUxheWVyVmlld3MpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgIGNvbnN0IGluaXRUcmVlID0gY29uc3RydWN0VHJlZShqaW11TGF5ZXJWaWV3cywgZGlzYWJsZUxheWVycywgaGlkZUxheWVycywgZGVmYXVsdFNlbGVjdGVkVmFsdWVzKVxuICAgICAgY29uc3Qgc29ydGVkVHJlZSA9IHNvcnRUcmVlSXRlbShpbml0VHJlZSwgamltdUxheWVyVmlld3MpXG4gICAgICBzZXRSb290SXRlbUpzb24oc29ydGVkVHJlZSlcbiAgICB9KVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtqaW11TWFwVmlld0lkXSlcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBzZWFyY2ggdGV4dCBpcyBjaGFuZ2VkLlxuICAgKi9cbiAgY29uc3Qgb25UZXh0Q2hhbmdlID0gKGV2dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZ0LnRhcmdldC52YWx1ZVxuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHNldFNlYXJjaGVkSXRlbUpzb24obnVsbClcbiAgICAgIHNldFNlYXJjaGVkVGV4dCh2YWx1ZSlcbiAgICAgIHNldFJvb3RJdGVtSnNvbihyb290SXRlbUpzb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNlYXJjaGVkVGV4dCh2YWx1ZSlcbiAgICAgIGNvbnN0IG5ld1Jvb3RJdGVtSnNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm9vdEl0ZW1Kc29uKSlcbiAgICAgIGNvbnN0IGZpbHRlcmVkSXRlbUpzb24gPSBmaWx0ZXJUcmVlSXRlbShuZXdSb290SXRlbUpzb24sIHZhbHVlKVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1Kc29uKSB7XG4gICAgICAgIGNvbnN0IG5vU2VhcmNoZWRSZXN1bHRJdGVtSnNvbiA9IHtcbiAgICAgICAgICBpdGVtS2V5OiAncm9vdCBpdGVtJyxcbiAgICAgICAgICBpdGVtU3RhdGVUaXRsZTogJ3Jvb3QgaXRlbScsXG4gICAgICAgICAgaXRlbUNoaWxkcmVuOiBbXVxuICAgICAgICB9XG4gICAgICAgIHNldFNlYXJjaGVkSXRlbUpzb24obm9TZWFyY2hlZFJlc3VsdEl0ZW1Kc29uKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VhcmNoZWRJdGVtSnNvbihmaWx0ZXJlZEl0ZW1Kc29uKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZUxheWVySXRlbSA9IChhY3Rpb25EYXRhLCByZWZDb21wb25lbnQpID0+IHtcbiAgICBpZiAoYWN0aW9uRGF0YS51cGRhdGVUeXBlID09PSBUcmVlSXRlbUFjdGlvblR5cGUuSGFuZGxlRXhwYW5kSXRlbSkge1xuICAgICAgY29uc3QgWywgbmV4dFJvb3RJdGVtSnNvbl0gPSBhY3Rpb25EYXRhLml0ZW1Kc29uc1xuICAgICAgaWYgKHNlYXJjaGVkSXRlbUpzb24pIHtcbiAgICAgICAgc2V0U2VhcmNoZWRJdGVtSnNvbih7IC4uLm5leHRSb290SXRlbUpzb24gfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFJvb3RJdGVtSnNvbih7IC4uLm5leHRSb290SXRlbUpzb24gfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFxuICAgICAgYWN0aW9uRGF0YS51cGRhdGVUeXBlID09PSBUcmVlSXRlbUFjdGlvblR5cGUuSGFuZGxlQ2hlY2tib3hDaGFuZ2VkXG4gICAgKSB7XG4gICAgICBjb25zdCBbY3VycmVudEl0ZW1Kc29uLCBuZXh0Um9vdEl0ZW1Kc29uXSA9IGFjdGlvbkRhdGEuaXRlbUpzb25zXG4gICAgICBpZiAoc2VhcmNoZWRJdGVtSnNvbikge1xuICAgICAgICBzZXRTZWFyY2hlZEl0ZW1Kc29uKHsgLi4ubmV4dFJvb3RJdGVtSnNvbiB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Um9vdEl0ZW1Kc29uKHsgLi4ubmV4dFJvb3RJdGVtSnNvbiB9KVxuICAgICAgfVxuICAgICAgaWYgKGlzTXVsdGlTZWxlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWRJdGVtID0gZGVmYXVsdFNlbGVjdGVkVmFsdWVzID8gWy4uLmRlZmF1bHRTZWxlY3RlZFZhbHVlc10gOiBbXVxuICAgICAgICBpZiAoY3VycmVudEl0ZW1Kc29uLmlzSXRlbVNlbGVjdGFibGUgJiYgY3VycmVudEl0ZW1Kc29uLml0ZW1TdGF0ZUNoZWNrZWQpIHtcbiAgICAgICAgICBuZXdTZWxlY3RlZEl0ZW0ucHVzaChjdXJyZW50SXRlbUpzb24uaXRlbUtleSlcbiAgICAgICAgICBpZiAoc2VhcmNoZWRJdGVtSnNvbikge1xuICAgICAgICAgICAgbW9kaWZ5VHJlZUl0ZW1DaGVja1N0YXRlKHJvb3RJdGVtSnNvbiwgY3VycmVudEl0ZW1Kc29uLml0ZW1LZXksIHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRJdGVtSnNvbi5pc0l0ZW1TZWxlY3RhYmxlICYmIChjdXJyZW50SXRlbUpzb24uaXRlbVN0YXRlQ2hlY2tlZCA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgbmV3U2VsZWN0ZWRJdGVtLnNwbGljZShuZXdTZWxlY3RlZEl0ZW0uaW5kZXhPZihjdXJyZW50SXRlbUpzb24uaXRlbUtleSksIDEpXG4gICAgICAgICAgaWYgKHNlYXJjaGVkSXRlbUpzb24pIHtcbiAgICAgICAgICAgIG1vZGlmeVRyZWVJdGVtQ2hlY2tTdGF0ZShyb290SXRlbUpzb24sIGN1cnJlbnRJdGVtSnNvbi5pdGVtS2V5LCBmYWxzZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMub25DaGFuZ2UobmV3U2VsZWN0ZWRJdGVtKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRJdGVtSnNvbi5pc0l0ZW1TZWxlY3RhYmxlICYmIGN1cnJlbnRJdGVtSnNvbi5pdGVtU3RhdGVDaGVja2VkKSB7XG4gICAgICAgICAgaWYgKHNlYXJjaGVkSXRlbUpzb24pIHtcbiAgICAgICAgICAgIG1vZGlmeVRyZWVJdGVtQ2hlY2tTdGF0ZShyb290SXRlbUpzb24sIGN1cnJlbnRJdGVtSnNvbi5pdGVtS2V5LCB0cnVlKVxuICAgICAgICAgICAgbW9kaWZ5VHJlZUl0ZW1DaGVja1N0YXRlKHJvb3RJdGVtSnNvbiwgZGVmYXVsdFNlbGVjdGVkVmFsdWVzWzBdLCBmYWxzZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvcHMub25DaGFuZ2UoW2N1cnJlbnRJdGVtSnNvbi5pdGVtS2V5XSlcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SXRlbUpzb24uaXNJdGVtU2VsZWN0YWJsZSAmJiAoY3VycmVudEl0ZW1Kc29uLml0ZW1TdGF0ZUNoZWNrZWQgPT09IGZhbHNlKSkge1xuICAgICAgICAgIGlmIChzZWFyY2hlZEl0ZW1Kc29uKSB7XG4gICAgICAgICAgICBtb2RpZnlUcmVlSXRlbUNoZWNrU3RhdGUocm9vdEl0ZW1Kc29uLCBjdXJyZW50SXRlbUpzb24uaXRlbUtleSwgZmFsc2UpXG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKFtdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2NvbXBvbmVudC1sYXllci12aWV3LXNlbGVjdG9yJywgJ3ctMTAwIGgtMTAwJywgcHJvcHMuY2xhc3NOYW1lIHx8ICcnKX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VhcmNoLWNvbnRhaW5lcic+XG4gICAgICAgIDxUZXh0SW5wdXRcbiAgICAgICAgICBwcmVmaXg9ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICBkZWZhdWx0VmFsdWU9JydcbiAgICAgICAgICByZWY9eyBzZWFyY2hSZWYgfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0cmFuc2xhdGUoJ1NlYXJjaExhYmVsJyl9XG4gICAgICAgICAgb25DaGFuZ2U9e29uVGV4dENoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J3RyZWUtY29udGFpbmVyJz5cbiAgICAgICAge2lzTG9hZGluZ1xuICAgICAgICAgID8gPExvYWRpbmcgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgdHlwZT17TG9hZGluZ1R5cGUuU2Vjb25kYXJ5fSAvPlxuICAgICAgICAgIDogPFRyZWVcbiAgICAgICAgICAgIGNsYXNzTmFtZT0ndy0xMDAnXG4gICAgICAgICAgICBjb2xsYXBzZVN0eWxlPXtUcmVlQ29sbGFwc2VTdHlsZS5BcnJvd31cbiAgICAgICAgICAgIGRuZEVuYWJsZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgb25VcGRhdGVJdGVtPXtoYW5kbGVVcGRhdGVMYXllckl0ZW19XG4gICAgICAgICAgICByb290SXRlbUpzb249e3NlYXJjaGVkSXRlbUpzb24gfHwgcm9vdEl0ZW1Kc29ufVxuICAgICAgICAgICAgaXNNdWx0aVNlbGVjdGlvbj17aXNNdWx0aVNlbGVjdGlvbn1cbiAgICAgICAgICAgIGNoZWNrYm94TGlua2FnZT17ZmFsc2V9XG4gICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgIHRyZWVBbGlnbm1lbnRUeXBlPXtUcmVlQWxpZ25tZW50VHlwZS5JbnRhY3R9XG4gICAgICAgICAgICBkaXNhYmxlRG91YmxlQ2xpY2tUaXRsZT17dHJ1ZX1cbiAgICAgICAgICAgIHRyZWVTdHlsZT17VHJlZVN0eWxlLkJhc2ljfVxuICAgICAgICAgICAgc2luZ2xlTGluZVRleHQ9e3RydWV9XG4gICAgICAgICAgICBzZWFyY2hlZFRleHQ9e3NlYXJjaGVkVGV4dH1cbiAgICAgICAgICAvPn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbi8qKlxuICogQSBjb21wb25lbnQgZm9yIHNlbGVjdGluZyBsYXllcnMgaW4gYSBtYXAgdmlldy4gSXQgaXMgdXN1YWxseSB1c2VkIG9uIHRoZSBzZXR0aW5ncyBwYWdlIG9mIGEgd2lkZ2V0LlxuICogSXQgaW5jbHVkZXMgYSBkcm9wZG93biBidXR0b24gdG8gZGlzcGxheSB0aGUgc2VsZWN0ZWQgdmFsdWVzIGFuZCBKaW11TGF5ZXJWaWV3U2VsZWN0b3IgY29tcG9uZW50IHRvIHNlbGVjdCB0aGUgbGF5ZXIuXG4gKiBgYGBcbiAqIGltcG9ydCB7IEppbXVMYXllclZpZXdTZWxlY3RvciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJ1xuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IEppbXVMYXllclZpZXdTZWxlY3RvciA9IHdpdGhTdHlsZXMoX0ppbXVMYXllclZpZXdTZWxlY3RvciwgJ0ppbXVMYXllclZpZXdTZWxlY3RvcicpXG4iLCJpbXBvcnQge1xuICBSZWFjdCxcbiAgdHlwZSBJTVN0YXRlLFxuICBSZWFjdFJlZHV4LFxuICBDb250YWluZXJUeXBlLFxuICBnZXRBcHBTdG9yZSxcbiAgRGF0YVNvdXJjZVN0YXR1cyxcbiAgaG9va3Ncbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU2VsZWN0LCBPcHRpb24sIEFsZXJ0LCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMsIHR5cGUgRmxhdENvbnRhaW5lck1hcHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyB0eXBlIE9wdGlvblN0eWxlLCBMYWJlbFR5cGUsIGRpdmlkZXIsIGdldEJyZWFrTGlzdCwgc29ydEJ5TGFiZWwgfSBmcm9tICcuLi9tYXAtc2VsZWN0b3ItdXRpbHMvdXRpbHMnXG5cbi8qKlxuICogVGhlIEppbXVNYXBWaWV3U2VsZWN0b3IgY29tcG9uZW50IHByb3BzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSmltdU1hcFZpZXdTZWxlY3RvclByb3BzIHtcblxuICAvKipcbiAgICogVGhlIGFycmF5IG9mIG1hcCB2aWV3IElEcy4gSXQgaXMgcmV0dXJuZWQgZnJvbSB0aGUgb25DaGFuZ2UgZnVuY3Rpb24uXG4gICAqL1xuICB1c2VNYXBWaWV3SWRzPzogc3RyaW5nW11cblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBtYXAgdmlldyBpdGVtIGxpc3RlZCBpbiB0aGlzIGNvbXBvbmVudCBpcyBzZWxlY3RlZC5cbiAgICovXG4gIG9uQ2hhbmdlPzogKHVzZU1hcFZpZXdJZDogc3RyaW5nW10pID0+IHZvaWRcblxuICAvKipcbiAgICogVG8gcHJvdmlkZSBhIGxhYmVsIGZvciB0aGUgc2VsZWN0b3IgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqL1xuICAnYXJpYS1sYWJlbCc/OiBzdHJpbmdcbn1cblxuLy9HZXQgdGhlIG5hbWUgb2YgdGhlIG1hcCB2aWV3LCBpbmNsdWRlcyB0aGUgbWFwIHZpZXcgdGhhdCBpcyBkZWxldGVkLlxuY29uc3QgZ2V0RGF0YVNvdXJjZUxhYmVsID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKCFkYXRhU291cmNlSWQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuICBjb25zdCBhcHBDb25maWcgPSB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZyA6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwQ29uZmlnXG4gIGNvbnN0IGxhYmVsID0gYXBwQ29uZmlnLmRhdGFTb3VyY2VzW2RhdGFTb3VyY2VJZF0/LmxhYmVsIHx8IGFwcENvbmZpZy5kYXRhU291cmNlc1tkYXRhU291cmNlSWRdPy5zb3VyY2VMYWJlbFxuICByZXR1cm4gbGFiZWxcbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCBmb3Igc2VsZWN0aW5nIG1hcCB2aWV3cyBpbiBhIG1hcC4gSXQgaXMgdXN1YWxseSB1c2VkIG9uIHRoZSBzZXR0aW5ncyBwYWdlIG9mIGEgd2lkZ2V0LFxuICogYW5kIHdvcmtzIHdpdGggSmltdUxheWVyVmlld1NlbGVjdG9yLlxuICogYGBgXG4gKiBpbXBvcnQgeyBKaW11TWFwVmlld1NlbGVjdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IF9KaW11TWFwVmlld1NlbGVjdG9yID0gKHByb3BzOiBKaW11TWFwVmlld1NlbGVjdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgdHJhbnNsYXRlID0gaG9va3MudXNlVHJhbnNsYXRpb24oZGVmYXVsdE1lc3NhZ2VzKVxuXG4gIGNvbnN0IG5vbmVNYXBWaWV3OiBPcHRpb25TdHlsZSA9IHsgaWQ6ICdub25lJywgbGFiZWw6IHRyYW5zbGF0ZSgnbm9uZScpIH1cblxuICBjb25zdCBhcHBDb25maWcgPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciA/IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcgOiBzdGF0ZS5hcHBDb25maWdcbiAgfSlcbiAgY29uc3QgYnJvd3NlclNpemVNb2RlID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXI/LmJyb3dzZXJTaXplTW9kZVxuICB9KVxuICBjb25zdCBjdXJyZW50UGFnZUlkID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcFJ1bnRpbWVJbmZvLmN1cnJlbnRQYWdlSWRcbiAgfSlcbiAgY29uc3QgY3VycmVudERpYWxvZ0lkID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcFJ1bnRpbWVJbmZvLmN1cnJlbnREaWFsb2dJZFxuICB9KVxuICBjb25zdCBjdXJyZW50Q29udGFpbmVyVHlwZTogQ29udGFpbmVyVHlwZSA9IGN1cnJlbnREaWFsb2dJZCA/IENvbnRhaW5lclR5cGUuRGlhbG9nIDogQ29udGFpbmVyVHlwZS5QYWdlXG4gIGNvbnN0IGN1cnJlbnRJZCA9IGN1cnJlbnREaWFsb2dJZCB8fCBjdXJyZW50UGFnZUlkXG5cbiAgY29uc3QgbWFwVmlld0pzb25zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgLy9HZXQgdGhlIG1hcCB3aWRnZXRzIGluIGFsbCB0aGUgcGFnZXMgYW5kIHdpbmRvd3Mgb2YgdGhlIGFwcFxuICAgIGNvbnN0IHNlbGVjdExpc3RzOiBGbGF0Q29udGFpbmVyTWFwc1tdID0gc2VhcmNoVXRpbHMuZ2V0TWFwV2lkZ2V0cyhhcHBDb25maWcgYXMgYW55LCBicm93c2VyU2l6ZU1vZGUsIGN1cnJlbnRDb250YWluZXJUeXBlLCBjdXJyZW50SWQpXG5cbiAgICBjb25zdCBnZXRPcHRpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgT3B0aW9uTGlzdCA9IFtdXG5cbiAgICAgIC8vR2V0IHRoZSBtYXBWaWV3IG9mIGN1cnJlbnQgcGFnZSBvciB3aW5kb3cuXG4gICAgICBjb25zdCBjdXJyZW50TWFwRXhpc3Q6IGJvb2xlYW4gPSBzZWxlY3RMaXN0c1swXS5tYXBzLmxlbmd0aCA+IDBcbiAgICAgIGxldCBjdXJyZW50UGFnZURpdmlkZXI6IGJvb2xlYW4gPSBmYWxzZVxuICAgICAgaWYgKGN1cnJlbnRNYXBFeGlzdCkge1xuICAgICAgICBjb25zdCBzb3J0ZWRDdXJyZW50UGFnZU1hcExpc3QgPSBzb3J0QnlMYWJlbChzZWxlY3RMaXN0c1swXS5tYXBzLCBhcHBDb25maWcsIExhYmVsVHlwZS5XaWRnZXQpXG4gICAgICAgIHNvcnRlZEN1cnJlbnRQYWdlTWFwTGlzdC5mb3JFYWNoKChtYXBXaWRnZXQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGFwcENvbmZpZy53aWRnZXRzW21hcFdpZGdldF0udXNlRGF0YVNvdXJjZXMgJiYgYXBwQ29uZmlnLndpZGdldHNbbWFwV2lkZ2V0XS51c2VEYXRhU291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRQYWdlRGl2aWRlcikge1xuICAgICAgICAgICAgICBPcHRpb25MaXN0LnB1c2goZGl2aWRlcilcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2VEaXZpZGVyID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFR5cGUgPSBjdXJyZW50Q29udGFpbmVyVHlwZSA9PT0gQ29udGFpbmVyVHlwZS5EaWFsb2cgPyB0cmFuc2xhdGUoJ2N1cnJlbnRXaW5kb3cnKSA6IHRyYW5zbGF0ZSgnY3VycmVudFBhZ2UnKVxuICAgICAgICAgICAgY29uc3QgY3VycmVudEhlYWRlcjogT3B0aW9uU3R5bGUgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgbGFiZWw6IGAke2N1cnJlbnRUeXBlfSB8ICR7YXBwQ29uZmlnLndpZGdldHNbbWFwV2lkZ2V0XS5sYWJlbH1gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPcHRpb25MaXN0LnB1c2goY3VycmVudEhlYWRlcilcbiAgICAgICAgICAgIGFwcENvbmZpZy53aWRnZXRzW21hcFdpZGdldF0udXNlRGF0YVNvdXJjZXMuZm9yRWFjaCgoZHMpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogYCR7bWFwV2lkZ2V0fS0ke2RzLmRhdGFTb3VyY2VJZH1gLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBnZXREYXRhU291cmNlTGFiZWwoZHMuZGF0YVNvdXJjZUlkKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJMYWJlbDogYCR7Y3VycmVudENvbnRhaW5lclR5cGUgPT09IENvbnRhaW5lclR5cGUuRGlhbG9nID8gdHJhbnNsYXRlKCdjdXJyZW50V2luZG93JykgOiB0cmFuc2xhdGUoJ2N1cnJlbnRQYWdlJyl9ICR7YXBwQ29uZmlnLndpZGdldHNbbWFwV2lkZ2V0XS5sYWJlbH1gXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgT3B0aW9uTGlzdC5wdXNoKG9wdGlvbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBicmVha0xpc3QgPSBnZXRCcmVha0xpc3QoMSwgc2VsZWN0TGlzdHMpXG5cbiAgICAgIC8vR2V0IHRoZSBvcHRpb24gbGlzdCBvZiBwYWdlcy5cbiAgICAgIGxldCBwYWdlRGl2aWRlcjogYm9vbGVhbiA9IGZhbHNlXG4gICAgICBjb25zdCBzb3J0ZWRQYWdlTGlzdCA9IHNvcnRCeUxhYmVsKGJyZWFrTGlzdC5wYWdlTGlzdCwgYXBwQ29uZmlnLCBMYWJlbFR5cGUuUGFnZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnJlYWtMaXN0LnBhZ2VMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZE1hcExpc3QgPSBzb3J0QnlMYWJlbChzb3J0ZWRQYWdlTGlzdFtpXS5tYXBzLCBhcHBDb25maWcsIExhYmVsVHlwZS5XaWRnZXQpXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc29ydGVkTWFwTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmIChhcHBDb25maWcud2lkZ2V0c1tzb3J0ZWRNYXBMaXN0W2pdXS51c2VEYXRhU291cmNlcyAmJiBhcHBDb25maWcud2lkZ2V0c1tzb3J0ZWRNYXBMaXN0W2pdXS51c2VEYXRhU291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoIXBhZ2VEaXZpZGVyKSB7XG4gICAgICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChkaXZpZGVyKVxuICAgICAgICAgICAgICBwYWdlRGl2aWRlciA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG90aGVySGVhZGVyOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyOiB0cnVlLFxuICAgICAgICAgICAgICBsYWJlbDogYCR7YXBwQ29uZmlnLnBhZ2VzW3NvcnRlZFBhZ2VMaXN0W2ldLmlkXS5sYWJlbH0gfCAke2FwcENvbmZpZy53aWRnZXRzW3NvcnRlZE1hcExpc3Rbal1dLmxhYmVsfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChvdGhlckhlYWRlcilcbiAgICAgICAgICAgIGFwcENvbmZpZy53aWRnZXRzW3NvcnRlZE1hcExpc3Rbal1dLnVzZURhdGFTb3VyY2VzLmZvckVhY2goKGRzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG90aGVyT3B0aW9uOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogYCR7c29ydGVkTWFwTGlzdFtqXX0tJHtkcy5kYXRhU291cmNlSWR9YCxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2V0RGF0YVNvdXJjZUxhYmVsKGRzLmRhdGFTb3VyY2VJZCksXG4gICAgICAgICAgICAgICAgaGVhZGVyTGFiZWw6IGAke2FwcENvbmZpZy5wYWdlc1tzb3J0ZWRQYWdlTGlzdFtpXS5pZF0ubGFiZWx9ICR7YXBwQ29uZmlnLndpZGdldHNbc29ydGVkTWFwTGlzdFtqXV0ubGFiZWx9YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChvdGhlck9wdGlvbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vR2V0IHRoZSBvcHRpb24gbGlzdCBvZiB3aW5kb3dzLlxuICAgICAgaWYgKGJyZWFrTGlzdC5kaWFsb2dMaXN0KSB7XG4gICAgICAgIGxldCBkaWFsb2dEaXZpZGVyOiBib29sZWFuID0gZmFsc2VcbiAgICAgICAgY29uc3Qgc29ydGVkRGlhbG9nTGlzdCA9IHNvcnRCeUxhYmVsKGJyZWFrTGlzdC5kaWFsb2dMaXN0LCBhcHBDb25maWcsIExhYmVsVHlwZS5EaWFsb2cpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnJlYWtMaXN0LmRpYWxvZ0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzb3J0ZWRNYXBMaXN0ID0gc29ydEJ5TGFiZWwoc29ydGVkRGlhbG9nTGlzdFtpXS5tYXBzLCBhcHBDb25maWcsIExhYmVsVHlwZS5XaWRnZXQpXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb3J0ZWRNYXBMaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoYXBwQ29uZmlnLndpZGdldHNbc29ydGVkTWFwTGlzdFtqXV0udXNlRGF0YVNvdXJjZXMgJiYgYXBwQ29uZmlnLndpZGdldHNbc29ydGVkTWFwTGlzdFtqXV0udXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBpZiAoIWRpYWxvZ0RpdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBPcHRpb25MaXN0LnB1c2goZGl2aWRlcilcbiAgICAgICAgICAgICAgICBkaWFsb2dEaXZpZGVyID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IG90aGVySGVhZGVyOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGAke2FwcENvbmZpZy5kaWFsb2dzW3NvcnRlZERpYWxvZ0xpc3RbaV0uaWRdLmxhYmVsfSB8ICR7YXBwQ29uZmlnLndpZGdldHNbc29ydGVkTWFwTGlzdFtqXV0ubGFiZWx9YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChvdGhlckhlYWRlcilcbiAgICAgICAgICAgICAgYXBwQ29uZmlnLndpZGdldHNbc29ydGVkTWFwTGlzdFtqXV0udXNlRGF0YVNvdXJjZXMuZm9yRWFjaCgoZHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlck9wdGlvbjogT3B0aW9uU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICBpZDogYCR7c29ydGVkTWFwTGlzdFtqXX0tJHtkcy5kYXRhU291cmNlSWR9YCxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBnZXREYXRhU291cmNlTGFiZWwoZHMuZGF0YVNvdXJjZUlkKSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlckxhYmVsOiBgJHthcHBDb25maWcuZGlhbG9nc1tzb3J0ZWREaWFsb2dMaXN0W2ldLmlkXS5sYWJlbH0gJHthcHBDb25maWcud2lkZ2V0c1tzb3J0ZWRNYXBMaXN0W2pdXS5sYWJlbH1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChvdGhlck9wdGlvbilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9wdGlvbkxpc3RcbiAgICB9XG4gICAgcmV0dXJuIGdldE9wdGlvbkxpc3QoKVxuICB9LCBbYXBwQ29uZmlnLCBicm93c2VyU2l6ZU1vZGUsIGN1cnJlbnRDb250YWluZXJUeXBlLCBjdXJyZW50SWQsIHRyYW5zbGF0ZV0pXG5cbiAgY29uc3Qgb25DaGFuZ2UgPSBlID0+IHtcbiAgICBjb25zdCBtYXBWaWV3SWQgPSBlLnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IHVzZU1hcFZpZXdJZHM6IHN0cmluZ1tdID0gbWFwVmlld0lkID09PSBub25lTWFwVmlldy5pZCA/IFtdIDogW21hcFZpZXdJZF1cbiAgICBwcm9wcy5vbkNoYW5nZT8uKHVzZU1hcFZpZXdJZHMpXG4gIH1cblxuICBjb25zdCBnZXRTZWxlY3RlZE1hcFdpZGdldCA9ICgpID0+IHtcbiAgICBpZiAoIXByb3BzLnVzZU1hcFZpZXdJZHMgfHwgcHJvcHMudXNlTWFwVmlld0lkcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkTWFwVmlld0lkID0gcHJvcHMudXNlTWFwVmlld0lkc1swXVxuICAgIHJldHVybiBtYXBWaWV3SnNvbnMuZmluZCh3ID0+IHcuaWQgPT09IHNlbGVjdGVkTWFwVmlld0lkKSB8fCBudWxsXG4gIH1cblxuICBjb25zdCBzZWxlY3RlZE1hcFZpZXcgPSBnZXRTZWxlY3RlZE1hcFdpZGdldCgpXG5cbiAgY29uc3QgZ2V0V2hldGhlckl0ZW1FcnJvciA9IChkYXRhU291cmNlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmRhdGFTb3VyY2VzSW5mbz8uW2RhdGFTb3VyY2VJZF0/Lmluc3RhbmNlU3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkNyZWF0ZUVycm9yXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29tcG9uZW50LW1hcC12aWV3LXNlbGVjdG9yJz5cbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRNYXBWaWV3ID8gc2VsZWN0ZWRNYXBWaWV3LmlkIDogbm9uZU1hcFZpZXcuaWR9XG4gICAgICAgICAgYXJpYS1sYWJlbD17cHJvcHNbJ2FyaWEtbGFiZWwnXX1cbiAgICAgICAgPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFtub25lTWFwVmlld10uY29uY2F0KG1hcFZpZXdKc29ucykubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgZ2V0V2hldGhlckl0ZW1FcnJvcihvcHRpb24uaWQ/LnNwbGl0KCctJylbMV0pXG4gICAgICAgICAgICAgICAgICA/IDxPcHRpb24gZGlzYWJsZWQ9e3RydWV9IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtc3RhcnQnPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntvcHRpb24ubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVHlwZT0ndGVydGlhcnknXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtPSd0b29sdGlwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e3RyYW5zbGF0ZSgnZGF0YVNvdXJjZUNyZWF0ZUVycm9yJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnYXV0bycgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgICAgICAgICAgICAgPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgICA6IDxPcHRpb24gaGVhZGVyPXtvcHRpb24uaGVhZGVyfSBkaXZpZGVyPXtvcHRpb24uZGl2aWRlcn0gdmFsdWU9e29wdGlvbi5pZH0ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgeyFvcHRpb24uaGVhZGVyICYmIDxkaXYgY2xhc3NOYW1lPSdzci1vbmx5Jz57b3B0aW9uLmhlYWRlckxhYmVsfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICA8L09wdGlvbj5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIDwvU2VsZWN0PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCBmb3Igc2VsZWN0aW5nIG1hcCB2aWV3cyBpbiBhIG1hcC4gSXQgaXMgdXN1YWxseSB1c2VkIG9uIHRoZSBzZXR0aW5ncyBwYWdlIG9mIGEgd2lkZ2V0LFxuICogYW5kIHdvcmtzIHdpdGggSmltdUxheWVyVmlld1NlbGVjdG9yLlxuICogYGBgXG4gKiBpbXBvcnQgeyBKaW11TWFwVmlld1NlbGVjdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IEppbXVNYXBWaWV3U2VsZWN0b3IgPSBfSmltdU1hcFZpZXdTZWxlY3RvclxuIiwiZXhwb3J0IHsgU2V0dGluZ1NlY3Rpb24gfSBmcm9tICcuL3NlY3Rpb24nXG5leHBvcnQgeyBTZXR0aW5nUm93IH0gZnJvbSAnLi9yb3cnXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgUm93LCBCdXR0b24gfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgUmlnaHRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvcmlnaHQnXG5cbnR5cGUgQWN0aW9uVHlwZSA9ICdkcmlsbGRvd24nIC8vIHwgJ2V4cGFuZGVyJ1xuXG4vKipcbiAqIFRoZSBTZXR0aW5nUm93IGNvbXBvbmVudCBwcm9wcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nUm93UHJvcHMge1xuICAvKipcbiAgICogVG8gcHJvdmlkZSBhIHJvbGUgZm9yIHJvd1xuICAgKi9cbiAgcm9sZT86IHN0cmluZ1xuICAvKipcbiAgICogVG8gcHJvdmlkZSBhIGxhYmVsIGZvciBpbnRlcmFjdGl2ZSBjb21wb25lbnRzIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYWNjZXNzaWJsZSBuYW1lIGlzIGNvbXB1dGVkIGZyb20gYW55IHRleHQgY29udGVudCBpbnNpZGUgdGhlIGVsZW1lbnQuXG4gICAqIElmIGxhY2tpbmcsIHByb3ZpZGUgYW4gYXJpYS1sYWJlbC5cbiAgICovXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBUaHJlZSBkaWZmZXJlbnQgbGV2ZWxzIG9mIGxhYmVsXG4gICAqL1xuICBsZXZlbD86IDEgfCAyIHwgM1xuICAvKipcbiAgICogRGVmaW5lcyB0aGUgbGFiZWwgdGV4dCBmb3IgdGhlIHNldHRpbmcgcm93LlxuICAgKi9cbiAgbGFiZWw/OiBzdHJpbmcgfCBKU1guRWxlbWVudFxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNoaWxkcmVuIHNob3VsZCBmbG93IHRvIHRoZSBuZXh0IGxpbmUuXG4gICAqICd3cmFwJyAtIHRoZSBjaGlsZHJlbiB3aWxsIGZsb3cgdG8gdGhlIG5leHQgbGluZS5cbiAgICogJ25vLXdyYXAnIC0gdGhlIGNoaWxkcmVuIHdpbGwgc3RheSBpbiB0aGUgbGluZSBhcyB0aGUgbGFiZWwuXG4gICAqL1xuICBmbG93PzogJ3dyYXAnIHwgJ25vLXdyYXAnXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBvcHRpb25hbCBhY3Rpb24gdG8gdGFrZSB3aGVuIGNsaWNrZWQuXG4gICAqICdkcmlsbGRvd24nOiBpbmRpY2F0ZXMgdGhlIHJvdyBpcyBjbGlja2FibGUgYW5kIGEgcmlnaHQgYXJyb3cgd2lsbCBhcHBlYXIgYXQgdGhlIGVuZC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBzaW5jZSB0aGUgZGVzaWduIGhhcyBjaGFuZ2VkLlxuICAgKi9cbiAgYWN0aW9uPzogQWN0aW9uVHlwZVxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gaW5kZW50IHRoZSByb3cuXG4gICAqL1xuICBpbmRlbnRlZD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGNsYXNzIG5hbWVzIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0cnVuY2F0ZSBsb25nIGxhYmVsIHRleHQuXG4gICAqL1xuICB0cnVuY2F0ZUxhYmVsPzogYm9vbGVhblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgcm93IGlzIGNsaWNrZWQuXG4gICAqIEBldmVudFxuICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIHNpbmNlIHRoZSBkZXNpZ24gaGFzIGNoYW5nZWQuXG4gICAqL1xuICBvbkRyaWxsRG93bj86ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIFRoZSBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHNob3cgdGhlIGJvdHRvbSBsaW5lLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYm90dG9tTGluZT86IGJvb2xlYW5cbn1cblxuY29uc3QgSGVhZGVyID0gKHByb3BzOiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0namltdS13aWRnZXQtc2V0dGluZy0tcm93LWhlYWRlciBtYi00Jz5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vKipcbiAqIFRoZSB1bnN0eWxlZCB2ZXJzaW9uIG9mIHRoZSBTZXR0aW5nUm93IGNvbXBvbmVudC5cbiAqIFBsZWFzZSB1c2Uge0BsaW5rIFNldHRpbmdSb3d9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBfU2V0dGluZ1JvdyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2V0dGluZ1Jvd1Byb3BzPiB7XG4gIG9uQWN0aW9uQ2xpY2sgPSAodHlwZTogQWN0aW9uVHlwZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSAnZHJpbGxkb3duJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMgJiYgdGhpcy5wcm9wcy5vbkRyaWxsRG93bikge1xuICAgICAgICB0aGlzLnByb3BzLm9uRHJpbGxEb3duKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjdGlvbixcbiAgICAgIGZsb3csXG4gICAgICB0cnVuY2F0ZUxhYmVsLFxuICAgICAgbGFiZWwsXG4gICAgICByb2xlLFxuICAgICAgaW5kZW50ZWQsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBsZXZlbCA9IDMsXG4gICAgICBib3R0b21MaW5lID0gZmFsc2UsXG4gICAgICAuLi5vdGhlclByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHRpdGxlID0gdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyA/IGxhYmVsIDogJydcblxuICAgIGNvbnN0IHJvb3RDbGFzc2VzID0gY2xhc3NOYW1lcyhcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgICdqaW11LXdpZGdldC1zZXR0aW5nLS1yb3cnLCAnZm9ybS1ncm91cCcsICdhbGlnbi1pdGVtcy1jZW50ZXInLCB7XG4gICAgICAgICdmb3JtLWlubGluZSc6IGZsb3cgIT09ICd3cmFwJyxcbiAgICAgICAgJ2JvdHRvbS1saW5lJzogYm90dG9tTGluZSxcbiAgICAgICAgJ3BsLTUnOiBpbmRlbnRlZFxuICAgICAgfSlcblxuICAgIGNvbnN0IFRhZyA9IGFjdGlvbiA/ICdzcGFuJyA6ICdsYWJlbCdcbiAgICBjb25zdCBMYWJlbCA9IGxhYmVsICYmIDxUYWdcbiAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgamltdS13aWRnZXQtc2V0dGluZy0tcm93LWxhYmVsIGp1c3RpZnktY29udGVudC1zdGFydCBmbGV4LWdyb3ctMSB0ZXh0LWJyZWFrIHNldHRpbmctdGV4dC1sZXZlbC0ke2xldmVsfWAsXG4gICAgICAgIHtcbiAgICAgICAgICAndy0xMDAgbXItMCc6IGZsb3cgPT09ICd3cmFwJyxcbiAgICAgICAgICAndGV4dC10cnVuY2F0ZSc6IHRydW5jYXRlTGFiZWxcbiAgICAgICAgfVxuICAgICAgKX1cbiAgICA+e2xhYmVsfVxuICAgIDwvVGFnPlxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSb3cgY2xhc3NOYW1lPXtyb290Q2xhc3Nlc30gcm9sZT17cm9sZX0gYXJpYS1sYWJlbD17b3RoZXJQcm9wc1snYXJpYS1sYWJlbCddfT5cbiAgICAgICAge1xuICAgICAgICAgIGZsb3cgPT09ICd3cmFwJyAmJiBhY3Rpb25cbiAgICAgICAgICAgID8gPEhlYWRlcj5cbiAgICAgICAgICAgICAge2FjdGlvbiA9PT0gJ2RyaWxsZG93bidcbiAgICAgICAgICAgICAgICA/IDxCdXR0b24gc2l6ZT0nc20nIHR5cGU9J3RlcnRpYXJ5JyBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25BY3Rpb25DbGljaygnZHJpbGxkb3duJykgfX0+XG4gICAgICAgICAgICAgICAgICB7TGFiZWx9XG4gICAgICAgICAgICAgICAgICA8UmlnaHRPdXRsaW5lZCBjbGFzc05hbWU9J3JpZ2h0LWljb24nIC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA8L0hlYWRlcj5cbiAgICAgICAgICAgIDogTGFiZWxcbiAgICAgICAgfVxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvUm93PlxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBgU2V0dGluZ1Jvd2AgY29tcG9uZW50IGFsbG93cyB1c2VycyB0byBkaXNwbGF5IHNldHRpbmcgY29udGVudCBpbiBhIHJvdy5cbiAqIFVzZSB0aGlzIGNvbXBvbmVudCBpbnNpZGUgb2YgdGhlIGBTZXR0aW5nU2VjdGlvbmAgY29tcG9uZW50LlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTZXR0aW5nUm93IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFNldHRpbmdSb3cgPSB3aXRoU3R5bGVzKF9TZXR0aW5nUm93LCAnU2V0dGluZ1JvdycpXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgQ29udGFpbmVyLCBSb3cgfSBmcm9tICdqaW11LXVpJ1xuXG4vKipcbiAqIFRoZSBTZXR0aW5nU2VjdGlvbiBjb21wb25lbnQgcHJvcHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ1NlY3Rpb25Qcm9wcyB7XG4gIC8qKlxuICAgKiBUbyBwcm92aWRlIGEgcm9sZSBmb3Igc2VjdGlvblxuICAgKi9cbiAgcm9sZT86IHN0cmluZ1xuICAvKipcbiAgICogVG8gcHJvdmlkZSBhIGxhYmVsIGZvciBpbnRlcmFjdGl2ZSBjb21wb25lbnRzIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYWNjZXNzaWJsZSBuYW1lIGlzIGNvbXB1dGVkIGZyb20gYW55IHRleHQgY29udGVudCBpbnNpZGUgdGhlIGVsZW1lbnQuXG4gICAqIElmIGxhY2tpbmcsIHByb3ZpZGUgYW4gYXJpYS1sYWJlbC5cbiAgICovXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xuICAvKipcbiAgICogVGhlIGFyaWEtZGVzY3JpYmVkYnkgYXR0cmlidXRlIGxpc3RzIHRoZSBpZHMgb2YgdGhlIGVsZW1lbnRzIHRoYXQgZGVzY3JpYmUgdGhlIG9iamVjdC4gSXQgaXMgdXNlZCB0byBlc3RhYmxpc2ggYSByZWxhdGlvbnNoaXAgYmV0d2VlbiB3aWRnZXRzIG9yIGdyb3VwcyBhbmQgdGhlIHRleHQgdGhhdCBkZXNjcmliZXMgdGhlbS5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgJ2FyaWEtZGVzY3JpYmVkYnknPzogc3RyaW5nXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSB0aXRsZSB0ZXh0IGZvciB0aGUgc2V0dGluZyBzZWN0aW9uLlxuICAgKi9cbiAgdGl0bGU/OiBzdHJpbmcgfCBKU1guRWxlbWVudFxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgY2xhc3MgbmFtZXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHN0eWxlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU/OiBhbnlcbiAgLyoqXG4gICAqIFRoZSBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG59XG5cbi8qKlxuICogVGhlIHVuc3R5bGVkIHZlcnNpb24gb2YgdGhlIFNldHRpbmdTZWN0aW9uIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIF9TZXR0aW5nU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2V0dGluZ1NlY3Rpb25Qcm9wcz4ge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lLCBzdHlsZSwgdGl0bGUsIHJvbGUsIGNoaWxkcmVuLCAuLi5vdGhlclByb3BzIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250YWluZXJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzTmFtZSwgJ2ppbXUtd2lkZ2V0LXNldHRpbmctLXNlY3Rpb24nKX1cbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICByb2xlPXtyb2xlfVxuICAgICAgICBhcmlhLWxhYmVsPXtvdGhlclByb3BzWydhcmlhLWxhYmVsJ119XG4gICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e290aGVyUHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXX1cbiAgICAgID5cbiAgICAgICAge3RpdGxlICYmIDxSb3cgY2xhc3NOYW1lPSdqaW11LXdpZGdldC1zZXR0aW5nLS1zZWN0aW9uLWhlYWRlcic+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICA/IDxoNiBjbGFzc05hbWU9J3ctMTAwIHNldHRpbmctdGV4dC1sZXZlbC0xJz57dGl0bGV9PC9oNj5cbiAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgdGV4dC10cnVuY2F0ZSBzZXR0aW5nLXRleHQtbGV2ZWwtMSc+e3RpdGxlfTwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Sb3c+fVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYFNldHRpbmdTZWN0aW9uYCBjb21wb25lbnQgYWxsb3dzIHVzZXJzIHRvIGRpc3BsYXkgc2V0dGluZyBjb250ZW50IGFzIGEgc2VjdGlvbi5cbiAqIFVzZSB0aGlzIGNvbXBvbmVudCB0byB3cmFwIGBTZXR0aW5nUm93YCBjb21wb25lbnQocykuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFNldHRpbmdTZWN0aW9uIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFNldHRpbmdTZWN0aW9uID0gd2l0aFN0eWxlcyhfU2V0dGluZ1NlY3Rpb24sICdTZXR0aW5nU2VjdGlvbicpXG4iLCJpbXBvcnQgeyBSZWFjdCwgTGlua1R5cGUsIEltbXV0YWJsZSwgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBzZWFyY2hVdGlscywgdXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyB0eXBlIElNTGlua1BhcmFtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgTGlzdCBmcm9tICcuL2xpbmstc2V0dGluZy1saXN0J1xuXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9yaWdpbkxpbmtQYXJhbTogSU1MaW5rUGFyYW1cbiAgb25MaW5rUGFyYW1DaGFuZ2U6IGFueVxuICBpbnRsOiBJbnRsU2hhcGVcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2tMaW5rQ29udGVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIHVua25vd24+IHtcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IGxpbmtQYXJhbSA9IHRoaXMuZ2V0SW5pdExpbmtQYXJhbSgpXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZShsaW5rUGFyYW0pXG4gIH1cblxuICBnZXRJbml0TGlua1BhcmFtID0gKCk6IElNTGlua1BhcmFtID0+IHtcbiAgICBjb25zdCBibG9ja3MgPSBzZWFyY2hVdGlscy5nZXRCbG9ja0FuY2hvclBvaW50c0luUGFnZSh1dGlscy5nZXRBcHBDb25maWcoKSwgdXRpbHMuZ2V0Q3VycmVudFBhZ2VJZCgpLCB1dGlscy5nZXRDdXJyZW50U2l6ZU1vZGUoKSlcbiAgICBpZiAoIWJsb2NrcyB8fCBibG9ja3MubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIEltbXV0YWJsZSh7XG4gICAgICAgIGxpbmtUeXBlOiBMaW5rVHlwZS5CbG9jayxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGRlZmF1bHQsIHNlbGVjdCB0aGUgZmlyc3QgbGluZVxuICAgIGlmICh0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbS5saW5rVHlwZSAhPT0gTGlua1R5cGUuQmxvY2spIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEJsb2NrRGF0YSgpXG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLkJsb2NrLFxuICAgICAgICB2YWx1ZTogZGF0YSAmJiBkYXRhLnNvbWUocCA9PiBwLmlkID09PSAnZGVmYXVsdCcpID8gJ2RlZmF1bHQnIDogZGF0YSAmJiBkYXRhWzBdICYmIGRhdGFbMF0uaWRcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbVxuICAgIH1cbiAgfVxuXG4gIGdldEJsb2NrRGF0YSA9ICgpOiBBcnJheTx7IGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyB9PiA9PiB7XG4gICAgY29uc3QgYmxvY2tzID0gc2VhcmNoVXRpbHMuZ2V0QmxvY2tBbmNob3JQb2ludHNJblBhZ2UodXRpbHMuZ2V0QXBwQ29uZmlnKCksIHV0aWxzLmdldEN1cnJlbnRQYWdlSWQoKSwgdXRpbHMuZ2V0Q3VycmVudFNpemVNb2RlKCkpPy5zb3J0KChiMSwgYjIpID0+IGIxLmxhYmVsPy5sb2NhbGVDb21wYXJlKGIyLmxhYmVsLCB3aW5kb3c/LmxvY2FsZSwgeyBudW1lcmljOiB0cnVlLCBzZW5zaXRpdml0eTogJ2Jhc2UnIH0pKVxuICAgIGNvbnN0IGRhdGE6IEFycmF5PHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH0+ID0gYmxvY2tzLm1hcChiID0+ICh7IGlkOiBiLmlkLCBuYW1lOiBiLmxhYmVsIH0pKVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIHNldExpbmtQYXJhbSA9IChuZXdTZWxlY3RJdGVtOiBhbnkpID0+IHtcbiAgICBsZXQgdGVtcExpbmtQYXJhbSA9IHRoaXMucHJvcHMubGlua1BhcmFtXG4gICAgdGVtcExpbmtQYXJhbSA9IHRlbXBMaW5rUGFyYW0uc2V0KCd2YWx1ZScsIG5ld1NlbGVjdEl0ZW0uaWQpXG5cbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHRlbXBMaW5rUGFyYW0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEJsb2NrRGF0YSgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTMgb3B0aW9uLW5hbWUnPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnanVtcFRvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5qdW1wVG8gfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgIDxMaXN0IGxpbmtQYXJhbT17dGhpcy5wcm9wcy5saW5rUGFyYW19IGRhdGFzPXtkYXRhfSBvbkNsaWNrPXt0aGlzLnNldExpbmtQYXJhbX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnanVtcFRvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5qdW1wVG8gfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgYXMgY2xhc3NuYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IENvbGxhcHNlLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBEb3duT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Rvd24nXG5pbXBvcnQgeyBVcE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC91cCdcblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgY29sbGFwc2U6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFByb3Age1xuICB0aXRsZTogc3RyaW5nXG4gIGlzT3Blbj86IGJvb2xlYW5cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxhcHNlVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcCwgU3RhdGU+IHtcbiAgY29tcG9uZW50V2lsbE1vdW50ICgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbGxhcHNlOiB0aGlzLnByb3BzLmlzT3BlblxuICAgIH0pXG4gIH1cblxuICBvbkNvbGxhcHNlQ2xpY2sgPSBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBjb2xsYXBzZTogIXRoaXMuc3RhdGUuY29sbGFwc2UgfSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCd3LTEwMCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgIDxkaXYgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgc3R5bGU9e3sgb3ZlcmZsb3c6ICdoaWRkZW4nIH19IGNsYXNzTmFtZT0ndy0xMDAgYnRuIHBiLTIgcHItMiBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4nXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2Pnt0aGlzLnByb3BzLnRpdGxlfTwvZGl2PlxuICAgICAgICAgIDxCdXR0b24gdHlwZT0ndGVydGlhcnknIHNpemU9J3NtJyBjbGFzc05hbWU9J2NvbGxhcHNlLWJ0biBweS0wIGppbXUtb3V0bGluZS1pbnNpZGUgcHItMCcgb25DbGljaz17dGhpcy5vbkNvbGxhcHNlQ2xpY2t9PlxuICAgICAgICAgICAge3RoaXMuc3RhdGUuY29sbGFwc2UgPyA8RG93bk91dGxpbmVkIHNpemU9J3MnIC8+IDogPFVwT3V0bGluZWQgc2l6ZT0ncycgLz59XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Q29sbGFwc2UgaXNPcGVuPXt0aGlzLnN0YXRlLmNvbGxhcHNlfSBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLnRpdGxlfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1BcHBDb25maWcsIExpbmtUeXBlLCBJbW11dGFibGUsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBJTUxpbmtQYXJhbSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saW5rLXNldHRpbmctbGlzdCdcblxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IGdldERpYWxvZ0RhdGEgfSBmcm9tICcuLi91dGlscydcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGlua1BhcmFtOiBJTUxpbmtQYXJhbVxuICBvcmlnaW5MaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9uTGlua1BhcmFtQ2hhbmdlOiBhbnlcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZ1xuICBpbnRsOiBJbnRsU2hhcGVcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlhbG9nTGlua0NvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCB1bmtub3duPiB7XG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCBsaW5rUGFyYW0gPSB0aGlzLmdldEluaXRMaW5rUGFyYW0oKVxuICAgIHRoaXMucHJvcHMub25MaW5rUGFyYW1DaGFuZ2UobGlua1BhcmFtKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5hcHBDb25maWcgIT09IHRoaXMucHJvcHMuYXBwQ29uZmlnKSB7XG4gICAgICBjb25zdCBsaW5rUGFyYW0gPSB0aGlzLmdldEluaXRMaW5rUGFyYW0oKVxuICAgICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZShsaW5rUGFyYW0pXG4gICAgfVxuICB9XG5cbiAgZ2V0SW5pdExpbmtQYXJhbSA9ICgpOiBJTUxpbmtQYXJhbSA9PiB7XG4gICAgY29uc3QgZGlhbG9ncyA9IHRoaXMucHJvcHMuYXBwQ29uZmlnLmRpYWxvZ3NcbiAgICBpZiAoIWRpYWxvZ3MgfHwgT2JqZWN0LmtleXMoZGlhbG9ncykubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIEltbXV0YWJsZSh7XG4gICAgICAgIGxpbmtUeXBlOiBMaW5rVHlwZS5EaWFsb2csXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0LCBzZWxlY3QgdGhlIGZpcnN0IGxpbmVcbiAgICBpZiAodGhpcy5wcm9wcy5vcmlnaW5MaW5rUGFyYW0ubGlua1R5cGUgIT09IExpbmtUeXBlLkRpYWxvZykge1xuICAgICAgY29uc3QgZGlhbG9nRGF0YSA9IGdldERpYWxvZ0RhdGEodGhpcy5wcm9wcy5hcHBDb25maWcpXG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLkRpYWxvZyxcbiAgICAgICAgdmFsdWU6IGRpYWxvZ0RhdGEgJiYgZGlhbG9nRGF0YVswXSAmJiBkaWFsb2dEYXRhWzBdLmlkXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcmlnaW5MaW5rUGFyYW1cbiAgICB9XG4gIH1cblxuICBzZXRMaW5rUGFyYW0gPSAobmV3U2VsZWN0SXRlbTogYW55KSA9PiB7XG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSB0aGlzLnByb3BzLmxpbmtQYXJhbVxuICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLnNldCgndmFsdWUnLCBuZXdTZWxlY3RJdGVtLmlkKVxuXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZSh0ZW1wTGlua1BhcmFtKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBkYXRhID0gZ2V0RGlhbG9nRGF0YSh0aGlzLnByb3BzLmFwcENvbmZpZylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWItMyBvcHRpb24tbmFtZSc+XG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjaG9vc2VBRGlhbG9nJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jaG9vc2VBRGlhbG9nIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBkYXRhICYmIGRhdGEubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICA8TGlzdCBsaW5rUGFyYW09e3RoaXMucHJvcHMubGlua1BhcmFtfSBkYXRhcz17ZGF0YX0gb25DbGljaz17dGhpcy5zZXRMaW5rUGFyYW19XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nob29zZUFEaWFsb2cnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNob29zZUFEaWFsb2cgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgYXMgY2xhc3NuYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNlbGVjdCB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyB0eXBlIElNTGlua1BhcmFtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGRhdGFzOiBhbnlbXVxuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9uQ2xpY2s6IGFueVxuICAnYXJpYS1sYWJlbCc6IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rU2VsZWN0b3JMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgdW5rbm93bj4ge1xuICBpdGVtT25DbGljayA9IChuZXdTZWxlY3RJdGVtOiBhbnkpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2xpY2sobmV3U2VsZWN0SXRlbSlcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJdGVtTmFtZTogbmV3U2VsZWN0SXRlbS5uYW1lIH0pXG4gIH1cblxuICBnZXRMaXN0Q29udGVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YXMubWFwKChsaXN0SXRlbSwgaWR4KSA9PlxuICAgICAgPGRpdlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuaXRlbU9uQ2xpY2sobGlzdEl0ZW0pIH19IGtleT17aWR4fVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ2xpbmstc2VsZWN0b3ItbGlzdC1pdGVtIGJ0biB3LTEwMCBib3JkZXIgdGV4dC1sZWZ0IGJvcmRlci1ib3R0b20tMCByb3VuZGVkLTAgdGV4dC10cnVuY2F0ZScsXG4gICAgICAgICAgeyBpdGVtc2VsZWN0ZWQ6IHRoaXMucHJvcHMubGlua1BhcmFtLnZhbHVlID09PSBsaXN0SXRlbS5pZCB9KX1cbiAgICAgID5cbiAgICAgICAge2xpc3RJdGVtLm5hbWV9XG4gICAgICA8L2Rpdj4pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5wcm9wcy5kYXRhcy5maW5kKGQgPT4gdGhpcy5wcm9wcy5saW5rUGFyYW0udmFsdWUgPT09IGQuaWQpXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtSWQgPSBzZWxlY3RlZCAmJiBzZWxlY3RlZC5pZFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbGluay1zZWxlY3Rvci1saXN0IHctMTAwJz5cbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEl0ZW1JZH0gY2xhc3NOYW1lPSd3LTEwMCdcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7IHRoaXMuaXRlbU9uQ2xpY2sodGhpcy5wcm9wcy5kYXRhcy5maW5kKGQgPT4gZC5pZCA9PT0gZS50YXJnZXQudmFsdWUpKSB9fVxuICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHNbJ2FyaWEtbGFiZWwnXX1cbiAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YXMubWFwKChsaXN0SXRlbSwgaWR4KSA9PlxuICAgICAgICAgICAgICA8b3B0aW9uIGtleT17aWR4fSB2YWx1ZT17bGlzdEl0ZW0uaWR9PlxuICAgICAgICAgICAgICAgIHtsaXN0SXRlbS5uYW1lfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIDwvU2VsZWN0PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgdHlwZSBJTUFwcENvbmZpZywgTGlua1R5cGUsIEltbXV0YWJsZSwgdHlwZSBJbnRsU2hhcGUsIHR5cGUgSW1tdXRhYmxlQXJyYXkgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIElNTGlua1BhcmFtLCBPcGVuVHlwZXMgfSBmcm9tICcuLi8uLi8uLi90eXBlcydcbmltcG9ydCBMaXN0IGZyb20gJy4vbGluay1zZXR0aW5nLWxpc3QnXG5cbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBnZXRQYWdlRGF0YSB9IGZyb20gJy4uL3V0aWxzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9yaWdpbkxpbmtQYXJhbTogSU1MaW5rUGFyYW1cbiAgb25MaW5rUGFyYW1DaGFuZ2U6IGFueVxuICBhcHBDb25maWc6IElNQXBwQ29uZmlnXG4gIGludGw6IEludGxTaGFwZVxuICBvcGVuVHlwZXM6IEltbXV0YWJsZUFycmF5PE9wZW5UeXBlcz5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUxpbmtDb250ZW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgdW5rbm93bj4ge1xuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3QgcGFnZWxpbmtQYXJhbSA9IHRoaXMuZ2V0SW5pdExpbmtQYXJhbSgpXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZShwYWdlbGlua1BhcmFtKVxuICB9XG5cbiAgZ2V0SW5pdExpbmtQYXJhbSA9ICgpOiBJTUxpbmtQYXJhbSA9PiB7XG4gICAgY29uc3QgcGFnZVN0cnVjdHVyZSA9IHRoaXMucHJvcHMuYXBwQ29uZmlnLnBhZ2VTdHJ1Y3R1cmVcbiAgICBpZiAoIXBhZ2VTdHJ1Y3R1cmUgfHwgcGFnZVN0cnVjdHVyZS5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGRlZmF1bHQsIHNlbGVjdCB0aGUgZmlyc3QgbGluZVxuICAgIGlmICh0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbS5saW5rVHlwZSAhPT0gTGlua1R5cGUuUGFnZSkge1xuICAgICAgY29uc3QgcGFnZURhdGEgPSBnZXRQYWdlRGF0YSh0aGlzLnByb3BzLmFwcENvbmZpZywgdGhpcy5wcm9wcy5pbnRsKVxuICAgICAgcmV0dXJuIEltbXV0YWJsZSh7XG4gICAgICAgIGxpbmtUeXBlOiBMaW5rVHlwZS5QYWdlLFxuICAgICAgICB2YWx1ZTogcGFnZURhdGEgJiYgcGFnZURhdGEuc29tZShwID0+IHAuaWQgPT09ICdkZWZhdWx0JykgPyAnZGVmYXVsdCcgOiBwYWdlRGF0YSAmJiBwYWdlRGF0YVswXSAmJiBwYWdlRGF0YVswXS5pZCxcbiAgICAgICAgb3BlblR5cGU6ICF0aGlzLnByb3BzLm9wZW5UeXBlcyB8fCB0aGlzLnByb3BzLm9wZW5UeXBlcy5pbmNsdWRlcyhPcGVuVHlwZXMuQ3VycmVudFdpbmRvdykgPyBPcGVuVHlwZXMuQ3VycmVudFdpbmRvdyA6IHRoaXMucHJvcHMub3BlblR5cGVzWzBdXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcmlnaW5MaW5rUGFyYW1cbiAgICB9XG4gIH1cblxuICBzZXRMaW5rUGFyYW0gPSAobmV3U2VsZWN0SXRlbTogYW55KSA9PiB7XG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSB0aGlzLnByb3BzLmxpbmtQYXJhbVxuICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLnNldCgndmFsdWUnLCBuZXdTZWxlY3RJdGVtLmlkKVxuXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZSh0ZW1wTGlua1BhcmFtKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBwYWdlRGF0YSA9IGdldFBhZ2VEYXRhKHRoaXMucHJvcHMuYXBwQ29uZmlnLCB0aGlzLnByb3BzLmludGwpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTMgb3B0aW9uLW5hbWUnPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2hvb3NlQVBhZ2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNob29zZUFQYWdlIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8TGlzdCBsaW5rUGFyYW09e3RoaXMucHJvcHMubGlua1BhcmFtfSBkYXRhcz17cGFnZURhdGF9IG9uQ2xpY2s9e3RoaXMuc2V0TGlua1BhcmFtfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nob29zZUFQYWdlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jaG9vc2VBUGFnZSB9KX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIExpbmtUeXBlLCBJbW11dGFibGUsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMsIHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xuaW1wb3J0IHsgdHlwZSBJTUxpbmtQYXJhbSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIFNlbGVjdCB9IGZyb20gJ2ppbXUtdWknXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGxpbmtQYXJhbTogSU1MaW5rUGFyYW1cbiAgb3JpZ2luTGlua1BhcmFtOiBJTUxpbmtQYXJhbVxuICBvbkxpbmtQYXJhbUNoYW5nZTogYW55XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9ja0xpbmtDb250ZW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgdW5rbm93bj4ge1xuICBzY3JlZW5Hcm91cExhYmVsU3R5bGUgPSB7XG4gICAgbWFyZ2luTGVmdDogJy0yMHB4J1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IGxpbmtQYXJhbSA9IHRoaXMuZ2V0SW5pdExpbmtQYXJhbSgpXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZShsaW5rUGFyYW0pXG4gIH1cblxuICBnZXRJbml0TGlua1BhcmFtID0gKCk6IElNTGlua1BhcmFtID0+IHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRTY3JlZW5EYXRhKClcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLlNjcmVlbixcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGRlZmF1bHQsIHNlbGVjdCB0aGUgZmlyc3QgbGluZVxuICAgIGlmICh0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbS5saW5rVHlwZSAhPT0gTGlua1R5cGUuU2NyZWVuKSB7XG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLlNjcmVlbixcbiAgICAgICAgdmFsdWU6IGRhdGFbMF0uc2NyZWVuc1swXS5pZFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3JpZ2luTGlua1BhcmFtXG4gICAgfVxuICB9XG5cbiAgZ2V0U2NyZWVuRGF0YSA9ICgpID0+IHtcbiAgICByZXR1cm4gc2VhcmNoVXRpbHMuZ2V0U2NyZWVuQW5jaG9yUG9pbnRzSW5QYWdlKHV0aWxzLmdldEFwcENvbmZpZygpLCB1dGlscy5nZXRDdXJyZW50UGFnZUlkKCksIHV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpKT8uc29ydCgoczEsIHMyKSA9PiBzMS5sYWJlbD8ubG9jYWxlQ29tcGFyZShzMi5sYWJlbCwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KSlcbiAgfVxuXG4gIHNldExpbmtQYXJhbSA9IGUgPT4ge1xuICAgIGxldCB0ZW1wTGlua1BhcmFtID0gdGhpcy5wcm9wcy5saW5rUGFyYW1cbiAgICB0ZW1wTGlua1BhcmFtID0gdGVtcExpbmtQYXJhbS5zZXQoJ3ZhbHVlJywgZS50YXJnZXQudmFsdWUpXG5cbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHRlbXBMaW5rUGFyYW0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldFNjcmVlbkRhdGEoKVxuICAgIGNvbnN0IG9wdGlvbnMgPSBbXVxuICAgIGRhdGEuZm9yRWFjaChnID0+IHtcbiAgICAgIG9wdGlvbnMucHVzaCg8b3B0aW9uIHZhbHVlPXtnLmlkfSBrZXk9e2cuaWR9IGRpc2FibGVkIHN0eWxlPXt0aGlzLnNjcmVlbkdyb3VwTGFiZWxTdHlsZX0+e2cubGFiZWx9PC9vcHRpb24+KVxuICAgICAgZy5zY3JlZW5zLmZvckVhY2goKHMsIGkpID0+IG9wdGlvbnMucHVzaCg8b3B0aW9uIHZhbHVlPXtzLmlkfSBrZXk9e2Ake2cuaWR9LSR7aX1gfT57cy5sYWJlbH08L29wdGlvbj4pKVxuICAgIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTMgb3B0aW9uLW5hbWUnPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnanVtcFRvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5qdW1wVG8gfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0aGlzLnByb3BzLmxpbmtQYXJhbT8udmFsdWV9IGNsYXNzTmFtZT0ndy0xMDAnIG9uQ2hhbmdlPXt0aGlzLnNldExpbmtQYXJhbX0gc2l6ZT0nc20nXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2p1bXBUbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuanVtcFRvIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgUmVhY3QsIHR5cGUgSU1BcHBDb25maWcsIExpbmtUeXBlLCBjbGFzc05hbWVzIGFzIGNsYXNzbmFtZXMsIEltbXV0YWJsZSwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgQnJvd3NlclNpemVNb2RlLCB0eXBlIFNlY3Rpb25Kc29uLCB0eXBlIEludGxTaGFwZSxcbiAgY2xhc3NOYW1lcywgdHlwZSBJbW11dGFibGVBcnJheSwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2VzXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgSU1MaW5rUGFyYW0sIE9wZW5UeXBlcyB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IENvbGxhcHNlIGZyb20gJy4vY29sbGFwc2UtdG9vbCdcbmltcG9ydCB7IFNlbGVjdCwgZGVmYXVsdE1lc3NhZ2VzLCBCdXR0b24sIE9wdGlvbiB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBnZXRTZWN0aW9uSWRzRnJvbVBhZ2UsIGdldEFsbENoaWxkVmlld0lkcywgZ2V0U2VjdGlvbklkc0Zyb21WaWV3LCBnZXRWaWV3SW5mb0Zyb21TZWN0aW9uLCB0eXBlIFZpZXdJbmZvLCBnZXRQYWdlRGF0YSwgZ2V0RGlhbG9nRGF0YSwgZ2V0U2VjdGlvbklkc0Zyb21EaWFsb2csIGxpbmtUb1ZpZXdPbkRpYWxvZywgaXNEaWFsb2dJZCB9IGZyb20gJy4uL3V0aWxzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9yaWdpbkxpbmtQYXJhbTogSU1MaW5rUGFyYW1cbiAgb25MaW5rUGFyYW1DaGFuZ2U6IGFueVxuICBhcHBDb25maWc6IElNQXBwQ29uZmlnXG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlXG4gIGludGw6IEludGxTaGFwZVxuICBvcGVuVHlwZXM6IEltbXV0YWJsZUFycmF5PE9wZW5UeXBlcz5cbn1cblxuaW50ZXJmYWNlIFN0YXRlcyB7XG4gIHZpZXdMaW5rUGFyYW1BcnI6IHN0cmluZ1tdXG4gIHNjcm9sbFRvVmlld0lkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld0xpbmtDb250ZW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGVzPiB7XG4gIG5vU2Nyb2xsID0gJ0RvIG5vdCBzY3JvbGwnXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZpZXdMaW5rUGFyYW1BcnI6IFtdLFxuICAgICAgc2Nyb2xsVG9WaWV3SWQ6IHRoaXMubm9TY3JvbGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qgdmlld2xpbmtQYXJhbSA9IHRoaXMuZ2V0SW5pdExpbmtQYXJhbSgpXG4gICAgY29uc3QgeyB2YWx1ZSwgbGlua1R5cGUgfSA9IHZpZXdsaW5rUGFyYW1cbiAgICBpZiAodmFsdWUgJiYgbGlua1R5cGUgPT09IExpbmtUeXBlLlZpZXcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aWV3TGlua1BhcmFtQXJyOiB2YWx1ZS5zcGxpdCgnLCcpXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlld0xpbmtQYXJhbUFycjogW11cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZSh2aWV3bGlua1BhcmFtKVxuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAobmV3UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlcykge1xuICAgIGNvbnN0IHsgdmFsdWUsIGxpbmtUeXBlIH0gPSBuZXdQcm9wcy5saW5rUGFyYW1cbiAgICBpZiAodmFsdWUgJiYgbGlua1R5cGUgPT09IExpbmtUeXBlLlZpZXcpIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgdmlld0xpbmtQYXJhbUFycjogdmFsdWUuc3BsaXQoJywnKSB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgdmlld0xpbmtQYXJhbUFycjogW10gfVxuICAgIH1cbiAgfVxuXG4gIGdldEluaXRMaW5rUGFyYW0gPSAoKTogSU1MaW5rUGFyYW0gPT4ge1xuICAgIGNvbnN0IGxpbmtUeXBlID0gdGhpcy5wcm9wcy5vcmlnaW5MaW5rUGFyYW0ubGlua1R5cGVcbiAgICBpZiAobGlua1R5cGUgPT09IExpbmtUeXBlLlZpZXcpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaW5pdExpbmtQYXJhbTogSU1MaW5rUGFyYW0gPSBJbW11dGFibGUoe1xuICAgICAgICBsaW5rVHlwZTogTGlua1R5cGUuVmlldyxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KVxuICAgICAgaWYgKCFpc0RpYWxvZ0lkKHRoaXMuZ2V0RGVmYXVsdFBhZ2VPckRpYWxvZ0lkKCkpKSB7XG4gICAgICAgIGluaXRMaW5rUGFyYW0gPSBpbml0TGlua1BhcmFtLnNldCgnb3BlblR5cGUnLCB0aGlzLmdldEluaXRPcGVuVHlwZSgpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGluaXRMaW5rUGFyYW1cbiAgICB9XG4gIH1cblxuICBnZXRJbml0T3BlblR5cGUgPSAoKTogT3BlblR5cGVzID0+IHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMub3BlblR5cGVzIHx8IHRoaXMucHJvcHMub3BlblR5cGVzLmluY2x1ZGVzKE9wZW5UeXBlcy5DdXJyZW50V2luZG93KSA/IE9wZW5UeXBlcy5DdXJyZW50V2luZG93IDogdGhpcy5wcm9wcy5vcGVuVHlwZXNbMF1cbiAgfVxuXG4gIHBhZ2VPckRpYWxvZ0NoYW5nZSA9IChlOiBhbnkpID0+IHtcbiAgICBsZXQgdGVtcExpbmtQYXJhbSA9IHRoaXMucHJvcHMubGlua1BhcmFtXG4gICAgdGVtcExpbmtQYXJhbSA9IHRlbXBMaW5rUGFyYW0uc2V0KCd2YWx1ZScsIGUudGFyZ2V0LnZhbHVlKVxuICAgIGlmIChsaW5rVG9WaWV3T25EaWFsb2codGVtcExpbmtQYXJhbSkpIHtcbiAgICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLndpdGhvdXQoJ29wZW5UeXBlJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcExpbmtQYXJhbSA9IHRlbXBMaW5rUGFyYW0uc2V0KCdvcGVuVHlwZScsIHRoaXMuZ2V0SW5pdE9wZW5UeXBlKCkpXG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MaW5rUGFyYW1DaGFuZ2UodGVtcExpbmtQYXJhbSlcbiAgfVxuXG4gIHZpZXdDaGFuZ2UgPSAodmlld0lkOiBzdHJpbmcsIHNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgbGV0IHRlbXBWaWV3UGFyYW1BcnIgPSBbXVxuICAgIHRlbXBWaWV3UGFyYW1BcnIgPSBPYmplY3QuYXNzaWduKHRlbXBWaWV3UGFyYW1BcnIsIHRoaXMuc3RhdGUudmlld0xpbmtQYXJhbUFycilcbiAgICBpZiAoIXRlbXBWaWV3UGFyYW1BcnJbMF0pIHtcbiAgICAgIHRlbXBWaWV3UGFyYW1BcnJbMF0gPSB0aGlzLmdldERlZmF1bHRQYWdlT3JEaWFsb2dJZCgpXG4gICAgfVxuXG4gICAgY29uc3Qgdmlld3MgPSB0aGlzLnByb3BzLmFwcENvbmZpZy5zZWN0aW9uc1tzZWN0aW9uSWRdLnZpZXdzXG4gICAgLy8gcmVtb3ZlIHZpZXdzIHdoaWNoIGFyZSBpbiB0aGUgc2FtZSBzZWN0aW9uIHdpdGggdGhlIGNsaWNrZWQgdmlld1xuICAgIGxldCB0b1JlbW92ZVZpZXdJZHMgPSB0ZW1wVmlld1BhcmFtQXJyLmZpbHRlcihpZCA9PiB2aWV3cy5zb21lKHYgPT4gdiA9PT0gaWQpICYmIGlkICE9PSB2aWV3SWQpXG4gICAgbGV0IHRvQWRkVmlld0lkcyA9IFtdXG4gICAgY29uc3QgaW5kZXggPSB0ZW1wVmlld1BhcmFtQXJyLmluZGV4T2Yodmlld0lkKVxuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0b1JlbW92ZVZpZXdJZHMgPSB0b1JlbW92ZVZpZXdJZHMuY29uY2F0KHRlbXBWaWV3UGFyYW1BcnJbaW5kZXhdKVxuICAgIH0gZWxzZSB7XG4gICAgICB0b0FkZFZpZXdJZHMgPSB0b0FkZFZpZXdJZHMuY29uY2F0KHZpZXdJZClcbiAgICB9XG5cbiAgICBpZiAodG9SZW1vdmVWaWV3SWRzICYmIHRvUmVtb3ZlVmlld0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgY2hpbGRWaWV3SWRzID0gW11cbiAgICAgIHRvUmVtb3ZlVmlld0lkcy5mb3JFYWNoKHZJZCA9PiB7XG4gICAgICAgIGNoaWxkVmlld0lkcyA9IGNoaWxkVmlld0lkcy5jb25jYXQoZ2V0QWxsQ2hpbGRWaWV3SWRzKHZJZCwgdGhpcy5wcm9wcy5hcHBDb25maWcpKVxuICAgICAgfSlcblxuICAgICAgdG9SZW1vdmVWaWV3SWRzID0gdG9SZW1vdmVWaWV3SWRzLmNvbmNhdChjaGlsZFZpZXdJZHMpXG4gICAgfVxuXG4gICAgdGVtcFZpZXdQYXJhbUFyciA9IHRlbXBWaWV3UGFyYW1BcnIuZmlsdGVyKGlkID0+ICF0b1JlbW92ZVZpZXdJZHMuc29tZSh2SWQgPT4gdklkID09PSBpZCkpXG4gICAgdGVtcFZpZXdQYXJhbUFyciA9IHRlbXBWaWV3UGFyYW1BcnIuY29uY2F0KHRvQWRkVmlld0lkcylcblxuICAgIGxldCB0ZW1wTGlua1BhcmFtID0gdGhpcy5wcm9wcy5saW5rUGFyYW1cbiAgICB0ZW1wTGlua1BhcmFtID0gdGVtcExpbmtQYXJhbS5zZXQoJ3ZhbHVlJywgdGVtcFZpZXdQYXJhbUFyci5qb2luKCcsJykpXG4gICAgdGhpcy5wcm9wcy5vbkxpbmtQYXJhbUNoYW5nZSh0ZW1wTGlua1BhcmFtKVxuICB9XG5cbiAgdmlld1JlbW92ZSA9ICh2aWV3SWQ6IHN0cmluZykgPT4ge1xuICAgIGxldCB0ZW1wVmlld1BhcmFtQXJyID0gW11cbiAgICB0ZW1wVmlld1BhcmFtQXJyID0gT2JqZWN0LmFzc2lnbih0ZW1wVmlld1BhcmFtQXJyLCB0aGlzLnN0YXRlLnZpZXdMaW5rUGFyYW1BcnIpXG4gICAgaWYgKCF0ZW1wVmlld1BhcmFtQXJyWzBdKSB7XG4gICAgICB0ZW1wVmlld1BhcmFtQXJyWzBdID0gdGhpcy5nZXREZWZhdWx0UGFnZU9yRGlhbG9nSWQoKVxuICAgIH1cbiAgICBjb25zdCBjaGlsZFZpZXdJZHMgPSBnZXRBbGxDaGlsZFZpZXdJZHModmlld0lkLCB0aGlzLnByb3BzLmFwcENvbmZpZylcbiAgICBjb25zdCB0b1JlbW92ZVZpZXdJZHMgPSBjaGlsZFZpZXdJZHMuY29uY2F0KHZpZXdJZClcbiAgICB0ZW1wVmlld1BhcmFtQXJyID0gdGVtcFZpZXdQYXJhbUFyci5zbGljZSgwLCAxKS5jb25jYXQodGVtcFZpZXdQYXJhbUFyci5zbGljZSgxKS5maWx0ZXIoaWQgPT4gIXRvUmVtb3ZlVmlld0lkcy5zb21lKHZJZCA9PiB2SWQgPT09IGlkKSkpXG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSB0aGlzLnByb3BzLmxpbmtQYXJhbVxuICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLnNldCgndmFsdWUnLCB0ZW1wVmlld1BhcmFtQXJyLmpvaW4oJywnKSlcbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHRlbXBMaW5rUGFyYW0sIHRydWUpXG4gIH1cblxuICBvblNjcm9sbFRvVmlld0NoYW5nZSA9ICh2aWV3SWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzY3JvbGxUb1ZpZXdJZDogdmlld0lkIH0pXG4gIH1cblxuICBnZXREZWZhdWx0UGFnZU9yRGlhbG9nSWQgPSAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBwYWdlcyA9IHRoaXMucHJvcHMuYXBwQ29uZmlnICYmIHRoaXMucHJvcHMuYXBwQ29uZmlnLnBhZ2VzXG4gICAgY29uc3QgcGFnZUlkcyA9IHBhZ2VzICYmIE9iamVjdC5rZXlzKHBhZ2VzKS5maWx0ZXIocGFnZUlkID0+IGdldFNlY3Rpb25JZHNGcm9tUGFnZShwYWdlSWQsIHRoaXMucHJvcHMuYXBwQ29uZmlnKS5sZW5ndGggPiAwKVxuICAgIGNvbnN0IGRlZmF1bHRQYWdlSWQgPSAocGFnZUlkcyAmJiBwYWdlSWRzLmZpbmQocCA9PiBwYWdlc1twXS5pc0RlZmF1bHQpKSB8fCBwYWdlSWRzPy5bMF1cbiAgICBpZiAoZGVmYXVsdFBhZ2VJZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRQYWdlSWRcbiAgICB9XG5cbiAgICBjb25zdCBkaWFsb2dzID0gdGhpcy5wcm9wcy5hcHBDb25maWcgJiYgdGhpcy5wcm9wcy5hcHBDb25maWcuZGlhbG9nc1xuICAgIGNvbnN0IGRpYWxvZ0lkcyA9IGRpYWxvZ3MgJiYgT2JqZWN0LmtleXMoZGlhbG9ncykuZmlsdGVyKGRpYWxvZ0lkID0+IGdldFNlY3Rpb25JZHNGcm9tRGlhbG9nKGRpYWxvZ0lkLCB0aGlzLnByb3BzLmFwcENvbmZpZykubGVuZ3RoID4gMClcbiAgICByZXR1cm4gZGlhbG9nSWRzPy5bMF1cbiAgfVxuXG4gIGdldFNlbGVjdGVkVmVpd0lkcyA9ICgpOiBzdHJpbmdbXSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld0xpbmtQYXJhbUFyci5zbGljZSgxKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuYXBwQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VEYXRhID0gZ2V0UGFnZURhdGEodGhpcy5wcm9wcy5hcHBDb25maWcsIHRoaXMucHJvcHMuaW50bClcbiAgICBjb25zdCBkaWFsb2dEYXRhID0gZ2V0RGlhbG9nRGF0YSh0aGlzLnByb3BzLmFwcENvbmZpZylcbiAgICBjb25zdCBwYWdlT3JEaWFsb2dJZCA9IHRoaXMuc3RhdGUudmlld0xpbmtQYXJhbUFyclswXSB8fCB0aGlzLmdldERlZmF1bHRQYWdlT3JEaWFsb2dJZCgpXG5cbiAgICBpZiAoIXBhZ2VEYXRhLnNvbWUocCA9PiBwLmlkID09PSBwYWdlT3JEaWFsb2dJZCkgJiYgIWRpYWxvZ0RhdGEuc29tZShkID0+IGQuaWQgPT09IHBhZ2VPckRpYWxvZ0lkKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlc1dpdGhTZWN0aW9uID0gcGFnZURhdGEuZmlsdGVyKHAgPT4gZ2V0U2VjdGlvbklkc0Zyb21QYWdlKHAuaWQsIHRoaXMucHJvcHMuYXBwQ29uZmlnKS5sZW5ndGggPiAwKVxuICAgIGNvbnN0IGRpYWxvZ3NXaXRoU2VjdGlvbiA9IGRpYWxvZ0RhdGEuZmlsdGVyKGQgPT4gZ2V0U2VjdGlvbklkc0Zyb21EaWFsb2coZC5pZCwgdGhpcy5wcm9wcy5hcHBDb25maWcpLmxlbmd0aCA+IDApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWItMyBvcHRpb24tbmFtZSc+XG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjaG9vc2VWaWV3cycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2hvb3NlVmlld3MgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuXG4gICAgICAgICAgPFNlbGVjdCB2YWx1ZT17cGFnZU9yRGlhbG9nSWR9IG9uQ2hhbmdlPXt0aGlzLnBhZ2VPckRpYWxvZ0NoYW5nZX0gY2xhc3NOYW1lPSd3LTEwMCBtYi00JyBzaXplPSdzbSc+XG4gICAgICAgICAgICA8T3B0aW9uIGhlYWRlcj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3BhZ2UnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVEZWZhdWx0TWVzc2FnZXMucGFnZSB9KX08L09wdGlvbj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcGFnZXNXaXRoU2VjdGlvbi5tYXAoKHAsIGluZGV4KSA9PiA8T3B0aW9uIGtleT17aW5kZXh9IHZhbHVlPXtwLmlkfT57cC5uYW1lfTwvT3B0aW9uPilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtkaWFsb2dzV2l0aFNlY3Rpb24ubGVuZ3RoID4gMCAmJiA8T3B0aW9uIGhlYWRlcj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RpYWxvZycsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZURlZmF1bHRNZXNzYWdlcy5kaWFsb2cgfSl9PC9PcHRpb24+fVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBkaWFsb2dzV2l0aFNlY3Rpb24ubWFwKChkLCBpbmRleCkgPT4gPE9wdGlvbiBrZXk9e2luZGV4fSB2YWx1ZT17ZC5pZH0+e2QubmFtZX08L09wdGlvbj4pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9TZWxlY3Q+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY2hvb3NlLXZpZXcnLCB7ICdtYi00JzogZ2V0U2VjdGlvbklkc0Zyb21QYWdlKHBhZ2VPckRpYWxvZ0lkLCB0aGlzLnByb3BzLmFwcENvbmZpZyk/Lmxlbmd0aCA+IDAgfSl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBnZXRTZWN0aW9uSWRzRnJvbVBhZ2UocGFnZU9yRGlhbG9nSWQsIHRoaXMucHJvcHMuYXBwQ29uZmlnKS5tYXAoc2VjdGlvbklkID0+XG4gICAgICAgICAgICAgICAgPFNlY3Rpb25JdGVtXG4gICAgICAgICAgICAgICAgICBzZWN0aW9ucz17dGhpcy5wcm9wcy5hcHBDb25maWcuc2VjdGlvbnN9IHNlY3Rpb25JZD17c2VjdGlvbklkfSB2aWV3c0luZm89e2dldFZpZXdJbmZvRnJvbVNlY3Rpb24oc2VjdGlvbklkLCB0aGlzLnByb3BzLmFwcENvbmZpZyl9XG4gICAgICAgICAgICAgICAgICB2aWV3TGlua1BhcmFtQXJyPXt0aGlzLnN0YXRlLnZpZXdMaW5rUGFyYW1BcnJ9IHZpZXdDaGFuZ2U9e3RoaXMudmlld0NoYW5nZX0gdmlld1JlbW92ZT17dGhpcy52aWV3UmVtb3ZlfSBrZXk9e3NlY3Rpb25JZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY2hvb3NlLXZpZXcnLCB7ICdtYi00JzogZ2V0U2VjdGlvbklkc0Zyb21EaWFsb2cocGFnZU9yRGlhbG9nSWQsIHRoaXMucHJvcHMuYXBwQ29uZmlnKT8ubGVuZ3RoID4gMCB9KX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGdldFNlY3Rpb25JZHNGcm9tRGlhbG9nKHBhZ2VPckRpYWxvZ0lkLCB0aGlzLnByb3BzLmFwcENvbmZpZykubWFwKHNlY3Rpb25JZCA9PlxuICAgICAgICAgICAgICAgIDxTZWN0aW9uSXRlbVxuICAgICAgICAgICAgICAgICAgc2VjdGlvbnM9e3RoaXMucHJvcHMuYXBwQ29uZmlnLnNlY3Rpb25zfSBzZWN0aW9uSWQ9e3NlY3Rpb25JZH0gdmlld3NJbmZvPXtnZXRWaWV3SW5mb0Zyb21TZWN0aW9uKHNlY3Rpb25JZCwgdGhpcy5wcm9wcy5hcHBDb25maWcpfVxuICAgICAgICAgICAgICAgICAgdmlld0xpbmtQYXJhbUFycj17dGhpcy5zdGF0ZS52aWV3TGlua1BhcmFtQXJyfSB2aWV3Q2hhbmdlPXt0aGlzLnZpZXdDaGFuZ2V9IHZpZXdSZW1vdmU9e3RoaXMudmlld1JlbW92ZX0ga2V5PXtzZWN0aW9uSWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Nob29zZS12aWV3JywgeyAnbWItNCc6IHRoaXMuZ2V0U2VsZWN0ZWRWZWl3SWRzKCk/Lmxlbmd0aCA+IDAgfSl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdGVkVmVpd0lkcygpLm1hcCh2aWV3SWQgPT5cbiAgICAgICAgICAgICAgICBnZXRTZWN0aW9uSWRzRnJvbVZpZXcodmlld0lkLCB0aGlzLnByb3BzLmFwcENvbmZpZykubWFwKHNlY3Rpb25JZCA9PlxuICAgICAgICAgICAgICAgICAgPFNlY3Rpb25JdGVtXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zPXt0aGlzLnByb3BzLmFwcENvbmZpZy5zZWN0aW9uc30gc2VjdGlvbklkPXtzZWN0aW9uSWR9IHZpZXdzSW5mbz17Z2V0Vmlld0luZm9Gcm9tU2VjdGlvbihzZWN0aW9uSWQsIHRoaXMucHJvcHMuYXBwQ29uZmlnKX1cbiAgICAgICAgICAgICAgICAgICAgdmlld0xpbmtQYXJhbUFycj17dGhpcy5zdGF0ZS52aWV3TGlua1BhcmFtQXJyfSB2aWV3Q2hhbmdlPXt0aGlzLnZpZXdDaGFuZ2V9IHZpZXdSZW1vdmU9e3RoaXMudmlld1JlbW92ZX0ga2V5PXtzZWN0aW9uSWR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmludGVyZmFjZSBTZWN0aW9uSXRlbVByb3BzIHtcbiAgc2VjdGlvbnM6IEltbXV0YWJsZU9iamVjdDx7IFtzZWN0aW9uSWQ6IHN0cmluZ106IFNlY3Rpb25Kc29uIH0+XG4gIHZpZXdzSW5mbzogVmlld0luZm9bXVxuICBzZWN0aW9uSWQ6IHN0cmluZ1xuICB2aWV3TGlua1BhcmFtQXJyOiBzdHJpbmdbXVxuICB2aWV3Q2hhbmdlOiAodmlld0lkOiBzdHJpbmcsIHNlY3Rpb25JZDogc3RyaW5nKSA9PiB2b2lkXG4gIHZpZXdSZW1vdmU6ICh2aWV3SWQ6IHN0cmluZykgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgU2VjdGlvbkl0ZW1TdGF0ZSB7XG4gIHZpZXdJZDogc3RyaW5nXG59XG5cbmNsYXNzIFNlY3Rpb25JdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTZWN0aW9uSXRlbVByb3BzLCBTZWN0aW9uSXRlbVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3SWQ6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgLy8gcmVtb3ZlIHZpZXcgd2hlbiB2aWV3IG9wdGlvbiBpcyBub3QgZXhpc3RlZFxuICAgIHRoaXMucHJvcHMudmlld1JlbW92ZSh0aGlzLnN0YXRlLnZpZXdJZClcbiAgfVxuXG4gIG9uVmlld0NoYW5nZSA9ICh2aWV3SWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aWV3SWQgfSlcbiAgICB0aGlzLnByb3BzLnZpZXdDaGFuZ2Uodmlld0lkLCB0aGlzLnByb3BzLnNlY3Rpb25JZClcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb2xsYXBzZSBjbGFzc05hbWU9J21iLTQgY2hvb3NlLXZpZXcnIHRpdGxlPXt0aGlzLnByb3BzLnNlY3Rpb25zW3RoaXMucHJvcHMuc2VjdGlvbklkXSAmJiB0aGlzLnByb3BzLnNlY3Rpb25zW3RoaXMucHJvcHMuc2VjdGlvbklkXS5sYWJlbH0gaXNPcGVuIGtleT17dGhpcy5wcm9wcy5zZWN0aW9uSWR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbGluay1zZWxlY3Rvci1saXN0IHctMTAwIHZpZXctYm9yZGVyIGJvcmRlci10b3AtMCBib3JkZXItbGVmdC0wIGJvcmRlci1yaWdodC0wIHJvdW5kZWQtMCcgcm9sZT0nbWVudSc+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy52aWV3c0luZm8ubWFwKCh2LCBpZHgpID0+XG4gICAgICAgICAgICAgIDxCdXR0b24gcm9sZT0nbWVudWl0ZW0nXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLm9uVmlld0NoYW5nZSh2LmlkKSB9fSBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ2ppbXUtb3V0bGluZS1pbnNpZGUgbGluay1zZWxlY3Rvci1saXN0LWl0ZW0gYnRuIHctMTAwIHZpZXctYm9yZGVyIHB4LTIgcHQtMSB0ZXh0LWxlZnQgYm9yZGVyLWJvdHRvbS0wIHJvdW5kZWQtMCB0ZXh0LXRydW5jYXRlJyxcbiAgICAgICAgICAgICAgICAgIHsgJ2l0ZW0tY29tbW9uJzogISh0aGlzLnByb3BzLnZpZXdMaW5rUGFyYW1BcnIuaW5jbHVkZXModi5pZCkpIH0sXG4gICAgICAgICAgICAgICAgICB7IGl0ZW1zZWxlY3RlZDogdGhpcy5wcm9wcy52aWV3TGlua1BhcmFtQXJyLmluY2x1ZGVzKHYuaWQpIH0pfVxuICAgICAgICAgICAgICAgIHRpdGxlPXt2LmxhYmVsfVxuICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17dGhpcy5wcm9wcy52aWV3TGlua1BhcmFtQXJyLmluY2x1ZGVzKHYuaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3YubGFiZWx9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NvbGxhcHNlPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIExpbmtUeXBlLCBJbW11dGFibGUsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgRXhwcmVzc2lvbiwgRXhwcmVzc2lvblBhcnRUeXBlLCB0eXBlIEludGxTaGFwZSwgdHlwZSBVc2VEYXRhU291cmNlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBVcmxJbnB1dCwgdHlwZSBVcmxJbnB1dFJlc3VsdCB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBFeHByZXNzaW9uSW5wdXQsIEV4cHJlc3Npb25JbnB1dFR5cGUgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL2V4cHJlc3Npb24tYnVpbGRlcidcbmltcG9ydCB7IHR5cGUgSU1MaW5rUGFyYW0sIE9wZW5UeXBlcyB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgc3VwcG9ydGVkVVJJU2NoZW1lcyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIG9yaWdpbkxpbmtQYXJhbTogSU1MaW5rUGFyYW1cbiAgb25MaW5rUGFyYW1DaGFuZ2U6IGFueVxuICBpbnRsOiBJbnRsU2hhcGVcbiAgb3BlblR5cGVzOiBJbW11dGFibGVBcnJheTxPcGVuVHlwZXM+XG4gIHdpZGdldElkPzogc3RyaW5nXG4gIHVzZURhdGFTb3VyY2VzPzogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaXNFeHBQb3B1cE9wZW46IGJvb2xlYW5cbiAgdXJsOiBzdHJpbmdcbn1cblxuY29uc3QgZXhwcmVzc2lvbkZyb20gPSBJbW11dGFibGUoW0V4cHJlc3Npb25JbnB1dFR5cGUuU3RhdGljLCBFeHByZXNzaW9uSW5wdXRUeXBlLkF0dHJpYnV0ZSwgRXhwcmVzc2lvbklucHV0VHlwZS5FeHByZXNzaW9uXSlcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViYWRkcmVzc0xpbmtDb250ZW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRXhwUG9wdXBPcGVuOiBmYWxzZSxcbiAgICAgIHVybDogdGhpcy5wcm9wcy5saW5rUGFyYW0/LmxpbmtUeXBlID09PSBMaW5rVHlwZS5XZWJBZGRyZXNzID8gdGhpcy5wcm9wcy5saW5rUGFyYW0udmFsdWUgOiAnJ1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB3ZWJBZGRyZXNzTGlua1BhcmFtID0gdGhpcy5nZXRJbml0TGlua1BhcmFtKClcbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHdlYkFkZHJlc3NMaW5rUGFyYW0pXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZiAocHJldlByb3BzLmxpbmtQYXJhbT8udmFsdWUgIT09IHRoaXMucHJvcHMubGlua1BhcmFtPy52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogdGhpcy5wcm9wcy5saW5rUGFyYW0/LmxpbmtUeXBlID09PSBMaW5rVHlwZS5XZWJBZGRyZXNzID8gdGhpcy5wcm9wcy5saW5rUGFyYW0udmFsdWUgOiB0aGlzLnN0YXRlLnVybCB9KVxuICAgIH1cbiAgfVxuXG4gIGdldEluaXRMaW5rUGFyYW0gPSAoKTogSU1MaW5rUGFyYW0gPT4ge1xuICAgIGNvbnN0IGxpbmtUeXBlID0gdGhpcy5wcm9wcy5vcmlnaW5MaW5rUGFyYW0ubGlua1R5cGVcbiAgICBpZiAobGlua1R5cGUgPT09IExpbmtUeXBlLldlYkFkZHJlc3MpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9yaWdpbkxpbmtQYXJhbVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLldlYkFkZHJlc3MsXG4gICAgICAgIG9wZW5UeXBlOiAhdGhpcy5wcm9wcy5vcGVuVHlwZXMgfHwgdGhpcy5wcm9wcy5vcGVuVHlwZXMuaW5jbHVkZXMoT3BlblR5cGVzLk5ld1dpbmRvdykgPyBPcGVuVHlwZXMuTmV3V2luZG93IDogdGhpcy5wcm9wcy5vcGVuVHlwZXNbMF0sXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB3ZWJBZGRyZXNzSW5wdXRDaGFuZ2UgPSAocmVzOiBVcmxJbnB1dFJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRBZGRyZXNzID0gcmVzLnZhbHVlXG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSB0aGlzLnByb3BzLmxpbmtQYXJhbVxuICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLnNldCgndmFsdWUnLCBjdXJyZW50QWRkcmVzcykuc2V0KCdleHByZXNzaW9uJywgbnVsbClcbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHRlbXBMaW5rUGFyYW0pXG4gIH1cblxuICB3ZWJBZGRyZXNzRXhwcmVzc2lvbkNoYW5nZSA9IChlOiBFeHByZXNzaW9uKSA9PiB7XG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSB0aGlzLnByb3BzLmxpbmtQYXJhbVxuICAgIHRlbXBMaW5rUGFyYW0gPSB0ZW1wTGlua1BhcmFtLnNldCgnZXhwcmVzc2lvbicsIGUpLnNldCgndmFsdWUnLCAnJylcbiAgICB0aGlzLnByb3BzLm9uTGlua1BhcmFtQ2hhbmdlKHRlbXBMaW5rUGFyYW0pXG4gICAgdGhpcy5jbG9zZUV4cFBvcHVwKClcbiAgfVxuXG4gIG9wZW5FeHBQb3B1cCA9ICgpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IGlzRXhwUG9wdXBPcGVuOiB0cnVlIH0pIH1cblxuICBjbG9zZUV4cFBvcHVwID0gKCkgPT4geyB0aGlzLnNldFN0YXRlKHsgaXNFeHBQb3B1cE9wZW46IGZhbHNlIH0pIH1cblxuICBnZXREZWZhdWx0RXhwID0gKCk6IEV4cHJlc3Npb24gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAnRXhwcmVzc2lvbicsXG4gICAgICBwYXJ0czogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogRXhwcmVzc2lvblBhcnRUeXBlLlN0cmluZyxcbiAgICAgICAgICBleHA6ICdcImh0dHBzOi8vXCInXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IChyZXM6IFVybElucHV0UmVzdWx0KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogcmVzLnZhbHVlIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWItMyBvcHRpb24tbmFtZSc+XG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICd1cmwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnVybCB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgPyA8RXhwcmVzc2lvbklucHV0XG4gICAgICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9IG9uQ2hhbmdlPXt0aGlzLndlYkFkZHJlc3NFeHByZXNzaW9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb249eyh0aGlzLnByb3BzLmxpbmtQYXJhbSAmJiB0aGlzLnByb3BzLmxpbmtQYXJhbS5leHByZXNzaW9uKSB8fCB0aGlzLmdldERlZmF1bHRFeHAoKX1cbiAgICAgICAgICAgICAgICBjbG9zZUV4cFBvcHVwPXt0aGlzLmNsb3NlRXhwUG9wdXB9IG9wZW5FeHBQb3B1cD17dGhpcy5vcGVuRXhwUG9wdXB9IGlzRXhwUG9wdXBPcGVuPXt0aGlzLnN0YXRlLmlzRXhwUG9wdXBPcGVufVxuICAgICAgICAgICAgICAgIHR5cGVzPXtleHByZXNzaW9uRnJvbX1cbiAgICAgICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndXJsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy51cmwgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDogPFVybElucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIHNjaGVtZXM9e3N1cHBvcnRlZFVSSVNjaGVtZXN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LTEwMCdcbiAgICAgICAgICAgICAgICBvbkFjY2VwdFZhbHVlPXt0aGlzLndlYkFkZHJlc3NJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndXJsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy51cmwgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwgdHlwZSBJTUFwcENvbmZpZywgTGlua1R5cGUsIEltbXV0YWJsZSwgdHlwZSBJbW11dGFibGVBcnJheSwganN4LCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIHR5cGUgVXNlRGF0YVNvdXJjZSxcbiAgdHlwZSBJTVN0YXRlLCB0eXBlIEJyb3dzZXJTaXplTW9kZSwgUmVhY3RSZWR1eCwgdHlwZSBJbnRsU2hhcGUsIGluamVjdEludGwsIGNsYXNzTmFtZXMsIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11Q29yZURlZmF1bHRNZXNzYWdlcywgTGF5b3V0VHlwZSwgZ2V0QXBwU3RvcmUsIHVybFV0aWxzXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IENvbnRhaW5lciwgUm93LCBCdXR0b24sIFJhZGlvLCBTZWxlY3QsIExhYmVsLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgdHlwZSBJTUxpbmtQYXJhbSwgT3BlblR5cGVzLCB0eXBlIExpbmtQYXJhbSB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IFBhZ2VMaW5rQ29udGVudCBmcm9tICcuL2NvbXBvbmVudHMvcGFnZS1saW5rLWNvbnRlbnQnXG5pbXBvcnQgRGlhbG9nTGlua0NvbnRlbnQgZnJvbSAnLi9jb21wb25lbnRzL2RpYWxvZy1saW5rLWNvbnRlbnQnXG5pbXBvcnQgQmxvY2tMaW5rQ29udGVudCBmcm9tICcuL2NvbXBvbmVudHMvYmxvY2stbGluay1jb250ZW50J1xuaW1wb3J0IFNjcmVlbkxpbmtDb250ZW50IGZyb20gJy4vY29tcG9uZW50cy9zY3JlZW4tbGluay1jb250ZW50J1xuaW1wb3J0IFZpZXdMaW5rQ29udGVudCBmcm9tICcuL2NvbXBvbmVudHMvdmlldy1saW5rLWNvbnRlbnQnXG5pbXBvcnQgV2ViQWRkcmVzc0xpbmtDb250ZW50IGZyb20gJy4vY29tcG9uZW50cy93ZWJhZGRyZXNzLWxpbmstY29udGVudCdcbmltcG9ydCB7IHNlYXJjaFV0aWxzLCB1dGlscyBhcyBsYXlvdXRSdW50aW1lVXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IGxpbmtUb1ZpZXdPbkRpYWxvZywgc3VwcG9ydGVkVVJJU2NoZW1lcyB9IGZyb20gJy4vdXRpbHMnXG5cbi8qKlxuICogVGhlIExpbmtTZWxlY3RvckNvbnRlbnQgcHJvcHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW5rU2VsZWN0b3JDb250ZW50UHJvcHMge1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBPbmx5IHVzZWQgYnkgdGhlbWUuXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIFRoZSBzZXR0aW5nIHJlc3VsdC5cbiAgICogYElNTGlua1BhcmFtYCBpcyBhbiBpbnRlcmZhY2UuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IElNTGlua1BhcmFtIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gICAqIGBgYFxuICAgKi9cbiAgbGlua1BhcmFtPzogSU1MaW5rUGFyYW1cbiAgLyoqXG4gICAqIENhbGxiYWNrIHdoZW4gc2V0dGluZyByZXN1bHQgaXMgY2hhbmdlZC5cbiAgICovXG4gIG9uU2V0dGluZ0NvbmZpcm0/OiAobGlua1BhcmFtOiBJTUxpbmtQYXJhbSkgPT4gdm9pZFxuICAvKipcbiAgICogVXNlIHdpZGdldCBpZCB0byBnZXQgd2lkZ2V0IGNvbnRleHQsIGUuZy4gd2hldGhlciB3aWRnZXQgaXMgaW4gcmVwZWF0ZWQgZGF0YSBzb3VyY2UgY29udGV4dC5cbiAgICovXG4gIHdpZGdldElkPzogc3RyaW5nXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpc0xpbmtQYWdlU2V0dGluZz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdpZGdldCdzIGB1c2VEYXRhU291cmNlc2AsIHdoaWNoIG1lYW5zIGRhdGEgc291cmNlcyB0aGF0IHdpZGdldCBpcyB1c2luZy5cbiAgICogSWYgcGFzcyBgdXNlRGF0YVNvdXJjZXNgLCBsaW5rIGNhbiB1c2UgdGhlc2UgZGF0YSBzb3VyY2VzIHRvIGJ1aWxkIGBFeHByZXNzaW9uYCAqKihzZWUgYGppbXUtY29yZWAgQVBJIGRvY3VtZW50YXRpb24pKiouXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IFVzZURhdGFTb3VyY2UgfSBmcm9tICdqaW11LWNvcmUnXG4gICAqIGBgYFxuICAgKi9cbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICAvKipcbiAgICogSGlkZSBzb21lIHR5cGVzIG9mIGxpbmsuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IExpbmtUeXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuICAgKiBgYGBcbiAgICovXG4gIGhpZGRlbkxpbmtzPzogSW1tdXRhYmxlQXJyYXk8TGlua1R5cGU+XG4gIC8qKlxuICAgKiBMaW5rIHRhcmdldHMgY2FuIGJlIHNldC5cbiAgICogYE9wZW5UeXBlc2AgaXMgc2ltaWxhciB3aXRoIEhUTUwgYDxhPmAgdGFyZ2V0IGF0dHJpYnV0ZS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgT3BlblR5cGVzIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG4gICAqIGBgYFxuICAgKi9cbiAgb3BlblR5cGVzPzogSW1tdXRhYmxlQXJyYXk8T3BlblR5cGVzPlxufVxuXG5pbnRlcmZhY2UgU3RhdGVzIHtcbiAgb3JpZ2luTGlua1BhcmFtOiBJTUxpbmtQYXJhbVxuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG59XG5cbmludGVyZmFjZSBTdGF0ZUV4dHJhUHJvcHMge1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZ1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbn1cblxuaW50ZXJmYWNlIEV4dHJhUHJvcHMge1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpbnRsPzogSW50bFNoYXBlXG59XG5cbi8qKlxuICogVGhlIGBMaW5rU2VsZWN0b3JDb250ZW50YCBjb21wb25lbnQgYWxsb3dzIHVzZXJzIHRvIGNvbmZpZ3VyZSBhIGxpbmsuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IExpbmtTZWxlY3RvckNvbnRlbnQgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX0xpbmtTZWxlY3RvckNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExpbmtTZWxlY3RvckNvbnRlbnRQcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZUV4dHJhUHJvcHMsIFN0YXRlcz4ge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICBpZiAoIXRoaXMucHJvcHMubGlua1BhcmFtIHx8ICF0aGlzLnByb3BzLmxpbmtQYXJhbS5saW5rVHlwZSkge1xuICAgICAgY29uc3QgaW5pdExpbmtQYXJhbTogTGlua1BhcmFtID0ge1xuICAgICAgICBsaW5rVHlwZTogTGlua1R5cGUuTm9uZSxcbiAgICAgICAgb3BlblR5cGU6ICF0aGlzLnByb3BzLm9wZW5UeXBlcyB8fCB0aGlzLnByb3BzLm9wZW5UeXBlcy5pbmNsdWRlcyhPcGVuVHlwZXMuQ3VycmVudFdpbmRvdykgPyBPcGVuVHlwZXMuQ3VycmVudFdpbmRvdyA6IHRoaXMucHJvcHMub3BlblR5cGVzWzBdXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIGxpbmtQYXJhbTogSW1tdXRhYmxlKGluaXRMaW5rUGFyYW0pLFxuICAgICAgICBvcmlnaW5MaW5rUGFyYW06IEltbXV0YWJsZShpbml0TGlua1BhcmFtKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBsaW5rUGFyYW06IEltbXV0YWJsZSh0aGlzLnByb3BzLmxpbmtQYXJhbSksXG4gICAgICAgIG9yaWdpbkxpbmtQYXJhbTogSW1tdXRhYmxlKHRoaXMucHJvcHMubGlua1BhcmFtKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG5lZWRPcGVuSW4gKGxpbmtQYXJhbTogSU1MaW5rUGFyYW0gfCBMaW5rUGFyYW0pIHtcbiAgICBpZiAoIWxpbmtQYXJhbSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgY29uc3QgaGlkZU9wZW5JblR5cGUgPSBbTGlua1R5cGUuRGlhbG9nLCBMaW5rVHlwZS5CbG9jaywgTGlua1R5cGUuU2NyZWVuLCBMaW5rVHlwZS5QYWdlVG9wLCBMaW5rVHlwZS5QcmludFByZXZpZXddXG4gICAgcmV0dXJuICFoaWRlT3BlbkluVHlwZS5zb21lKHQgPT4gdCA9PT0gbGlua1BhcmFtLmxpbmtUeXBlKSAmJiAhbGlua1RvVmlld09uRGlhbG9nKGxpbmtQYXJhbSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmFwcENvbmZpZykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGlua1R5cGVDb250ZW50ID0gdGhpcy5nZXRMaW5rVHlwZUNvbnRlbnQoKVxuICAgICAgY29uc3QgbGlua0NvbnRlbnQgPSB0aGlzLmdldExpbmtDb250ZW50KHRoaXMuc3RhdGUubGlua1BhcmFtLmxpbmtUeXBlKVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzc05hbWUsICd3LTEwMCBoLTEwMCcpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd2lkZ2V0LWJ1aWxkZXItbGluay1zZWxlY3RvciB3LTEwMCBoLTEwMCc+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnPlxuICAgICAgICAgICAgICA8Q29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPSdtYi0zIG9wdGlvbi1uYW1lJz5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbGlua1RvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5saW5rVG8gfSl9XG4gICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9J21iLTQnPntsaW5rVHlwZUNvbnRlbnR9PC9Sb3c+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5rUGFyYW0ubGlua1R5cGUgIT09IExpbmtUeXBlLk5vbmVcbiAgICAgICAgICAgICAgICAgICAgPyA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPSdtYi00Jz57bGlua0NvbnRlbnR9PC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkT3BlbkluKHRoaXMuc3RhdGUubGlua1BhcmFtKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPSdtYi0zIG9wdGlvbi1uYW1lJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnb3BlbkluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5vcGVuSW4gfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvdyByb2xlPSdyYWRpb2dyb3VwJyBjbGFzc05hbWU9J3AtMCcgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ29wZW5JbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMub3BlbkluIH0pfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdGhpcy5wcm9wcy5vcGVuVHlwZXMgfHwgdGhpcy5wcm9wcy5vcGVuVHlwZXMuc29tZShvID0+IG8gPT09IE9wZW5UeXBlcy5DdXJyZW50V2luZG93KSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSdsaW5rLXNldHRpbmctY3Vyc29yLXBvaW50ZXIgb3Blbi10eXBlLWxhYmVsIG1iLTYgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmFkaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm9wZW5JblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnJhZGlvT3BlblR5cGVDaGFuZ2UoT3BlblR5cGVzLkN1cnJlbnRXaW5kb3cpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUubGlua1BhcmFtLm9wZW5UeXBlID09PSBPcGVuVHlwZXMuQ3VycmVudFdpbmRvd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FwcFdpbmRvdycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuYXBwV2luZG93IH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdGhpcy5wcm9wcy5vcGVuVHlwZXMgfHwgdGhpcy5wcm9wcy5vcGVuVHlwZXMuc29tZShvID0+IG8gPT09IE9wZW5UeXBlcy5Ub3BXaW5kb3cpKSAmJlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0nbGluay1zZXR0aW5nLWN1cnNvci1wb2ludGVyIG9wZW4tdHlwZS1sYWJlbCBtYi02IGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJhZGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJvcGVuSW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5yYWRpb09wZW5UeXBlQ2hhbmdlKE9wZW5UeXBlcy5Ub3BXaW5kb3cpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUubGlua1BhcmFtLm9wZW5UeXBlID09PSBPcGVuVHlwZXMuVG9wV2luZG93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndG9wV2luZG93JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy50b3BXaW5kb3cgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCF0aGlzLnByb3BzLm9wZW5UeXBlcyB8fCB0aGlzLnByb3BzLm9wZW5UeXBlcy5zb21lKG8gPT4gbyA9PT0gT3BlblR5cGVzLk5ld1dpbmRvdykpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0nbGluay1zZXR0aW5nLWN1cnNvci1wb2ludGVyIG9wZW4tdHlwZS1sYWJlbCBtYi02IGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJhZGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJvcGVuSW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5yYWRpb09wZW5UeXBlQ2hhbmdlKE9wZW5UeXBlcy5OZXdXaW5kb3cpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUubGlua1BhcmFtLm9wZW5UeXBlID09PSBPcGVuVHlwZXMuTmV3V2luZG93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbmV3V2luZG93JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5uZXdXaW5kb3cgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJyBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9fT5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT0ndy0xMDAgdGV4dC1kYXJrIGxpbmstc2V0dGluZy1vay1idG4nIHR5cGU9J3ByaW1hcnknIG9uQ2xpY2s9e3RoaXMuc2V0dGluZ0NvbmZpcm19IGRpc2FibGVkPXshdGhpcy5pc0xpbmtQYXJhbU9rKHRoaXMuc3RhdGUubGlua1BhcmFtKX1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnb2snLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVEZWZhdWx0TWVzc2FnZXMub2sgfSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUnPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ29rJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlRGVmYXVsdE1lc3NhZ2VzLm9rIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8vIGxlZnRDb250ZW50IGZvciBMaW5rVHlwZVxuICBnZXRMaW5rVHlwZUNvbnRlbnQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMaW5rUGFnZVNldHRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5saW5rUGFyYW0ubGlua1R5cGV9IHNpemU9J3NtJ1xuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmxpbmtUeXBlQ2hhbmdlfSBjbGFzc05hbWU9J3ctMTAwJ1xuICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdsaW5rVG8nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmxpbmtUbyB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9e0xpbmtUeXBlLldlYkFkZHJlc3N9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICd1cmwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnVybCB9KX1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgPC9TZWxlY3Q+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhpZGRlbkxpbmtzID0gdGhpcy5nZXRIaWRkZW5MaW5rcygpXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGlua1BhcmFtLmxpbmtUeXBlfSBzaXplPSdzbSdcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5saW5rVHlwZUNoYW5nZX0gY2xhc3NOYW1lPSd3LTEwMCdcbiAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbGlua1RvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5saW5rVG8gfSl9XG4gICAgICAgID5cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhaGlkZGVuTGlua3Muc29tZShsID0+IGwgPT09IExpbmtUeXBlLk5vbmUpICYmXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e0xpbmtUeXBlLk5vbmV9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbm9uZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMubm9uZSB9KX1cbiAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgfVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICFoaWRkZW5MaW5rcy5zb21lKGwgPT4gbCA9PT0gTGlua1R5cGUuUGFnZSkgJiZcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17TGlua1R5cGUuUGFnZX0+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdwYWdlJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlRGVmYXVsdE1lc3NhZ2VzLnBhZ2UgfSl9XG4gICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIH1cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhaGlkZGVuTGlua3Muc29tZShsID0+IGwgPT09IExpbmtUeXBlLlZpZXcpICYmXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e0xpbmtUeXBlLlZpZXd9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndmlldycsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZURlZmF1bHRNZXNzYWdlcy52aWV3IH0pfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAge1xuICAgICAgICAgICAgIWhpZGRlbkxpbmtzLnNvbWUobCA9PiBsID09PSBMaW5rVHlwZS5EaWFsb2cpICYmXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e0xpbmtUeXBlLkRpYWxvZ30+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkaWFsb2cnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVEZWZhdWx0TWVzc2FnZXMuZGlhbG9nIH0pfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAge1xuICAgICAgICAgICAgIWhpZGRlbkxpbmtzLnNvbWUobCA9PiBsID09PSBMaW5rVHlwZS5XZWJBZGRyZXNzKSAmJlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtMaW5rVHlwZS5XZWJBZGRyZXNzfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3VybCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMudXJsIH0pfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAge1xuICAgICAgICAgICAgIWhpZGRlbkxpbmtzLnNvbWUobCA9PiBsID09PSBMaW5rVHlwZS5CbG9jaykgJiZcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17TGlua1R5cGUuQmxvY2t9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnYmxvY2snLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVEZWZhdWx0TWVzc2FnZXMuYmxvY2sgfSl9XG4gICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIH1cbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyAhaGlkZGVuTGlua3Muc29tZShsID0+IGwgPT09IExpbmtUeXBlLlNjcmVlbikgJiZcbiAgICAgICAgICAgIC8vICAgPG9wdGlvbiB2YWx1ZT17TGlua1R5cGUuU2NyZWVufT5cbiAgICAgICAgICAgIC8vICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NjcmVlbicsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZURlZmF1bHRNZXNzYWdlcy5zY3JlZW4gfSl9XG4gICAgICAgICAgICAvLyAgIDwvb3B0aW9uPlxuICAgICAgICAgIH1cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhaGlkZGVuTGlua3Muc29tZShsID0+IGwgPT09IExpbmtUeXBlLlBhZ2VUb3ApICYmXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e0xpbmtUeXBlLlBhZ2VUb3B9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncGFnZVRvcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucGFnZVRvcCB9KX1cbiAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgfVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICFoaWRkZW5MaW5rcy5zb21lKGwgPT4gbCA9PT0gTGlua1R5cGUuUHJpbnRQcmV2aWV3KSAmJlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtMaW5rVHlwZS5QcmludFByZXZpZXd9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncHJpbnRQcmV2aWV3JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5wcmludFByZXZpZXcgfSl9XG4gICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9TZWxlY3Q+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0SGlkZGVuTGlua3MgPSAoKTogSW1tdXRhYmxlQXJyYXk8TGlua1R5cGU+ID0+IHtcbiAgICBsZXQgaGlkZGVuTGlua3MgPSB0aGlzLnByb3BzLmhpZGRlbkxpbmtzIHx8IEltbXV0YWJsZShbXSlcbiAgICBjb25zdCBjdXJyZW50UGFnZUlkID0gbGF5b3V0UnVudGltZVV0aWxzLmdldEN1cnJlbnRQYWdlSWQoKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGxheW91dFJ1bnRpbWVVdGlscy5nZXRBcHBDb25maWcoKVxuICAgIGNvbnN0IGN1cnJlbnRQYWdlSnNvbiA9IGFwcENvbmZpZy5wYWdlcz8uW2N1cnJlbnRQYWdlSWRdXG4gICAgY29uc3QgY3VycmVudFBhZ2VMYXlvdXRJZCA9IHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChjdXJyZW50UGFnZUpzb24/LmxheW91dCwgbGF5b3V0UnVudGltZVV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpLCBhcHBDb25maWcubWFpblNpemVNb2RlKVxuICAgIGNvbnN0IGN1cnJlbnRMYXlvdXRKc29uID0gYXBwQ29uZmlnLmxheW91dHNbY3VycmVudFBhZ2VMYXlvdXRJZF1cbiAgICBjb25zdCBjdXJyZW50RGlhbG9nSWQgPSB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwUnVudGltZUluZm8/LmN1cnJlbnREaWFsb2dJZCA6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBSdW50aW1lSW5mbz8uY3VycmVudERpYWxvZ0lkXG4gICAgaWYgKGN1cnJlbnRMYXlvdXRKc29uPy50eXBlID09PSBMYXlvdXRUeXBlLkZpeGVkTGF5b3V0IHx8IGN1cnJlbnREaWFsb2dJZCkge1xuICAgICAgaGlkZGVuTGlua3MgPSBoaWRkZW5MaW5rcy5jb25jYXQoW0xpbmtUeXBlLkJsb2NrLCBMaW5rVHlwZS5TY3JlZW4sIExpbmtUeXBlLlBhZ2VUb3BdKVxuICAgIH1cblxuICAgIHJldHVybiBoaWRkZW5MaW5rc1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTGlua1BhZ2VTZXR0aW5nKSB7XG4gICAgICB0aGlzLmxpbmtUeXBlQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IExpbmtUeXBlLldlYkFkZHJlc3NcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyByaWdodENvbnRlbnQgZm9yIExpbmtQYXJhbVNldHRpbmdcbiAgZ2V0TGlua0NvbnRlbnQgPSAobGlua1R5cGU6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAobGlua1R5cGUpIHtcbiAgICAgIGNhc2UgTGlua1R5cGUuTm9uZTpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIGNhc2UgTGlua1R5cGUuUGFnZTpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UGFnZUxpbmtDb250ZW50XG4gICAgICAgICAgICBvcmlnaW5MaW5rUGFyYW09e3RoaXMuc3RhdGUub3JpZ2luTGlua1BhcmFtfSBsaW5rUGFyYW09e3RoaXMuc3RhdGUubGlua1BhcmFtfVxuICAgICAgICAgICAgYXBwQ29uZmlnPXt0aGlzLnByb3BzLmFwcENvbmZpZ30gb25MaW5rUGFyYW1DaGFuZ2U9e3RoaXMubGlua1BhcmFtQ2hhbmdlfVxuICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSBvcGVuVHlwZXM9e3RoaXMucHJvcHMub3BlblR5cGVzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgTGlua1R5cGUuRGlhbG9nOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEaWFsb2dMaW5rQ29udGVudFxuICAgICAgICAgICAgb3JpZ2luTGlua1BhcmFtPXt0aGlzLnN0YXRlLm9yaWdpbkxpbmtQYXJhbX0gbGlua1BhcmFtPXt0aGlzLnN0YXRlLmxpbmtQYXJhbX1cbiAgICAgICAgICAgIGFwcENvbmZpZz17dGhpcy5wcm9wcy5hcHBDb25maWd9IG9uTGlua1BhcmFtQ2hhbmdlPXt0aGlzLmxpbmtQYXJhbUNoYW5nZX1cbiAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBjYXNlIExpbmtUeXBlLkJsb2NrOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxCbG9ja0xpbmtDb250ZW50XG4gICAgICAgICAgICBvcmlnaW5MaW5rUGFyYW09e3RoaXMuc3RhdGUub3JpZ2luTGlua1BhcmFtfSBsaW5rUGFyYW09e3RoaXMuc3RhdGUubGlua1BhcmFtfVxuICAgICAgICAgICAgb25MaW5rUGFyYW1DaGFuZ2U9e3RoaXMubGlua1BhcmFtQ2hhbmdlfVxuICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgTGlua1R5cGUuU2NyZWVuOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxTY3JlZW5MaW5rQ29udGVudFxuICAgICAgICAgICAgb3JpZ2luTGlua1BhcmFtPXt0aGlzLnN0YXRlLm9yaWdpbkxpbmtQYXJhbX0gbGlua1BhcmFtPXt0aGlzLnN0YXRlLmxpbmtQYXJhbX1cbiAgICAgICAgICAgIG9uTGlua1BhcmFtQ2hhbmdlPXt0aGlzLmxpbmtQYXJhbUNoYW5nZX1cbiAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBjYXNlIExpbmtUeXBlLlZpZXc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFZpZXdMaW5rQ29udGVudFxuICAgICAgICAgICAgb3JpZ2luTGlua1BhcmFtPXt0aGlzLnN0YXRlLm9yaWdpbkxpbmtQYXJhbX0gbGlua1BhcmFtPXt0aGlzLnN0YXRlLmxpbmtQYXJhbX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfSBvcGVuVHlwZXM9e3RoaXMucHJvcHMub3BlblR5cGVzfVxuICAgICAgICAgICAgYXBwQ29uZmlnPXt0aGlzLnByb3BzLmFwcENvbmZpZ30gb25MaW5rUGFyYW1DaGFuZ2U9e3RoaXMubGlua1BhcmFtQ2hhbmdlfSBicm93c2VyU2l6ZU1vZGU9e3RoaXMucHJvcHMuYnJvd3NlclNpemVNb2RlfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgTGlua1R5cGUuV2ViQWRkcmVzczpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8V2ViQWRkcmVzc0xpbmtDb250ZW50XG4gICAgICAgICAgICBvcmlnaW5MaW5rUGFyYW09e3RoaXMuc3RhdGUub3JpZ2luTGlua1BhcmFtfSBsaW5rUGFyYW09e3RoaXMuc3RhdGUubGlua1BhcmFtfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICBvbkxpbmtQYXJhbUNoYW5nZT17dGhpcy5saW5rUGFyYW1DaGFuZ2V9IHVzZURhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzfSBvcGVuVHlwZXM9e3RoaXMucHJvcHMub3BlblR5cGVzfVxuICAgICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBsaW5rVHlwZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSBJbW11dGFibGUodGhpcy5zdGF0ZS5saW5rUGFyYW0pXG4gICAgY29uc3QgdHlwZSA9IGUudGFyZ2V0LnZhbHVlXG5cbiAgICBpZiAodHlwZSA9PT0gTGlua1R5cGUuUGFnZVRvcCkge1xuICAgICAgdGVtcExpbmtQYXJhbSA9IEltbXV0YWJsZSh7fSlcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGxpbmtQYXJhbTogdGVtcExpbmtQYXJhbS5zZXQoJ2xpbmtUeXBlJywgdHlwZSlcbiAgICB9KVxuICB9XG5cbiAgcmFkaW9PcGVuVHlwZUNoYW5nZSA9IChvcGVuVHlwZTogT3BlblR5cGVzKSA9PiB7XG4gICAgbGV0IHRlbXBMaW5rUGFyYW0gPSBJbW11dGFibGUodGhpcy5zdGF0ZS5saW5rUGFyYW0pXG4gICAgdGVtcExpbmtQYXJhbSA9IHRlbXBMaW5rUGFyYW0uc2V0KCdvcGVuVHlwZScsIG9wZW5UeXBlKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBsaW5rUGFyYW06IHRlbXBMaW5rUGFyYW1cbiAgICB9KVxuICB9XG5cbiAgbGlua1BhcmFtQ2hhbmdlID0gKGNoYW5nZWRQYXJhbTogSU1MaW5rUGFyYW0sIGlzVHlwZVNhbWU/OiBib29sZWFuKSA9PiB7XG4gICAgaWYgKGlzVHlwZVNhbWUpIHtcbiAgICAgIGlmIChjaGFuZ2VkUGFyYW0gJiYgdGhpcy5zdGF0ZS5saW5rUGFyYW0gJiYgY2hhbmdlZFBhcmFtLmxpbmtUeXBlID09PSB0aGlzLnN0YXRlLmxpbmtQYXJhbS5saW5rVHlwZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsaW5rUGFyYW06IHRoaXMuZml4TGlua1BhcmFtKGNoYW5nZWRQYXJhbSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGxpbmtQYXJhbTogdGhpcy5maXhMaW5rUGFyYW0oY2hhbmdlZFBhcmFtKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBmaXhMaW5rUGFyYW0gPSAobGlua1BhcmFtOiBJTUxpbmtQYXJhbSk6IElNTGlua1BhcmFtID0+IHtcbiAgICBsZXQgZml4ZWRMaW5rUGFyYW0gPSBsaW5rUGFyYW1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgaW52YWxpZCB2aWV3IGlkcy4gU29tZSB2aWV3cyBtYXkgYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBpZiAobGlua1BhcmFtPy5saW5rVHlwZSA9PT0gTGlua1R5cGUuVmlldyAmJiBsaW5rUGFyYW0/LnZhbHVlKSB7XG4gICAgICBjb25zdCB2aWV3cyA9IHRoaXMucHJvcHMuYXBwQ29uZmlnPy52aWV3c1xuICAgICAgY29uc3Qgdmlld0xpbmtQYXJhbUFyciA9IGxpbmtQYXJhbS52YWx1ZS5zcGxpdCgnLCcpXG4gICAgICBjb25zdCB2YWxpZFZpZXdJZHMgPSB2aWV3TGlua1BhcmFtQXJyLnNsaWNlKDEpLmZpbHRlcih2aWV3SWQgPT4gdmlld3M/Llt2aWV3SWRdKVxuICAgICAgY29uc3QgZml4ZWRWYWx1ZSA9IFt2aWV3TGlua1BhcmFtQXJyWzBdXS5jb25jYXQodmFsaWRWaWV3SWRzKS5qb2luKCcsJylcbiAgICAgIGZpeGVkTGlua1BhcmFtID0gZml4ZWRMaW5rUGFyYW0uc2V0KCd2YWx1ZScsIGZpeGVkVmFsdWUpXG4gICAgfVxuICAgIHJldHVybiBmaXhlZExpbmtQYXJhbVxuICB9XG5cbiAgc2V0dGluZ0NvbmZpcm0gPSAoKSA9PiB7XG4gICAgY29uc3QgbGlua1BhcmFtID0gSW1tdXRhYmxlKHRoaXMuc3RhdGUubGlua1BhcmFtKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3JpZ2luTGlua1BhcmFtOiBsaW5rUGFyYW1cbiAgICB9KVxuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ29uZmlybShsaW5rUGFyYW0pXG4gIH1cblxuICBpc0xpbmtQYXJhbU9rID0gKGxpbmtQYXJhbTogSU1MaW5rUGFyYW0pOiBib29sZWFuID0+IHtcbiAgICBpZiAoIWxpbmtQYXJhbSB8fCAhbGlua1BhcmFtLmxpbmtUeXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAobGlua1BhcmFtLmxpbmtUeXBlID09PSBMaW5rVHlwZS5WaWV3KSB7XG4gICAgICBjb25zdCBwYWdlSWQgPSAobGlua1BhcmFtLnZhbHVlICYmIGxpbmtQYXJhbS52YWx1ZS5zcGxpdCgnLCcpWzBdKSB8fCBudWxsXG4gICAgICBjb25zdCB2aWV3SWRzID0gKGxpbmtQYXJhbS52YWx1ZSAmJiBsaW5rUGFyYW0udmFsdWUuc3BsaXQoJywnKS5zbGljZSgxKSkgfHwgW11cblxuICAgICAgcmV0dXJuICEhKHBhZ2VJZCAmJiB0eXBlb2YgcGFnZUlkID09PSAnc3RyaW5nJyAmJiB2aWV3SWRzLmxlbmd0aCA+IDApXG4gICAgfSBlbHNlIGlmIChsaW5rUGFyYW0ubGlua1R5cGUgPT09IExpbmtUeXBlLldlYkFkZHJlc3MpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGxpbmtQYXJhbS5leHByZXNzaW9uICYmIGxpbmtQYXJhbS5leHByZXNzaW9uLnBhcnRzXG4gICAgICAgIGxldCBpc0V4cHJlc3Npb25PayA9IGZhbHNlXG4gICAgICAgIGlmIChwYXJ0cyAmJiBwYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gd2hlbiB1c2luZyBleHByZXNzaW9uLCB0aGUgZGVmYXVsdCBwYXJ0IGlzIFwiXCIsIHdoaWNoIGRvZXMgbm90IG1lYW4gZXhwcmVzc2lvbiBpcyBva1xuICAgICAgICAgICAgaXNFeHByZXNzaW9uT2sgPSAhIXBhcnRzWzBdLmV4cCAmJiBwYXJ0c1swXS5leHAgIT09ICdcIlwiJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0V4cHJlc3Npb25PayA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRXhwcmVzc2lvbk9rXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBoYXNFcnJvciA9IHVybFV0aWxzLmNoZWNrQWJzb2x1dGVVcmwobGlua1BhcmFtLnZhbHVlLCBzdXBwb3J0ZWRVUklTY2hlbWVzKSAhPT0gJ3ZhbGlkJ1xuICAgICAgICByZXR1cm4gbGlua1BhcmFtLnZhbHVlICYmICFoYXNFcnJvclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGlua1BhcmFtLmxpbmtUeXBlID09PSBMaW5rVHlwZS5QYWdlVG9wIHx8IGxpbmtQYXJhbS5saW5rVHlwZSA9PT0gTGlua1R5cGUuUHJpbnRQcmV2aWV3IHx8IGxpbmtQYXJhbS5saW5rVHlwZSA9PT0gTGlua1R5cGUuTm9uZSkge1xuICAgICAgLy8gbGluayB0byBwYWdlIHRvcCwgb25seSBuZWVkcyBsaW5rVHlwZSBwcm9wZXJ0eS5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHsgLy8gb3RoZXIgbGluayB0eXBlcyBvbmx5IG5lZWQgdmFsdWUgYW5kIHZhbHVlIGlzIHR5cGUgb2Ygc3RyaW5nLlxuICAgICAgcmV0dXJuICEhKGxpbmtQYXJhbS52YWx1ZSAmJiB0eXBlb2YgbGlua1BhcmFtLnZhbHVlID09PSAnc3RyaW5nJylcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJTVN0YXRlKTogU3RhdGVFeHRyYVByb3BzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHBDb25maWc6IHdpbmRvdyAmJiB3aW5kb3cuamltdUNvbmZpZyAmJiB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWcgOiBzdGF0ZS5hcHBDb25maWcsXG4gICAgYnJvd3NlclNpemVNb2RlOiB3aW5kb3cgJiYgd2luZG93LmppbXVDb25maWcgJiYgd2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyID8gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuYnJvd3NlclNpemVNb2RlIDogc3RhdGUuYnJvd3NlclNpemVNb2RlXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IExpbmtTZWxlY3RvckNvbnRlbnQgPSBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVFeHRyYVByb3BzLCB1bmtub3duLCBMaW5rU2VsZWN0b3JDb250ZW50UHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoaW5qZWN0SW50bDxudWxsLCBMaW5rU2VsZWN0b3JDb250ZW50UHJvcHM+KHdpdGhTdHlsZXMoX0xpbmtTZWxlY3RvckNvbnRlbnQsICdMaW5rU2VsZWN0b3JDb250ZW50JykpKVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBMaW5rU2V0dGluZyA9IExpbmtTZWxlY3RvckNvbnRlbnRcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHR5cGUgTGlua1NldHRpbmdQcm9wcyA9IExpbmtTZWxlY3RvckNvbnRlbnRQcm9wc1xuIiwiaW1wb3J0IHsgUGFnZVR5cGUsIExheW91dEl0ZW1UeXBlLCB0eXBlIElNQXBwQ29uZmlnLCBDb250YWluZXJUeXBlLCBDT05TVEFOVFMsIHR5cGUgSW50bFNoYXBlLCBEaWFsb2dNb2RlLCBMaW5rVHlwZSwgdHlwZSBVUklTY2hlbWUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBzZWFyY2hVdGlscywgdXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgdHlwZSBJTUxpbmtQYXJhbSwgdHlwZSBMaW5rUGFyYW0gfSBmcm9tICcuLi8uLi90eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlY3Rpb25JZHNGcm9tUGFnZSAocGFnZUlkOiBzdHJpbmcsIGFwcENvbmZpZzogSU1BcHBDb25maWcpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHBhZ2VKc29uID0gYXBwQ29uZmlnPy5wYWdlcz8uW3BhZ2VJZF1cbiAgaWYgKHBhZ2VKc29uPy50eXBlID09PSBQYWdlVHlwZS5Ob3JtYWwpIHtcbiAgICBjb25zdCBib2R5U2VjdGlvbnMgPSBzZWFyY2hVdGlscy5nZXRDb250ZW50c0luQ29udGFpbmVyKGFwcENvbmZpZywgeyB0eXBlOiBDb250YWluZXJUeXBlLlBhZ2UsIGlkOiBwYWdlSWQgfSwgTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiwgdXRpbHMuZ2V0Q3VycmVudFNpemVNb2RlKCkpXG4gICAgbGV0IGhlYWRlclNlY3Rpb25zOiBzdHJpbmdbXSA9IFtdXG4gICAgbGV0IGZvb3RlclNlY3Rpb25zOiBzdHJpbmdbXSA9IFtdXG4gICAgaWYgKHBhZ2VKc29uLmhlYWRlcikge1xuICAgICAgaGVhZGVyU2VjdGlvbnMgPSBzZWFyY2hVdGlscy5nZXRDb250ZW50c0luQ29udGFpbmVyKGFwcENvbmZpZywgeyB0eXBlOiBDb250YWluZXJUeXBlLkhlYWRlciwgaWQ6ICdoZWFkZXInIH0sIExheW91dEl0ZW1UeXBlLlNlY3Rpb24sIHV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpKVxuICAgIH1cbiAgICBpZiAocGFnZUpzb24uZm9vdGVyKSB7XG4gICAgICBmb290ZXJTZWN0aW9ucyA9IHNlYXJjaFV0aWxzLmdldENvbnRlbnRzSW5Db250YWluZXIoYXBwQ29uZmlnLCB7IHR5cGU6IENvbnRhaW5lclR5cGUuRm9vdGVyLCBpZDogJ2Zvb3RlcicgfSwgTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiwgdXRpbHMuZ2V0Q3VycmVudFNpemVNb2RlKCkpXG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJTZWN0aW9ucy5jb25jYXQoYm9keVNlY3Rpb25zLCBmb290ZXJTZWN0aW9ucyk/LnNvcnQoKHNJZDEsIHNJZDIpID0+IGFwcENvbmZpZz8uc2VjdGlvbnM/LltzSWQxXT8ubGFiZWw/LmxvY2FsZUNvbXBhcmUoYXBwQ29uZmlnPy5zZWN0aW9ucz8uW3NJZDJdPy5sYWJlbCwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KSlcbiAgfVxuICByZXR1cm4gW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlY3Rpb25JZHNGcm9tRGlhbG9nIChkaWFsb2dJZDogc3RyaW5nLCBhcHBDb25maWc6IElNQXBwQ29uZmlnKTogc3RyaW5nW10ge1xuICBjb25zdCBkaWFsb2dKc29uID0gYXBwQ29uZmlnPy5kaWFsb2dzPy5bZGlhbG9nSWRdXG4gIGlmICghZGlhbG9nSnNvbikge1xuICAgIHJldHVybiBbXVxuICB9XG4gIHJldHVybiBzZWFyY2hVdGlscy5nZXRDb250ZW50c0luQ29udGFpbmVyKGFwcENvbmZpZywgeyB0eXBlOiBDb250YWluZXJUeXBlLkRpYWxvZywgaWQ6IGRpYWxvZ0lkIH0sIExheW91dEl0ZW1UeXBlLlNlY3Rpb24sIHV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpKVxufVxuXG4vKipcbiAqIHJldHVybiBhbGwgY2hpbGQgdmlld3Mgb2YgcGFyZW50IHZpZXcsXG4gKiBlLmcuLCBwYWdlXzEgLT4gc2VjdGlvbl8xIC0+IHZpZXdfMSAtPiBzZWN0aW9uXzIgLT4gdmlld18yIC0+IHNlY3Rpb25fMyAtPiB2aWV3XzNcbiAqIGlucHV0IHZpZXdfMSwgcmV0dXJuIFt2aWV3XzIsIHZpZXdfM10sXG4gKiBpbnB1dCB2aWV3XzIsIHJldHVybiBbdmlld18zXSxcbiAqIGlucHV0IHZpZXdfdW5kZWZpbGVkLCByZXR1cm4gW11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENoaWxkVmlld0lkcyAocGFyZW50Vmlld0lkOiBzdHJpbmcsIGFwcENvbmZpZzogSU1BcHBDb25maWcpOiBzdHJpbmdbXSB7XG4gIGlmICghcGFyZW50Vmlld0lkKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgY29uc3Qgc2VjdGlvbklkcyA9IGdldFNlY3Rpb25JZHNGcm9tVmlldyhwYXJlbnRWaWV3SWQsIGFwcENvbmZpZylcbiAgaWYgKHNlY3Rpb25JZHMgJiYgc2VjdGlvbklkcy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGNoaWxkVmlld0lkczogc3RyaW5nW10gPSBbXVxuICAgIGxldCBncmFuZENoaWxkVmlld0lkczogc3RyaW5nW10gPSBbXVxuICAgIHNlY3Rpb25JZHMuZm9yRWFjaChzZWN0aW9uSWQgPT4ge1xuICAgICAgY2hpbGRWaWV3SWRzID0gY2hpbGRWaWV3SWRzLmNvbmNhdChnZXRWaWV3SW5mb0Zyb21TZWN0aW9uKHNlY3Rpb25JZCwgYXBwQ29uZmlnKS5tYXAoaW5mbyA9PiBpbmZvLmlkKSlcbiAgICB9KVxuXG4gICAgaWYgKGNoaWxkVmlld0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGlsZFZpZXdJZHMuZm9yRWFjaCh2SWQgPT4ge1xuICAgICAgICBncmFuZENoaWxkVmlld0lkcyA9IGdyYW5kQ2hpbGRWaWV3SWRzLmNvbmNhdChnZXRBbGxDaGlsZFZpZXdJZHModklkLCBhcHBDb25maWcpKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRWaWV3SWRzLmNvbmNhdChncmFuZENoaWxkVmlld0lkcylcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VjdGlvbklkc0Zyb21WaWV3ICh2aWV3SWQ6IHN0cmluZywgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyk6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIHNlYXJjaFV0aWxzLmdldENvbnRlbnRzSW5Db250YWluZXIoYXBwQ29uZmlnLCB7IHR5cGU6IENvbnRhaW5lclR5cGUuVmlldywgaWQ6IHZpZXdJZCB9LCBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uLCB1dGlscy5nZXRDdXJyZW50U2l6ZU1vZGUoKSkgfHwgW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdJbmZvRnJvbVNlY3Rpb24gKHNlY3Rpb25JZDogc3RyaW5nLCBhcHBDb25maWc6IElNQXBwQ29uZmlnKTogVmlld0luZm9bXSB7XG4gIGNvbnN0IHRlbXBWaWV3cyA9IGFwcENvbmZpZy5zZWN0aW9uc1tzZWN0aW9uSWRdLnZpZXdzXG4gIGNvbnN0IGluZm86IFZpZXdJbmZvW10gPSBbXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcFZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW5mby5wdXNoKHtcbiAgICAgIGlkOiB0ZW1wVmlld3NbaV0sXG4gICAgICBsYWJlbDogYXBwQ29uZmlnLnZpZXdzW3RlbXBWaWV3c1tpXV0ubGFiZWxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIGluZm8uc29ydCgodjEsIHYyKSA9PiB2MS5sYWJlbD8ubG9jYWxlQ29tcGFyZSh2Mi5sYWJlbCwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KSlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaWV3SW5mbyB7XG4gIGlkOiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZURhdGEgKGFwcENvbmZpZzogSU1BcHBDb25maWcsIGludGw6IEludGxTaGFwZSk6IEFycmF5PHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH0+IHtcbiAgY29uc3QgcGFnZXMgPSBhcHBDb25maWc/LnBhZ2VzXG4gIGNvbnN0IGN1cnJlbnRQYWdlID0ge1xuICAgIGlkOiBDT05TVEFOVFMuQ1VSUkVOVF9QQUdFLFxuICAgIG5hbWU6IGludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY3VycmVudFBhZ2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmN1cnJlbnRQYWdlIH0pXG4gIH1cbiAgY29uc3QgcGFnZUlkcyA9IHBhZ2VzICYmIE9iamVjdC5rZXlzKHBhZ2VzKS5maWx0ZXIocElkID0+IHBhZ2VzW3BJZF0udHlwZSA9PT0gUGFnZVR5cGUuTm9ybWFsKS5zb3J0KChwSWQxLCBwSWQyKSA9PiBwYWdlc1twSWQxXS5sYWJlbD8ubG9jYWxlQ29tcGFyZShwYWdlc1twSWQyXS5sYWJlbCwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KSlcbiAgbGV0IGRhdGE6IEFycmF5PHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH0+ID0gW2N1cnJlbnRQYWdlXVxuXG4gIGlmIChwYWdlSWRzKSB7XG4gICAgZGF0YSA9IGRhdGEuY29uY2F0KHBhZ2VJZHMubWFwKHBJZCA9PiAoeyBpZDogcElkLCBuYW1lOiBwYWdlc1twSWRdLmxhYmVsIH0pKSlcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaWFsb2dEYXRhIChhcHBDb25maWc6IElNQXBwQ29uZmlnKTogQXJyYXk8eyBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcgfT4ge1xuICBjb25zdCBkaWFsb2dzID0gYXBwQ29uZmlnPy5kaWFsb2dzXG4gIGNvbnN0IGZpeGVkRGlhbG9ncyA9IChkaWFsb2dzICYmIE9iamVjdC52YWx1ZXMoZGlhbG9ncykuZmlsdGVyKGQgPT4gZD8ubW9kZSA9PT0gRGlhbG9nTW9kZS5GaXhlZCkpIHx8IFtdXG4gIGNvbnN0IGFuY2hvcmVkRGlhbG9ncyA9IChkaWFsb2dzICYmIE9iamVjdC52YWx1ZXMoZGlhbG9ncykuZmlsdGVyKGQgPT4gZD8ubW9kZSA9PT0gRGlhbG9nTW9kZS5BbmNob3JlZCkpIHx8IFtdXG4gIGNvbnN0IHNvcnRlZERpYWxvZ3MgPSBmaXhlZERpYWxvZ3MuY29uY2F0KGFuY2hvcmVkRGlhbG9ncykuc29ydCgoZDEsIGQyKSA9PiBkMS5sYWJlbD8ubG9jYWxlQ29tcGFyZShkMi5sYWJlbCwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KSlcbiAgY29uc3QgZGlhbG9nSWRzID0gc29ydGVkRGlhbG9ncy5tYXAoZCA9PiBkLmlkKVxuICBjb25zdCBkYXRhOiBBcnJheTx7IGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyB9PiA9IGRpYWxvZ0lkcyAmJiBkaWFsb2dJZHMuZmlsdGVyKGlkID0+ICFkaWFsb2dzW2lkXS5pc1NwbGFzaCkubWFwKGlkID0+ICh7IGlkOiBpZCwgbmFtZTogZGlhbG9nc1tpZF0ubGFiZWwgfSkpXG5cbiAgcmV0dXJuIGRhdGFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtUb1ZpZXdPbkRpYWxvZyAobGlua1BhcmFtczogSU1MaW5rUGFyYW0gfCBMaW5rUGFyYW0pOiBib29sZWFuIHtcbiAgY29uc3QgcGFnZU9yRGxnSWQgPSBsaW5rUGFyYW1zLmxpbmtUeXBlID09PSBMaW5rVHlwZS5WaWV3ID8gbGlua1BhcmFtcy52YWx1ZT8uc3BsaXQoJywnKVswXSA6IG51bGxcbiAgcmV0dXJuIGlzRGlhbG9nSWQocGFnZU9yRGxnSWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RpYWxvZ0lkIChpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmIGlkLmluY2x1ZGVzKCdkaWFsb2dfJylcbn1cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZFVSSVNjaGVtZXM6IFVSSVNjaGVtZVtdID0gWydodHRwcycsICdtYWlsdG8nLCAndGVsJywgJ3NtcycsICdmdHAnXVxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgSW50bFNoYXBlLCBpbmplY3RJbnRsLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMaW5rU2VsZWN0b3JDb250ZW50LCB0eXBlIExpbmtTZWxlY3RvckNvbnRlbnRQcm9wcyB9IGZyb20gJy4vbGluay1zZWxlY3Rvci1jb250ZW50J1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IFNpZGVQb3BwZXIgfSBmcm9tICcuLi8uLi9zaWRlLXBvcHBlcidcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbi8qKlxuICogVGhlIExpbmtTZWxlY3RvclNpZGVQb3BwZXIgcHJvcHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW5rU2VsZWN0b3JTaWRlUG9wcGVyUHJvcHMgZXh0ZW5kcyBMaW5rU2VsZWN0b3JDb250ZW50UHJvcHMge1xuICAvKipcbiAgICogQ2FsbGJhY2sgd2hlbiBjYW5jZWwgc2V0dGluZy5cbiAgICovXG5cbiAgb25TZXR0aW5nQ2FuY2VsPzogKCkgPT4gdm9pZFxuICAvKipcbiAgICogV2hldGhlciB0byBzaG93IHRoZSBzZXR0aW5nIHBvcHVwLlxuICAgKi9cbiAgaXNPcGVuPzogYm9vbGVhblxuICAvKipcbiAgICogU2VlIGBTaWRlUG9wcGVyYCBpbiBqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgdHJpZ2dlcj86IEhUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXVxuICAvKipcbiAgICogU2VlIGBTaWRlUG9wcGVyYCBpbiBqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgYmFja1RvRm9jdXNOb2RlPzogSFRNTEVsZW1lbnRcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogU2FtZSB3aXRoIGBpc09wZW5gLlxuICAgKi9cbiAgc2hvd0RpYWxvZz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGlzTGlua1BhZ2VTZXR0aW5nPzogYm9vbGVhblxuICAvKipcbiAgICogVGhlIHBvcHVwIHNob3dzIG5leHQgdG8gbGVmdCBwYW5lbCBvZiBidWlsZGVyIG9yIHJpZ2h0IHBhbmVsIG9mIGJ1aWxkZXIuXG4gICAqL1xuICBwb3NpdGlvbj86ICdyaWdodCcgfCAnbGVmdCdcbiAgLyoqXG4gICAqIFRoZSB0aXRsZSBvZiB0aGUgcG9wdXAuXG4gICAqL1xuICB0aXRsZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGludGw6IEludGxTaGFwZVxufVxuXG4vKipcbiAqIFRoZSBgTGlua1NlbGVjdG9yU2lkZVBvcHBlcmAgY29tcG9uZW50IGFsbG93cyB1c2VycyB0byBjb25maWd1cmUgYSBsaW5rIHVzaW5nIGEgcG9wdXAuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IExpbmtTZWxlY3RvclNpZGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX0xpbmtTZWxlY3RvclNpZGVQb3BwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExpbmtTZWxlY3RvclNpZGVQb3BwZXJQcm9wcyAmIEV4dHJhUHJvcHMsIHVua25vd24+IHtcbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDYW5jZWwoKVxuICB9XG5cbiAgZ2V0SXNPcGVuID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmlzT3BlbiB8fCB0aGlzLnByb3BzLnNob3dEaWFsb2dcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnByb3BzLnBvc2l0aW9uIHx8ICdyaWdodCdcbiAgICBjb25zdCB7IHRpdGxlIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgIDxTaWRlUG9wcGVyIGlzT3Blbj17dGhpcy5nZXRJc09wZW4oKX0gcG9zaXRpb249e3Bvc2l0aW9ufSB0b2dnbGU9e3RoaXMuY2xvc2V9IHRyaWdnZXI9e3RoaXMucHJvcHMudHJpZ2dlcn0gYmFja1RvRm9jdXNOb2RlPXt0aGlzLnByb3BzLmJhY2tUb0ZvY3VzTm9kZX0gd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9XG4gICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiB0aXRsZSA/ICdzZXRMaW5rRm9yVGl0bGUnIDogJ3NldExpbmsnLCBkZWZhdWx0TWVzc2FnZTogdGl0bGUgPyBkZWZhdWx0TWVzc2FnZXMuc2V0TGlua0ZvclRpdGxlIDogZGVmYXVsdE1lc3NhZ2VzLnNldExpbmsgfSwgeyB0aXRsZSB9KX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JnLWxpZ2h0LTMwMCB3LTEwMCBoLTEwMCBweC00Jz5cbiAgICAgICAgICA8TGlua1NlbGVjdG9yQ29udGVudFxuICAgICAgICAgICAgaXNMaW5rUGFnZVNldHRpbmc9e3RoaXMucHJvcHMuaXNMaW5rUGFnZVNldHRpbmd9XG4gICAgICAgICAgICBsaW5rUGFyYW09e3RoaXMucHJvcHMubGlua1BhcmFtfVxuICAgICAgICAgICAgb25TZXR0aW5nQ29uZmlybT17dGhpcy5wcm9wcy5vblNldHRpbmdDb25maXJtfVxuICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9XG4gICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH1cbiAgICAgICAgICAgIGhpZGRlbkxpbmtzPXt0aGlzLnByb3BzLmhpZGRlbkxpbmtzfVxuICAgICAgICAgICAgb3BlblR5cGVzPXt0aGlzLnByb3BzLm9wZW5UeXBlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvU2lkZVBvcHBlcj5cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0byBzZXQgbGluaywgc3VjaCBhcyBsaW5rIHRvIGEgdmlldywgYSBwYWdlIG9yIHVybFxuICovXG5leHBvcnQgY29uc3QgTGlua1NlbGVjdG9yU2lkZVBvcHBlciA9IGluamVjdEludGwod2l0aFRoZW1lKF9MaW5rU2VsZWN0b3JTaWRlUG9wcGVyKSlcblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY29uc3QgTGlua1NldHRpbmdQb3B1cCA9IExpbmtTZWxlY3RvclNpZGVQb3BwZXJcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHR5cGUgTGlua1NldHRpbmdQb3B1cFByb3BzID0gTGlua1NlbGVjdG9yU2lkZVBvcHBlclByb3BzXG4iLCJpbXBvcnQgeyBSZWFjdCwgdHlwZSBJbnRsU2hhcGUsIGluamVjdEludGwsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgdXJsVXRpbHMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMaW5rU2VsZWN0b3JTaWRlUG9wcGVyLCB0eXBlIExpbmtTZWxlY3RvclNpZGVQb3BwZXJQcm9wcyB9IGZyb20gJy4vbGluay1zZWxlY3Rvci1zaWRlLXBvcHBlcidcbmltcG9ydCB7IEJ1dHRvbiwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmltcG9ydCB7IExpbmtUaWx0ZWRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGF0YS9saW5rLXRpbHRlZCdcbmltcG9ydCB7IHR5cGUgSU1MaW5rUGFyYW0gfSBmcm9tICcuLi90eXBlcydcblxuLyoqXG4gKiBUaGUgTGlua1NlbGVjdG9yIHByb3BzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlua1NlbGVjdG9yUHJvcHMgZXh0ZW5kcyBPbWl0PExpbmtTZWxlY3RvclNpZGVQb3BwZXJQcm9wcywgJ2lzT3BlbicgfCAndHJpZ2dlcicgfCAncG9zaXRpb24nPiB7XG4gIC8qKlxuICAgKiBMYWJlbCBvZiB0aGUgYnV0dG9uIHdoaWNoIGNhbiB0cmlnZ2VyIGxpbmsgc2VsZWN0b3IgcG9wdXAuXG4gICAqXG4gICAqIEBkZWZhdWx0IFNldCBsaW5rXG4gICAqL1xuICBidXR0b25MYWJlbD86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGludGw6IEludGxTaGFwZVxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc09wZW46IGJvb2xlYW5cbiAgcmVuZGVyUG9wcGVyOiBib29sZWFuXG59XG5cbi8qKlxuICogVGhlIGBMaW5rU2VsZWN0b3JgIGNvbXBvbmVudCBhbGxvd3MgdXNlcnMgdG8gY29uZmlndXJlIGEgbGluayB1c2luZyBhIHBvcHVwLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBMaW5rU2VsZWN0b3IgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX0xpbmtTZWxlY3RvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGlua1NlbGVjdG9yUHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZT4ge1xuICBsaW5rU2VsZWN0b3JUcmlnZ2VyID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxCdXR0b25FbGVtZW50PigpXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICByZW5kZXJQb3BwZXI6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0lzT3BlbiA9ICF0aGlzLnN0YXRlLmlzT3BlblxuICAgIC8vIHVzZSByZW5kZXJQb3BwZXIgdG8gY29udHJvbGwgd2hldGhlciByZW5kZXIgcG9wcGVyIHRvIGxldCBwb3BwZXIgYXV0byBmb2N1cyB0aGUgZmlyc3QgY29uZW50IERPTS5cbiAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBuZXdJc09wZW4gfSwgKCkgPT4geyB0aGlzLnNldFN0YXRlKHsgcmVuZGVyUG9wcGVyOiBuZXdJc09wZW4gfSkgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2FuY2VsPy4oKVxuICAgIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIG9uQ29uZmlybSA9IChsaW5rUGFyYW06IElNTGlua1BhcmFtKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDb25maXJtPy4obGlua1BhcmFtKVxuICAgIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIGdldElzT3BlbiA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5pc09wZW4gJiYgIXVybFV0aWxzLmdldEFwcElkUGFnZUlkRnJvbVVybCgpLnBhZ2VJZFxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHRoZW1lLCBpbnRsLCBidXR0b25MYWJlbCwgLi4ub3RoZXJQcm9wcyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGxhYmVsID0gYnV0dG9uTGFiZWwgfHwgdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NldExpbmsnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNldExpbmsgfSlcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9J3ctMTAwIHRleHQtYmxhY2snIHR5cGU9J3ByaW1hcnknIG9uQ2xpY2s9e3RoaXMudG9nZ2xlfSByZWY9e3RoaXMubGlua1NlbGVjdG9yVHJpZ2dlcn0gdGl0bGU9e2xhYmVsfSA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIHB4LTIgdGV4dC10cnVuY2F0ZSc+XG4gICAgICAgICAgICA8TGlua1RpbHRlZE91dGxpbmVkIGNsYXNzTmFtZT0ndGV4dC1ibGFjayBtci0xJyAvPlxuICAgICAgICAgICAgeyBsYWJlbCB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZW5kZXJQb3BwZXIgJiZcbiAgICAgICAgPExpbmtTZWxlY3RvclNpZGVQb3BwZXIgey4uLm90aGVyUHJvcHN9IGlzT3Blbj17dGhpcy5nZXRJc09wZW4oKX0gcG9zaXRpb249J3JpZ2h0JyBvblNldHRpbmdDYW5jZWw9e3RoaXMub25DYW5jZWx9IG9uU2V0dGluZ0NvbmZpcm09e3RoaXMub25Db25maXJtfVxuICAgICAgICAgIHRyaWdnZXI9e3RoaXMubGlua1NlbGVjdG9yVHJpZ2dlci5jdXJyZW50fSB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH1cbiAgICAgICAgLz5cbiAgICAgICB9XG4gICAgICA8Lz5cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0byBzZXQgbGluaywgc3VjaCBhcyBsaW5rIHRvIGEgdmlldywgYSBwYWdlIG9yIHVybFxuICovXG5leHBvcnQgY29uc3QgTGlua1NlbGVjdG9yID0gd2l0aFRoZW1lKGluamVjdEludGw8J2ludGwnLCBMaW5rU2VsZWN0b3JQcm9wcyAmIEV4dHJhUHJvcHM+KF9MaW5rU2VsZWN0b3IpKVxuIiwiZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2xpbmstc2VsZWN0b3InXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci1zaWRlLXBvcHBlcidcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQnXG4iLCJpbXBvcnQgeyB0eXBlIEV4cHJlc3Npb24sIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIExpbmtUeXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBMaW5rVGFyZ2V0IH0gZnJvbSAnamltdS11aSdcblxuZXhwb3J0IGVudW0gT3BlblR5cGVzIHtcbiAgQ3VycmVudFdpbmRvdyA9ICdfc2VsZicsXG4gIFRvcFdpbmRvdyA9ICdfdG9wJyxcbiAgTmV3V2luZG93ID0gJ19ibGFuaydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5rUGFyYW0ge1xuICBsaW5rVHlwZT86IExpbmtUeXBlXG4gIG9wZW5UeXBlPzogTGlua1RhcmdldFxuICB2YWx1ZT86IHN0cmluZ1xuICBleHByZXNzaW9uPzogRXhwcmVzc2lvblxufVxuXG5leHBvcnQgdHlwZSBJTUxpbmtQYXJhbSA9IEltbXV0YWJsZU9iamVjdDxMaW5rUGFyYW0+XG4iLCJpbXBvcnQgeyB0eXBlIEZsYXRDb250YWluZXJNYXBzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xuaW1wb3J0IHsgdHlwZSBJTUFwcENvbmZpZyB9IGZyb20gJ2ppbXUtY29yZSdcblxuLy9PcHRpb24gbGlzdCBzdHlsZS5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uU3R5bGUge1xuICBpZD86IHN0cmluZ1xuICBsYWJlbDogc3RyaW5nXG4gIGhlYWRlcj86IGJvb2xlYW5cbiAgZGl2aWRlcj86IGJvb2xlYW5cbiAgaGVhZGVyTGFiZWw/OiBzdHJpbmdcbn1cbi8vRGl2aWRlciBpbiBvcHRpb24gbGlzdC5cbmV4cG9ydCBjb25zdCBkaXZpZGVyOiBPcHRpb25TdHlsZSA9IHtcbiAgbGFiZWw6ICdkaXZpZGVyJyxcbiAgZGl2aWRlcjogdHJ1ZVxufVxuXG4vL0RpdmlkZSBsaXN0cyBpbnRvIHBhZ2UgbGlzdCBhbmQgd2luZG93IGxpc3QuXG5leHBvcnQgY29uc3QgZ2V0QnJlYWtMaXN0ID0gKGJyZWFrZXI6IG51bWJlciwgc2VsZWN0TGlzdHM6IEZsYXRDb250YWluZXJNYXBzW10pID0+IHtcbiAgbGV0IHBhZ2VMaXN0OiBGbGF0Q29udGFpbmVyTWFwc1tdID0gW11cbiAgbGV0IGRpYWxvZ0xpc3Q6IEZsYXRDb250YWluZXJNYXBzW10gPSBbXVxuICBmb3IgKGxldCBpID0gMTsgaSA8IHNlbGVjdExpc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlbGVjdExpc3RzW2ldLnR5cGUgPT09ICdkaWFsb2dzJykge1xuICAgICAgYnJlYWtlciA9IGlcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGlmIChicmVha2VyID09PSAxICYmIHNlbGVjdExpc3RzWzFdPy50eXBlID09PSAnZGlhbG9ncycpIHtcbiAgICBkaWFsb2dMaXN0ID0gc2VsZWN0TGlzdHMuc2xpY2UoMSlcbiAgfSBlbHNlIGlmIChicmVha2VyID09PSAxICYmIHNlbGVjdExpc3RzWzFdPy50eXBlID09PSAncGFnZXMnKSB7XG4gICAgcGFnZUxpc3QgPSBzZWxlY3RMaXN0cy5zbGljZSgxKVxuICB9IGVsc2Uge1xuICAgIHBhZ2VMaXN0ID0gc2VsZWN0TGlzdHMuc2xpY2UoMSwgYnJlYWtlcilcbiAgICBkaWFsb2dMaXN0ID0gc2VsZWN0TGlzdHMuc2xpY2UoYnJlYWtlcilcbiAgfVxuICByZXR1cm4ge1xuICAgIHBhZ2VMaXN0OiBwYWdlTGlzdCxcbiAgICBkaWFsb2dMaXN0OiBkaWFsb2dMaXN0XG4gIH1cbn1cblxuLy9PcHRpb24gbGFiZWxzLlxuZXhwb3J0IGVudW0gTGFiZWxUeXBlIHtcbiAgUGFnZSA9ICdwYWdlcycsXG4gIERpYWxvZyA9ICdkaWFsb2dzJyxcbiAgV2lkZ2V0ID0gJ3dpZGdldHMnXG59XG5cbi8vU29ydCBwYWdlcywgZGlhbG9ncywgb3IgbWFwcyBieSBsYWJlbC5cbmV4cG9ydCBjb25zdCBzb3J0QnlMYWJlbCA9IChpdGVtcywgYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgdHlwZTogTGFiZWxUeXBlLlBhZ2UgfCBMYWJlbFR5cGUuRGlhbG9nIHwgTGFiZWxUeXBlLldpZGdldCkgPT4ge1xuICByZXR1cm4gaXRlbXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGxhYmVsQSA9IHR5cGUgPT09IExhYmVsVHlwZS5XaWRnZXQgPyBhcHBDb25maWdbdHlwZV1bYV0ubGFiZWwgOiBhcHBDb25maWdbdHlwZV1bYS5pZF0ubGFiZWxcbiAgICBjb25zdCBsYWJlbEIgPSB0eXBlID09PSBMYWJlbFR5cGUuV2lkZ2V0ID8gYXBwQ29uZmlnW3R5cGVdW2JdLmxhYmVsIDogYXBwQ29uZmlnW3R5cGVdW2IuaWRdLmxhYmVsXG4gICAgcmV0dXJuIGxhYmVsQS5sb2NhbGVDb21wYXJlKGxhYmVsQiwgd2luZG93Py5sb2NhbGUsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KVxuICB9KVxufVxuIiwiaW1wb3J0IHtcbiAgUmVhY3QsXG4gIHR5cGUgSU1TdGF0ZSxcbiAgdHlwZSBJbW11dGFibGVBcnJheSxcbiAgQ29udGFpbmVyVHlwZSxcbiAgUmVhY3RSZWR1eCxcbiAgdHlwZSBJTUFwcENvbmZpZyxcbiAgaG9va3Ncbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHtcbiAgU2VsZWN0LFxuICBPcHRpb24sXG4gIGRlZmF1bHRNZXNzYWdlcyxcbiAgQ29uZmlybURpYWxvZ1xufSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMsIHR5cGUgRmxhdENvbnRhaW5lck1hcHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyB0eXBlIE9wdGlvblN0eWxlLCBMYWJlbFR5cGUsIGRpdmlkZXIsIGdldEJyZWFrTGlzdCwgc29ydEJ5TGFiZWwgfSBmcm9tICcuLi9tYXAtc2VsZWN0b3ItdXRpbHMvdXRpbHMnXG5cbi8qKlxuICogVGhlIE1hcFdpZGdldFNlbGVjdG9yIGNvbXBvbmVudCBwcm9wc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1hcFdpZGdldFNlbGVjdG9yUHJvcHMge1xuICAvKipcbiAgICogVGhlIGFycmF5IG9mIE1hcCB3aWRnZXQgSURzLiBJdCBpcyByZXR1cm5lZCBmcm9tIHRoZSBvblNlbGVjdCBmdW5jdGlvbi5cbiAgICovXG4gIHVzZU1hcFdpZGdldElkcz86IEltbXV0YWJsZUFycmF5PHN0cmluZz5cblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBNYXAgd2lkZ2V0IGl0ZW0gbGlzdGVkIGluIHRoaXMgY29tcG9uZW50IGlzIHNlbGVjdGVkLlxuICAgKi9cbiAgb25TZWxlY3Q/OiAodXNlTWFwV2lkZ2V0SWRzOiBzdHJpbmdbXSkgPT4gdm9pZFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG5lZWQgYSBjb25maXJtIG1vZGFsIHBvcHVwIHdoZW4gY2hhbmdlZCB0aGUgY29ubmVjdGVkIG1hcCB3aWRnZXQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBpc05lZWRDb25maXJtQmVmb3JlQ2hhbmdlPzogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBjb25maXJtIHRleHQgaWYgbmVlZCBhIGNvbmZpcm0gbW9kYWwuXG4gICAqL1xuICBjb25maXJtTWVzc2FnZT86IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBUbyBwcm92aWRlIGEgbGFiZWwgZm9yIGludGVyYWN0aXZlIGNvbXBvbmVudHMgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBhY2Nlc3NpYmxlIG5hbWUgaXMgY29tcHV0ZWQgZnJvbSBhbnkgdGV4dCBjb250ZW50IGluc2lkZSB0aGUgZWxlbWVudC5cbiAgICovXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBUbyBwcm92aWRlIGEgZGVzY3JpcHRpb24gZm9yIGludGVyYWN0aXZlIGNvbXBvbmVudHMgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqIGBhcmlhLWRlc2NyaWJlZHlgIGhhcyBhIGhpZ2ggcHJpb3JpdHkgdGhhbiBgYTExeS1kZXNjcmlwdGlvbmAuXG4gICAqL1xuICAnYTExeS1kZXNjcmlwdGlvbic/OiBzdHJpbmdcblxuICAvKipcbiAgICogSWRlbnRpZmllcyB0aGUgZWxlbWVudCAob3IgZWxlbWVudHMpIHRoYXQgZGVzY3JpYmVzIHRoZSBvYmplY3QgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqL1xuICAnYXJpYS1kZXNjcmliZWRieSc/OiBzdHJpbmdcbn1cblxuLy9HZXQgdGhlIG9wdGlvbiBsaXN0IG9mIGFsbCBwYWdlcyBhbmQgd2luZG93cywgZmlyc3QgaXMgdGhlIGN1cnJlbnQgcGFnZSwgdGhlbiBpcyB0aGUgb3RoZXIgcGFnZXMsIGFuZCB0aGVuIGlzIHRoZSBvdGhlciB3aW5kb3dzLlxuY29uc3QgZ2V0T3B0aW9uTGlzdCA9IChzZWxlY3RMaXN0czogRmxhdENvbnRhaW5lck1hcHNbXSwgYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgY3VycmVudENvbnRhaW5lclR5cGU6IENvbnRhaW5lclR5cGUsIHRyYW5zbGF0ZSkgPT4ge1xuICBjb25zdCBPcHRpb25MaXN0ID0gW11cblxuICBjb25zdCBjdXJyZW50TWFwRXhpc3Q6IGJvb2xlYW4gPSBzZWxlY3RMaXN0c1swXS5tYXBzLmxlbmd0aCA+IDBcblxuICAvL0dldCB0aGUgY3VycmVudCBwYWdlIG9yIHdpbmRvdyBsaXN0LlxuICBpZiAoY3VycmVudE1hcEV4aXN0KSB7XG4gICAgLy9BZGQgZGl2aWRlciBhZnRlciBOb25lIG9wdGlvbi5cbiAgICBPcHRpb25MaXN0LnB1c2goZGl2aWRlcilcbiAgICBjb25zdCBjdXJyZW50SGVhZGVyOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgIGhlYWRlcjogdHJ1ZSxcbiAgICAgIGxhYmVsOiBjdXJyZW50Q29udGFpbmVyVHlwZSA9PT0gQ29udGFpbmVyVHlwZS5EaWFsb2cgPyB0cmFuc2xhdGUoJ2N1cnJlbnRXaW5kb3cnKSA6IHRyYW5zbGF0ZSgnY3VycmVudFBhZ2UnKVxuICAgIH1cbiAgICBPcHRpb25MaXN0LnB1c2goY3VycmVudEhlYWRlcilcblxuICAgIGNvbnN0IHNvcnRlZEN1cnJlbnRQYWdlTWFwTGlzdCA9IHNvcnRCeUxhYmVsKHNlbGVjdExpc3RzWzBdLm1hcHMsIGFwcENvbmZpZywgTGFiZWxUeXBlLldpZGdldClcbiAgICBzb3J0ZWRDdXJyZW50UGFnZU1hcExpc3QuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRPcHRpb246IE9wdGlvblN0eWxlID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIGxhYmVsOiBhcHBDb25maWcud2lkZ2V0c1tpZF0ubGFiZWwsXG4gICAgICAgIGhlYWRlckxhYmVsOiBjdXJyZW50Q29udGFpbmVyVHlwZSA9PT0gQ29udGFpbmVyVHlwZS5EaWFsb2cgPyB0cmFuc2xhdGUoJ2N1cnJlbnRXaW5kb3cnKSA6IHRyYW5zbGF0ZSgnY3VycmVudFBhZ2UnKVxuICAgICAgfVxuICAgICAgT3B0aW9uTGlzdC5wdXNoKGN1cnJlbnRPcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGJyZWFrTGlzdCA9IGdldEJyZWFrTGlzdCgxLCBzZWxlY3RMaXN0cylcblxuICBsZXQgcGFnZURpdmlkZXI6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8vR2V0IHRoZSBvcHRpb24gbGlzdCBvZiBwYWdlcy5cbiAgY29uc3Qgc29ydGVkUGFnZUxpc3QgPSBzb3J0QnlMYWJlbChicmVha0xpc3QucGFnZUxpc3QsIGFwcENvbmZpZywgTGFiZWxUeXBlLlBhZ2UpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnJlYWtMaXN0LnBhZ2VMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGJyZWFrTGlzdC5wYWdlTGlzdFtpXS5tYXBzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghcGFnZURpdmlkZXIpIHtcbiAgICAgICAgT3B0aW9uTGlzdC5wdXNoKGRpdmlkZXIpXG4gICAgICAgIHBhZ2VEaXZpZGVyID0gdHJ1ZVxuICAgICAgfVxuICAgICAgY29uc3Qgb3RoZXJIZWFkZXI6IE9wdGlvblN0eWxlID0ge1xuICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgIGxhYmVsOiBhcHBDb25maWcucGFnZXNbc29ydGVkUGFnZUxpc3RbaV0uaWRdLmxhYmVsXG4gICAgICB9XG4gICAgICBPcHRpb25MaXN0LnB1c2gob3RoZXJIZWFkZXIpXG4gICAgICBjb25zdCBzb3J0ZWRNYXBMaXN0ID0gc29ydEJ5TGFiZWwoc29ydGVkUGFnZUxpc3RbaV0ubWFwcywgYXBwQ29uZmlnLCBMYWJlbFR5cGUuV2lkZ2V0KVxuICAgICAgc29ydGVkTWFwTGlzdC5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICBjb25zdCBvdGhlck9wdGlvbjogT3B0aW9uU3R5bGUgPSB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGxhYmVsOiBhcHBDb25maWcud2lkZ2V0c1tpZF0ubGFiZWwsXG4gICAgICAgICAgaGVhZGVyTGFiZWw6IGFwcENvbmZpZy5wYWdlc1tzb3J0ZWRQYWdlTGlzdFtpXS5pZF0ubGFiZWxcbiAgICAgICAgfVxuICAgICAgICBPcHRpb25MaXN0LnB1c2gob3RoZXJPcHRpb24pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vR2V0IHRoZSBvcHRpb24gbGlzdCBvZiB3aW5kb3dzLlxuICBpZiAoYnJlYWtMaXN0LmRpYWxvZ0xpc3QpIHtcbiAgICBsZXQgZGlhbG9nRGl2aWRlcjogYm9vbGVhbiA9IGZhbHNlXG4gICAgY29uc3Qgc29ydGVkRGlhbG9nTGlzdCA9IHNvcnRCeUxhYmVsKGJyZWFrTGlzdC5kaWFsb2dMaXN0LCBhcHBDb25maWcsIExhYmVsVHlwZS5EaWFsb2cpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBicmVha0xpc3QuZGlhbG9nTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJyZWFrTGlzdC5kaWFsb2dMaXN0W2ldLm1hcHMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoIWRpYWxvZ0RpdmlkZXIpIHtcbiAgICAgICAgICBPcHRpb25MaXN0LnB1c2goZGl2aWRlcilcbiAgICAgICAgICBkaWFsb2dEaXZpZGVyID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG90aGVySGVhZGVyOiBPcHRpb25TdHlsZSA9IHtcbiAgICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgICAgbGFiZWw6IGFwcENvbmZpZy5kaWFsb2dzW3NvcnRlZERpYWxvZ0xpc3RbaV0uaWRdLmxhYmVsXG4gICAgICAgIH1cbiAgICAgICAgT3B0aW9uTGlzdC5wdXNoKG90aGVySGVhZGVyKVxuICAgICAgICBjb25zdCBzb3J0ZWRNYXBMaXN0ID0gc29ydEJ5TGFiZWwoc29ydGVkRGlhbG9nTGlzdFtpXS5tYXBzLCBhcHBDb25maWcsIExhYmVsVHlwZS5XaWRnZXQpXG4gICAgICAgIHNvcnRlZE1hcExpc3QuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICBjb25zdCBvdGhlck9wdGlvbjogT3B0aW9uU3R5bGUgPSB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBsYWJlbDogYXBwQ29uZmlnLndpZGdldHNbaWRdLmxhYmVsLFxuICAgICAgICAgICAgaGVhZGVyTGFiZWw6IGFwcENvbmZpZy5kaWFsb2dzW3NvcnRlZERpYWxvZ0xpc3RbaV0uaWRdLmxhYmVsXG4gICAgICAgICAgfVxuICAgICAgICAgIE9wdGlvbkxpc3QucHVzaChvdGhlck9wdGlvbilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gT3B0aW9uTGlzdFxufVxuXG5jb25zdCB7IHVzZVN0YXRlIH0gPSBSZWFjdFxuXG5leHBvcnQgY29uc3QgX01hcFdpZGdldFNlbGVjdG9yID0gKHByb3BzOiBNYXBXaWRnZXRTZWxlY3RvclByb3BzKSA9PiB7XG4gIGNvbnN0IHsgb25TZWxlY3QsIGlzTmVlZENvbmZpcm1CZWZvcmVDaGFuZ2UgfSA9IHByb3BzXG4gIGNvbnN0IHRyYW5zbGF0ZSA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGRlZmF1bHRNZXNzYWdlcylcbiAgY29uc3QgW2NvbmZpcm1EaWFsb2dPcGVuLCBzZXRDb25maXJtRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkVmFsdWUsIHNldFNlbGVjdGVkVmFsdWVdID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3Qgbm9uZU1hcFdpZGdldDogT3B0aW9uU3R5bGUgPSB7IGlkOiAnbm9uZScsIGxhYmVsOiB0cmFuc2xhdGUoJ25vbmUnKSB9XG5cbiAgY29uc3QgYXBwQ29uZmlnID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gd2luZG93Py5qaW11Q29uZmlnPy5pc0J1aWxkZXIgPyBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnIDogc3RhdGUuYXBwQ29uZmlnXG4gIH0pXG4gIGNvbnN0IGJyb3dzZXJTaXplTW9kZSA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5icm93c2VyU2l6ZU1vZGVcbiAgfSlcbiAgY29uc3QgY3VycmVudFBhZ2VJZCA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mby5jdXJyZW50UGFnZUlkXG4gIH0pXG4gIGNvbnN0IGN1cnJlbnREaWFsb2dJZCA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mby5jdXJyZW50RGlhbG9nSWRcbiAgfSlcbiAgY29uc3QgY3VycmVudENvbnRhaW5lclR5cGU6IENvbnRhaW5lclR5cGUgPSBjdXJyZW50RGlhbG9nSWQgPyBDb250YWluZXJUeXBlLkRpYWxvZyA6IENvbnRhaW5lclR5cGUuUGFnZVxuICBjb25zdCBjdXJyZW50SWQgPSBjdXJyZW50RGlhbG9nSWQgfHwgY3VycmVudFBhZ2VJZFxuICBjb25zdCBtYXBXaWRnZXRKc29ucyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdExpc3RzOiBGbGF0Q29udGFpbmVyTWFwc1tdID0gc2VhcmNoVXRpbHMuZ2V0TWFwV2lkZ2V0cyhhcHBDb25maWcgYXMgYW55LCBicm93c2VyU2l6ZU1vZGUsIGN1cnJlbnRDb250YWluZXJUeXBlLCBjdXJyZW50SWQpXG4gICAgcmV0dXJuIGdldE9wdGlvbkxpc3Qoc2VsZWN0TGlzdHMsIGFwcENvbmZpZywgY3VycmVudENvbnRhaW5lclR5cGUsIHRyYW5zbGF0ZSlcbiAgfSwgW2FwcENvbmZpZywgYnJvd3NlclNpemVNb2RlLCBjdXJyZW50Q29udGFpbmVyVHlwZSwgY3VycmVudElkLCB0cmFuc2xhdGVdKVxuXG4gIGNvbnN0IGdldFNlbGVjdGVkTWFwV2lkZ2V0ID0gKCkgPT4ge1xuICAgIGlmICghcHJvcHMudXNlTWFwV2lkZ2V0SWRzIHx8IHByb3BzLnVzZU1hcFdpZGdldElkcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkTWFwV2lkZ2V0SWQgPSBwcm9wcy51c2VNYXBXaWRnZXRJZHNbMF1cbiAgICByZXR1cm4gbWFwV2lkZ2V0SnNvbnMuZmluZCh3ID0+IHcuaWQgPT09IHNlbGVjdGVkTWFwV2lkZ2V0SWQpIHx8IG51bGxcbiAgfVxuXG4gIGNvbnN0IFtjdXJyZW50TWFwSWQsIHNldEN1cnJlbnRNYXBJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KHByb3BzLnVzZU1hcFdpZGdldElkcz8uWzBdIHx8IG51bGwpXG5cbiAgY29uc3QgcHJldmlvdXNWYWx1ZVJlZiA9IFJlYWN0LnVzZVJlZihjdXJyZW50TWFwSWQpXG5cbiAgaG9va3MudXNlVXBkYXRlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRDdXJyZW50TWFwSWQocHJvcHMudXNlTWFwV2lkZ2V0SWRzPy5bMF0gfHwgbnVsbClcbiAgICBwcmV2aW91c1ZhbHVlUmVmLmN1cnJlbnQgPSBwcm9wcy51c2VNYXBXaWRnZXRJZHM/LlswXSB8fCBudWxsXG4gIH0sIFtwcm9wcy51c2VNYXBXaWRnZXRJZHNdKVxuXG4gIGNvbnN0IG9uQ2xpY2sgPSBlID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZE1hcFdpZGdldElkID0gZS50YXJnZXQudmFsdWVcblxuICAgIGlmIChzZWxlY3RlZE1hcFdpZGdldElkID09PSBjdXJyZW50TWFwSWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHVzZU1hcFdpZGdldElkczogc3RyaW5nW10gPSBzZWxlY3RlZE1hcFdpZGdldElkID09PSBub25lTWFwV2lkZ2V0LmlkID8gW10gOiBbc2VsZWN0ZWRNYXBXaWRnZXRJZF1cblxuICAgIGlmIChpc05lZWRDb25maXJtQmVmb3JlQ2hhbmdlKSB7XG4gICAgICBpZiAocHJldmlvdXNWYWx1ZVJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgIG9uU2VsZWN0Py4odXNlTWFwV2lkZ2V0SWRzKVxuICAgICAgICBzZXRDdXJyZW50TWFwSWQoc2VsZWN0ZWRNYXBXaWRnZXRJZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldENvbmZpcm1EaWFsb2dPcGVuKHRydWUpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uU2VsZWN0Py4odXNlTWFwV2lkZ2V0SWRzKVxuICAgICAgc2V0Q3VycmVudE1hcElkKHNlbGVjdGVkTWFwV2lkZ2V0SWQpXG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRWYWx1ZShzZWxlY3RlZE1hcFdpZGdldElkKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTWFwQ2hhbmdlT2sgPSAoKSA9PiB7XG4gICAgc2V0Q29uZmlybURpYWxvZ09wZW4oZmFsc2UpXG4gICAgY29uc3Qgc2VsZWN0ZWRNYXBXaWRnZXRJZCA9IHNlbGVjdGVkVmFsdWVcbiAgICBjb25zdCB1c2VNYXBXaWRnZXRJZHM6IHN0cmluZ1tdID0gc2VsZWN0ZWRNYXBXaWRnZXRJZCA9PT0gbm9uZU1hcFdpZGdldC5pZCA/IFtdIDogW3NlbGVjdGVkTWFwV2lkZ2V0SWRdXG4gICAgb25TZWxlY3Q/Lih1c2VNYXBXaWRnZXRJZHMpXG4gICAgc2V0Q3VycmVudE1hcElkKHNlbGVjdGVkVmFsdWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVNYXBDaGFuZ2VDYW5jZWwgPSAoKSA9PiB7XG4gICAgc2V0Q29uZmlybURpYWxvZ09wZW4oZmFsc2UpXG4gIH1cblxuICBjb25zdCBzZWxlY3RlZE1hcFdpZGdldCA9IGdldFNlbGVjdGVkTWFwV2lkZ2V0KClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBjb21wb25lbnQtbWFwLXNlbGVjdG9yJz5cbiAgICAgIDxTZWxlY3Qgc2l6ZT0nc20nIHZhbHVlPXtzZWxlY3RlZE1hcFdpZGdldCA/IHNlbGVjdGVkTWFwV2lkZ2V0LmlkIDogbm9uZU1hcFdpZGdldC5pZH1cbiAgICAgICAgYXJpYS1sYWJlbD17cHJvcHNbJ2FyaWEtbGFiZWwnXSB8fCB0cmFuc2xhdGUoJ3NlbGVjdE1hcFdpZGdldCcpfSBhcmlhLWRlc2NyaWJlZGJ5PXtwcm9wc1snYXJpYS1kZXNjcmliZWRieSddfSBhbGx5LWRlc2NyaXB0aW9uPXtwcm9wc1snYWxseS1kZXNjcmlwdGlvbiddfVxuICAgICAgPlxuICAgICAgICB7XG4gICAgICAgICAgW25vbmVNYXBXaWRnZXRdLmNvbmNhdChtYXBXaWRnZXRKc29ucykubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8T3B0aW9uIGhlYWRlcj17b3B0aW9uLmhlYWRlcn0gZGl2aWRlcj17b3B0aW9uLmRpdmlkZXJ9IHZhbHVlPXtvcHRpb24uaWR9IGtleT17aW5kZXh9IG9uQ2xpY2s9e29uQ2xpY2t9PlxuICAgICAgICAgICAgICAgIHshb3B0aW9uLmhlYWRlciAmJiA8ZGl2IGNsYXNzTmFtZT0nc3Itb25seSc+e29wdGlvbi5oZWFkZXJMYWJlbH08L2Rpdj59XG4gICAgICAgICAgICAgICAge29wdGlvbi5sYWJlbH1cbiAgICAgICAgICAgICAgPC9PcHRpb24+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC9TZWxlY3Q+XG4gICAgICB7Y29uZmlybURpYWxvZ09wZW4gJiYgPENvbmZpcm1EaWFsb2dcbiAgICAgICAgbGV2ZWw9J2luZm8nXG4gICAgICAgIHRpdGxlPXt0cmFuc2xhdGUoJ2NvbmZpcm1UaXRsZScpfVxuICAgICAgICBoYXNOb3RTaG93QWdhaW5PcHRpb249e2ZhbHNlfVxuICAgICAgICBjb250ZW50PXtwcm9wcy5jb25maXJtTWVzc2FnZX1cbiAgICAgICAgb25Db25maXJtPXtoYW5kbGVNYXBDaGFuZ2VPa31cbiAgICAgICAgb25DbG9zZT17aGFuZGxlTWFwQ2hhbmdlQ2FuY2VsfVxuICAgICAgLz59XG4gICAgPC9kaXY+XG4gIClcbn1cblxuLyoqXG4gKiBBIHJlYWN0IGNvbXBvbmVudCBmb3Igc2VsZWN0aW5nIE1hcCB3aWRnZXRzLiBJdCBpcyB1c3VhbGx5IHVzZWQgb24gdGhlIHNldHRpbmcgcGFnZSBvZiBhIHdpZGdldCxcbiAqIGFuZCB3b3JrcyB3aXRoIEppbXVNYXBWaWV3Q29tcG9uZW50LCBKaW11TGF5ZXJWaWV3Q29tcG9uZW50LCBKaW11TWFwVmlld1MgYW5kIEppbXVMYXllclZpZXdTZWxlY3Rvci5cbiAqL1xuZXhwb3J0IGNvbnN0IE1hcFdpZGdldFNlbGVjdG9yID0gX01hcFdpZGdldFNlbGVjdG9yXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IE1hcFZpZXdNYW5hZ2VyIH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgeyB0eXBlIElNU3RhdGUsIFJlYWN0LCBSZWFjdFJlZHV4LCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBEYXRhU291cmNlLCBqc3gsIGNzcywgRGF0YVNvdXJjZVN0YXR1cywgaG9va3MgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBXYXJuaW5nT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93YXJuaW5nJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBUb29sdGlwIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IFNpZGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbmltcG9ydCB7IExpc3QsIHR5cGUgVHJlZUFjdGlvbkRhdGFUeXBlLCB0eXBlIFRyZWVJdGVtc1R5cGUsIHR5cGUgX1RyZWVJdGVtIH0gZnJvbSAnamltdS11aS9iYXNpYy9saXN0LXRyZWUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTXVsdGlwbGVKaW11TWFwQ29uZmlnUHJvcHMge1xuICAvKiogVGhlIG1hcCB3aWRnZXQgSUQgdGhhdCBpcyB1c2luZyB0aGlzIGNvbXBvbmVudC4gKi9cbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xuICAvKiogVGhlIEpTWCBjb250ZW50IHRoYXQgeW91IHdhbnQgdG8gcHV0IGluIHRoZSBgU2lkZVBvcHBlcmAgcGFuZWwuIERPIE5PVCB3cmFwIGl0IHdpdGggdGhlIGBTaWRlUG9wcGVyYCBjb21wb25lbnQuICovXG4gIHNpZGVQb3BwZXJDb250ZW50PzogSlNYLkVsZW1lbnRcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZGlzYWJsZSB0aGUgbWFwLXN3aXRjaCBiZWhhdmlvciB3aGVuIGNsaWNraW5nIG9uIGRpZmZlcmVudCBgSmltdU1hcGAgaXRlbXMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlU3dpdGNoTWFwPzogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciB0byBkaXNhYmxlIHRoZSB3aG9sZSBsaXN0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuXG4gIC8qKiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gb2YgY2xpY2tpbmcgYW4gaXRlbSBpbiB0aGUgbGlzdC4gKi9cbiAgb25DbGljaz86IChkYXRhU291cmNlSWQ6IHN0cmluZykgPT4gdm9pZFxuICAvKipcbiAgICogVXNlZCBmb3IgY2hlY2tpbmcgd2hldGhlciBhIHNwZWNpZmljIGBkYXRhU291cmNlSWRgIGlzIHZhbGlkIGZvciBjb25maWd1cmF0aW9uLlxuICAgKiBJdCB3aWxsIHNob3cgYSB3YXJuaW5nIGljb24gaWYgdGhlIHJldHVybiB2YWx1ZSBpcyBgZmFsc2VgLlxuICAgKi9cbiAgaXNEYXRhU291cmNlVmFsaWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFRoZSB0b29sdGlwIHRoYXQgc2hvd3MgdXAgd2hlbiBob3ZlcmluZyBvbiBhbiBpbnZhbGlkIGRhdGEgc291cmNlJ3Mgd2FybmluZyBpY29uLlxuICAgKi9cbiAgaW52YWxpZERhdGFTb3VyY2VUb29sdGlwPzogc3RyaW5nXG4gIC8qKlxuICAgKiBEaXNwbGF5IGEgZGVmYXVsdCBgSmltdU1hcGAgaXRlbSB3aGVuIG5vIHdlYiBtYXAgaXMgYWRkZWQgdG8gdGhlIG1hcCB3aWRnZXQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBzaG93RGVmYXVsdE1hcFdoZW5FbXB0eT86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEZvcndhcmRSZWYgdG8gY29tcG9uZW50IG91dGVyIGRpdi5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZm9yd2FyZFJlZj86IChyZWY6IGFueSkgPT4gdm9pZFxufVxuXG5jb25zdCBnZXRTdHlsZSA9ICgpID0+IHtcbiAgcmV0dXJuIGNzc2BcbiAgICAuamltdS10cmVlLWl0ZW1fX2ljb24ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW5mby00MDApO1xuICAgICAgd2lkdGg6IDFyZW07XG4gICAgICBoZWlnaHQ6IDFyZW07XG4gICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICAgIHN2ZyB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMCFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIC5qaW11LXRyZWUtaXRlbV9fYm9keSB7XG4gICAgICAuamltdS1pY29uIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kYW5nZXItNzAwKTtcbiAgICAgIH1cbiAgICAgIC5qaW11LXRyZWUtaXRlbV9fbWFpbi1saW5lIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgIH1cbiAgYFxufVxuXG5mdW5jdGlvbiBfTXVsdGlwbGVKaW11TWFwQ29uZmlnIChwcm9wczogTXVsdGlwbGVKaW11TWFwQ29uZmlnUHJvcHMpIHtcbiAgY29uc3QgeyBtYXBXaWRnZXRJZCwgZGlzYWJsZWQsIGRpc2FibGVTd2l0Y2hNYXAgPSBmYWxzZSwgb25DbGljaywgc2lkZVBvcHBlckNvbnRlbnQsIGlzRGF0YVNvdXJjZVZhbGlkLCBpbnZhbGlkRGF0YVNvdXJjZVRvb2x0aXAsIHNob3dEZWZhdWx0TWFwV2hlbkVtcHR5LCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzXG4gIGNvbnN0IGN1cnJlbnRBY3RpdmVKbXZJZFJlZiA9IFJlYWN0LnVzZVJlZignJylcbiAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpXG4gIGNvbnN0IFtzaG93UG9wcGVyLCBzZXRTaG93UG9wcGVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbY3VycmVudFRpdGxlLCBzZXRDdXJyZW50VGl0bGVdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gIGNvbnN0IFtjdXJyZW50RHNJZCwgc2V0Q3VycmVudERzSWRdID0gUmVhY3QudXNlU3RhdGUobnVsbClcbiAgY29uc3QgW2RlZmF1bHREc0lkLCBzZXREZWZhdWx0RHNJRF0gPSBSZWFjdC51c2VTdGF0ZShudWxsKVxuICBjb25zdCBqaW11TWFwVmlld0dyb3VwID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0dyb3VwKG1hcFdpZGdldElkKVxuICBjb25zdCBbYWxsRGF0YVNvdXJjZXNSZWFkeSwgc2V0QWxsRGF0YVNvdXJjZXNSZWFkeV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgdHJhbnNsYXRlID0gaG9va3MudXNlVHJhbnNsYXRpb24oZGVmYXVsdE1lc3NhZ2VzKVxuXG4gIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICBjb25zdCBhcHBTdGF0ZSA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyXG4gICAgY29uc3QgdXNlRGF0YVNvdXJjZXNDb25maWcgPSBhcHBTdGF0ZSAmJiBhcHBTdGF0ZT8uYXBwQ29uZmlnPy53aWRnZXRzPy5bbWFwV2lkZ2V0SWRdPy51c2VEYXRhU291cmNlc1xuICAgIHJldHVybiB1c2VEYXRhU291cmNlc0NvbmZpZ1xuICB9KVxuXG4gIGNvbnN0IGRhdGFTb3VyY2VzSW5mbyA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgY29uc3QgYXBwU3RhdGUgPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlclxuICAgIGNvbnN0IGRhdGFTb3VyY2VzSW5mb0NvbmZpZyA9IGFwcFN0YXRlICYmIGFwcFN0YXRlPy5kYXRhU291cmNlc0luZm9cbiAgICByZXR1cm4gZGF0YVNvdXJjZXNJbmZvQ29uZmlnXG4gIH0sIChvbGREc3NJbmZvLCBuZXdEc3NJbmZvKSA9PiB7XG4gICAgaWYgKCF1c2VEYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCB1c2VEYXRhU291cmNlIG9mIHVzZURhdGFTb3VyY2VzKSB7XG4gICAgICAgIGlmIChvbGREc3NJbmZvICYmIG5ld0Rzc0luZm8gJiYgKG9sZERzc0luZm9bdXNlRGF0YVNvdXJjZS5kYXRhU291cmNlSWRdICE9PSBuZXdEc3NJbmZvW3VzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0pXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBXaGVuIHRoZSBjb25uZWN0ZWQgZGF0YVNvdXJjZXMgYXJlIG5vdCByZWFkeSwgY2hlY2sgdGhlIGxvYWRpbmcgc3RhdHVzXG4gICAgaWYgKCFhbGxEYXRhU291cmNlc1JlYWR5KSB7XG4gICAgICAvLyBXaGVuIGNvbm5lY3QgdG8gYW4gZW1wdHkgbWFwLCB0aGUgdXNlRGF0YVNvdXJjZXMgZmllbGQgaXMgdW5kZWZpbmVkXG4gICAgICBpZiAoIXVzZURhdGFTb3VyY2VzIHx8IHVzZURhdGFTb3VyY2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0QWxsRGF0YVNvdXJjZXNSZWFkeSh0cnVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHJlYWR5Q291bnQgPSAwXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB1c2VEYXRhU291cmNlcykge1xuICAgICAgICAgIGNvbnN0IGRzSW5mbyA9IGRhdGFTb3VyY2VzSW5mbz8uW2l0ZW0uZGF0YVNvdXJjZUlkXVxuICAgICAgICAgIGlmIChkc0luZm8gJiYgKGRzSW5mby5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVkIHx8IGRzSW5mby5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVFcnJvcikpIHtcbiAgICAgICAgICAgIHJlYWR5Q291bnQrK1xuICAgICAgICAgICAgaWYgKHJlYWR5Q291bnQgPT09IHVzZURhdGFTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBzZXRBbGxEYXRhU291cmNlc1JlYWR5KHRydWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbYWxsRGF0YVNvdXJjZXNSZWFkeSwgZGF0YVNvdXJjZXNJbmZvLCB1c2VEYXRhU291cmNlc10pXG5cbiAgY29uc3QgZ2V0U2tlbGV0b25MaXN0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IFNLRUxFVE9OX05VTSA9IDJcbiAgICBjb25zdCBza2VsZXRvbkl0ZW1zID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNLRUxFVE9OX05VTTsgaSsrKSB7XG4gICAgICBza2VsZXRvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpdGVtS2V5OiBpLnRvU3RyaW5nKCksXG4gICAgICAgIGl0ZW1TdGF0ZUNvbW1hbmRzOiBbe1xuICAgICAgICAgIGljb25Qcm9wczogKCkgPT4gKHsgaWNvbjogJyAnLCBzaXplOiAxMiwgc3R5bGU6IHsgb3BhY2l0eTogMCB9IH0pXG4gICAgICAgIH1dXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gPExpc3RcbiAgICAgIGNsYXNzTmFtZT0ndy0xMDAnXG4gICAgICBpdGVtc0pzb249e3NrZWxldG9uSXRlbXN9XG4gICAgICBkbmRFbmFibGVkPXtmYWxzZX1cbiAgICAgIGhhbmRsZUNsaWNrSXRlbUJvZHk9eygpID0+IHt9fVxuICAgIC8+XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGdldERhdGFTb3VyY2VMYWJlbCA9IFJlYWN0LnVzZUNhbGxiYWNrKChkc09iajogRGF0YVNvdXJjZSk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFkc09iaikge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIGNvbnN0IGxhYmVsID0gZHNPYmouZ2V0TGFiZWwoKVxuICAgIHJldHVybiBsYWJlbCB8fCBkc09iaj8uZ2V0RGF0YVNvdXJjZUpzb24oKS5zb3VyY2VMYWJlbCB8fCBkc09iai5pZFxuICB9LCBbXSlcblxuICBjb25zdCBkZWZhdWx0SXRlbXNKc29uOiBUcmVlSXRlbXNUeXBlID0gKHVzZURhdGFTb3VyY2VzPy5hc011dGFibGUoKSlcbiAgICA/LnNvcnQoKHVzZURzMSwgdXNlRHMyKSA9PiB1c2VEczEuZGF0YVNvdXJjZUlkLmxvY2FsZUNvbXBhcmUodXNlRHMyLmRhdGFTb3VyY2VJZCkpXG4gICAgPy5tYXAodXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgICBjb25zdCBkc09iaiA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh1c2VEYXRhU291cmNlLmRhdGFTb3VyY2VJZClcbiAgICAgIGxldCBpdGVtID0gbnVsbFxuICAgICAgaWYgKGRzT2JqKSB7XG4gICAgICAgIGl0ZW0gPSB7XG4gICAgICAgICAgaXRlbVN0YXRlVGl0bGU6IGdldERhdGFTb3VyY2VMYWJlbChkc09iaiksXG4gICAgICAgICAgaXRlbVN0YXRlQ2hlY2tlZDogdXNlRGF0YVNvdXJjZS5kYXRhU291cmNlSWQgPT09IGN1cnJlbnRBY3RpdmVKbXZJZFJlZi5jdXJyZW50LFxuICAgICAgICAgIGl0ZW1LZXk6IGAke3VzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkfWAsXG4gICAgICAgICAgaXRlbVN0YXRlRGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0gPSB7XG4gICAgICAgICAgaXRlbVN0YXRlVGl0bGU6IHRyYW5zbGF0ZSgnbm9uZScpLFxuICAgICAgICAgIGl0ZW1LZXk6IGAke3VzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkfWAsXG4gICAgICAgICAgaXRlbVN0YXRlRGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9KVxuXG4gIGNvbnN0IGdldEl0ZW1zSnNvbiA9ICgpID0+IHtcbiAgICBpZiAoc2hvd0RlZmF1bHRNYXBXaGVuRW1wdHkgJiYgKCF1c2VEYXRhU291cmNlcyB8fCB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDApKSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgaXRlbVN0YXRlVGl0bGU6IHRyYW5zbGF0ZSgnbXVsdGlwbGVNYXBEZWZhdWx0V2ViTWFwJyksXG4gICAgICAgIGl0ZW1LZXk6ICdkZWZhdWx0JyxcbiAgICAgICAgaXRlbVN0YXRlQ2hlY2tlZDogY3VycmVudEFjdGl2ZUptdklkUmVmLmN1cnJlbnQgPT09ICdkZWZhdWx0JyxcbiAgICAgICAgaXRlbVN0YXRlRGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICB9XVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEl0ZW1zSnNvblxuICAgIH1cbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFqaW11TWFwVmlld0dyb3VwPy5qaW11TWFwVmlld3MpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBqbXZQcm9taXNlcyA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3R3JvdXA/LmppbXVNYXBWaWV3cykubWFwKGptdklkID0+IHtcbiAgICAgIHJldHVybiBqaW11TWFwVmlld0dyb3VwPy5qaW11TWFwVmlld3Nbam12SWRdLndoZW5KaW11TWFwVmlld0xvYWRlZCgpXG4gICAgfSlcbiAgICBQcm9taXNlLmFsbChqbXZQcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAvLyBHZXQgYWN0aXZlIGppbXVNYXBWaWV3IHdoZW4gYWxsIHZpZXdzIGFyZSByZWFkeSwgc2V0IHRvICcgJyBmb3IgZW1wdHkgbWFwXG4gICAgICBjb25zdCBhY3RpdmVEc0lkID0gamltdU1hcFZpZXdHcm91cD8uZ2V0QWN0aXZlSmltdU1hcFZpZXcoKS5kYXRhU291cmNlSWRcbiAgICAgIHNldEN1cnJlbnREc0lkKGFjdGl2ZURzSWQubGVuZ3RoID4gMCA/IGFjdGl2ZURzSWQgOiAnICcpXG4gICAgICBzZXREZWZhdWx0RHNJRChhY3RpdmVEc0lkLmxlbmd0aCA+IDAgPyBhY3RpdmVEc0lkIDogJyAnKVxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9KVxuICB9LCBbamltdU1hcFZpZXdHcm91cCwgamltdU1hcFZpZXdHcm91cD8uamltdU1hcFZpZXdzXSlcblxuICAvLyBVc2VkIGZvciBzd2l0Y2ggbWFwXG5cbiAgY29uc3QgaGFuZGxlQ2xpY2tXaXRoU3dpdGNoTWFwID0gUmVhY3QudXNlQ2FsbGJhY2soKGFjdGlvbkRhdGE6IFRyZWVBY3Rpb25EYXRhVHlwZSwgcmVmQ29tcG9uZW50OiBfVHJlZUl0ZW0pID0+IHtcbiAgICBjb25zdCB7IGl0ZW1Kc29ucyB9ID0gcmVmQ29tcG9uZW50LnByb3BzXG4gICAgY29uc3QgY3VycmVudEl0ZW1Kc29uID0gaXRlbUpzb25zWzBdXG5cbiAgICBpZiAoaXNEYXRhU291cmNlVmFsaWQgJiYgIWlzRGF0YVNvdXJjZVZhbGlkKGN1cnJlbnRJdGVtSnNvbi5pdGVtS2V5KSkge1xuICAgICAgLy8gTm90IGEgdmFsaWQgZGF0YS1zb3VyY2UsIGRvIG5vdCByZXNwb25zZSB0byBjbGlja1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0Q3VycmVudERzSWQoY3VycmVudEl0ZW1Kc29uLml0ZW1LZXkpXG5cbiAgICBvbkNsaWNrICYmIG9uQ2xpY2soY3VycmVudEl0ZW1Kc29uLml0ZW1LZXkpXG5cbiAgICBpZiAoY3VycmVudEFjdGl2ZUptdklkUmVmLmN1cnJlbnQgPT09IGN1cnJlbnRJdGVtSnNvbi5pdGVtS2V5KSB7XG4gICAgICBjdXJyZW50QWN0aXZlSm12SWRSZWYuY3VycmVudCA9ICcnXG4gICAgICBzZXRTaG93UG9wcGVyKGZhbHNlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50QWN0aXZlSm12SWRSZWYuY3VycmVudCA9IGN1cnJlbnRJdGVtSnNvbi5pdGVtS2V5XG4gICAgICBzZXRDdXJyZW50VGl0bGUoY3VycmVudEl0ZW1Kc29uLml0ZW1TdGF0ZVRpdGxlKVxuICAgICAgc2V0U2hvd1BvcHBlcih0cnVlKVxuICAgIH1cblxuICAgIGlmICghZGlzYWJsZVN3aXRjaE1hcCkge1xuICAgICAgLy8gVGhlIGl0ZW1LZXkgaXMgZHNJZFxuICAgICAgaWYgKGppbXVNYXBWaWV3R3JvdXAgJiYgY3VycmVudEl0ZW1Kc29uLml0ZW1LZXkgIT09IGN1cnJlbnREc0lkKSB7XG4gICAgICAgIGppbXVNYXBWaWV3R3JvdXAuc3dpdGNoTWFwKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjdXJyZW50RHNJZCwgZGlzYWJsZVN3aXRjaE1hcCwgaXNEYXRhU291cmNlVmFsaWQsIGppbXVNYXBWaWV3R3JvdXAsIG9uQ2xpY2tdKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSBwcmV2aW91cyByb3VuZCB0aGUgcG9wcGVyIGlzIG9wZW4sIG90aGVyd2lzZSBpdCB3aWxsIHN3aXRjaCB0d2ljZVxuICAgICAgLy8gUHV0IHRoaXMgbG9naWMgaW4gY2xlYW51cCBmdW5jLCBzbyBpdCB3aWxsIGJlIGV4ZWN1dGVkIGV2ZW4gaWYgd2hlbiBjbGljayB0aGUgY2FudmFzIChjb21wb25lbnQgdW5tb3VudClcbiAgICAgIGlmICghZGlzYWJsZVN3aXRjaE1hcCAmJiBzaG93UG9wcGVyICYmIGRlZmF1bHREc0lkICE9PSBjdXJyZW50RHNJZCkge1xuICAgICAgICBqaW11TWFwVmlld0dyb3VwLnN3aXRjaE1hcCgpXG4gICAgICAgIHNldEN1cnJlbnREc0lkKGRlZmF1bHREc0lkKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2N1cnJlbnREc0lkLCBkZWZhdWx0RHNJZCwgZGlzYWJsZVN3aXRjaE1hcCwgamltdU1hcFZpZXdHcm91cCwgc2hvd1BvcHBlcl0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9J3ctMTAwIG11bHRpcGxlLWppbXUtbWFwLWNvbmZpZy1jb21wb25lbnQnIGNzcz17Z2V0U3R5bGUoKX0gdGFiSW5kZXg9ezB9PlxuICAgICAge1xuICAgICAgICAvLyBXYWl0IGZvciBjdXJyZW50RHNJZCwgc28gdGhlIHN3aXRjaE1hcCBjb3VsZCB3b3JrIGNvcnJlY3RseVxuICAgICAgICAoYWxsRGF0YVNvdXJjZXNSZWFkeSAmJiBjdXJyZW50RHNJZClcbiAgICAgICAgICA/IDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgPExpc3RcbiAgICAgICAgICAgICAgICB7Li4ucmVzdFByb3BzfVxuICAgICAgICAgICAgICAgIGl0ZW1zSnNvbj17Z2V0SXRlbXNKc29uKCl9XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2xpY2tJdGVtQm9keT17aGFuZGxlQ2xpY2tXaXRoU3dpdGNoTWFwfVxuICAgICAgICAgICAgICAgIHJlbmRlck92ZXJyaWRlSXRlbUNvbW1hbmRzPXsoYWN0aW9uRGF0YSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB7IGl0ZW1Kc29ucyB9ID0gcmVmQ29tcG9uZW50LnByb3BzXG4gICAgICAgICAgICAgICAgICBjb25zdCBbY3VycmVudEl0ZW1Kc29uXSA9IGl0ZW1Kc29uc1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc0RhdGFTb3VyY2VWYWxpZCAmJiAhaXNEYXRhU291cmNlVmFsaWQoY3VycmVudEl0ZW1Kc29uLml0ZW1LZXkpKVxuICAgICAgICAgICAgICAgICAgICA/IDxUb29sdGlwIHRpdGxlPXtpbnZhbGlkRGF0YVNvdXJjZVRvb2x0aXB9IHJvbGU9eyd0b29sdGlwJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxXYXJuaW5nT3V0bGluZWQgLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8U2lkZVBvcHBlclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uPSdyaWdodCdcbiAgICAgICAgICAgICAgICBpc09wZW49e3Nob3dQb3BwZXJ9XG4gICAgICAgICAgICAgICAgdG9nZ2xlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93UG9wcGVyKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgY3VycmVudEFjdGl2ZUptdklkUmVmLmN1cnJlbnQgPSAnJ1xuICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmVmPy5jdXJyZW50LmZvY3VzKClcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPXtjdXJyZW50VGl0bGV9XG4gICAgICAgICAgICAgICAgdHJpZ2dlcj17Y29udGFpbmVyUmVmPy5jdXJyZW50fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3NpZGVQb3BwZXJDb250ZW50fVxuICAgICAgICAgICAgICA8L1NpZGVQb3BwZXI+XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDogZ2V0U2tlbGV0b25MaXN0KClcbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIG9uZSBvciBtdWx0aXBsZSBgSmltdU1hcGAuIElmIHR3byBkYXRhIHNvdXJjZXMgYXJlIHNlbGVjdGVkIGluIHRoZSBjb25uZWN0ZWQgbWFwIHdpZGdldCxcbiAqIGNsaWNraW5nIG9uIHRoZSBsaXN0IGl0ZW0gb2YgdGhpcyBjb21wb25lbnQgc3dpdGNoZXMgdGhlIG1hcCB3aWRnZXQncyBhY3RpdmUgdmlldyB0byB0aGUgY29ycmVzcG9uZGluZyBvbmUuIFRoZSBzd2l0Y2ggYmVoYXZpb3JcbiAqIGlzIG9uIHRoZSBmbHkgKGRpc2NhcmRlZCB3aGVuIHJlZnJlc2hpbmcgdGhlIHBhZ2UpLlxuICogVXNlIHRoaXMgY29tcG9uZW50IGJ5IGBpbXBvcnQgeyBNdWx0aXBsZUppbXVNYXBDb25maWcgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydgLlxuICovXG5leHBvcnQgY29uc3QgTXVsdGlwbGVKaW11TWFwQ29uZmlnID0gX011bHRpcGxlSmltdU1hcENvbmZpZ1xuIiwiLyoqIEBqc3gganN4ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IFBvcHBlciwgdHlwZSBQb3BwZXJQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBSZWFjdCwgUmVhY3RSZWR1eCwgdHlwZSBCcm93c2VyU2l6ZU1vZGUsIHR5cGUgSU1TdGF0ZSwgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBqc3gsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHBvcHBlclBvaW50ZXIgfSBmcm9tICdqaW11LXRoZW1lJ1xuXG5pbnRlcmZhY2UgU3RhdGVUb1BvcHBlclByb3BzIHtcbiAgcGFnZUlkOiBzdHJpbmdcbiAgc2l6ZW1vZGU6IEJyb3dzZXJTaXplTW9kZVxuICBkaXNwYXRjaD86IGFueVxufVxuXG5jbGFzcyBQYWdlQXdhcmVQb3BwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFBvcHBlclByb3BzICYgU3RhdGVUb1BvcHBlclByb3BzICYgeyB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXMgfT4ge1xuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUG9wcGVyUHJvcHMgJiBTdGF0ZVRvUG9wcGVyUHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlSWQgIT09IHByZXZQcm9wcy5wYWdlSWQgfHwgdGhpcy5wcm9wcy5zaXplbW9kZSAhPT0gcHJldlByb3BzLnNpemVtb2RlKSB7XG4gICAgICB0aGlzLnByb3BzLnRvZ2dsZSgpXG4gICAgfVxuICB9XG5cbiAgZ2V0U3R5bGUgKCkge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gdGhlbWUgJiYgY3NzYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFszMDBdfTtcbiAgICAgICR7cG9wcGVyUG9pbnRlcih7XG4gICAgYmFja2dyb3VuZDogdGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMzAwXSxcbiAgICBib3JkZXI6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs2MDBdLFxuICAgICAgd2lkdGg6ICcxcHgnXG4gICAgfVxuICB9KX1cbiAgICAgID4gKiB7XG4gICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNTAwXX07XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbODAwXX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgcGFnZUlkLCBzaXplbW9kZSwgZGlzcGF0Y2gsIC4uLm90aGVyUHJvcHMgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gPFBvcHBlciBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gey4uLm90aGVyUHJvcHN9IC8+XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzIChzdGF0ZTogSU1TdGF0ZSk6IFN0YXRlVG9Qb3BwZXJQcm9wcyB7XG4gIHJldHVybiB7XG4gICAgcGFnZUlkOiBzdGF0ZS5hcHBSdW50aW1lSW5mby5jdXJyZW50UGFnZUlkLFxuICAgIHNpemVtb2RlOiBzdGF0ZS5icm93c2VyU2l6ZU1vZGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVUb1BvcHBlclByb3BzLCB1bmtub3duLCBQb3BwZXJQcm9wcz4obWFwU3RhdGVUb1Byb3BzKShQYWdlQXdhcmVQb3BwZXIpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIGNzcyxcbiAgdHlwZSBJTVRoZW1lVmFyaWFibGVzXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFBhZ2VUZW1wbGF0ZUxpc3QgfSBmcm9tICcuL3BhZ2UtdGVtcGxhdGUtbGlzdCdcbmltcG9ydCBQb3BwZXIgZnJvbSAnLi4vcGFnZS1hd2FyZS1wb3BwZXInXG5cbmNvbnN0IE1PRElGSUVSUyA9IFtcbiAge1xuICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiAndmlld3BvcnQnLFxuICAgICAgcGFkZGluZzogeyBib3R0b206IDIwIH1cbiAgICB9XG4gIH1cbl1cblxuZXhwb3J0IGludGVyZmFjZSBQYWdlVGVtcGxhdGVQb3BwZXJQcm9wcyB7XG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG4gIHJlZmVyZW5jZUVsZW1lbnQ6IEhUTUxFbGVtZW50XG4gIGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nLCB2YWx1ZXM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiBzdHJpbmdcbiAgb25JdGVtU2VsZWN0OiAoaXRlbTogYW55KSA9PiB2b2lkXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgb3BlbjogYm9vbGVhblxuICB0YWJJZDogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlVGVtcGxhdGVQb3BwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFBhZ2VUZW1wbGF0ZVBvcHBlclByb3BzLCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiB0cnVlLFxuICAgICAgdGFiSWQ6ICdmdWxsU2NyZWVuQXBwJ1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVBvcHBlciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlKClcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgdGhpcy5wcm9wcy5yZWZlcmVuY2VFbGVtZW50Py5mb2N1cygpXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiAhdGhpcy5zdGF0ZS5vcGVuIH0pXG4gIH1cblxuICB0YWJTZWxlY3QgPSAodGFiSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB0YWJJZDogdGFiSWQgfSlcbiAgfVxuXG4gIG9uSXRlbVNlbGVjdCA9ICh0ZW1wbGF0ZUpzb24pID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKVxuICAgIHRoaXMucHJvcHMub25JdGVtU2VsZWN0KHRlbXBsYXRlSnNvbilcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgeyByZWZlcmVuY2VFbGVtZW50LCB0aGVtZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3BwZXJcbiAgICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICAgIHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICByZWZlcmVuY2U9e3JlZmVyZW5jZUVsZW1lbnR9XG4gICAgICAgIG9mZnNldD17WzAsIDEwXX1cbiAgICAgICAgb3BlblxuICAgICAgICB0b2dnbGU9e3RoaXMudG9nZ2xlUG9wcGVyfVxuICAgICAgICBzaG93QXJyb3dcbiAgICAgICAgbW9kaWZpZXJzPXtNT0RJRklFUlN9XG4gICAgICAgIGZvcmNlTGF0ZXN0Rm9jdXNFbGVtZW50cz17dHJ1ZX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgd2lkdGg6IDM5MHB4O1xuICAgICAgICAgICAgbWF4LWhlaWdodDogNjQwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNTBweCk7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIGB9XG4gICAgICAgID5cbiAgICAgICAgICA8UGFnZVRlbXBsYXRlTGlzdFxuICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgdGFiSWQ9e3RoaXMuc3RhdGUudGFiSWR9XG4gICAgICAgICAgICBvblRhYlNlbGVjdD17dGhpcy50YWJTZWxlY3R9XG4gICAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3Q9e3RoaXMub25JdGVtU2VsZWN0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L1BvcHBlcj5cbiAgICApXG4gIH1cbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICB0eXBlIElNVGhlbWVWYXJpYWJsZXMsXG4gIGNsYXNzTmFtZXNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgVGFicywgVGFiLCBTZWxlY3QsIEZPQ1VTQUJMRV9DT05UQUlORVJfQ0xBU1MgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgZ2V0RnVsbFNjcmVlblBhZ2VUZW1wbGF0ZXMsIGdldEZ1bGxTY3JlZW5HcmlkUGFnZVRlbXBsYXRlcywgZ2V0U2Nyb2xsaW5nUGFnZVRlbXBsYXRlcyB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXIvdGVtcGxhdGVzJ1xuaW1wb3J0IHsgVGVtcGxhdGVMaXN0IH0gZnJvbSAnLi4vdGVtcGxhdGUtc2VsZWN0b3IvdGVtcGxhdGUtbGlzdCdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcsIHZhbHVlcz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHN0cmluZ1xuICB0YWJJZDogc3RyaW5nXG4gIG9uVGFiU2VsZWN0OiAodGFiSWQ6IHN0cmluZykgPT4gdm9pZFxuICBvbkl0ZW1TZWxlY3Q6IChwYWdlSnNvbjogYW55KSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGZ1bGxTY3JlZW5UeXBlOiAnYWxsJyB8ICdmaXhlZCcgfCAnZ3JpZCdcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VUZW1wbGF0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICB0YWJzUmVmOiBhbnlcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0geyBmdWxsU2NyZWVuVHlwZTogJ2FsbCcgfVxuICB9XG5cbiAgb25UYWJTZWxlY3QgPSAodGFiSWQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVGFiU2VsZWN0KHRhYklkKVxuICB9XG5cbiAgb25GdWxsU2NyZWVuVHlwZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZ1bGxTY3JlZW5UeXBlOiBlLnRhcmdldC52YWx1ZSB9KVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHRoZW1lLCBmb3JtYXRNZXNzYWdlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBmdWxsU2NyZWVuVHlwZSB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgbGV0IHRlbXBsYXRlcyA9IFtdXG4gICAgaWYgKGZ1bGxTY3JlZW5UeXBlID09PSAnZml4ZWQnKSB7XG4gICAgICB0ZW1wbGF0ZXMgPSBnZXRGdWxsU2NyZWVuUGFnZVRlbXBsYXRlcygpXG4gICAgfSBlbHNlIGlmIChmdWxsU2NyZWVuVHlwZSA9PT0gJ2dyaWQnKSB7XG4gICAgICB0ZW1wbGF0ZXMgPSBnZXRGdWxsU2NyZWVuR3JpZFBhZ2VUZW1wbGF0ZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wbGF0ZXMgPSBbZ2V0RnVsbFNjcmVlblBhZ2VUZW1wbGF0ZXMoKVswXSwgZ2V0RnVsbFNjcmVlbkdyaWRQYWdlVGVtcGxhdGVzKClbMF1dXG4gICAgICAgIC5jb25jYXQoZ2V0RnVsbFNjcmVlblBhZ2VUZW1wbGF0ZXMoKS5zbGljZSgxKSwgZ2V0RnVsbFNjcmVlbkdyaWRQYWdlVGVtcGxhdGVzKCkuc2xpY2UoMSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XG4gICAgICAgIDxoNVxuICAgICAgICAgIGNsYXNzTmFtZT0ncHQtNCBweC01IG1iLTIgdGV4dC1kYXJrLTYwMCB0ZXh0LXRydW5jYXRlJ1xuICAgICAgICAgIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdhZGRQYWdlJyl9XG4gICAgICAgID57Zm9ybWF0TWVzc2FnZSgnYWRkUGFnZScpfVxuICAgICAgICA8L2g1PlxuICAgICAgICA8VGFic1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZT0nZnVsbFNjcmVlbkFwcCdcbiAgICAgICAgICBmaWxsXG4gICAgICAgICAgdHlwZT0ndW5kZXJsaW5lJ1xuICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA0OXB4KTtcbiAgICAgICAgICAgIHdpZHRoOiAzOTBweDtcbiAgICAgICAgICAgIC50YWItY29udGVudCB7XG4gICAgICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMzBweCk7XG4gICAgICAgICAgICAgIC50YWItcGFuZSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAudGFiLXBhbmU6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuamltdS1uYXYge1xuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6ICR7dGhlbWUgJiYgdGhlbWUuc2l6ZXNbNV19O1xuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3RoZW1lICYmIHRoZW1lLnNpemVzWzVdfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5uYXYtaXRlbSB7XG4gICAgICAgICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgICAgICAgIC50YWItdGl0bGUge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25UYWJTZWxlY3R9XG4gICAgICAgID5cbiAgICAgICAgICA8VGFiIGlkPSdmdWxsU2NyZWVuQXBwJyB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnZnVsbFNjcmVlbkFwcCcpfSBjbGFzc05hbWU9e0ZPQ1VTQUJMRV9DT05UQUlORVJfQ0xBU1MgfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggZmxleC1jb2x1bW4gaC0xMDAnPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbGlnbi1zZWxmLWVuZCBteS00J1xuICAgICAgICAgICAgICAgIHZhbHVlPXtmdWxsU2NyZWVuVHlwZX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtmb3JtYXRNZXNzYWdlKCdwYWdlJyl9XG4gICAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMTIwcHg7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxLjJyZW07XG4gICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkZ1bGxTY3JlZW5UeXBlQ2hhbmdlfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nYWxsJz57Zm9ybWF0TWVzc2FnZSgnYWxsJyl9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nZml4ZWQnPntmb3JtYXRNZXNzYWdlKCdmaXhlZCcpfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2dyaWQnPntmb3JtYXRNZXNzYWdlKCdncmlkJyl9PC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8VGVtcGxhdGVMaXN0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW0ZPQ1VTQUJMRV9DT05UQUlORVJfQ0xBU1NdOiB0aGlzLnByb3BzLnRhYklkID09PSAnZnVsbFNjcmVlbkFwcCcgfSl9XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzPXsgdGVtcGxhdGVzIH1cbiAgICAgICAgICAgICAgICBvbkl0ZW1TZWxlY3Q9e3RoaXMucHJvcHMub25JdGVtU2VsZWN0fVxuICAgICAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA2NHB4KTtcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvVGFiPlxuICAgICAgICAgIDxUYWIgaWQ9J3Njcm9sbGluZ1BhZ2UnIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdzY3JvbGxpbmdQYWdlJyl9IGNsYXNzTmFtZT17Rk9DVVNBQkxFX0NPTlRBSU5FUl9DTEFTUyB9PlxuICAgICAgICAgICAgPFRlbXBsYXRlTGlzdFxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyBbRk9DVVNBQkxFX0NPTlRBSU5FUl9DTEFTU106IHRoaXMucHJvcHMudGFiSWQgPT09ICdzY3JvbGxpbmdQYWdlJyB9KX1cbiAgICAgICAgICAgICAgdGVtcGxhdGVzPXtnZXRTY3JvbGxpbmdQYWdlVGVtcGxhdGVzKCl9XG4gICAgICAgICAgICAgIG9uSXRlbVNlbGVjdD17dGhpcy5wcm9wcy5vbkl0ZW1TZWxlY3R9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVGFiPlxuICAgICAgICA8L1RhYnM+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIHByb3h5U2V0dGluZ1V0aWxzIGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBQcm94eVNldHRpbmcgfSBmcm9tICcuL3NldHRpbmcnXG5pbXBvcnQgeyBQcm94eVNldHRpbmdQb3B1cCB9IGZyb20gJy4vc2V0dGluZy1wb3B1cCdcblxuZXhwb3J0IHsgcHJveHlTZXR0aW5nVXRpbHMsIFByb3h5U2V0dGluZywgUHJveHlTZXR0aW5nUG9wdXAgfVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCB0eXBlIEludGxTaGFwZSwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlTWVzc2FnZXMsIGluamVjdEludGwsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBtb2R1bGVMb2FkZXIsXG4gIGNsYXNzTmFtZXMsIGdldEFwcFN0b3JlLCB1cmxVdGlscywgSW1tdXRhYmxlLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBQcm94eUpzb24sIGFwcENvbmZpZ1V0aWxzLCBjc3MsIHBvbGlzaGVkLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIHR5cGUgSU1TdGF0ZSxcbiAgUmVhY3RSZWR1eCwgRGF0YVNvdXJjZVR5cGVzLCBwcm94eVV0aWxzLCB0eXBlIElNQXBwQ29uZmlnXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IE1vZGFsLCBNb2RhbEhlYWRlciwgTW9kYWxCb2R5LCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdVVJTWVzc2FnZXMsIE1vZGFsRm9vdGVyLCBCdXR0b24sIExvYWRpbmcsIFRvYXN0LCBUb2FzdFR5cGUgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgUHJveHlTZXR0aW5nIH0gZnJvbSAnLi4vc2V0dGluZydcbmltcG9ydCB7IGlzU2FtZVByb3h5LCBpc1JlZ2lzdGVyZWRBcHAsIGdldFByb3h5SnNvbkZyb21Tb3VyY2VVcmwsIGdldENyZWF0ZVByb3h5VXJsLCBkZWxldGVQcm94aWVzLCBnZXROZWVkUHJveHlJdGVtcyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdHlwZSBOZWVkUHJveHlJdGVtcywgdHlwZSBQcm94eVNldHRpbmdDb25maWdzIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBMb2FkaW5nVHlwZSB9IGZyb20gJ2ppbXUtdWkvbGliL2NvbXBvbmVudHMvdHlwZXMnXG5pbXBvcnQgeyB3aXRoU3R5bGVzLCB3aXRoVGhlbWUgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgZGF0YVNvdXJjZUpzb25DcmVhdG9yIH0gZnJvbSAnamltdS1jb3JlL2RhdGEtc291cmNlJ1xuXG5jb25zdCByZWdpc3RlckFwcFByb21pc2U6IHsgW2FwcElkOiBzdHJpbmddOiBQcm9taXNlPGFueT4gfSA9IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJveHlTZXR0aW5nUG9wdXBQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhblxuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgb25GaW5pc2g6IChhcHBDb25maWc/OiBJTUFwcENvbmZpZykgPT4gUHJvbWlzZTx2b2lkPlxuICBvbkNhbmNlbDogKCkgPT4gdm9pZFxuICBvblRvZ2dsZTogKCkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBnZXRBcHBDb25maWdBY3Rpb246IGFueVxuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgaXNFcnJvcjogYm9vbGVhblxuICBwcm94eVNldHRpbmdDb25maWdzOiBQcm94eVNldHRpbmdDb25maWdzXG4gIG5lZWRQcm94eUl0ZW1zOiBOZWVkUHJveHlJdGVtc1xufVxuXG5pbnRlcmZhY2UgU3RhdGVUb1Byb3BzIHtcbiAgYXBwUHJveGllczogSW1tdXRhYmxlT2JqZWN0PHsgW3Byb3h5SWQ6IHN0cmluZ106IFByb3h5SnNvbiB9PlxufVxuXG5jbGFzcyBfUHJveHlTZXR0aW5nUG9wdXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3h5U2V0dGluZ1BvcHVwUHJvcHMgJiBFeHRyYVByb3BzICYgU3RhdGVUb1Byb3BzLCBTdGF0ZT4ge1xuICBfX3VubW91bnQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGdldEFwcENvbmZpZ0FjdGlvbjogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcbiAgICAgIHByb3h5U2V0dGluZ0NvbmZpZ3M6IG51bGwsXG4gICAgICBuZWVkUHJveHlJdGVtczogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXG4gICAgbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtZm9yLWJ1aWxkZXInKS50aGVuKG1vZHVsZSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbjogbW9kdWxlLmdldEFwcENvbmZpZ0FjdGlvblxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuICAgIHRoaXMuaW5pdE5lZWRQcm94eUl0ZW1zQW5kUHJveHlTZXR0aW5nQ29uZmlncygpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJveHlTZXR0aW5nUG9wdXBQcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZVRvUHJvcHMpIHtcbiAgICBpZiAoKCFwcmV2UHJvcHMuaXNPcGVuICYmIHRoaXMucHJvcHMuaXNPcGVuKSB8fCAocHJldlByb3BzLmFwcFByb3hpZXMgIT09IHRoaXMucHJvcHMuYXBwUHJveGllcykpIHtcbiAgICAgIHRoaXMuaW5pdE5lZWRQcm94eUl0ZW1zQW5kUHJveHlTZXR0aW5nQ29uZmlncygpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdE5lZWRQcm94eUl0ZW1zQW5kUHJveHlTZXR0aW5nQ29uZmlncyAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZWVkUHJveHlJdGVtcyA9IGF3YWl0IGdldE5lZWRQcm94eUl0ZW1zKClcbiAgICAgIGNvbnN0IHByb3h5U2V0dGluZ0NvbmZpZ3MgPSBhd2FpdCB0aGlzLmdldFByb3h5U2V0dGluZ0NvbmZpZ3MobmVlZFByb3h5SXRlbXMpXG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHByb3h5U2V0dGluZ0NvbmZpZ3M6IHByb3h5U2V0dGluZ0NvbmZpZ3MsXG4gICAgICAgICAgbmVlZFByb3h5SXRlbXM6IG5lZWRQcm94eUl0ZW1zLFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICghdGhpcy5fX3VubW91bnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dldHRpbmcgcHJveHkgY29uZmlnIGVycm9yJywgZXJyKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIGdldFByb3h5U2V0dGluZ0NvbmZpZ3MgPSBhc3luYyAobmVlZFByb3h5SXRlbXM6IE5lZWRQcm94eUl0ZW1zKTogUHJvbWlzZTxQcm94eVNldHRpbmdDb25maWdzPiA9PiB7XG4gICAgY29uc3QgcHJveHlTZXR0aW5nQ29uZmlnczogUHJveHlTZXR0aW5nQ29uZmlncyA9IHt9XG4gICAgY29uc3QgYXBwUHJveGllcyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5hcHBQcm94aWVzXG4gICAgT2JqZWN0LmtleXMobmVlZFByb3h5SXRlbXMpLmZvckVhY2goc291cmNlVXJsID0+IHtcbiAgICAgIGNvbnN0IHByb3h5SnNvbiA9IGdldFByb3h5SnNvbkZyb21Tb3VyY2VVcmwoc291cmNlVXJsLCBhcHBQcm94aWVzKVxuICAgICAgaWYgKHByb3h5SnNvbikge1xuICAgICAgICAvLyBpbml0IGEgbmV3IHByb3h5IHNldHRpbmcgY29uZmlnIHdpdGhvdXQgcHJldmlvdXMgcHJveHkgdXJsIGFuZCBwcm94eSBpZFxuICAgICAgICBwcm94eVNldHRpbmdDb25maWdzW3NvdXJjZVVybF0gPSBwcm94eUpzb24ud2l0aG91dCgnaWQnKS53aXRob3V0KCdwcm94eUlkJykud2l0aG91dCgncHJveHlVcmwnKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gcHJveHlTZXR0aW5nQ29uZmlnc1xuICB9XG5cbiAgcmVnaXN0ZXJBcHAgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYXBwSWQgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBJZFxuICAgIGlmIChyZWdpc3RlckFwcFByb21pc2VbYXBwSWRdKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVnaXN0ZXJBcHBQcm9taXNlW2FwcElkXVxuICAgIH1cblxuICAgIGNvbnN0IHBvcnRhbFVybCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LnBvcnRhbFVybFxuICAgIGNvbnN0IHVybCA9IGAke3BvcnRhbFVybH0vc2hhcmluZy9yZXN0L29hdXRoMi9yZWdpc3RlckFwcGBcbiAgICByZWdpc3RlckFwcFByb21pc2VbYXBwSWRdID0gZXNyaS5yZXN0UmVxdWVzdC5yZXF1ZXN0KHVybCwge1xuICAgICAgYXV0aGVudGljYXRpb246IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2Vzc2lvbkJ5VXJsKGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxVcmwpLFxuICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGl0ZW1JZDogYXBwSWQsXG4gICAgICAgIGFwcFR5cGU6ICdicm93c2VyJyxcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gICAgICAgIHJlZGlyZWN0X3VyaXM6IEpTT04uc3RyaW5naWZ5KFt0aGlzLmdldEFwcFJvb3RVcmwoKV0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBhd2FpdCByZWdpc3RlckFwcFByb21pc2VbYXBwSWRdXG4gIH1cblxuICBjcmVhdGVQcm94aWVzID0gYXN5bmMgKHByb3h5U2V0dGluZ0NvbmZpZ3M6IFByb3h5U2V0dGluZ0NvbmZpZ3MpOiBQcm9taXNlPEltbXV0YWJsZU9iamVjdDx7IFtwcm94eUlkOiBzdHJpbmddOiBQcm94eUpzb24gfT4+ID0+IHtcbiAgICBpZiAoIXByb3h5U2V0dGluZ0NvbmZpZ3MpIHtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUobnVsbClcbiAgICB9XG5cbiAgICBjb25zdCBhcHBQcm94aWVzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5hcHBQcm94aWVzXG4gICAgY29uc3QgZXhpc3RpbmdQcm94eUpzb25zID0ge30gYXMgeyBbcHJveHlKc29uSWQ6IHN0cmluZ106IFByb3h5SnNvbiB9XG4gICAgbGV0IHByb3hpZXMgPSBbXVxuICAgIE9iamVjdC5rZXlzKHByb3h5U2V0dGluZ0NvbmZpZ3MpLmZvckVhY2goc291cmNlVXJsID0+IHtcbiAgICAgIGNvbnN0IHByb3h5Q29uZmlnID0gcHJveHlTZXR0aW5nQ29uZmlnc1tzb3VyY2VVcmxdXG4gICAgICBpZiAoIXByb3h5Q29uZmlnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgaGl0c1BlckludGVydmFsID0gcHJveHlDb25maWcuaGl0c1BlckludGVydmFsXG4gICAgICBjb25zdCBpbnRlcnZhbFNlY29uZHMgPSBwcm94eUNvbmZpZy5pbnRlcnZhbFNlY29uZHNcbiAgICAgIGNvbnN0IGV4aXN0aW5nUHJveHlKc29uID0gZ2V0UHJveHlKc29uRnJvbVNvdXJjZVVybChzb3VyY2VVcmwsIGFwcFByb3hpZXMpXG4gICAgICBpZiAoaXNTYW1lUHJveHkoZXhpc3RpbmdQcm94eUpzb24sIHNvdXJjZVVybCwgaGl0c1BlckludGVydmFsLCBpbnRlcnZhbFNlY29uZHMpKSB7XG4gICAgICAgIGV4aXN0aW5nUHJveHlKc29uc1tleGlzdGluZ1Byb3h5SnNvbi5pZF0gPSBleGlzdGluZ1Byb3h5SnNvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJveGllcyA9IHByb3hpZXMuY29uY2F0KHtcbiAgICAgICAgICBzb3VyY2VVcmw6IHNvdXJjZVVybCxcbiAgICAgICAgICBoaXRzUGVySW50ZXJ2YWwsXG4gICAgICAgICAgaW50ZXJ2YWxTZWNvbmRzXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmIChwcm94aWVzLmxlbmd0aCA9PT0gMCkgeyAvLyBObyBuZWVkIHRvIGNyZWF0ZSBuZXcgcHJveGllcy5cbiAgICAgIHJldHVybiBJbW11dGFibGUoZXhpc3RpbmdQcm94eUpzb25zKVxuICAgIH1cblxuICAgIGNvbnN0IGlzUmVnaXN0ZXJlZCA9IGlzUmVnaXN0ZXJlZEFwcCgpXG4gICAgaWYgKCFpc1JlZ2lzdGVyZWQpIHsgLy8gTXVzdCByZWdpc3RlciBhcHAgYmVmb3JlIGNyZWF0aW5nIHByb3hpZXMuXG4gICAgICBhd2FpdCB0aGlzLnJlZ2lzdGVyQXBwKClcbiAgICB9XG4gICAgY29uc3Qgc2VydmljZVByb3h5UGFyYW1zID0ge1xuICAgICAgcmVmZXJyZXJzOiBbdGhpcy5nZXRBcHBVcmwoKV0uY29uY2F0KHByb3h5VXRpbHMuZ2V0UHJveHlSZWZlcnJlcnMoKSlcbiAgICB9XG4gICAgY29uc3QgY3JlYXRlUHJveHlVcmwgPSBnZXRDcmVhdGVQcm94eVVybCgpXG5cbiAgICByZXR1cm4gZXNyaS5yZXN0UmVxdWVzdC5yZXF1ZXN0KGNyZWF0ZVByb3h5VXJsLCB7XG4gICAgICBhdXRoZW50aWNhdGlvbjogU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZXNzaW9uQnlVcmwoZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybCksXG4gICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgc2VydmljZVByb3h5UGFyYW1zLFxuICAgICAgICBwcm94aWVzXG4gICAgICB9XG4gICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgY29uc3QgcHJveGllc0luUmVzcG9uc2U6IEFycmF5PE9taXQ8UHJveHlKc29uLCAnaWQnPj4gPSByZXM/LmFwcFByb3hpZXMgfHwgW11cbiAgICAgIGNvbnN0IHByb3hpZXNJbkFwcENvbmZpZzogeyBbcHJveHlKc29uSWQ6IHN0cmluZ106IFByb3h5SnNvbiB9ID0gZXhpc3RpbmdQcm94eUpzb25zXG4gICAgICBjb25zdCBhcHBDb25maWcgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWdcbiAgICAgIGNvbnN0IGFwcFByb3hpZXMgPSBhcHBDb25maWc/LmFwcFByb3hpZXNcbiAgICAgIHByb3hpZXNJblJlc3BvbnNlLmZvckVhY2gocCA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUHJveHlKc29uID0gZ2V0UHJveHlKc29uRnJvbVNvdXJjZVVybChwLnNvdXJjZVVybCwgYXBwUHJveGllcylcbiAgICAgICAgLy8gSWYgaGF2ZSBhIHByb3h5IGpzb24gd2l0aCBzYW1lIHNvdXJjZSB1cmwsIHNob3VsZCB1cGRhdGUgdGhlIHByb3h5IGpzb24gaW5zdGVhZCBvZiBhZGRpbmcgYSBuZXcgcHJveHkganNvbiB0byBhcHAgY29uZmlnLlxuICAgICAgICBjb25zdCBwcm94eUpzb25JZCA9IGV4aXN0aW5nUHJveHlKc29uPy5pZCB8fCBhcHBDb25maWdVdGlscy5nZXRVbmlxdWVJZChhcHBDb25maWcuc2V0KCdhcHBQcm94aWVzJywgYXBwUHJveGllcyA/IGFwcFByb3hpZXMubWVyZ2UocHJveGllc0luQXBwQ29uZmlnKSA6IHByb3hpZXNJbkFwcENvbmZpZyksICdhcHBQcm94eScpXG4gICAgICAgIHByb3hpZXNJbkFwcENvbmZpZ1twcm94eUpzb25JZF0gPSB7IC4uLnAsIGlkOiBwcm94eUpzb25JZCB9IGFzIFByb3h5SnNvblxuICAgICAgfSlcbiAgICAgIHJldHVybiBJbW11dGFibGUocHJveGllc0luQXBwQ29uZmlnKVxuICAgIH0pXG4gIH1cblxuICBnZXRBcHBSb290VXJsID0gKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3Qgb3JpZ2luID0gd2luZG93Py5sb2NhdGlvbj8ub3JpZ2luXG4gICAgcmV0dXJuIG9yaWdpblxuICB9XG5cbiAgZ2V0QXBwVXJsID0gKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgYXBwSWQgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBJZFxuICAgIGNvbnN0IGFwcEl0ZW0gPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBJbmZvXG4gICAgY29uc3QgaXNUZW1wbGF0ZSA9IGFwcEl0ZW0/LnR5cGUgPT09ICdXZWIgRXhwZXJpZW5jZSBUZW1wbGF0ZSdcbiAgICBjb25zdCBhcHBVcmxXaXRob3V0T3JpZ2luID0gdXJsVXRpbHMuZ2V0QXBwVXJsKHsgYXBwSWQsIGlzVGVtcGxhdGUgfSk/LnJlcGxhY2UoL15cXC8vLCAnJylcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldEFwcFJvb3RVcmwoKT8ucmVwbGFjZSgvXFwvJC8sICcnKVxuXG4gICAgcmV0dXJuIGAke29yaWdpbn0vJHthcHBVcmxXaXRob3V0T3JpZ2lufWBcbiAgfVxuXG4gIG9uUHJveHlDb25maWdDaGFuZ2UgPSAocHJveHlTZXR0aW5nQ29uZmlnczogUHJveHlTZXR0aW5nQ29uZmlncykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBwcm94eVNldHRpbmdDb25maWdzOiBwcm94eVNldHRpbmdDb25maWdzIH0pXG4gIH1cblxuICBvbkZpbmlzaCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pXG4gICAgLy8gTmV3IHByb3h5IHNldHRpbmdzLCB0aGVzZSBzZXR0aW5ncyBoYXZlbid0IGJlZW4gdXNlZCB0byBjcmVhdGUvdXBkYXRlIHJlbW90ZSBwcm94aWVzIHlldC5cbiAgICBjb25zdCBwcm94eVNldHRpbmdDb25maWdzID0gdGhpcy5zdGF0ZS5wcm94eVNldHRpbmdDb25maWdzIHx8IHt9IGFzIFByb3h5U2V0dGluZ0NvbmZpZ3NcbiAgICAvLyBFeGlzdGluZyBwcm94eSBzZXR0aW5ncyBpbiBhcHAgY29uZmlnLCB0aGVzZSBzZXR0aW5ncyBoYXZlIGFscmVhZHkgYmVlbiBhc3luY2VkIHRvIHJlbW90ZSBwcm94aWVzLlxuICAgIGNvbnN0IGV4aXN0aW5nUHJveHlKc29ucyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8uYXBwUHJveGllc1xuICAgIGNvbnN0IG5lZWRUb0RlbGV0ZVByb3hpZXMgPSBleGlzdGluZ1Byb3h5SnNvbnMgJiYgT2JqZWN0LnZhbHVlcyhleGlzdGluZ1Byb3h5SnNvbnMpLmZpbHRlcihwcm94eUpzb24gPT4ge1xuICAgICAgbGV0IG5ld1Byb3h5Q29uZmlnID0gcHJveHlTZXR0aW5nQ29uZmlnc1twcm94eUpzb24/LnNvdXJjZVVybF1cbiAgICAgIGNvbnN0IGlzRmVhdHVyZVNlcnZpY2UgPSBkYXRhU291cmNlSnNvbkNyZWF0b3IuZ2V0RGF0YVNvdXJjZVR5cGVGcm9tQXJjR0lTV2hvbGVTZXJ2aWNlVXJsKHByb3h5SnNvbj8uc291cmNlVXJsKSA9PT0gRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVTZXJ2aWNlXG4gICAgICBpZiAoaXNGZWF0dXJlU2VydmljZSkge1xuICAgICAgICBjb25zdCBhc3NvY2lhdGVkU2NlbmVTZXJ2aWNlVXJsID0gcHJveHlKc29uPy5zb3VyY2VVcmw/LnJlcGxhY2UoJy9GZWF0dXJlU2VydmVyJywgJy9TY2VuZVNlcnZlcicpXG4gICAgICAgIGNvbnN0IG5ld0Fzc29jaWF0ZWRTY2VuZVNlcnZpY2VDb25maWcgPSBwcm94eVNldHRpbmdDb25maWdzW2Fzc29jaWF0ZWRTY2VuZVNlcnZpY2VVcmxdXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjdXJyZW50IHNvdXJjZSB1cmwgaXMgYSBmZWF0dXJlIHNlcnZpY2UgYW5kIGhhcyBhbiBhc3NvY2lhdGVkIHNjZW5lIHNlcnZpY2UsXG4gICAgICAgICAqIDEuIGlmIGhhdmUgYWRkZWQgdGhlIGZlYXR1cmUgc2VydmljZSBhcyBkYXRhIHNvdXJjZSBhbmQgY29uZmlndXJlZCBwcm94eSBmb3IgaXQsIHNob3VsZCB1c2UgaXRzIG93biBwcm94eSBjb25maWdcbiAgICAgICAgICogMi4gZWxzZSB1c2UgaXRzIGFzc29jaWF0ZWQgc2NlbmUgc2VydmljZSdzIHByb3h5IGNvbmZpZ1xuICAgICAgICAgKi9cbiAgICAgICAgbmV3UHJveHlDb25maWcgPSBuZXdQcm94eUNvbmZpZyB8fCB7IC4uLm5ld0Fzc29jaWF0ZWRTY2VuZVNlcnZpY2VDb25maWcsIHNvdXJjZVVybDogcHJveHlKc29uPy5zb3VyY2VVcmwgfVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBJZiBleGlzdGluZyBwcm94eSdzIHNvdXJjZSB1cmwgaXMgbm90IHVzZWQgYW55IG1vcmUsIG9yLFxuICAgICAgICogZXhpc3RpbmcgcHJveHkgaXMgbm90IHNhbWUgYXMgbmV3IHByb3h5IGNvbmZpZyAobmVlZCB0byBjcmVhdGUgYSBuZXcgcHJveHkpLFxuICAgICAgICogZGVsZXRlIGl0LlxuICAgICAgICovXG4gICAgICByZXR1cm4gIW5ld1Byb3h5Q29uZmlnIHx8ICFpc1NhbWVQcm94eShwcm94eUpzb24sIG5ld1Byb3h5Q29uZmlnLnNvdXJjZVVybCwgbmV3UHJveHlDb25maWcuaGl0c1BlckludGVydmFsLCBuZXdQcm94eUNvbmZpZy5pbnRlcnZhbFNlY29uZHMpXG4gICAgfSlcblxuICAgIGRlbGV0ZVByb3hpZXMobmVlZFRvRGVsZXRlUHJveGllcz8ubWFwKHByb3h5SnNvbiA9PiBwcm94eUpzb24ucHJveHlJZCksIHRoaXMuc3RhdGU/LmdldEFwcENvbmZpZ0FjdGlvbigpKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuY3JlYXRlUHJveGllcyhwcm94eVNldHRpbmdDb25maWdzKS50aGVuKHByb3h5SnNvbnMgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgICAgaWYgKHByb3h5SnNvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuc3RhdGU/LmdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwcm94eUpzb25zKS5mb3JFYWNoKHByb3h5SWQgPT4ge1xuICAgICAgICAgICAgICBhY3Rpb24/LmVkaXRBcHBQcm94eShwcm94eUpzb25zW3Byb3h5SWRdKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGFjdGlvbj8uZXhlYygpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0FwcENvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWdcbiAgICAgICAgICB0aGlzLnByb3BzLm9uRmluaXNoKG5ld0FwcENvbmZpZykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Ub2dnbGUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0sIDMwMDApIC8vIHdhaXRpbmcgdGhhdCBwdWJsaXNoIHN1Y2Nlc3MgdG9hc3QgaXMgaGlkZGVuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVG9nZ2xlKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9LCAzMDAwKSAvLyB3YWl0aW5nIHRoYXQgcHVibGlzaCBlcnJvciB0b2FzdCBpcyBoaWRkZW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0aW5nIHByb3h5IGZhaWxlZDogJywgZXJyb3IpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNFcnJvcjogdHJ1ZVxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzRXJyb3I6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgNTUwMClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGdldFRvc3RTdHlsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgJiB7XG4gICAgICAgIGhlaWdodDogICR7cG9saXNoZWQucmVtKDQwKX07XG4gICAgICAgIHRvcDogJHtwb2xpc2hlZC5yZW0oNjApfTtcbiAgICAgIH1cbiAgICAgIC5qaW11LXRvYXN0LWluZm8ge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoaXMucHJvcHM/LnRoZW1lPy5jb2xvcnM/LnBhbGV0dGU/LnNlY29uZGFyeVszMDBdfTtcbiAgICAgICAgbGluZS1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDQwKX07XG4gICAgICAgIGNvbG9yOiAke3RoaXMucHJvcHM/LnRoZW1lPy5jb2xvcnM/LnBhbGV0dGU/LmRhcmtbODAwXX07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgIHBhZGRpbmc6IDAgJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwICR7cG9saXNoZWQucmVtKDEwKX0gJHtwb2xpc2hlZC5yZW0oMil9ICR7cG9saXNoZWQucmdiYSh0aGlzLnByb3BzPy50aGVtZT8uY29sb3JzPy53aGl0ZSwgMC4yKX07XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBwcm94eVNldHRpbmdDb25maWdzID0gdGhpcy5zdGF0ZS5wcm94eVNldHRpbmdDb25maWdzXG4gICAgY29uc3QgbmVlZFByb3h5SXRlbXMgPSB0aGlzLnN0YXRlLm5lZWRQcm94eUl0ZW1zXG4gICAgY29uc3Qgc3Vic2NyaWJlckNvbnRlbnRTdHJpbmcgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3Vic2NyaWJlckNvbnRlbnRzJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVVSU1lc3NhZ2VzLnN1YnNjcmliZXJDb250ZW50cyB9KVxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxcbiAgICAgICAgaXNPcGVuPXt0aGlzLnByb3BzLmlzT3Blbn0gY2VudGVyZWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX1cbiAgICAgICAgcmV0dXJuZm9jdXNhZnRlcmNsb3NlPSd0cnVlJyBjb250ZW50Q2xhc3NOYW1lPSdwcm94eS1zZXR0aW5nLWNvbnRhaW5lcicgYmFja2Ryb3A9J3N0YXRpYycgYXJpYS1sYWJlbD17c3Vic2NyaWJlckNvbnRlbnRTdHJpbmd9XG4gICAgICA+XG4gICAgICAgIDxNb2RhbEhlYWRlciBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBoZWFkZXIgcHgtMzAnIHRvZ2dsZT17dGhpcy5wcm9wcy5vblRvZ2dsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xIHRleHQtdHJ1bmNhdGUnPlxuICAgICAgICAgICAge3N1YnNjcmliZXJDb250ZW50U3RyaW5nfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L01vZGFsSGVhZGVyPlxuICAgICAgICA8TW9kYWxCb2R5IGNsYXNzTmFtZT0nZC1mbGV4IHB4LTMwJz5cbiAgICAgICAgICA8UHJveHlTZXR0aW5nIG9uQ2hhbmdlPXt0aGlzLm9uUHJveHlDb25maWdDaGFuZ2V9IHByb3h5U2V0dGluZ0NvbmZpZ3M9e3Byb3h5U2V0dGluZ0NvbmZpZ3N9IG5lZWRQcm94eUl0ZW1zPXtuZWVkUHJveHlJdGVtc30gLz5cbiAgICAgICAgPC9Nb2RhbEJvZHk+XG4gICAgICAgIDxNb2RhbEZvb3RlciBjbGFzc05hbWU9J3B4LTMwJz5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT0nbXItMicgdHlwZT0ncHJpbWFyeScgb25DbGljaz17dGhpcy5vbkZpbmlzaH0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3B1Ymxpc2gnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVNZXNzYWdlcy5wdWJsaXNoIH0pfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gdHlwZT0nZGVmYXVsdCcgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NhbmNlbCcsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLmNhbmNlbCB9KX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cblxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5pc0xvYWRpbmcgJiYgPExvYWRpbmcgdHlwZT17TG9hZGluZ1R5cGUuU2Vjb25kYXJ5fSAvPlxuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMuc3RhdGUuaXNFcnJvciAmJlxuICAgICAgICAgICAgPFRvYXN0XG4gICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuaXNFcnJvcn0gdHlwZT17VG9hc3RUeXBlLkluZm99IGNzcz17dGhpcy5nZXRUb3N0U3R5bGUoKX1cbiAgICAgICAgICAgICAgdGV4dD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NyZWF0UHJveHlUb1B1Ymxpc2hBcHBFcnJvcicsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5jcmVhdFByb3h5VG9QdWJsaXNoQXBwRXJyb3IgfSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBQcm94eVNldHRpbmdQb3B1cFByb3BzKTogU3RhdGVUb1Byb3BzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHBQcm94aWVzOiBzdGF0ZT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8uYXBwUHJveGllc1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgX19Qcm94eVNldHRpbmdQb3B1cCA9IHdpdGhTdHlsZXMod2l0aFRoZW1lKGluamVjdEludGw8J2ludGwnLCBQcm94eVNldHRpbmdQb3B1cFByb3BzICYgRXh0cmFQcm9wcz4oX1Byb3h5U2V0dGluZ1BvcHVwKSksICdQcm94eVNldHRpbmdQb3B1cCcpXG5leHBvcnQgY29uc3QgUHJveHlTZXR0aW5nUG9wdXAgPSBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVUb1Byb3BzLCB1bmtub3duLCBQcm94eVNldHRpbmdQb3B1cFByb3BzPihtYXBTdGF0ZVRvUHJvcHMpKF9fUHJveHlTZXR0aW5nUG9wdXApXG4iLCJpbXBvcnQgeyBSZWFjdCwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgSW50bFNoYXBlLCBpbmplY3RJbnRsLCBEYXRhU291cmNlVHlwZXMsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBQcm94eVNldHRpbmdJdGVtIH0gZnJvbSAnLi9wcm94eS1zZXR0aW5nLWl0ZW0nXG5pbXBvcnQgeyB0eXBlIE5lZWRQcm94eUl0ZW1zLCB0eXBlIFByb3h5U2V0dGluZ0NvbmZpZywgdHlwZSBQcm94eVNldHRpbmdDb25maWdzIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IGRhdGFTb3VyY2VKc29uQ3JlYXRvciB9IGZyb20gJ2ppbXUtY29yZS9kYXRhLXNvdXJjZSdcblxuaW50ZXJmYWNlIFByb3h5U2V0dGluZ1Byb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHByb3h5U2V0dGluZ0NvbmZpZ3M6IFByb3h5U2V0dGluZ0NvbmZpZ3NcbiAgbmVlZFByb3h5SXRlbXM6IE5lZWRQcm94eUl0ZW1zXG4gIG9uQ2hhbmdlOiAocHJveHlTZXR0aW5nQ29uZmlnczogUHJveHlTZXR0aW5nQ29uZmlncykgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5leHBvcnQgY2xhc3MgX1Byb3h5U2V0dGluZyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJveHlTZXR0aW5nUHJvcHMgJiBFeHRyYVByb3BzLCB1bmtub3duPiB7XG4gIGNvbHVtbk5hbWUgPSB7XG4gICAgYXV0aG9yaXplZDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2F1dGhvcml6ZWQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmF1dGhvcml6ZWQgfSksXG4gICAgc3Vic2NyaWJlckNvbnRlbnQ6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdWJzY3JpYmVyQ29udGVudCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3Vic2NyaWJlckNvbnRlbnQgfSksXG4gICAgY3JlZGl0czogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NyZWRpdHMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNyZWRpdHMgfSksXG4gICAgcmVxdWVzdExpbWl0OiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVxdWVzdExpbWl0JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5yZXF1ZXN0TGltaXQgfSksXG4gICAgcmVxdWVzdEludGVydmFsOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVxdWVzdEludGVydmFsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5yZXF1ZXN0SW50ZXJ2YWwgfSlcbiAgfVxuXG4gIG9uUHJveHlDaGFuZ2UgPSAoc291cmNlVXJsOiBzdHJpbmcsIHByb3h5U2V0dGluZ0NvbmZpZzogUHJveHlTZXR0aW5nQ29uZmlnKSA9PiB7XG4gICAgY29uc3QgcHJveHlTZXR0aW5nQ29uZmlncyA9IHRoaXMucHJvcHMucHJveHlTZXR0aW5nQ29uZmlncyB8fCB7fSBhcyBJbW11dGFibGVPYmplY3Q8UHJveHlTZXR0aW5nQ29uZmlncz5cbiAgICBjb25zdCBuZXdQcm94eVNldHRpbmdDb25maWdzID0geyAuLi5wcm94eVNldHRpbmdDb25maWdzIH1cbiAgICBjb25zdCBpc1NjZW5lU2VydmljZSA9IGRhdGFTb3VyY2VKc29uQ3JlYXRvci5nZXREYXRhU291cmNlVHlwZUZyb21BcmNHSVNXaG9sZVNlcnZpY2VVcmwoc291cmNlVXJsKSA9PT0gRGF0YVNvdXJjZVR5cGVzLlNjZW5lU2VydmljZVxuICAgIGlmIChwcm94eVNldHRpbmdDb25maWcpIHtcbiAgICAgIG5ld1Byb3h5U2V0dGluZ0NvbmZpZ3Nbc291cmNlVXJsXSA9IHByb3h5U2V0dGluZ0NvbmZpZ1xuICAgICAgaWYgKGlzU2NlbmVTZXJ2aWNlKSB7XG4gICAgICAgIGNvbnN0IGFzc29jaWF0ZWRGZWF0dXJlU2VydmljZVNvdXJjZVVybCA9IHNvdXJjZVVybC5yZXBsYWNlKCcvU2NlbmVTZXJ2ZXInLCAnL0ZlYXR1cmVTZXJ2ZXInKVxuICAgICAgICBjb25zdCBhc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2VQcm94eUNvbmZpZyA9IHsgLi4ucHJveHlTZXR0aW5nQ29uZmlnLCBzb3VyY2VVcmw6IGFzc29jaWF0ZWRGZWF0dXJlU2VydmljZVNvdXJjZVVybCB9XG4gICAgICAgIG5ld1Byb3h5U2V0dGluZ0NvbmZpZ3NbYXNzb2NpYXRlZEZlYXR1cmVTZXJ2aWNlU291cmNlVXJsXSA9IGFzc29jaWF0ZWRGZWF0dXJlU2VydmljZVByb3h5Q29uZmlnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBuZXdQcm94eVNldHRpbmdDb25maWdzW3NvdXJjZVVybF1cbiAgICAgIGlmIChpc1NjZW5lU2VydmljZSkge1xuICAgICAgICBjb25zdCBhc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2VTb3VyY2VVcmwgPSBzb3VyY2VVcmwucmVwbGFjZSgnL1NjZW5lU2VydmVyJywgJy9GZWF0dXJlU2VydmVyJylcbiAgICAgICAgZGVsZXRlIG5ld1Byb3h5U2V0dGluZ0NvbmZpZ3NbYXNzb2NpYXRlZEZlYXR1cmVTZXJ2aWNlU291cmNlVXJsXVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG5ld1Byb3h5U2V0dGluZ0NvbmZpZ3MpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IG5lZWRQcm94eUl0ZW1zID0gdGhpcy5wcm9wcy5uZWVkUHJveHlJdGVtc1xuICAgIGNvbnN0IHByb3h5U2V0dGluZ0NvbmZpZ3MgPSB0aGlzLnByb3BzLnByb3h5U2V0dGluZ0NvbmZpZ3NcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnaC0xMDAgdy0xMDAgYmctbGlnaHQtMzAwJywgeyBbdGhpcy5wcm9wcy5jbGFzc05hbWVdOiAhIXRoaXMucHJvcHMuY2xhc3NOYW1lIH0pfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3N1YnNjcmliZXItd2FybmluZyc+XG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdWJzY3JpYmVyV2FybmluZycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3Vic2NyaWJlcldhcm5pbmcgfSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWNvbmRhcnktdGl0bGUgbXQtNSBtYi00Jz5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RhdGEnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRhdGEgfSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9J2NvbnRlbnQtdGFibGUgdy0xMDAnPlxuICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9J2NvbnRlbnQtdGFibGUtaGVhZGVyIGNvbnRhaW5lcic+XG4gICAgICAgICAgICA8dHIgY2xhc3NOYW1lPSdyb3cnPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jb2x1bW5OYW1lKS5tYXAoKGtleSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPHRoIGtleT17aX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd0ZXh0LXRydW5jYXRlJywgeyAnY29sLTQnOiBrZXkgPT09ICdzdWJzY3JpYmVyQ29udGVudCcsICdjb2wtMic6IGtleSAhPT0gJ3N1YnNjcmliZXJDb250ZW50JyB9KX0gdGl0bGU9e3RoaXMuY29sdW1uTmFtZVtrZXldfT5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jb2x1bW5OYW1lW2tleV19XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuXG4gICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT0nY29udGFpbmVyJz5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmVlZFByb3h5SXRlbXMgJiYgT2JqZWN0LmtleXMobmVlZFByb3h5SXRlbXMpLm1hcCgoc291cmNlVXJsLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXNXaXRoU2FtZVNvdXJjZVVSbCA9IG5lZWRQcm94eUl0ZW1zW3NvdXJjZVVybF1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFByb3h5U2V0dGluZ0l0ZW1cbiAgICAgICAgICAgICAgICAgICAgaXNQcmVtaXVtPXtpdGVtc1dpdGhTYW1lU291cmNlVVJsLmlzUHJlbWl1bX0gaXNTdWJzY3JpYmVyPXtpdGVtc1dpdGhTYW1lU291cmNlVVJsLmlzU3Vic2NyaWJlcn0gc291cmNlVXJsPXtzb3VyY2VVcmx9XG4gICAgICAgICAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH0ga2V5PXtpfSBvbkNoYW5nZT17dGhpcy5vblByb3h5Q2hhbmdlfSBsYWJlbD17aXRlbXNXaXRoU2FtZVNvdXJjZVVSbC5pdGVtcz8uWzBdPy5sYWJlbH0gLy8gVE9ETzogaGFuZGxlIG90aGVyIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIHByb3h5U2V0dGluZ0NvbmZpZz17cHJveHlTZXR0aW5nQ29uZmlncz8uW3NvdXJjZVVybF19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuXG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFByb3h5U2V0dGluZyA9IGluamVjdEludGwod2l0aFN0eWxlcyhfUHJveHlTZXR0aW5nLCAnUHJveHlTZXR0aW5nJykpXG4iLCJpbXBvcnQgeyBSZWFjdCwgdHlwZSBJbnRsU2hhcGUsIEltbXV0YWJsZSwgU2VydmljZU1hbmFnZXIsIFNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU3dpdGNoLCBOdW1lcmljSW5wdXQsIFNlbGVjdCwgZGVmYXVsdE1lc3NhZ2VzLCBMaW5rIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IHsgdHlwZSBQcm94eVNldHRpbmdDb25maWcgfSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHsgQ2hlY2tPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vY2hlY2snXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHByb3h5U2V0dGluZ0NvbmZpZzogUHJveHlTZXR0aW5nQ29uZmlnXG4gIHNvdXJjZVVybDogc3RyaW5nXG4gIGlzUHJlbWl1bTogYm9vbGVhblxuICBpc1N1YnNjcmliZXI6IGJvb2xlYW5cbiAgaW50bDogSW50bFNoYXBlXG4gIGxhYmVsOiBzdHJpbmdcbiAgb25DaGFuZ2U6IChzb3VyY2VVcmw6IHN0cmluZywgcHJveHlDb25maWc6IFByb3h5U2V0dGluZ0NvbmZpZykgPT4gdm9pZCAvLyBwcm94eUNvbmZpZyB3aWxsIGJlIGBudWxsYCBpZiBpdCBpcyByZW1vdmVkXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGlzSG9zdGVkSW5TYW1lUG9ydGFsOiBib29sZWFuXG59XG5cbmNvbnN0IE1JTl9ISVRTX1BFUl9JTlRFUlZBTCA9IDFcblxudHlwZSBJbnRlcnZhbFVuaXQgPSAnbm9uZScgfCAnc2Vjb25kJyB8ICdtaW51dGUnIHwgJ2hvdXInIHwgJ2RheSdcblxuZXhwb3J0IGNsYXNzIFByb3h5U2V0dGluZ0l0ZW0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBfX3VubW91bnQgPSBmYWxzZVxuICBpbnRlcnZhbCA9IHtcbiAgICBub25lOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW50ZXJ2YWxOb25lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5pbnRlcnZhbE5vbmUgfSksXG4gICAgc2Vjb25kOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW50ZXJ2YWxTZWNvbmQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmludGVydmFsU2Vjb25kIH0pLFxuICAgIG1pbnV0ZTogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2ludGVydmFsTWludXRlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5pbnRlcnZhbE1pbnV0ZSB9KSxcbiAgICBob3VyOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW50ZXJ2YWxIb3VyJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5pbnRlcnZhbEhvdXIgfSksXG4gICAgZGF5OiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW50ZXJ2YWxEYXknLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmludGVydmFsRGF5IH0pXG4gIH1cblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNIb3N0ZWRJblNhbWVQb3J0YWw6IHRydWVcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIHRoaXMuc2V0SXNIb3N0ZWRJblNhbWVQb3J0YWwoKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIGlmIChwcmV2UHJvcHMuc291cmNlVXJsICE9PSB0aGlzLnByb3BzLnNvdXJjZVVybCkge1xuICAgICAgdGhpcy5zZXRJc0hvc3RlZEluU2FtZVBvcnRhbCgpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxuICB9XG5cbiAgc2V0SXNIb3N0ZWRJblNhbWVQb3J0YWwgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5zb3VyY2VVcmwgJiYgU2VydmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mZXRjaFNlcnZpY2VJbmZvKHRoaXMucHJvcHMuc291cmNlVXJsKS50aGVuKHJlcyA9PiB7XG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0hvc3RlZEluU2FtZVBvcnRhbDogcmVzLmlzSG9zdGVkSW5TYW1lUG9ydGFsIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGdldEludGVydmFsVW5pdCAoaW50ZXJ2YWxTZWNvbmRzOiBudW1iZXIpOiBJbnRlcnZhbFVuaXQge1xuICAgIGlmICghaW50ZXJ2YWxTZWNvbmRzKSB7XG4gICAgICByZXR1cm4gJ25vbmUnXG4gICAgfVxuICAgIHN3aXRjaCAoaW50ZXJ2YWxTZWNvbmRzKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiAnc2Vjb25kJ1xuICAgICAgY2FzZSA2MDpcbiAgICAgICAgcmV0dXJuICdtaW51dGUnXG4gICAgICBjYXNlIDM2MDA6XG4gICAgICAgIHJldHVybiAnaG91cidcbiAgICAgIGNhc2UgODY0MDA6XG4gICAgICAgIHJldHVybiAnZGF5J1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdub25lJ1xuICAgIH1cbiAgfVxuXG4gIGdldEludGVydmFsU2Vjb25kcyAoaW50ZXJ2YWxVbml0OiBJbnRlcnZhbFVuaXQpOiBudW1iZXIge1xuICAgIGlmICghaW50ZXJ2YWxVbml0KSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBzd2l0Y2ggKGludGVydmFsVW5pdCkge1xuICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgIHJldHVybiA2MFxuICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgIHJldHVybiAzNjAwXG4gICAgICBjYXNlICdkYXknOlxuICAgICAgICByZXR1cm4gODY0MDBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgb25Ub2dnbGVQcm94eSA9ICgpID0+IHtcbiAgICBsZXQgbmV3UHJveHlDb25maWc6IFByb3h5U2V0dGluZ0NvbmZpZ1xuICAgIGlmICh0aGlzLnByb3BzLnByb3h5U2V0dGluZ0NvbmZpZykge1xuICAgICAgbmV3UHJveHlDb25maWcgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1Byb3h5Q29uZmlnID0gSW1tdXRhYmxlKHsgc291cmNlVXJsOiB0aGlzLnByb3BzLnNvdXJjZVVybCB9KVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMuc291cmNlVXJsLCBuZXdQcm94eUNvbmZpZylcbiAgfVxuXG4gIG9uSGl0c1BlckluZXJ2YWxDaGFuZ2UgPSAodmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGNvbnN0IGhpdHNQZXJJbnRlcnZhbCA9IHZhbHVlXG5cbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBzb3VyY2VVcmw6IHRoaXMucHJvcHMuc291cmNlVXJsLFxuICAgICAgaGl0c1BlckludGVydmFsXG4gICAgfVxuICAgIGNvbnN0IG5ld1Byb3h5Q29uZmlnID0gdGhpcy5wcm9wcy5wcm94eVNldHRpbmdDb25maWcgPyB7IC4uLnRoaXMucHJvcHMucHJveHlTZXR0aW5nQ29uZmlnLCAuLi5jb25maWcgfSA6IGNvbmZpZ1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5zb3VyY2VVcmwsIG5ld1Byb3h5Q29uZmlnKVxuICB9XG5cbiAgb25JbnRlcnZhbFVuaXRDaGFuZ2UgPSBlID0+IHtcbiAgICBjb25zdCBpbnRlcnZhbFVuaXQ6IEludGVydmFsVW5pdCA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgaW50ZXJ2YWxTZWNvbmRzOiBudW1iZXIgPSB0aGlzLmdldEludGVydmFsU2Vjb25kcyhpbnRlcnZhbFVuaXQpXG5cbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBzb3VyY2VVcmw6IHRoaXMucHJvcHMuc291cmNlVXJsLFxuICAgICAgaW50ZXJ2YWxTZWNvbmRzXG4gICAgfVxuICAgIGNvbnN0IG5ld1Byb3h5Q29uZmlnID0gdGhpcy5wcm9wcy5wcm94eVNldHRpbmdDb25maWcgPyB7IC4uLnRoaXMucHJvcHMucHJveHlTZXR0aW5nQ29uZmlnLCAuLi5jb25maWcgfSA6IGNvbmZpZ1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5zb3VyY2VVcmwsIG5ld1Byb3h5Q29uZmlnKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc291cmNlVXJsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5wcm9wcy5sYWJlbFxuICAgIGNvbnN0IHVzZVByb3h5ID0gISF0aGlzLnByb3BzLnByb3h5U2V0dGluZ0NvbmZpZ1xuICAgIGNvbnN0IHNlbGVjdGVkSW50ZXJ2YWxVbml0ID0gdGhpcy5nZXRJbnRlcnZhbFVuaXQodGhpcy5wcm9wcy5wcm94eVNldHRpbmdDb25maWc/LmludGVydmFsU2Vjb25kcylcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXG4gICAgY29uc3Qgc291cmNlVXJsV2l0aFRva2VuID0gYCR7dGhpcy5wcm9wcy5zb3VyY2VVcmx9P3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT0ncm93IG0tMCBjb250ZW50LXRhYmxlLXRyJz5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT0nY29sLTInIHRpdGxlPXshdGhpcy5zdGF0ZS5pc0hvc3RlZEluU2FtZVBvcnRhbCA/IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkaXNhYmxlZFByb3h5VG9vbHRpcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZGlzYWJsZWRQcm94eVRvb2x0aXAgfSkgOiBudWxsfT5cbiAgICAgICAgICA8U3dpdGNoIG9uQ2hhbmdlPXt0aGlzLm9uVG9nZ2xlUHJveHl9IGNoZWNrZWQ9e3VzZVByb3h5fSBjbGFzc05hbWU9J21yLTInIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0hvc3RlZEluU2FtZVBvcnRhbH0gYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2F1dGhvcml6ZWQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmF1dGhvcml6ZWQgfSl9IGFyaWEtY2hlY2tlZD17dXNlUHJveHl9IC8+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9J2NvbC00JyB0aXRsZT17bGFiZWx9PlxuICAgICAgICAgIDxMaW5rIHRvPXtzb3VyY2VVcmxXaXRoVG9rZW59IHRhcmdldD0nX2JsYW5rJyBjbGFzc05hbWU9J2ZvbnQtc2l6ZS0xMyBweC0wIHRleHQtdHJ1bmNhdGUgZC1ibG9jayB0ZXh0LWxlZnQnIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdWJzY3JpYmVyQ29udGVudCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3Vic2NyaWJlckNvbnRlbnQgfSl9PlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT0nY29sLTInPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNQcmVtaXVtICYmIDxDaGVja091dGxpbmVkIHNpemU9J20nIC8+XG4gICAgICAgICAgfVxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQgY2xhc3NOYW1lPSdjb2wtMic+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlUHJveHkgJiZcbiAgICAgICAgICAgICAgPE51bWVyaWNJbnB1dFxuICAgICAgICAgICAgICAgIHNpemU9J3NtJyB2YWx1ZT17dGhpcy5wcm9wcy5wcm94eVNldHRpbmdDb25maWc/LmhpdHNQZXJJbnRlcnZhbH0gb25DaGFuZ2U9e3RoaXMub25IaXRzUGVySW5lcnZhbENoYW5nZX0gcHJlY2lzaW9uPXswfVxuICAgICAgICAgICAgICAgIG1pbj17TUlOX0hJVFNfUEVSX0lOVEVSVkFMfSBjbGFzc05hbWU9J3JlcXVlc3QtbGltaXQnIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdyZXF1ZXN0TGltaXQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlcXVlc3RMaW1pdCB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9J2NvbC0yJz5cbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VQcm94eSAmJlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZEludGVydmFsVW5pdH0gb25DaGFuZ2U9e3RoaXMub25JbnRlcnZhbFVuaXRDaGFuZ2V9IHNpemU9J3NtJyBjbGFzc05hbWU9J3JlcXVlc3QtaW50ZXJ2YWwnIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdyZXF1ZXN0SW50ZXJ2YWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlcXVlc3RJbnRlcnZhbCB9KX0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5pbnRlcnZhbCkubWFwKChpbnR2LCBpKSA9PiA8b3B0aW9uIHZhbHVlPXtpbnR2fSBrZXk9e2l9IHNlbGVjdGVkPXtpbnR2ID09PSBzZWxlY3RlZEludGVydmFsVW5pdH0+e3RoaXMuaW50ZXJ2YWxbaW50dl19PC9vcHRpb24+KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgfVxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIElNUHJveHlKc29uLCB0eXBlIFByb3h5SnNvbiwgdHlwZSBEYXRhU291cmNlLCBEYXRhU291cmNlTWFuYWdlciwgZ2V0QXBwU3RvcmUsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBkYXRhU291cmNlVXRpbHMsIFNlcnZpY2VNYW5hZ2VyLCB0eXBlIFV0aWxpdHksIHR5cGUgSU1VdGlsaXR5SnNvbiwgcHJveHlVdGlscywgVXRpbGl0eU1hbmFnZXIsIEFsbERhdGFTb3VyY2VUeXBlcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IGRhdGFDb21wb25lbnRzVXRpbHMgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL2RhdGEtc291cmNlLXNlbGVjdG9yJ1xuaW1wb3J0IHsgdHlwZSBBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJyAvLyBvbmx5IHVzZWQgYXMgdHlwZVxuaW1wb3J0IHsgdHlwZSBOZWVkUHJveHlJdGVtcyB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROZWVkUHJveHlJdGVtcyAoKTogUHJvbWlzZTxOZWVkUHJveHlJdGVtcz4ge1xuICBjb25zdCBuZWVkUHJveHlEYXRhU291cmNlcyA9IGF3YWl0IGdldE5lZWRQcm94eURhdGFTb3VyY2VzKClcbiAgY29uc3QgbmVlZFByb3h5VXRpbGl0aWVzID0gYXdhaXQgZ2V0TmVlZFByb3h5VXRpbGl0aWVzKClcbiAgY29uc3QgbmVlZFByb3h5SXRlbXM6IE5lZWRQcm94eUl0ZW1zID0ge31cbiAgT2JqZWN0LmtleXMobmVlZFByb3h5RGF0YVNvdXJjZXMpLmZvckVhY2goc291cmNlVXJsID0+IHtcbiAgICBpZiAoIW5lZWRQcm94eUl0ZW1zW3NvdXJjZVVybF0pIHtcbiAgICAgIG5lZWRQcm94eUl0ZW1zW3NvdXJjZVVybF0gPSB7IGl0ZW1zOiBbXSwgaXNQcmVtaXVtOiBuZWVkUHJveHlEYXRhU291cmNlc1tzb3VyY2VVcmxdLmlzUHJlbWl1bSwgaXNTdWJzY3JpYmVyOiBuZWVkUHJveHlEYXRhU291cmNlc1tzb3VyY2VVcmxdLmlzU3Vic2NyaWJlciB9XG4gICAgfVxuICAgIG5lZWRQcm94eUl0ZW1zW3NvdXJjZVVybF0uaXRlbXMgPSBuZWVkUHJveHlJdGVtc1tzb3VyY2VVcmxdLml0ZW1zLmNvbmNhdChuZWVkUHJveHlEYXRhU291cmNlc1tzb3VyY2VVcmxdLmRhdGFTb3VyY2VzLm1hcChkcyA9PiAoeyBsYWJlbDogZGF0YVNvdXJjZVV0aWxzLmdldExhYmVsRnJvbUFyY0dJU1NlcnZpY2VVcmwoc291cmNlVXJsKSwgaWQ6IGRzLmlkIH0pKSlcbiAgfSlcbiAgT2JqZWN0LmtleXMobmVlZFByb3h5VXRpbGl0aWVzKS5mb3JFYWNoKHNvdXJjZVVybCA9PiB7XG4gICAgaWYgKCFuZWVkUHJveHlJdGVtc1tzb3VyY2VVcmxdKSB7XG4gICAgICBuZWVkUHJveHlJdGVtc1tzb3VyY2VVcmxdID0geyBpdGVtczogW10sIGlzUHJlbWl1bTogbmVlZFByb3h5VXRpbGl0aWVzW3NvdXJjZVVybF0uaXNQcmVtaXVtLCBpc1N1YnNjcmliZXI6IG5lZWRQcm94eVV0aWxpdGllc1tzb3VyY2VVcmxdLmlzU3Vic2NyaWJlciB9XG4gICAgfVxuICAgIG5lZWRQcm94eUl0ZW1zW3NvdXJjZVVybF0uaXRlbXMgPSBuZWVkUHJveHlJdGVtc1tzb3VyY2VVcmxdLml0ZW1zLmNvbmNhdChuZWVkUHJveHlVdGlsaXRpZXNbc291cmNlVXJsXS51dGlsaXRpZXMubWFwKHUgPT4ge1xuICAgICAgY29uc3QgdXRpbGl0eUpzb24gPSBVdGlsaXR5TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFV0aWxpdHlKc29uKHUudXRpbGl0eUlkKVxuICAgICAgcmV0dXJuIHsgbGFiZWw6IHV0aWxpdHlKc29uPy5sYWJlbCB8fCB1dGlsaXR5SnNvbj8ubmFtZSB8fCB1dGlsaXR5SnNvbj8uc291cmNlTGFiZWwsIGlkOiB1LnV0aWxpdHlJZCB9XG4gICAgfSkpXG4gIH0pXG4gIHJldHVybiBuZWVkUHJveHlJdGVtc1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmVlZFByb3h5RGF0YVNvdXJjZXMgKCk6IFByb21pc2U8eyBbc291cmNlVXJsOiBzdHJpbmddOiB7IGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfT4ge1xuICBjb25zdCBkYXRhU291cmNlSnNvbnMgPSBnZXRBcHBTdG9yZSgpPy5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5kYXRhU291cmNlc1xuICBjb25zdCBjaGVja1Byb21pc2VzOiBBcnJheTxQcm9taXNlPHsgW3NvdXJjZVVybDogc3RyaW5nXTogeyBkYXRhU291cmNlczogRGF0YVNvdXJjZVtdLCBpc1ByZW1pdW06IGJvb2xlYW4sIGlzU3Vic2NyaWJlcjogYm9vbGVhbiB9IH0+PiA9IFtdXG4gIGlmIChkYXRhU291cmNlSnNvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhU291cmNlSnNvbnMpLmZvckVhY2goZHNJZCA9PiB7XG4gICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICAgICAgY2hlY2tQcm9taXNlcy5wdXNoKHRyYXZlcnNlVG9HZXROZWVkUHJveHlEYXRhU291cmNlcyhkcykpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKGNoZWNrUHJvbWlzZXMpLnRoZW4oY2hlY2tSZXN1bHRBcnIgPT4ge1xuICAgIGxldCBmaW5hbFJlc3VsdDogeyBbc291cmNlVXJsOiBzdHJpbmddOiB7IGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfSA9IHt9XG4gICAgY29uc3QgZnVsZmlsbGVkUmVzdWx0cyA9IGNoZWNrUmVzdWx0QXJyLmZpbHRlcihjID0+IGMuc3RhdHVzID09PSAnZnVsZmlsbGVkJylcbiAgICAgIC5tYXAoYyA9PiAoYyBhcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PHsgW3NvdXJjZVVybDogc3RyaW5nXTogeyBkYXRhU291cmNlczogRGF0YVNvdXJjZVtdLCBpc1ByZW1pdW06IGJvb2xlYW4sIGlzU3Vic2NyaWJlcjogYm9vbGVhbiB9IH0+KS52YWx1ZSlcbiAgICBmdWxmaWxsZWRSZXN1bHRzLmZvckVhY2gocmVzID0+IHtcbiAgICAgIHJlcyAmJiBPYmplY3Qua2V5cyhyZXMpLmZvckVhY2goc291cmNlVXJsID0+IHtcbiAgICAgICAgaWYgKCFmaW5hbFJlc3VsdFtzb3VyY2VVcmxdKSB7XG4gICAgICAgICAgZmluYWxSZXN1bHQgPSB7IC4uLmZpbmFsUmVzdWx0LCAuLi5yZXMgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbmFsUmVzdWx0W3NvdXJjZVVybF0uZGF0YVNvdXJjZXMgPSBmaW5hbFJlc3VsdFtzb3VyY2VVcmxdLmRhdGFTb3VyY2VzLmNvbmNhdChyZXNbc291cmNlVXJsXS5kYXRhU291cmNlcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBmaW5hbFJlc3VsdFxuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmVlZFByb3h5VXRpbGl0aWVzICgpOiBQcm9taXNlPHsgW3NvdXJjZVVybDogc3RyaW5nXTogeyB1dGlsaXRpZXM6IFV0aWxpdHlbXSwgaXNQcmVtaXVtOiBib29sZWFuLCBpc1N1YnNjcmliZXI6IGJvb2xlYW4gfSB9PiB7XG4gIGNvbnN0IHV0aWxpdHlKc29ucyA9IGdldEFwcFN0b3JlKCk/LmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWc/LnV0aWxpdGllc1xuICBjb25zdCBjaGVja1Byb21pc2VzOiBBcnJheTxQcm9taXNlPHsgW3NvdXJjZVVybDogc3RyaW5nXTogeyB1dGlsaXRpZXM6IFV0aWxpdHlbXSwgaXNQcmVtaXVtOiBib29sZWFuLCBpc1N1YnNjcmliZXI6IGJvb2xlYW4gfSB9Pj4gPSBbXVxuICBpZiAodXRpbGl0eUpzb25zKSB7XG4gICAgT2JqZWN0LmtleXModXRpbGl0eUpzb25zKS5mb3JFYWNoKHVJZCA9PiB7XG4gICAgICBjaGVja1Byb21pc2VzLnB1c2goZ2V0U2luZ2xlTmVlZFByb3h5VXRpbGl0eSh1dGlsaXR5SnNvbnNbdUlkXSkpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKGNoZWNrUHJvbWlzZXMpLnRoZW4oY2hlY2tSZXN1bHRBcnIgPT4ge1xuICAgIGxldCBmaW5hbFJlc3VsdDogeyBbc291cmNlVXJsOiBzdHJpbmddOiB7IHV0aWxpdGllczogVXRpbGl0eVtdLCBpc1ByZW1pdW06IGJvb2xlYW4sIGlzU3Vic2NyaWJlcjogYm9vbGVhbiB9IH0gPSB7fVxuICAgIGNvbnN0IGZ1bGZpbGxlZFJlc3VsdHMgPSBjaGVja1Jlc3VsdEFyci5maWx0ZXIoYyA9PiBjLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpXG4gICAgICAubWFwKGMgPT4gKGMgYXMgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDx7IFtzb3VyY2VVcmw6IHN0cmluZ106IHsgdXRpbGl0aWVzOiBVdGlsaXR5W10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfT4pLnZhbHVlKVxuICAgIGZ1bGZpbGxlZFJlc3VsdHMuZm9yRWFjaChyZXMgPT4ge1xuICAgICAgcmVzICYmIE9iamVjdC5rZXlzKHJlcykuZm9yRWFjaChzb3VyY2VVcmwgPT4ge1xuICAgICAgICBpZiAoIWZpbmFsUmVzdWx0W3NvdXJjZVVybF0pIHtcbiAgICAgICAgICBmaW5hbFJlc3VsdCA9IHsgLi4uZmluYWxSZXN1bHQsIC4uLnJlcyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluYWxSZXN1bHRbc291cmNlVXJsXS51dGlsaXRpZXMgPSBmaW5hbFJlc3VsdFtzb3VyY2VVcmxdLnV0aWxpdGllcy5jb25jYXQocmVzW3NvdXJjZVVybF0udXRpbGl0aWVzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIGZpbmFsUmVzdWx0XG4gIH0pXG59XG5cbi8qKlxuICogSWYgZm9yY2VUb0NyZWF0ZVByb3h5IGlzIHRydWUsIHdpbGwgZm9yY2UgdG8gY3JlYXRlIHByb3h5IGZvciBhbGwgc3Vic2NyaWJlciBkZXNjZW5kYW50IGRhdGEgc291cmNlcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdHJhdmVyc2VUb0dldE5lZWRQcm94eURhdGFTb3VyY2VzIChkYXRhU291cmNlOiBEYXRhU291cmNlLCBmb3JjZVRvQ3JlYXRlUHJveHk6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8eyBbc291cmNlVXJsOiBzdHJpbmddOiB7IGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfT4ge1xuICBjb25zdCByZXN1bHQ6IHsgW3NvdXJjZVVybDogc3RyaW5nXTogeyBkYXRhU291cmNlczogRGF0YVNvdXJjZVtdLCBpc1ByZW1pdW06IGJvb2xlYW4sIGlzU3Vic2NyaWJlcjogYm9vbGVhbiB9IH0gPSB7fVxuICBpZiAoIWRhdGFTb3VyY2UpIHtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbiAgaWYgKGRhdGFTb3VyY2UuaXNEYXRhU291cmNlU2V0ICYmICFkYXRhU291cmNlLmFyZUNoaWxkRGF0YVNvdXJjZXNDcmVhdGVkKCkpIHtcbiAgICAvLyBJZiBpcyBkYXRhIHNvdXJjZSBzZXQsIHdpbGwgd2FpdCB1dGlsIGFsbCBjaGlsZCBkYXRhIHNvdXJjZXMgYXJlIGNyZWF0ZWQuXG4gICAgYXdhaXQgZGF0YVNvdXJjZS5jaGlsZERhdGFTb3VyY2VzUmVhZHkoKVxuICB9XG4gIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpPy5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy53aWRnZXRzXG4gIGNvbnN0IGlzTWFpbkRzID0gZGF0YVNvdXJjZS5nZXRNYWluRGF0YVNvdXJjZSgpPy5pZCA9PT0gZGF0YVNvdXJjZS5pZFxuICBjb25zdCBpc1VzZWQgPSBkYXRhQ29tcG9uZW50c1V0aWxzLmdldFdpZGdldHNVc2luZ0RzT3JJdHNWaWV3cyhkYXRhU291cmNlLmlkLCB3aWRnZXRzLCBmYWxzZSkubGVuZ3RoID4gMFxuICBjb25zdCBzb3VyY2VVcmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0RnVsbEFyY0dJU1NlcnZpY2VVcmwoZGF0YVNvdXJjZS5nZXREYXRhU291cmNlSnNvbigpPy51cmwsIGZhbHNlKVxuICBpZiAoaXNNYWluRHMgJiYgc291cmNlVXJsICYmIChmb3JjZVRvQ3JlYXRlUHJveHkgfHwgaXNVc2VkKSkge1xuICAgIGNvbnN0IGlzUHJtID0gYXdhaXQgcHJveHlVdGlscy5pc0RhdGFTb3VyY2VQcmVtaXVtKGRhdGFTb3VyY2UuZ2V0RGF0YVNvdXJjZUpzb24oKSlcbiAgICBjb25zdCBpc1N1YiA9IGF3YWl0IHByb3h5VXRpbHMuaXNEYXRhU291cmNlU3Vic2NyaWJlcihkYXRhU291cmNlLmdldERhdGFTb3VyY2VKc29uKCkpXG4gICAgaWYgKGlzUHJtIHx8IGlzU3ViKSB7XG4gICAgICByZXN1bHRbc291cmNlVXJsXSA9IHtcbiAgICAgICAgZGF0YVNvdXJjZXM6IFtkYXRhU291cmNlXSxcbiAgICAgICAgaXNQcmVtaXVtOiBpc1BybSxcbiAgICAgICAgaXNTdWJzY3JpYmVyOiBpc1N1YlxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBjaGVja0NoaWxkRHNzUHJvbWlzZXM6IEFycmF5PFByb21pc2U8eyBbc291cmNlVXJsOiBzdHJpbmddOiB7IGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfT4+ID0gW11cbiAgaWYgKGlzTWFpbkRzICYmIGRhdGFTb3VyY2UuaXNEYXRhU291cmNlU2V0KSB7XG4gICAgY29uc3QgaXNNYXAgPSBkYXRhU291cmNlLnR5cGUgPT09IEFsbERhdGFTb3VyY2VUeXBlcy5XZWJNYXAgfHwgZGF0YVNvdXJjZS50eXBlID09PSBBbGxEYXRhU291cmNlVHlwZXMuV2ViU2NlbmVcbiAgICAvLyBJZiBpcyBhIHdlYm1hcC93ZWJzY2VuZSBkYXRhIHNvdXJjZSBhbmQgaXMgdXNlZCAoY3VycmVudGx5IG9ubHkgbWFwIHdpZGdldCksIHdpbGwgZm9yY2UgdG8gY3JlYXRlIHByb3hpZXMgZm9yIGFsbCBzdWJzY3JpYmVyIGRlc2NlbmRhbnQgZGF0YSBzb3VyY2VzLlxuICAgIC8vIEJlY2F1c2UgbWFwIHdpZGdldCB3aWxsIGxvYWQgYWxsIGxheWVycy5cbiAgICBjb25zdCBhbGxDaGlsZERhdGFTb3VyY2VzTmVlZFByb3h5ID0gKGlzTWFwICYmIGlzVXNlZCkgfHwgZm9yY2VUb0NyZWF0ZVByb3h5XG4gICAgZGF0YVNvdXJjZS5nZXRDaGlsZERhdGFTb3VyY2VzKCkuZm9yRWFjaChjaGlsZERzID0+IHtcbiAgICAgIGNoZWNrQ2hpbGREc3NQcm9taXNlcy5wdXNoKHRyYXZlcnNlVG9HZXROZWVkUHJveHlEYXRhU291cmNlcyhjaGlsZERzLCBhbGxDaGlsZERhdGFTb3VyY2VzTmVlZFByb3h5KSlcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChjaGVja0NoaWxkRHNzUHJvbWlzZXMpLnRoZW4oY2hlY2tDaGlsZERzc1Jlc3VsdEFyciA9PiB7XG4gICAgbGV0IHBhcmVudEFuZENoaWxkcmVuUmVzOiB7IFtzb3VyY2VVcmw6IHN0cmluZ106IHsgZGF0YVNvdXJjZXM6IERhdGFTb3VyY2VbXSwgaXNQcmVtaXVtOiBib29sZWFuLCBpc1N1YnNjcmliZXI6IGJvb2xlYW4gfSB9ID0gcmVzdWx0XG4gICAgY29uc3QgZnVsZmlsbGVkQ2hpbGREc3NSZXN1bHRzID0gY2hlY2tDaGlsZERzc1Jlc3VsdEFyci5maWx0ZXIoYyA9PiBjLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpXG4gICAgICAubWFwKGMgPT4gKGMgYXMgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDx7IFtzb3VyY2VVcmw6IHN0cmluZ106IHsgZGF0YVNvdXJjZXM6IERhdGFTb3VyY2VbXSwgaXNQcmVtaXVtOiBib29sZWFuLCBpc1N1YnNjcmliZXI6IGJvb2xlYW4gfSB9PikudmFsdWUpXG4gICAgZnVsZmlsbGVkQ2hpbGREc3NSZXN1bHRzLmZvckVhY2gocmVzID0+IHtcbiAgICAgIHJlcyAmJiBPYmplY3Qua2V5cyhyZXMpLmZvckVhY2goc291cmNlVXJsID0+IHtcbiAgICAgICAgaWYgKCFwYXJlbnRBbmRDaGlsZHJlblJlc1tzb3VyY2VVcmxdKSB7XG4gICAgICAgICAgcGFyZW50QW5kQ2hpbGRyZW5SZXMgPSB7IC4uLnBhcmVudEFuZENoaWxkcmVuUmVzLCAuLi5yZXMgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudEFuZENoaWxkcmVuUmVzW3NvdXJjZVVybF0uZGF0YVNvdXJjZXMgPSBwYXJlbnRBbmRDaGlsZHJlblJlc1tzb3VyY2VVcmxdLmRhdGFTb3VyY2VzLmNvbmNhdChyZXNbc291cmNlVXJsXS5kYXRhU291cmNlcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBwYXJlbnRBbmRDaGlsZHJlblJlc1xuICB9KVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRTaW5nbGVOZWVkUHJveHlVdGlsaXR5ICh1dGlsaXR5SnNvbjogSU1VdGlsaXR5SnNvbik6IFByb21pc2U8eyBbc291cmNlVXJsOiBzdHJpbmddOiB7IHV0aWxpdGllczogVXRpbGl0eVtdLCBpc1ByZW1pdW06IGJvb2xlYW4sIGlzU3Vic2NyaWJlcjogYm9vbGVhbiB9IH0+IHtcbiAgY29uc3QgcmVzdWx0OiB7IFtzb3VyY2VVcmw6IHN0cmluZ106IHsgdXRpbGl0aWVzOiBVdGlsaXR5W10sIGlzUHJlbWl1bTogYm9vbGVhbiwgaXNTdWJzY3JpYmVyOiBib29sZWFuIH0gfSA9IHt9XG4gIGlmICghdXRpbGl0eUpzb24pIHtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbiAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCk/LmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWc/LndpZGdldHNcbiAgY29uc3QgaXNVc2VkID0gd2lkZ2V0cyAmJiBPYmplY3QudmFsdWVzKHdpZGdldHMpLnNvbWUodyA9PiB3LnVzZVV0aWxpdGllcz8uc29tZSh1ID0+IHUudXRpbGl0eUlkID09PSB1dGlsaXR5SnNvbi5pZCkpXG4gIGNvbnN0IHNvdXJjZVVybCA9IHV0aWxpdHlKc29uLnVybFxuICBpZiAoc291cmNlVXJsICYmIGlzVXNlZCkge1xuICAgIGNvbnN0IGlzUHJtID0gYXdhaXQgcHJveHlVdGlscy5pc1V0aWxpdHlQcmVtaXVtKHV0aWxpdHlKc29uKVxuICAgIGNvbnN0IGlzU3ViID0gYXdhaXQgcHJveHlVdGlscy5pc1V0aWxpdHlTdWJzY3JpYmVyKHV0aWxpdHlKc29uKVxuICAgIGlmIChpc1BybSB8fCBpc1N1Yikge1xuICAgICAgY29uc3QgdXRpbGl0eSA9IGF3YWl0IFV0aWxpdHlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VXRpbGl0eSh1dGlsaXR5SnNvbi5pZClcbiAgICAgIHJlc3VsdFtzb3VyY2VVcmxdID0ge1xuICAgICAgICB1dGlsaXRpZXM6IFt1dGlsaXR5XSxcbiAgICAgICAgaXNQcmVtaXVtOiBpc1BybSxcbiAgICAgICAgaXNTdWJzY3JpYmVyOiBpc1N1YlxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm94eUpzb25Gcm9tU291cmNlVXJsIChzb3VyY2VVcmw6IHN0cmluZywgYXBwUHJveGllczogSW1tdXRhYmxlT2JqZWN0PHsgW3Byb3h5SWQ6IHN0cmluZ106IFByb3h5SnNvbiB9Pik6IElNUHJveHlKc29uIHtcbiAgaWYgKCFzb3VyY2VVcmwgfHwgIWFwcFByb3hpZXMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGxldCBwcm94eTogSU1Qcm94eUpzb24gPSBudWxsXG4gIGZvciAoY29uc3QgcHJveHlJZCBpbiBhcHBQcm94aWVzKSB7XG4gICAgaWYgKGFwcFByb3hpZXNbcHJveHlJZF0/LnNvdXJjZVVybCA9PT0gc291cmNlVXJsKSB7XG4gICAgICBwcm94eSA9IGFwcFByb3hpZXNbcHJveHlJZF1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb3h5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVQcm94eSAoZXhpc3RpbmdQcm94eUpzb246IElNUHJveHlKc29uLCBzb3VyY2VVcmw6IHN0cmluZywgaGl0c1BlckludGVydmFsOiBudW1iZXIsIGludGVydmFsU2Vjb25kczogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGlmICghZXhpc3RpbmdQcm94eUpzb24gfHwgIXNvdXJjZVVybCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGNvbnN0IGlzU291cmNlVXJsU2FtZSA9IGV4aXN0aW5nUHJveHlKc29uLnNvdXJjZVVybCA9PT0gc291cmNlVXJsXG4gIGlmICghaXNTb3VyY2VVcmxTYW1lKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgaXNMaW1pdFNhbWUgPSAoIWV4aXN0aW5nUHJveHlKc29uLmhpdHNQZXJJbnRlcnZhbCAmJiAhaGl0c1BlckludGVydmFsKSB8fCAoZXhpc3RpbmdQcm94eUpzb24uaGl0c1BlckludGVydmFsID09PSBoaXRzUGVySW50ZXJ2YWwpXG4gIGlmICghaXNMaW1pdFNhbWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBjb25zdCBpc0ludGVydmFsU2FtZSA9ICghZXhpc3RpbmdQcm94eUpzb24uaW50ZXJ2YWxTZWNvbmRzICYmICFpbnRlcnZhbFNlY29uZHMpIHx8IChleGlzdGluZ1Byb3h5SnNvbi5pbnRlcnZhbFNlY29uZHMgPT09IGludGVydmFsU2Vjb25kcylcbiAgaWYgKCFpc0ludGVydmFsU2FtZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ2lzdGVyZWRBcHAgKCk6IGJvb2xlYW4ge1xuICBjb25zdCBhcHBJdGVtID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlci5hcHBJbmZvXG4gIGNvbnN0IGlzUmVnaXN0ZXJlZEFwcENhY2hlID0gYXBwSXRlbT8udHlwZUtleXdvcmRzPy5pbmNsdWRlcygnUmVnaXN0ZXJlZCBBcHAnKVxuICByZXR1cm4gaXNSZWdpc3RlcmVkQXBwQ2FjaGVcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5lZWRUb0NvbmZpZ1Byb3h5ICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgaXNPbmxpbmUgPSAhZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpPy5hcHBDb250ZXh0Py5qaW11Q29uZmlnPy5pc0luUG9ydGFsICYmXG4gICAgIWdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwQ29udGV4dD8uamltdUNvbmZpZz8uaXNEZXZFZGl0aW9uXG4gIGlmICghaXNPbmxpbmUpIHtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgaXNSZWdpc3RlcmVkID0gaXNSZWdpc3RlcmVkQXBwKClcbiAgbGV0IGlzT3duZXIgPSBmYWxzZVxuICBpZiAoIWlzUmVnaXN0ZXJlZCkge1xuICAgIGNvbnN0IGFwcEl0ZW0gPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyLmFwcEluZm9cbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LnVzZXI/LnVzZXJuYW1lXG4gICAgaXNPd25lciA9IGFwcEl0ZW0/Lm93bmVyID09PSBjdXJyZW50VXNlclxuICB9XG5cbiAgY29uc3QgY2FuQ3JlYXRlUHJveHkgPSBpc1JlZ2lzdGVyZWQgfHwgaXNPd25lclxuICBpZiAoIWNhbkNyZWF0ZVByb3h5KSB7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmYWxzZSlcbiAgfVxuXG4gIGNvbnN0IG5lZWRQcm94eUl0ZW1zID0gYXdhaXQgZ2V0TmVlZFByb3h5SXRlbXMoKVxuICBjb25zdCBjaGVja0lzU291cmNlVXJsSG9zdGVkSW5TYW1lUG9ydGFsID0gT2JqZWN0LmtleXMobmVlZFByb3h5SXRlbXMpLm1hcChhc3luYyBzb3VyY2VVcmwgPT5cbiAgICBhd2FpdCBTZXJ2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmZldGNoU2VydmljZUluZm8oc291cmNlVXJsKS50aGVuKHJlcyA9PiByZXMuaXNIb3N0ZWRJblNhbWVQb3J0YWwpXG4gIClcbiAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChjaGVja0lzU291cmNlVXJsSG9zdGVkSW5TYW1lUG9ydGFsKVxuICAgIC50aGVuKGNoZWNrUmVzdWx0cyA9PiBjaGVja1Jlc3VsdHMuZmlsdGVyKGMgPT4gYy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKS5tYXAoYyA9PiAoYyBhcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PGJvb2xlYW4+KS52YWx1ZSkpXG4gICAgLnRoZW4ocmVzID0+IHJlcz8ubGVuZ3RoID4gMCAmJiByZXM/LnNvbWUociA9PiByKSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVByb3hpZXMgKHByb3h5SWRzOiBzdHJpbmdbXSwgYWN0aW9uOiBBcHBDb25maWdBY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFwcm94eUlkcyB8fCBwcm94eUlkcy5sZW5ndGggPT09IDAgfHwgIWFjdGlvbikge1xuICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpOyByZXR1cm5cbiAgfVxuICBjb25zdCBkZWxldGVQcm94eVVybCA9IGdldERlbGV0ZVByb3h5VXJsKClcbiAgYXdhaXQgZXNyaS5yZXN0UmVxdWVzdC5yZXF1ZXN0KGRlbGV0ZVByb3h5VXJsLCB7XG4gICAgYXV0aGVudGljYXRpb246IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2Vzc2lvbkJ5VXJsKGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxVcmwpLFxuICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIHByb3hpZXM6IHByb3h5SWRzLmpvaW4oKVxuICAgIH1cbiAgfSkudGhlbihhc3luYyByZXMgPT4ge1xuICAgIHJlcy5yZXN1bHRzICYmIE9iamVjdC52YWx1ZXMocmVzLnJlc3VsdHMpLmZvckVhY2goKHI6IHsgcHJveHlJZDogc3RyaW5nLCBzdWNjZXNzOiBib29sZWFuIH0pID0+IHtcbiAgICAgIGlmIChyLnN1Y2Nlc3MpIHsgLy8gcmVtb3ZlIHByb3h5IGpzb24gaW4gYXBwIGNvbmZpZyB3aGljaCBoYXMgYmVlbiBkZWxldGUgaW4gb3JpZ2luXG4gICAgICAgIHJlbW92ZUFwcFByb3hpZXNJbkNvbmZpZyhyLnByb3h5SWQsIGFjdGlvbilcbiAgICAgIH1cbiAgICB9KVxuICAgIGFjdGlvbj8uZXhlYygpXG4gICAgaWYgKHJlcy5yZXN1bHRzPy5ldmVyeShyID0+IHIuc3VjY2VzcyA9PT0gdHJ1ZSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYERlbGV0aW5nIGV4aXN0aW5nIHByb3h5IGZhaWxlZDogJHtKU09OLnN0cmluZ2lmeShyZXMpfWApXG4gICAgfVxuICB9KS5jYXRjaChhc3luYyBlcnIgPT4ge1xuICAgIHByb3h5SWRzLmZvckVhY2gocHJveHlJZCA9PiB7XG4gICAgICByZW1vdmVBcHBQcm94aWVzSW5Db25maWcocHJveHlJZCwgYWN0aW9uKVxuICAgIH0pXG4gICAgYWN0aW9uPy5leGVjKClcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYERlbGV0aW5nIGV4aXN0aW5nIHByb3h5IGZhaWxlZDogJHtKU09OLnN0cmluZ2lmeShlcnIpfWApXG4gIH0pXG59XG5cbi8qKlxuICogcHJveHlJZCBpcyB0aGUgaWQgb2YgY3JlYXRlZCBwcm94eSwgaXQgaXMgc2F2ZWQgaW4gYGFwcFByb3hpZXNgIGluIHRoZSBhcHAgY29uZmlnLlxuICovXG5mdW5jdGlvbiByZW1vdmVBcHBQcm94aWVzSW5Db25maWcgKHByb3h5SWQ6IHN0cmluZywgYWN0aW9uOiBBcHBDb25maWdBY3Rpb24pIHtcbiAgY29uc3QgZXhpc3RpbmdQcm94eUpzb25zID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5hcHBQcm94aWVzXG4gIGNvbnN0IHByb3h5SnNvbiA9IGV4aXN0aW5nUHJveHlKc29ucyAmJiBPYmplY3QudmFsdWVzKGV4aXN0aW5nUHJveHlKc29ucykuZmluZChwID0+IHAucHJveHlJZCA9PT0gcHJveHlJZClcbiAgcHJveHlKc29uICYmIGFjdGlvbj8ucmVtb3ZlQXBwUHJveHkocHJveHlKc29uLmlkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJveHlSb290VXJsICgpOiBzdHJpbmcge1xuICBjb25zdCBwb3J0YWxVcmwgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5wb3J0YWxVcmxcbiAgY29uc3QgYXBwSWQgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBJZFxuICBjb25zdCBvd25lciA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcEluZm8/Lm93bmVyXG4gIHJldHVybiBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L3VzZXJzLyR7b3duZXJ9L2l0ZW1zLyR7YXBwSWR9YFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3JlYXRlUHJveHlVcmwgKCk6IHN0cmluZyB7XG4gIGNvbnN0IHJvb3RVcmwgPSBnZXRQcm94eVJvb3RVcmwoKVxuICByZXR1cm4gYCR7cm9vdFVybH0vY3JlYXRlUHJveGllc2Bcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlbGV0ZVByb3h5VXJsICgpOiBzdHJpbmcge1xuICBjb25zdCByb290VXJsID0gZ2V0UHJveHlSb290VXJsKClcbiAgcmV0dXJuIGAke3Jvb3RVcmx9L2RlbGV0ZVByb3hpZXNgXG59XG4iLCJleHBvcnQgKiBmcm9tICcuL25hdi1xdWljay1zdHlsZS1pdGVtJ1xuZXhwb3J0ICogZnJvbSAnLi9xdWljay1zdHlsZS1wb3BwZXInXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcywgY2xhc3NOYW1lcywgcG9saXNoZWQgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmludGVyZmFjZSBOYXZRdWlja1N0eWxlSXRlbVByb3BzIHtcbiAgdGl0bGU/OiBzdHJpbmdcbiAgY2hpbGRyZW46IGFueVxuICBzZWxlY3RlZD86IGJvb2xlYW5cbiAgb25DbGljaz86IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gdm9pZFxufVxuXG5jb25zdCB1c2VTdHlsZSA9ICgpID0+IHtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpXG4gIGNvbnN0IHByaW1hcnk2MDAgPSB0aGVtZT8uY29sb3JzPy5wYWxldHRlLnByaW1hcnlbNjAwXVxuICBjb25zdCBsaWdodDIwMCA9IHRoZW1lPy5jb2xvcnM/LnBhbGV0dGUubGlnaHRbMjAwXVxuICBjb25zdCBibGFjayA9IHRoZW1lPy5jb2xvcnM/LmJsYWNrXG5cbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjc3NgXG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogICR7cG9saXNoZWQucmVtKDUwKX07XG4gICAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSg4KX0gICR7cG9saXNoZWQucmVtKDEyKX07XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgY29sb3I6ICR7YmxhY2t9O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtsaWdodDIwMH07XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAmLnNlbGVjdGVkIHtcbiAgICAgICAgb3V0bGluZTogM3B4IHNvbGlkICR7cHJpbWFyeTYwMH07XG4gICAgICB9XG4gICAgICA+Lm92ZXJsYXkge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICBgXG4gIH0sIFtwcmltYXJ5NjAwLCBsaWdodDIwMCwgYmxhY2tdKVxufVxuXG5leHBvcnQgY29uc3QgTmF2UXVpY2tTdHlsZUl0ZW0gPSAocHJvcHM6IE5hdlF1aWNrU3R5bGVJdGVtUHJvcHMpID0+IHtcbiAgY29uc3QgeyB0aXRsZSwgY2hpbGRyZW4sIHNlbGVjdGVkLCBvbkNsaWNrIH0gPSBwcm9wc1xuICBjb25zdCBzdHlsZSA9IHVzZVN0eWxlKClcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNzcz17c3R5bGV9XG4gICAgICB0aXRsZT17dGl0bGV9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3F1aWNrLXN0eWxlLWl0ZW0nLCB7IHNlbGVjdGVkIH0pfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nb3ZlcmxheScgLz5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGhvb2tzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgUGFuZWxIZWFkZXIsIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBTZXR0aW5nUG9wcGVyLCB0eXBlIFNldHRpbmdQb3BwZXJQcm9wcyB9IGZyb20gJy4vc2V0dGluZy1wb3BwZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVpY2tTdHlsZVBvcHBlclByb3BzIGV4dGVuZHMgT21pdDxTZXR0aW5nUG9wcGVyUHJvcHMsICdvbkhlYWRlckNsb3NlJz4ge1xuICBvbkNsb3NlPzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgUXVpY2tTdHlsZVBvcHBlciA9IChwcm9wczogUXVpY2tTdHlsZVBvcHBlclByb3BzKSA9PiB7XG4gIGNvbnN0IHsgb25DbG9zZSwgY2hpbGRyZW4sIGZsb2F0aW5nLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgdHJhbnNsYXRlID0gaG9va3MudXNlVHJhbnNsYXRpb24oZGVmYXVsdE1lc3NhZ2VzKVxuICBjb25zdCBoZWFkZXJUaXRsZSA9IHRyYW5zbGF0ZSgncXVpY2tTdHlsZScpXG5cbiAgcmV0dXJuIChcbiAgICA8U2V0dGluZ1BvcHBlciB7Li4ub3RoZXJzfSBoZWFkZXJUaXRsZT17ZmxvYXRpbmcgPyBoZWFkZXJUaXRsZSA6ICcnfSBvbkhlYWRlckNsb3NlPXtvbkNsb3NlfT5cbiAgICAgIDw+XG4gICAgICAgIHshZmxvYXRpbmcgJiYgPFBhbmVsSGVhZGVyIGNsYXNzTmFtZT0ncHgtNCBweS0yJyB0aXRsZT17aGVhZGVyVGl0bGV9IG9uQ2xvc2U9e29uQ2xvc2V9IC8+fVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8Lz5cbiAgICA8L1NldHRpbmdQb3BwZXI+XG4gIClcbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzLCB0eXBlIFdpZGdldEluaXRSZXNpemVDYWxsYmFjaywgdHlwZSBXaWRnZXRJbml0RHJhZ0NhbGxiYWNrLCBob29rcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IGdldFRoZW1lMiwgc3R5bGVkIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IFBvcHBlciwgdHlwZSBQb3BwZXJQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5cbmNvbnN0IE1PRElGSUVSUyA9IFtcbiAge1xuICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFsdEF4aXM6IHRydWVcbiAgICB9XG4gIH0sIHtcbiAgICBuYW1lOiAnZmxpcCcsXG4gICAgb3B0aW9uczoge1xuICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBbJ2JvdHRvbS1lbmQnLCAndG9wLWVuZCddXG4gICAgfVxuICB9XG5dXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ1BvcHBlclByb3BzIGV4dGVuZHMgUG9wcGVyUHJvcHMge1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIHJlZ2lzdGVyaW5nIGFuZCBsaXN0ZW5pbmcgdG8gcmVzaXplIGZvciB3aWRnZXQsIHdoaWNoIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSBwcm9wcyBvZiB0aGUgd2lkZ2V0LlxuICAgKi9cbiAgb25Jbml0UmVzaXplSGFuZGxlcj86IFdpZGdldEluaXRSZXNpemVDYWxsYmFja1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIHJlZ2lzdGVyaW5nIGFuZCBsaXN0ZW5pbmcgdG8gZHJhZyBmb3Igd2lkZ2V0LCB3aGljaCBjYW4gYmUgcmV0cmlldmVkIGZyb20gcHJvcHMgb2YgdGhlIHdpZGdldC5cbiAgICovXG4gIG9uSW5pdERyYWdIYW5kbGVyPzogV2lkZ2V0SW5pdERyYWdDYWxsYmFja1xufVxuXG5jb25zdCBSb290ID0gc3R5bGVkKFBvcHBlcikoKCkgPT4ge1xuICBjb25zdCB0aGVtZTIgPSBnZXRUaGVtZTIoKVxuICBjb25zdCBkYXJrNjAwID0gdGhlbWUyPy5jb2xvcnM/LnBhbGV0dGUuZGFya1s2MDBdXG4gIGNvbnN0IGRhcms4MDAgPSB0aGVtZTI/LmNvbG9ycz8ucGFsZXR0ZS5kYXJrWzgwMF1cbiAgY29uc3QgbGlnaHQzMDAgPSB0aGVtZTI/LmNvbG9ycz8ucGFsZXR0ZS5saWdodFszMDBdXG4gIGNvbnN0IGxpZ2h0NjAwID0gdGhlbWUyPy5jb2xvcnM/LnBhbGV0dGUubGlnaHRbNjAwXVxuICByZXR1cm4gYFxuICAgIGJhY2tncm91bmQtY29sb3I6ICR7bGlnaHQzMDB9O1xuICAgIGNvbG9yOiAke2Rhcms2MDB9O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICR7bGlnaHQ2MDB9O1xuICAgID4gLnBvcHBlci1ib3gge1xuICAgICAgPiAucGFuZWwtaGVhZGVyIHtcbiAgICAgICAgY29sb3I6ICR7ZGFyazYwMH07XG4gICAgICAgIC5hY3Rpb24tYnRuIHtcbiAgICAgICAgICBjb2xvcjogJHtkYXJrNjAwfTtcbiAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGNvbG9yOiAke2Rhcms4MDB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgYFxufSlcblxuZXhwb3J0IGNvbnN0IFNldHRpbmdQb3BwZXIgPSAocHJvcHM6IFNldHRpbmdQb3BwZXJQcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHBsYWNlbWVudCA9ICdyaWdodC1zdGFydCcsXG4gICAgcG9wcGVyTm9kZVJlZixcbiAgICBvbkluaXRSZXNpemVIYW5kbGVyLFxuICAgIG9uSW5pdERyYWdIYW5kbGVyLFxuICAgIHZlcnNpb246IHByb3BWZXJzaW9uLFxuICAgIG1vZGlmaWVyczogcHJvcE1vZGlmaWVycyxcbiAgICAuLi5vdGhlcnNcbiAgfSA9IHByb3BzXG5cbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpXG4gIGNvbnN0IGhhbmRsZVJlZiA9IGhvb2tzLnVzZUZvcmtSZWYocG9wcGVyTm9kZVJlZiwgcmVmKVxuICBjb25zdCBbdmVyc2lvbiwgc2V0VmVyc2lvbl0gPSBob29rcy51c2VDb250cm9sbGVkKHsgY29udHJvbGxlZDogcHJvcFZlcnNpb24sIGRlZmF1bHQ6IDAgfSlcblxuICBjb25zdCBtb2RpZmllcnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uTU9ESUZJRVJTLFxuICAgICAgLi4uKHByb3BNb2RpZmllcnMgPz8gW10pXG4gICAgXVxuICB9LCBbcHJvcE1vZGlmaWVyc10pXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkluaXRSZXNpemVIYW5kbGVyPy4oKCkgPT4ge1xuICAgICAgcmVmLmN1cnJlbnQ/LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpXG4gICAgfSwgbnVsbCwgKCkgPT4ge1xuICAgICAgc2V0VmVyc2lvbih2ID0+IHYgKyAxKVxuICAgICAgcmVmLmN1cnJlbnQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpXG4gICAgfSlcbiAgfSwgW29uSW5pdFJlc2l6ZUhhbmRsZXIsIHNldFZlcnNpb25dKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25Jbml0RHJhZ0hhbmRsZXI/LigoKSA9PiB7XG4gICAgICByZWYuY3VycmVudD8uY2xhc3NMaXN0LmFkZCgnZC1ub25lJylcbiAgICB9LCBudWxsLCAoKSA9PiB7XG4gICAgICBzZXRWZXJzaW9uKHYgPT4gdiArIDEpXG4gICAgICByZWYuY3VycmVudD8uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJylcbiAgICB9KVxuICB9LCBbb25Jbml0RHJhZ0hhbmRsZXIsIHNldFZlcnNpb25dKVxuXG4gIHJldHVybiAoXG4gICAgPFJvb3RcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2hhZG93LTInLCBjbGFzc05hbWUpfVxuICAgICAgbW9kaWZpZXJzPXttb2RpZmllcnN9XG4gICAgICBwbGFjZW1lbnQ9e3BsYWNlbWVudH1cbiAgICAgIHBvcHBlck5vZGVSZWY9e2hhbmRsZVJlZn1cbiAgICAgIHZlcnNpb249e3ZlcnNpb259XG4gICAgICB7Li4ub3RoZXJzfVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5pbXBvcnQgeyBSYWRpbywgTGFiZWwsIEZvcm1Hcm91cCB9IGZyb20gJ2ppbXUtdWknXG5cbmludGVyZmFjZSBSYWRpb0dyb3VwT3B0aW9uIHtcbiAgdmFsdWU6IHN0cmluZ1xuICBjb250ZW50OiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFJhZGlvR3JvdXBQcm9wcyB7XG4gIG9wdGlvbnM6IFJhZGlvR3JvdXBPcHRpb25bXVxuICB2YWx1ZT86IHN0cmluZ1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgc3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gIGd1dHRlcj86IHN0cmluZ1xuICBvbkNoYW5nZT86ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBSYWRpb0dyb3VwU3RhdGUge1xuICB2YWx1ZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBfUmFkaW9Hcm91cCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UmFkaW9Hcm91cFByb3BzLCBSYWRpb0dyb3VwU3RhdGU+IHtcbiAgc3RhdGljIGNvdW50ID0gMFxuICBpbnB1dE5hbWU6IHN0cmluZ1xuXG4gIHN0YXRlID0geyB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSB9XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBfUmFkaW9Hcm91cC5jb3VudCsrXG4gICAgdGhpcy5pbnB1dE5hbWUgPSBgc2V0dGluZy1yYWRpb2dyb3VwLSR7X1JhZGlvR3JvdXAuY291bnR9YFxuICB9XG5cbiAgb25SYWRpb0J1dHRvbkNoYW5nZSA9IChldnQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2dC50YXJnZXQudmFsdWVcbiAgICBpZiAodGhpcy5zdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSlcbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSlcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICAuLi5vdGhlclByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwIHsuLi5vdGhlclByb3BzfSBvbkNoYW5nZT17dGhpcy5vblJhZGlvQnV0dG9uQ2hhbmdlfSBjbGFzc05hbWU9e2BzZXR0aW5nLS1idXR0b24tZ3JvdXAgJHtjbGFzc05hbWV9YH0+XG4gICAgICAgIHtcbiAgICAgICAgICBvcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExhYmVsIGtleT17b3B0aW9uLnZhbHVlfT5cbiAgICAgICAgICAgICAgICA8UmFkaW9cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtvcHRpb24udmFsdWV9XG4gICAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLmlucHV0TmFtZX1cbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUudmFsdWUgPT09IG9wdGlvbi52YWx1ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtvcHRpb24uY29udGVudH1cbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJhZGlvR3JvdXAgPSB3aXRoU3R5bGVzKF9SYWRpb0dyb3VwLCAnUmFkaW9Hcm91cCcpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LCBSZWFjdFJlZHV4LCBqc3gsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgVXNlRGF0YVNvdXJjZSwgbW9kdWxlTG9hZGVyLCB0eXBlIElNU3RhdGUsIHR5cGUgSU1XaWRnZXRKc29uLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBXaWRnZXRzSnNvbixcbiAgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIEltbXV0YWJsZSwgaG9va3MsIGNzc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMaXN0LCB0eXBlIFRyZWVJdGVtVHlwZSwgdHlwZSBUcmVlSXRlbXNUeXBlLCBUcmVlSXRlbUFjdGlvblR5cGUgfSBmcm9tICdqaW11LXVpL2Jhc2ljL2xpc3QtdHJlZSdcbmltcG9ydCB7IEFsZXJ0LCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdVVpRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgdHlwZSBTZWFyY2hEYXRhQ29uZmlnLCB0eXBlIElNRGF0YVNvdXJjZUNyZWF0ZVN0YXR1cywgU2VhcmNoU2VydmljZVR5cGUgfSBmcm9tICcuLi90eXBlL3R5cGUnXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VSZWYgfSA9IFJlYWN0XG5jb25zdCBJY29uQ2xvc2UgPSByZXF1aXJlKCdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnJylcbmludGVyZmFjZSBTZWFyY2hPcHRpb25zUHJvcHMge1xuICBpZDogc3RyaW5nXG4gIHNob3dTb3VyY2VQYW5lbDogYm9vbGVhblxuICBzaG93TmV3U291cmNlSXRlbTogYm9vbGVhblxuICBkc0NvbmZpZ0l0ZW1JbmRleDogbnVtYmVyXG4gIGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+XG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBjcmVhdGVPdXRwdXREczogYm9vbGVhblxuICBkYXRhU291cmNlQ3JlYXRlU3RhdHVzOiBJTURhdGFTb3VyY2VDcmVhdGVTdGF0dXNcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIG9uRHNDb25maWdJZENoYW5nZTogKGNvbmZpZ0l0ZW1JbmRleDogbnVtYmVyLCBpc0dlb2NvZGVTb3VyY2U/OiBib29sZWFuKSA9PiB2b2lkXG4gIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9uczogKGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+KSA9PiB2b2lkXG4gIGhpZGVTaWRlUG9wcGVyOiAoKSA9PiB2b2lkXG59XG5cbmNvbnN0IFNUWUxFID0gY3NzYFxuICAud2FybmluZy1hbGVydC1jb24ge1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgfVxuICAud2FybmluZy1hbGVydC1jb24gLmppbXUtaWNvbi1jb21wb25lbnQge1xuICAgIGNvbG9yOiB2YXIoLS13YXJuaW5nLTcwMCkgIWltcG9ydGFudDtcbiAgfVxuYFxuXG5jb25zdCBEYXRhc291cmNlTGlzdCA9IChwcm9wczogU2VhcmNoT3B0aW9uc1Byb3BzKSA9PiB7XG4gIGNvbnN0IG5scyA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIGppbXVVaURlZmF1bHRNZXNzYWdlKVxuICBjb25zdCBpc0xvYWREYXRhc291cmNlU2VsZWN0b3IgPSB1c2VSZWYoZmFsc2UpXG4gIGNvbnN0IGRhdGFDb21wb25lbnRzVXRpbHNSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgRGF0YVNvdXJjZVJlbW92ZVdhcmluZ1JlYXNvblJlZiA9IHVzZVJlZihudWxsKVxuICBjb25zdCB7IGNsYXNzTmFtZSwgZGF0YXNvdXJjZUNvbmZpZywgdXNlRGF0YVNvdXJjZXMsIGRzQ29uZmlnSXRlbUluZGV4LCBjcmVhdGVPdXRwdXREcywgc2hvd1NvdXJjZVBhbmVsLCBzaG93TmV3U291cmNlSXRlbSwgaWQsIGRhdGFTb3VyY2VDcmVhdGVTdGF0dXMsIG9uRHNDb25maWdJZENoYW5nZSwgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zLCBoaWRlU2lkZVBvcHBlciB9ID0gcHJvcHNcbiAgY29uc3Qgd2lkZ2V0c0pzb246IElNV2lkZ2V0SnNvbiA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiBzdGF0ZT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8ud2lkZ2V0cz8uW2lkXSlcbiAgY29uc3Qgd2lkZ2V0czogSW1tdXRhYmxlT2JqZWN0PFdpZGdldHNKc29uPiA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiBzdGF0ZT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8ud2lkZ2V0cylcblxuICBjb25zdCBBZHZhbmNlZEFjdGlvbk1hcCA9IHtcbiAgICBvdmVycmlkZUl0ZW1CbG9ja0luZm86ICh7IGl0ZW1CbG9ja0luZm8gfSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtLFxuICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtRHJvcHBhYmxlQ29udGFpbmVyLFxuICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbURyYWdnYWJsZUNvbnRhaW5lcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtQm9keSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbU1haW5MaW5lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbURyYWdIYW5kbGVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtSWNvbixcbiAgICAgICAgICAgICAgICAgIGF1dG9Db2xsYXBzZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtVGl0bGVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtRGV0YWlsVG9nZ2xlXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbUNvbW1hbmRzXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBbZHNUb1JlbW92ZSwgc2V0RHNUb1JlbW92ZV0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbcmVtb3ZlRHNJbmRleCwgc2V0UmVtb3ZlRHNJbmRleF0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbc2hvd1JlbW92ZVNlYXJjaEl0ZW1XYXJuaW5nLCBzZXRTaG93UmVtb3ZlU2VhcmNoSXRlbVdhcm5pbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwLCBzZXREYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwXSA9IHVzZVN0YXRlKG51bGwpXG5cbiAgY29uc3QgbG9hZERhdGFzb3VyY2VTZWxlY3RvciA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNMb2FkRGF0YXNvdXJjZVNlbGVjdG9yLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtdWkvYWR2YW5jZWQvZGF0YS1zb3VyY2Utc2VsZWN0b3InKS50aGVuKG1vZHVsZSA9PiB7XG4gICAgICBpc0xvYWREYXRhc291cmNlU2VsZWN0b3IuY3VycmVudCA9IHRydWVcbiAgICAgIGRhdGFDb21wb25lbnRzVXRpbHNSZWYuY3VycmVudCA9IG1vZHVsZS5kYXRhQ29tcG9uZW50c1V0aWxzXG4gICAgICBEYXRhU291cmNlUmVtb3ZlV2FyaW5nUmVhc29uUmVmLmN1cnJlbnQgPSBtb2R1bGUuRGF0YVNvdXJjZVJlbW92ZVdhcmluZ1JlYXNvblxuICAgICAgc2V0RGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cChtb2R1bGUuRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cClcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgY2hlY2tJc1V0aWxpdHlBdmFpYmxlID0gKGRzQ29uZmlnSXRlbTogU2VhcmNoRGF0YUNvbmZpZywgdXRpbGl0eVN0YXRlcyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmIChkc0NvbmZpZ0l0ZW0/LnNlYXJjaFNlcnZpY2VUeXBlID09PSBTZWFyY2hTZXJ2aWNlVHlwZS5GZWF0dXJlU2VydmljZSkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgdXRpbGl0eUlkID0gZHNDb25maWdJdGVtPy51c2VVdGlsaXR5Py51dGlsaXR5SWRcbiAgICBpZiAoIXV0aWxpdHlJZCkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgaXNWYWxpZCA9IHV0aWxpdHlTdGF0ZXM/Llt1dGlsaXR5SWRdID8/IHRydWVcbiAgICByZXR1cm4gaXNWYWxpZFxuICB9XG5cbiAgY29uc3QgdXRpbGl0eUF2YWlibGVTdGF0ZSA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgY29uc3QgdXRpbGl0eUF2YWlibGVTdGF0ZSA9IHt9XG4gICAgY29uc3QgdXRpbGl0eVN0YXRlcyA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mbz8udXRpbGl0eVN0YXRlcyB8fCB7fVxuICAgIGRhdGFzb3VyY2VDb25maWc/LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbT8uc2VhcmNoU2VydmljZVR5cGUgPT09IFNlYXJjaFNlcnZpY2VUeXBlLkdlb2NvZGVTZXJ2aWNlKSB7XG4gICAgICAgIHV0aWxpdHlBdmFpYmxlU3RhdGVbaXRlbS5jb25maWdJZF0gPSBjaGVja0lzVXRpbGl0eUF2YWlibGUoaXRlbT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSwgdXRpbGl0eVN0YXRlcylcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB1dGlsaXR5QXZhaWJsZVN0YXRlXG4gIH0pXG5cbiAgY29uc3QgaGlkZVJlbW92ZVBvcHVwID0gKCkgPT4ge1xuICAgIHNldFNob3dSZW1vdmVTZWFyY2hJdGVtV2FybmluZyghc2hvd1JlbW92ZVNlYXJjaEl0ZW1XYXJuaW5nKVxuICB9XG5cbiAgY29uc3QgYmVmb3JlUmVtb3ZpbmdEYXRhU291cmNlID0gaG9va3MudXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSlcbiAgICBuZXdEYXRhc291cmNlQ29uZmlnPy5zcGxpY2UocmVtb3ZlRHNJbmRleCwgMSlcbiAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICAgIGhpZGVTaWRlUG9wcGVyKClcbiAgfSlcblxuICBjb25zdCBhZnRlclJlbW92aW5nRGF0YVNvdXJjZSA9ICgpID0+IHtcbiAgICBzZXREc1RvUmVtb3ZlKG51bGwpXG4gICAgc2V0UmVtb3ZlRHNJbmRleChudWxsKVxuICAgIHNldFNob3dSZW1vdmVTZWFyY2hJdGVtV2FybmluZyhmYWxzZSlcbiAgfVxuXG4gIGNvbnN0IGlzRGF0YVNvdXJjZUFjY2Vzc2libGUgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIGlzT3V0cHV0RHM6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgIGxldCBpc0RhdGFTb3VyY2VJblByb3BzXG4gICAgbGV0IGlzRGF0YVNvdXJjZUFjY2Vzc2libGUgPSB0cnVlXG4gICAgaWYgKGlzT3V0cHV0RHMpIHtcbiAgICAgIGNvbnN0IG91dHB1dERzID0gd2lkZ2V0c0pzb24/Lm91dHB1dERhdGFTb3VyY2VzIHx8IFtdXG4gICAgICBpc0RhdGFTb3VyY2VJblByb3BzID0gb3V0cHV0RHM/LmZpbHRlcihkc0lkID0+IGRhdGFTb3VyY2VJZCA9PT0gZHNJZCkubGVuZ3RoID4gMFxuICAgIH0gZWxzZSB7XG4gICAgICBpc0RhdGFTb3VyY2VJblByb3BzID0gdXNlRGF0YVNvdXJjZXM/LmZpbHRlcih1c2VEcyA9PiBkYXRhU291cmNlSWQgPT09IHVzZURzLmRhdGFTb3VyY2VJZCkubGVuZ3RoID4gMFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YVNvdXJjZUNyZWF0ZVN0YXR1cz8uW2RhdGFTb3VyY2VJZF0gPT09ICdib29sZWFuJyAmJiAhZGF0YVNvdXJjZUNyZWF0ZVN0YXR1cz8uW2RhdGFTb3VyY2VJZF0pIHtcbiAgICAgIGlzRGF0YVNvdXJjZUFjY2Vzc2libGUgPSBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiBpc0RhdGFTb3VyY2VJblByb3BzICYmIGRhdGFTb3VyY2VJZCAmJiBpc0RhdGFTb3VyY2VBY2Nlc3NpYmxlXG4gIH1cblxuICBjb25zdCBvblJlbW92ZUxheWVyQnV0dG9uQ2xpY2sgPSAoZHNJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaXNPdXRwdXREcyA9IGRhdGFzb3VyY2VDb25maWdbZHNJbmRleF0/LnNlYXJjaFNlcnZpY2VUeXBlID09PSBTZWFyY2hTZXJ2aWNlVHlwZS5HZW9jb2RlU2VydmljZVxuICAgIGlmICghaXNPdXRwdXREcykge1xuICAgICAgcmVtb3ZlRHNJdGVtKGRzSW5kZXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0xvYWREYXRhc291cmNlU2VsZWN0b3IuY3VycmVudCkge1xuICAgICAgICByZW1vdmVPdXRwdURzKGRzSW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkRGF0YXNvdXJjZVNlbGVjdG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVtb3ZlT3V0cHVEcyhkc0luZGV4KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlbW92ZU91dHB1RHMgPSBob29rcy51c2VFdmVudENhbGxiYWNrKChkc0luZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBvdXRwdXREYXRhU291cmNlSWQgPSBkYXRhc291cmNlQ29uZmlnW2RzSW5kZXhdLm91dHB1dERhdGFTb3VyY2VJZFxuICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRzID0gZGF0YUNvbXBvbmVudHNVdGlsc1JlZi5jdXJyZW50LmdldFdpZGdldHNVc2luZ0RzT3JJdHNEZXNjZW5kYW50RHNzKFxuICAgICAgb3V0cHV0RGF0YVNvdXJjZUlkLFxuICAgICAgd2lkZ2V0c1xuICAgIClcbiAgICBpZiAocmVsYXRlZFdpZGdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZW1vdmVEc0l0ZW0oZHNJbmRleClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RHNUb1JlbW92ZShvdXRwdXREYXRhU291cmNlSWQpXG4gICAgICBzZXRTaG93UmVtb3ZlU2VhcmNoSXRlbVdhcm5pbmcodHJ1ZSlcbiAgICAgIHNldFJlbW92ZURzSW5kZXgoZHNJbmRleClcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcmVtb3ZlRHNJdGVtID0gKGRzSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld0RhdGFzb3VyY2VDb25maWcgPSBkYXRhc291cmNlQ29uZmlnPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pXG4gICAgbmV3RGF0YXNvdXJjZUNvbmZpZz8uc3BsaWNlKGRzSW5kZXgsIDEpXG4gICAgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zKEltbXV0YWJsZShuZXdEYXRhc291cmNlQ29uZmlnKSlcbiAgICBoaWRlU2lkZVBvcHBlcigpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0xMDAgbXQtMiAke2NsYXNzTmFtZSB8fCAnJ31gfSBjc3M9e1NUWUxFfT5cbiAgICAgIDxMaXN0XG4gICAgICAgIGNsYXNzTmFtZT0ndy0xMDAnXG4gICAgICAgIGl0ZW1zSnNvbj17QXJyYXkuZnJvbShkYXRhc291cmNlQ29uZmlnKS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoe1xuICAgICAgICAgIGl0ZW1TdGF0ZURldGFpbENvbnRlbnQ6IGl0ZW0sXG4gICAgICAgICAgaXRlbUtleTogYCR7aW5kZXh9YCxcbiAgICAgICAgICBpdGVtU3RhdGVDaGVja2VkOiBzaG93U291cmNlUGFuZWwgJiYgaW5kZXggPT09IGRzQ29uZmlnSXRlbUluZGV4LFxuICAgICAgICAgIGl0ZW1TdGF0ZVRpdGxlOiBpdGVtPy5sYWJlbCxcbiAgICAgICAgICBpdGVtU3RhdGVJY29uOiB7IGljb246IGl0ZW0uaWNvbj8uc3ZnIH0sXG4gICAgICAgICAgaXRlbVN0YXRlQ29tbWFuZHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IG5scygnZGVsZXRlT3B0aW9uJyksXG4gICAgICAgICAgICAgIGljb25Qcm9wczogKCkgPT4gKHsgaWNvbjogSWNvbkNsb3NlLCBzaXplOiAxMiB9KSxcbiAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25SZW1vdmVMYXllckJ1dHRvbkNsaWNrKGluZGV4KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KSl9XG4gICAgICAgIGRuZEVuYWJsZWRcbiAgICAgICAgcmVuZGVyT3ZlcnJpZGVJdGVtRGV0YWlsVG9nZ2xlPXsoYWN0aW9uRGF0YSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBpdGVtSnNvbnMgfSA9IHJlZkNvbXBvbmVudC5wcm9wc1xuICAgICAgICAgIGNvbnN0IFtjdXJyZW50SXRlbUpzb25dID0gaXRlbUpzb25zXG4gICAgICAgICAgY29uc3QgaXRlbVN0YXRlRGV0YWlsQ29udGVudCA9IGN1cnJlbnRJdGVtSnNvbj8uaXRlbVN0YXRlRGV0YWlsQ29udGVudFxuICAgICAgICAgIGNvbnN0IGlzR2VvY29kZVNlcnZpY2UgPSBpdGVtU3RhdGVEZXRhaWxDb250ZW50Py5zZWFyY2hTZXJ2aWNlVHlwZSA9PT0gU2VhcmNoU2VydmljZVR5cGUuR2VvY29kZVNlcnZpY2VcbiAgICAgICAgICBjb25zdCBkc0lkID0gaXNHZW9jb2RlU2VydmljZSA/IGl0ZW1TdGF0ZURldGFpbENvbnRlbnQ/Lm91dHB1dERhdGFTb3VyY2VJZCA6IGl0ZW1TdGF0ZURldGFpbENvbnRlbnQ/LnVzZURhdGFTb3VyY2U/LmRhdGFTb3VyY2VJZFxuICAgICAgICAgIGNvbnN0IGlzRGF0YUVycm9yID0gY3JlYXRlT3V0cHV0RHMgPyAhaXNEYXRhU291cmNlQWNjZXNzaWJsZShkc0lkLCBpc0dlb2NvZGVTZXJ2aWNlKSA6IGZhbHNlXG5cbiAgICAgICAgICBjb25zdCBpc1V0aWxpdHlBdmFpYmxlID0gdXRpbGl0eUF2YWlibGVTdGF0ZT8uW2l0ZW1TdGF0ZURldGFpbENvbnRlbnQuY29uZmlnSWRdXG4gICAgICAgICAgaWYgKGlzR2VvY29kZVNlcnZpY2UgJiYgIWlzVXRpbGl0eUF2YWlibGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoPEFsZXJ0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nd2FybmluZy1hbGVydC1jb24nXG4gICAgICAgICAgICAgIGJ1dHRvblR5cGU9J3RlcnRpYXJ5J1xuICAgICAgICAgICAgICBmb3JtPSd0b29sdGlwJ1xuICAgICAgICAgICAgICBzaXplPSdzbWFsbCdcbiAgICAgICAgICAgICAgdHlwZT0nd2FybmluZydcbiAgICAgICAgICAgICAgdGV4dD17bmxzKCd1dGlsaXR5Tm90QXZhaWxhYmxlJyl9XG4gICAgICAgICAgICAvPilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gKGlzRGF0YUVycm9yICYmIGRzSWQpXG4gICAgICAgICAgICA/IDxBbGVydFxuICAgICAgICAgICAgICBidXR0b25UeXBlPSd0ZXJ0aWFyeSdcbiAgICAgICAgICAgICAgZm9ybT0ndG9vbHRpcCdcbiAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXG4gICAgICAgICAgICAgIHR5cGU9J2Vycm9yJ1xuICAgICAgICAgICAgICB0ZXh0PXtubHMoJ2RhdGFTb3VyY2VDcmVhdGVFcnJvcicpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgICAgIDogJydcbiAgICAgICAgfX1cbiAgICAgICAgb25VcGRhdGVJdGVtPXsoYWN0aW9uRGF0YSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBpdGVtSnNvbnMgfSA9IHJlZkNvbXBvbmVudC5wcm9wc1xuICAgICAgICAgIGNvbnN0IFssIHBhcmVudEl0ZW1Kc29uXSA9IGl0ZW1Kc29ucyBhcyBbVHJlZUl0ZW1UeXBlLCBUcmVlSXRlbXNUeXBlXVxuICAgICAgICAgIGNvbnN0IG5ld0RhdGFzb3VyY2VDb25maWcgPSBwYXJlbnRJdGVtSnNvbi5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pdGVtU3RhdGVEZXRhaWxDb250ZW50XG4gICAgICAgICAgfSlcbiAgICAgICAgICBvbkRzQ29uZmlnSWRDaGFuZ2UobnVsbClcbiAgICAgICAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrSXRlbUJvZHk9eyhhY3Rpb25EYXRhLCByZWZDb21wb25lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGl0ZW1Kc29uczogW2N1cnJlbnRJdGVtSnNvbl0gfSA9IHJlZkNvbXBvbmVudC5wcm9wc1xuICAgICAgICAgIGNvbnN0IGlzR2VvY29kZVNvdXJjZSA9IGN1cnJlbnRJdGVtSnNvbj8uaXRlbVN0YXRlRGV0YWlsQ29udGVudD8uc2VhcmNoU2VydmljZVR5cGUgPT09IFNlYXJjaFNlcnZpY2VUeXBlLkdlb2NvZGVTZXJ2aWNlXG4gICAgICAgICAgb25Ec0NvbmZpZ0lkQ2hhbmdlKCtjdXJyZW50SXRlbUpzb24uaXRlbUtleSwgaXNHZW9jb2RlU291cmNlKVxuICAgICAgICB9fVxuICAgICAgICB7Li4uQWR2YW5jZWRBY3Rpb25NYXB9XG4gICAgICAvPlxuXG4gICAgICB7c2hvd05ld1NvdXJjZUl0ZW0gJiYgPExpc3RcbiAgICAgICAgY2xhc3NOYW1lPSdzZXR0aW5nLXVpLXVuaXQtbGlzdC1uZXcnXG4gICAgICAgIGl0ZW1zSnNvbj17W3tcbiAgICAgICAgICBuYW1lOiAnLi4uLi4uJ1xuICAgICAgICB9XS5tYXAoKGl0ZW0sIHgpID0+ICh7XG4gICAgICAgICAgaXRlbVN0YXRlRGV0YWlsQ29udGVudDogJ2l0ZW0nLFxuICAgICAgICAgIGl0ZW1LZXk6ICdpbmRleCcsXG4gICAgICAgICAgaXRlbVN0YXRlQ2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgICBpdGVtU3RhdGVUaXRsZTogJy4uLi4uLicsXG4gICAgICAgICAgaXRlbVN0YXRlQ29tbWFuZHM6IFtdXG4gICAgICAgIH0pKX1cbiAgICAgICAgZG5kRW5hYmxlZD17ZmFsc2V9XG4gICAgICAgIHJlbmRlck92ZXJyaWRlSXRlbURldGFpbFRvZ2dsZT17KCkgPT4gJycgfVxuICAgICAgICB7Li4uQWR2YW5jZWRBY3Rpb25NYXB9XG4gICAgICAvPn1cbiAgICAgIHtEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwICYmIDxEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwXG4gICAgICAgIGRhdGFTb3VyY2VJZD17ZHNUb1JlbW92ZX1cbiAgICAgICAgaXNPcGVuPXtzaG93UmVtb3ZlU2VhcmNoSXRlbVdhcm5pbmd9XG4gICAgICAgIHRvZ2dsZT17aGlkZVJlbW92ZVBvcHVwfVxuICAgICAgICByZWFzb249e0RhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb25SZWYuY3VycmVudC5EYXRhU291cmNlUmVtb3ZlZH1cbiAgICAgICAgYWZ0ZXJSZW1vdmU9e2FmdGVyUmVtb3ZpbmdEYXRhU291cmNlfVxuICAgICAgICBiZWZvcmVSZW1vdmU9e2JlZm9yZVJlbW92aW5nRGF0YVNvdXJjZX1cbiAgICAgIC8+fVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFzb3VyY2VMaXN0XG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcywgdHlwZSBGaWVsZFNjaGVtYSwgSW1tdXRhYmxlLCBKaW11RmllbGRUeXBlLCB0eXBlIElNRmllbGRTY2hlbWEsIHR5cGUgVXNlRGF0YVNvdXJjZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IGRhdGFDb21wb25lbnRzVXRpbHMsIEZpZWxkU2VsZWN0b3IgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL2RhdGEtc291cmNlLXNlbGVjdG9yJ1xuaW1wb3J0IHsgTGlzdCwgdHlwZSBUcmVlSXRlbVR5cGUsIHR5cGUgVHJlZUl0ZW1zVHlwZSwgVHJlZUl0ZW1BY3Rpb25UeXBlIH0gZnJvbSAnamltdS11aS9iYXNpYy9saXN0LXRyZWUnXG5pbnRlcmZhY2UgRGlzcGxheUZpZWxkUHJvcHMge1xuICBkaXNQbGF5RmllbGQ6IEZpZWxkU2NoZW1hW11cbiAgdXNlRGF0YVNvdXJjZTogVXNlRGF0YVNvdXJjZVxuICBvbkZpZWxkQ2hhbmdlOiAoYWxsU2VsZWN0ZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSwgcHJlRmllbGRzLCBpc0Rpc3BsYXlGaWVsZD86IGJvb2xlYW4pID0+IHZvaWRcbn1cblxuY29uc3QgRGlzcGxheUZpZWxkU2VsZWN0ID0gKHByb3BzOiBEaXNwbGF5RmllbGRQcm9wcykgPT4ge1xuICBjb25zdCBhZHZhbmNlZEFjdGlvbk1hcCA9IHtcbiAgICBvdmVycmlkZUl0ZW1CbG9ja0luZm86ICh7IGl0ZW1CbG9ja0luZm8gfSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtLFxuICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtRHJvcHBhYmxlQ29udGFpbmVyLFxuICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbURyYWdnYWJsZUNvbnRhaW5lcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtQm9keSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbU1haW5MaW5lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbURyYWdIYW5kbGVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtSWNvbixcbiAgICAgICAgICAgICAgICAgIGF1dG9Db2xsYXBzZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtVGl0bGVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtQ29tbWFuZHNcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IFNUWUxFID0gY3NzYFxuICAgICZ7XG4gICAgICBtYXgtaGVpZ2h0OiAyNTZweDtcbiAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgfVxuICBgXG5cbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpXG5cbiAgY29uc3QgeyBkaXNQbGF5RmllbGQsIHVzZURhdGFTb3VyY2UsIG9uRmllbGRDaGFuZ2UgfSA9IHByb3BzXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnPlxuICAgICAgPEZpZWxkU2VsZWN0b3JcbiAgICAgICAgdXNlRGF0YVNvdXJjZXM9eyB1c2VEYXRhU291cmNlID8gSW1tdXRhYmxlKFt1c2VEYXRhU291cmNlXSkgOiBJbW11dGFibGUoW10pIH1cbiAgICAgICAgb25DaGFuZ2U9eyhhbGxTZWxlY3RlZEZpZWxkcykgPT4geyBvbkZpZWxkQ2hhbmdlKGFsbFNlbGVjdGVkRmllbGRzLCBkaXNQbGF5RmllbGQsIHRydWUpIH19XG4gICAgICAgIHNlbGVjdGVkRmllbGRzPXtJbW11dGFibGUoZGlzUGxheUZpZWxkPy5tYXAoZmllbGQgPT4gZmllbGQ/Lm5hbWUpKX1cbiAgICAgICAgaXNNdWx0aXBsZVxuICAgICAgICBpc1NlYXJjaElucHV0SGlkZGVuPXtmYWxzZX1cbiAgICAgICAgaXNEYXRhU291cmNlRHJvcERvd25IaWRkZW5cbiAgICAgICAgdXNlRHJvcGRvd25cbiAgICAgICAgdXNlTXVsdGlEcm9wZG93bkJvdHRvbVRvb2xzXG4gICAgICAgIHR5cGVzPXtJbW11dGFibGUoW0ppbXVGaWVsZFR5cGUuTnVtYmVyLCBKaW11RmllbGRUeXBlLlN0cmluZ10pfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY3NzPXtTVFlMRX0+XG4gICAgICAgIDxMaXN0XG4gICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgY2xhc3NOYW1lPSdtdC0yJ1xuICAgICAgICAgIGl0ZW1zSnNvbj17QXJyYXkuZnJvbShkaXNQbGF5RmllbGQpLm1hcCgoZmllbGQsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgaXRlbVN0YXRlRGV0YWlsQ29udGVudDogZmllbGQsXG4gICAgICAgICAgICBpdGVtS2V5OiBgJHtmaWVsZD8ubmFtZX0ke2luZGV4fWAsXG4gICAgICAgICAgICBpdGVtU3RhdGVJY29uOiBkYXRhQ29tcG9uZW50c1V0aWxzLmdldEljb25Gcm9tRmllbGRUeXBlKGZpZWxkLnR5cGUsIHRoZW1lKSxcbiAgICAgICAgICAgIGl0ZW1TdGF0ZVRpdGxlOiBmaWVsZC5hbGlhcyB8fCBmaWVsZC5qaW11TmFtZSB8fCBmaWVsZC5uYW1lLFxuICAgICAgICAgICAgaXRlbVN0YXRlQ29tbWFuZHM6IFtdXG4gICAgICAgICAgfSkpfVxuICAgICAgICAgIGRuZEVuYWJsZWRcbiAgICAgICAgICBvblVwZGF0ZUl0ZW09eyhhY3Rpb25EYXRhLCByZWZDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbUpzb25zIH0gPSByZWZDb21wb25lbnQucHJvcHNcbiAgICAgICAgICAgIGNvbnN0IFssIHBhcmVudEl0ZW1Kc29uXSA9IGl0ZW1Kc29ucyBhcyBbVHJlZUl0ZW1UeXBlLCBUcmVlSXRlbXNUeXBlXVxuICAgICAgICAgICAgY29uc3QgbmV3RGlzcGxheUZpZWxkID0gcGFyZW50SXRlbUpzb24ubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pdGVtU3RhdGVEZXRhaWxDb250ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgb25GaWVsZENoYW5nZShuZXdEaXNwbGF5RmllbGQsIGRpc1BsYXlGaWVsZCwgdHJ1ZSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIHsuLi5hZHZhbmNlZEFjdGlvbk1hcH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BsYXlGaWVsZFNlbGVjdFxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MsIFJlYWN0UmVkdXgsIHR5cGUgVXNlRGF0YVNvdXJjZSwgdHlwZSBJbW11dGFibGVBcnJheSwgdHlwZSBJTVdpZGdldEpzb24sIHR5cGUgSU1TdGF0ZSwgRGF0YVNvdXJjZVR5cGVzLCBwb2xpc2hlZCwgdHlwZSBEYXRhU291cmNlSnNvbiwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIEltbXV0YWJsZSwgaG9va3MgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBEcm9wZG93biwgRHJvcGRvd25CdXR0b24sIERyb3Bkb3duTWVudSwgRHJvcGRvd25JdGVtLCBCdXR0b24sIFN3aXRjaCwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVpRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgU2V0dGluZ1NlY3Rpb24sIFNldHRpbmdSb3cgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbmltcG9ydCB7IHR5cGUgU2VhcmNoRGF0YUNvbmZpZywgU2VhcmNoU2VydmljZVR5cGUsIFNlYXJjaERhdGFUeXBlLCB0eXBlIElNRGF0YVNvdXJjZUNyZWF0ZVN0YXR1cyB9IGZyb20gJy4uL3R5cGUvdHlwZSdcbmltcG9ydCB7IFBsdXNPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3BsdXMnXG5pbXBvcnQgTGF5ZXJTb3VyY2VQYW5lbCBmcm9tICcuL3NldC1sYXllci1zb3VyY2Utc2lkZS1wb3BwZXInXG5pbXBvcnQgTG9jYXRvclNvdXJjZVBhbmVsIGZyb20gJy4vc2V0LWxvY2F0b3Itc291cmNlJ1xuaW1wb3J0IERhdGFzb3VyY2VMaXN0IGZyb20gJy4vZGF0YXNvdXJjZS1saXN0J1xuaW1wb3J0IHsgaXNEc0luRGF0YXNvdXJjZXMsIGNoZWNrSXNXaWRnZXRKc29uRHNDaGFuZ2VkLCBnZXRJbml0U2NoZW1hIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCdcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnamltdS10aGVtZSdcbmNvbnN0IHsgdXNlU2VsZWN0b3IgfSA9IFJlYWN0UmVkdXhcbmNvbnN0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSA9IFJlYWN0XG5cbmludGVyZmFjZSBEU0luV2lkZ2V0SnNvbiB7XG4gIGlzV2lkZ2V0SnNvbkRzQ2hhbmdlZDogYm9vbGVhblxuICBkc0luV2lkZ2V0SnNvbjogYW55XG59XG5cbmludGVyZmFjZSBTZWFyY2hEYXRhU2V0dGluZ1Byb3BzIHtcbiAgLyoqXG4gICAqIFdpZGdldCBpZFxuICAqL1xuICBpZDogc3RyaW5nXG4gIGRhdGFzb3VyY2VDb25maWc/OiBJbW11dGFibGVBcnJheTxTZWFyY2hEYXRhQ29uZmlnPlxuICB1c2VEYXRhU291cmNlcz86IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XG4gIC8qKlxuICAgKiBQb3J0YWwgdXJsIG9mIGN1cnJlbnQgYXBwXG4gICovXG4gIHBvcnRhbFVybD86IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBkYXRhIHNlcnZpY2VcbiAgICogQHBhcmFtIEJvdGggRGlzcGxheSBhbGwgZGF0YSBzZXR0aW5nXG4gICAqIEBwYXJhbSBHZW9jb2RlU2VydmljZSBPbmx5IGRpc3BsYXkgZGF0YSBzZXR0aW5nIG9mIGdlb2NvZGUgc2VydmljZVxuICAgKiBAcGFyYW0gRmVhdHVyZVNlcnZpY2UgT25seSBkaXNwbGF5IGRhdGEgc2V0dGluZyBvZiBmZWF0dXJlIHNlcnZpY2VcbiAgKi9cbiAgc2VhcmNoRGF0YVNldHRpbmdUeXBlPzogU2VhcmNoRGF0YVR5cGVcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY3JlYXRlIG91dHB1dGRzIGJ5IGdlb2NvZGUgc2VydmljZVxuICAqL1xuICBjcmVhdGVPdXRwdXREcz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gaGlkZSBpY29uIHNldHRpbmdzXG4gICAqL1xuICBoaWRlSWNvblNldHRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBFbmFibGUgZmlsdGVyaW5nIHdoZW4gc2VhcmNoaW5nIGZvciBsYXllciBzb3VyY2VzXG4gICAqL1xuICBlbmFibGVGaWx0ZXJpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIGRhdGFzb3VyY2VDb25maWcgY2hhbmdlLlxuICAgKiBAZXZlbnRcbiAgKi9cbiAgb25TZXR0aW5nQ2hhbmdlPzogKGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+LCBkc0luV2lkZ2V0SnNvbj86IERTSW5XaWRnZXRKc29uKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIGVuYWJsZSBmaWx0ZXJpbmcgY2hhbmdlLlxuICAgKiBAZXZlbnRcbiAgKi9cbiAgb25FbmFibGVGaWx0ZXJpbmdDaGFuZ2U/OiAoZW5hYmxlOiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBUaGUgbWV0aG9kIG9mIGNyZWF0ZSBvdXRwdXQgZGF0YXNvdXJjZXNcbiAgICogQGV2ZW50XG4gICovXG4gIG9uT3V0cHV0RHNTZXR0aW5nQ2hhbmdlPzogKGRhdGFTb3VyY2VKc29uOiBEYXRhU291cmNlSnNvbltdLCBkYXRhc291cmNlQ29uZmlnOiBJbW11dGFibGVBcnJheTxTZWFyY2hEYXRhQ29uZmlnPiwgZHNJbldpZGdldEpzb24/OiBEU0luV2lkZ2V0SnNvbikgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgU2VhcmNoRGF0YVNldHRpbmcgPSAocHJvcHM6IFNlYXJjaERhdGFTZXR0aW5nUHJvcHMpID0+IHtcbiAgY29uc3QgbmxzID0gaG9va3MudXNlVHJhbnNsYXRpb24oamltdWlEZWZhdWx0TWVzc2FnZSwgamltdUNvcmVEZWZhdWx0TWVzc2FnZSlcbiAgY29uc3QgYXBwVGhlbWUgPSB1c2VUaGVtZSgpXG5cbiAgY29uc3QgeyBkYXRhc291cmNlQ29uZmlnLCBpZCwgdXNlRGF0YVNvdXJjZXMsIHNlYXJjaERhdGFTZXR0aW5nVHlwZSwgY3JlYXRlT3V0cHV0RHMsIGhpZGVJY29uU2V0dGluZywgZW5hYmxlRmlsdGVyaW5nLCBvblNldHRpbmdDaGFuZ2UsIG9uT3V0cHV0RHNTZXR0aW5nQ2hhbmdlLCBvbkVuYWJsZUZpbHRlcmluZ0NoYW5nZSB9ID0gcHJvcHNcbiAgY29uc3Qgc291cmNlTGlzdFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3Qgc2lkZVBvcHBlclRyaWdnZXIgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93TGF5ZXJTb3VyY2VQYW5lbCwgc2V0U2hvd0xheWVyU291cmNlUGFuZWxdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93TG9jYXRvclNvdXJjZVBhbmVsLCBzZXRTaG93TG9jYXRvclNvdXJjZVBhbmVsXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2hvd05ld1NvdXJjZUl0ZW0sIHNldFNob3dOZXdTb3VyY2VJdGVtXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZHNDb25maWdJdGVtSW5kZXgsIHNldERzQ29uZmlnSXRlbUluZGV4XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtwb3BwZXJGb2N1c05vZGUsIHNldFBvcHBlckZvY3VzTm9kZV0gPSBSZWFjdC51c2VTdGF0ZShudWxsIGFzIEhUTUxFbGVtZW50KVxuICBjb25zdCBbZHNDcmVhdGVTdGF0dXMsIHNldERzQ3JlYXRlU3RhdHVzXSA9IFJlYWN0LnVzZVN0YXRlKEltbXV0YWJsZSh7fSkgYXMgSU1EYXRhU291cmNlQ3JlYXRlU3RhdHVzKVxuICBjb25zdCB3aWRnZXRzSnNvbjogSU1XaWRnZXRKc29uID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiBzdGF0ZT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8ud2lkZ2V0cz8uW2lkXSlcblxuICBjb25zdCB1dGlsaXRpZXNJbkNvbmZpZyA9IHVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWcudXRpbGl0aWVzXG4gIH0pXG5cbiAgY29uc3QgRHJvcERvd25TdHlsZSA9IGNzc2BcbiAgICAmIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7YXBwVGhlbWUuY29sb3JzPy5wYWxldHRlPy5zZWNvbmRhcnk/Lls0MDBdfTtcbiAgICB9XG4gIGBcblxuICBjb25zdCBTVFlMRSA9IGNzc2BcbiAgICAuZGF0YS1yZW1pbmQge1xuICAgICAgY29sb3I6ICR7YXBwVGhlbWUuY29sb3JzPy5wYWxldHRlPy5kYXJrPy5bNTAwXX07XG4gICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEyKX07XG4gICAgfVxuICBgXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjcmVhdGVPdXRwdXREcyAmJiBjaGVja0FuZEluaXRPdXRwdXREcygpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIH0sIFtkYXRhc291cmNlQ29uZmlnXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRlbGV0ZVNlYXJjaFRlbXBsYXRlV2hlblV0aWxpdHlOb3RFeGlzdCh1dGlsaXRpZXNJbkNvbmZpZylcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgW3V0aWxpdGllc0luQ29uZmlnXSlcblxuICBjb25zdCBkZWxldGVTZWFyY2hUZW1wbGF0ZVdoZW5VdGlsaXR5Tm90RXhpc3QgPSAodXRpbGl0aWVzSW5Db25maWcpID0+IHtcbiAgICBsZXQgaXNIYXNSZW1vdmVUZW1wbGF0ZSA9IGZhbHNlXG4gICAgY29uc3QgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWc/LmZpbHRlcihpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtPy5zZWFyY2hTZXJ2aWNlVHlwZSA9PT0gU2VhcmNoU2VydmljZVR5cGUuRmVhdHVyZVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVzZVV0aWxpdHlJZCA9IGl0ZW0/LnVzZVV0aWxpdHk/LnV0aWxpdHlJZFxuICAgICAgICBpZiAoIXVzZVV0aWxpdHlJZCkgcmV0dXJuIHRydWVcbiAgICAgICAgaWYgKCF1dGlsaXRpZXNJbkNvbmZpZz8uW3VzZVV0aWxpdHlJZF0pIHtcbiAgICAgICAgICBpc0hhc1JlbW92ZVRlbXBsYXRlID0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIGlzSGFzUmVtb3ZlVGVtcGxhdGUgJiYgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zKG5ld0RhdGFzb3VyY2VDb25maWcpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaXMgb3V0cHV0IGRhdGFzb3VyY2UgaW4gY3VycmVudCB3aWRnZXQganNvbiwgaWYgbm90LCBjcmVhdGUgb3V0cHV0IGRhdGFzb3VyY2VcbiAgKi9cbiAgY29uc3QgY2hlY2tBbmRJbml0T3V0cHV0RHMgPSAoKSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0RGF0YVNvdXJjZXMgPSB3aWRnZXRzSnNvbj8ub3V0cHV0RGF0YVNvdXJjZXMgfHwgW11cbiAgICBjb25zdCBuZXdEYXRhc291cmNlQ29uZmlnID0gZGF0YXNvdXJjZUNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSB8fCBbXVxuICAgIGZvciAobGV0IGk7IGkgPCBuZXdEYXRhc291cmNlQ29uZmlnPy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGRzQ29uZmlnSXRlbSA9IG5ld0RhdGFzb3VyY2VDb25maWdbaV1cbiAgICAgIGlmIChkc0NvbmZpZ0l0ZW0/LnNlYXJjaFNlcnZpY2VUeXBlID09PSBTZWFyY2hTZXJ2aWNlVHlwZS5GZWF0dXJlU2VydmljZSkgY29udGludWVcbiAgICAgIGNvbnN0IG91cHV0RHNJZCA9IGRzQ29uZmlnSXRlbT8ub3V0cHV0RGF0YVNvdXJjZUlkXG4gICAgICBpZiAoIW91dHB1dERhdGFTb3VyY2VzPy5pbmNsdWRlcyhvdXB1dERzSWQpKSB7XG4gICAgICAgIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9ucyhkYXRhc291cmNlQ29uZmlnKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgbmV3IHNlYXJjaCBzb3VyY2UgZHJvcGRvd24gbGlzdFxuICAgKi9cbiAgY29uc3QgdG9nZ2xlTmV3U291cmNlID0gKCkgPT4ge1xuICAgIHNldE9wZW4oIW9wZW4pXG4gIH1cblxuICBjb25zdCBkc1N0YXR1c0NoYW5nZSA9IChkc0lkOiBzdHJpbmcsIGlzRHNDcmVhdGVTdWNjZXNzID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBuZXdEc0NyZWF0ZVN0YXR1cyA9IGRzQ3JlYXRlU3RhdHVzLnNldChkc0lkLCBpc0RzQ3JlYXRlU3VjY2VzcylcbiAgICBzZXREc0NyZWF0ZVN0YXR1cyhuZXdEc0NyZWF0ZVN0YXR1cylcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlIGNhbGxiYWNrIGFmdGVyIGFkZCBuZXcgc291cmNlXG4gICAqL1xuICBjb25zdCBvbkRzQ29uZmlnSWRDaGFuZ2UgPSAoY29uZmlnSXRlbUluZGV4OiBudW1iZXIsIGlzR2VvY29kZVNvdXJjZT86IGJvb2xlYW4pID0+IHtcbiAgICBzZXRTaG93TmV3U291cmNlSXRlbShmYWxzZSlcbiAgICBpZiAoISh0eXBlb2YgKGNvbmZpZ0l0ZW1JbmRleCkgPT09ICdudW1iZXInKSkge1xuICAgICAgaGlkZVNpZGVQb3BwZXIoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNldFNpZGVQb3BwZXJBbmNob3IoY29uZmlnSXRlbUluZGV4LCBmYWxzZSlcbiAgICBpZiAoZHNDb25maWdJdGVtSW5kZXggPT09IGNvbmZpZ0l0ZW1JbmRleCkge1xuICAgICAgaWYgKGlzR2VvY29kZVNvdXJjZSkge1xuICAgICAgICBzZXRTaG93TG9jYXRvclNvdXJjZVBhbmVsKCFzaG93TG9jYXRvclNvdXJjZVBhbmVsKVxuICAgICAgICBzZXRTaG93TGF5ZXJTb3VyY2VQYW5lbChmYWxzZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNob3dMYXllclNvdXJjZVBhbmVsKCFzaG93TGF5ZXJTb3VyY2VQYW5lbClcbiAgICAgICAgc2V0U2hvd0xvY2F0b3JTb3VyY2VQYW5lbChmYWxzZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RHNDb25maWdJdGVtSW5kZXgoY29uZmlnSXRlbUluZGV4KVxuICAgICAgaWYgKGlzR2VvY29kZVNvdXJjZSkge1xuICAgICAgICBzZXRTaG93TG9jYXRvclNvdXJjZVBhbmVsKHRydWUpXG4gICAgICAgIHNldFNob3dMYXllclNvdXJjZVBhbmVsKGZhbHNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2hvd0xheWVyU291cmNlUGFuZWwodHJ1ZSlcbiAgICAgICAgc2V0U2hvd0xvY2F0b3JTb3VyY2VQYW5lbChmYWxzZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2Ugc2lkZSBwb3BwZXJcbiAgICovXG4gIGNvbnN0IGhpZGVTaWRlUG9wcGVyID0gKCkgPT4ge1xuICAgIHNldFNob3dMb2NhdG9yU291cmNlUGFuZWwoZmFsc2UpXG4gICAgc2V0U2hvd0xheWVyU291cmNlUGFuZWwoZmFsc2UpXG4gICAgc2V0RHNDb25maWdJdGVtSW5kZXgobnVsbClcbiAgfVxuXG4gIGNvbnN0IG9wZW50U291cmNlUGFuZWwgPSAoaXNMYXllclNvdXJjZTogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGlzU2hvd1NvdXJjZVBhbmVsID0gaXNMYXllclNvdXJjZSA/ICFzaG93TG9jYXRvclNvdXJjZVBhbmVsIDogIXNob3dMYXllclNvdXJjZVBhbmVsXG4gICAgc2V0U2hvd05ld1NvdXJjZUl0ZW0oaXNTaG93U291cmNlUGFuZWwpXG4gICAgaWYgKGlzU2hvd1NvdXJjZVBhbmVsKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGRhdGFzb3VyY2VDb25maWc/Lmxlbmd0aCB8fCAwXG4gICAgICBzZXREc0NvbmZpZ0l0ZW1JbmRleChpbmRleClcbiAgICAgIHNldFNpZGVQb3BwZXJBbmNob3IoaW5kZXgsIHRydWUpXG4gICAgfVxuICAgIGlzTGF5ZXJTb3VyY2UgPyBzZXRTaG93TGF5ZXJTb3VyY2VQYW5lbChpc1Nob3dTb3VyY2VQYW5lbCkgOiBzZXRTaG93TG9jYXRvclNvdXJjZVBhbmVsKGlzU2hvd1NvdXJjZVBhbmVsKVxuICB9XG5cbiAgY29uc3Qgc2hvd1NvdXJjZVBhbmVsID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGlzR2VvY29kZVNvdXJjZSA9IGRhdGFzb3VyY2VDb25maWc/Lltkc0NvbmZpZ0l0ZW1JbmRleF0/LnNlYXJjaFNlcnZpY2VUeXBlID09PSBTZWFyY2hTZXJ2aWNlVHlwZS5HZW9jb2RlU2VydmljZVxuICAgIHJldHVybiBpc0dlb2NvZGVTb3VyY2UgPyBzaG93TG9jYXRvclNvdXJjZVBhbmVsIDogc2hvd0xheWVyU291cmNlUGFuZWxcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY29uZmlnIGFmdGVyIGRhdGFzb3VyY2VzIGNvbmZpZyBjaGFuZ2VcbiAgICovXG4gIGNvbnN0IHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9ucyA9IChuZXdEYXRhc291cmNlQ29uZmlnOiBJbW11dGFibGVBcnJheTxTZWFyY2hEYXRhQ29uZmlnPikgPT4ge1xuICAgIGlmIChjaGVja0lzTmV3TGF5ZXIobmV3RGF0YXNvdXJjZUNvbmZpZykpIHtcbiAgICAgIHNldFNob3dOZXdTb3VyY2VJdGVtKGZhbHNlKVxuICAgIH1cbiAgICBjb25zdCBhbGxEYXRhU291cmNlcyA9IGdldEFsbERhdGFzb3VyY2UobmV3RGF0YXNvdXJjZUNvbmZpZylcbiAgICBjb25zdCBkc0luV2lkZ2V0SnNvbiA9IGdldERzSW5XaWRnZXRKc29uKGFsbERhdGFTb3VyY2VzKVxuICAgIGlmIChjcmVhdGVPdXRwdXREcykge1xuICAgICAgb25PdXRwdXREc1NldHRpbmdDaGFuZ2UgJiYgb25PdXRwdXREc1NldHRpbmdDaGFuZ2UoYWxsRGF0YVNvdXJjZXMub3V0cHV0RGF0YVNvdXJjZXMsIG5ld0RhdGFzb3VyY2VDb25maWcsIGRzSW5XaWRnZXRKc29uKVxuICAgIH0gZWxzZSB7XG4gICAgICBvblNldHRpbmdDaGFuZ2UgJiYgb25TZXR0aW5nQ2hhbmdlKG5ld0RhdGFzb3VyY2VDb25maWcsIGRzSW5XaWRnZXRKc29uKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHVzZURhdGFzb3VyY2VzIGFuZCBvdXRwdXREYXRhc291cmNlc1xuICAgKi9cbiAgY29uc3QgZ2V0QWxsRGF0YXNvdXJjZSA9IChkYXRhc291cmNlQ29uZmlnOiBJbW11dGFibGVBcnJheTxTZWFyY2hEYXRhQ29uZmlnPikgPT4ge1xuICAgIGNvbnN0IGFsbERhdGFTb3VyY2VzID0gZGF0YXNvdXJjZUNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KT8ucmVkdWNlKChjdXJyZW50RHNNYXAsIGRzQ29nZmlnSXRlbSkgPT4ge1xuICAgICAgLy8gYWRkIHVzZURhdGFTb3VyY2VcbiAgICAgIGNvbnN0IHVzZURhdGFTb3VyY2UgPSBkc0NvZ2ZpZ0l0ZW0/LnVzZURhdGFTb3VyY2VcbiAgICAgIGlmICh1c2VEYXRhU291cmNlKSB7XG4gICAgICAgIGlmICghaXNEc0luRGF0YXNvdXJjZXModXNlRGF0YVNvdXJjZSwgY3VycmVudERzTWFwPy51c2VEYXRhU291cmNlcykpIHtcbiAgICAgICAgICBjdXJyZW50RHNNYXA/LnVzZURhdGFTb3VyY2VzLnB1c2godXNlRGF0YVNvdXJjZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50RHNNYXAudXNlRGF0YVNvdXJjZXMgPSBjb25jYXRGaWVsZHNPRlNhbWVVc2VEYXRhU291cmNlcyh1c2VEYXRhU291cmNlLCBjdXJyZW50RHNNYXA/LnVzZURhdGFTb3VyY2VzKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjcmVhdGVPdXRwdXREcykge1xuICAgICAgICAvLyBhZGQgb3V0cHV0RGF0YVNvdXJjZVxuICAgICAgICBjb25zdCBvdXRwdXREc0pzb24gPSBnZXRPdXRwdXREc0pzb24oZHNDb2dmaWdJdGVtKVxuICAgICAgICBvdXRwdXREc0pzb24gJiYgY3VycmVudERzTWFwLm91dHB1dERhdGFTb3VyY2VzLnB1c2gob3V0cHV0RHNKc29uKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnREc01hcFxuICAgIH0sIHsgdXNlRGF0YVNvdXJjZXM6IFtdIGFzIFVzZURhdGFTb3VyY2VbXSwgb3V0cHV0RGF0YVNvdXJjZXM6IFtdIH0pXG4gICAgcmV0dXJuIGFsbERhdGFTb3VyY2VzXG4gIH1cblxuICBjb25zdCBjb25jYXRGaWVsZHNPRlNhbWVVc2VEYXRhU291cmNlcyA9ICh1c2VEYXRhU291cmNlOiBVc2VEYXRhU291cmNlLCBjdXJyZW50RHNNYXA6IFVzZURhdGFTb3VyY2VbXSk6IFVzZURhdGFTb3VyY2VbXSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnREc01hcC5tYXAoZHMgPT4ge1xuICAgICAgY29uc3QgaXNTYW1lRHMgPSB1c2VEYXRhU291cmNlPy5kYXRhU291cmNlSWQgPT09IGRzPy5kYXRhU291cmNlSWRcbiAgICAgIGlmIChpc1NhbWVEcykge1xuICAgICAgICBjb25zdCBkc0ZpZWxkcyA9IHVzZURhdGFTb3VyY2U/LmZpZWxkcyB8fCBbXVxuICAgICAgICBjb25zdCBkc0ZpZWxkc0luVXNlRGF0YXNvdXJjZU1hcCA9IGRzPy5maWVsZHMgfHwgW11cbiAgICAgICAgY29uc3QgZmllbGRzQXJyYXJ5ID0gQXJyYXkuZnJvbShuZXcgU2V0KGRzRmllbGRzSW5Vc2VEYXRhc291cmNlTWFwLmNvbmNhdChkc0ZpZWxkcykpKVxuICAgICAgICBkcy5maWVsZHMgPSBmaWVsZHNBcnJhcnlcbiAgICAgIH1cbiAgICAgIHJldHVybiBkc1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBnZXRPdXRwdXREc0pzb24gPSAoZHNDb2dmaWdJdGVtOiBTZWFyY2hEYXRhQ29uZmlnKSA9PiB7XG4gICAgbGV0IG91dHB1dERhdGFTb3VyY2VKc29uXG4gICAgaWYgKGRzQ29nZmlnSXRlbT8uc2VhcmNoU2VydmljZVR5cGUgPT09IFNlYXJjaFNlcnZpY2VUeXBlLkdlb2NvZGVTZXJ2aWNlKSB7XG4gICAgICBvdXRwdXREYXRhU291cmNlSnNvbiA9IHtcbiAgICAgICAgaWQ6IGRzQ29nZmlnSXRlbT8ub3V0cHV0RGF0YVNvdXJjZUlkLFxuICAgICAgICB0eXBlOiBEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyLFxuICAgICAgICBsYWJlbDogZHNDb2dmaWdJdGVtPy5sYWJlbCxcbiAgICAgICAgb3JpZ2luRGF0YVNvdXJjZXM6IFtdLFxuICAgICAgICBpc091dHB1dEZyb21XaWRnZXQ6IHRydWUsXG4gICAgICAgIGlzRGF0YUluRGF0YVNvdXJjZUluc3RhbmNlOiBmYWxzZSxcbiAgICAgICAgc2NoZW1hOiBnZXRJbml0U2NoZW1hKGRzQ29nZmlnSXRlbT8ubGFiZWwsIGRzQ29nZmlnSXRlbT8uYWRkcmVzc0ZpZWxkcyksXG4gICAgICAgIGdlb21ldHJ5VHlwZTogJ2VzcmlHZW9tZXRyeVBvaW50J1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0RGF0YVNvdXJjZUpzb25cbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgbmV3IGRzIGluIHdpZGdldEpzb24gYWZ0ZXIgc2VsZWN0IGxheWVyLlxuICAgKi9cbiAgY29uc3QgZ2V0RHNJbldpZGdldEpzb24gPSAoYWxsRGF0YVNvdXJjZXMsIG91dHB1dERhdGFTb3VyY2VzSnNvbj86IERhdGFTb3VyY2VKc29uW10pOiBEU0luV2lkZ2V0SnNvbiA9PiB7XG4gICAgY29uc3QgdWRwYXRlV2lkZ2V0SnNvbiA9IHsgaWQ6IGlkIH0gYXMgYW55XG4gICAgLy8gSW5zdGVhZCBvZiBmdW5jdGlvbiBvblNldHRpbmdDaGFuZ2UsIHVzZSBhY3Rpb24gdG8gY2hhbmdlIHdpZGdldCBqc29uLCB3aGljaCBjYW4gYXZvaWQgY29uZmxpY3QuXG4gICAgLy8gQmVjYXVzZSBlZGl0aW5nIHdpZGdldCBqc29uIGluIGJ1aWxkZXIgbmVlZHMgcHViLXN1YiBhbmQgcHViLXN1YiBpcyBhc3luYy5cbiAgICB1ZHBhdGVXaWRnZXRKc29uLnVzZURhdGFTb3VyY2VzID0gYWxsRGF0YVNvdXJjZXM/LnVzZURhdGFTb3VyY2VzXG4gICAgaWYgKGNyZWF0ZU91dHB1dERzKSB7XG4gICAgICB1ZHBhdGVXaWRnZXRKc29uLm91dHB1dERhdGFTb3VyY2VzID0gYWxsRGF0YVNvdXJjZXM/Lm91dHB1dERhdGFTb3VyY2VzPy5tYXAob3V0cHV0RHMgPT4ge1xuICAgICAgICByZXR1cm4gb3V0cHV0RHM/LmlkXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZHNJbldpZGdldEpzb246IHVkcGF0ZVdpZGdldEpzb24sXG4gICAgICBpc1dpZGdldEpzb25Ec0NoYW5nZWQ6IGNoZWNrSXNXaWRnZXRKc29uRHNDaGFuZ2VkKHdpZGdldHNKc29uLCB1ZHBhdGVXaWRnZXRKc29uLnVzZURhdGFTb3VyY2VzLCB1ZHBhdGVXaWRnZXRKc29uLm91dHB1dERhdGFTb3VyY2VzKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyBhIG5ldyBsYXllclxuICAgKi9cbiAgY29uc3QgY2hlY2tJc05ld0xheWVyID0gKG5ld0RhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+KSA9PiB7XG4gICAgcmV0dXJuIG5ld0RhdGFzb3VyY2VDb25maWc/Lmxlbmd0aCAhPT0gZGF0YXNvdXJjZUNvbmZpZz8ubGVuZ3RoXG4gIH1cblxuICBjb25zdCBsb2NhdG9yU291cmNlUGFuZWxUb2dnbGUgPSAoKSA9PiB7XG4gICAgaWYgKHNob3dMb2NhdG9yU291cmNlUGFuZWwpIHtcbiAgICAgIHNldERzQ29uZmlnSXRlbUluZGV4KG51bGwpXG4gICAgfVxuICAgIHNldFNob3dMb2NhdG9yU291cmNlUGFuZWwoIXNob3dMb2NhdG9yU291cmNlUGFuZWwpXG4gICAgc2V0U2hvd05ld1NvdXJjZUl0ZW0oZmFsc2UpXG4gICAgcmVtb3ZlVW5hY2Nlc3NpYmxlU2VhcmNoRGF0YSgpXG4gIH1cblxuICBjb25zdCBsYXllclNvdXJjZVBhbmVsVG9nZ2xlID0gKCkgPT4ge1xuICAgIGlmIChzaG93TGF5ZXJTb3VyY2VQYW5lbCkge1xuICAgICAgc2V0RHNDb25maWdJdGVtSW5kZXgobnVsbClcbiAgICB9XG4gICAgc2V0U2hvd0xheWVyU291cmNlUGFuZWwoIXNob3dMYXllclNvdXJjZVBhbmVsKVxuICAgIHNldFNob3dOZXdTb3VyY2VJdGVtKGZhbHNlKVxuICAgIHJlbW92ZVVuYWNjZXNzaWJsZVNlYXJjaERhdGEoKVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlVW5hY2Nlc3NpYmxlU2VhcmNoRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdEYXRhc291cmNlQ29uZmlnID0gZGF0YXNvdXJjZUNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KT8uZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIChpdGVtPy51c2VEYXRhU291cmNlIHx8IGl0ZW0/LnVzZVV0aWxpdHkpXG4gICAgfSlcbiAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICB9XG5cbiAgY29uc3Qgc2V0U2lkZVBvcHBlckFuY2hvciA9IChpbmRleD86IG51bWJlciwgbmV3QWRkZWQgPSBmYWxzZSkgPT4ge1xuICAgIGxldCBub2RlOiBhbnlcbiAgICBpZiAobmV3QWRkZWQpIHtcbiAgICAgIG5vZGUgPSBzaWRlUG9wcGVyVHJpZ2dlci5jdXJyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FkZC1zZWFyY2gtYnRuJylbMF1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHNpZGVQb3BwZXJUcmlnZ2VyLmN1cnJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnamltdS10cmVlLWl0ZW1fX2JvZHknKVtpbmRleF1cbiAgICB9XG4gICAgc2V0UG9wcGVyRm9jdXNOb2RlKG5vZGUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVFbmFibGVGaWx0ZXJpbmcgPSAoZXZ0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldnQudGFyZ2V0LmNoZWNrZWRcbiAgICBvbkVuYWJsZUZpbHRlcmluZ0NoYW5nZSAmJiBvbkVuYWJsZUZpbHRlcmluZ0NoYW5nZSh2YWx1ZSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxTZXR0aW5nU2VjdGlvbiBjc3M9e1NUWUxFfT5cblxuICAgICAgICA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3ctMTAwIGRhdGEtcmVtaW5kJz57bmxzKCdhZGRTb3VyY2VzJyl9PC9zcGFuPlxuICAgICAgICA8L1NldHRpbmdSb3c+XG5cbiAgICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJyByZWY9e3NpZGVQb3BwZXJUcmlnZ2VyfT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHsoIXNlYXJjaERhdGFTZXR0aW5nVHlwZSB8fCBzZWFyY2hEYXRhU2V0dGluZ1R5cGUgPT09IFNlYXJjaERhdGFUeXBlLkJvdGgpICYmIDxEcm9wZG93biBjbGFzc05hbWU9J3ctMTAwJyBzaXplPSdzbScgdG9nZ2xlPXt0b2dnbGVOZXdTb3VyY2V9IGlzT3Blbj17b3Blbn0gYXV0b1dpZHRoPXt0cnVlfT5cbiAgICAgICAgICAgICAgICA8RHJvcGRvd25CdXR0b24gY2xhc3NOYW1lPSdhZGQtc2VhcmNoLWJ0biB3LTEwMCcgdGl0bGU9e25scygnbmV3U2VhcmNoU291cmNlJyl9IGFycm93PXtmYWxzZX0gaWNvbiB0eXBlPSdwcmltYXJ5Jz5cbiAgICAgICAgICAgICAgICAgIDxQbHVzT3V0bGluZWQgY2xhc3NOYW1lPSdtci0xIGQtaW5saW5lLWJsb2NrJyBhdXRvRmxpcC8+XG4gICAgICAgICAgICAgICAgICB7bmxzKCduZXdTZWFyY2hTb3VyY2UnKX1cbiAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnUgY3NzPXtEcm9wRG93blN0eWxlfT5cbiAgICAgICAgICAgICAgICAgIDxEcm9wZG93bkl0ZW0gY2xhc3NOYW1lPSd3LTEwMCcgb25DbGljaz17KCkgPT4geyBvcGVudFNvdXJjZVBhbmVsKHRydWUpIH19IHRpdGxlPXtubHMoJ2xheWVyU291cmNlJyl9PntubHMoJ2xheWVyU291cmNlJyl9PC9Ecm9wZG93bkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8RHJvcGRvd25JdGVtIGNsYXNzTmFtZT0ndy0xMDAnIG9uQ2xpY2s9eygpID0+IHsgb3BlbnRTb3VyY2VQYW5lbChmYWxzZSkgfX0gdGl0bGU9e25scygnbG9jYXRvclNvdXJjZScpfT57bmxzKCdsb2NhdG9yU291cmNlJyl9PC9Ecm9wZG93bkl0ZW0+XG4gICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgICAgICAgICAgIDwvRHJvcGRvd24+fVxuXG4gICAgICAgICAgICAgIHtzZWFyY2hEYXRhU2V0dGluZ1R5cGUgPT09IFNlYXJjaERhdGFUeXBlLkZlYXR1cmVTZXJ2aWNlICYmIDxCdXR0b24gdHlwZT0ncHJpbWFyeScgY2xhc3NOYW1lPSd3LTEwMCBhZGQtc2VhcmNoLWJ0bicgb25DbGljaz17KCkgPT4geyBvcGVudFNvdXJjZVBhbmVsKHRydWUpIH19PlxuICAgICAgICAgICAgICAgIDxQbHVzT3V0bGluZWQgY2xhc3NOYW1lPSdtci0xIGQtaW5saW5lLWJsb2NrJyBhdXRvRmxpcC8+XG4gICAgICAgICAgICAgICAge25scygnbGF5ZXJTb3VyY2UnKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+fVxuICAgICAgICAgICAgICB7c2VhcmNoRGF0YVNldHRpbmdUeXBlID09PSBTZWFyY2hEYXRhVHlwZS5HZW9jb2RlU2VydmljZSAmJiA8QnV0dG9uIHR5cGU9J3ByaW1hcnknIGNsYXNzTmFtZT0ndy0xMDAgYWRkLXNlYXJjaC1idG4nIG9uQ2xpY2s9eygpID0+IHsgb3BlbnRTb3VyY2VQYW5lbChmYWxzZSkgfX0+XG4gICAgICAgICAgICAgICAgPFBsdXNPdXRsaW5lZCBjbGFzc05hbWU9J21yLTEgZC1pbmxpbmUtYmxvY2snIGF1dG9GbGlwLz5cbiAgICAgICAgICAgICAgICB7bmxzKCdsb2NhdG9yU291cmNlJyl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPn1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogZGF0YXNvdXJjZSBsaXN0ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJyByZWY9e3NvdXJjZUxpc3RSZWZ9PlxuICAgICAgICAgICAgICA8RGF0YXNvdXJjZUxpc3RcbiAgICAgICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICAgICAgZHNDb25maWdJdGVtSW5kZXg9e2RzQ29uZmlnSXRlbUluZGV4fVxuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VDb25maWc9e2RhdGFzb3VyY2VDb25maWcgfHwgSW1tdXRhYmxlKFtdKX1cbiAgICAgICAgICAgICAgICBzaG93U291cmNlUGFuZWw9e3Nob3dTb3VyY2VQYW5lbCgpfVxuICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt1c2VEYXRhU291cmNlc31cbiAgICAgICAgICAgICAgICBvbkRzQ29uZmlnSWRDaGFuZ2U9e29uRHNDb25maWdJZENoYW5nZX1cbiAgICAgICAgICAgICAgICBzaG93TmV3U291cmNlSXRlbT17c2hvd05ld1NvdXJjZUl0ZW19XG4gICAgICAgICAgICAgICAgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zPXt1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnN9XG4gICAgICAgICAgICAgICAgaGlkZVNpZGVQb3BwZXI9e2hpZGVTaWRlUG9wcGVyfVxuICAgICAgICAgICAgICAgIGNyZWF0ZU91dHB1dERzPXtjcmVhdGVPdXRwdXREc31cbiAgICAgICAgICAgICAgICBkYXRhU291cmNlQ3JlYXRlU3RhdHVzPXtkc0NyZWF0ZVN0YXR1c31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFNldCBsYXllciBzb3VyY2UgKi99XG4gICAgICAgICAgPExheWVyU291cmNlUGFuZWxcbiAgICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICAgIGRzQ29uZmlnSXRlbUluZGV4PXtkc0NvbmZpZ0l0ZW1JbmRleH1cbiAgICAgICAgICAgIGRhdGFzb3VyY2VDb25maWc9e2RhdGFzb3VyY2VDb25maWcgfHwgSW1tdXRhYmxlKFtdKX1cbiAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt1c2VEYXRhU291cmNlc31cbiAgICAgICAgICAgIGlzT3Blbj17c2hvd0xheWVyU291cmNlUGFuZWx9XG4gICAgICAgICAgICBvblNldHRpbmdDaGFuZ2U9e29uU2V0dGluZ0NoYW5nZX1cbiAgICAgICAgICAgIHRyaWdnZXI9e3NvdXJjZUxpc3RSZWY/LmN1cnJlbnR9XG4gICAgICAgICAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnM9e3VwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9uc31cbiAgICAgICAgICAgIHRvZ2dsZT17bGF5ZXJTb3VyY2VQYW5lbFRvZ2dsZX1cbiAgICAgICAgICAgIGRzU3RhdHVzQ2hhbmdlPXtkc1N0YXR1c0NoYW5nZX1cbiAgICAgICAgICAgIHBvcHBlckZvY3VzTm9kZT17cG9wcGVyRm9jdXNOb2RlfVxuICAgICAgICAgICAgaGlkZUljb25TZXR0aW5nPXtoaWRlSWNvblNldHRpbmd9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBTZXQgbG9jYXRvciBzb3VyY2UgKi99XG4gICAgICAgICAgPExvY2F0b3JTb3VyY2VQYW5lbFxuICAgICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgICAgZHNDb25maWdJdGVtSW5kZXg9e2RzQ29uZmlnSXRlbUluZGV4fVxuICAgICAgICAgICAgZGF0YXNvdXJjZUNvbmZpZz17ZGF0YXNvdXJjZUNvbmZpZyB8fCBJbW11dGFibGUoW10pfVxuICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3VzZURhdGFTb3VyY2VzfVxuICAgICAgICAgICAgaXNPcGVuPXtzaG93TG9jYXRvclNvdXJjZVBhbmVsfVxuICAgICAgICAgICAgb25TZXR0aW5nQ2hhbmdlPXtvblNldHRpbmdDaGFuZ2V9XG4gICAgICAgICAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnM9e3VwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9uc31cbiAgICAgICAgICAgIHRyaWdnZXI9e3NvdXJjZUxpc3RSZWY/LmN1cnJlbnR9XG4gICAgICAgICAgICB0b2dnbGU9e2xvY2F0b3JTb3VyY2VQYW5lbFRvZ2dsZX1cbiAgICAgICAgICAgIHBvcHBlckZvY3VzTm9kZT17cG9wcGVyRm9jdXNOb2RlfVxuICAgICAgICAgICAgaGlkZUljb25TZXR0aW5nPXtoaWRlSWNvblNldHRpbmd9XG4gICAgICAgICAgICBjcmVhdGVPdXRwdXREcz17Y3JlYXRlT3V0cHV0RHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICAgIHsoc2VhcmNoRGF0YVNldHRpbmdUeXBlID09PSBTZWFyY2hEYXRhVHlwZS5Cb3RoIHx8IHNlYXJjaERhdGFTZXR0aW5nVHlwZSA9PT0gU2VhcmNoRGF0YVR5cGUuRmVhdHVyZVNlcnZpY2UpICYmIDxTZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e25scygnZW5hYmxlU2VhcmNoRmlsdGVyJyl9PlxuICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgIGNoZWNrZWQ9e2VuYWJsZUZpbHRlcmluZ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVFbmFibGVGaWx0ZXJpbmd9XG4gICAgICAgICAgICB0aXRsZT17bmxzKCdlbmFibGVTZWFyY2hGaWx0ZXInKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICA8L1NldHRpbmdTZWN0aW9uPn1cbiAgICAgIHsoc2VhcmNoRGF0YVNldHRpbmdUeXBlID09PSBTZWFyY2hEYXRhVHlwZS5Cb3RoIHx8IHNlYXJjaERhdGFTZXR0aW5nVHlwZSA9PT0gU2VhcmNoRGF0YVR5cGUuRmVhdHVyZVNlcnZpY2UpICYmIDxzcGFuLz59XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGpzeCwgSW1tdXRhYmxlLCB0eXBlIFVzZURhdGFTb3VyY2UsIERhdGFTb3VyY2VNYW5hZ2VyLCB0eXBlIFF1ZXJpYWJsZURhdGFTb3VyY2UsIGNzcywgdHlwZSBJbW11dGFibGVBcnJheSwgdHlwZSBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCB0eXBlIFNjZW5lTGF5ZXJEYXRhU291cmNlLCB0eXBlIElNRmllbGRTY2hlbWEsIEppbXVGaWVsZFR5cGUsIERhdGFTb3VyY2VDb21wb25lbnQsIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11Q29yZURlZmF1bHRNZXNzYWdlLCBBbGxEYXRhU291cmNlVHlwZXMsIGhvb2tzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU2V0dGluZ1NlY3Rpb24sIFNldHRpbmdSb3csIFNpZGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbmltcG9ydCB7IERhdGFTb3VyY2VTZWxlY3RvciwgRmllbGRTZWxlY3RvcldpdGhGdWxsVGV4dEluZGV4IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3RvcidcbmltcG9ydCB7IEljb25QaWNrZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3Jlc291cmNlLXNlbGVjdG9yJ1xuaW1wb3J0IHsgVGV4dElucHV0LCBDaGVja2JveCwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVpRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgdHlwZSBTZWFyY2hMYXllckRhdGFDb25maWcsIHR5cGUgSU1TZWFyY2hEYXRhQ29uZmlnLCB0eXBlIFNlYXJjaERhdGFDb25maWcsIFNlYXJjaFNlcnZpY2VUeXBlIH0gZnJvbSAnLi4vdHlwZS90eXBlJ1xuaW1wb3J0IHsgZ2V0T3V0cHV0SnNvbk9yaWdpbkRzLCBnZXRDb25maWdJZExpc3QsIGdldE5ld0NvbmZpZ0lkIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCdcbmltcG9ydCBEaXNwbGF5RmllbGRTZWxlY3QgZnJvbSAnLi9kaXNwbGF5LWZpZWxkLXNlbGVjdCdcbmNvbnN0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSA9IFJlYWN0XG5jb25zdCBTVVBQT1JURURfVFlQRVMgPSBJbW11dGFibGUoW0FsbERhdGFTb3VyY2VUeXBlcy5GZWF0dXJlTGF5ZXIsIEFsbERhdGFTb3VyY2VUeXBlcy5TY2VuZUxheWVyXSlcbmludGVyZmFjZSBMYXllclNvdXJjZVNpZGVQb3BwZXJQcm9wcyB7XG4gIGlkOiBzdHJpbmdcbiAgdHJpZ2dlcjogSFRNTEVsZW1lbnRcbiAgaXNPcGVuOiBib29sZWFuXG4gIGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+XG4gIGRzQ29uZmlnSXRlbUluZGV4OiBudW1iZXJcbiAgdG9nZ2xlOiAoKSA9PiB2b2lkXG4gIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9uczogKGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+KSA9PiB2b2lkXG4gIG9uU2V0dGluZ0NoYW5nZTogKGRhdGFzb3VyY2VDb25maWc6IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+KSA9PiB2b2lkXG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBwb3BwZXJGb2N1c05vZGU6IEhUTUxFbGVtZW50XG4gIGhpZGVJY29uU2V0dGluZzogYm9vbGVhblxuICBkc1N0YXR1c0NoYW5nZTogKGRzSWQ6IHN0cmluZywgaXNEc0NyZWF0ZVN1Y2Nlc3M/OiBib29sZWFuKSA9PiB2b2lkXG59XG5cbmNvbnN0IExheWVyU291cmNlU2lkZVBvcHBlciA9IChwcm9wczogTGF5ZXJTb3VyY2VTaWRlUG9wcGVyUHJvcHMpID0+IHtcbiAgY29uc3QgbmxzID0gaG9va3MudXNlVHJhbnNsYXRpb24oamltdWlEZWZhdWx0TWVzc2FnZSwgamltdUNvcmVEZWZhdWx0TWVzc2FnZSlcbiAgY29uc3QgZm9jdXNDbG9zZUJ1dHRvblRpbWVvdXRSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgeyB0cmlnZ2VyLCBpc09wZW4sIGlkLCBkYXRhc291cmNlQ29uZmlnLCBkc0NvbmZpZ0l0ZW1JbmRleCwgcG9wcGVyRm9jdXNOb2RlLCB0b2dnbGUsIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9ucywgb25TZXR0aW5nQ2hhbmdlLCBkc1N0YXR1c0NoYW5nZSwgaGlkZUljb25TZXR0aW5nIH0gPSBwcm9wc1xuICBjb25zdCBkYXRhc291cmNlQ29uZmlnSXRlbSA9IGRhdGFzb3VyY2VDb25maWc/Lltkc0NvbmZpZ0l0ZW1JbmRleF0gfHwgSW1tdXRhYmxlKHt9KSBhcyB1bmtub3duIGFzIElNU2VhcmNoRGF0YUNvbmZpZ1xuICBjb25zdCB7IGNvbmZpZ0lkLCBsYWJlbCwgaWNvbiwgc2VhcmNoRmllbGRzLCBzZWFyY2hFeGFjdCwgZGlzcGxheUZpZWxkcywgaGludCwgdXNlRGF0YVNvdXJjZSB9ID0gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0gYXMgdW5rbm93biBhcyBTZWFyY2hMYXllckRhdGFDb25maWdcblxuICBjb25zdCBbZGF0YXNvdXJjZSwgc2V0RGF0YXNvdXJjZV0gPSBSZWFjdC51c2VTdGF0ZShudWxsKVxuICBjb25zdCBbbmV3TGFiZWwsIHNldE5ld0xhYmVsXSA9IFJlYWN0LnVzZVN0YXRlKGxhYmVsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmZpZ0lkKSB7XG4gICAgICBzZXROZXdMYWJlbChsYWJlbClcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIH0sIFtjb25maWdJZF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uZmlnSWQgJiYgbGFiZWwgIT09IG5ld0xhYmVsKSB7XG4gICAgICBzZXROZXdMYWJlbChsYWJlbClcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIH0sIFtkYXRhc291cmNlQ29uZmlnSXRlbV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBmb2N1cyB0aGUgYmFjayBidXR0b24gd2hlbiBpdCBpcyBvcGVuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgY2xlYXJUaW1lb3V0KGZvY3VzQ2xvc2VCdXR0b25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICBmb2N1c0Nsb3NlQnV0dG9uVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uOiBhbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWRzLXNldHRpbmctcG9wcGVyIC5hY3Rpb24tY2xvc2UnKVxuICAgICAgICBjbG9zZUJ1dHRvbj8uZm9jdXMoKVxuICAgICAgfSwgMjAwKVxuICAgIH1cbiAgfSwgW2lzT3Blbl0pXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBvdXRwdXQgZGF0YXNvdXJjZSBieSB1c2VEYXRhc291cmNlXG4gICAqL1xuICBjb25zdCBjcmVhdGVPdXRwdXREc0J5VXNlRGF0YXNvdXJjZSA9ICh1c2VEYXRhU291cmNlKSA9PiB7XG4gICAgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVEYXRhU291cmNlQnlVc2VEYXRhU291cmNlKEltbXV0YWJsZSh1c2VEYXRhU291cmNlKSkudGhlbigob3JpZ2luRHM6IEZlYXR1cmVMYXllckRhdGFTb3VyY2UgfCBTY2VuZUxheWVyRGF0YVNvdXJjZSkgPT4ge1xuICAgICAgY29uc3QgZHNKc29uT3JpZ2luRHMgPSBnZXRPdXRwdXRKc29uT3JpZ2luRHMob3JpZ2luRHMpXG4gICAgICBpZiAoIWRzSnNvbk9yaWdpbkRzKSBQcm9taXNlLnJlamVjdChFcnJvcignJykpXG4gICAgICByZXR1cm4gZHNKc29uT3JpZ2luRHNcbiAgICB9KS50aGVuKChkc0pzb25PcmlnaW5EczogRmVhdHVyZUxheWVyRGF0YVNvdXJjZSkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhc291cmNlQ29uZmlnIH0gPSBnZXREYXRhc291cmNlQ29uZmlnKGRzSnNvbk9yaWdpbkRzLCB1c2VEYXRhU291cmNlKVxuICAgICAgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zKEltbXV0YWJsZShkYXRhc291cmNlQ29uZmlnKSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsYXllciBkZWZhdWx0IGNvbmZpZ1xuICAgKi9cbiAgY29uc3QgZ2V0RGF0YXNvdXJjZUNvbmZpZyA9IChkc0pzb25PcmlnaW5EczogRmVhdHVyZUxheWVyRGF0YVNvdXJjZSwgdXNlRGF0YVNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IGNvbmZpZ0lkTGlzdCA9IGdldENvbmZpZ0lkTGlzdChkYXRhc291cmNlQ29uZmlnPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICAgIGNvbnN0IG5leHREc0NvbmZpZ0lkID0gY29uZmlnSWQgfHwgZ2V0TmV3Q29uZmlnSWQoY29uZmlnSWRMaXN0KVxuICAgIGxldCBuZXdEYXRhc291cmNlQ29uZmlnID0gZGF0YXNvdXJjZUNvbmZpZyA/IGRhdGFzb3VyY2VDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSA6IFtdIGFzIGFueVxuICAgIGNvbnN0IHF1ZXJ5SXRlbUxhYmVsID0gZHNKc29uT3JpZ2luRHM/LmdldExhYmVsKClcbiAgICBjb25zdCBkZWZhdWx0RmllbGQgPSBnZXREZWZhdWx0RmllbGQodXNlRGF0YVNvdXJjZSlcbiAgICB1c2VEYXRhU291cmNlLmZpZWxkcyA9IGRlZmF1bHRGaWVsZD8ubWFwKGZpZWxkID0+IGZpZWxkPy5qaW11TmFtZSlcbiAgICBjb25zdCBkc0NvbmZpZ0l0ZW0gPSB7XG4gICAgICBjb25maWdJZDogbmV4dERzQ29uZmlnSWQsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgbGFiZWw6IHF1ZXJ5SXRlbUxhYmVsLFxuICAgICAgZGlzcGxheUxhYmVsOiB0cnVlLFxuICAgICAgdXNlRGF0YVNvdXJjZTogdXNlRGF0YVNvdXJjZSxcbiAgICAgIGRpc3BsYXlGaWVsZHM6IGRlZmF1bHRGaWVsZCxcbiAgICAgIHNlYXJjaEZpZWxkczogZGVmYXVsdEZpZWxkLFxuICAgICAgaGludDogJycsXG4gICAgICBzZWFyY2hTZXJ2aWNlVHlwZTogU2VhcmNoU2VydmljZVR5cGUuRmVhdHVyZVNlcnZpY2VcbiAgICB9XG4gICAgaWYgKGRhdGFzb3VyY2VDb25maWdJdGVtPy5jb25maWdJZCkge1xuICAgICAgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IG5ld0RhdGFzb3VyY2VDb25maWcubWFwKGVsID0+IHtcbiAgICAgICAgaWYgKGVsPy5jb25maWdJZCA9PT0gbmV4dERzQ29uZmlnSWQpIHtcbiAgICAgICAgICByZXR1cm4gZHNDb25maWdJdGVtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0RhdGFzb3VyY2VDb25maWcucHVzaChkc0NvbmZpZ0l0ZW0gYXMgYW55KVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZHNDb25maWdJdGVtOiBkc0NvbmZpZ0l0ZW0sXG4gICAgICBkYXRhc291cmNlQ29uZmlnOiBuZXdEYXRhc291cmNlQ29uZmlnXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkZWZhdWx0IGZpZWxkIGFmdGVyIGFkZCBsYXllclxuICAqL1xuICBjb25zdCBnZXREZWZhdWx0RmllbGQgPSAodXNlRGF0YVNvdXJjZTogVXNlRGF0YVNvdXJjZSk6IElNRmllbGRTY2hlbWFbXSA9PiB7XG4gICAgY29uc3QgZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuICAgIGNvbnN0IGRzID0gZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UodXNlRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUlkKSBhcyBRdWVyaWFibGVEYXRhU291cmNlXG4gICAgY29uc3QgZGlzcGxheUZpZWxkTmFtZSA9IChkcyBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKS5nZXRMYXllckRlZmluaXRpb24oKT8uZGlzcGxheUZpZWxkXG4gICAgY29uc3QgZmllbGRzID0gZHM/LmdldFNjaGVtYSgpPy5maWVsZHNcbiAgICBsZXQgZGlzcGxheUZpZWxkXG4gICAgY29uc3QgYWxsRmllbGRzRGF0YSA9IFtdXG4gICAgZm9yIChjb25zdCBmaWVsZEtleSBpbiBmaWVsZHMpIHtcbiAgICAgIGlmIChmaWVsZHM/LltmaWVsZEtleV0/LnR5cGUgIT09IEppbXVGaWVsZFR5cGUuRGF0ZSkge1xuICAgICAgICBhbGxGaWVsZHNEYXRhLnB1c2goZmllbGRzPy5bZmllbGRLZXldKVxuICAgICAgfVxuICAgICAgaWYgKGZpZWxkcz8uW2ZpZWxkS2V5XT8ubmFtZSA9PT0gZGlzcGxheUZpZWxkTmFtZSAmJiBmaWVsZHM/LltmaWVsZEtleV0/LnR5cGUgIT09IEppbXVGaWVsZFR5cGUuRGF0ZSkge1xuICAgICAgICBkaXNwbGF5RmllbGQgPSBmaWVsZHM/LltmaWVsZEtleV1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdEZpZWxkID0gYWxsRmllbGRzRGF0YT8ubGVuZ3RoID4gMSA/IGFsbEZpZWxkc0RhdGFbMV0gOiBhbGxGaWVsZHNEYXRhWzBdXG4gICAgLy9JZiB0aGUgZmVhdHVyZSBsYXllciBoYXMgdGhlIERpc3BsYXkgZmllbGQgc2V0dGluZ3MsIHRoZSBkZWZhdWx0IHNlYXJjaCBhbmQgZGlzcGxheSBmaWVsZCBzaG91bGQgYmUgdGhlIGxheWVyIGRlZmluZWQgZGlzcGxheSBmaWVsZC5cbiAgICByZXR1cm4gZGlzcGxheUZpZWxkID8gW0ltbXV0YWJsZShkaXNwbGF5RmllbGQpXSA6IFtJbW11dGFibGUoZGVmYXVsdEZpZWxkKV1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlIGNhbGxiYWNrIHdoZW4gZGF0YXNvdXJjZSBjaGFuZ2UuXG4gICAqL1xuICBjb25zdCBvbkRhdGFDaGFuZ2UgPSAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4ge1xuICAgIGlmICh1c2VEYXRhU291cmNlcyAmJiB1c2VEYXRhU291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjcmVhdGVPdXRwdXREc0J5VXNlRGF0YXNvdXJjZSh1c2VEYXRhU291cmNlc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlRGF0c1NvdXJjZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlRGF0c1NvdXJjZSA9ICgpID0+IHtcbiAgICBjb25zdCBjb25maWdJZExpc3QgPSBnZXRDb25maWdJZExpc3QoZGF0YXNvdXJjZUNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSlcbiAgICBjb25zdCBuZXh0RHNDb25maWdJZCA9IGNvbmZpZ0lkIHx8IGdldE5ld0NvbmZpZ0lkKGNvbmZpZ0lkTGlzdClcbiAgICBsZXQgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWcgPyBkYXRhc291cmNlQ29uZmlnLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkgOiBbXSBhcyBhbnlcbiAgICBjb25zdCBkc0NvbmZpZ0l0ZW0gPSB7XG4gICAgICBjb25maWdJZDogbmV4dERzQ29uZmlnSWQsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgbGFiZWw6ICcuLi4uLi4nLFxuICAgICAgZGlzcGxheUxhYmVsOiB0cnVlLFxuICAgICAgdXNlRGF0YVNvdXJjZTogbnVsbCxcbiAgICAgIGRpc3BsYXlGaWVsZHM6IFtdLFxuICAgICAgc2VhcmNoRmllbGRzOiBbXSxcbiAgICAgIGhpbnQ6ICcnLFxuICAgICAgc2VhcmNoU2VydmljZVR5cGU6IFNlYXJjaFNlcnZpY2VUeXBlLkZlYXR1cmVTZXJ2aWNlXG4gICAgfVxuICAgIG5ld0RhdGFzb3VyY2VDb25maWcgPSBuZXdEYXRhc291cmNlQ29uZmlnLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZWw/LmNvbmZpZ0lkID09PSBuZXh0RHNDb25maWdJZCkge1xuICAgICAgICByZXR1cm4gZHNDb25maWdJdGVtXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZWxcbiAgICAgIH1cbiAgICB9KVxuICAgIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9ucyhJbW11dGFibGUobmV3RGF0YXNvdXJjZUNvbmZpZykpXG4gIH1cblxuICAvKipcbiAgICogRmlyZSBjYWxsYmFjayB3aGVuIHNlYXJjaGluZyBmaWVsZHMgY2hhbmdlLlxuICAgKi9cbiAgY29uc3Qgb25GaWVsZENoYW5nZSA9IChhbGxTZWxlY3RlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdLCBwcmVGaWVsZHMsIGlzRGlzcGxheUZpZWxkOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWFsbFNlbGVjdGVkRmllbGRzKSByZXR1cm5cbiAgICBjb25zdCBmaWVsZE5hbWUgPSBpc0Rpc3BsYXlGaWVsZCA/ICdkaXNwbGF5RmllbGRzJyA6ICdzZWFyY2hGaWVsZHMnXG5cbiAgICBsZXQgZmlsdGVyZWRGaWVsZHMgPSBmaWx0ZXJGaWVsZHMoYWxsU2VsZWN0ZWRGaWVsZHMpXG4gICAgLy9BdCBsZWFzdCBvbmUgZmllbGQgaXMgc2VsZWN0ZWRcbiAgICBpZiAoZmlsdGVyZWRGaWVsZHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmlsdGVyZWRGaWVsZHMgPSBJbW11dGFibGUocHJlRmllbGRzKT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KT8uc3BsaWNlKDAsIDEpXG4gICAgfVxuXG4gICAgY29uc3QgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSlcbiAgICBsZXQgbmV3RGF0YXNvdXJjZUNvbmZpZ0l0ZW06IElNU2VhcmNoRGF0YUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWdJdGVtPy5zZXRJbihbZmllbGROYW1lXSwgZmlsdGVyZWRGaWVsZHMpXG4gICAgbmV3RGF0YXNvdXJjZUNvbmZpZ0l0ZW0gPSBpbml0TmV3RGF0YXNvdXJjZUNvbmZpZ0J5RmllbGQobmV3RGF0YXNvdXJjZUNvbmZpZ0l0ZW0pXG4gICAgbmV3RGF0YXNvdXJjZUNvbmZpZz8uc3BsaWNlKGRzQ29uZmlnSXRlbUluZGV4LCAxLCBuZXdEYXRhc291cmNlQ29uZmlnSXRlbT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSlcbiAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICB9XG5cbiAgY29uc3QgaW5pdE5ld0RhdGFzb3VyY2VDb25maWdCeUZpZWxkID0gKGRhdGFzb3VyY2VDb25maWdJdGVtOiBJTVNlYXJjaERhdGFDb25maWcpOiBJTVNlYXJjaERhdGFDb25maWcgPT4ge1xuICAgIGNvbnN0IHNlYXJjaEZpZWxkTmFtZUFyciA9IGRhdGFzb3VyY2VDb25maWdJdGVtPy5zZWFyY2hGaWVsZHM/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSk/Lm1hcChpdGVtID0+IGl0ZW0/LmppbXVOYW1lKSB8fCBbXVxuICAgIGNvbnN0IGRpc3BsYXlGaWVsZHNOYW1lQXJyID0gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0/LmRpc3BsYXlGaWVsZHM/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSk/Lm1hcChpdGVtID0+IGl0ZW0/LmppbXVOYW1lKSB8fCBbXVxuICAgIGNvbnN0IGRzRmllbGRzID0gQXJyYXkuZnJvbShuZXcgU2V0KHNlYXJjaEZpZWxkTmFtZUFyci5jb25jYXQoZGlzcGxheUZpZWxkc05hbWVBcnIpKSlcbiAgICByZXR1cm4gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0uc2V0SW4oWyd1c2VEYXRhU291cmNlJywgJ2ZpZWxkcyddLCBkc0ZpZWxkcylcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgZmllbGRzIGFmdGVyIGZpZWxkcyBjaGFuZ2VkXG4gICAqL1xuICBjb25zdCBmaWx0ZXJGaWVsZHMgPSAobmV3VGFibGVGaWVsZHM6IElNRmllbGRTY2hlbWFbXSkgPT4ge1xuICAgIGNvbnN0IGZpZWxkcyA9IG5ld1RhYmxlRmllbGRzPy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gaXRlbT8udHlwZSAhPT0gSmltdUZpZWxkVHlwZT8uRGF0ZVxuICAgIH0pXG4gICAgcmV0dXJuIGZpZWxkc1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmUgY2FsbGJhY2sgd2hlbiBjaGFuZ2UgbGF5ZXIgY29uZmlnLlxuICAgKi9cbiAgY29uc3Qgb25Db25maWdJdGVtQ2hhbmdlID0gKGtleTogc3RyaW5nW10sIHZhbHVlOiBhbnkpID0+IHtcbiAgICBjb25zdCBuZXdEYXRhc291cmNlQ29uZmlnID0gZGF0YXNvdXJjZUNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KVxuICAgIGNvbnN0IG5ld0RhdGFzb3VyY2VDb25maWdJdGVtID0gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0/LnNldEluKGtleSwgdmFsdWUpXG4gICAgbmV3RGF0YXNvdXJjZUNvbmZpZz8uc3BsaWNlKGRzQ29uZmlnSXRlbUluZGV4LCAxLCBuZXdEYXRhc291cmNlQ29uZmlnSXRlbT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSlcbiAgICBvblNldHRpbmdDaGFuZ2UoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tib3hDaGFuZ2UgPSAoZXZ0KSA9PiB7XG4gICAgb25Db25maWdJdGVtQ2hhbmdlKFsnc2VhcmNoRXhhY3QnXSwgIXNlYXJjaEV4YWN0KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTGFiZWxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50Py50YXJnZXQ/LnZhbHVlXG4gICAgc2V0TmV3TGFiZWwodmFsdWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVMYWJlbEFjY2VwdCA9IHZhbHVlID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBzZXROZXdMYWJlbChsYWJlbClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TmV3TGFiZWwodmFsdWU/LnRyaW0oKSlcbiAgICAgIG9uQ29uZmlnSXRlbUNoYW5nZShbJ2xhYmVsJ10sIHZhbHVlPy50cmltKCkpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSGludENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQ/LnRhcmdldD8udmFsdWVcbiAgICBvbkNvbmZpZ0l0ZW1DaGFuZ2UoWydoaW50J10sIHZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIEZpcmUgY2FsbGJhY2sgd2hlbiB0aGUgZGF0YXNvdXJjZSBjcmVhdGVkLlxuICAgKi9cbiAgY29uc3Qgb25Ec0NyZWF0ZSA9IGRzID0+IHtcbiAgICBzZXREYXRhc291cmNlKGRzKVxuICAgIGRzICYmIGRzU3RhdHVzQ2hhbmdlKGRzLmlkLCB0cnVlKVxuICB9XG5cbiAgY29uc3Qgb25DcmVhdGVEYXRhU291cmNlRmFpbGVkID0gZXJyID0+IHtcbiAgICBpZiAoIWRhdGFzb3VyY2VDb25maWdJdGVtPy51c2VEYXRhU291cmNlKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBkc0lkID0gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0udXNlRGF0YVNvdXJjZS5kYXRhU291cmNlSWRcbiAgICBkc1N0YXR1c0NoYW5nZShkc0lkLCBmYWxzZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgbGF5ZXIgc2V0dGluZ1xuICAgKi9cbiAgY29uc3QgcmVuZGVyU291cmNlU2V0dGluZyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgIDxTZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCcgbGFiZWw9e25scygnbGFiZWwnKX0+XG4gICAgICAgICAgPFRleHRJbnB1dCBhcmlhLWxhYmVsPXtubHMoJ2xhYmVsJyl9IHNpemU9J3NtJyB2YWx1ZT17bmV3TGFiZWwgfHwgJyd9IG9uQWNjZXB0VmFsdWU9e2hhbmRsZUxhYmVsQWNjZXB0fSBvbkNoYW5nZT17aGFuZGxlTGFiZWxDaGFuZ2V9IGNsYXNzTmFtZT0ndy0xMDAnIHBsYWNlaG9sZGVyPXtubHMoJ2ZpbmRBZGRyZXNzT3JQbGFjZScpfS8+XG4gICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG5cbiAgICAgIHshaGlkZUljb25TZXR0aW5nICYmIDxTZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e25scygnc2VhcmNoSWNvbicpfT5cbiAgICAgICAgICA8SWNvblBpY2tlclxuICAgICAgICAgICAgaWNvbj17aWNvbn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWNvbikgPT4geyBvbkNvbmZpZ0l0ZW1DaGFuZ2UoWydpY29uJ10sIGljb24pIH19XG4gICAgICAgICAgICBjb25maWd1cmFibGVPcHRpb249J25vbmUnXG4gICAgICAgICAgICBzZXRCdXR0b25Vc2VDb2xvcj17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgPC9TZXR0aW5nU2VjdGlvbj59XG5cbiAgICAgIDxTZXR0aW5nU2VjdGlvbiB0aXRsZT17bmxzKCdzZWFyY2hPcHRpb25zJyl9IHJvbGU9J2dyb3VwJyBhcmlhLWxhYmVsPXtubHMoJ3NlYXJjaE9wdGlvbnMnKX0+XG4gICAgICAgIDxTZXR0aW5nUm93IGZsb3c9J3dyYXAnIGxhYmVsPXtubHMoJ3NlbGVjdFNlYXJjaEZpZWxkcycpfSByb2xlPSdncm91cCcgYXJpYS1sYWJlbD17bmxzKCdzZWxlY3RTZWFyY2hGaWVsZHMnKX0+XG4gICAgICAgICAgPEZpZWxkU2VsZWN0b3JXaXRoRnVsbFRleHRJbmRleFxuICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9eyB1c2VEYXRhU291cmNlID8gSW1tdXRhYmxlKFt1c2VEYXRhU291cmNlXSkgOiBJbW11dGFibGUoW10pIH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoYWxsU2VsZWN0ZWRGaWVsZHMpID0+IHsgb25GaWVsZENoYW5nZShhbGxTZWxlY3RlZEZpZWxkcywgc2VhcmNoRmllbGRzKSB9fVxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM9e0ltbXV0YWJsZShzZWFyY2hGaWVsZHM/Lm1hcChmaWVsZCA9PiBmaWVsZD8ubmFtZSkpfVxuICAgICAgICAgICAgaXNNdWx0aXBsZVxuICAgICAgICAgICAgaXNTZWFyY2hJbnB1dEhpZGRlbj17ZmFsc2V9XG4gICAgICAgICAgICBpc0RhdGFTb3VyY2VEcm9wRG93bkhpZGRlblxuICAgICAgICAgICAgdXNlRHJvcGRvd25cbiAgICAgICAgICAgIHVzZU11bHRpRHJvcGRvd25Cb3R0b21Ub29sc1xuICAgICAgICAgICAgd2lkZ2V0SWQ9e2lkfVxuICAgICAgICAgICAgdHlwZXM9e0ltbXV0YWJsZShbSmltdUZpZWxkVHlwZS5OdW1iZXIsIEppbXVGaWVsZFR5cGUuU3RyaW5nXSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMicgYXJpYS1sYWJlbD17bmxzKCdleGFjdE1hdGNoJyl9IG9uQ2xpY2s9e2hhbmRsZUNoZWNrYm94Q2hhbmdlfT5cbiAgICAgICAgICAgIDxDaGVja2JveCB0aXRsZT17bmxzKCdleGFjdE1hdGNoJyl9IGNoZWNrZWQ9e3NlYXJjaEV4YWN0fSBjbGFzc05hbWU9J21yLTEnLz5cbiAgICAgICAgICAgIHtubHMoJ2V4YWN0TWF0Y2gnKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJyBsYWJlbD17bmxzKCdkaXNwbGF5RmllbGRzJyl9IHJvbGU9J2dyb3VwJyBhcmlhLWxhYmVsPXtubHMoJ2Rpc3BsYXlGaWVsZHMnKX0+XG4gICAgICAgICAgPERpc3BsYXlGaWVsZFNlbGVjdFxuICAgICAgICAgICAgZGlzUGxheUZpZWxkPXtkaXNwbGF5RmllbGRzIHx8IFtdfVxuICAgICAgICAgICAgb25GaWVsZENoYW5nZT17b25GaWVsZENoYW5nZX1cbiAgICAgICAgICAgIHVzZURhdGFTb3VyY2U9e3VzZURhdGFTb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJyBsYWJlbD17bmxzKCdzZWFyY2hIaW50Jyl9PlxuICAgICAgICAgIDxUZXh0SW5wdXQgc2l6ZT0nc20nIHZhbHVlPXtoaW50IHx8ICcnfSB0aXRsZT17aGludCB8fCBubHMoJ2ZpbmRBZGRyZXNzT3JQbGFjZScpfSBhcmlhLWxhYmVsPXtubHMoJ3NlYXJjaEhpbnQnKX0gb25DaGFuZ2U9e2hhbmRsZUhpbnRDaGFuZ2V9IGNsYXNzTmFtZT0ndy0xMDAnIHBsYWNlaG9sZGVyPXtubHMoJ2ZpbmRBZGRyZXNzT3JQbGFjZScpfS8+XG4gICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBjb25zdCB1c2VEYXRhU291cmNlcyA9IGRhdGFzb3VyY2VDb25maWdJdGVtPy51c2VEYXRhU291cmNlID8gW2RhdGFzb3VyY2VDb25maWdJdGVtPy51c2VEYXRhU291cmNlPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pXSA6IFtdXG4gIHJldHVybiAoXG4gICAgPFNpZGVQb3BwZXIgY2xhc3NOYW1lPSdzZWFyY2gtZHMtc2V0dGluZy1wb3BwZXInIGlzT3Blbj17aXNPcGVufSBwb3NpdGlvbj0ncmlnaHQnIHRvZ2dsZT17dG9nZ2xlfSB0cmlnZ2VyPXt0cmlnZ2VyfSB0aXRsZT17bmxzKCdzZXRMYXllclNvdXJjZScpfSBiYWNrVG9Gb2N1c05vZGU9e3BvcHBlckZvY3VzTm9kZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIGNzcz17Y3NzYG92ZXJmbG93OiBhdXRvO2B9PlxuICAgICAgICB7LyogRGF0YXNvdXJjZSBzZWxlY3RvciAqL31cbiAgICAgICAgPFNldHRpbmdTZWN0aW9uIHN0eWxlPXt7IHBhZGRpbmdUb3A6IDAgfX0+XG4gICAgICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCcgbGFiZWw9e25scygnZGF0YScpfT5cbiAgICAgICAgICAgIDxEYXRhU291cmNlU2VsZWN0b3JcbiAgICAgICAgICAgICAgY2xvc2VEYXRhU291cmNlTGlzdE9uQ2hhbmdlXG4gICAgICAgICAgICAgIHR5cGVzPXtTVVBQT1JURURfVFlQRVN9XG4gICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXtJbW11dGFibGUodXNlRGF0YVNvdXJjZXMpfVxuICAgICAgICAgICAgICBkaXNhYmxlUmVtb3ZlPXsoKSA9PiB0cnVlfVxuICAgICAgICAgICAgICBtdXN0VXNlRGF0YVNvdXJjZVxuICAgICAgICAgICAgICBvbkNoYW5nZT17b25EYXRhQ2hhbmdlfVxuICAgICAgICAgICAgICB3aWRnZXRJZD17aWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cblxuICAgICAgICB7LyogUmVuZGVyIGxheWVyIHNldHRpbmcgKi99XG4gICAgICAgIHsoZGF0YXNvdXJjZUNvbmZpZ0l0ZW0/LmNvbmZpZ0lkICYmIGRhdGFzb3VyY2UpICYmIHJlbmRlclNvdXJjZVNldHRpbmcoKX1cblxuICAgICAgICB7dXNlRGF0YVNvdXJjZXM/LlswXSAmJiA8ZGl2IGNsYXNzTmFtZT0nd2FpdGluZy1mb3ItZGF0YWJhc2UnPlxuICAgICAgICAgIDxEYXRhU291cmNlQ29tcG9uZW50XG4gICAgICAgICAgICB1c2VEYXRhU291cmNlPXtJbW11dGFibGUodXNlRGF0YVNvdXJjZXNbMF0pfVxuICAgICAgICAgICAgb25EYXRhU291cmNlQ3JlYXRlZD17b25Ec0NyZWF0ZX1cbiAgICAgICAgICAgIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZD17b25DcmVhdGVEYXRhU291cmNlRmFpbGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuICAgIDwvU2lkZVBvcHBlcj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllclNvdXJjZVNpZGVQb3BwZXJcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGNzcywganN4LCB0eXBlIFVzZURhdGFTb3VyY2UsIFN1cHBvcnRlZFV0aWxpdHlUeXBlLCB0eXBlIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgVXNlVXRpbGl0eSwgVXRpbGl0eU1hbmFnZXIsIHR5cGUgRmllbGRTY2hlbWEsIHR5cGUgSU1GaWVsZFNjaGVtYSwgdHlwZSBPcmdHZW9jb2RlU2V0dGluZywgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIGhvb2tzLCBnZXRBcHBTdG9yZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNldHRpbmdTZWN0aW9uLCBTZXR0aW5nUm93LCBTaWRlUG9wcGVyIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXG5pbXBvcnQgeyBVdGlsaXR5U2VsZWN0b3IgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3V0aWxpdHktc2VsZWN0b3InXG5pbXBvcnQgeyBJY29uUGlja2VyIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9yZXNvdXJjZS1zZWxlY3RvcidcbmltcG9ydCB7IFRleHRJbnB1dCwgQWxlcnQsIExvYWRpbmcsIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11aURlZmF1bHRNZXNzYWdlIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IHR5cGUgU2VhcmNoR2VvY29kZURhdGFDb25maWcsIHR5cGUgSU1TZWFyY2hHZW9jb2RlRGF0YUNvbmZpZywgU2VhcmNoU2VydmljZVR5cGUsIHR5cGUgU2VhcmNoRGF0YUNvbmZpZywgdHlwZSBBZGRyZXNzRmllbGRzLCB0eXBlIElNU2VhcmNoRGF0YUNvbmZpZyB9IGZyb20gJy4uL3R5cGUvdHlwZSdcbmltcG9ydCB7IGdldENvbmZpZ0lkTGlzdCwgZ2V0TmV3Q29uZmlnSWQsIGdldEFkZHJlc3NGaWVsZHNTY2hlbWFBbmREZWZhdWx0RmllbGROYW1lIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCdcbmltcG9ydCB7IERlZmF1bHRHZW9jb2RlTGFiZWwgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnXG5pbXBvcnQgRGlzcGxheUZpZWxkU2VsZWN0IGZyb20gJy4vZGlzcGxheS1maWVsZC1zZWxlY3QnXG5jb25zdCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gPSBSZWFjdFxuXG5lbnVtIFVybENoZWNrUmVzdWx0VHlwZSB7XG4gIFBhc3MgPSAnUGFzcycsXG4gIE5vdEh0dHBzID0gJ05vdF9IdHRwcycsXG4gIEludmFsaWRVUkwgPSAnSW52YWxpZF9VUkwnXG59XG5cbmludGVyZmFjZSBVcmxDaGVja1Jlc3VsdCB7XG4gIHVybENoZWNrUmVzdWx0VHlwZTogVXJsQ2hlY2tSZXN1bHRUeXBlXG4gIHNpbmdsZUxpbmVGaWVsZE5hbWU/OiBzdHJpbmdcbiAgYWRkcmVzc0ZpZWxkcz86IEFkZHJlc3NGaWVsZHNbXVxuICBjYW5kaWRhdGVGaWVsZHM/OiBBZGRyZXNzRmllbGRzW11cbiAgaXNTdXBwb3J0U3VnZ2VzdD86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIExheWVyU291cmNlU2lkZVBvcHBlclByb3BzIHtcbiAgaWQ6IHN0cmluZ1xuICBkYXRhc291cmNlQ29uZmlnOiBJbW11dGFibGVBcnJheTxTZWFyY2hEYXRhQ29uZmlnPlxuICB0b2dnbGU6ICgpID0+IHZvaWRcbiAgb25TZXR0aW5nQ2hhbmdlOiAoZGF0YXNvdXJjZUNvbmZpZzogSW1tdXRhYmxlQXJyYXk8U2VhcmNoRGF0YUNvbmZpZz4pID0+IHZvaWRcbiAgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zOiAoZGF0YXNvdXJjZUNvbmZpZz86IEltbXV0YWJsZUFycmF5PFNlYXJjaERhdGFDb25maWc+KSA9PiB2b2lkXG4gIHRyaWdnZXI6IEhUTUxFbGVtZW50XG4gIGlzT3BlbjogYm9vbGVhblxuICBkc0NvbmZpZ0l0ZW1JbmRleDogbnVtYmVyXG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBwb3BwZXJGb2N1c05vZGU6IEhUTUxFbGVtZW50XG4gIGhpZGVJY29uU2V0dGluZzogYm9vbGVhblxuICBjcmVhdGVPdXRwdXREcz86IGJvb2xlYW5cbn1cblxuY29uc3Qgc3VwcG9ydGVkVXRpbGl0eVR5cGVzID0gW1N1cHBvcnRlZFV0aWxpdHlUeXBlLkdlb0NvZGluZ11cblxuY29uc3QgTG9jYXRvclNvdXJjZVNpZGVQb3BwZXIgPSAocHJvcHM6IExheWVyU291cmNlU2lkZVBvcHBlclByb3BzKSA9PiB7XG4gIGNvbnN0IG5scyA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGppbXVpRGVmYXVsdE1lc3NhZ2UsIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UpXG4gIGNvbnN0IGZvY3VzQ2xvc2VCdXR0b25UaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IHsgaWQsIHRyaWdnZXIsIHRvZ2dsZSwgaXNPcGVuLCBkYXRhc291cmNlQ29uZmlnLCBkc0NvbmZpZ0l0ZW1JbmRleCwgcG9wcGVyRm9jdXNOb2RlLCBjcmVhdGVPdXRwdXREcywgb25TZXR0aW5nQ2hhbmdlLCB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMsIGhpZGVJY29uU2V0dGluZyB9ID0gcHJvcHNcbiAgY29uc3QgZGF0YXNvdXJjZUNvbmZpZ0l0ZW06IElNU2VhcmNoR2VvY29kZURhdGFDb25maWcgPSBkYXRhc291cmNlQ29uZmlnPy5bZHNDb25maWdJdGVtSW5kZXhdIGFzIHVua25vd24gYXMgSU1TZWFyY2hHZW9jb2RlRGF0YUNvbmZpZyB8fCBJbW11dGFibGUoe30pIGFzIElNU2VhcmNoR2VvY29kZURhdGFDb25maWdcbiAgY29uc3QgeyBjb25maWdJZCwgbGFiZWwsIGljb24sIGhpbnQsIG91dHB1dERhdGFTb3VyY2VJZCwgZGlzcGxheUZpZWxkcyB9ID0gZGF0YXNvdXJjZUNvbmZpZ0l0ZW0gYXMgdW5rbm93biBhcyBTZWFyY2hHZW9jb2RlRGF0YUNvbmZpZ1xuICBjb25zdCBbbmV3TGFiZWwsIHNldE5ld0xhYmVsXSA9IFJlYWN0LnVzZVN0YXRlKGxhYmVsKVxuICBjb25zdCBbaXN2YWxpZGF0ZVNlcnZpY2VFbmQsIHNldElzdmFsaWRhdGVTZXJ2aWNlRW5kXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdXJsQ2hlY2tSZXN1bHRzLCBzZXRVcmxDaGVja1Jlc3VsdFR5cGVdID0gUmVhY3QudXNlU3RhdGUoVXJsQ2hlY2tSZXN1bHRUeXBlLlBhc3MpXG4gIGNvbnN0IFt1c2VVdGlsaXR5LCBzZXRVc2VVdGlsaXR5XSA9IFJlYWN0LnVzZVN0YXRlKGRhdGFzb3VyY2VDb25maWdJdGVtPy51c2VVdGlsaXR5KVxuICBjb25zdCBbc2hvd0xvYWRpbmcsIHNldFNob3dMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gZm9jdXMgdGhlIGJhY2sgYnV0dG9uIHdoZW4gaXQgaXMgb3BlblxuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIGNsZWFyVGltZW91dChmb2N1c0Nsb3NlQnV0dG9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgZm9jdXNDbG9zZUJ1dHRvblRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbjogYW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1sb2NhdG9yLXNldHRpbmctcG9wcGVyIC5hY3Rpb24tY2xvc2UnKVxuICAgICAgICBjbG9zZUJ1dHRvbj8uZm9jdXMoKVxuICAgICAgfSwgMjAwKVxuICAgIH1cbiAgfSwgW2lzT3Blbl0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzT3BlbikgcmV0dXJuXG4gICAgc2V0VXJsQ2hlY2tSZXN1bHRUeXBlKFVybENoZWNrUmVzdWx0VHlwZS5QYXNzKVxuICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKVxuICAgIGlmIChkYXRhc291cmNlQ29uZmlnSXRlbT8udXNlVXRpbGl0eSkge1xuICAgICAgLy9DaGVjayBpZiBnZW9jb2RlIHNlcnZpY2UgdXJsIGlzIGF2YWlsYWJsZVxuICAgICAgZ2V0VXJsT2ZVc2VVdGlsaXR5KGRhdGFzb3VyY2VDb25maWdJdGVtPy51c2VVdGlsaXR5KS50aGVuKHVybCA9PiB7XG4gICAgICAgIHZhbGlkYXRlR2VvY29kZVNlcnZpY2UodXJsKS50aGVuKHVybENoZWNrUmVzdWx0ID0+IHtcbiAgICAgICAgICBzZXRVcmxDaGVja1Jlc3VsdFR5cGUodXJsQ2hlY2tSZXN1bHQ/LnVybENoZWNrUmVzdWx0VHlwZSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBzZXRVc2VVdGlsaXR5KGRhdGFzb3VyY2VDb25maWdJdGVtPy51c2VVdGlsaXR5KVxuICAgICAgc2V0TmV3TGFiZWwoZGF0YXNvdXJjZUNvbmZpZ0l0ZW0/LmxhYmVsKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRVc2VVdGlsaXR5KG51bGwpXG4gICAgICBzZXROZXdMYWJlbChEZWZhdWx0R2VvY29kZUxhYmVsKVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgW2RzQ29uZmlnSXRlbUluZGV4LCBjb25maWdJZCwgaXNPcGVuXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE5ld0xhYmVsKGRhdGFzb3VyY2VDb25maWdJdGVtPy5sYWJlbClcbiAgfSwgW2RhdGFzb3VyY2VDb25maWdJdGVtXSlcblxuICAvKipcbiAgICogVXBkYXRlIGdlb2NvZGUgY29uZmlnXG4gICAqL1xuICBjb25zdCB1cGRhdGVHZW9jb2RlQ29uZmlnID0gKHNpbmdsZUxpbmVGaWVsZE5hbWU6IHN0cmluZywgdXNlVXRpbGl0eTogVXNlVXRpbGl0eSwgZmllbGRzOiBBZGRyZXNzRmllbGRzW10sIGlzU3VwcG9ydFN1Z2dlc3Q/OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgY29uZmlnSWRMaXN0ID0gZ2V0Q29uZmlnSWRMaXN0KGRhdGFzb3VyY2VDb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gICAgY29uc3QgbmV4dERzQ29uZmlnSWQgPSBjb25maWdJZCB8fCBnZXROZXdDb25maWdJZChjb25maWdJZExpc3QpXG4gICAgbGV0IG5ld0RhdGFzb3VyY2VDb25maWcgPSBkYXRhc291cmNlQ29uZmlnID8gZGF0YXNvdXJjZUNvbmZpZy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pIDogW10gYXMgYW55XG4gICAgY29uc3QgbGFiZWwgPSBnZXRMYWJlbE9mVXNlVXRpbGl0eSh1c2VVdGlsaXR5KVxuICAgIGNvbnN0IGRlZmF1bHRIaW50ID0gZ2V0RGVmYXVsdEhpbnRPZlVzZVV0aWxpdHkodXNlVXRpbGl0eSlcbiAgICAvLyBjb25zdCBsYWJlbCA9IGdldERlZmF1bHRHZW9jb2RlTGFiZWwoZ2VvY29kZVNlcnZpY2VVcmwpXG4gICAgY29uc3QgeyBhZGRyZXNzRmllbGRzU2NoZW1hLCBkZWZhdWx0QWRkcmVzc0ZpZWxkTmFtZSB9ID0gZ2V0QWRkcmVzc0ZpZWxkc1NjaGVtYUFuZERlZmF1bHRGaWVsZE5hbWUoZmllbGRzKVxuICAgIGNvbnN0IGluaXREc0NvbmZpZ0l0ZW0gPSB7XG4gICAgICBjb25maWdJZDogbmV4dERzQ29uZmlnSWQsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgaGludDogZGVmYXVsdEhpbnQsXG4gICAgICB1c2VVdGlsaXR5OiB1c2VVdGlsaXR5LFxuICAgICAgc2VhcmNoU2VydmljZVR5cGU6IFNlYXJjaFNlcnZpY2VUeXBlLkdlb2NvZGVTZXJ2aWNlLFxuICAgICAgc2luZ2xlTGluZUZpZWxkTmFtZTogc2luZ2xlTGluZUZpZWxkTmFtZSxcbiAgICAgIGlzU3VwcG9ydFN1Z2dlc3Q6IGlzU3VwcG9ydFN1Z2dlc3RcbiAgICB9IGFzIFNlYXJjaEdlb2NvZGVEYXRhQ29uZmlnXG5cbiAgICBpZiAoY3JlYXRlT3V0cHV0RHMpIHtcbiAgICAgIGluaXREc0NvbmZpZ0l0ZW0ub3V0cHV0RGF0YVNvdXJjZUlkID0gYCR7aWR9X291dHB1dF8ke25leHREc0NvbmZpZ0lkfWBcbiAgICAgIGluaXREc0NvbmZpZ0l0ZW0uYWRkcmVzc0ZpZWxkcyA9IGFkZHJlc3NGaWVsZHNTY2hlbWFcbiAgICAgIGluaXREc0NvbmZpZ0l0ZW0uZGlzcGxheUZpZWxkcyA9IGdldERlZmF1bHREaXNwbGF5RmllbGQoYWRkcmVzc0ZpZWxkc1NjaGVtYSwgZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWUpXG4gICAgICBpbml0RHNDb25maWdJdGVtLmRlZmF1bHRBZGRyZXNzRmllbGROYW1lID0gZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWVcbiAgICB9XG5cbiAgICBpZiAoZGF0YXNvdXJjZUNvbmZpZ0l0ZW0/LmNvbmZpZ0lkKSB7XG4gICAgICBuZXdEYXRhc291cmNlQ29uZmlnID0gZGF0YXNvdXJjZUNvbmZpZy5tYXAoZWwgPT4ge1xuICAgICAgICBpZiAoZWw/LmNvbmZpZ0lkID09PSBuZXh0RHNDb25maWdJZCkge1xuICAgICAgICAgIHJldHVybiBpbml0RHNDb25maWdJdGVtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0RhdGFzb3VyY2VDb25maWcucHVzaChpbml0RHNDb25maWdJdGVtIGFzIGFueSlcbiAgICB9XG4gICAgdXBkYXRlQ29uZmlnRm9yTGF5ZXJPcHRpb25zKEltbXV0YWJsZShuZXdEYXRhc291cmNlQ29uZmlnKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgYWRkcmVzcyBmaWVsZCBhcyBkaXNwbGF5RmllbGQgYnkgZGVmYXVsdFxuICAqL1xuICBjb25zdCBnZXREZWZhdWx0RGlzcGxheUZpZWxkID0gKGFkZHJlc3NGaWVsZHNTY2hlbWE6IEZpZWxkU2NoZW1hW10sIGRlZmF1bHRBZGRyZXNzRmllbGROYW1lOiBzdHJpbmcpOiBGaWVsZFNjaGVtYVtdID0+IHtcbiAgICBsZXQgYWRkcmVzc1NjaGVtYVxuICAgIGFkZHJlc3NGaWVsZHNTY2hlbWE/LmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgaWYgKGZpZWxkPy5qaW11TmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWUpIHtcbiAgICAgICAgYWRkcmVzc1NjaGVtYSA9IGZpZWxkXG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAoIWFkZHJlc3NTY2hlbWEpIHtcbiAgICAgIGFkZHJlc3NTY2hlbWEgPSBhZGRyZXNzRmllbGRzU2NoZW1hWzBdXG4gICAgfVxuICAgIHJldHVybiBbYWRkcmVzc1NjaGVtYV1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGdlb2NvZGUgc2VydmljZSBpcyBsZWdhbFxuICAgKi9cbiAgY29uc3QgdmFsaWRhdGVHZW9jb2RlU2VydmljZSA9IGFzeW5jIChnZW9jb2RlU2VydmljZVVybDogc3RyaW5nKTogUHJvbWlzZTxVcmxDaGVja1Jlc3VsdD4gPT4ge1xuICAgIGNvbnN0IGh0dHBzUmV4ID0gJ14oKFtoXVt0XXsyfVtwXVtzXSk/Oi8vKSdcbiAgICBjb25zdCB1cmxSZWdFeFN0cmluZyA9IG5ldyBSZWdFeHAoaHR0cHNSZXgpXG4gICAgc2V0SXN2YWxpZGF0ZVNlcnZpY2VFbmQoZmFsc2UpXG4gICAgaWYgKGdlb2NvZGVTZXJ2aWNlVXJsICYmIHVybFJlZ0V4U3RyaW5nLnRlc3QoZ2VvY29kZVNlcnZpY2VVcmwpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2VzcmkvcmVxdWVzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICAgIGNvbnN0IFtlc3JpUmVxdWVzdF0gPSBtb2R1bGVzXG4gICAgICAgICAgcmV0dXJuIGVzcmlSZXF1ZXN0KGdlb2NvZGVTZXJ2aWNlVXJsLCB7XG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICBmOiAnanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJ1xuICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcz8uZGF0YSB8fCB7fVxuICAgICAgICAgICAgc2V0SXN2YWxpZGF0ZVNlcnZpY2VFbmQodHJ1ZSlcbiAgICAgICAgICAgIGlmIChyZXN1bHQ/LmNhcGFiaWxpdGllcykge1xuICAgICAgICAgICAgICBjb25zdCBzaW5nbGVMaW5lQWRkcmVzc0ZpZWxkID0gcmVzdWx0Py5zaW5nbGVMaW5lQWRkcmVzc0ZpZWxkIHx8IHt9XG4gICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NGaWVsZHMgPSByZXN1bHQ/LmFkZHJlc3NGaWVsZHMgfHwgW11cbiAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlRmllbGRzID0gcmVzdWx0Py5jYW5kaWRhdGVGaWVsZHMgfHwgW11cbiAgICAgICAgICAgICAgY29uc3QgY2FwYWJpbGl0aWVzQXJyID0gcmVzdWx0Py5jYXBhYmlsaXRpZXM/LnNwbGl0KCcsJykgfHwgW11cbiAgICAgICAgICAgICAgY29uc3QgaXNTdXBwb3J0U3VnZ2VzdCA9IGNhcGFiaWxpdGllc0Fycj8uaW5jbHVkZXMoJ1N1Z2dlc3QnKVxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICB1cmxDaGVja1Jlc3VsdFR5cGU6IFVybENoZWNrUmVzdWx0VHlwZS5QYXNzLFxuICAgICAgICAgICAgICAgIHNpbmdsZUxpbmVGaWVsZE5hbWU6IHNpbmdsZUxpbmVBZGRyZXNzRmllbGQ/Lm5hbWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzc0ZpZWxkczogYWRkcmVzc0ZpZWxkcyxcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRTdWdnZXN0OiBpc1N1cHBvcnRTdWdnZXN0LFxuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZUZpZWxkczogY2FuZGlkYXRlRmllbGRzXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdXJsQ2hlY2tSZXN1bHRUeXBlOiBVcmxDaGVja1Jlc3VsdFR5cGUuSW52YWxpZFVSTCB9IGFzIFVybENoZWNrUmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNldElzdmFsaWRhdGVTZXJ2aWNlRW5kKHRydWUpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyB1cmxDaGVja1Jlc3VsdFR5cGU6IFVybENoZWNrUmVzdWx0VHlwZS5JbnZhbGlkVVJMIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldElzdmFsaWRhdGVTZXJ2aWNlRW5kKHRydWUpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdXJsQ2hlY2tSZXN1bHRUeXBlOiBVcmxDaGVja1Jlc3VsdFR5cGUuTm90SHR0cHMgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmlyZSBjYWxsYmFjayB3aGVuIGNoYW5nZSBsYXllciBjb25maWcuXG4gICAqL1xuICBjb25zdCBvbkNvbmZpZ0l0ZW1DaGFuZ2UgPSAoa2V5OiBzdHJpbmdbXSwgdmFsdWU6IGFueSkgPT4ge1xuICAgIGNvbnN0IG5ld0RhdGFzb3VyY2VDb25maWcgPSBkYXRhc291cmNlQ29uZmlnPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pXG4gICAgY29uc3QgbmV3RGF0YXNvdXJjZUNvbmZpZ0l0ZW0gPSBkYXRhc291cmNlQ29uZmlnSXRlbT8uc2V0SW4oa2V5LCB2YWx1ZSlcbiAgICBuZXdEYXRhc291cmNlQ29uZmlnPy5zcGxpY2UoZHNDb25maWdJdGVtSW5kZXgsIDEsIG5ld0RhdGFzb3VyY2VDb25maWdJdGVtPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pIGFzIFNlYXJjaERhdGFDb25maWcpXG4gICAgb25TZXR0aW5nQ2hhbmdlKEltbXV0YWJsZShuZXdEYXRhc291cmNlQ29uZmlnKSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUxhYmVsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudD8udGFyZ2V0Py52YWx1ZVxuICAgIHNldE5ld0xhYmVsKHZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTGFiZWxBY2NlcHQgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc2V0TmV3TGFiZWwobGFiZWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE5ld0xhYmVsKHZhbHVlPy50cmltKCkpXG4gICAgICBvbkNvbmZpZ0l0ZW1DaGFuZ2UoWydsYWJlbCddLCB2YWx1ZT8udHJpbSgpKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUhpbnRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50Py50YXJnZXQ/LnZhbHVlXG4gICAgb25Db25maWdJdGVtQ2hhbmdlKFsnaGludCddLCB2YWx1ZSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVV0aWxpdHlDaGFuZ2UgPSAodXRpbGl0aWVzOiBJbW11dGFibGVBcnJheTxVc2VVdGlsaXR5PikgPT4ge1xuICAgIGNvbnN0IHV0aWxpdHkgPSB1dGlsaXRpZXNbMF1cbiAgICBzZXRVc2VVdGlsaXR5KHV0aWxpdHkgfHwgbnVsbClcbiAgICBpZiAoIXV0aWxpdHkpIHtcbiAgICAgIHJlbW92ZVV0aWxpdHkoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93TG9hZGluZyh0cnVlKVxuICAgICAgZ2V0VXJsT2ZVc2VVdGlsaXR5KHV0aWxpdHkpLnRoZW4odXJsID0+IHtcbiAgICAgICAgdmFsaWRhdGVHZW9jb2RlU2VydmljZSh1cmwpLnRoZW4odXJsQ2hlY2tSZXN1bHQgPT4ge1xuICAgICAgICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgIHNldFVybENoZWNrUmVzdWx0VHlwZSh1cmxDaGVja1Jlc3VsdD8udXJsQ2hlY2tSZXN1bHRUeXBlKVxuICAgICAgICAgIGlmICh1cmxDaGVja1Jlc3VsdD8udXJsQ2hlY2tSZXN1bHRUeXBlICE9PSBVcmxDaGVja1Jlc3VsdFR5cGUuUGFzcykge1xuICAgICAgICAgICAgc2V0VXNlVXRpbGl0eShudWxsKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZHMgPSB1cmxDaGVja1Jlc3VsdC5hZGRyZXNzRmllbGRzLmNvbmNhdCh1cmxDaGVja1Jlc3VsdC5jYW5kaWRhdGVGaWVsZHMpXG4gICAgICAgICAgICB1cGRhdGVHZW9jb2RlQ29uZmlnKHVybENoZWNrUmVzdWx0LnNpbmdsZUxpbmVGaWVsZE5hbWUsIHV0aWxpdHkgfHwgbnVsbCwgZmllbGRzLCB1cmxDaGVja1Jlc3VsdD8uaXNTdXBwb3J0U3VnZ2VzdClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlbW92ZVV0aWxpdHkgPSAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnSWRMaXN0ID0gZ2V0Q29uZmlnSWRMaXN0KGRhdGFzb3VyY2VDb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gICAgY29uc3QgbmV4dERzQ29uZmlnSWQgPSBjb25maWdJZCB8fCBnZXROZXdDb25maWdJZChjb25maWdJZExpc3QpXG4gICAgbGV0IG5ld0RhdGFzb3VyY2VDb25maWcgPSBkYXRhc291cmNlQ29uZmlnID8gZGF0YXNvdXJjZUNvbmZpZy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pIDogW10gYXMgYW55XG4gICAgLy8gY29uc3QgbGFiZWwgPSBnZXREZWZhdWx0R2VvY29kZUxhYmVsKGdlb2NvZGVTZXJ2aWNlVXJsKVxuICAgIGNvbnN0IGluaXREc0NvbmZpZ0l0ZW0gPSB7XG4gICAgICBjb25maWdJZDogbmV4dERzQ29uZmlnSWQsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgbGFiZWw6ICcuLi4uLicsXG4gICAgICBoaW50OiAnJyxcbiAgICAgIHVzZVV0aWxpdHk6IG51bGwsXG4gICAgICBzZWFyY2hTZXJ2aWNlVHlwZTogU2VhcmNoU2VydmljZVR5cGUuR2VvY29kZVNlcnZpY2UsXG4gICAgICBzaW5nbGVMaW5lRmllbGROYW1lOiAnJ1xuICAgIH0gYXMgU2VhcmNoR2VvY29kZURhdGFDb25maWdcblxuICAgIG5ld0RhdGFzb3VyY2VDb25maWcgPSBkYXRhc291cmNlQ29uZmlnLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZWw/LmNvbmZpZ0lkID09PSBuZXh0RHNDb25maWdJZCkge1xuICAgICAgICByZXR1cm4gaW5pdERzQ29uZmlnSXRlbVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVsXG4gICAgICB9XG4gICAgfSlcbiAgICB1cGRhdGVDb25maWdGb3JMYXllck9wdGlvbnMoSW1tdXRhYmxlKG5ld0RhdGFzb3VyY2VDb25maWcpKVxuICB9XG5cbiAgY29uc3QgZ2V0VXJsT2ZVc2VVdGlsaXR5ID0gYXN5bmMgKHVzZVV0aWxpdHk6IFVzZVV0aWxpdHkpID0+IHtcbiAgICByZXR1cm4gVXRpbGl0eU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVcmxPZlVzZVV0aWxpdHkodXNlVXRpbGl0eSlcbiAgICAgIC50aGVuKCh1cmwpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1cmwpXG4gICAgICB9KVxuICB9XG5cbiAgY29uc3QgZ2V0TGFiZWxPZlVzZVV0aWxpdHkgPSAodXNlVXRpbGl0eTogVXNlVXRpbGl0eSk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIFV0aWxpdHlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TGFiZWxPZlVzZVV0aWxpdHkodXNlVXRpbGl0eSlcbiAgfVxuICBjb25zdCBnZXREZWZhdWx0SGludE9mVXNlVXRpbGl0eSA9ICh1c2VVdGlsaXR5OiBVc2VVdGlsaXR5KTogc3RyaW5nID0+IHtcbiAgICBjb25zdCB1dGlsaXR5SnNvbiA9IFV0aWxpdHlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VXRpbGl0eUpzb24odXNlVXRpbGl0eS51dGlsaXR5SWQpXG4gICAgcmV0dXJuICh1dGlsaXR5SnNvbj8ub3JnU2V0dGluZyBhcyBPcmdHZW9jb2RlU2V0dGluZyk/LnBsYWNlaG9sZGVyXG4gIH1cblxuICAvKipcbiAgICogRmlyZSBjYWxsYmFjayB3aGVuIGRpc3BsYXkgZmllbGRzIGNoYW5nZS5cbiAgICovXG4gIGNvbnN0IG9uRGlzcGxheUZpZWxkQ2hhbmdlID0gKGFsbFNlbGVjdGVkRmllbGRzOiBJTUZpZWxkU2NoZW1hW10sIHByZUZpZWxkcywgaXNEaXNwbGF5RmllbGQ6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgIGlmICghYWxsU2VsZWN0ZWRGaWVsZHMpIHJldHVyblxuXG4gICAgLy9BdCBsZWFzdCBvbmUgZmllbGQgaXMgc2VsZWN0ZWRcbiAgICBpZiAoYWxsU2VsZWN0ZWRGaWVsZHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWxsU2VsZWN0ZWRGaWVsZHMgPSBJbW11dGFibGUocHJlRmllbGRzKT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KT8uc3BsaWNlKDAsIDEpXG4gICAgfVxuXG4gICAgY29uc3QgbmV3RGF0YXNvdXJjZUNvbmZpZyA9IGRhdGFzb3VyY2VDb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSlcbiAgICBjb25zdCBuZXdEYXRhc291cmNlQ29uZmlnSXRlbTogSU1TZWFyY2hEYXRhQ29uZmlnID0gKGRhdGFzb3VyY2VDb25maWdJdGVtIGFzIElNU2VhcmNoRGF0YUNvbmZpZyk/LnNldEluKFsnZGlzcGxheUZpZWxkcyddLCBhbGxTZWxlY3RlZEZpZWxkcylcbiAgICBuZXdEYXRhc291cmNlQ29uZmlnPy5zcGxpY2UoZHNDb25maWdJdGVtSW5kZXgsIDEsIG5ld0RhdGFzb3VyY2VDb25maWdJdGVtPy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICAgIHVwZGF0ZUNvbmZpZ0ZvckxheWVyT3B0aW9ucyhJbW11dGFibGUobmV3RGF0YXNvdXJjZUNvbmZpZykpXG4gIH1cblxuICBjb25zdCBTVFlMRSA9IGNzc2BcbiAgICAmPmRpdiB7XG4gICAgICBwYWRkaW5nOiAwIWltcG9ydGFudDtcbiAgICB9XG4gIGBcblxuICBjb25zdCBnZXRVc2VVdGlsaXR5ID0gKHVzZVV0aWxpdHkpID0+IHtcbiAgICBpZiAoIXVzZVV0aWxpdHkpIHJldHVybiBJbW11dGFibGUoW10pXG4gICAgY29uc3QgdXRpbGl0aWVzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyLmFwcENvbmZpZz8udXRpbGl0aWVzXG4gICAgaWYgKHV0aWxpdGllcz8uW3VzZVV0aWxpdHkudXRpbGl0eUlkXSkge1xuICAgICAgcmV0dXJuIEltbXV0YWJsZShbdXNlVXRpbGl0eV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIEltbXV0YWJsZShbXSlcbiAgICB9XG4gIH1cblxuICBjb25zdCByZW5kZXJVdGlsaXR5U2VsZWN0b3IgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTZXR0aW5nU2VjdGlvbiBzdHlsZT17eyBwYWRkaW5nVG9wOiAwIH19PlxuICAgICAgICA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJyBsYWJlbD17bmxzKCdsb2NhdG9yU291cmNlJyl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCcgY3NzPXtTVFlMRX0+XG4gICAgICAgICAgICA8VXRpbGl0eVNlbGVjdG9yXG4gICAgICAgICAgICAgIHVzZVV0aWxpdGllcz17Z2V0VXNlVXRpbGl0eSh1c2VVdGlsaXR5KX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVV0aWxpdHlDaGFuZ2V9XG4gICAgICAgICAgICAgIHNob3dSZW1vdmU9e2ZhbHNlfVxuICAgICAgICAgICAgICB0eXBlcz17c3VwcG9ydGVkVXRpbGl0eVR5cGVzfVxuICAgICAgICAgICAgICBjbG9zZVBvcHVwT25TZWxlY3RcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7KHVybENoZWNrUmVzdWx0cyAhPT0gVXJsQ2hlY2tSZXN1bHRUeXBlLlBhc3MgJiYgaXN2YWxpZGF0ZVNlcnZpY2VFbmQpICYmIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG10LTEnPlxuICAgICAgICAgICAgPEFsZXJ0XG4gICAgICAgICAgICAgIGZvcm09XCJiYXNpY1wiXG4gICAgICAgICAgICAgIHR5cGU9XCJ3YXJuaW5nXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxuICAgICAgICAgICAgICBvcGVuXG4gICAgICAgICAgICAgIHdpdGhJY29uXG4gICAgICAgICAgICAgIHRleHQ9e25scygnaW52YWxpZFVybE1lc3NhZ2UnKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+fVxuICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICA8L1NldHRpbmdTZWN0aW9uPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFNpZGVQb3BwZXIgY2xhc3NOYW1lPSdzZWFyY2gtbG9jYXRvci1zZXR0aW5nLXBvcHBlcicgaXNPcGVuPXtpc09wZW59IHBvc2l0aW9uPSdyaWdodCcgdG9nZ2xlPXt0b2dnbGV9IHRyaWdnZXI9e3RyaWdnZXJ9IHRpdGxlPXtubHMoJ3NldExvY2F0b3JTb3VyY2UnKX0gYmFja1RvRm9jdXNOb2RlPXtwb3BwZXJGb2N1c05vZGV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyBjc3M9e2Nzc2BvdmVyZmxvdzogYXV0bztgfT5cbiAgICAgICAge3JlbmRlclV0aWxpdHlTZWxlY3RvcigpfVxuICAgICAgICB7c2hvd0xvYWRpbmcgJiYgPExvYWRpbmcvPn1cbiAgICAgICAgeyh1cmxDaGVja1Jlc3VsdHMgPT09IFVybENoZWNrUmVzdWx0VHlwZS5QYXNzICYmIGNvbmZpZ0lkICYmIHVzZVV0aWxpdHkpICYmIDxkaXY+XG4gICAgICAgICAgPFNldHRpbmdTZWN0aW9uPlxuICAgICAgICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCcgbGFiZWw9e25scygnbGFiZWwnKX0+XG4gICAgICAgICAgICAgIDxUZXh0SW5wdXQgYXJpYS1sYWJlbD17bmxzKCdsYWJlbCcpfSBzaXplPSdzbScgdmFsdWU9e25ld0xhYmVsIHx8ICcnfSBvbkNoYW5nZT17aGFuZGxlTGFiZWxDaGFuZ2V9IG9uQWNjZXB0VmFsdWU9e2hhbmRsZUxhYmVsQWNjZXB0fSBjbGFzc05hbWU9J3ctMTAwJy8+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cblxuICAgICAgICAgIHshaGlkZUljb25TZXR0aW5nICYmIDxTZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXtubHMoJ3NlYXJjaEljb24nKX0+XG4gICAgICAgICAgICAgIDxJY29uUGlja2VyXG4gICAgICAgICAgICAgICAgaWNvbj17aWNvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGljb24pID0+IHsgb25Db25maWdJdGVtQ2hhbmdlKFsnaWNvbiddLCBpY29uKSB9fVxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZU9wdGlvbj0nbm9uZSdcbiAgICAgICAgICAgICAgICBzZXRCdXR0b25Vc2VDb2xvcj17ZmFsc2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj59XG5cbiAgICAgICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e25scygnc2VhcmNoT3B0aW9ucycpfSByb2xlPSdncm91cCcgYXJpYS1sYWJlbD17bmxzKCdzZWFyY2hPcHRpb25zJyl9PlxuICAgICAgICAgICAge291dHB1dERhdGFTb3VyY2VJZCAmJiA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJyBsYWJlbD17bmxzKCdkaXNwbGF5RmllbGRzJyl9IHJvbGU9J2dyb3VwJyBhcmlhLWxhYmVsPXtubHMoJ2Rpc3BsYXlGaWVsZHMnKX0+XG4gICAgICAgICAgICAgICAgPERpc3BsYXlGaWVsZFNlbGVjdFxuICAgICAgICAgICAgICAgIGRpc1BsYXlGaWVsZD17ZGlzcGxheUZpZWxkcyB8fCBbXX1cbiAgICAgICAgICAgICAgICBvbkZpZWxkQ2hhbmdlPXtvbkRpc3BsYXlGaWVsZENoYW5nZX1cbiAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlPXt7XG4gICAgICAgICAgICAgICAgICBkYXRhU291cmNlSWQ6IG91dHB1dERhdGFTb3VyY2VJZCxcbiAgICAgICAgICAgICAgICAgIG1haW5EYXRhU291cmNlSWQ6IG91dHB1dERhdGFTb3VyY2VJZFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+fVxuICAgICAgICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCcgbGFiZWw9e25scygnc2VhcmNoSGludCcpfT5cbiAgICAgICAgICAgICAgPFRleHRJbnB1dCBzaXplPSdzbScgYXJpYS1sYWJlbD17bmxzKCdzZWFyY2hIaW50Jyl9IHRpdGxlPXtoaW50IHx8IG5scygnZmluZEFkZHJlc3NPclBsYWNlJyl9IHZhbHVlPXtoaW50IHx8ICcnfSBvbkNoYW5nZT17aGFuZGxlSGludENoYW5nZX0gY2xhc3NOYW1lPSd3LTEwMCcgcGxhY2Vob2xkZXI9e25scygnZmluZEFkZHJlc3NPclBsYWNlJyl9Lz5cbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxuICAgICAgICA8L2Rpdj59XG4gICAgICA8L2Rpdj5cbiAgICA8L1NpZGVQb3BwZXI+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYXRvclNvdXJjZVNpZGVQb3BwZXJcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGpzeCwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIGhvb2tzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU2V0dGluZ1JvdyB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJ1xuaW1wb3J0IHsgVGV4dElucHV0LCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdWlEZWZhdWx0TWVzc2FnZSB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmludGVyZmFjZSBTZWFyY2hHZW5lcmFsU2V0dGluZ1Byb3BzIHtcbiAgaWQ6IHN0cmluZ1xuICBoaW50Pzogc3RyaW5nXG4gIG9uU2V0dGluZ0NoYW5nZT86IChuZXdIaW50OiBzdHJpbmcpID0+IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IFNlYXJjaEdlbmVyYWxTZXR0aW5nID0gKHByb3BzOiBTZWFyY2hHZW5lcmFsU2V0dGluZ1Byb3BzKSA9PiB7XG4gIGNvbnN0IG5scyA9IGhvb2tzLnVzZVRyYW5zbGF0aW9uKGppbXVpRGVmYXVsdE1lc3NhZ2UsIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UpXG4gIGNvbnN0IHsgaGludCwgb25TZXR0aW5nQ2hhbmdlIH0gPSBwcm9wc1xuXG4gIGNvbnN0IFtuZXdIaW50LCBzZXROZXdIaW50XSA9IFJlYWN0LnVzZVN0YXRlKGhpbnQpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXROZXdIaW50KGhpbnQpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIH0sIFtoaW50XSlcblxuICBjb25zdCBoYW5kbGVIaW50Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudD8udGFyZ2V0Py52YWx1ZVxuICAgIHNldE5ld0hpbnQodmFsdWUpXG4gIH1cblxuICBjb25zdCBoYW5kSGludEFjY2VwdCA9IHZhbHVlID0+IHtcbiAgICBzZXROZXdIaW50KHZhbHVlKVxuICAgIG9uU2V0dGluZ0NoYW5nZSAmJiBvblNldHRpbmdDaGFuZ2UodmFsdWUpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdnZW5lcmFsLXNldHRpbmctY29uJz5cbiAgICAgIDxTZXR0aW5nUm93IGZsb3c9J3dyYXAnIGxhYmVsPXtubHMoJ211bHR5U2VhcmNoSGludCcpfSA+XG4gICAgICAgIDxUZXh0SW5wdXQgYXJpYS1sYWJlbD17bmxzKCdtdWx0eVNlYXJjaEhpbnQnKX0gdGl0bGU9e25ld0hpbnQgfHwgbmxzKCdmaW5kQWRkcmVzc09yUGxhY2UnKX0gc2l6ZT0nc20nIHZhbHVlPXtuZXdIaW50fSBvbkNoYW5nZT17aGFuZGxlSGludENoYW5nZX0gb25BY2NlcHRWYWx1ZT17aGFuZEhpbnRBY2NlcHR9IGNsYXNzTmFtZT0ndy0xMDAnIHBsYWNlaG9sZGVyPXtubHMoJ2ZpbmRBZGRyZXNzT3JQbGFjZScpfS8+XG4gICAgICA8L1NldHRpbmdSb3c+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vdHlwZS90eXBlJ1xuZXhwb3J0ICogZnJvbSAnLi91dGlscy9jb25zdGFudHMnXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL3V0aWwnXG4vL0NvbXBvbmVudFxuZXhwb3J0IHsgU2VhcmNoRGF0YVNldHRpbmcgfSBmcm9tICcuL2RhdGFTZXR0aW5nJ1xuZXhwb3J0IHsgU2VhcmNoU3VnZ2VzdGlvblNldHRpbmcgfSBmcm9tICcuL3NlYXJjaC1zdWdnZXN0aW9uLXNldHRpbmcnXG5leHBvcnQgeyBTZWFyY2hHZW5lcmFsU2V0dGluZyB9IGZyb20gJy4vZ2VuZXJhbC1zZWFyY2gtc2V0dGluZydcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGNzcywganN4LCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdUNvcmVEZWZhdWx0TWVzc2FnZSwgSW1tdXRhYmxlLCBob29rcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNldHRpbmdSb3cgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbmltcG9ydCB7IHR5cGUgSU1TZWFyY2hTdWdnZXN0aW9uQ29uZmlnLCBNQVhfU1VHR0VTVElPTiwgTUFYX1JFQ0VOVF9TRUFSQ0hFUywgREVGQVVMVF9NQVhfU1VHR0VTVElPTiB9IGZyb20gJy4vdHlwZS90eXBlJ1xuaW1wb3J0IHsgVGV4dElucHV0LCBDaGVja2JveCwgU3dpdGNoLCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdWlEZWZhdWx0TWVzc2FnZSB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ2ppbXUtdGhlbWUnXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmludGVyZmFjZSBTZWFyY2hTdWdnZXN0aW9uU2V0dGluZ1Byb3BzIHtcbiAgaWQ6IHN0cmluZ1xuICBzZXR0aW5nQ29uZmlnPzogSU1TZWFyY2hTdWdnZXN0aW9uQ29uZmlnXG4gIGhpZGVSZWNlbnRTZWFyY2hTZXR0aW5nPzogYm9vbGVhblxuICBvblNldHRpbmdDaGFuZ2U/OiAoc2V0dGluZ0NvbmZpZzogSU1TZWFyY2hTdWdnZXN0aW9uQ29uZmlnKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBTZWFyY2hTdWdnZXN0aW9uU2V0dGluZyA9IChwcm9wczogU2VhcmNoU3VnZ2VzdGlvblNldHRpbmdQcm9wcykgPT4ge1xuICBjb25zdCBubHMgPSBob29rcy51c2VUcmFuc2xhdGlvbihqaW11aURlZmF1bHRNZXNzYWdlLCBqaW11Q29yZURlZmF1bHRNZXNzYWdlKVxuICBjb25zdCBhcHBUaGVtZSA9IHVzZVRoZW1lKClcblxuICBjb25zdCBTVFlMRSA9IGNzc2BcbiAgICAuY2hlY2stYm94LWxhYmVsIHtcbiAgICAgIGNvbG9yOiAke2FwcFRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX1cbiAgICB9XG4gICAgLnNlYXJjaC1zZXR0aW5nLWNvbiB7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAwO1xuICAgIH1cbiAgICAuY2hlY2tib3gtY29uIC5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3ctbGFiZWx7XG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgfVxuICAgIC5jdXJzb3ItcG9pbnRlciB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICBgXG4gIGNvbnN0IHsgb25TZXR0aW5nQ2hhbmdlLCBoaWRlUmVjZW50U2VhcmNoU2V0dGluZyB9ID0gcHJvcHNcbiAgY29uc3Qgc2V0dGluZ0NvbmZpZyA9IHByb3BzLnNldHRpbmdDb25maWcgfHwgSW1tdXRhYmxlKHt9KSBhcyBJTVNlYXJjaFN1Z2dlc3Rpb25Db25maWdcbiAgY29uc3QgeyBtYXhTdWdnZXN0aW9ucywgaXNVc2VDdXJyZW50TG9hdGlvbiwgaXNTaG93UmVjZW50U2VhcmNoZXMsIHJlY2VudFNlYXJjaGVzTWF4TnVtYmVyIH0gPSBzZXR0aW5nQ29uZmlnXG5cbiAgY29uc3QgW25ld1JlY2VudFNlYXJjaGVzTWF4TnVtYmVyLCBzZXRSZWNlbnRTZWFyY2hlc01heE51bWJlcl0gPSBSZWFjdC51c2VTdGF0ZShyZWNlbnRTZWFyY2hlc01heE51bWJlcilcbiAgY29uc3QgW25ld01heFN1Z2dlc3Rpb25zLCBzZXRNYXhTdWdnZXN0aW9uc10gPSBSZWFjdC51c2VTdGF0ZShtYXhTdWdnZXN0aW9ucylcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFJlY2VudFNlYXJjaGVzTWF4TnVtYmVyKHJlY2VudFNlYXJjaGVzTWF4TnVtYmVyKVxuICAgIHNldE1heFN1Z2dlc3Rpb25zKG1heFN1Z2dlc3Rpb25zKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICB9LCBbc2V0dGluZ0NvbmZpZ10pXG5cbiAgY29uc3Qgb25Db25maWdDaGFuZ2UgPSAoa2V5OiBzdHJpbmdbXSwgdmFsdWU6IGFueSkgPT4ge1xuICAgIGNvbnN0IG5ld1NldHRpbmdDb25maWcgPSBzZXR0aW5nQ29uZmlnLnNldEluKGtleSwgdmFsdWUpXG4gICAgb25TZXR0aW5nQ2hhbmdlICYmIG9uU2V0dGluZ0NoYW5nZShuZXdTZXR0aW5nQ29uZmlnKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ3VycmVudExvY2F0aW9uQ2hhbmdlID0gKGV2dCkgPT4ge1xuICAgIG9uQ29uZmlnQ2hhbmdlKFsnaXNVc2VDdXJyZW50TG9hdGlvbiddLCAhaXNVc2VDdXJyZW50TG9hdGlvbilcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZU1heFN1Z2dlc3Rpb25zQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY2hlY2tOdW1iZXIodmFsdWUsIDApICYmIHNldE1heFN1Z2dlc3Rpb25zKHZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTWF4U3VnZ2VzdGlvbnNBY2NlcHQgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA+IE1BWF9TVUdHRVNUSU9OKSB7XG4gICAgICB2YWx1ZSA9IG1heFN1Z2dlc3Rpb25zIHx8IERFRkFVTFRfTUFYX1NVR0dFU1RJT05cbiAgICAgIHNldE1heFN1Z2dlc3Rpb25zKHZhbHVlKVxuICAgIH1cbiAgICBjaGVja051bWJlcih2YWx1ZSwgMCkgJiYgb25Db25maWdDaGFuZ2UoWydtYXhTdWdnZXN0aW9ucyddLCBOdW1iZXIodmFsdWUpKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUmVjZW50U2VhcmNoZXNNYXhOdW1iZXJBY2NlcHQgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgdmFsdWUgPSByZWNlbnRTZWFyY2hlc01heE51bWJlciB8fCBNQVhfUkVDRU5UX1NFQVJDSEVTXG4gICAgICBzZXRSZWNlbnRTZWFyY2hlc01heE51bWJlcih2YWx1ZSlcbiAgICB9XG4gICAgY2hlY2tOdW1iZXIodmFsdWUpICYmIG9uQ29uZmlnQ2hhbmdlKFsncmVjZW50U2VhcmNoZXNNYXhOdW1iZXInXSwgTnVtYmVyKHZhbHVlKSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVJlY2VudFNlYXJjaGVzTWF4TnVtYmVyQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY2hlY2tOdW1iZXIodmFsdWUpICYmIHNldFJlY2VudFNlYXJjaGVzTWF4TnVtYmVyKHZhbHVlKVxuICB9XG5cbiAgY29uc3QgY2hlY2tOdW1iZXIgPSAodmFsdWUsIG1pbmltdW06IG51bWJlciA9IDEpOiBib29sZWFuID0+IHtcbiAgICBpZiAodmFsdWU/Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWVcbiAgICBpZiAoaXNOYU4oTnVtYmVyKHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBudW1iZXJWYWwgPSBOdW1iZXIodmFsdWUpXG4gICAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihudW1iZXJWYWwpICYmIG51bWJlclZhbCA+PSBtaW5pbXVtXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNzcz17U1RZTEV9PlxuICAgICAgPFNldHRpbmdSb3cgZmxvdz0nd3JhcCcgY2xhc3NOYW1lPSdtdC0yIGNoZWNrYm94LWNvbicgbGFiZWw9e25scygnbWF4aW11bVN1Z2dlc3Rpb25zJyl9PlxuICAgICAgICA8VGV4dElucHV0IHNpemU9J3NtJyBhcmlhLWxhYmVsPXtubHMoJ21heGltdW1TdWdnZXN0aW9ucycpfSB2YWx1ZT17bmV3TWF4U3VnZ2VzdGlvbnN9IG9uQ2hhbmdlPXtoYW5kbGVNYXhTdWdnZXN0aW9uc0NoYW5nZX0gb25BY2NlcHRWYWx1ZT17aGFuZGxlTWF4U3VnZ2VzdGlvbnNBY2NlcHR9IGNsYXNzTmFtZT0ndy0xMDAnLz5cbiAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgIDxTZXR0aW5nUm93PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY3Vyc29yLXBvaW50ZXInIG9uQ2xpY2s9e2hhbmRsZUN1cnJlbnRMb2NhdGlvbkNoYW5nZX0gYXJpYS1sYWJlbD17bmxzKCd1c2VDdXJyZW50TG9jYXRpb24nKX0+XG4gICAgICAgICAgPENoZWNrYm94IGNoZWNrZWQ9eyEhaXNVc2VDdXJyZW50TG9hdGlvbn0gY2xhc3NOYW1lPSdtci0xJyB0aXRsZT17bmxzKCd1c2VDdXJyZW50TG9jYXRpb24nKX0vPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nY2hlY2stYm94LWxhYmVsJz57bmxzKCd1c2VDdXJyZW50TG9jYXRpb24nKX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgeyFoaWRlUmVjZW50U2VhcmNoU2V0dGluZyAmJiA8U2V0dGluZ1JvdyBsYWJlbD17bmxzKCdyZWNlbnRTZWFyY2hlcycpfT5cbiAgICAgICAgPFN3aXRjaCBjaGVja2VkPXtpc1Nob3dSZWNlbnRTZWFyY2hlcyB8fCBmYWxzZX0gdGl0bGU9e25scygncmVjZW50U2VhcmNoZXMnKX0gb25DaGFuZ2U9eyhldnQ6IGFueSkgPT4geyBvbkNvbmZpZ0NoYW5nZShbJ2lzU2hvd1JlY2VudFNlYXJjaGVzJ10sICFpc1Nob3dSZWNlbnRTZWFyY2hlcykgfX0gLz5cbiAgICAgIDwvU2V0dGluZ1Jvdz59XG4gICAgICB7aXNTaG93UmVjZW50U2VhcmNoZXMgJiYgPFNldHRpbmdSb3cgbGFiZWw9e25scygnbWF4aW11bU51bWJlcicpfSA+XG4gICAgICAgIDxUZXh0SW5wdXQgc2l6ZT0nc20nIGFyaWEtbGFiZWw9e25scygnbWF4aW11bU51bWJlcicpfSB2YWx1ZT17bmV3UmVjZW50U2VhcmNoZXNNYXhOdW1iZXJ9IG9uQ2hhbmdlPXtoYW5kbGVSZWNlbnRTZWFyY2hlc01heE51bWJlckNoYW5nZX0gb25BY2NlcHRWYWx1ZT17aGFuZGxlUmVjZW50U2VhcmNoZXNNYXhOdW1iZXJBY2NlcHR9IHN0eWxlPXt7IHdpZHRoOiAnNTBweCcgfX0vPlxuICAgICAgPC9TZXR0aW5nUm93Pn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgdHlwZSBVc2VEYXRhU291cmNlLCB0eXBlIEZpZWxkU2NoZW1hLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBVc2VVdGlsaXR5IH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfU1VHR0VTVElPTiA9IDZcbmV4cG9ydCBjb25zdCBNQVhfU1VHR0VTVElPTiA9IDIwXG5leHBvcnQgY29uc3QgTUFYX1JFQ0VOVF9TRUFSQ0hFUyA9IDZcblxuZXhwb3J0IGVudW0gU2VhcmNoRGF0YVR5cGUge1xuICBCb3RoID0gJ0JvdGgnLFxuICBHZW9jb2RlU2VydmljZSA9ICdHZW9jb2RlU2VydmljZScsXG4gIEZlYXR1cmVTZXJ2aWNlID0gJ0ZlYXR1cmVTZXJ2aWNlJ1xufVxuXG5leHBvcnQgZW51bSBTZWFyY2hTZXJ2aWNlVHlwZSB7XG4gIEdlb2NvZGVTZXJ2aWNlID0gJ0dlb2NvZGVTZXJ2aWNlJyxcbiAgRmVhdHVyZVNlcnZpY2UgPSAnRmVhdHVyZVNlcnZpY2UnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzc0ZpZWxkcyB7XG4gIGFsaWFzOiBzdHJpbmdcbiAgbGVuZ3RoOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIHJlcXVpcmVkOiBib29sZWFuXG4gIHR5cGU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaExheWVyRGF0YUNvbmZpZyB7XG4gIGNvbmZpZ0lkOiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZ1xuICB1c2VEYXRhU291cmNlOiBVc2VEYXRhU291cmNlXG4gIGljb24/OiBhbnlcbiAgc2VhcmNoRmllbGRzPzogRmllbGRTY2hlbWFbXVxuICBzZWFyY2hFeGFjdD86IGJvb2xlYW5cbiAgZGlzcGxheUZpZWxkcz86IEZpZWxkU2NoZW1hW11cbiAgaGludD86IHN0cmluZ1xuICBzZWFyY2hTZXJ2aWNlVHlwZT86IFNlYXJjaFNlcnZpY2VUeXBlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoR2VvY29kZURhdGFDb25maWcge1xuICBjb25maWdJZDogc3RyaW5nXG4gIGxhYmVsOiBzdHJpbmdcbiAgdXNlVXRpbGl0eTogVXNlVXRpbGl0eVxuICBvdXRwdXREYXRhU291cmNlSWQ/OiBzdHJpbmdcbiAgaWNvbj86IGFueVxuICBoaW50Pzogc3RyaW5nXG4gIHNlYXJjaFNlcnZpY2VUeXBlPzogU2VhcmNoU2VydmljZVR5cGVcbiAgc2luZ2xlTGluZUZpZWxkTmFtZT86IHN0cmluZ1xuICBkaXNwbGF5RmllbGRzPzogRmllbGRTY2hlbWFbXVxuICBhZGRyZXNzRmllbGRzPzogRmllbGRTY2hlbWFbXVxuICBkZWZhdWx0QWRkcmVzc0ZpZWxkTmFtZT86IHN0cmluZ1xuICBpc1N1cHBvcnRTdWdnZXN0PzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTb3VyY2VDcmVhdGVTdGF0dXMge1xuICBba2V5OiBzdHJpbmddOiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIElNRGF0YVNvdXJjZUNyZWF0ZVN0YXR1cyA9IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlQ3JlYXRlU3RhdHVzPlxuXG5leHBvcnQgdHlwZSBJTVNlYXJjaExheWVyRGF0YUNvbmZpZyA9IEltbXV0YWJsZU9iamVjdDxTZWFyY2hMYXllckRhdGFDb25maWc+XG5cbmV4cG9ydCB0eXBlIElNU2VhcmNoR2VvY29kZURhdGFDb25maWcgPSBJbW11dGFibGVPYmplY3Q8U2VhcmNoR2VvY29kZURhdGFDb25maWc+XG5cbmV4cG9ydCB0eXBlIFNlYXJjaERhdGFDb25maWcgPSBTZWFyY2hMYXllckRhdGFDb25maWcgJiBTZWFyY2hHZW9jb2RlRGF0YUNvbmZpZ1xuXG5leHBvcnQgdHlwZSBJTVNlYXJjaERhdGFDb25maWcgPSBJbW11dGFibGVPYmplY3Q8U2VhcmNoRGF0YUNvbmZpZz5cblxuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hTdWdnZXN0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIE1heCBudW1iZXIgb2Ygc3VnZ2VzdGlvblxuICAqL1xuICBtYXhTdWdnZXN0aW9uczogbnVtYmVyXG4gIC8qKlxuICAgKiBJcyBzaG93ICdVc2UgY3VycmVudCBsb2NhdGlvbidcbiAgKi9cbiAgaXNVc2VDdXJyZW50TG9hdGlvbjogYm9vbGVhblxuICAvKipcbiAgICogSXMgc2hvdyByZWNlbnQgc2VhcmNoZXNcbiAgKi9cbiAgaXNTaG93UmVjZW50U2VhcmNoZXM6IGJvb2xlYW5cbiAgLyoqXG4gICAqIE1heCBudW1iZXIgb2YgcmVjZW50IHNlYXJjaGVzXG4gICovXG4gIHJlY2VudFNlYXJjaGVzTWF4TnVtYmVyOiBudW1iZXJcbiAgLyoqXG4gICAqIEVuYWJsZSBmaWx0ZXJpbmcgd2hlbiBzZWFyY2hpbmcgZm9yIGxheWVyIHNvdXJjZXNcbiAgKi9cbiAgZW5hYmxlRmlsdGVyaW5nPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBJTVNlYXJjaFN1Z2dlc3Rpb25Db25maWcgPSBJbW11dGFibGVPYmplY3Q8U2VhcmNoU3VnZ2VzdGlvbkNvbmZpZz5cbiIsImV4cG9ydCBjb25zdCBCeUZpZWxkU2VyaWVzWCA9ICdGaWVsZE5hbWUnXG5leHBvcnQgY29uc3QgQnlGaWVsZFNlcmllc1kgPSAnRmllbGRWYWx1ZSdcbmV4cG9ydCBjb25zdCBNYXhDYXRlZ29yaWVzID0gOTlcbmV4cG9ydCBjb25zdCBNYXhQaWVjZXMgPSAxMDAwXG5leHBvcnQgY29uc3QgTWF4U2VyaWVzID0gMjBcbmV4cG9ydCBjb25zdCBPdXRTdGF0aXN0aWNGaWVsZE5hbWVTcGxpdCA9ICdfXydcbmV4cG9ydCBjb25zdCBPdXRwdXREc09iamVjdEZpZWxkID0gJ29iamVjdGlkJ1xuZXhwb3J0IGNvbnN0IE91dHB1dERzQWRkcmVzcyA9ICdhZGRyZXNzJ1xuZXhwb3J0IGNvbnN0IERlZmF1bHRBZGRyZXNzID0gJ0RlZmF1bHQgQWRkcmVzcydcbmV4cG9ydCBjb25zdCBEZWZhdWx0R2VvY29kZVVSTCA9ICdodHRwczovL2dlb2NvZGUuYXJjZ2lzLmNvbS9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9Xb3JsZC9HZW9jb2RlU2VydmVyJ1xuZXhwb3J0IGNvbnN0IERlZmF1bHRHZW9jb2RlTGFiZWwgPSAnQXJjR0lTIFdvcmxkIEdlb2NvZGluZyBTZXJ2aWNlJ1xuIiwiaW1wb3J0IHsgZXNyaSwgcG9ydGFsVXJsVXRpbHMsIFNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgRGVmYXVsdEdlb2NvZGVMYWJlbCB9IGZyb20gJy4vY29uc3RhbnRzJ1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRHZW9jb2RlTGFiZWwgPSAoZ2VvY29kZVVybDogc3RyaW5nKSA9PiB7XG4gIGlmIChpc0FyY0dJU1dvcmxkR2VvY29kZXIoZ2VvY29kZVVybCkpIHtcbiAgICByZXR1cm4gRGVmYXVsdEdlb2NvZGVMYWJlbFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRHZW9jb2RlTmFtZShnZW9jb2RlVXJsKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRHZW9jb2RlTmFtZSA9IChnZW9jb2RlVXJsOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFnZW9jb2RlVXJsKSB7XG4gICAgcmV0dXJuICdnZW9jb2RlcidcbiAgfVxuICBjb25zdCBzdHJzID0gZ2VvY29kZVVybC5zcGxpdCgnLycpXG4gIHJldHVybiBzdHJzW3N0cnMubGVuZ3RoIC0gMl0gfHwgJ2dlb2NvZGVyJ1xufVxuXG5leHBvcnQgY29uc3QgaXNNZXRlcmVkQXJjR0lTV29ybGRHZW9jb2RlciA9ICh1cmw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIC8oPzpnZW9jb2RlXFwtYXBpXFwuYXJjZ2lzXFwuY29tXFwvYXJjZ2lzXFwvcmVzdFxcL3NlcnZpY2VzXFwvd29ybGRcXC9nZW9jb2Rlc2VydmVyKS4qL2dpLnRlc3QodXJsKVxufVxuXG5leHBvcnQgY29uc3QgaXNQcm94aWVkQXJjR0lTV29ybGRHZW9jb2RlciA9ICh1cmw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIC8oPzpcXC9zZXJ2ZXJzXFwvW1xcZGEtelxcLi1dK1xcL3Jlc3RcXC9zZXJ2aWNlc1xcL3dvcmxkXFwvZ2VvY29kZXNlcnZlcikuKi9naS50ZXN0KHVybClcbn1cblxuZXhwb3J0IGNvbnN0IGlzQXJjR0lTV29ybGRHZW9jb2RlciA9ICh1cmw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIC8oPzphcmNnaXNcXC5jb21cXC9hcmNnaXNcXC9yZXN0XFwvc2VydmljZXNcXC93b3JsZFxcL2dlb2NvZGVzZXJ2ZXIpLiovZ2kudGVzdCh1cmwpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRPcmdhbml6YXRpb25HZW9jb2RlU2VydmljZSA9IChwb3J0YWxVcmw6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXF1ZXN0ID0gZXNyaS5yZXN0UmVxdWVzdC5yZXF1ZXN0XG4gIGNvbnN0IHNtID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuICByZXR1cm4gcmVxdWVzdChgJHtwb3J0YWxVcmxVdGlscy5nZXRQb3J0YWxSZXN0VXJsKHBvcnRhbFVybCl9cG9ydGFscy9zZWxmYCwge1xuICAgIGF1dGhlbnRpY2F0aW9uOiBzbS5nZXRNYWluU2Vzc2lvbigpLFxuICAgIGh0dHBNZXRob2Q6ICdHRVQnXG4gIH0pLnRoZW4ocG9ydGFsU2VsZiA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwb3J0YWxTZWxmPy5oZWxwZXJTZXJ2aWNlcz8uZ2VvY29kZSB8fCBbXSlcbiAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKVxuICB9KVxufVxuIiwiaW1wb3J0IHsgdHlwZSBTY2VuZUxheWVyRGF0YVNvdXJjZSwgdHlwZSBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCBEYXRhU291cmNlVHlwZXMsIHR5cGUgVXNlRGF0YVNvdXJjZSwgdHlwZSBJTVdpZGdldEpzb24sIEppbXVGaWVsZFR5cGUsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgRGF0YVNvdXJjZVNjaGVtYSwgdHlwZSBEYXRhU291cmNlSnNvbiwgdHlwZSBGaWVsZFNjaGVtYSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IE91dHB1dERzT2JqZWN0RmllbGQsIERlZmF1bHRBZGRyZXNzIH0gZnJvbSAnLi9jb25zdGFudHMnXG5pbXBvcnQgeyB0eXBlIFNlYXJjaERhdGFDb25maWcsIHR5cGUgQWRkcmVzc0ZpZWxkcyB9IGZyb20gJy4uL3R5cGUvdHlwZSdcbmltcG9ydCB7IGdldERlZmF1bHRHZW9jb2RlTGFiZWwgfSBmcm9tICcuLi91dGlscy9nZW9jb2RlLXV0aWxzJ1xuXG5pbnRlcmZhY2UgQWRkcmVzc0ZpZWxkU2NoYW1lUmVzdWx0IHtcbiAgYWRkcmVzc0ZpZWxkc1NjaGVtYTogRmllbGRTY2hlbWFbXVxuICBkZWZhdWx0QWRkcmVzc0ZpZWxkTmFtZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBPYmplY3RJZFNjaGVtYSA9IHtcbiAgamltdU5hbWU6IE91dHB1dERzT2JqZWN0RmllbGQsXG4gIGFsaWFzOiAnT0JKRUNUSUQnLFxuICB0eXBlOiBKaW11RmllbGRUeXBlLk51bWJlcixcbiAgbmFtZTogT3V0cHV0RHNPYmplY3RGaWVsZFxufVxuXG4vKipcbiAqIEdldCBvdXRwdXREcyBkZWZhdWx0IHNjaGVtYVxuKi9cbmV4cG9ydCBjb25zdCBnZXRJbml0U2NoZW1hID0gKGxhYmVsOiBzdHJpbmcgPSAnJywgYWRkcmVzc0ZpZWxkczogRmllbGRTY2hlbWFbXSA9IFtdKSA9PiB7XG4gIGNvbnN0IGZpZWxkcyA9IHt9XG4gIGFkZHJlc3NGaWVsZHM/LmZvckVhY2goKGZpZWxkU2NoZW1hLCBpbmRleCkgPT4ge1xuICAgIGZpZWxkc1tmaWVsZFNjaGVtYT8uamltdU5hbWVdID0gZmllbGRTY2hlbWFcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIGZpZWxkc1tPdXRwdXREc09iamVjdEZpZWxkXSA9IE9iamVjdElkU2NoZW1hXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgbGFiZWwsXG4gICAgaWRGaWVsZDogT3V0cHV0RHNPYmplY3RGaWVsZCxcbiAgICBmaWVsZHM6IGZpZWxkc1xuICB9IGFzIHVua25vd24gYXMgRGF0YVNvdXJjZVNjaGVtYVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TmFtZU9mRGVmYXVsdEFkZHJlc3NGaWVsZCA9IChmaWVsZHM6IEZpZWxkU2NoZW1hW10sIG5hbWVJbmRleCA9IDApOiBzdHJpbmcgPT4ge1xuICBsZXQgbmFtZSA9IERlZmF1bHRBZGRyZXNzXG4gIGZpZWxkcz8uZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgbmFtZSA9IG5hbWVJbmRleCA/IGAke25hbWV9JHtuYW1lSW5kZXh9YCA6IG5hbWVcbiAgICBpZiAoZmllbGQuamltdU5hbWUgPT09IG5hbWUpIHtcbiAgICAgIG5hbWVJbmRleCArPSAxXG4gICAgICBuYW1lID0gZ2V0TmFtZU9mRGVmYXVsdEFkZHJlc3NGaWVsZChmaWVsZHMsIG5hbWVJbmRleClcbiAgICB9XG4gIH0pXG4gIHJldHVybiBuYW1lXG59XG5cbmV4cG9ydCBjb25zdCBnZXRBZGRyZXNzRmllbGRzU2NoZW1hQW5kRGVmYXVsdEZpZWxkTmFtZSA9IChhZGRyZXNzRmllbGRzOiBBZGRyZXNzRmllbGRzW10gPSBbXSk6IEFkZHJlc3NGaWVsZFNjaGFtZVJlc3VsdCA9PiB7XG4gIGNvbnN0IGFkZHJlc3NGaWVsZFNjaGVtYSA9IGFkZHJlc3NGaWVsZHM/Lm1hcChmaWVsZCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGppbXVOYW1lOiBmaWVsZD8uYWxpYXMsXG4gICAgICBhbGlhczogZmllbGQ/LmFsaWFzLFxuICAgICAgdHlwZTogSmltdUZpZWxkVHlwZS5TdHJpbmcsXG4gICAgICBuYW1lOiBmaWVsZD8uYWxpYXNcbiAgICB9XG4gIH0pXG4gIGNvbnN0IGRlZmF1bHRBZGRyZXNzRmllbGROYW1lID0gZ2V0TmFtZU9mRGVmYXVsdEFkZHJlc3NGaWVsZChhZGRyZXNzRmllbGRTY2hlbWEsIDApXG4gIGNvbnN0IERlZmF1bHRBZGRyZXNzU2NoZW1hID0ge1xuICAgIGppbXVOYW1lOiBkZWZhdWx0QWRkcmVzc0ZpZWxkTmFtZSxcbiAgICBhbGlhczogZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWUsXG4gICAgdHlwZTogSmltdUZpZWxkVHlwZS5TdHJpbmcsXG4gICAgbmFtZTogZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWVcbiAgfVxuICBhZGRyZXNzRmllbGRTY2hlbWEudW5zaGlmdChEZWZhdWx0QWRkcmVzc1NjaGVtYSlcbiAgcmV0dXJuIHtcbiAgICBhZGRyZXNzRmllbGRzU2NoZW1hOiBhZGRyZXNzRmllbGRTY2hlbWEsXG4gICAgZGVmYXVsdEFkZHJlc3NGaWVsZE5hbWU6IGRlZmF1bHRBZGRyZXNzRmllbGROYW1lXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgb3V0cHV0RHMganNvblxuKi9cbmV4cG9ydCBjb25zdCBnZXRJbml0T3V0RGF0YVNvdXJjZSA9ICh3aWRnZXRJZDogc3RyaW5nLCBjb25maWdJZDogc3RyaW5nLCBnZW9jb2RlVXJsOiBzdHJpbmcsIGxhYmVsPzogc3RyaW5nKTogRGF0YVNvdXJjZUpzb24gPT4ge1xuICBjb25zdCBkc0xhYmVsID0gbGFiZWwgfHwgZ2V0RGVmYXVsdEdlb2NvZGVMYWJlbChnZW9jb2RlVXJsKVxuICBjb25zdCBkc0lkID0gZ2V0T3V0cHV0RGF0YVNvdXJjZUlkKGNvbmZpZ0lkLCB3aWRnZXRJZClcbiAgY29uc3Qgc2NoZW1hID0gZ2V0SW5pdFNjaGVtYShsYWJlbClcblxuICBjb25zdCBvdXRwdXREc0pzb246IERhdGFTb3VyY2VKc29uID0ge1xuICAgIGlkOiBkc0lkLFxuICAgIHR5cGU6IERhdGFTb3VyY2VUeXBlcy5GZWF0dXJlTGF5ZXIsXG4gICAgbGFiZWw6IGRzTGFiZWwsXG4gICAgb3JpZ2luRGF0YVNvdXJjZXM6IFtdLFxuICAgIGlzT3V0cHV0RnJvbVdpZGdldDogdHJ1ZSxcbiAgICBpc0RhdGFJbkRhdGFTb3VyY2VJbnN0YW5jZTogZmFsc2UsXG4gICAgc2NoZW1hLFxuICAgIGdlb21ldHJ5VHlwZTogJ2VzcmlHZW9tZXRyeVBvaW50J1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dERzSnNvblxufVxuXG5leHBvcnQgY29uc3QgZ2V0T3V0cHV0SnNvbk9yaWdpbkRzID0gKGRzOiBTY2VuZUxheWVyRGF0YVNvdXJjZSB8IEZlYXR1cmVMYXllckRhdGFTb3VyY2UpOiBGZWF0dXJlTGF5ZXJEYXRhU291cmNlID0+IHtcbiAgaWYgKCFkcykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBpZiAoZHMudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLlNjZW5lTGF5ZXIpIHtcbiAgICAvKipcbiAgICAgKiBJZiBpcyBzY2VuZSBsYXllciBkYXRhIHNvdXJjZSwgd2lsbCB1c2UgYXNzb2NpYXRlZCBmZWF0dXJlIGxheWVyIGRhdGEgc291cmNlIHRvIGdlbmVyYXRlIG91dHB1dCBkYXRhIHNvdXJjZS5cbiAgICAgKi9cbiAgICByZXR1cm4gKGRzKS5nZXRBc3NvY2lhdGVkRGF0YVNvdXJjZSgpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRzXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFdoZXRoZXJEc0luVXNlRGF0YVNvdXJjZXMgPSAoXG4gIGRzOiBVc2VEYXRhU291cmNlLFxuICB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbik6IGJvb2xlYW4gPT4ge1xuICBpZiAoIWRzIHx8ICF1c2VEYXRhU291cmNlcykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB1c2VEYXRhU291cmNlcy5zb21lKHUgPT4gdS5kYXRhU291cmNlSWQgPT09IGRzLmRhdGFTb3VyY2VJZClcbn1cblxuZXhwb3J0IGNvbnN0IGlzRHNJbkRhdGFzb3VyY2VzID0gKGRhdGFzb3VyY2U6IFVzZURhdGFTb3VyY2UsIGRhdGFzb3VyY2VzOiBVc2VEYXRhU291cmNlW10pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGRhdGFzb3VyY2VzLmZpbHRlcihkcyA9PiBkcz8uZGF0YVNvdXJjZUlkID09PSBkYXRhc291cmNlPy5kYXRhU291cmNlSWQpPy5sZW5ndGggPiAwXG59XG5cbmV4cG9ydCBjb25zdCBjaGVja0lzVXNlRHNDaGVuZ2VkID0gKGRhdGFzb3VyY2U6IFVzZURhdGFTb3VyY2VbXSwgcHJlRGF0YXNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSk6IGJvb2xlYW4gPT4ge1xuICAvL0NoZWNrIGlzIGRzIGxlbmd0aCBjaGFuZ2VcbiAgaWYgKGRhdGFzb3VyY2U/Lmxlbmd0aCAhPT0gcHJlRGF0YXNvdXJjZXM/Lmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvL0NoZWNrIGlzIGRzIGlkIGNoYW5nZVxuICBjb25zdCBpbnRlcnNlY3Rpb25Ec0ZpZWxkID0gW11cbiAgZGF0YXNvdXJjZT8uZm9yRWFjaChkcyA9PiB7XG4gICAgY29uc3QgcHJlQ29tbW9uRHMgPSBwcmVEYXRhc291cmNlcy5maWx0ZXIocHJlRHMgPT4gcHJlRHM/LmRhdGFTb3VyY2VJZCA9PT0gZHM/LmRhdGFTb3VyY2VJZClcbiAgICBpZiAocHJlQ29tbW9uRHM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGludGVyc2VjdGlvbkRzRmllbGQucHVzaCh7XG4gICAgICAgIGRzRmllbGRzOiBkcz8uZmllbGRzLFxuICAgICAgICBwcmVEc0ZpZWxkczogcHJlQ29tbW9uRHNbMF0/LmZpZWxkc1xuICAgICAgfSlcbiAgICB9XG4gIH0pXG4gIGlmIChpbnRlcnNlY3Rpb25Ec0ZpZWxkPy5sZW5ndGggIT09IGRhdGFzb3VyY2U/Lmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvL0NoZWNrIGlzIGRzIGZpZWxkIGNoYW5nZVxuICBjb25zdCBpc0ZpZWxkc0NoYW5nZSA9IGludGVyc2VjdGlvbkRzRmllbGQ/LmZpbHRlcihpdGVtID0+IHtcbiAgICBjb25zdCBpc0xlbmd0aENoYW5nZSA9IGl0ZW0/LmRzRmllbGRzPy5sZW5ndGggIT09IGl0ZW0/LnByZURzRmllbGRzPy5sZW5ndGhcbiAgICBjb25zdCBpc0ZpZWxkSXRlbUNoYW5nZSA9IGl0ZW0/LmRzRmllbGRzPy5maWx0ZXIoZmllbGQgPT4gIWl0ZW0/LnByZURzRmllbGRzPy5pbmNsdWRlcyhmaWVsZCkpPy5sZW5ndGggPiAwXG4gICAgcmV0dXJuIGlzTGVuZ3RoQ2hhbmdlIHx8IGlzRmllbGRJdGVtQ2hhbmdlXG4gIH0pPy5sZW5ndGggPiAwXG4gIHJldHVybiBpc0ZpZWxkc0NoYW5nZVxufVxuXG4vKipcbiAqIENoZWNrIGlzIHVzZURhdGFzb3VyY2Ugb3Igb3V0cHV0RGF0YXNvdXJjZSBjaGVuZ2VkIGluIHdpZGdlSnNvblxuKi9cbmV4cG9ydCBjb25zdCBjaGVja0lzV2lkZ2V0SnNvbkRzQ2hhbmdlZCA9ICh3aWRnZXRKc29uOiBJTVdpZGdldEpzb24sIHVzZURhdGFTb3VyY2U6IFVzZURhdGFTb3VyY2VbXSwgb3V0cHV0RGF0YXNvdXJjZTogc3RyaW5nW10pOiBib29sZWFuID0+IHtcbiAgY29uc3Qgd2lkZ2V0SnNvblVzZURzID0gd2lkZ2V0SnNvbj8udXNlRGF0YVNvdXJjZXM/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkgfHwgW11cbiAgY29uc3Qgd2lkZ2V0SnNvbm91dHB1dFVzZURzID0gd2lkZ2V0SnNvbj8ub3V0cHV0RGF0YVNvdXJjZXM/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkgfHwgW11cbiAgaWYgKHdpZGdldEpzb25Vc2VEcz8ubGVuZ3RoICE9PSB1c2VEYXRhU291cmNlPy5sZW5ndGggfHwgd2lkZ2V0SnNvbm91dHB1dFVzZURzPy5sZW5ndGggIT09IG91dHB1dERhdGFzb3VyY2U/Lmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgY29uc3QgaXNVc2VEc0NoZW5nZWQgPSBjaGVja0lzVXNlRHNDaGVuZ2VkKHVzZURhdGFTb3VyY2UsIHdpZGdldEpzb25Vc2VEcylcbiAgY29uc3QgaXNPdXRwdXREc0NoYW5nZWQgPSB3aWRnZXRKc29ub3V0cHV0VXNlRHMuZmlsdGVyKG91cHV0RHMgPT4gIW91dHB1dERhdGFzb3VyY2U/LmluY2x1ZGVzKG91cHV0RHMpKT8ubGVuZ3RoID4gMFxuICByZXR1cm4gKGlzVXNlRHNDaGVuZ2VkIHx8IGlzT3V0cHV0RHNDaGFuZ2VkKVxufVxuXG4vKipcbiAqIEdldCBjb25nZmlnIGlkIGxpc3RcbiovXG5leHBvcnQgY29uc3QgZ2V0Q29uZmlnSWRMaXN0ID0gKGRhdGFzb3VyY2VDb25maWc6IFNlYXJjaERhdGFDb25maWdbXSkgPT4ge1xuICByZXR1cm4gZGF0YXNvdXJjZUNvbmZpZz8ubWFwKGl0ZW0gPT4gaXRlbS5jb25maWdJZClcbn1cblxuLyoqXG4gKiBHZXQgbmV3IGRhdGFzb3VyY2UgY29uZmlnIGlkXG4qL1xuZXhwb3J0IGNvbnN0IGdldE5ld0NvbmZpZ0lkID0gKGNvbmZpZ0lkTGlzdDogc3RyaW5nW10pOiBzdHJpbmcgPT4ge1xuICBpZiAoIWNvbmZpZ0lkTGlzdCB8fCBjb25maWdJZExpc3Q/Lmxlbmd0aCA9PT0gMCkgcmV0dXJuICdjb25maWdfMCdcbiAgY29uc3QgbWF4SW5kZXggPSBnZXRDb25maWdJbmRleE1heE51bWJlcihjb25maWdJZExpc3QpXG4gIHJldHVybiBgY29uZmlnXyR7bWF4SW5kZXggKyAxfWBcbn1cblxuY29uc3QgZ2V0Q29uZmlnSW5kZXhNYXhOdW1iZXIgPSAoY29uZmlnSWRMaXN0OiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCBpZEluZGV4RGF0YSA9IGNvbmZpZ0lkTGlzdD8ubWFwKGlkID0+IHtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBpZD8uc3BsaXQoJ18nKT8ucG9wKClcbiAgICByZXR1cm4gY3VycmVudEluZGV4ID8gTnVtYmVyKGN1cnJlbnRJbmRleCkgOiAwXG4gIH0pXG4gIHJldHVybiBpZEluZGV4RGF0YT8uc29ydCgoYSwgYikgPT4gYiAtIGEpPy5bMF1cbn1cblxuZXhwb3J0IGNvbnN0IGdldE91dHB1dERhdGFTb3VyY2VJZCA9IChjb25maWdJZDogc3RyaW5nLCB3aWRnZXRJZDogc3RyaW5nKSA9PiB7XG4gIGlmICghY29uZmlnSWQpIHJldHVybiBgJHt3aWRnZXRJZH1fb3V0cHV0XzBgXG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IGNvbmZpZ0lkPy5zcGxpdCgnXycpPy5wb3AoKVxuICByZXR1cm4gYCR7d2lkZ2V0SWR9X291dHB1dF8ke051bWJlcihjdXJyZW50SW5kZXgpfWBcbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY2xhc3NOYW1lcywgUmVhY3RSZWR1eCwgdHlwZSBJTVN0YXRlLCB0eXBlIElNU2VsZWN0aW9uLCBqc3gsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHNlYXJjaFV0aWxzLCB1dGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgUG9wcGVyLCB0eXBlIE1vZGlmaWVycywgdHlwZSBQb3BwZXJDb3JlUHJvcHMsIGlzT3V0Qm91bmRhcnksIFBhbmVsSGVhZGVyLCBGT0NVU0FCTEVfQ09OVEFJTkVSX0NMQVNTIH0gZnJvbSAnamltdS11aSdcblxuY29uc3QgbGVmdFNpZGViYXJMYXlvdXRJZCA9ICdsZWZ0LXNpZGViYXItbGVmdC1sYXlvdXQnXG5jb25zdCByaWdodFNpZGViYXJMYXlvdXRJZCA9ICdyaWdodC1zaWRlYmFyLXJpZ2h0LWxheW91dCdcblxuZXhwb3J0IGludGVyZmFjZSBTaWRlUG9wcGVyUHJvcHMgZXh0ZW5kcyBPbWl0PFBvcHBlckNvcmVQcm9wcywgJ29wZW4nIHwgJ3JlZmVyZW5jZScgfCAncG9zaXRpb24nIHwgJ3RvZ2dsZScgfCAnY2hpbGRyZW4nPiB7XG4gIC8qKlxuICAgKiBJZiBgbGVmdGAsIHRoZSBzaWRlIHBvcHBlciBpcyBuZXh0IHRvIGxlZnQgc2lkZWJhciBvZiBidWlsZGVyLlxuICAgKiBJZiBgcmlnaHRgLCB0aGUgc2lkZSBwb3BwZXIgaXMgbmV4dCB0byByaWdodCBzaWRlYmFyIG9mIGJ1aWxkZXIuXG4gICAqL1xuICBwb3NpdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0J1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgc2lkZSBwb3BwZXIgaXMgdmlzaWJsZS5cbiAgICovXG4gIGlzT3BlbjogYm9vbGVhblxuICAvKipcbiAgICogVG9nZ2xlIHRvIG9wZW4vY2xvc2UgdGhlIHNpZGUgcG9wcGVyLlxuICAgKi9cbiAgdG9nZ2xlOiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBFbGVtZW50IHdoaWNoIHRyaWdnZXJzIHNpZGUgcG9wcGVyLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBjbGlja2luZyBsZWZ0L3JpZ2h0IHNpZGViYXIgb2YgYnVpbGRlciB3aWxsIGNsb3NlIHRoZSBzaWRlIHBvcHBwZXIgYXV0b21hdGljYWxseS5cbiAgICogQ2xpY2tpbmcgYHRyaWdnZXJgIHdvbid0IGNsb3NlIHRoZSBzaWRlIHBvcHBlci5cbiAgICovXG4gIHRyaWdnZXI6IEhUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXVxuICAvKipcbiAgICogQW4gZWxlbWVudCB0byBmb2N1cyBhZnRlciB0aGUgc2lkZSBwb3BwZXIgaXMgY2xvc2VkLlxuICAgKiBgYmFja1RvRm9jdXNOb2RlYCBpcyBmb3IgYWNjZXNzaWJpbGl0eSBwdXJwb3Nlcy5cbiAgICpcbiAgICogSWYgZG9uJ3QgcGFzcyBpbiBgYmFja1RvRm9jdXNOb2RlYCwgd2lsbCBmb2N1cyBgdHJpZ2dlcmAgYWZ0ZXIgc2lkZSBwb3BwZXIgaXMgY2xvc2VkLlxuICAgKi9cbiAgYmFja1RvRm9jdXNOb2RlPzogSFRNTEVsZW1lbnRcbiAgLyoqXG4gICAqIElmIGN1cnJlbnQgc2VsZWN0ZWQgd2lkZ2V0IGlzIG5vdCB0aGUgd2lkZ2V0LCB3aWxsIGNsb3NlIHRoZSBzaWRlIHBvcHBlci5cbiAgICovXG4gIHdpZGdldElkPzogc3RyaW5nXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgdW5pZm9ybSBoZWFkZXIuXG4gICAqL1xuICB0aXRsZT86IFJlYWN0LlJlYWN0Tm9kZVxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqIEFkZCB0aGUgRk9DVVNBQkxFX0NPTlRBSU5FUl9DTEFTUyB0byB0aGUgdGl0bGUgdG8gbWFrZSB0aGUgY2xvc2UgYnV0dG9uIGZvY3VzZWQgaW4gY2FzZSBvZiA1MDggcHJvYmxlbXMuXG4gICAqXG4gICAqIE9ubHkgbmVlZHMgdGhpcyBwcm9wIGlmIHRoZSBjb21wb25lbnRzIGluIHRoZSBjb250ZW50IG9mIHRoZSBTaWRlUG9wcGVyIHVzZXMgRk9DVVNBQkxFX0NPTlRBSU5FUl9DTEFTUy5cbiAgICovXG4gIGFkZEZvY3VzYWJsZUNvbnRhaW5lckNsYXNzPzogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIEEgcmVmIHRoYXQgcG9pbnRzIHRvIHRoZSB1c2VkIHBvcHBlciBpbnN0YW5jZS5cbiAgICovXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG4gIC8qKlxuICAgKiBUbyBwcm92aWRlIGEgbGFiZWwgZm9yIHRoZSBzaWRlIHBvcHBlciBmb3IgYWNjZXNzaWJpbGl0eSBwdXJwb3Nlcy5cbiAgICovXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRXh0cm9Qcm9wcyB7XG4gIGxlZnRTaWRlYmFyQ29sbGFwc2U6IGJvb2xlYW5cbiAgcmlnaHRTaWRlYmFyQ29sbGFwc2U6IGJvb2xlYW5cbiAgZGlzcGF0Y2g6IGFueVxuICBpc1RlbXBsYXRlUGFnZTogYm9vbGVhblxuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgbGF5b3V0U2VsZWN0aW9uPzogSU1TZWxlY3Rpb25cbn1cblxuY29uc3QgbW9kaWZpZXJzOiBNb2RpZmllcnMgPSBbe1xuICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgb3B0aW9uczoge1xuICAgIGJvdW5kYXJpZXNFbGVtZW50OiAndmlld3BvcnQnXG4gIH1cbn1dXG5cbi8qKlxuICogVGhlIGBTaWRlUG9wcGVyYCBjb21wb25lbnQgaXMgYSBwb3BwZXIgd2hpY2ggcmVmZXJlbmNlIG5vZGUgaXMgbGVmdC9yaWdodCBzaWRlIHBhbmVsIG9mIGJ1aWxkZXIuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFNpZGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX1NpZGVQb3BwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNpZGVQb3BwZXJQcm9wcyAmIEV4dHJvUHJvcHMsIHVua25vd24+IHtcbiAgY2xvc2VCdG5SZWYgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KClcbiAgcG9wcGVyUmVmID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLmdldFJlZmVyZW5jZSh0aGlzLnByb3BzLnBvc2l0aW9uKT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlZG93biwgZmFsc2UpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogU2lkZVBvcHBlclByb3BzICYgRXh0cm9Qcm9wcykge1xuICAgIGNvbnN0IGlzUmVmZXJlbmNlUGFuZWxDbG9zZWQgPSAodGhpcy5wcm9wcy5wb3NpdGlvbiA9PT0gJ2xlZnQnICYmIHByZXZQcm9wcy5sZWZ0U2lkZWJhckNvbGxhcHNlICYmICF0aGlzLnByb3BzLmxlZnRTaWRlYmFyQ29sbGFwc2UpIHx8XG4gICAgICAodGhpcy5wcm9wcy5wb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiBwcmV2UHJvcHMucmlnaHRTaWRlYmFyQ29sbGFwc2UgJiYgIXRoaXMucHJvcHMucmlnaHRTaWRlYmFyQ29sbGFwc2UpXG4gICAgY29uc3QgaXNTZWxlY3RlZFdpZGdldE5vdFRyaWdnZXJXaWRnZXQgPSB0aGlzLnByb3BzLndpZGdldElkICYmIHRoaXMucHJvcHMubGF5b3V0U2VsZWN0aW9uICE9PSBwcmV2UHJvcHMubGF5b3V0U2VsZWN0aW9uICYmIHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJdGVtKHV0aWxzLmdldEFwcENvbmZpZygpLCB0aGlzLnByb3BzLmxheW91dFNlbGVjdGlvbik/LndpZGdldElkICE9PSB0aGlzLnByb3BzLndpZGdldElkXG4gICAgY29uc3QgaXNUZW1wbGF0ZWRQYWdlID0gIXByZXZQcm9wcy5pc1RlbXBsYXRlUGFnZSAmJiB0aGlzLnByb3BzLmlzVGVtcGxhdGVQYWdlXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIHNpZGUgcG9wcGVyIGlmIG9uZSBvZiB0aGUgZm9sbG93aW5nIGV2ZW50cyBoYXBwZW4uXG4gICAgICogIDEuIHJlZmVyZW5jZSBwYW5lbCAocmlnaHQvbGVmdCBidWlsZGVyIHBhbmVsKSBpcyBjbG9zZWRcbiAgICAgKiAgMi4gc2VsZWN0ZWQgd2lkZ2V0IGlzIG5vdCB0aGUgd2lkZ2V0IHdoaWNoIHNldHRpbmcgdHJpZ2dlcnMgc2lkZSBwb3BwZXJcbiAgICAgKiAgMy4gY2hhbmdlIHBhZ2UgdG8gdGVtcGxhdGUgcGFnZVxuICAgICAqL1xuICAgIGlmIChpc1JlZmVyZW5jZVBhbmVsQ2xvc2VkIHx8IGlzU2VsZWN0ZWRXaWRnZXROb3RUcmlnZ2VyV2lkZ2V0IHx8IGlzVGVtcGxhdGVkUGFnZSkge1xuICAgICAgLy8gQ2xvc2UgdGhlIHNpZGUgcG9wcGVyLlxuICAgICAgdGhpcy5wcm9wcy5pc09wZW4gJiYgdGhpcy50b2dnbGUoKVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZnRlciBjbG9zZSB0aGUgc2lkZSBwb3BwZXIsIHNob3VsZCBrZWVwIHRoZSBmb2N1cyBiYWNrIHRvIHRoZSB0cmlnZ2VyIG5vZGUuXG4gICAgICovXG4gICAgaWYgKHByZXZQcm9wcy5pc09wZW4gJiYgIXRoaXMucHJvcHMuaXNPcGVuKSB7XG4gICAgICB0aGlzLmtlZXBGb2N1c0FmdGVyQ2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLmdldFJlZmVyZW5jZSh0aGlzLnByb3BzLnBvc2l0aW9uKT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlZG93biwgZmFsc2UpXG4gIH1cblxuICBoYW5kbGVEb2N1bWVudE1vdXNlZG93biA9IChldnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IGlzVGFyZ2V0T3V0T2ZUcmlnZ2VyID0gIXRoaXMucHJvcHMudHJpZ2dlciB8fCAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLnRyaWdnZXIpID8gIXRoaXMucHJvcHMudHJpZ2dlci5zb21lKHQgPT4gIWlzT3V0Qm91bmRhcnkodGFyZ2V0LCB0KSkgOiBpc091dEJvdW5kYXJ5KHRhcmdldCwgdGhpcy5wcm9wcy50cmlnZ2VyKSlcbiAgICAgIC8vIElmIHRoZSBjbGlja2VkIGRvbSBpcyBvdXQgb2YgdHJpZ2dlciBub2RlLCBjbG9zZSBzaWRlIHBvcHBlci5cbiAgICAgIGlmIChpc1RhcmdldE91dE9mVHJpZ2dlcikge1xuICAgICAgICB0aGlzLnRvZ2dsZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVmZXJlbmNlIChwb3NpdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0Jyk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gcG9zaXRpb24gPT09ICdsZWZ0J1xuICAgICAgPyBkb2N1bWVudCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1sYXlvdXRpZD1cIiR7bGVmdFNpZGViYXJMYXlvdXRJZH1cIl1gKVxuICAgICAgOiBkb2N1bWVudCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1sYXlvdXRpZD1cIiR7cmlnaHRTaWRlYmFyTGF5b3V0SWR9XCJdYClcbiAgfVxuXG4gIGdldFBsYWNlbWVudCAocG9zaXRpb246ICdsZWZ0JyB8ICdyaWdodCcpIHtcbiAgICByZXR1cm4gcG9zaXRpb24gPT09ICdsZWZ0JyA/ICdyaWdodC1zdGFydCcgOiAnbGVmdC1zdGFydCdcbiAgfVxuXG4gIHRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZSgpXG4gIH1cblxuICBrZWVwRm9jdXNBZnRlckNsb3NlID0gKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHNpZGUgcG9wcGVyIGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhY2tUb0ZvY3VzTm9kZSkge1xuICAgICAgICB0aGlzLnByb3BzLmJhY2tUb0ZvY3VzTm9kZS5mb2N1cygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLnRyaWdnZXIpKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy50cmlnZ2VyWzBdPy5mb2N1cygpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy50cmlnZ2VyPy5mb2N1cygpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAyMDApXG4gIH1cblxuICBvbktleURvd24gPSBlID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2MnIHx8IGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKCF0aGlzLnBvcHBlclJlZi5jdXJyZW50Py5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuY2xvc2VCdG5SZWYuY3VycmVudCkge1xuICAgICAgICB0aGlzLnRvZ2dsZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsb3NlQnRuUmVmLmN1cnJlbnQ/LmZvY3VzKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBwb3NpdGlvbiwgY2xhc3NOYW1lLCBkaXNwYXRjaCwgbGVmdFNpZGViYXJDb2xsYXBzZSwgcmlnaHRTaWRlYmFyQ29sbGFwc2UsIHRyaWdnZXIsIGJhY2tUb0ZvY3VzTm9kZSwgd2lkZ2V0SWQsIGxheW91dFNlbGVjdGlvbiwgdGl0bGUsIGlzVGVtcGxhdGVQYWdlLCBhZGRGb2N1c2FibGVDb250YWluZXJDbGFzcywgLi4ub3RoZXJzIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3BwZXJcbiAgICAgICAgcmVmZXJlbmNlPXt0aGlzLmdldFJlZmVyZW5jZShwb3NpdGlvbil9IHBsYWNlbWVudD17dGhpcy5nZXRQbGFjZW1lbnQocG9zaXRpb24pfSBvcGVuPXtpc09wZW59IGZvcmNlTGF0ZXN0Rm9jdXNFbGVtZW50c1xuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2JnLWxpZ2h0LTMwMCcsIGNsYXNzTmFtZSl9IG1vZGlmaWVycz17bW9kaWZpZXJzfSB7Li4ub3RoZXJzfSB0b2dnbGU9e251bGx9IG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgIGFyaWEtbGFiZWw9e3R5cGVvZiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10gPT09ICdzdHJpbmcnID8gdGhpcy5wcm9wc1snYXJpYS1sYWJlbCddIDogKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycgPyB0aXRsZSA6IHVuZGVmaW5lZCl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgcmVmPXt0aGlzLnBvcHBlclJlZn0+XG4gICAgICAgICAge3R5cGVvZiB0aXRsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgPFBhbmVsSGVhZGVyIHRpdGxlPXt0aXRsZX0gc2hvd0Nsb3NlPXt0cnVlfSBvbkNsb3NlPXt0aGlzLnRvZ2dsZX0gbGV2ZWw9ezF9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygncC00JywgeyBbRk9DVVNBQkxFX0NPTlRBSU5FUl9DTEFTU106IGFkZEZvY3VzYWJsZUNvbnRhaW5lckNsYXNzIH0pfSBjbG9zZUJ1dHRvblJlZj17dGhpcy5jbG9zZUJ0blJlZn0gLz59XG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZW9mIHRpdGxlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICA/IDxkaXYgY3NzPXtjc3NgaGVpZ2h0OiBjYWxjKDEwMCUgLSA1NnB4KTsgb3ZlcmZsb3c6IGF1dG87YH0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgICAgICAgICAgIDogdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1BvcHBlcj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNpZGVQb3BwZXIgPSBSZWFjdFJlZHV4LmNvbm5lY3QoKHN0YXRlOiBJTVN0YXRlLCBvd25Qcm9wczogU2lkZVBvcHBlclByb3BzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogQ3VycmVudGx5LCBzaWRlLXBvcHBlciB1c2UgbGVmdC9yaWdodCBzaWRlYmFyIGluIGJ1aWxkZXIgYXMgcmVmZXJlbmNlLiBXaGVuIGxlZnQvcmlnaHQgc2lkZWJhciBpcyBjbG9zZWQsIHNpZGUtcG9wcGVyIHNob3VsZCBiZSBjbG9zZWQsIHRvby5cbiAgICAgKiBTbyBtYXAgdGhlc2UgdHdvIHN0YXRlIHRvIHNpZGUtcG9wcGVyJ3MgcHJvcHMgdG8ga25vdyB3aGVuIGxlZnQvcmlnaHQgc2lkZWJhciBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgbGVmdFNpZGViYXJDb2xsYXBzZTogc3RhdGUud2lkZ2V0c1N0YXRlPy5bJ2xlZnQtc2lkZWJhciddPy5jb2xsYXBzZSwgLy8gdHJ1ZSBtZWFucyBvcGVuLCBmYWxzZSBtZWFucyBjbG9zZWRcbiAgICByaWdodFNpZGViYXJDb2xsYXBzZTogc3RhdGUud2lkZ2V0c1N0YXRlPy5bJ3JpZ2h0LXNpZGViYXInXT8uY29sbGFwc2UsXG4gICAgbGF5b3V0U2VsZWN0aW9uOiBvd25Qcm9wcy53aWRnZXRJZFxuICAgICAgPyB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciA/IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mbz8uc2VsZWN0aW9uIDogc3RhdGUuYXBwUnVudGltZUluZm8/LnNlbGVjdGlvblxuICAgICAgOiBudWxsLFxuICAgIGlzVGVtcGxhdGVQYWdlOiB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbz8uY3VycmVudFBhZ2VJZCA9PT0gJ3RlbXBsYXRlJ1xuICB9XG59KSh3aXRoU3R5bGVzKF9TaWRlUG9wcGVyLCAnU2lkZVBvcHBlcicpKVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIGluamVjdEludGwsXG4gIHR5cGUgSW50bFNoYXBlXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IENoZWNrT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2NoZWNrJ1xuaW1wb3J0IHsgRHJvcGRvd24sIERyb3Bkb3duQnV0dG9uLCBEcm9wZG93bkl0ZW0sIERyb3Bkb3duTWVudSwgSW5wdXQgfSBmcm9tICdqaW11LXVpJ1xuXG5leHBvcnQgZW51bSBTaXplTW9kZSB7XG4gIEF1dG8gPSAnQVVUTycsXG4gIEN1c3RvbSA9ICdDVVNUT00nLFxufVxuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBtb2RlOiBTaXplTW9kZVxuICBvbkNoYW5nZTogKG1vZGU6IFNpemVNb2RlKSA9PiB2b2lkXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGRyb3Bkb3duT3BlbjogYm9vbGVhblxufVxuXG5jbGFzcyBfU2l6ZU1vZGVTZWxlY3RvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZT4ge1xuICBfb25BdXRvU2VsZWN0ZWQ6IChlKSA9PiB2b2lkXG4gIF9vbkN1c3RvbVNlbGVjdGVkOiAoZSkgPT4gdm9pZFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7IGRyb3Bkb3duT3BlbjogZmFsc2UgfVxuICAgIHRoaXMuX29uQXV0b1NlbGVjdGVkID0gdGhpcy5vblNlbGVjdC5iaW5kKHRoaXMsIFNpemVNb2RlLkF1dG8pXG4gICAgdGhpcy5fb25DdXN0b21TZWxlY3RlZCA9IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBTaXplTW9kZS5DdXN0b20pXG4gIH1cblxuICBvblNlbGVjdCAobW9kZTogU2l6ZU1vZGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlICE9PSBtb2RlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG1vZGUpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRHJvcGRvd24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIGRyb3Bkb3duT3BlbjogIXByZXZTdGF0ZS5kcm9wZG93bk9wZW5cbiAgICB9KSlcbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLmF1dG8tZHJvcGRvd24uamltdS1kcm9wZG93biB7XG4gICAgICAgIHdpZHRoOiAyNnB4O1xuICAgICAgICBoZWlnaHQ6IDI2cHg7XG5cbiAgICAgICAgLmJ0biB7XG4gICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICYgPiAuamltdS1kcm9wZG93biAuamltdS1kcm9wZG93bi1idXR0b24sXG4gICAgICAmID4gLmppbXUtZHJvcGRvd24gLmppbXUtZHJvcGRvd24tYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgICBwYWRkaW5nOiAwIDAuMzc1cmVtO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIGF1dG9JbnB1dCAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxJbnB1dFxuICAgICAgICBzdHlsZT17eyB3aWR0aDogJzExMHB4JyB9fVxuICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC02MDApO1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tbGlnaHQtNjAwKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYmxhY2spO1xuICAgICAgICAgIGhlaWdodDogMS42MjVyZW07XG4gICAgICAgICAgYm9yZGVyLXdpZHRoOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMC4yNXJlbTtcbiAgICAgICAgYH1cbiAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhdXRvJyB9KX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IG1vZGUsIGludGwgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBhdXRvTGFiZWwgPSBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2F1dG8nIH0pXG4gICAgY29uc3QgY3VzdG9tTGFiZWwgPSBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2N1c3RvbScgfSlcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCcgY3NzPXt0aGlzLmdldFN0eWxlKCl9PlxuICAgICAgICA8RHJvcGRvd24gY2xhc3NOYW1lPSdhdXRvLWRyb3Bkb3duJyBpc09wZW49e3RoaXMuc3RhdGUuZHJvcGRvd25PcGVufSB0b2dnbGU9e3RoaXMudG9nZ2xlRHJvcGRvd259PlxuICAgICAgICAgIDxEcm9wZG93bkJ1dHRvbiBpY29uIC8+XG4gICAgICAgICAgPERyb3Bkb3duTWVudT5cbiAgICAgICAgICAgIDxEcm9wZG93bkl0ZW0gb25DbGljaz17dGhpcy5fb25BdXRvU2VsZWN0ZWR9PlxuICAgICAgICAgICAgICA8c3BhbiBjc3M9e2Nzc2B3aWR0aDogMXJlbTtgfT5cbiAgICAgICAgICAgICAgICB7bW9kZSA9PT0gU2l6ZU1vZGUuQXV0byAmJiA8Q2hlY2tPdXRsaW5lZCBzaXplPSdzJy8+fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHthdXRvTGFiZWx9XG4gICAgICAgICAgICA8L0Ryb3Bkb3duSXRlbT5cbiAgICAgICAgICAgIDxEcm9wZG93bkl0ZW0gb25DbGljaz17dGhpcy5fb25DdXN0b21TZWxlY3RlZH0+XG4gICAgICAgICAgICAgIDxzcGFuIGNzcz17Y3NzYHdpZHRoOiAxcmVtO2B9PlxuICAgICAgICAgICAgICAgIHttb2RlID09PSBTaXplTW9kZS5DdXN0b20gJiYgPENoZWNrT3V0bGluZWQgc2l6ZT0ncycvPn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7Y3VzdG9tTGFiZWx9XG4gICAgICAgICAgICA8L0Ryb3Bkb3duSXRlbT5cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICAgICAgPC9Ecm9wZG93bj5cbiAgICAgICAge21vZGUgPT09IFNpemVNb2RlLkF1dG8gJiYgdGhpcy5hdXRvSW5wdXQoKX1cbiAgICAgICAge21vZGUgPT09IFNpemVNb2RlLkN1c3RvbSAmJiB0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTaXplTW9kZVNlbGVjdG9yID0gaW5qZWN0SW50bChfU2l6ZU1vZGVTZWxlY3RvcilcbiIsIi8qKiBAanN4IGpzeCAqL1xuLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCBEYXRhU291cmNlQ29tcG9uZW50LCB0eXBlIEludGxTaGFwZSwgT3JkZXJSdWxlLCB0eXBlIE9yZGVyQnlPcHRpb24sIGluamVjdEludGwsIHR5cGUgRGF0YVNvdXJjZSwgdHlwZSBJTUZpZWxkU2NoZW1hLCBjbGFzc05hbWVzLFxuICBJbW11dGFibGUsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgdHlwZSBJTVVzZURhdGFTb3VyY2UsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgVXNlRGF0YVNvdXJjZVxufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IEJ1dHRvbiwgVGV4dElucHV0LCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgRmllbGRTZWxlY3RvciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvZGF0YS1zb3VyY2Utc2VsZWN0b3InXG5pbXBvcnQgeyBDbG9zZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvY2xvc2UnXG5pbXBvcnQgeyBFZGl0T3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9lZGl0J1xuaW1wb3J0IHsgUGx1c091dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvcGx1cydcbmltcG9ydCB7IExpc3QsIFRyZWVJdGVtQWN0aW9uVHlwZSB9IGZyb20gJ2ppbXUtdWkvYmFzaWMvbGlzdC10cmVlJ1xuaW1wb3J0IHsgU29ydERlc2NlbmRpbmdPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvc29ydC1kZXNjZW5kaW5nJ1xuaW1wb3J0IHsgU29ydEFzY2VuZGluZ091dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9zb3J0LWFzY2VuZGluZydcbmltcG9ydCB7IE1vcmVWZXJ0aWNhbE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9tb3JlLXZlcnRpY2FsJ1xuLy8gI3JlZ2lvbiBpbnRlcmZhY2VcblxuaW50ZXJmYWNlIEV4dHJhUHJvcHMge1xuICBpbnRsOiBJbnRsU2hhcGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTb3J0U2V0dGluZ09wdGlvbiB7XG4gIHJ1bGVPcHRpb25OYW1lOiBzdHJpbmdcbiAgcnVsZTogT3JkZXJCeU9wdGlvbltdXG4gIGlzRWRpdE9wdGlvbk5hbWU/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU29ydFNldHRpbmdQcm9wcyB7XG4gIHNpbmdsZVJvd0l0ZW1Pbmx5PzogYm9vbGVhblxuICBvcHRpb25SZW5kZXJGdW5jdGlvbj86IChwcm9wczogU29ydFNldHRpbmdQcm9wcywgY3JlYXRlT3B0aW9uRWxlbWVudDogKHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPiwgZWw6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gYW55KSA9PiBKU1guRWxlbWVudFxuICBvbkNoYW5nZTogKHNvcnREYXRhOiBTb3J0U2V0dGluZ09wdGlvbltdLCBpbmRleD86IG51bWJlcikgPT4gdm9pZFxuICB1c2VEYXRhU291cmNlOiBJTVVzZURhdGFTb3VyY2VcbiAgdmFsdWU6IEltbXV0YWJsZUFycmF5PFNvcnRTZXR0aW5nT3B0aW9uPiAvLyBkaXNwbGF5IGRhdGEsQ2FuIGJlIGVtcHR5IEFycmF5XG4gIHRoZW1lPzogSU1UaGVtZVZhcmlhYmxlc1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTb3J0U2V0dGluZ1N0YXRlIHtcbiAgb3B0aW9uOiBTb3J0U2V0dGluZ09wdGlvblxuICBydWxlT3B0aW9uTmFtZTogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBlZGl0T3B0aW9uTmFtZVN0YXR1czogSW1tdXRhYmxlQXJyYXk8Ym9vbGVhbj5cbn1cbi8vICNlbmRyZWdpb25cblxuY2xhc3MgX1NvcnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNvcnRTZXR0aW5nUHJvcHMgJiBFeHRyYVByb3BzLCBTb3J0U2V0dGluZ1N0YXRlPiB7XG4gIHByZVZhbHVlOiBJbW11dGFibGVBcnJheTxTb3J0U2V0dGluZ09wdGlvbj4gPSBudWxsXG4gIGlucHV0UmVmOiBhbnlcbiAgY29uc3RydWN0b3IgKHByb3BzOiBTb3J0U2V0dGluZ1Byb3BzICYgRXh0cmFQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBvcHRpb246IHtcbiAgICAgICAgcnVsZU9wdGlvbk5hbWU6ICcnLFxuICAgICAgICBpc0VkaXRPcHRpb25OYW1lOiBmYWxzZSxcbiAgICAgICAgcnVsZTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGppbXVGaWVsZE5hbWU6ICcnLFxuICAgICAgICAgICAgb3JkZXI6IE9yZGVyUnVsZS5Bc2NcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBydWxlT3B0aW9uTmFtZTogbnVsbCxcbiAgICAgIGVkaXRPcHRpb25OYW1lU3RhdHVzOiBJbW11dGFibGUoW10pXG4gICAgfVxuICB9XG5cbiAgLy8gI3JlZ2lvbiBsaWZlIGN5Y2xlXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLmluaXREYXRhKClcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFNvcnRTZXR0aW5nUHJvcHMgJiBFeHRyYVByb3BzLCBwcmV2U3RhdGU6IFNvcnRTZXR0aW5nU3RhdGUpIHtcbiAgICB0aGlzLnByZVZhbHVlID0gcHJldlByb3BzPy52YWx1ZVxuICAgIHRoaXMuaW5pdFJ1bGVPcHRpb25OYW1lKHRoaXMucHJvcHM/LnZhbHVlLCBwcmV2UHJvcHM/LnZhbHVlKVxuICAgIGlmIChwcmV2UHJvcHM/LnVzZURhdGFTb3VyY2U/LmRhdGFTb3VyY2VJZCAhPT0gdGhpcy5wcm9wcz8udXNlRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUlkKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBpbml0UnVsZU9wdGlvbk5hbWUgPSAodmFsdWU6IEltbXV0YWJsZUFycmF5PFNvcnRTZXR0aW5nT3B0aW9uPiwgcHJlVmFsdWU6IEltbXV0YWJsZUFycmF5PFNvcnRTZXR0aW5nT3B0aW9uPikgPT4ge1xuICAgIGNvbnN0IHJ1bGVPcHRpb25OYW1lID0gdmFsdWU/Lm1hcChpdGVtID0+IGl0ZW0/LnJ1bGVPcHRpb25OYW1lKSB8fCBbXVxuICAgIGNvbnN0IHByZVJ1bGVPcHRpb25OYW1lID0gcHJlVmFsdWU/Lm1hcChpdGVtID0+IGl0ZW0/LnJ1bGVPcHRpb25OYW1lKSB8fCBbXVxuICAgIGxldCBpc1J1bGVPcHRpb25OYW1lQ2hhbmdlID0gZmFsc2VcbiAgICBpZiAodmFsdWU/Lmxlbmd0aCAhPT0gcHJlVmFsdWU/Lmxlbmd0aCB8fCBydWxlT3B0aW9uTmFtZS5qb2luKCcnKSAhPT0gcHJlUnVsZU9wdGlvbk5hbWUuam9pbignJykpIHtcbiAgICAgIGlzUnVsZU9wdGlvbk5hbWVDaGFuZ2UgPSB0cnVlXG4gICAgICB0aGlzLmluaXRFZGl0T3B0aW9uTmFtZVN0YXR1cyh2YWx1ZSlcbiAgICB9XG5cbiAgICBpZiAoaXNSdWxlT3B0aW9uTmFtZUNoYW5nZSB8fCAoIXRoaXMuc3RhdGU/LnJ1bGVPcHRpb25OYW1lPy5sZW5ndGggJiYgcnVsZU9wdGlvbk5hbWU/Lmxlbmd0aCA+IDApKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcnVsZU9wdGlvbk5hbWU6IEltbXV0YWJsZShydWxlT3B0aW9uTmFtZSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaW5pdEVkaXRPcHRpb25OYW1lU3RhdHVzID0gKHZhbHVlOiBJbW11dGFibGVBcnJheTxTb3J0U2V0dGluZ09wdGlvbj4pID0+IHtcbiAgICBjb25zdCBuZXdFZGl0T3B0aW9uTmFtZVN0YXR1cyA9IHZhbHVlLm1hcChpdGVtID0+IGZhbHNlKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZWRpdE9wdGlvbk5hbWVTdGF0dXM6IG5ld0VkaXRPcHRpb25OYW1lU3RhdHVzXG4gICAgfSlcbiAgfVxuXG4gIC8vICNyZWdpb24gYWN0aW9uXG5cbiAgaW5pdERhdGEgPSAoKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy52YWx1ZSkgJiYgdGhpcy5wcm9wcy52YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IF9vcHRpb24gPSB0aGlzLmRlZXBDbG9uZSh0aGlzLnN0YXRlLm9wdGlvbilcbiAgICBfb3B0aW9uLnJ1bGVPcHRpb25OYW1lID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ29wdGlvbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMub3B0aW9uIH0pICsgMFxuICAgIGNvbnN0IF9zb3J0RGF0YSA9IFtfb3B0aW9uXVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoX3NvcnREYXRhKVxuICB9XG5cbiAgb25PcHRpb25DaGFuZ2UgPSAocnVsZUluZGV4OiBudW1iZXIsIG9wdGlvbkluZGV4OiBudW1iZXIsIGNoYW5nZU5hbWU6IHN0cmluZywgY2hhbmdlVmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IF9zb3J0RGF0YSA9IHRoaXMuZGVlcENsb25lKHRoaXMucHJvcHMudmFsdWUpXG4gICAgX3NvcnREYXRhW29wdGlvbkluZGV4XS5ydWxlW3J1bGVJbmRleF1bY2hhbmdlTmFtZV0gPSBjaGFuZ2VWYWx1ZVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShfc29ydERhdGEsIG9wdGlvbkluZGV4KVxuICB9XG5cbiAgb25PcHRpb25LZXlVcCA9IChldnQsIHJ1bGVJbmRleDogbnVtYmVyLCBvcHRpb25JbmRleDogbnVtYmVyLCBjaGFuZ2VOYW1lOiBzdHJpbmcsIGNoYW5nZVZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VudGVyJyB8fCBldnQua2V5ID09PSAnICcpIHtcbiAgICAgIHRoaXMub25PcHRpb25DaGFuZ2UocnVsZUluZGV4LCBvcHRpb25JbmRleCwgY2hhbmdlTmFtZSwgY2hhbmdlVmFsdWUpXG4gICAgfVxuICB9XG5cbiAgb25TZWxlY3RDaGFuZ2UgPSAoYWxsU2VsZWN0ZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSwgcnVsZUluZGV4OiBudW1iZXIsIG9wdGlvbkluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBmaWVsZCA9IGFsbFNlbGVjdGVkRmllbGRzWzBdXG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgX3NvcnREYXRhID0gdGhpcy5kZWVwQ2xvbmUodGhpcy5wcm9wcy52YWx1ZSlcbiAgICBjb25zdCBzZWxlY3RlZERhdGEgPSBmaWVsZC5uYW1lXG5cbiAgICBfc29ydERhdGFbb3B0aW9uSW5kZXhdLnJ1bGVbcnVsZUluZGV4XS5qaW11RmllbGROYW1lID0gc2VsZWN0ZWREYXRhXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShfc29ydERhdGEsIG9wdGlvbkluZGV4KVxuICB9XG5cbiAgYWRkT3B0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IF9pc1ZhbHVlVmFsaWQgPSBBcnJheS5pc0FycmF5KHRoaXMucHJvcHMudmFsdWUpXG4gICAgY29uc3QgX29wdGlvbkluZGV4ID0gX2lzVmFsdWVWYWxpZCA/IHRoaXMucHJvcHMudmFsdWUubGVuZ3RoIDogMFxuICAgIGNvbnN0IF9vcHRpb25UZXh0ID0gdGhpcy5jcmVhdGVPcHRpb25UZXh0KF9vcHRpb25JbmRleClcbiAgICBjb25zdCBfb3B0aW9uID0gdGhpcy5kZWVwQ2xvbmUodGhpcy5zdGF0ZS5vcHRpb24pXG4gICAgX29wdGlvbi5ydWxlT3B0aW9uTmFtZSA9IF9vcHRpb25UZXh0XG5cbiAgICBjb25zdCBfc29ydERhdGEgPSBfaXNWYWx1ZVZhbGlkID8gdGhpcy5kZWVwQ2xvbmUodGhpcy5wcm9wcy52YWx1ZSkgOiBbXVxuICAgIF9zb3J0RGF0YS5wdXNoKF9vcHRpb24pXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShfc29ydERhdGEpXG4gIH1cblxuICBjcmVhdGVPcHRpb25UZXh0ID0gKGluZGV4OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IF9vcHRpb25UZXh0ID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ29wdGlvbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMub3B0aW9uIH0pICsgaW5kZXhcbiAgICBpZiAoIXRoaXMuaXNPcHRpb25OYW1lUmVwZWF0KF9vcHRpb25UZXh0KSkge1xuICAgICAgcmV0dXJuIF9vcHRpb25UZXh0XG4gICAgfVxuXG4gICAgY29uc3QgX2luZGV4ID0gaW5kZXggKyAxXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlT3B0aW9uVGV4dChfaW5kZXgpXG4gIH1cblxuICBkZWxldGVPcHRpb24gPSAoaW5kZXg6IG51bWJlciwgZT86IGFueSkgPT4ge1xuICAgIGlmIChlICYmIChlLmtleSAhPT0gJ0VudGVyJyAmJiBlLmtleSAhPT0gJyAnKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IF9zb3J0RGF0YSA9IHRoaXMuZGVlcENsb25lKHRoaXMucHJvcHMudmFsdWUpXG4gICAgX3NvcnREYXRhLnNwbGljZShpbmRleCwgMSlcblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoX3NvcnREYXRhKVxuICB9XG5cbiAgZGVsZXRlQWxsID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoW10pXG4gIH1cblxuICB0b2dnbGVPcHRpb25OYW1lRGlzcGxheSA9IChvcHRpb25JbmRleDogbnVtYmVyLCBpc09wZW4gPSBmYWxzZSwgZT86IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgZWRpdE9wdGlvbk5hbWVTdGF0dXMgfSA9IHRoaXMuc3RhdGVcbiAgICBpZiAoZSAmJiAoZS5rZXkgIT09ICdFbnRlcicgJiYgZS5rZXkgIT09ICcgJykpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IG5ld0VkaXRPcHRpb25OYW1lU3RhdHVzID0gZWRpdE9wdGlvbk5hbWVTdGF0dXM/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkgfHwgW11cbiAgICBuZXdFZGl0T3B0aW9uTmFtZVN0YXR1c1tvcHRpb25JbmRleF0gPSBpc09wZW5cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZWRpdE9wdGlvbk5hbWVTdGF0dXM6IEltbXV0YWJsZShuZXdFZGl0T3B0aW9uTmFtZVN0YXR1cylcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLmlucHV0UmVmPy5zZWxlY3QoKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVPcHRpb25OYW1lQ2hhbmdlID0gKG9wdGlvbkluZGV4OiBudW1iZXIsIHZhbHVlPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuXG4gICAgY29uc3QgX3NvcnREYXRhID0gdGhpcy5kZWVwQ2xvbmUodGhpcy5wcm9wcy52YWx1ZSlcbiAgICBjb25zdCBfb3B0aW9uTmFtZSA9IHZhbHVlXG4gICAgY29uc3QgX2lzT3B0aW9uTmFtZVZhbGlkID0gIXRoaXMuaXNPcHRpb25OYW1lUmVwZWF0KF9vcHRpb25OYW1lKSAmJiBfb3B0aW9uTmFtZVxuICAgIGlmIChfaXNPcHRpb25OYW1lVmFsaWQpIHtcbiAgICAgIF9zb3J0RGF0YVtvcHRpb25JbmRleF0ucnVsZU9wdGlvbk5hbWUgPSBfb3B0aW9uTmFtZVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKF9zb3J0RGF0YSlcbiAgfVxuXG4gIGlzT3B0aW9uTmFtZVJlcGVhdCA9IChvcHRpb25OYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy52YWx1ZSkpIHJldHVybiBmYWxzZVxuICAgIGxldCBpc0hhc09wdGlvbiA9IGZhbHNlXG4gICAgdGhpcy5wcm9wcy52YWx1ZS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgaWYgKGVsLnJ1bGVPcHRpb25OYW1lID09PSBvcHRpb25OYW1lKSBpc0hhc09wdGlvbiA9IHRydWVcbiAgICB9KVxuICAgIHJldHVybiBpc0hhc09wdGlvblxuICB9XG5cbiAgZGVlcENsb25lID0gKG9iajogYW55KTogYW55ID0+IHtcbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShvYmopXG4gICAgY29uc3QgY2xvbmVPYmogPSBpc0FycmF5ID8gW10gOiB7fVxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCBpc09iamVjdCA9ICh0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmpba2V5XSA9PT0gJ2Z1bmN0aW9uJykgJiYgb2JqW2tleV0gIT09IG51bGxcbiAgICAgIGNsb25lT2JqW2tleV0gPSBpc09iamVjdCA/IHRoaXMuZGVlcENsb25lKG9ialtrZXldKSA6IG9ialtrZXldXG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lT2JqXG4gIH1cblxuICBzZXRJbnB1dFJlZiA9IChlbDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgdGhpcy5pbnB1dFJlZiA9IGVsXG4gICAgICAvLyBlbC5zZWxlY3QoKVxuICAgICAgZWwuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVJ1bGVPcHRpb25FbGVtZW50ID0gKHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPiwgcnVsZTogYW55LCBpbmRleDogbnVtYmVyLCBvcHRpb25JbmRleDogbnVtYmVyKTogYW55ID0+IHtcbiAgICAvLyBzZWxlY3QgZWxlbWVudFxuICAgIGNvbnN0IF9zZWxlY3RlZEZpZWxkcyA9IHJ1bGUuamltdUZpZWxkTmFtZSA/IEltbXV0YWJsZShbcnVsZS5qaW11RmllbGROYW1lXSkgOiBJbW11dGFibGUoW10pXG4gICAgY29uc3QgcnVsZU9wdGlvbiA9IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWxlY3QtZG93bi1jb24nIGtleT17cnVsZS5qaW11RmllbGROYW1lIHx8IGluZGV4fT5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZSAmJlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NvcnQtZmllbGQtc2VsZWN0b3InPlxuICAgICAgICAgICAgICA8RmllbGRTZWxlY3RvclxuICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt1c2VEYXRhU291cmNlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGFsbFNlbGVjdGVkRmllbGRzOiBJTUZpZWxkU2NoZW1hW10sIGRzOiBEYXRhU291cmNlKSA9PiB7IHRoaXMub25TZWxlY3RDaGFuZ2UoYWxsU2VsZWN0ZWRGaWVsZHMsIGluZGV4LCBvcHRpb25JbmRleCkgfX1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkcz17X3NlbGVjdGVkRmllbGRzfVxuICAgICAgICAgICAgICAgIGlzU2VhcmNoSW5wdXRIaWRkZW5cbiAgICAgICAgICAgICAgICBpc0RhdGFTb3VyY2VEcm9wRG93bkhpZGRlblxuICAgICAgICAgICAgICAgIHVzZURyb3Bkb3duXG4gICAgICAgICAgICAgICAgdXNlS2V5VXBFdmVudFxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIGdldFRpdGxlOiAoKSA9PiB0aGlzLm5scygnYXNjZW5kaW5nJyksXG4gICAgICAgICAgICBvcmRlcjogT3JkZXJSdWxlLkFzY1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGdldFRpdGxlOiAoKSA9PiB0aGlzLm5scygnZGVjZW5kaW5nJyksXG4gICAgICAgICAgICBvcmRlcjogT3JkZXJSdWxlLkRlc2NcbiAgICAgICAgICB9XS5tYXAoKGl0ZW0sIHgsIGl0ZW1zKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXt4fVxuICAgICAgICAgICAgICAgIHRpdGxlPXtpdGVtLmdldFRpdGxlKCl9XG4gICAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgICAgdHlwZT17cnVsZS5vcmRlciA9PT0gaXRlbS5vcmRlciA/ICdwcmltYXJ5JyA6ICdzZWNvbmRhcnknfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHNvcnQtYnV0dG9uICR7dGhpcy5wcm9wcy5zaW5nbGVSb3dJdGVtT25seSAmJiBydWxlLm9yZGVyICE9PSBpdGVtLm9yZGVyID8gJ2NvbGxhcHNlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLm9uT3B0aW9uQ2hhbmdlKGluZGV4LCBvcHRpb25JbmRleCwgJ29yZGVyJywgdGhpcy5wcm9wcy5zaW5nbGVSb3dJdGVtT25seSA/IFsuLi5pdGVtcywgaXRlbXNbMF1dW3ggKyAxXS5vcmRlciA6IGl0ZW0ub3JkZXIpIH19XG4gICAgICAgICAgICAgICAgb25LZXlVcD17KGV2dCkgPT4geyB0aGlzLm9uT3B0aW9uS2V5VXAoZXZ0LCBpbmRleCwgb3B0aW9uSW5kZXgsICdvcmRlcicsIHRoaXMucHJvcHMuc2luZ2xlUm93SXRlbU9ubHkgPyBbLi4uaXRlbXMsIGl0ZW1zWzBdXVt4ICsgMV0ub3JkZXIgOiBpdGVtLm9yZGVyKSB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2l0ZW0ub3JkZXIgPT09IE9yZGVyUnVsZS5Bc2MgJiYgPFNvcnRBc2NlbmRpbmdPdXRsaW5lZCBzaXplPScxMicgY2xhc3NOYW1lPSdzb3J0LWFycm93LWRvd24taWNvbicvPn1cbiAgICAgICAgICAgICAgICB7aXRlbS5vcmRlciA9PT0gT3JkZXJSdWxlLkRlc2MgJiYgPFNvcnREZXNjZW5kaW5nT3V0bGluZWQgc2l6ZT0nMTInIGNsYXNzTmFtZT0nc29ydC1hcnJvdy1kb3duLWljb24nLz59XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgICByZXR1cm4gcnVsZU9wdGlvblxuICB9XG5cbiAgb25SdWxlT3B0aW9uTmFtZUNoYW5nZSA9IChlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdSdWxlT3B0aW9uTmFtZSA9IHRoaXMuc3RhdGUucnVsZU9wdGlvbk5hbWU/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkgfHwgW11cbiAgICBuZXdSdWxlT3B0aW9uTmFtZVtpbmRleF0gPSB2YWx1ZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcnVsZU9wdGlvbk5hbWU6IEltbXV0YWJsZShuZXdSdWxlT3B0aW9uTmFtZSlcbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlT3B0aW9uTmFtZUVsZW1lbnQgPSAoZWw6IGFueSwgb3B0aW9uSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHsgZWRpdE9wdGlvbk5hbWVTdGF0dXMgfSA9IHRoaXMuc3RhdGVcbiAgICAvLyBlZGl0IG9wdGlvbiBuYW1lIGlucHV0IGVsZW1lbnRcbiAgICBjb25zdCBfb3B0aW9uTmFtZSA9IGVsLnJ1bGVPcHRpb25OYW1lXG4gICAgY29uc3QgX29wdGlvbk5hbWVJbklucHV0ID0gdGhpcy5zdGF0ZS5ydWxlT3B0aW9uTmFtZT8uW29wdGlvbkluZGV4XVxuICAgIGNvbnN0IF9wbGFjZWhvbGRlciA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdvcHRpb25OYW1lUGxhY2Vob2xkZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm9wdGlvbk5hbWVQbGFjZWhvbGRlciB9KVxuICAgIGNvbnN0IGVkaXRPcHRpb25OYW1lSW5wdXRFbGUgPSAoXG4gICAgICA8VGV4dElucHV0XG4gICAgICAgIGNsYXNzTmFtZT0nZmxleC1ncm93LTEgaC0xMDAgZWRpdC1pbnB1dCdcbiAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgIGRlZmF1bHRWYWx1ZT17X29wdGlvbk5hbWV9XG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLm9uUnVsZU9wdGlvbk5hbWVDaGFuZ2UoZSwgb3B0aW9uSW5kZXgpIH19XG4gICAgICAgIG9uQWNjZXB0VmFsdWU9e3ZhbHVlID0+IHsgdGhpcy5oYW5kbGVPcHRpb25OYW1lQ2hhbmdlKG9wdGlvbkluZGV4LCB2YWx1ZSkgfX1cbiAgICAgICAgb25CbHVyPXsoKSA9PiB7IHRoaXMudG9nZ2xlT3B0aW9uTmFtZURpc3BsYXkob3B0aW9uSW5kZXgsIGZhbHNlKSB9fVxuICAgICAgICByZWY9e2VsID0+IHsgdGhpcy5zZXRJbnB1dFJlZihlbCkgfX1cbiAgICAgICAgcGxhY2Vob2xkZXI9e19wbGFjZWhvbGRlcn1cbiAgICAgICAgdGl0bGU9e19vcHRpb25OYW1lSW5JbnB1dCB8fCBfcGxhY2Vob2xkZXJ9XG4gICAgICAgIGFyaWEtbGFiZWw9e19vcHRpb25OYW1lSW5JbnB1dCB8fCBfcGxhY2Vob2xkZXJ9XG4gICAgICAvPlxuICAgIClcblxuICAgIGNvbnN0IF9vcHRpb25OYW1lRWxlbWVudCA9IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24tbmFtZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGZsZXgtZ3Jvdy0xJyBhcmlhLWxhYmVsPXtfb3B0aW9uTmFtZX0+XG4gICAgICAgIHtlZGl0T3B0aW9uTmFtZVN0YXR1c1tvcHRpb25JbmRleF0gPyBlZGl0T3B0aW9uTmFtZUlucHV0RWxlIDogPHNwYW4gaWQ9J29wdGlvbk5hbWVDb24nIHRpdGxlPXtfb3B0aW9uTmFtZX0gb25Eb3VibGVDbGljaz17KCkgPT4geyB0aGlzLnRvZ2dsZU9wdGlvbk5hbWVEaXNwbGF5KG9wdGlvbkluZGV4LCB0cnVlKSB9fT57X29wdGlvbk5hbWV9PC9zcGFuPn1cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5J1xuICAgICAgICAgIGljb25cbiAgICAgICAgICBjbGFzc05hbWU9J3BhZGRpbmctMCBvcHRpb24tbmFtZS1pY29uLWNvbidcbiAgICAgICAgICB0aXRsZT17dGhpcy5ubHMoJ2VkaXQnKX1cbiAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PSdvcHRpb25OYW1lQ29uJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy50b2dnbGVPcHRpb25OYW1lRGlzcGxheShvcHRpb25JbmRleCwgIWVkaXRPcHRpb25OYW1lU3RhdHVzW29wdGlvbkluZGV4XSkgfX1cbiAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLnRvZ2dsZU9wdGlvbk5hbWVEaXNwbGF5KG9wdGlvbkluZGV4LCAhZWRpdE9wdGlvbk5hbWVTdGF0dXNbb3B0aW9uSW5kZXhdLCBlKSB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEVkaXRPdXRsaW5lZCBzaXplPSdzJyBjbGFzc05hbWU9J29wdGlvbi1uYW1lLWljb24nLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gICAgcmV0dXJuIF9vcHRpb25OYW1lRWxlbWVudFxuICB9XG5cbiAgY3JlYXRlT3B0aW9uRWxlbWVudCA9ICh1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4sIGVsOiBhbnksIGluZGV4OiBudW1iZXIpOiBhbnkgPT4ge1xuICAgIGxldCBfZGVsZXRlVGVtcFxuXG4gICAgLy8gZGVsZXRlIGJ1dHRvbiBlbGVtZW50XG4gICAgX2RlbGV0ZVRlbXAgPSAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY2xvc2UtY29uIHRleHQtcmlnaHQnPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgaWNvblxuICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5J1xuICAgICAgICAgIGNsYXNzTmFtZT0ncGFkZGluZy0wJ1xuICAgICAgICAgIHRpdGxlPXt0aGlzLm5scygnZGVsZXRlT3B0aW9uJyl9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLmRlbGV0ZU9wdGlvbihpbmRleCkgfX1cbiAgICAgICAgICBvbktleVVwPXsoZSkgPT4geyB0aGlzLmRlbGV0ZU9wdGlvbihpbmRleCwgZSkgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDbG9zZU91dGxpbmVkIHNpemU9e3RoaXMucHJvcHMuc2luZ2xlUm93SXRlbU9ubHkgPyAxNCA6IDEyfSBjbGFzc05hbWU9J3NvcnQtYXJyb3ctZG93bi1pY29uJy8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuXG4gICAgY29uc3QgZ2V0T3B0aW9uU2VsZWN0ID0gKCkgPT4gZWwucnVsZS5tYXAoKHJ1bGVFbDogYW55LCBydWxlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUnVsZU9wdGlvbkVsZW1lbnQodXNlRGF0YVNvdXJjZXMsIHJ1bGVFbCwgcnVsZUluZGV4LCBpbmRleClcbiAgICB9KVxuXG4gICAgY29uc3QgZ2V0T3B0aW9uTmFtZSA9ICgpID0+IHRoaXMuY3JlYXRlT3B0aW9uTmFtZUVsZW1lbnQoZWwsIGluZGV4KVxuXG4gICAgLy8gb3B0aW9uIGxpc3QgZWxlbWVudFxuICAgIGNvbnN0IF9vcHRpb25zID0gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3NlbGVjdC1jb24gZmxleC1ncm93LTEnIGtleT17aW5kZXh9IHJvbGU9J2dyb3VwJyBhcmlhLWxhYmVsPXtlbC5ydWxlT3B0aW9uTmFtZX0+XG4gICAgICAgIHtcbiAgICAgICAgICAodGhpcy5wcm9wcy5zaW5nbGVSb3dJdGVtT25seSAmJlxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nb3B0aW9uLW5hbWUtY29uJz5cbiAgICAgICAgICAgICAgICA8TW9yZVZlcnRpY2FsT3V0bGluZWQgc2l6ZT17MTR9Lz5cbiAgICAgICAgICAgICAgICB7Z2V0T3B0aW9uU2VsZWN0KCl9XG4gICAgICAgICAgICAgICAge19kZWxldGVUZW1wfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+KSB8fFxuICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgey8qIE9wdGlvbiBOYW1lICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24tbmFtZS1jb24gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICAgICAgICB7Z2V0T3B0aW9uTmFtZSgpfVxuICAgICAgICAgICAgICAgICAge19kZWxldGVUZW1wfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIE9wdGlvbiBzZWxlY3QgKi99XG4gICAgICAgICAgICAgICAge2dldE9wdGlvblNlbGVjdCgpfVxuICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cblxuICAgIClcblxuICAgIHJldHVybiBfb3B0aW9uc1xuICB9XG5cbiAgbmxzID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pIDogaWRcbiAgfVxuXG4gIG9uRGF0YVNvdXJjZUNyZWF0ZWQgPSAoZTogYW55KSA9PiB7XG4gIH1cbiAgLy8gI2VuZHJlZ2lvblxuXG4gIGNoZWNrSXNPcmRlckNoYW5nZSA9ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKHZhbHVlPy5sZW5ndGggIT09IHRoaXMucHJlVmFsdWU/Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IHJ1bGVPcHRpb25OYW1lID0gdmFsdWU/Lm1hcChpdGVtID0+IGl0ZW0/LnJ1bGVPcHRpb25OYW1lKSB8fCBbXVxuICAgIGNvbnN0IHByZVJ1bGVPcHRpb25OYW1lID0gdGhpcy5wcmVWYWx1ZT8ubWFwKGl0ZW0gPT4gaXRlbT8ucnVsZU9wdGlvbk5hbWUpIHx8IFtdXG4gICAgcmV0dXJuIHJ1bGVPcHRpb25OYW1lPy5qb2luKCcnKSAhPT0gcHJlUnVsZU9wdGlvbk5hbWU/LmpvaW4oJycpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBpc09yZGVyQ2hhbmdlID0gdGhpcy5jaGVja0lzT3JkZXJDaGFuZ2UoKVxuICAgIGNvbnN0IGludmFsaWRFeHByZXNzaW9uID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2ludmFsaWRFeHByZXNzaW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5pbnZhbGlkRXhwcmVzc2lvbiB9KVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc29ydC1jb24nLCB0aGlzLnByb3BzLnNpbmdsZVJvd0l0ZW1Pbmx5ICYmICdzaW5nbGUtcm93LWl0ZW0nLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9PlxuXG4gICAgICAgIHsvKiBBZGQgT3B0aW9uICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxCdXR0b24gdHlwZT0ndGVydGlhcnknIGNsYXNzTmFtZT0nYWRkLW9wdGlvbi1idG4nIG9uQ2xpY2s9e3RoaXMuYWRkT3B0aW9ufT5cbiAgICAgICAgICAgIDxQbHVzT3V0bGluZWQgc2l6ZT0ncycgY2xhc3NOYW1lPSdhZGQtb3B0aW9uLWljb24nLz5cbiAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnYWRkT3B0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGRPcHRpb24gfSl9PC9zcGFuPlxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgey8qIE9wdGlvbiBMaXN0ICovfVxuICAgICAgICAgIDxEYXRhU291cmNlQ29tcG9uZW50IHVzZURhdGFTb3VyY2U9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZX0gb25EYXRhU291cmNlQ3JlYXRlZD17dGhpcy5vbkRhdGFTb3VyY2VDcmVhdGVkfT5cbiAgICAgICAgICAgIHsoZHM6IERhdGFTb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIGludmFsaWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPExpc3RcbiAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZXR0aW5nLXVpLXVuaXQtbGlzdCdcbiAgICAgICAgICAgICAgICAgIGl0ZW1zSnNvbj17dmFsdWUuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5tYXAoKGksIHgpID0+ICh7IGl0ZW1TdGF0ZURldGFpbENvbnRlbnQ6IGksIGl0ZW1LZXk6IGAke3h9YCB9KSl9XG4gICAgICAgICAgICAgICAgICBkbmRFbmFibGVkXG4gICAgICAgICAgICAgICAgICBvblVwZGF0ZUl0ZW09eyhhY3Rpb25EYXRhLCByZWZDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpdGVtSnNvbnMgfSA9IHJlZkNvbXBvbmVudC5wcm9wc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbLCBwYXJlbnRJdGVtSnNvbl0gPSBpdGVtSnNvbnMgYXMgYW55XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NvcnREYXRhID0gcGFyZW50SXRlbUpzb24ubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLml0ZW1TdGF0ZURldGFpbENvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT3JkZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG5ld1NvcnREYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJdGVtQmxvY2tJbmZvPXsoeyBpdGVtQmxvY2tJbmZvIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbURyb3BwYWJsZUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtRHJhZ2dhYmxlQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBUcmVlSXRlbUFjdGlvblR5cGUuUmVuZGVyT3ZlcnJpZGVJdGVtQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFRyZWVJdGVtQWN0aW9uVHlwZS5SZW5kZXJPdmVycmlkZUl0ZW1EcmFnSGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogVHJlZUl0ZW1BY3Rpb25UeXBlLlJlbmRlck92ZXJyaWRlSXRlbU1haW5MaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHJlbmRlck92ZXJyaWRlSXRlbU1haW5MaW5lPXsoYWN0aW9uRGF0YSwgcmVmQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaXRlbUpzb25zIH0gPSByZWZDb21wb25lbnQucHJvcHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEl0ZW1Kc29uID0gaXRlbUpzb25zWzBdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtSnNvbnMgPSBpdGVtSnNvbnNbMV0gYXMgYW55XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU9wdGlvbkVsZW1lbnQoSW1tdXRhYmxlKFt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2U/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSldKSwgY3VycmVudEl0ZW1Kc29uLml0ZW1TdGF0ZURldGFpbENvbnRlbnQsIGxpc3RJdGVtSnNvbnMuaW5kZXhPZihjdXJyZW50SXRlbUpzb24pKVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIDwvRGF0YVNvdXJjZUNvbXBvbmVudD5cblxuICAgICAgICAgIHtBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDAgJiYgPGRpdiBjbGFzc05hbWU9J25vLXNvcnQtcmVtaW5kJz5cbiAgICAgICAgICAgIDxkaXY+e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdub09wdGlvblJlbWluZFRleHQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm5vT3B0aW9uUmVtaW5kVGV4dCB9KX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdwbGVhY2VBZGRPbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnBsZWFjZUFkZE9uZSB9KX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj59XG5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuZXhwb3J0IGNvbnN0IFNvcnRTZXR0aW5nID0gd2l0aFN0eWxlcyhpbmplY3RJbnRsKF9Tb3J0KSwgJ1NvcnRTZXR0aW5nJylcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmludGVyZmFjZSBTdHlsZVBpY2tlclByb3BzIHtcbiAgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9XG4gIHZhbHVlPzogYW55XG4gIHNpemU/OiAnc21hbGwnIHwgJ25vcm1hbCdcbiAgb25DaGFuZ2U/OiAodmFsdWU6IGFueSkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgU3R5bGVQaWNrZXJTdGF0ZSB7XG4gIHNlbGVjdGVkVmFsdWU6IGFueVxufVxuXG5leHBvcnQgY2xhc3MgX1N0eWxlUGlja2VyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTdHlsZVBpY2tlclByb3BzLCBTdHlsZVBpY2tlclN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkVmFsdWU6IHRoaXMucHJvcHMudmFsdWVcbiAgICB9XG4gIH1cblxuICBvblN0eWxlQ2xpY2sgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSA9PT0gdmFsdWUpIHJldHVyblxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3RlZFZhbHVlOiB2YWx1ZVxuICAgIH0pXG4gICAgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGlmIChwcmV2UHJvcHMudmFsdWUgIT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZFZhbHVlOiB0aGlzLnByb3BzLnZhbHVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gdGhpcy5wcm9wcy5zdHlsZXNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgJ3dpZGdldC1zZXR0aW5nLS1zdHlsZXBpY2tlciB3LTEwMCcsIHtcbiAgICAgICAgICBzbWFsbDogdGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnXG4gICAgICAgIH0pfVxuICAgICAgPlxuICAgICAgICB7T2JqZWN0LmtleXMoc3R5bGVzKS5tYXAoKHVJZCwgaW5kZXgpID0+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAga2V5PXt1SWR9IHJvbGU9J2J1dHRvbidcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgJ3dpZGdldC1zZXR0aW5nLS1zdHlsZXBpY2tlci1pdGVtJywge1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogdUlkID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUsXG4gICAgICAgICAgICAgICAgJ2Z1bGwtd2lkdGgnOiBzdHlsZXNbdUlkXS5zaXplID09PSAnZnVsbCdcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtzdHlsZXNbdUlkXS50aHVtYm5haWx9KWAgfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vblN0eWxlQ2xpY2sodUlkKSB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiB7c3R5bGVzW3VJZF0ubGFiZWx9ICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBzaW5jZSB0aGVyZSBpcyBubyBwbGFjZSBmb3IgdXNlXG4gKi9cbmV4cG9ydCBjb25zdCBTdHlsZVBpY2tlciA9IHdpdGhTdHlsZXMoX1N0eWxlUGlja2VyLCAnU3R5bGVQaWNrZXInKVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MsIHBvbGlzaGVkLCB0eXBlIEJyb3dzZXJTaXplTW9kZSwgdHlwZSBJTUFwcENvbmZpZywgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2UsIGhvb2tzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTZXR0aW5nQ2hhbmdlRnVuY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJ1xuaW1wb3J0IHsgU2V0dGluZ1JvdywgU2V0dGluZ1NlY3Rpb24gfSBmcm9tICcuLi9sYXlvdXQnXG5pbXBvcnQgeyBDYXJkTGF5b3V0LCBTdGF0dXMgfSBmcm9tICcuL3R5cGUnXG5pbXBvcnQgeyBSYWRpbywgTW9kYWwsIE1vZGFsQm9keSwgTW9kYWxIZWFkZXIsIE1vZGFsRm9vdGVyLCBCdXR0b24sIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11aURlZmF1bHRNZXNzYWdlIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IFdhcm5pbmdPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvc3VnZ2VzdGVkL3dhcm5pbmcnXG5pbXBvcnQgeyBzZWFyY2hVdGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcbmltcG9ydCB7IHNldExheW91dEF1dG8sIHNldExheW91dEN1c3RvbSwgdHlwZSBTd2l0Y2hDYXJkTGF5b3V0T3B0aW9uIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmludGVyZmFjZSBMYXlvdXRTZXR0aW5nUHJvcHMge1xuICBpZDogc3RyaW5nXG4gIG9uU2V0dGluZ0NoYW5nZTogU2V0dGluZ0NoYW5nZUZ1bmN0aW9uXG4gIGNhcmRMYXlvdXQ6IENhcmRMYXlvdXRcbiAgc3RhdHVzOiBTdGF0dXNcbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbiAgbWFpblNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbiAgbGF5b3V0czogYW55XG4gIGNvbmZpZzogYW55XG4gIGFwcENvbmZpZzogSU1BcHBDb25maWdcbiAgaXNDYXJkV2lkZ2V0PzogYm9vbGVhblxufVxuXG5jb25zdCBTVFlMRSA9IGNzc2BcbiAgLmppbXUtcmFkaW8ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICAuY2xlYXItcGFkZGluZyB7XG4gICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gIH1cbmBcblxuY29uc3QgTW9kYWxTdHlsZSA9IGNzc2BcbiAgJiAubW9kYWwtY29udGVudCB7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG4gIC5oZWFkZXItY29uIHtcbiAgICAmIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICB9XG4gICAgc3ZnIHtcbiAgICAgIGNvbG9yOiB2YXIoLS13YXJuaW5nLTYwMCk7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgbWFyZ2luLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgxMil9ICFpbXBvcnRhbnQ7XG4gICAgfVxuICB9XG4gIC5tb2RhbC1ib2R5IHtcbiAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSgyNCl9ICR7cG9saXNoZWQucmVtKDMwKX07XG4gIH1cbiAgLm1vZGFsLWZvb3RlciB7XG4gICAgJiB7XG4gICAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSgzMCl9O1xuICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCBDYXJkTGF5b3V0U2V0dGluZyA9IChwcm9wczogTGF5b3V0U2V0dGluZ1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgaWQsIGNhcmRMYXlvdXQsIHN0YXR1cywgaXNDYXJkV2lkZ2V0LCBicm93c2VyU2l6ZU1vZGUsIGxheW91dHMsIG1haW5TaXplTW9kZSwgY29uZmlnLCBhcHBDb25maWcgfSA9IHByb3BzXG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3JlbWluZGVyVGl0bGUsIHNldFJlbWluZGVyVGl0bGVdID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW3JlbWluZGVyVGV4dCwgc2V0UmVtaW5kZXJUZXh0XSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtyZW1pbmRlckJvdHRvbVRleHQsIHNldFJlbWluZGVyQm90dG9tVGV4dF0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBsYXlvdXQgPSBSZWFjdC51c2VSZWY8Q2FyZExheW91dD4oY2FyZExheW91dClcbiAgY29uc3Qgb2xkTGF5b3V0ID0gUmVhY3QudXNlUmVmPENhcmRMYXlvdXQ+KGNhcmRMYXlvdXQpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsYXlvdXQuY3VycmVudCA9IHByb3BzLmNhcmRMYXlvdXRcbiAgICBvbGRMYXlvdXQuY3VycmVudCA9IHByb3BzLmNhcmRMYXlvdXRcbiAgfSwgW3N0YXR1cywgcHJvcHNdKVxuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZSA9ICgpID0+IHtcbiAgICBzZXRJc09wZW4oIWlzT3BlbilcbiAgICBsYXlvdXQuY3VycmVudCA9IG9sZExheW91dC5jdXJyZW50XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlZ3VsYXJMYXlvdXRJZCA9IHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChsYXlvdXRzW1N0YXR1cy5EZWZhdWx0XSwgYnJvd3NlclNpemVNb2RlLCBtYWluU2l6ZU1vZGUpXG4gICAgY29uc3QgZGVzTGF5b3V0SWQgPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SWQobGF5b3V0c1tzdGF0dXNdLCBicm93c2VyU2l6ZU1vZGUsIG1haW5TaXplTW9kZSlcbiAgICBjb25zdCBvcHRpb246IFN3aXRjaENhcmRMYXlvdXRPcHRpb24gPSB7XG4gICAgICBsYXlvdXQ6IGxheW91dC5jdXJyZW50LFxuICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICB3aWRnZXRJZDogaWQsXG4gICAgICBhcHBDb25maWc6IGFwcENvbmZpZyxcbiAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgcmVndWxhckxheW91dElkOiByZWd1bGFyTGF5b3V0SWQsXG4gICAgICBkZXNMYXlvdXRJZDogZGVzTGF5b3V0SWQsXG4gICAgICBsYWJlbDogbmxzKHN0YXR1cy50b0xvd2VyQ2FzZSgpKSxcbiAgICAgIGlzQ2FyZFdpZGdldFxuICAgIH1cbiAgICBpZiAobGF5b3V0LmN1cnJlbnQgPT09IENhcmRMYXlvdXQuQVVUTykge1xuICAgICAgc2V0TGF5b3V0QXV0byhvcHRpb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldExheW91dEN1c3RvbShvcHRpb24pXG4gICAgfVxuICAgIHNldElzT3BlbihmYWxzZSlcbiAgICBvbGRMYXlvdXQuY3VycmVudCA9IGxheW91dC5jdXJyZW50XG4gIH1cblxuICBjb25zdCBoYW5kbGVMYXlvdXRDaGFuZ2UgPSAobmV3TGF5b3V0OiBDYXJkTGF5b3V0KSA9PiB7XG4gICAgaWYgKG9sZExheW91dC5jdXJyZW50ID09PSBuZXdMYXlvdXQpIHJldHVyblxuICAgIGlmIChuZXdMYXlvdXQgPT09IENhcmRMYXlvdXQuQVVUTykge1xuICAgICAgc2V0UmVtaW5kZXJUaXRsZShubHMoJ3JlbWluZEF1dG9MYXlvdXRUaXRsZScpKVxuICAgICAgc2V0UmVtaW5kZXJUZXh0KG5scygncmVtaW5kQXV0b0xheW91dFRleHQnKSlcbiAgICAgIHNldFJlbWluZGVyQm90dG9tVGV4dCgnJylcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UmVtaW5kZXJUaXRsZShubHMoJ3JlbWluZEN1c3RvbUxheW91dFRpdGxlJykpXG4gICAgICBzZXRSZW1pbmRlclRleHQobmxzKCdyZW1pbmRDdXN0b21MYXlvdXRUZXh0JykpXG4gICAgICBzZXRSZW1pbmRlckJvdHRvbVRleHQobmxzKCdyZW1pbmRDdXN0b21MYXlvdXRCb3R0b21UZXh0JykpXG4gICAgfVxuICAgIHNldElzT3Blbih0cnVlKVxuICAgIGxheW91dC5jdXJyZW50ID0gbmV3TGF5b3V0XG4gIH1cblxuICBjb25zdCByZW5kZXJSZW1pbmRNb2RlbCA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGlzT3Blbj17aXNPcGVufSB0b2dnbGU9e2hhbmRsZVRvZ2dsZX0gY2VudGVyZWQgY3NzPXtNb2RhbFN0eWxlfT5cbiAgICAgICAgPE1vZGFsSGVhZGVyIGNsb3NlSWNvbj17Jyd9IGNsYXNzTmFtZT0naGVhZGVyLWNvbic+XG4gICAgICAgICAgPFdhcm5pbmdPdXRsaW5lZCBjbGFzc05hbWU9J21yLTInIHNpemU9ezI0fS8+XG4gICAgICAgICAge3JlbWluZGVyVGl0bGV9XG4gICAgICAgIDwvTW9kYWxIZWFkZXI+XG4gICAgICAgIDxNb2RhbEJvZHk+XG4gICAgICAgICAgPGRpdj57cmVtaW5kZXJUZXh0fTwvZGl2PlxuICAgICAgICAgIHtyZW1pbmRlckJvdHRvbVRleHQgJiYgPGRpdiBjbGFzc05hbWU9J210LTUnPntyZW1pbmRlckJvdHRvbVRleHR9PC9kaXY+fVxuICAgICAgICA8L01vZGFsQm9keT5cbiAgICAgICAgPE1vZGFsRm9vdGVyPlxuICAgICAgICAgIDxCdXR0b24gdGl0bGU9e25scygnb2snKX0gdHlwZT0ncHJpbWFyeScgb25DbGljaz17aGFuZGxlQ29uZmlybX0+XG4gICAgICAgICAgICB7bmxzKCdvaycpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gdGl0bGU9e25scygnY2FuY2VsJyl9IG9uQ2xpY2s9eygpID0+IHsgc2V0SXNPcGVuKGZhbHNlKSB9fT57bmxzKCdjYW5jZWwnKX08L0J1dHRvbj5cbiAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cbiAgICAgIDwvTW9kYWw+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgbmxzID0gaG9va3MudXNlVHJhbnNsYXRpb24oamltdWlEZWZhdWx0TWVzc2FnZSwgamltdUNvcmVEZWZhdWx0TWVzc2FnZSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY3NzPXtTVFlMRX0gcm9sZT0nZ3JvdXAnIGFyaWEtbGFiZWw9e25scygnbGF5b3V0Jyl9PlxuICAgICAgPFNldHRpbmdTZWN0aW9uIGNsYXNzTmFtZT0nY2xlYXItcGFkZGluZycgdGl0bGU9e25scygnbGF5b3V0Jyl9PlxuICAgICAgICA8U2V0dGluZ1JvdyBmbG93PSd3cmFwJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcicgb25DbGljaz17KCkgPT4geyBoYW5kbGVMYXlvdXRDaGFuZ2UoQ2FyZExheW91dC5BVVRPKSB9fT5cbiAgICAgICAgICAgIDxSYWRpbyB0aXRsZT17bmxzKCdhdXRvJyl9IGNoZWNrZWQ9e2NhcmRMYXlvdXQgPT09IENhcmRMYXlvdXQuQVVUT30gY2xhc3NOYW1lPSdtci0yJy8+IHtubHMoJ2F1dG8nKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICA8U2V0dGluZ1Jvdz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcicgb25DbGljaz17KCkgPT4geyBoYW5kbGVMYXlvdXRDaGFuZ2UoQ2FyZExheW91dC5DVVNUT00pIH19PlxuICAgICAgICAgICAgPFJhZGlvIHRpdGxlPXtubHMoJ2N1c3RvbScpfSBjaGVja2VkPXtjYXJkTGF5b3V0ID09PSBDYXJkTGF5b3V0LkNVU1RPTSB8fCAhY2FyZExheW91dH0gY2xhc3NOYW1lPSdtci0yJy8+IHtubHMoJ2N1c3RvbScpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgIHtyZW5kZXJSZW1pbmRNb2RlbCgpfVxuICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9jYXJkLWxheW91dC1zZXR0aW5nJ1xuZXhwb3J0ICogZnJvbSAnLi90eXBlJ1xuZXhwb3J0ICogZnJvbSAnLi91dGlscydcbiIsImV4cG9ydCBlbnVtIENhcmRMYXlvdXQge1xuICBBVVRPID0gJ0F1dG8nLFxuICBDVVNUT00gPSAnQ3VzdG9tJ1xufVxuXG5leHBvcnQgZW51bSBTdGF0dXMge1xuICBEZWZhdWx0ID0gJ0RFRkFVTFQnLFxuICBTZWxlY3RlZCA9ICdTRUxFQ1RFRCcsXG4gIEhvdmVyID0gJ0hPVkVSJ1xufVxuIiwiaW1wb3J0IHsgdHlwZSBJTUFwcENvbmZpZywgZ2V0QXBwU3RvcmUsIExheW91dFBhcmVudFR5cGUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJ1xuaW1wb3J0IHsgdHlwZSBDYXJkTGF5b3V0LCB0eXBlIFN0YXR1cyB9IGZyb20gJy4vdHlwZSdcbmV4cG9ydCBpbnRlcmZhY2UgU3dpdGNoQ2FyZExheW91dE9wdGlvbiB7XG4gIGxheW91dDogQ2FyZExheW91dFxuICBjb25maWc6IGFueVxuICB3aWRnZXRJZDogc3RyaW5nXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWdcbiAgc3RhdHVzOiBTdGF0dXNcbiAgcmVndWxhckxheW91dElkPzogc3RyaW5nXG4gIGRlc0xheW91dElkPzogc3RyaW5nXG4gIGxhYmVsPzogc3RyaW5nXG4gIGlzQ2FyZFdpZGdldD86IGJvb2xlYW5cbn1cbmV4cG9ydCBjb25zdCBzZXRMYXlvdXRBdXRvID0gKG9wdGlvbjogU3dpdGNoQ2FyZExheW91dE9wdGlvbikgPT4ge1xuICBjb25zdCB7IGxheW91dCwgZGVzTGF5b3V0SWQsIGNvbmZpZywgd2lkZ2V0SWQsIHN0YXR1cywgaXNDYXJkV2lkZ2V0IH0gPSBvcHRpb25cbiAgY29uc3QgYWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKClcbiAgZGVzTGF5b3V0SWQgJiYgYWN0aW9uLnJlbW92ZUxheW91dChkZXNMYXlvdXRJZClcbiAgY29uc3QgbmV3Q29uZmlnID0gZ2V0TmV3V2lkZ2V0Q29uZmlnKGNvbmZpZywgaXNDYXJkV2lkZ2V0LCBsYXlvdXQsIHN0YXR1cylcbiAgYWN0aW9uLmVkaXRXaWRnZXRDb25maWcod2lkZ2V0SWQsIG5ld0NvbmZpZylcbiAgYWN0aW9uLmVkaXRXaWRnZXRQcm9wZXJ0eSh3aWRnZXRJZCwgYGxheW91dHMuJHtzdGF0dXN9YCwge30pXG4gIGFjdGlvbi5leGVjKClcbn1cblxuZXhwb3J0IGNvbnN0IHNldExheW91dEN1c3RvbSA9IChvcHRpb246IFN3aXRjaENhcmRMYXlvdXRPcHRpb24pID0+IHtcbiAgY29uc3QgeyBsYXlvdXQsIHJlZ3VsYXJMYXlvdXRJZCwgY29uZmlnLCB3aWRnZXRJZCwgYXBwQ29uZmlnLCBzdGF0dXMsIGxhYmVsLCBpc0NhcmRXaWRnZXQgfSA9IG9wdGlvblxuICBjb25zdCBicm93c2VyU2l6ZU1vZGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXIuYnJvd3NlclNpemVNb2RlXG4gIGNvbnN0IGFjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpXG5cbiAgY29uc3QgbmV3TGF5b3V0SnNvbiA9IGFjdGlvbi5kdXBsaWNhdGVMYXlvdXQocmVndWxhckxheW91dElkLCBmYWxzZSlcbiAgYWN0aW9uLmVkaXRMYXlvdXRQcm9wZXJ0eShuZXdMYXlvdXRKc29uLmlkLCAnbGFiZWwnLCBsYWJlbClcblxuICBjb25zdCBwcmVMYXlvdXRJZCA9IGFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXS5sYXlvdXRzW3N0YXR1c10/Llticm93c2VyU2l6ZU1vZGVdXG4gIHByZUxheW91dElkICYmIGFjdGlvbi5yZW1vdmVMYXlvdXQocHJlTGF5b3V0SWQpXG5cbiAgY29uc3QgbmV3Q29uZmlnID0gZ2V0TmV3V2lkZ2V0Q29uZmlnKGNvbmZpZywgaXNDYXJkV2lkZ2V0LCBsYXlvdXQsIHN0YXR1cylcbiAgYWN0aW9uLmVkaXRXaWRnZXRDb25maWcod2lkZ2V0SWQsIG5ld0NvbmZpZylcbiAgYWN0aW9uLmVkaXRXaWRnZXRQcm9wZXJ0eSh3aWRnZXRJZCwgYGxheW91dHMuJHtzdGF0dXN9LiR7YnJvd3NlclNpemVNb2RlfWAsIG5ld0xheW91dEpzb24uaWQpXG4gIGFjdGlvbi5lZGl0TGF5b3V0UHJvcGVydHkobmV3TGF5b3V0SnNvbi5pZCwgJ3BhcmVudCcsIHsgdHlwZTogTGF5b3V0UGFyZW50VHlwZS5XaWRnZXQsIGlkOiB3aWRnZXRJZCB9KVxuICBhY3Rpb24uZXhlYygpXG59XG5cbmZ1bmN0aW9uIGdldE5ld1dpZGdldENvbmZpZyAoY29uZmlnLCBpc0NhcmRXaWRnZXQ6IGJvb2xlYW4sIGxheW91dDogQ2FyZExheW91dCwgc3RhdHVzOiBTdGF0dXMpIHtcbiAgbGV0IG5ld0NvbmZpZyA9IGNvbmZpZ1xuICBpZiAoaXNDYXJkV2lkZ2V0KSB7XG4gICAgbmV3Q29uZmlnID0gY29uZmlnLnNldCgnY2FyZExheW91dCcsIGxheW91dClcbiAgfSBlbHNlIHtcbiAgICBuZXdDb25maWcgPSBjb25maWcuc2V0SW4oWydjYXJkQ29uZmlncycsIHN0YXR1cywgJ2xpc3RMYXlvdXQnXSwgbGF5b3V0KVxuICB9XG4gIHJldHVybiBuZXdDb25maWdcbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBsb2Rhc2gsXG4gIHR5cGUgSU1UaGVtZVZhcmlhYmxlc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBnZXRUaGVtZSwgZ2V0VGhlbWUyIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB0eXBlIHsgVGVtcGxhdGUgfSBmcm9tICdqaW11LWZvci1idWlsZGVyL3RlbXBsYXRlcydcbmltcG9ydCB7IFRlbXBsYXRlTGlzdCB9IGZyb20gJy4vdGVtcGxhdGUtbGlzdCdcbmltcG9ydCBQb3BwZXIgZnJvbSAnLi4vcGFnZS1hd2FyZS1wb3BwZXInXG5cbmNvbnN0IE1PRElGSUVSUyA9IFtcbiAge1xuICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFsdEF4aXM6IHRydWUsXG4gICAgICBib3VuZGFyaWVzRWxlbWVudDogJ3ZpZXdwb3J0JyxcbiAgICAgIHBhZGRpbmc6IHsgYm90dG9tOiAyMCB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogJ2ZsaXAnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogWydyaWdodCcsICdsZWZ0J11cbiAgICB9XG4gIH1cbl1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVNlbGVjdG9yUHJvcHMge1xuICB0aXRsZT86IHN0cmluZ1xuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgdGVtcGxhdGVDb250ZW50U3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gIHRlbXBsYXRlczogVGVtcGxhdGVbXVxuICByZWZlcmVuY2VFbGVtZW50OiBIVE1MRWxlbWVudFxuICBvbkl0ZW1TZWxlY3Q6IChpdGVtOiBUZW1wbGF0ZSkgPT4gdm9pZFxuICBvbkNsb3NlOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZVNlbGVjdG9yIChwcm9wczogVGVtcGxhdGVTZWxlY3RvclByb3BzKSB7XG4gIGNvbnN0IHsgdGl0bGUsIHRlbXBsYXRlcywgdGVtcGxhdGVDb250ZW50U3R5bGUsIHJlZmVyZW5jZUVsZW1lbnQsIG9uSXRlbVNlbGVjdCwgb25DbG9zZSB9ID0gcHJvcHNcbiAgY29uc3QgdGhlbWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocHJvcHMudGhlbWUpIHtcbiAgICAgIHJldHVybiBwcm9wcy50aGVtZVxuICAgIH1cbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIHJldHVybiBnZXRUaGVtZTIoKVxuICAgIH1cbiAgICByZXR1cm4gZ2V0VGhlbWUoKVxuICB9LCBbcHJvcHMudGhlbWVdKVxuXG4gIGNvbnN0IHN0eWxlID0gUmVhY3QudXNlTWVtbygoKSA9PiBjc3NgXG4gICAgbWluLXdpZHRoOiAzMDBweDtcbiAgICB3aWR0aDogYXV0bztcbiAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lID8gdGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNjAwXSA6ICd2YXIoLS1saWdodC02MDApJ307XG4gICAgYm94LXNoYWRvdzogMCA0cHggMjBweCA0cHggcmdiYSgwLDAsMCwwLjUwKTtcblxuICAgIC50ZW1wbGF0ZS1jb250ZW50IHtcbiAgICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xuICAgICAgaGVpZ2h0OiAke3RpdGxlID8gJ2NhbGMoMTAwJSAtIDUwcHgpJyA6ICcxMDAlJ307XG4gICAgICBvdmVyZmxvdzogYXV0bztcbiAgICB9XG5cbiAgICAuc2l6ZS1tb2RlLVNNQUxMICYgLnRlbXBsYXRlLWNvbnRlbnQge1xuICAgICAgd2lkdGg6IDMyMHB4O1xuICAgIH1cbiAgYCwgW3RoZW1lLCB0aXRsZV0pXG5cbiAgY29uc3QgdG9nZ2xlUG9wcGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uQ2xvc2U/LigpXG4gICAgaWYgKHR5cGVvZiByZWZlcmVuY2VFbGVtZW50Py5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbG9kYXNoLmRlZmVyKCgpID0+IHtcbiAgICAgICAgcmVmZXJlbmNlRWxlbWVudD8uZm9jdXMoKVxuICAgICAgfSlcbiAgICB9XG4gIH0sIFtvbkNsb3NlLCByZWZlcmVuY2VFbGVtZW50XSlcblxuICBjb25zdCBoYW5kbGVTZWxlY3QgPSBSZWFjdC51c2VDYWxsYmFjaygoaXRlbTogVGVtcGxhdGUpID0+IHtcbiAgICB0b2dnbGVQb3BwZXIoKVxuICAgIG9uSXRlbVNlbGVjdChpdGVtKVxuICB9LCBbdG9nZ2xlUG9wcGVyLCBvbkl0ZW1TZWxlY3RdKVxuXG4gIHJldHVybiAoXG4gICAgPFBvcHBlclxuICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICB0aGVtZT17dGhlbWV9XG4gICAgICBjc3M9e3N0eWxlfVxuICAgICAgcmVmZXJlbmNlPXtyZWZlcmVuY2VFbGVtZW50fVxuICAgICAgb2Zmc2V0PXtbMCwgMTBdfVxuICAgICAgdG9nZ2xlPXt0b2dnbGVQb3BwZXJ9XG4gICAgICBvcGVuXG4gICAgICBzaG93QXJyb3dcbiAgICAgIG1vZGlmaWVycz17TU9ESUZJRVJTfVxuICAgID5cbiAgICAgIHt0aXRsZSAmJiAoXG4gICAgICAgIDxoNSBjbGFzc05hbWU9J3RleHQtZGFyay02MDAgdGV4dC10cnVuY2F0ZSB0aXRsZSBweC01IHB0LTQgbWItMCc+XG4gICAgICAgICAge3RpdGxlfVxuICAgICAgICA8L2g1PlxuICAgICAgKX1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZW1wbGF0ZS1jb250ZW50JyBzdHlsZT17dGVtcGxhdGVDb250ZW50U3R5bGV9PlxuICAgICAgICA8VGVtcGxhdGVMaXN0IHRlbXBsYXRlcz17dGVtcGxhdGVzfSBvbkl0ZW1TZWxlY3Q9e2hhbmRsZVNlbGVjdH0vPlxuICAgICAgPC9kaXY+XG4gICAgPC9Qb3BwZXI+XG4gIClcbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGpzeCwgY2xhc3NOYW1lcywgZ2V0QXBwU3RvcmUsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB0eXBlIHsgVGVtcGxhdGUgfSBmcm9tICdqaW11LWZvci1idWlsZGVyL3RlbXBsYXRlcydcbmltcG9ydCB7IFRvb2x0aXAsIEJ1dHRvbiB9IGZyb20gJ2ppbXUtdWknXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHRlbXBsYXRlOiBUZW1wbGF0ZVxuICBvbkNsaWNrOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZUl0ZW0gKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IHRlbXBsYXRlLCBvbkNsaWNrIH0gPSBwcm9wc1xuICBjb25zdCBsb2NhbGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29udGV4dC5sb2NhbGVcbiAgY29uc3QgbGFiZWwgPSB0ZW1wbGF0ZS5pMThuTGFiZWw/Lltsb2NhbGVdID8/IHRlbXBsYXRlLmxhYmVsXG4gIGNvbnN0IGRlc2MgPSB0ZW1wbGF0ZS5pMThuRGVzY3JpcHRpb24/Lltsb2NhbGVdID8/IHRlbXBsYXRlLmRlc2NyaXB0aW9uXG4gIGNvbnN0IG11bHRpcGxlSWNvbiA9IHRlbXBsYXRlLmdpZlRodW1ibmFpbCAhPSBudWxsXG5cbiAgY29uc3QgZGVzY0lkID0gJ3RlbXBsYWdlX2Rlc2NfJyArIHRlbXBsYXRlLm5hbWVcblxuICBjb25zdCBzdHlsZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gY3NzYFxuICAgIHRyYW5zZm9ybTogJHtnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29udGV4dC5pc1JUTCAmJiB0ZW1wbGF0ZS5mbGlwVGh1bWJuYWlsID8gJ3NjYWxlWCgtMSk7JyA6ICcnfSAgO1xuICBgLCBbdGVtcGxhdGVdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2Jsb2NrLWl0ZW0nPlxuICAgICAgPFRvb2x0aXAgdGl0bGU9e2Rlc2N9PlxuICAgICAgICA8QnV0dG9uIHJvbGU9J29wdGlvbicgYXJpYS1sYWJlbD17bGFiZWx9IGFyaWEtZGVzY3JpYmVkYnk9e2Rlc2NJZH0gb25DbGljaz17b25DbGlja30gY2xhc3NOYW1lPSdibG9jay1pdGVtLS1pY29uIHAtMCc+XG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdkZWZhdWx0LWljb24nLCB7ICdtdWx0aXBsZS1pY29uJzogbXVsdGlwbGVJY29uIH0pfVxuICAgICAgICAgICAgY3NzPXtzdHlsZX1cbiAgICAgICAgICAgIHNyYz17dGVtcGxhdGUudGh1bWJuYWlsfVxuICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgIHdpZHRoPXt0ZW1wbGF0ZS50aHVtYm5haWxXaWR0aCAvIDJ9XG4gICAgICAgICAgICBoZWlnaHQ9e3RlbXBsYXRlLnRodW1ibmFpbEhlaWdodCAvIDJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7bXVsdGlwbGVJY29uICYmIChcbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdnaWYtaWNvbicsIHsgJ211bHRpcGxlLWljb24nOiBtdWx0aXBsZUljb24gfSl9XG4gICAgICAgICAgICAgIGNzcz17c3R5bGV9XG4gICAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgIHNyYz17dGVtcGxhdGUuZ2lmVGh1bWJuYWlsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvVG9vbHRpcD5cbiAgICAgIDxzcGFuIGFyaWEtaGlkZGVuIGNsYXNzTmFtZT0nYmxvY2staXRlbS1sYWJlbCB0ZXh0LWNlbnRlciBtdC0yJyBjc3M9e2Nzc2BtYXgtd2lkdGg6ICR7dGVtcGxhdGUudGh1bWJuYWlsV2lkdGggLyAyfXB4YH0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDxzcGFuIGFyaWEtaGlkZGVuIGNsYXNzTmFtZT0nc3Itb25seScgaWQ9e2Rlc2NJZH0+e2Rlc2N9PC9zcGFuPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIGNzc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBnZXRCdWlsZGVyVGhlbWVWYXJpYWJsZXMsIFRoZW1lMkdsb2JhbFN0eWxlQ2xhc3NOYW1lIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB0eXBlIHsgVGVtcGxhdGUgfSBmcm9tICdqaW11LWZvci1idWlsZGVyL3RlbXBsYXRlcydcbmltcG9ydCB7IFRlbXBsYXRlSXRlbSB9IGZyb20gJy4vdGVtcGxhdGUtaXRlbSdcblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZUxpc3RQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICB0ZW1wbGF0ZXM6IFRlbXBsYXRlW11cbiAgb25JdGVtU2VsZWN0OiAoaXRlbTogVGVtcGxhdGUpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGlzdCAocHJvcHM6IFRlbXBsYXRlTGlzdFByb3BzKSB7XG4gIGNvbnN0IHsgdGVtcGxhdGVzLCBvbkl0ZW1TZWxlY3QsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzXG4gIGNvbnN0IHRoZW1lID0gUmVhY3QudXNlTWVtbygoKSA9PiBnZXRCdWlsZGVyVGhlbWVWYXJpYWJsZXMoKSwgW10pXG5cbiAgY29uc3Qgc3R5bGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IGNzc2BcbiAgICB3aWR0aDogYXV0bztcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUgPyB0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFszMDBdIDogJ3ZhcigtLWxpZ2h0LTMwMCknfTtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICBncmlkLXJvdy1nYXA6IDEwcHg7XG4gICAgZ3JpZC1jb2x1bW4tZ2FwOiAxMHB4O1xuXG4gICAgLmJsb2NrLWl0ZW0ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgcGFkZGluZzogMDtcblxuICAgICAgLmppbXUtYnRuIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdW5zZXQgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmJsb2NrLWl0ZW0tLWljb24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lID8gdGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMjAwXSA6ICd2YXIoLS1saWdodC0yMDApJ307XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAgIC5kZWZhdWx0LWljb24ge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLmdpZi1pY29uIHtcbiAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5ibG9jay1pdGVtLS1pY29uOmhvdmVyIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkICR7dGhlbWUgPyB0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzYwMF0gOiAndmFyKC0tcHJpbWFyeS02MDApJ307XG4gICAgICAgIC5kZWZhdWx0LWljb24ubXVsdGlwbGUtaWNvbiB7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgfVxuICAgICAgICAuZ2lmLWljb24ge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmJsb2NrLWl0ZW0tbGFiZWwge1xuICAgICAgICBjb2xvcjogJHt0aGVtZSA/IHRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXSA6ICd2YXIoLS1kYXJrLTQwMCknfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuc2l6ZS1tb2RlLVNNQUxMICYgLmJsb2NrLWl0ZW0ge1xuICAgICAgd2lkdGg6IDE0MHB4O1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgIH1cbiAgYCwgW3RoZW1lXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXt3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciA/IFRoZW1lMkdsb2JhbFN0eWxlQ2xhc3NOYW1lIDogJyd9IGNzcz17c3R5bGV9IHsuLi5vdGhlclByb3BzfSByb2xlPSdsaXN0Ym94Jz5cbiAgICAgIHt0ZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT4gKFxuICAgICAgICA8VGVtcGxhdGVJdGVtIGtleT17dGVtcGxhdGUubmFtZX0gdGVtcGxhdGU9e3RlbXBsYXRlfSBvbkNsaWNrPXsoKSA9PiB7IG9uSXRlbVNlbGVjdCh0ZW1wbGF0ZSkgfX0vPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICB0eXBlIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICB0eXBlIElNVGhlbWVWYXJpYWJsZXMsXG4gIGluamVjdEludGwsXG4gIHR5cGUgSW50bFNoYXBlLFxuICBkZWZhdWx0TWVzc2FnZXMgYXMgamltdUNvcmVNZXNzYWdlc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIEJ1dHRvbiwgdHlwZSBQbGFjZW1lbnQsIGdldEZhbGxiYWNrUGxhY2VtZW50c01vZGlmaWVyIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBQb3BwZXIgZnJvbSAnLi4vcGFnZS1hd2FyZS1wb3BwZXInXG5pbXBvcnQgeyBDbG9zZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvY2xvc2UnXG5pbXBvcnQgeyB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHdpdGhUaGVtZTIgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgV2lkZ2V0TGlzdCB9IGZyb20gJy4vd2lkZ2V0LWxpc3QnXG5cbmNvbnN0IE1PRElGSUVSUyA9IFtcbiAgZ2V0RmFsbGJhY2tQbGFjZW1lbnRzTW9kaWZpZXIoWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXSwgdHJ1ZSksXG4gIHtcbiAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiAndmlld3BvcnQnLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBvcGVuOiBib29sZWFuXG4gIGdlbmVyYXRpb246IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpZGdldExpc3RQb3BwZXJQcm9wcyB7XG4gIHJlZmVyZW5jZUVsZW1lbnQ6IEhUTUxFbGVtZW50XG4gIGlzUGxhY2Vob2xkZXI/OiBib29sZWFuXG4gIGlzQWNjZXB0ZWQ6IChpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgaXNSZXBsYWNlUGxhY2Vob2xkZXI6IGJvb2xlYW4pID0+IGJvb2xlYW5cbiAgb25TZWxlY3Q6IChpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcykgPT4gdm9pZFxuICBvbkNsb3NlOiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB2b2lkXG4gIHBsYWNlbWVudD86IFBsYWNlbWVudFxuICBjc3M/OiBTZXJpYWxpemVkU3R5bGVzXG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcbiAgaW50bDogSW50bFNoYXBlXG59XG5cbmNsYXNzIF9XaWRnZXRMaXN0UG9wcGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxXaWRnZXRMaXN0UG9wcGVyUHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzOiBQYXJ0aWFsPFdpZGdldExpc3RQb3BwZXJQcm9wcz4gPSB7XG4gICAgaXNQbGFjZWhvbGRlcjogZmFsc2UsXG4gICAgaXNBY2NlcHRlZDogKCkgPT4gdHJ1ZVxuICB9XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IHRydWUsXG4gICAgICBnZW5lcmF0aW9uOiAwXG4gICAgfVxuICB9XG5cbiAgZ2V0U3R5bGUgKCkge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gY3NzYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG5cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgaGVpZ2h0OiA2MDBweDtcbiAgICAgICAgd2lkdGg6IDM4MHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuXG4gICAgICAudGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNjAwXX07XG4gICAgICB9XG5cbiAgICAgIC5weC0yMCB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLnB0LTIwIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgdG9nZ2xlUG9wcGVyID0gKGV2dD86IFJlYWN0Lk1vdXNlRXZlbnQ8YW55PikgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gJiYgdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xvc2UoZXZ0KVxuICAgIH1cbiAgfVxuXG4gIG9uV2lkZ2V0TG9hZGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBnZW5lcmF0aW9uOiB0aGlzLnN0YXRlLmdlbmVyYXRpb24gKyAxIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UG9wcGVyXG4gICAgICAgIHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICBwbGFjZW1lbnQ9e3RoaXMucHJvcHMucGxhY2VtZW50ID8/ICdib3R0b20nfVxuICAgICAgICB0b2dnbGU9e3RoaXMudG9nZ2xlUG9wcGVyfVxuICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cbiAgICAgICAgdmVyc2lvbj17dGhpcy5zdGF0ZS5nZW5lcmF0aW9ufVxuICAgICAgICBtb2RpZmllcnM9e01PRElGSUVSU31cbiAgICAgICAgcmVmZXJlbmNlPXt0aGlzLnByb3BzLnJlZmVyZW5jZUVsZW1lbnR9XG4gICAgICAgIG9wZW5cbiAgICAgICAgZm9yY2VMYXRlc3RGb2N1c0VsZW1lbnRzPXt0cnVlfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2hhZG93LWxnIGNvbnRlbnQnIGNzcz17dGhpcy5wcm9wcy5jc3N9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIHB4LTIwIHB0LTIwJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0aXRsZSc+e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGRXaWRnZXQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmFkZFdpZGdldCB9KX08L2Rpdj5cbiAgICAgICAgICAgIDxCdXR0b24gc2l6ZT0nc20nIGljb24gdHlwZT0ndGVydGlhcnknIG9uQ2xpY2s9e3RoaXMudG9nZ2xlUG9wcGVyfSB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nsb3NlJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlTWVzc2FnZXMuY2xvc2UgfSl9PlxuICAgICAgICAgICAgICA8Q2xvc2VPdXRsaW5lZCAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFdpZGdldExpc3RcbiAgICAgICAgICAgIGlzUGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaXNQbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIGlzQWNjZXB0ZWQ9e3RoaXMucHJvcHMuaXNBY2NlcHRlZH1cbiAgICAgICAgICAgIG9uU2VsZWN0PXt0aGlzLnByb3BzLm9uU2VsZWN0fVxuICAgICAgICAgICAgb25XaWRnZXRMb2FkZWQ9e3RoaXMub25XaWRnZXRMb2FkZWR9XG4gICAgICAgICAgICB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUG9wcGVyPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgV2lkZ2V0TGlzdFBvcHBlciA9IHdpdGhUaGVtZTIoaW5qZWN0SW50bDxudWxsLCBXaWRnZXRMaXN0UG9wcGVyUHJvcHM+KF9XaWRnZXRMaXN0UG9wcGVyKSlcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICB0eXBlIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICB0eXBlIElNVGhlbWVWYXJpYWJsZXMsXG4gIGluamVjdEludGwsXG4gIHR5cGUgSW50bFNoYXBlLFxuICBjYW5jZWxhYmxlUHJvbWlzZSxcbiAgbW9kdWxlTG9hZGVyLFxuICBkZWZhdWx0TWVzc2FnZXMgYXMgamltdUNvcmVNZXNzYWdlcyxcbiAgdHlwZSBVc2VyVHlwZUV4dGVuc2lvbixcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIGxvZGFzaFxufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMb2FkaW5nLCBJY29uLCBkZWZhdWx0TWVzc2FnZXMsIEJ1dHRvbiwgU2VsZWN0LCBMb2FkaW5nVHlwZSwgVGV4dElucHV0IH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IEFyY2dpc0VudGVycHJpc2VGaWxsZWQgfSBmcm9tICdqaW11LWljb25zL2ZpbGxlZC9icmFuZC9hcmNnaXMtZW50ZXJwcmlzZSdcbmltcG9ydCB7IFRoZW1lMkdsb2JhbFN0eWxlQ2xhc3NOYW1lIH0gZnJvbSAnamltdS10aGVtZSdcbmltcG9ydCB7IFNlYXJjaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoJ1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzZWxlY3RlZEdyb3VwOiBudW1iZXIgLy8gZ3JvdXAgaW4gTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNcbiAgY29tbW9uV2lkZ2V0TGlzdDogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXVxuICByZW1vdGVDdXN0b21XaWRnZXRMaXN0OiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wc1tdXG4gIHNlYXJjaFZhbHVlOiBzdHJpbmdcbiAgamltdUZvckJ1aWxkZXJVdGlsczogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2lkZ2V0TGlzdFByb3BzIHtcbiAgaXNQbGFjZWhvbGRlcj86IGJvb2xlYW5cbiAgaXNBY2NlcHRlZDogKGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBpc1JlcGxhY2VQbGFjZWhvbGRlcjogYm9vbGVhbikgPT4gYm9vbGVhblxuICBvblNlbGVjdDogKGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzKSA9PiB2b2lkXG4gIG9uV2lkZ2V0TG9hZGVkPzogKCkgPT4gdm9pZFxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5jb25zdCBBTExfR1JPVVBfVkFMVUUgPSAxMDAwXG5cbmludGVyZmFjZSBHcm91cEluZm8ge1xuICBsYWJlbDogc3RyaW5nXG4gIGdyb3VwSWQ6IG51bWJlclxuICBpdGVtTGlzdDogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXVxufVxuXG5jbGFzcyBfV2lkZ2V0TGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8V2lkZ2V0TGlzdFByb3BzICYgRXh0cmFQcm9wcywgU3RhdGU+IHtcbiAgc2VhcmNoSW5wdXRSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PlxuICBsb2FkQ29tbW9uV2lkZ2V0c1Byb21pc2U6IGNhbmNlbGFibGVQcm9taXNlLkNhbmNlbGFibGVQcm9taXNlPHZvaWQ+XG4gIGxvYWRSZW1vdGVDdXN0b21XaWRnZXRzUHJvbWlzZTogY2FuY2VsYWJsZVByb21pc2UuQ2FuY2VsYWJsZVByb21pc2U8dm9pZD5cbiAgbG9hZEppbXVGb3JCdWlsZGVyVXRpbHNQcm9taXNlOiBjYW5jZWxhYmxlUHJvbWlzZS5DYW5jZWxhYmxlUHJvbWlzZTx2b2lkPlxuICBzZWN0aW9uSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMgPSB7XG4gICAgaXRlbVR5cGU6IExheW91dEl0ZW1UeXBlLlNlY3Rpb24sXG4gICAgbGFiZWw6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlTWVzc2FnZXMuc2VjdGlvbiB9KSxcbiAgICB1cmk6ICcnLFxuICAgIG1hbmlmZXN0OiB7XG4gICAgICBwcm9wZXJ0aWVzOiB7fSBhcyBhbnksXG4gICAgICBkZWZhdWx0U2l6ZToge1xuICAgICAgICB3aWR0aDogNTAwLFxuICAgICAgICBoZWlnaHQ6IDUwMFxuICAgICAgfVxuICAgIH0sXG4gICAgaWNvbjogJy4uL2J1aWxkZXIvd2lkZ2V0cy9lbGVtZW50LXNlbGVjdG9yL2Rpc3QvcnVudGltZS9hc3NldHMvc2VjdGlvbi5zdmcnLFxuICAgIG5hbWU6ICdzZWN0aW9uJyxcbiAgICBncm91cDogOSxcbiAgICBvcmRlcjogOTAwXG4gIH1cblxuICBncm91cExhYmVsTWFwID0ge1xuICAgIDE6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdtYXBDZW50cmljJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5tYXBDZW50cmljIH0pLFxuICAgIDI6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkYXRhQ2VudHJpYycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZGF0YUNlbnRyaWMgfSksXG4gICAgMzogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3BhZ2VFbGVtZW50cycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucGFnZUVsZW1lbnRzIH0pLFxuICAgIDQ6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdtZW51QW5kVG9sbGJhcnMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm1lbnVBbmRUb2xsYmFycyB9KSxcbiAgICA4OiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbGF5b3V0JywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlTWVzc2FnZXMubGF5b3V0IH0pLFxuICAgIDk6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlTWVzc2FnZXMuc2VjdGlvbiB9KVxuICB9XG5cbiAgYWxsR3JvdXAgPSB7XG4gICAgdmFsdWU6IEFMTF9HUk9VUF9WQUxVRSxcbiAgICBsYWJlbDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FsbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuYWxsIH0pXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzOiBQYXJ0aWFsPFdpZGdldExpc3RQcm9wcz4gPSB7XG4gICAgaXNQbGFjZWhvbGRlcjogZmFsc2UsXG4gICAgaXNBY2NlcHRlZDogKCkgPT4gdHJ1ZVxuICB9XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkR3JvdXA6IEFMTF9HUk9VUF9WQUxVRSxcbiAgICAgIGNvbW1vbldpZGdldExpc3Q6IG51bGwsXG4gICAgICByZW1vdGVDdXN0b21XaWRnZXRMaXN0OiBudWxsLFxuICAgICAgc2VhcmNoVmFsdWU6ICcnLFxuICAgICAgamltdUZvckJ1aWxkZXJVdGlsczogbnVsbFxuICAgIH1cbiAgICB0aGlzLnNlYXJjaElucHV0UmVmID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLmxvYWRKaW11Rm9yQnVpbGRlclV0aWxzUHJvbWlzZSA9IGNhbmNlbGFibGVQcm9taXNlLmNhbmNlbGFibGUobW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtZm9yLWJ1aWxkZXInKS50aGVuKEppbXVGb3JCdWlsZGVyID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBqaW11Rm9yQnVpbGRlclV0aWxzOiBKaW11Rm9yQnVpbGRlcj8udXRpbHMgfSlcbiAgICAgIHRoaXMuZ3JvdXBMYWJlbE1hcFtKaW11Rm9yQnVpbGRlcj8udXRpbHM/LkNVU1RPTV9HUk9VUF0gPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY3VzdG9tJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jdXN0b20gfSlcbiAgICB9KSlcbiAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKClcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFdpZGdldExpc3RQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IHZvaWQge1xuICAgIGlmICghcHJldlN0YXRlLmppbXVGb3JCdWlsZGVyVXRpbHMgJiYgdGhpcy5zdGF0ZS5qaW11Rm9yQnVpbGRlclV0aWxzKSB7XG4gICAgICB0aGlzLmxvYWRDb21tb25XaWRnZXRMaXN0KHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscy5mZXRjaENvbW1vbldpZGdldExpc3QpXG4gICAgICB0aGlzLmxvYWRDdXN0b21XaWRnZXRMaXN0KHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscy5mZXRjaFJlbW90ZUN1c3RvbVdpZGdldExpc3QpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMubG9hZEppbXVGb3JCdWlsZGVyVXRpbHNQcm9taXNlPy5jYW5jZWwoKVxuICAgIHRoaXMubG9hZENvbW1vbldpZGdldHNQcm9taXNlPy5jYW5jZWwoKVxuICAgIHRoaXMubG9hZENvbW1vbldpZGdldHNQcm9taXNlPy5jYW5jZWwoKVxuICB9XG5cbiAgcHJpdmF0ZSBsb2FkQ29tbW9uV2lkZ2V0TGlzdCAoZmV0Y2hDb21tb25XaWRnZXRMaXN0OiAoKSA9PiBQcm9taXNlPExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzW10+KSB7XG4gICAgaWYgKCFmZXRjaENvbW1vbldpZGdldExpc3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmxvYWRDb21tb25XaWRnZXRzUHJvbWlzZSA9IGNhbmNlbGFibGVQcm9taXNlLmNhbmNlbGFibGUoZmV0Y2hDb21tb25XaWRnZXRMaXN0KCkudGhlbigoaXRlbXM6IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzW10pID0+IHtcbiAgICAgIGNvbnN0IG5vdExheW91dFdpZGdldExpc3QgPSBpdGVtcz8uZmlsdGVyKGl0ZW0gPT4gdGhpcy5wcm9wcy5pc0FjY2VwdGVkKGl0ZW0sIHRoaXMucHJvcHMuaXNQbGFjZWhvbGRlcikpXG4gICAgICB0aGlzLnByb3BzLm9uV2lkZ2V0TG9hZGVkPy4oKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbW1vbldpZGdldExpc3Q6IG5vdExheW91dFdpZGdldExpc3RcbiAgICAgIH0pXG4gICAgfSkpXG4gIH1cblxuICBwcml2YXRlIGxvYWRDdXN0b21XaWRnZXRMaXN0IChmZXRjaFJlbW90ZUN1c3RvbVdpZGdldExpc3Q6ICgpID0+IFByb21pc2U8TGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXT4pIHtcbiAgICBpZiAoIWZldGNoUmVtb3RlQ3VzdG9tV2lkZ2V0TGlzdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMubG9hZFJlbW90ZUN1c3RvbVdpZGdldHNQcm9taXNlID0gY2FuY2VsYWJsZVByb21pc2UuY2FuY2VsYWJsZShmZXRjaFJlbW90ZUN1c3RvbVdpZGdldExpc3QoKS50aGVuKChpdGVtczogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXSkgPT4ge1xuICAgICAgY29uc3QgbGlzdCA9IGl0ZW1zPy5maWx0ZXIoaXRlbSA9PiB0aGlzLnByb3BzLmlzQWNjZXB0ZWQoaXRlbSwgdGhpcy5wcm9wcy5pc1BsYWNlaG9sZGVyKSlcbiAgICAgIHRoaXMucHJvcHMub25XaWRnZXRMb2FkZWQ/LigpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcmVtb3RlQ3VzdG9tV2lkZ2V0TGlzdDogbGlzdFxuICAgICAgfSlcbiAgICB9KSlcbiAgfVxuXG4gIGdldFJlcXVpcmVFbnRlcnByaXNlSWNvblRvb2x0aXAgPSAocmVxdWlyZWRVc2VyVHlwZUV4dGVuc2lvbnM6IFVzZXJUeXBlRXh0ZW5zaW9uW10pID0+IHtcbiAgICBpZiAocmVxdWlyZWRVc2VyVHlwZUV4dGVuc2lvbnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHVzZXJUeXBlRXh0ZW5zaW9ucyA9IHJlcXVpcmVkVXNlclR5cGVFeHRlbnNpb25zLmpvaW4oJywgJylcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVxdWlyZUVudGVycHJpc2VBbmRVc2VyVHlwZUV4dGVuc2lvbnMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlcXVpcmVFbnRlcnByaXNlQW5kVXNlclR5cGVFeHRlbnNpb25zIH0sIHsgdXNlclR5cGVFeHRlbnNpb25zIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVxdWlyZUVudGVycHJpc2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlcXVpcmVFbnRlcnByaXNlIH0pXG4gICAgfVxuICB9XG5cbiAgV2lkZ2V0Q2FyZCA9ICh7IHdpZGdldEluZm8gfTogeyB3aWRnZXRJbmZvOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyB9KSA9PiB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtc3RhcnQganVzdGlmeS1jb250ZW50LWNlbnRlciB3aWRnZXQtY2FyZCc+XG4gICAgICB7d2lkZ2V0SW5mby5tYW5pZmVzdD8ucmVxdWlyZUVudGVycHJpc2UgJiYgPEJ1dHRvbiB0aXRsZT17dGhpcy5nZXRSZXF1aXJlRW50ZXJwcmlzZUljb25Ub29sdGlwKHdpZGdldEluZm8ubWFuaWZlc3Q/LnJlcXVpcmVkVXNlclR5cGVFeHRlbnNpb25zKX0gdHlwZT0ndGVydGlhcnknIGNsYXNzTmFtZT0nd2lkZ2V0LWVudGVycHJpc2UtYnRuJyBpY29uIHNpemU9J3NtJz48QXJjZ2lzRW50ZXJwcmlzZUZpbGxlZCAvPjwvQnV0dG9uPn1cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBwLTAnXG4gICAgICAgIGtleT17d2lkZ2V0SW5mby5uYW1lfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMucHJvcHMub25TZWxlY3Qod2lkZ2V0SW5mbykgfX1cbiAgICAgICAgYXJpYS1sYWJlbD17d2lkZ2V0SW5mby5sYWJlbH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBmbGV4LWNvbHVtbiB3LTEwMCBoLTEwMCB3aWRnZXQtY2FyZC0tY29udGVudCc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtY2FyZC1pbWFnZSc+XG4gICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgc2l6ZT17MjB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LTEwMCBtLTAnXG4gICAgICAgICAgICAgICAgYXV0b0ZsaXA9e3dpZGdldEluZm8ubWFuaWZlc3Q/LnByb3BlcnRpZXM/LmZsaXBJY29ufVxuICAgICAgICAgICAgICAgIGljb249e3R5cGVvZiB3aWRnZXRJbmZvLmljb24gPT09ICdzdHJpbmcnID8gd2lkZ2V0SW5mby5pY29uIDogd2lkZ2V0SW5mby5pY29uICYmIHdpZGdldEluZm8uaWNvbi5zdmd9XG4gICAgICAgICAgICAgICAgY29sb3I9e3RoaXMucHJvcHMudGhlbWUuY29sb3JzLmRhcmt9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nd2lkZ2V0LWNhcmQtbmFtZSB3LTEwMCB0ZXh0LWNlbnRlciB0ZXh0LWNhcGl0YWxpemUgdGV4dC10cnVuY2F0ZSdcbiAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDFyZW07XG4gICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMi4ycmVtO1xuICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIHRpdGxlPXt3aWRnZXRJbmZvLmxhYmVsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7d2lkZ2V0SW5mby5sYWJlbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuICB9XG5cbiAgV2lkZ2V0R3JvdXAgPSAoeyBncm91cCB9OiB7IGdyb3VwOiBHcm91cEluZm8gfSkgPT4ge1xuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IFdpZGdldENhcmQgPSB0aGlzLldpZGdldENhcmRcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3dpZGdldC1ncm91cCB3LTEwMCBtYi00Jz5cbiAgICAgIDxoNCBjbGFzc05hbWU9J2dyb3VwLWxhYmVsIHctMTAwIHRleHQtYnJlYWsnIHRpdGxlPXtncm91cC5sYWJlbH0+XG4gICAgICAgIHtncm91cC5sYWJlbH1cbiAgICAgIDwvaDQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY2FyZC1ncmlkIG0tMCc+XG4gICAgICB7XG4gICAgICAgIGdyb3VwLml0ZW1MaXN0LnNvcnQoKGkxLCBpMikgPT4gaTEub3JkZXIgLSBpMi5vcmRlcikubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtY2FyZCcgc3R5bGU9e3sgdmlzaWJpbGl0eTogJ2hpZGRlbicgfX0ga2V5PXtpbmRleH0gLz5cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIDxXaWRnZXRDYXJkIHdpZGdldEluZm89e2l0ZW19IGtleT17aW5kZXh9IC8+XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG5cbiAgICAgIC53aWRnZXQtZW50ZXJwcmlzZS1idG4ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgIH1cblxuICAgICAgLnB4LTIwIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxOHB4O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xuICAgICAgfVxuXG4gICAgICAucHQtMjAge1xuICAgICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLmxpc3QtY29udGFpbmVyIHtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxNTBweCk7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuZ3JvdXBzIHtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgfVxuXG4gICAgICAuZ3JvdXAtc2VsZWN0IHtcbiAgICAgICAgd2lkdGg6IDIxMHB4O1xuICAgICAgfVxuXG4gICAgICAud2lkZ2V0LWdyb3VwIHtcbiAgICAgICAgLmdyb3VwLWxhYmVse1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmNhcmQtZ3JpZCB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIG1pbm1heCgwLCAxZnIpKTtcbiAgICAgICAgZ3JpZC1yb3ctZ2FwOiAwLjVyZW07XG4gICAgICAgIGdyaWQtY29sdW1uLWdhcDogMC41cmVtO1xuICAgICAgfVxuXG4gICAgICAud2lkZ2V0LWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICAgIHdpZHRoOiAxMDhweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgLndpZGdldC1jYXJkLS1jb250ZW50IHtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogMTJweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs1MDBdfTtcbiAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNjAwXX07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLndpZGdldC1jYXJkLWltYWdlIHtcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLndpZGdldC1jYXJkLW5hbWUge1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxcmVtO1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDJyZW07XG4gICAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMuZGFya307XG4gICAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIGdldEdyb3VwTGlzdCA9IChjb21tb25XaWRnZXRMaXN0OiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wc1tdLCBjdXN0b21XaWRnZXRMaXN0OiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wc1tdLCBzZWFyY2hWYWx1ZTogc3RyaW5nKTogQXJyYXk8eyB2YWx1ZTogbnVtYmVyLCBsYWJlbDogc3RyaW5nIH0+ID0+IHtcbiAgICBjb25zdCBncm91cHM6IEFycmF5PHsgdmFsdWU6IG51bWJlciwgbGFiZWw6IHN0cmluZyB9PiA9IFt0aGlzLmFsbEdyb3VwXVxuXG4gICAgY29uc3Qgc2hvd0NvbW1vbkdyb3VwcyA9ICEhY29tbW9uV2lkZ2V0TGlzdFxuICAgIGlmIChzaG93Q29tbW9uR3JvdXBzKSB7XG4gICAgICBjb25zdCBjb21tb25Hcm91cHM6IHsgW2dyb3VwSWQ6IG51bWJlcl06IEdyb3VwSW5mbyB9ID0gdGhpcy5nZXRDb21tb25Hcm91cHMoY29tbW9uV2lkZ2V0TGlzdCwgQUxMX0dST1VQX1ZBTFVFLCBzZWFyY2hWYWx1ZSlcbiAgICAgIGNvbW1vbkdyb3VwcyAmJiBPYmplY3QudmFsdWVzKGNvbW1vbkdyb3VwcykuZm9yRWFjaChnID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBnLmdyb3VwSWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgZ3JvdXBzLnB1c2goeyB2YWx1ZTogZy5ncm91cElkLCBsYWJlbDogdGhpcy5nZXRHcm91cExhYmVsKGcuZ3JvdXBJZCkgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBzaG93Q3VzdG9tR3JvdXAgPSB0aGlzLnN0YXRlLmppbXVGb3JCdWlsZGVyVXRpbHM/LnNob3dDdXN0b21XaWRnZXRzPy4oY29tbW9uV2lkZ2V0TGlzdClcbiAgICBpZiAoc2hvd0N1c3RvbUdyb3VwKSB7XG4gICAgICBjb25zdCBjdXN0b21Hcm91cDogR3JvdXBJbmZvID0gdGhpcy5nZXRDdXN0b21Hcm91cChjb21tb25XaWRnZXRMaXN0LCBjdXN0b21XaWRnZXRMaXN0LCBBTExfR1JPVVBfVkFMVUUsIHNlYXJjaFZhbHVlKVxuICAgICAgY3VzdG9tR3JvdXAgJiYgZ3JvdXBzLnB1c2goeyB2YWx1ZTogdGhpcy5zdGF0ZS5qaW11Rm9yQnVpbGRlclV0aWxzPy5DVVNUT01fR1JPVVAsIGxhYmVsOiB0aGlzLmdldEdyb3VwTGFiZWwodGhpcy5zdGF0ZS5qaW11Rm9yQnVpbGRlclV0aWxzPy5DVVNUT01fR1JPVVApIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwcy5maWx0ZXIoZyA9PiAhIWcubGFiZWwpXG4gIH1cblxuICBjaGFuZ2VTZWxlY3RlZEdyb3VwID0gZSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkR3JvdXA6IGUudGFyZ2V0LnZhbHVlIH0pXG4gIH1cblxuICBnZXRHcm91cExhYmVsIChncm91cElkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdyb3VwTGFiZWxNYXBbZ3JvdXBJZF1cbiAgfVxuXG4gIGdldENvbW1vbkdyb3VwcyAoY29tbW9uV2lkZ2V0TGlzdDogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXSwgc2VsZWN0ZWRHcm91cDogbnVtYmVyLCBzZWFyY2hWYWx1ZTogc3RyaW5nKTogeyBbZ3JvdXBJZDogbnVtYmVyXTogR3JvdXBJbmZvIH0ge1xuICAgIGNvbnN0IGxpc3QgPSBzZWxlY3RlZEdyb3VwID09PSBBTExfR1JPVVBfVkFMVUUgPyBjb21tb25XaWRnZXRMaXN0IDogY29tbW9uV2lkZ2V0TGlzdD8uZmlsdGVyKHcgPT4gdy5ncm91cCA9PT0gc2VsZWN0ZWRHcm91cClcbiAgICBjb25zdCBncm91cHM6IHsgW2dyb3VwSWQ6IG51bWJlcl06IEdyb3VwSW5mbyB9ID0ge31cbiAgICBsaXN0Py5mb3JFYWNoKHcgPT4ge1xuICAgICAgaWYgKHcuZ3JvdXAgPT09IHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscz8uQ1VTVE9NX0dST1VQKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNGdXp6eVNlYXJjaCh3LmxhYmVsLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgICAgaWYgKCFncm91cHNbdy5ncm91cF0pIHtcbiAgICAgICAgICBncm91cHNbdy5ncm91cF0gPSB7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5nZXRHcm91cExhYmVsKHcuZ3JvdXApLFxuICAgICAgICAgICAgZ3JvdXBJZDogdy5ncm91cCxcbiAgICAgICAgICAgIGl0ZW1MaXN0OiBbXSBhcyBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wc1tdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdyb3Vwc1t3Lmdyb3VwXS5pdGVtTGlzdC5wdXNoKHcpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZ3JvdXBzXG4gIH1cblxuICBnZXRDdXN0b21Hcm91cCAoY29tbW9uV2lkZ2V0TGlzdDogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXSwgY3VzdG9tV2lkZ2V0TGlzdDogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHNbXSwgc2VsZWN0ZWRHcm91cDogbnVtYmVyLCBzZWFyY2hWYWx1ZTogc3RyaW5nKTogR3JvdXBJbmZvIHtcbiAgICBpZiAoc2VsZWN0ZWRHcm91cCA9PT0gQUxMX0dST1VQX1ZBTFVFIHx8IHNlbGVjdGVkR3JvdXAgPT09IHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscz8uQ1VTVE9NX0dST1VQKSB7XG4gICAgICBjb25zdCBpdGVtTGlzdCA9IChjdXN0b21XaWRnZXRMaXN0IHx8IFtdKS5jb25jYXQoKGNvbW1vbldpZGdldExpc3Q/LmZpbHRlcih3ID0+IHcuZ3JvdXAgPT09IHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscz8uQ1VTVE9NX0dST1VQKSB8fCBbXSkpLmZpbHRlcih3ID0+IHRoaXMuaXNGdXp6eVNlYXJjaCh3LmxhYmVsLCBzZWFyY2hWYWx1ZSkpXG4gICAgICAvLyBIaWRlIGdyb3VwIHdoaWNoIGl0ZW1zIGFyZSBlbXB0eSB3aGVuIHNlYXJjaGluZy5cbiAgICAgIGlmICghc2VhcmNoVmFsdWUgfHwgaXRlbUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmdldEdyb3VwTGFiZWwodGhpcy5zdGF0ZS5qaW11Rm9yQnVpbGRlclV0aWxzPy5DVVNUT01fR1JPVVApLFxuICAgICAgICAgIGdyb3VwSWQ6IHRoaXMuc3RhdGUuamltdUZvckJ1aWxkZXJVdGlscz8uQ1VTVE9NX0dST1VQLFxuICAgICAgICAgIGl0ZW1MaXN0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGlzRnV6enlTZWFyY2ggKGxhYmVsOiBzdHJpbmcsIHNlYXJjaFZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAoIWxhYmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGxhYmVsLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKSlcbiAgfVxuXG4gIG9uU2VhcmNoVmFsdWVDaGFuZ2UgPSBlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlYXJjaFZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgIHNlbGVjdGVkR3JvdXA6IEFMTF9HUk9VUF9WQUxVRSAvLyBpZiBpcyBzZWFyY2hpbmcsIHdpbGwgcmVzZXQgdGhlIHNlbGVjdGVkIGdyb3VwIHRvIGFsbFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IFdpZGdldEdyb3VwID0gdGhpcy5XaWRnZXRHcm91cFxuICAgIGNvbnN0IHsgY29tbW9uV2lkZ2V0TGlzdCwgcmVtb3RlQ3VzdG9tV2lkZ2V0TGlzdDogY3VzdG9tV2lkZ2V0TGlzdCwgc2VsZWN0ZWRHcm91cCwgc2VhcmNoVmFsdWUgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBzaG93Q29tbW9uR3JvdXBzID0gISFjb21tb25XaWRnZXRMaXN0XG4gICAgbGV0IGNvbW1vbldpZGdldHNUb1Nob3cgPSBjb21tb25XaWRnZXRMaXN0XG4gICAgaWYgKHNob3dDb21tb25Hcm91cHMgJiYgdGhpcy5wcm9wcy5pc0FjY2VwdGVkKHRoaXMuc2VjdGlvbkl0ZW0sIHRoaXMucHJvcHMuaXNQbGFjZWhvbGRlcikpIHtcbiAgICAgIGNvbW1vbldpZGdldHNUb1Nob3cgPSBjb21tb25XaWRnZXRMaXN0LmNvbmNhdChbdGhpcy5zZWN0aW9uSXRlbV0pXG4gICAgfVxuICAgIGNvbnN0IGNvbW1vbkdyb3VwcyA9IHNob3dDb21tb25Hcm91cHMgJiYgdGhpcy5nZXRDb21tb25Hcm91cHMoY29tbW9uV2lkZ2V0c1RvU2hvdywgc2VsZWN0ZWRHcm91cCwgc2VhcmNoVmFsdWUpXG4gICAgY29uc3Qgc2hvd0N1c3RvbUdyb3VwID0gdGhpcy5zdGF0ZS5qaW11Rm9yQnVpbGRlclV0aWxzPy5zaG93Q3VzdG9tV2lkZ2V0cz8uKGNvbW1vbldpZGdldHNUb1Nob3cpXG4gICAgY29uc3QgY3VzdG9tR3JvdXAgPSBzaG93Q3VzdG9tR3JvdXAgJiYgdGhpcy5nZXRDdXN0b21Hcm91cChjb21tb25XaWRnZXRzVG9TaG93LCBjdXN0b21XaWRnZXRMaXN0LCBzZWxlY3RlZEdyb3VwLCBzZWFyY2hWYWx1ZSlcbiAgICBjb25zdCBncm91cExpc3QgPSB0aGlzLmdldEdyb3VwTGlzdChjb21tb25XaWRnZXRzVG9TaG93LCBjdXN0b21XaWRnZXRMaXN0LCBzZWFyY2hWYWx1ZSlcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGNvbnRlbnQgbXQtNCAke3dpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyID8gVGhlbWUyR2xvYmFsU3R5bGVDbGFzc05hbWUgOiAnJ31gfSBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTQgcHgtMjAnPlxuICAgICAgICAgIDxUZXh0SW5wdXRcbiAgICAgICAgICAgIHJlZj17dGhpcy5zZWFyY2hJbnB1dFJlZn1cbiAgICAgICAgICAgIHByZWZpeD17PFNlYXJjaE91dGxpbmVkIHNpemU9ezE2fSBjb2xvcj17dGhpcy5wcm9wcy50aGVtZT8uY29sb3JzPy5wYWxldHRlPy5kYXJrPy5bMjAwXX0vPn1cbiAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hWYWx1ZX0gb25DaGFuZ2U9e3RoaXMub25TZWFyY2hWYWx1ZUNoYW5nZX0gY2xhc3NOYW1lPSd3LTEwMCcgc2l6ZT0nc20nXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlYXJjaCcsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLnNlYXJjaCB9KX0gYWxsb3dDbGVhclxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBtYi00IHB4LTIwJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JvdXBzJz57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NhdGVnb3J5JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jYXRlZ29yeSB9KX08L2Rpdj5cbiAgICAgICAgICA8U2VsZWN0IGNsYXNzTmFtZT0nZ3JvdXAtc2VsZWN0JyBzaXplPSdzbScgdmFsdWU9e3NlbGVjdGVkR3JvdXB9IG9uQ2hhbmdlPXt0aGlzLmNoYW5nZVNlbGVjdGVkR3JvdXB9PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGdyb3VwTGlzdC5tYXAoKGcsIGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtnLnZhbHVlfSBrZXk9e2l9IHNlbGVjdGVkPXtnLnZhbHVlID09PSBzZWxlY3RlZEdyb3VwfT5cbiAgICAgICAgICAgICAgICAgIHtnLmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBsaXN0LWNvbnRhaW5lciBweC0yMCc+XG4gICAgICAgICAgeyFjb21tb25XaWRnZXRMaXN0ICYmIDxMb2FkaW5nIHR5cGU9e0xvYWRpbmdUeXBlLlNlY29uZGFyeX0gLz59XG4gICAgICAgICAge1xuICAgICAgICAgICAgc2hvd0NvbW1vbkdyb3VwcyAmJiBPYmplY3QudmFsdWVzKGNvbW1vbkdyb3Vwcykuc29ydCgoZzEsIGcyKSA9PiBnMS5ncm91cElkIC0gZzIuZ3JvdXBJZCkubWFwKChnLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8V2lkZ2V0R3JvdXAga2V5PXtpfSBncm91cD17Z30gLz5cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNob3dDdXN0b21Hcm91cCAmJiA8V2lkZ2V0R3JvdXAgZ3JvdXA9e2N1c3RvbUdyb3VwfSAvPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFdpZGdldExpc3QgPSBpbmplY3RJbnRsPG51bGwsIFdpZGdldExpc3RQcm9wcz4oX1dpZGdldExpc3QpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzLCB1cmxVdGlscywganN4IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5pbXBvcnQgeyBDYXJkLCBDYXJkSW1nLCBDYXJkQm9keSwgTW9kYWwsIE1vZGFsSGVhZGVyLCBNb2RhbEJvZHksIE1vZGFsRm9vdGVyLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJ1xuXG5pbnRlcmZhY2UgQ2FyZEltYWdlIHtcbiAgc3JjOiBzdHJpbmdcbiAgYWx0Pzogc3RyaW5nXG59XG5leHBvcnQgaW50ZXJmYWNlIFdpZGdldENhcmRUeXBlIHtcbiAgdGl0bGU6IHN0cmluZ1xuICB1cmk6IHN0cmluZ1xuICBpbWFnZTogQ2FyZEltYWdlXG59XG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aXRsZT86IHN0cmluZ1xuICBvbkNoYW5nZT86IChsaXN0SXRlbSkgPT4gdm9pZFxuICBvbk9LOiAod2lkZ2V0TmFtZTogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZFxuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGN1cnJlbnRXaWRnZXQ6IHN0cmluZ1xuICBsaXN0SW5mbzogV2lkZ2V0Q2FyZFR5cGVbXVxufVxuaW50ZXJmYWNlIFByZWxvYWRQcm9wcyB7XG4gIGxpc3RJbmZvOiBXaWRnZXRDYXJkVHlwZVtdXG59XG5cbmNsYXNzIF9XaWRnZXRTZWxlY3RvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50V2lkZ2V0OiBudWxsLFxuICAgICAgbGlzdEluZm86IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuZ2V0TGlzdEluZm8oKS50aGVuKHJlcyA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbGlzdEluZm86IHJlcy5saXN0SW5mb1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0TGlzdEluZm8gKCk6IFByb21pc2U8UHJlbG9hZFByb3BzPiB7XG4gICAgcmV0dXJuIGF3YWl0IGZldGNoKGAke3VybFV0aWxzLmdldEFic29sdXRlUm9vdFVybCgpfXdpZGdldHMvd2lkZ2V0cy1pbmZvLmpzb25gKVxuICAgICAgLnRoZW4oYXN5bmMgcmVzID0+IGF3YWl0IHJlcy5qc29uKCkpLnRoZW4oKHdpZGdldEluZm86IGFueVtdKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RJbmZvID0gd2lkZ2V0SW5mby5tYXAodiA9PiB7XG4gICAgICAgICAgY29uc3QgdGVtcEluZm86IFdpZGdldENhcmRUeXBlID0ge1xuICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgIHNyYzogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0ZW1wSW5mby50aXRsZSA9IHYubGFiZWxcbiAgICAgICAgICB0ZW1wSW5mby51cmkgPSB2LnBhdGhcbiAgICAgICAgICB0ZW1wSW5mby5pbWFnZS5zcmMgPSAnLi4vJyArIHYuaWNvblxuXG4gICAgICAgICAgcmV0dXJuIHRlbXBJbmZvXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiB7IGxpc3RJbmZvIH1cbiAgICAgIH0pXG4gIH1cblxuICBvblNlbGVjdFdpZGdldCA9ICh3aWRnZXRVcmk6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50V2lkZ2V0OiB3aWRnZXRVcmkgfSlcbiAgfVxuXG4gIGdldExpc3RJdGVtSlNYID0gKGl0ZW06IFdpZGdldENhcmRUeXBlKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXJkXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnd2lkZ2V0LWNhcmQtaXRlbScsIHtcbiAgICAgICAgICAnd2lkZ2V0LWNhcmQtc2VsZWN0ZWQnOlxuICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50V2lkZ2V0ICYmIHRoaXMuc3RhdGUuY3VycmVudFdpZGdldC5pbmRleE9mKGl0ZW0udXJpKSA9PT0gMFxuICAgICAgICB9KX0ga2V5PXtpdGVtLnRpdGxlfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25TZWxlY3RXaWRnZXQoaXRlbS51cmkpIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtY2FyZC1pbWFnZSBiZy1saWdodC0zMDAnPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8Q2FyZEltZyB0b3Agd2lkdGg9JzEwMCUnIHNyYz17aXRlbS5pbWFnZS5zcmN9IGFsdD17aXRlbS5pbWFnZS5hbHR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Q2FyZEJvZHkgY2xhc3NOYW1lPSd3aWRnZXQtY2FyZC1jb250ZW50Jz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtY2FwaXRhbGl6ZScgdGl0bGU9e2l0ZW0udGl0bGV9PntpdGVtLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgPC9DYXJkQm9keT5cbiAgICAgIDwvQ2FyZD5cbiAgICApXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAnLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29tcG9uZW50LWNob29zZS13aWRnZXQtcG9wdXAnPlxuICAgICAgICAgIDxNb2RhbCBpc09wZW4gY2xhc3NOYW1lPSdjb21wb25lbnQtY2hvb3NlLXdpZGdldC1wb3B1cC1tb2RhbCc+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgY2xhc3NOYW1lPSdjb21wb25lbnQtY2hvb3NlLXdpZGdldC1jbGVhci1ib3JkZXIgY29tcG9uZW50LWNob29zZS13aWRnZXQtbW9kYWwtaGVhZGVyJz5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nY2hvb3NlLXdpZGdldC1wb3B1cC1jbG9zZScgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH0gLz5cbiAgICAgICAgICAgIDwvTW9kYWxIZWFkZXI+XG4gICAgICAgICAgICA8TW9kYWxCb2R5IGNsYXNzTmFtZT0nY29tcG9uZW50LWNob29zZS13aWRnZXQtY2xlYXItYm9yZGVyIGNvbXBvbmVudC1jaG9vc2Utd2lkZ2V0LW1vZGFsLWJvZHknPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5saXN0SW5mby5sZW5ndGggPiAwID8gdGhpcy5zdGF0ZS5saXN0SW5mby5tYXAobCA9PiB0aGlzLmdldExpc3RJdGVtSlNYKGwpKSA6ICdMb2FkaW5nLi4uJ31cbiAgICAgICAgICAgIDwvTW9kYWxCb2R5PlxuICAgICAgICAgICAgPE1vZGFsRm9vdGVyIGNsYXNzTmFtZT0nY29tcG9uZW50LWNob29zZS13aWRnZXQtY2xlYXItYm9yZGVyIGNvbXBvbmVudC1jaG9vc2Utd2lkZ2V0LW1vZGFsLWZvb3Rlcic+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4geyB0aGlzLnByb3BzLm9uT0sodGhpcy5zdGF0ZS5jdXJyZW50V2lkZ2V0KSB9fT5PSzwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DYW5jZWx9PkNhbmNlbDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cbiAgICAgICAgICA8L01vZGFsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgV2lkZ2V0U2VsZWN0b3IgPSB3aXRoU3R5bGVzKF9XaWRnZXRTZWxlY3RvciwgJ1dpZGdldFNlbGVjdG9yJylcbiIsImltcG9ydCAqIGFzIFNldHRpbmdMYXlvdXQgZnJvbSAnLi9jb21wb25lbnRzL2xheW91dCdcbmV4cG9ydCB7IFdpZGdldFNlbGVjdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL3dpZGdldC1zZWxlY3RvcidcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9tYXAtd2lkZ2V0LXNlbGVjdG9yJ1xuZXhwb3J0IHsgSmltdUxheWVyVmlld1NlbGVjdG9yRGVwcmVjYXRlZCB9IGZyb20gJy4vY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3ItZGVwcmVjYXRlZCdcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3Ivc2VsZWN0b3InXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvamltdS1sYXllci12aWV3LXNlbGVjdG9yL2Ryb3Bkb3duJ1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2ppbXUtbWFwLXZpZXctc2VsZWN0b3InXG5leHBvcnQgeyBTdHlsZVBpY2tlciB9IGZyb20gJy4vY29tcG9uZW50cy9zdHlsZS1waWNrZXInXG5leHBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnLi9jb21wb25lbnRzL3JhZGlvLWdyb3VwJ1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2xheW91dCdcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9jb2xsYXBzZSdcbmV4cG9ydCB7IFNldHRpbmdMYXlvdXQgfVxuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2xpbmstc2VsZWN0b3InXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvbGluay1zZWxlY3Rvci90eXBlcydcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9wcm94eS1zZXR0aW5nJ1xuZXhwb3J0IHsgU2lkZVBvcHBlciwgX1NpZGVQb3BwZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvc2lkZS1wb3BwZXInXG5leHBvcnQgdHlwZSB7IFNpZGVQb3BwZXJQcm9wcyB9IGZyb20gJy4vY29tcG9uZW50cy9zaWRlLXBvcHBlcidcbmV4cG9ydCB7IFdpZGdldExpc3RQb3BwZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvd2lkZ2V0LWxpc3QtcG9wcGVyJ1xuZXhwb3J0IHsgV2lkZ2V0TGlzdCB9IGZyb20gJy4vY29tcG9uZW50cy93aWRnZXQtbGlzdC1wb3BwZXIvd2lkZ2V0LWxpc3QnXG5leHBvcnQgeyBQYWdlVGVtcGxhdGVQb3BwZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvcGFnZS10ZW1wbGF0ZS1wb3BwZXInXG5leHBvcnQgeyBUZW1wbGF0ZVNlbGVjdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL3RlbXBsYXRlLXNlbGVjdG9yJ1xuZXhwb3J0IHsgVGVtcGxhdGVMaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL3RlbXBsYXRlLXNlbGVjdG9yL3RlbXBsYXRlLWxpc3QnXG5leHBvcnQgdHlwZSB7IFNvcnRTZXR0aW5nT3B0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3NvcnQtc2V0dGluZydcbmV4cG9ydCB7IFNvcnRTZXR0aW5nIH0gZnJvbSAnLi9jb21wb25lbnRzL3NvcnQtc2V0dGluZydcbmV4cG9ydCB0eXBlIHsgRGlyZWN0aW9uU2VsZWN0b3JQcm9wcyB9IGZyb20gJy4vY29tcG9uZW50cy9kaXJlY3Rpb24tc2VsZWN0b3IvZGlyZWN0aW9uLXNlbGVjdG9yJ1xuZXhwb3J0IHsgRGlyZWN0aW9uU2VsZWN0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvZGlyZWN0aW9uLXNlbGVjdG9yL2RpcmVjdGlvbi1zZWxlY3RvcidcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9zaXplLW1vZGUtc2VsZWN0J1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL3F1aWNrLXN0eWxlJ1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL3NlYXJjaC1zZXR0aW5nJ1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL211bHRpcGxlLWppbXUtbWFwLWNvbmZpZydcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gtY2FyZC1sYXlvdXQnXG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGNvbnN0IEppbXVMYXllclZpZXdTZWxlY3RvckRlcHJlY2F0ZWRTdHlsZXMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSBhcyBJTVRoZW1lVmFyaWFibGVzXG5cbiAgcmV0dXJuIGNzc2BcbiAgICAuZHJvcGRvd24tbWVudS0taW5uZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbMjAwXX07XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5kcm9wZG93bi10b2dnbGUtY29udGVudCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICAubGF5ZXJ2aWV3c2VsZWN0b3ItaW5wdXQge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDMwcHggIWltcG9ydGFudDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzIwMF19O1xuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzIwMF19O1xuICAgICAgfVxuICAgICAgZmxleC1kaXJlY3Rpb246IHVuc2V0ICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgLmxheWVydmlld3NlbGVjdG9yLWlucHV0LXRleHQge1xuICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxM3B4KTtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuXG4gICAgLmxheWVydmlld3NlbGVjdG9yLWJnIHtcbiAgICAgIG1heC1oZWlnaHQ6IDI3MHB4O1xuICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzIwMF19O1xuICAgIH1cblxuICAgIC5sYXllcnZpZXdzZWxlY3Rvci1pdGVtLWJnIHtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAubGF5ZXJ2aWV3c2VsZWN0b3ItaXRlbS1iZzpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICB9XG5cbiAgICAubGF5ZXJ2aWV3c2VsZWN0b3ItZHMtaXRlbSB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLmxheWVydmlld3NlbGVjdG9yLWRzLWl0ZW06aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgfVxuXG4gICAgLmxheWVydmlld3NlbGVjdG9yLWRzLWl0ZW0tc2VsZWN0ZWQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgfVxuICBgXG59XG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIHR5cGUgU2VyaWFsaXplZFN0eWxlcywgY3NzLCBwb2xpc2hlZCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IGdldEJveFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmZ1bmN0aW9uIGdldElucHV0SGVpZ2h0IChpbnB1dFZhcnNCeVNpemUsIGlucHV0Qm9yZGVyV2lkdGgpIHtcbiAgY29uc3QgaGVpZ2h0SW5uZXIgPSBwb2xpc2hlZC5tYXRoKGBcbiAgICAke2lucHV0VmFyc0J5U2l6ZS5mb250U2l6ZX0gKiAke2lucHV0VmFyc0J5U2l6ZS5saW5lSGVpZ2h0fSArXG4gICAgJHtpbnB1dFZhcnNCeVNpemUucGFkZGluZ1l9ICogMmApXG5cbiAgcmV0dXJuIGlucHV0Qm9yZGVyV2lkdGgudG9TdHJpbmcoKSA9PT0gJzAnXG4gICAgPyBoZWlnaHRJbm5lclxuICAgIDogYGNhbGMoJHtoZWlnaHRJbm5lcn0gKyAke2lucHV0Qm9yZGVyV2lkdGh9ICogMilgXG59XG5cbmZ1bmN0aW9uIGdldElucHV0U2l6aW5nU3R5bGVzIChpbnB1dFZhcnMsIHNpemUpIHtcbiAgY29uc3QgaW5wdXRWYXJzQnlTaXplID0gaW5wdXRWYXJzLnNpemVzW3NpemVdXG5cbiAgcmV0dXJuIGBcbiAgICBoZWlnaHQ6ICR7aW5wdXRWYXJzQnlTaXplLmhlaWdodCAhPT0gJ2F1dG8nXG4gICAgPyBpbnB1dFZhcnNCeVNpemUuaGVpZ2h0XG46IGdldElucHV0SGVpZ2h0KGlucHV0VmFyc0J5U2l6ZSwgaW5wdXRWYXJzLmJvcmRlci53aWR0aCl9O1xuICAgIHBhZGRpbmc6ICR7aW5wdXRWYXJzQnlTaXplLnBhZGRpbmdZfSAke2lucHV0VmFyc0J5U2l6ZS5wYWRkaW5nWH07XG4gICAgZm9udC1zaXplOiAke2lucHV0VmFyc0J5U2l6ZS5mb250U2l6ZX07XG4gICAgbGluZS1oZWlnaHQ6ICR7aW5wdXRWYXJzQnlTaXplLmxpbmVIZWlnaHR9O1xuICAgIGJvcmRlci1yYWRpdXM6ICR7aW5wdXRWYXJzQnlTaXplLmJvcmRlclJhZGl1c307XG4gIGBcbn1cblxuZXhwb3J0IGNvbnN0IEppbXVMYXllclZpZXdTZWxlY3RvckRyb3Bkb3duU3R5bGVzID0gKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyA9PiB7XG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgYXMgSU1UaGVtZVZhcmlhYmxlc1xuICBjb25zdCBidXR0b25Qcm9wcyA9IHByb3BzPy5idXR0b25Qcm9wc1xuICBjb25zdCBpbnB1dFZhcnMgPSB0aGVtZT8uY29tcG9uZW50cz8uaW5wdXRcblxuICByZXR1cm4gY3NzYFxuICAgIHdpZHRoOiAxMDAlO1xuICAgICAgPiAuZHJvcGRvd257XG4gICAgICAgID4gLmRyb3Bkb3duLWJ1dHRvbiB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICR7YnV0dG9uUHJvcHM/LnR5cGUgPz8gY3NzYFxuICAgICAgLyogQnV0dG9uIG92ZXJyaWRlICovXG4gICAgICAgID4gLmRyb3Bkb3due1xuICAgICAgICAgID4gLmRyb3Bkb3duLWJ1dHRvbiB7XG4gICAgICAgICAgICAmLFxuICAgICAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICAgIGNvbG9yOiAke2lucHV0VmFycy5jb2xvcn07XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aW5wdXRWYXJzLmJnfTtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogJHtpbnB1dFZhcnMuYm94U2hhZG93fTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJHtpbnB1dFZhcnMudHJhbnNpdGlvbn07XG4gICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgICAgJHtnZXRJbnB1dFNpemluZ1N0eWxlcyhpbnB1dFZhcnMsICdzbScpfVxuICAgICAgICAgICAgICAke2dldEJveFN0eWxlcyhpbnB1dFZhcnMpfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJlthcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXSB7XG4gICAgICAgICAgICAgIGNvbG9yOiAke2lucHV0VmFycy5jb2xvcn07XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aW5wdXRWYXJzLmZvY3VzLmJnfTtcbiAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAke2lucHV0VmFycy5mb2N1cy5ib3JkZXJDb2xvcn07XG4gICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogJHtpbnB1dFZhcnMuYm94U2hhZG93fSwgJHtpbnB1dFZhcnMuZm9jdXMuYm94U2hhZG93fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGB9XG5cbiAgYFxufVxuIiwiaW1wb3J0IHsgdHlwZSBTZXJpYWxpemVkU3R5bGVzLCBjc3MgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBjb25zdCBKaW11TGF5ZXJWaWV3U2VsZWN0b3JTdHlsZXMgPSAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzID0+IHtcbiAgY29uc3QgaGVpZ2h0ID0gcHJvcHMuaXNJbkRyb3Bkb3duID8gJzM2NnB4JyA6ICdjYWxjKDEwMCUgLSAzNHB4KSdcbiAgcmV0dXJuIGNzc2BcbiAgICAudHJlZS1jb250YWluZXJ7XG4gICAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICAgICAgaGVpZ2h0OiAke2hlaWdodH07XG4gICAgfVxuICAgIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ0NvbGxhcHNlU3R5bGVzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGlzT3BlbiA9IHByb3BzPy5pc09wZW5cbiAgY29uc3QgdHlwZSA9IHByb3BzPy50eXBlID8/ICdkZWZhdWx0J1xuXG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgYXMgSU1UaGVtZVZhcmlhYmxlc1xuICBjb25zdCBsaWdodDUwMCA9IHRoZW1lPy5jb2xvcnM/LnBhbGV0dGU/LmxpZ2h0Py5bNTAwXVxuICBjb25zdCBsaWdodDgwMCA9IHRoZW1lPy5jb2xvcnM/LnBhbGV0dGU/LmxpZ2h0Py5bODAwXVxuICBjb25zdCBwcmltYXJ5ID0gdGhlbWU/LmNvbG9ycz8ucHJpbWFyeVxuXG4gIGlmICh0eXBlICE9PSAncHJpbWFyeScpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgIC5kaXZpZGluZy1saW5lIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7bGlnaHQ4MDB9O1xuICAgIH1cbiAgICBgXG4gIH1cblxuICByZXR1cm4gY3NzYFxuICAgIC5oYW5kbGUge1xuICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICR7aXNPcGVuID8gcHJpbWFyeSA6IGxpZ2h0NTAwfTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7bGlnaHQ1MDB9O1xuICAgICAgLnRpdGxlIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcbiAgICAgIH1cbiAgICB9XG4gICAgLmRpdmlkaW5nLWxpbmUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtsaWdodDgwMH07XG4gICAgfVxuICAgIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ1Jvd1N0eWxlcyA9IChwcm9wcykgPT4ge1xuICBjb25zdCB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcyA9IHByb3BzLnRoZW1lIGFzIElNVGhlbWVWYXJpYWJsZXNcbiAgY29uc3QgZmxvdzogc3RyaW5nID0gcHJvcHMuZmxvd1xuICBjb25zdCBhY3Rpb246IHN0cmluZyA9IHByb3BzLmFjdGlvblxuXG4gIHJldHVybiBjc3NgXG4gICAgJi5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3cge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgIH1cbiAgICAgICsgLmppbXUtd2lkZ2V0LXNldHRpbmctLXJvdyB7XG4gICAgICAgIG1hcmdpbi10b3A6ICR7dGhlbWUuc2l6ZXNbNF19O1xuICAgICAgfVxuICAgIH1cbiAgICAmLmJvdHRvbS1saW5lIHtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAke3RoZW1lLnNpemVzWzRdfTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgIH1cbiAgICAmLFxuICAgIC5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3ctaGVhZGVyIHtcbiAgICAgID4gLmppbXUtd2lkZ2V0LXNldHRpbmctLXJvdy1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44MTI1cmVtO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgfVxuICAgIH1cbiAgICA+IC5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3ctbGFiZWwge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luLWJvdHRvbTogJHtmbG93ID09PSAnd3JhcCdcbiAgICAgID8gYWN0aW9uXG4gICAgICAgID8gJzAnXG4gICAgICAgIDogdGhlbWUuc2l6ZXNbMl1cbiAgICAgIDogJzAnfTtcbiAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICB9XG4gICAgPiBpbnB1dCB7XG4gICAgICAmW3R5cGU9J251bWJlciddIHtcbiAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnB1dCB7XG4gICAgICAmW3R5cGU9J251bWJlciddIHtcbiAgICAgICAgJjo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcbiAgICAgICAgJjo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XG4gICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAuamltdS13aWRnZXQtc2V0dGluZy0tcm93LWhlYWRlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMC43NXJlbTtcbiAgICAgID4gLmJ0biB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gICAgICB9XG4gICAgICAuamltdS13aWRnZXQtc2V0dGluZy0tcm93LWxhYmVsIHtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICB9XG4gICAgJi5mb3JtLWlubGluZSB7XG4gICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgIC5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3ctbGFiZWwge1xuICAgICAgICBtYXgtd2lkdGg6IDgwJTtcbiAgICAgICAgKyAqIHtcbiAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgYFxufVxuIiwiaW1wb3J0IHsgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBjc3MgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nU2VjdGlvblN0eWxlcyA9IChwcm9wcykgPT4ge1xuICBjb25zdCB0aGVtZSA9IHByb3BzLnRoZW1lIGFzIElNVGhlbWVWYXJpYWJsZXNcblxuICByZXR1cm4gY3NzYFxuICAgIHBhZGRpbmc6ICR7dGhlbWUuc2l6ZXNbNF19O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuXG4gICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgIGJvcmRlci1ib3R0b206IDAgbm9uZTtcbiAgICB9XG5cbiAgICAmOm50aC1vZi10eXBlKDEpOm50aC1sYXN0LW9mLXR5cGUoMSkge1xuICAgICAgYm9yZGVyLWJvdHRvbTogMCBub25lO1xuICAgIH1cblxuICAgIC5qaW11LXdpZGdldC1zZXR0aW5nLS1zZWN0aW9uLWhlYWRlciB7XG4gICAgICA+IGg2IHtcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICAgICAgZm9udC13ZWlnaHQ6ICR7dGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgfVxuICAgICAgKyAqIHtcbiAgICAgICAgbWFyZ2luLXRvcDogJHt0aGVtZS5zaXplc1s0XX07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmppbXUtd2lkZ2V0LXNldHRpbmctLXNlY3Rpb24taGVhZGVyIHtcbiAgICAgICYucm93IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMDtcbiAgICAgIH1cbiAgICB9XG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gbGlua1NlbGVjdG9yQ29udGVudFN0eWxlcyAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgPSBwcm9wcy50aGVtZVxuICBjb25zdCBncmF5ID0gKHRoZW1lICYmIHRoZW1lLmNvbG9ycyAmJiB0aGVtZS5jb2xvcnMucGFsZXR0ZSAmJiB0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs1MDBdKSB8fCAnI2NjYydcbiAgY29uc3QgY3lhbiA9ICh0aGVtZSAmJiB0aGVtZS5jb2xvcnMgJiYgdGhlbWUuY29sb3JzLnByaW1hcnkpIHx8ICdibHVlJ1xuICBjb25zdCBzZXR0aW5nQ29sb3IgPSBwb2xpc2hlZC5yZ2JhKGdyYXksIDAuNSlcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAud2lkZ2V0LWJ1aWxkZXItbGluay1zZWxlY3RvciB7XG4gICAgICAuY29sbGFwc2UtYnRue1xuICAgICAgICBtYXJnaW4tcmlnaHQ6ICR7cG9saXNoZWQucmVtKC0xNil9O1xuICAgICAgfVxuICAgICAgLm9wdGlvbi1uYW1le1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgICB9XG4gICAgICAubGluay1zZWxlY3Rvci1saXN0IHtcbiAgICAgICAgLnZpZXctYm9yZGVye1xuICAgICAgICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICAgIH1cbiAgICAgICAgLmxpbmstc2VsZWN0b3ItbGlzdC1pdGVtIHtcbiAgICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3NldHRpbmdDb2xvcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLmxpbmstc2VsZWN0b3ItbGlzdC1zZWxlY3Qge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7c2V0dGluZ0NvbG9yfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxlY3Qge1xuICAgICAgICBwYWRkaW5nLXRvcDogJHtwb2xpc2hlZC5yZW0oMil9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5pdGVtc2VsZWN0ZWQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2N5YW59ICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5idG4tcHJpbWFyeSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMEE2QjYgIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBBNkI2ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5mb3JtLWNoZWNrLWlucHV0IHtcbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzAwQTZCNiAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5mb3JtLWNoZWNrLWlucHV0OmhvdmVyIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiBncmF5O1xuICAgICAgfVxuXG4gICAgICBpbnB1dFt0eXBlPSdyYWRpbyddLmZvcm0tY2hlY2staW5wdXQge1xuICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgJjpiZWZvcmUge1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMDBBNkI2ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbjogOHB4O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLW91dDtcbiAgICAgICAgfVxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBBNkI2ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgJjpjaGVja2VkIHtcbiAgICAgICAgJjpiZWZvcmUge1xuICAgICAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAzcHg7XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmxpbmstc2V0dGluZy1jdXJzb3ItcG9pbnRlcntcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgICAgLm9wZW4tdHlwZS1sYWJlbHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuICAgIH1cbiAgICAudXJsLWVycm9yLWNvbnRhaW5lcntcbiAgICAgICp7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5kYW5nZXJ9O1xuICAgICAgfVxuICAgICAgZGl2e1xuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA0cHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgfVxuICAgIH1cbiAgYFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBjc3NgXG4gICAgLndpZGdldC1idWlsZGVyLWxpbmstc2VsZWN0b3Ige1xuICAgICAgLmNvbGxhcHNlLWJ0bntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogJHtwb2xpc2hlZC5yZW0oLTQpfTtcbiAgICAgIH1cbiAgICAgIC5vcHRpb24tbmFtZXtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuICAgICAgLml0ZW0tY29tbW9ue1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy53aGl0ZX07XG4gICAgICB9XG4gICAgICAudmlldy1ib3JkZXJ7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XG4gICAgICB9XG4gICAgICAubGluay1zZWxlY3Rvci1saXN0IHtcblxuICAgICAgICAubGluay1zZWxlY3Rvci1saXN0LWl0ZW0ge1xuICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7c2V0dGluZ0NvbG9yfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAubGluay1zZWxlY3Rvci1saXN0LXNlbGVjdCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtzZXR0aW5nQ29sb3J9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdCB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAke3BvbGlzaGVkLnJlbSgyKX0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLml0ZW1zZWxlY3RlZCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y3lhbn0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5saW5rLXNldHRpbmctY3Vyc29yLXBvaW50ZXJ7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICAgIC5vcGVuLXR5cGUtbGFiZWx7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cbiAgICAgIC51cmwtZXJyb3ItY29udGFpbmVye1xuICAgICAgICAqe1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5kYW5nZXJ9O1xuICAgICAgICB9XG4gICAgICAgIGRpdntcbiAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgXG4gIH1cbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gcHJveHlTZXR0aW5nUG9wdXBTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIG1heC13aWR0aDogJHtwb2xpc2hlZC5yZW0oOTYwKX0gIWltcG9ydGFudDtcbiAgICAuaGVhZGVye1xuICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNil9O1xuICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICB9XG4gICAgLnByb3h5LXNldHRpbmctY29udGFpbmVye1xuICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDk2MCl9O1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg2NDApfTtcbiAgICAgIGJvcmRlcjogMDtcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNjAwXX07XG4gICAgfVxuICAgIC5weC0zMHtcbiAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgfVxuICBgXG59XG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGNzcywgdHlwZSBTZXJpYWxpemVkU3R5bGVzLCBwb2xpc2hlZCB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIHByb3h5U2V0dGluZ1N0eWxlcyAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgPSBwcm9wcy50aGVtZVxuXG4gIHJldHVybiBjc3NgXG4gICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICAuZm9udC1zaXplLTEze1xuICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIC5zdWJzY3JpYmVyLXdhcm5pbmd7XG4gICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgfVxuICAgIC5zZWNvbmRhcnktdGl0bGV7XG4gICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgfVxuICAgIC5jb250ZW50LXRhYmxle1xuICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfTtcbiAgICB9XG4gICAgLmNvbnRlbnQtdGFibGUtaGVhZGVye1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgzMil9O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgbGluZS1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgfVxuICAgIC5jb250ZW50LXRhYmxlLXRye1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgzOSl9O1xuICAgICAgbGluZS1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDM5KX07XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcbiAgICB9XG4gICAgLmNvbC00LCAuY29sLTJ7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuICAgIC5yZXF1ZXN0LWxpbWl0e1xuICAgICAgbWFyZ2luLXRvcDogJHtwb2xpc2hlZC5yZW0oNil9O1xuICAgIH1cbiAgICAucmVxdWVzdC1pbnRlcnZhbHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgbWFyZ2luLXRvcDogJHtwb2xpc2hlZC5yZW0oLTMpfTtcbiAgICB9XG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBjb25zdCByYWRpb0dyb3VwU3R5bGUgPSAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzID0+IHtcbiAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSBhcyBJTVRoZW1lVmFyaWFibGVzXG4gIGNvbnN0IGd1dHRlciA9IHByb3BzLmd1dHRlclxuICByZXR1cm4gY3NzYFxuICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgbGFiZWwge1xuICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgbWFyZ2luLXJpZ2h0OiAke2d1dHRlciB8fCB0aGVtZS5zaXplc1s0XX07XG4gICAgICAuamltdS1yYWRpbyB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogJHt0aGVtZS5ndXR0ZXJzWzRdfTtcbiAgICAgIH1cbiAgICB9XG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gc2lkZVBvcHBlclN0eWxlcyAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgPSBwcm9wcy50aGVtZVxuICByZXR1cm4gY3NzYFxuICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSgyNjApfTtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDcwcHgpO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwO1xuICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs4MDBdfTtcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuICAgIGJvcmRlci10b3A6IDA7XG4gICAgYm9yZGVyLWJvdHRvbTogMDtcbiAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgYFxufVxuIiwiaW1wb3J0IHsgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBjc3MsIHR5cGUgU2VyaWFsaXplZFN0eWxlcywgcG9saXNoZWQgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBjb25zdCBzb3J0U2V0dGluZ1N0eWxlID0gKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyA9PiB7XG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgYXMgSU1UaGVtZVZhcmlhYmxlc1xuICBjb25zdCBjb2xvcnMgPSB0aGVtZS5jb2xvcnNcbiAgcmV0dXJuIGNzc2BcbiAgICB3aWR0aDoxMDAlO1xuICAgICYuc2luZ2xlLXJvdy1pdGVtIHtcbiAgICAgICAgLnNlbGVjdC1jb24ge1xuICAgICAgICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oMTApfSAke3BvbGlzaGVkLnJlbSgwKX07XG4gICAgICAgICAgICAub3B0aW9uLW5hbWUtY29uIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgIC5jbG9zZS1jb24+c3BhbiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAucGFkZGluZy0wIHtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICB9XG4gICAgLmppbXUtdHJlZS1pdGVtIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbToke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgIH1cbiAgICAuamltdS10cmVlLWl0ZW1fX2RyYWdnYWJsZSB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCAke3BvbGlzaGVkLnJnYmEoY29sb3JzLndoaXRlLCAwLjMpfTtcbiAgICB9XG4gICAgLmFkZC1vcHRpb24tYnRuIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgICBjb2xvcjoke2NvbG9ycy5wYWxldHRlLnByaW1hcnlbNjAwXX07XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiR7cG9saXNoZWQucmVtKDEwKX07XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxNyl9O1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgZm9udC1zaXplOjEzcHg7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgfVxuICAgICAgICAuYWRkLW9wdGlvbi1pY29ue1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLm5vLXNvcnQtcmVtaW5kIHtcbiAgICAgICAgbWFyZ2luOiA3MHB4IGF1dG8gMDtcbiAgICAgICAgY29sb3I6ICR7Y29sb3JzLnBhbGV0dGUubGlnaHRbODAwXX07XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAuc2VsZWN0LWNvbiB7XG4gICAgICAgICYge1xuICAgICAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDgpfSAke3BvbGlzaGVkLnJlbSgxMCl9ICR7cG9saXNoZWQucmVtKDEwKX0gJHtwb2xpc2hlZC5yZW0oNil9O1xuICAgICAgICB9XG4gICAgICAgIC5vcHRpb24tbmFtZS1jb24ge1xuICAgICAgICAgICAgJiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206JHtwb2xpc2hlZC5yZW0oNSl9O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5vcHRpb24tbmFtZSB7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEzcHg7XG4gICAgICAgICAgICAgIGNvbG9yOiAke2NvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG4gICAgICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI1KX07XG4gICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDQpfTtcbiAgICAgICAgICAgICAgLmVkaXQtaW5wdXQge1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogODglO1xuICAgICAgICAgICAgICAgIGlucHV0IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlucHV0OnBsYWNlaG9sZGVyLXNob3duIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAub3B0aW9uLW5hbWUgaW5wdXQge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5qaW11LWlucHV0IHtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmlucHV0LXdyYXBwZXIge1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAub3B0aW9uLW5hbWUtaWNvbi1jb24ge1xuICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAke3BvbGlzaGVkLnJlbSg1KX07XG4gICAgICAgICAgICAgICAgc3ZnIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogICR7cG9saXNoZWQucmVtKDUpfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAub3B0aW9uLW5hbWUtaWNvbiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAub3B0aW9uLW5hbWUgc3BhbiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jbG9zZS1jb24ge1xuICAgICAgICAgICAgICAgIHN2ZyB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogICR7cG9saXNoZWQucmVtKDIpfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2xvc2UtY29uPnNwYW4ge1xuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgICAgICAgICBjb2xvcjogJHtjb2xvcnMuYmxhY2t9O1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5zZWxlY3QtZG93bi1jb24ge1xuICAgICAgICAgICAgJiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzQpfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zb3J0LWFycm93LWRvd24taWNvbiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnNlbGVjdC1pbnB1dCB7XG4gICAgICAgICAgICAgICAgZmxleC1ncm93OjE7XG4gICAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLmRhcmt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnNvcnQtYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICBib3JkZXI6bm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zb3J0LWZpZWxkLXNlbGVjdG9yIHtcbiAgICAgICAgICAgICAgICAmIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDoke2NvbG9ycy5wYWxldHRlLnNlY29uZGFyeVsyMDBdfTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgY29uc3Qgc3R5bGVQaWNrZXJTdHlsZXMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSBhcyBJTVRoZW1lVmFyaWFibGVzXG4gIHJldHVybiBjc3NgXG4gICAgLndpZGdldC1zZXR0aW5nLS1zdHlsZXBpY2tlciB7XG4gICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICAgIGdyaWQtZ2FwOiAxMHB4O1xuICAgIH1cblxuICAgIC53aWRnZXQtc2V0dGluZy0tc3R5bGVwaWNrZXItaXRlbSB7XG4gICAgICBoZWlnaHQ6IDkzcHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xuICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6ICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgfVxuICAgICAgJi5hY3RpdmUge1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICAgIH1cbiAgICAgICYuZnVsbC13aWR0aCB7XG4gICAgICAgIGdyaWQtY29sdW1uLXN0YXJ0OiAxO1xuICAgICAgICBncmlkLWNvbHVtbi1lbmQ6IDM7XG4gICAgICB9XG4gICAgfVxuICBgXG59XG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGNvbnN0IHdpZGdldFNlbGVjdG9yU3R5bGVzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgYXMgSU1UaGVtZVZhcmlhYmxlc1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGNvbnN0IGNsb3NlSW1hZ2VVcmwgPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQXNFbEVRVlE0amFXU0xRN0VJQmhFdjJMeG5BelAxY0J6QVU2RGhLQ3BabmVhUUhZcFAyazZvbXJlQ3pBOXlqZjBJZ3lmR0NNWlkrZzh6eTJBRHJwZ21zQTVSOTc3cmFUQzZJSnBBaWtsQ1NFb3BUU1ZWQmdkZE1FMEFlZWNsRkpUU1ErakN3WTVmaDl4VkVSbThFMHdraUF6ZUNqb0pjZ01ibS93SmpkQmY0WGRPbXdGNDlpcmRmNEVzNmwyRTdNVlhMT1NYQUpyN1hLcWtRVE1GY3dZUWloYTY1SnpMcnVnZ3k0WVpQZ2ZQTWtIWHpRTUUrRjdvSFlBQUFBQVNVVk9SSzVDWUlJPSdcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgY29uc3Qgd2lkZ2V0UGxhY2Vob2xkZXJJbWFnZVVybCA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBMjBsRVFWUTRqV1BraWRuMm40RUN3RVNKNWlGZ0FCc0xJOFBCUml1R1M3MzJES0o4YktRYndNSEt6S0FxeWMwZ0s4ekJJTUROaWxVTkk2RllrQkJnQnhyRXhQRGc5WGVzOGl5NE5JWllTREo0R1lreC9QajFqNkYyNVEyY0Z1RDB3bzJuWHhpNDJaa1pZdTFsR01JdHBVZzM0TXJqend4Ly8wSFlUOS8vSU4wQUZpWkdCanN0SWFBaC94a09YbnRMdWdIR3l2d00vRnlzREJjZWZHVDQ4UFVQNlFhSThFTGluWjJGaWNGR1E0aUJuUlc3VW1ZMnZlZ0diQklQWG4xaitQLy9QOE9YbjM4WlBuNzd6WER4d1Nlc0JoQk1CNFFBeFhrQkFNYURPeXdKcm9iNEFBQUFBRWxGVGtTdVFtQ0MnXG4gIHJldHVybiBjc3NgXG4gICAgLmNvbXBvbmVudC1jaG9vc2Utd2lkZ2V0LXBvcHVwe1xuICAgICAgLndpZGdldC1jYXJkLWFjdGl2ZS1idG57XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGRpdi5jb21wb25lbnQtY2hvb3NlLXdpZGdldC1wb3B1cC1tb2RhbHtcbiAgICAgIHdpZHRoOiA4NTBweDtcbiAgICAgIG1heC13aWR0aDogODUwcHg7XG4gICAgICBoZWlnaHQ6IDYwMHB4O1xuICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgdG9wOiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgLmNvbXBvbmVudC1jaG9vc2Utd2lkZ2V0LWNsZWFyLWJvcmRlcntcbiAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuICAgICAgLm1vZGFsLWNvbnRlbnR7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgcGFkZGluZzogMjBweCAxMHB4IDIwcHggNDBweDtcbiAgICAgICAgcG9zaXRpb246IHN0YXRpYztcbiAgICAgIH1cbiAgICAgIC5jb21wb25lbnQtY2hvb3NlLXdpZGdldC1tb2RhbC1oZWFkZXJ7XG4gICAgICAgIC5jaG9vc2Utd2lkZ2V0LXBvcHVwLWNsb3Nle1xuICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgcmlnaHQ6IDI4cHg7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMTBweDtcbiAgICAgICAgICAmOmhvdmVye1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuY2hvb3NlLXdpZGdldC1wb3B1cC1jbG9zZTphZnRlcntcbiAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2Nsb3NlSW1hZ2VVcmx9KTtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgbGVmdDogMThweDtcbiAgICAgICAgICB0b3A6IDEycHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5jb21wb25lbnQtY2hvb3NlLXdpZGdldC1tb2RhbC1ib2R5e1xuICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIC1tcy1mbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgLXdlYmtpdC1ib3gtcGFjazogc3RhcnQ7XG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IHN0YXJ0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICAgIG1hcmdpbjogNDBweCAwIDEwcHggMDtcbiAgICAgICAgLndpZGdldC1jYXJkLWl0ZW17XG4gICAgICAgICAgd2lkdGg6IDcwcHg7XG4gICAgICAgICAgaGVpZ2h0OiAxMjBweDtcbiAgICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgICAgbWFyZ2luOiAwIDMwcHggMCAwO1xuICAgICAgICAgICY6aG92ZXJ7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIC53aWRnZXQtY2FyZC1pbWFnZXtcbiAgICAgICAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA3MHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xuICAgICAgICAgICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICA+ZGl2e1xuICAgICAgICAgICAgICB3aWR0aDogMzBweDtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICY6YWZ0ZXJ7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAud2lkZ2V0LWNhcmQtY29udGVudHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMzNweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAud2lkZ2V0LWNhcmQtc2VsZWN0ZWR7XG4gICAgICAgICAgLndpZGdldC1jYXJkLWltYWdle1xuICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzBDNUNCNjtcbiAgICAgICAgICAgID5kaXY6YWZ0ZXJ7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICB0b3A6IC0yMHB4O1xuICAgICAgICAgICAgICByaWdodDogLTIwcHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke3dpZGdldFBsYWNlaG9sZGVySW1hZ2VVcmx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5jb21wb25lbnQtY2hvb3NlLXdpZGdldC1tb2RhbC1mb290ZXJ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAyMHB4O1xuICAgICAgICByaWdodDogNDBweDtcbiAgICAgICAgPmJ1dHRvbntcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMzlweDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b246Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzVEMDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAgIzAwNzVEMDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmxhc3Qtb2YtdHlwZXtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNDQ0NDQ0M7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgXG59XG4iLCJleHBvcnQgeyB3aWRnZXRTZWxlY3RvclN0eWxlcyBhcyBXaWRnZXRTZWxlY3RvciB9IGZyb20gJy4vY29tcG9uZW50cy93aWRnZXQtc2VsZWN0b3InXG5leHBvcnQgeyBzb3J0U2V0dGluZ1N0eWxlIGFzIFNvcnRTZXR0aW5nIH0gZnJvbSAnLi9jb21wb25lbnRzL3NvcnQtc2V0dGluZydcbmV4cG9ydCB7IHN0eWxlUGlja2VyU3R5bGVzIGFzIFN0eWxlUGlja2VyIH0gZnJvbSAnLi9jb21wb25lbnRzL3N0eWxlLXBpY2tlcidcbmV4cG9ydCB7IHNldHRpbmdTZWN0aW9uU3R5bGVzIGFzIFNldHRpbmdTZWN0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2xheW91dC9zZWN0aW9uJ1xuZXhwb3J0IHsgc2V0dGluZ1Jvd1N0eWxlcyBhcyBTZXR0aW5nUm93IH0gZnJvbSAnLi9jb21wb25lbnRzL2xheW91dC9yb3cnXG5leHBvcnQgeyBzZXR0aW5nQ29sbGFwc2VTdHlsZXMgYXMgU2V0dGluZ0NvbGxhcHNlIH0gZnJvbSAnLi9jb21wb25lbnRzL2xheW91dC9jb2xsYXBzZSdcbmV4cG9ydCB7IGxpbmtTZWxlY3RvckNvbnRlbnRTdHlsZXMgYXMgTGlua1NlbGVjdG9yQ29udGVudCB9IGZyb20gJy4vY29tcG9uZW50cy9saW5rLXNlbGVjdG9yLWNvbnRlbnQnXG5leHBvcnQgeyBwcm94eVNldHRpbmdTdHlsZXMgYXMgUHJveHlTZXR0aW5nIH0gZnJvbSAnLi9jb21wb25lbnRzL3Byb3h5LXNldHRpbmcnXG5leHBvcnQgeyBwcm94eVNldHRpbmdQb3B1cFN0eWxlcyBhcyBQcm94eVNldHRpbmdQb3B1cCB9IGZyb20gJy4vY29tcG9uZW50cy9wcm94eS1zZXR0aW5nLXBvcHVwJ1xuZXhwb3J0IHsgcmFkaW9Hcm91cFN0eWxlIGFzIFJhZGlvR3JvdXAgfSBmcm9tICcuL2NvbXBvbmVudHMvcmFkaW8tZ3JvdXAnXG5leHBvcnQgeyBzaWRlUG9wcGVyU3R5bGVzIGFzIFNpZGVQb3BwZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvc2lkZS1wb3BwZXInXG5leHBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEZXByZWNhdGVkU3R5bGVzIGFzIEppbXVMYXllclZpZXdTZWxlY3RvckRlcHJlY2F0ZWQgfSBmcm9tICcuL2NvbXBvbmVudHMvamltdS1sYXllci12aWV3LXNlbGVjdG9yLWRlcHJlY2F0ZWQnXG5leHBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93blN0eWxlcyBhcyBKaW11TGF5ZXJWaWV3U2VsZWN0b3JEcm9wZG93biB9IGZyb20gJy4vY29tcG9uZW50cy9qaW11LWxheWVyLXZpZXctc2VsZWN0b3ItZHJvcGRvd24nXG5leHBvcnQgeyBKaW11TGF5ZXJWaWV3U2VsZWN0b3JTdHlsZXMgYXMgSmltdUxheWVyVmlld1NlbGVjdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL2ppbXUtbGF5ZXItdmlldy1zZWxlY3RvcidcbiIsImltcG9ydCB7IHR5cGUgUmVhY3QsIExvYWRpbmdUeXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgdHlwZSBJbnB1dFR5cGUgPVxuICB8ICd0ZXh0J1xuICB8ICdlbWFpbCdcbiAgfCAnc2VsZWN0J1xuICB8ICdmaWxlJ1xuICB8ICdyYWRpbydcbiAgfCAnY2hlY2tib3gnXG4gIHwgJ3RleHRhcmVhJ1xuICB8ICdidXR0b24nXG4gIHwgJ3Jlc2V0J1xuICB8ICdzdWJtaXQnXG4gIHwgJ2RhdGUnXG4gIHwgJ2RhdGV0aW1lLWxvY2FsJ1xuICB8ICdoaWRkZW4nXG4gIHwgJ2ltYWdlJ1xuICB8ICdtb250aCdcbiAgfCAnbnVtYmVyJ1xuICB8ICdyYW5nZSdcbiAgfCAnc2VhcmNoJ1xuICB8ICd0ZWwnXG4gIHwgJ3VybCdcbiAgfCAnd2VlaydcbiAgfCAncGFzc3dvcmQnXG4gIHwgJ2RhdGV0aW1lJ1xuICB8ICd0aW1lJ1xuICB8ICdjb2xvcidcblxuLyoqXG4gKiBUaGUgSW5wdXQgY29tcG9uZW50IHByb3BzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0UHJvcHMgZXh0ZW5kcyBPbWl0PFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4sICdzaXplJz4ge1xuICAvKipcbiAgICogVGhlIHR5cGUgYXR0cmlidXRlIGFwcGxpZWQgdG8gdGhlIHJvb3QgaW5wdXQgZWxlbWVudC5cbiAgICovXG4gIHR5cGU/OiBJbnB1dFR5cGVcbiAgLyoqXG4gICAqIFRvIGRlZmluZSB0aGUgc2l6ZSBvZiB0aGUgYnV0dG9uLiBUaGUgZGVmYXVsdCBzaXplIHdpbGwgYmUgYXBwbGllZCBpZiB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBzaXplPzogJ2xnJyB8ICdzbSdcbiAgLyoqXG4gICAqIFRoZSBuYXRpdmUgc2l6ZSBhdHRyaWJ1dGUgYXBwbGllZCB0byB0aGUgcm9vdCBpbnB1dCBlbGVtZW50LlxuICAgKiBTZWUgW01ETl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0I2h0bWxhdHRyZGVmc2l6ZSlcbiAgICovXG4gIGh0bWxTaXplPzogbnVtYmVyXG4gIC8qKlxuICAgKiBQYXJ0IG9mIHRoZSBmb3JtIHZhbGlkYXRpb24uXG4gICAqIElmIGB0cnVlYCwgdGhlIGlucHV0IGlzIGNvbnNpZGVyZWQgYXMgcGFzc2luZyB0aGUgdmFsaWRhdGlvbiBhbmQgaXRzIFVJIHdpbGwgYmUgdXBkYXRlZCB0byByZWZsZWN0IHRoaXMgc3RhdGUuXG4gICAqL1xuICB2YWxpZD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFBhcnQgb2YgdGhlIGZvcm0gdmFsaWRhdGlvbi5cbiAgICogSWYgYHRydWVgLCB0aGUgaW5wdXQgaXMgY29uc2lkZXJlZCBhcyBOT1QgcGFzc2luZyB0aGUgdmFsaWRhdGlvbiBhbmQgaXRzIFVJIHdpbGwgYmUgdXBkYXRlZCB0byByZWZsZWN0IHRoaXMgc3RhdGUuXG4gICAqL1xuICBpbnZhbGlkPzogYm9vbGVhblxuICAvKipcbiAgICogVGFnIG5hbWUgdXNlZCBmb3IgdGhlIHJvb3QgaW5wdXQgZWxlbWVudC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGlucHV0YC5cbiAgICovXG4gIHRhZz86IFJlYWN0LkVsZW1lbnRUeXBlXG4gIC8qKlxuICAgKiBUaGUgcmVmZXJlbmNlIGZvcndhcmRlZCB0byB0aGUgcm9vdCBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgaW5uZXJSZWY/OiBSZWFjdC5SZWY8SFRNTElucHV0RWxlbWVudD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJY29uUHJvcHMge1xuICBuYW1lOiBzdHJpbmdcbiAgc2l6ZT86IG51bWJlciAvLyBUT0RPXG4gIGNvbG9yPzogc3RyaW5nIC8vIFRPRE9cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0V2l0aEljb25Qcm9wcyB7XG4gIGljb246IEljb25Qcm9wc1xuICB0ZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGVudW0gTmF2SWNvblR5cGUge1xuICBJTUFHRSA9ICdpbWFnZScsXG4gIElDT04gPSAnaWNvbidcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZJY29uIHtcbiAgaWNvbj86IGFueVxuICB0eXBlOiBOYXZJY29uVHlwZVxuICByaWdodD86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCB7IExvYWRpbmdUeXBlIH1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFuZGFyZENvbXBvbmVudFByb3BzIHtcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGNsYXNzIG5hbWVzIGFkZGVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHN0eWxlcyBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllcyB8IHVuZGVmaW5lZFxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZCBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAgICovXG4gIC8vIGlkPzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgICogVGhlIGB0YWJJbmRleGAgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgKi9cbiAgLy8gdGFiSW5kZXg/OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHRpdGxlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgLy8gdGl0bGU/OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgLy8gZGlzYWJsZWQ/OiBib29sZWFuIHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSByb2xlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgLy8gcm9sZT86IFJlYWN0LkFyaWFSb2xlIHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgKiBUbyBwcm92aWRlIGEgbGFiZWwgZm9yIGludGVyYWN0aXZlIGNvbXBvbmVudHMgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBhY2Nlc3NpYmxlIG5hbWUgaXMgY29tcHV0ZWQgZnJvbSBhbnkgdGV4dCBjb250ZW50IGluc2lkZSB0aGUgZWxlbWVudC5cbiAgICogSWYgbGFja2luZywgcHJvdmlkZSBhbiBhcmlhLWxhYmVsLlxuICAgKi9cbiAgLy8gJ2FyaWEtbGFiZWwnPzogc3RyaW5nXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudC5cbiAgICovXG4gIC8vIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlIHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgKiBGaXJlIGNhbGxiYWNrIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjbGlja2VkLlxuICAgKi9cbiAgLy8gb25DbGljaz86IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyPFQ+XG59XG5cbmV4cG9ydCB0eXBlIENvbXBvbmVudFNpemUgPSAnZGVmYXVsdCcgfCAnc20nIHwgJ2xnJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE93bmVyU3RhdGU8VD4ge1xuICBvd25lclN0YXRlOiBQYXJ0aWFsPFQ+XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9hcmNnaXNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9kYXRhX3NvdXJjZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2Zvcl9idWlsZGVyX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfZm9yX2J1aWxkZXJfdGVtcGxhdGVzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfbGF5b3V0c19sYXlvdXRfcnVudGltZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3RoZW1lX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9hZHZhbmNlZF9kYXRhX3NvdXJjZV9zZWxlY3Rvcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX2FkdmFuY2VkX2V4cHJlc3Npb25fYnVpbGRlcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX2FkdmFuY2VkX3Jlc291cmNlX3NlbGVjdG9yX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfc2V0dGluZ19jb21wb25lbnRzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfdXRpbGl0eV9zZWxlY3Rvcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX2Jhc2ljX2xpc3RfdHJlZV9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgKiBhcyBzdHlsZXMgZnJvbSAnLi9saWIvc2V0dGluZy1jb21wb25lbnRzL3N0eWxlcydcbmltcG9ydCB7IFBhZ2VQYXJ0LCBnZXRBcHBTdG9yZSwgdHlwZSBJTURpYWxvZ0luZm9zLCBJbW11dGFibGUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBidWlsZGVyQXBwU3luYyB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInXG5pbXBvcnQgeyByZWdpc3RlclN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5yZWdpc3RlclN0eWxlcygnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMvJywgc3R5bGVzKVxuXG4vLyBoYW5kZWwgY2xvc2VkIGRpYWxvZyBpZHMgd2hlbiBwYWdlL2RpYWxvZyBpcyBjaGFuZ2VkOlxuLy8gMS4gYWRkIGBjdXJyZW50RGlhbG9nSWRgIChzcGxhc2gsIG9yIGNvbWJpbmUgd2l0aCBwcmV2aW91cyBwYWdlSWRzIGlmIGl0IGV4aXN0cylcbi8vIDIuIGFkZCBzcGxhc2ggZGlhbG9nIGlkXG4vLyAzLiByZW1vdmUgYHRhcmdldERpYWxvZ0lkYCBpZiBpdCBleGlzdHMgaW4gZGlhbG9nSW5mb3MgKG9ubHkgd2hlbiBkaWFsb2cgaXMgY2hhbmdlZClcbmV4cG9ydCBmdW5jdGlvbiBoYW5kZWxEaWFsb2dJbmZvcyAodGFyZ2V0RGlhbG9nSWQ/OiBzdHJpbmcpOiBJTURpYWxvZ0luZm9zIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXJcbiAgY29uc3QgY3VycmVudFBhZ2VJZCA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLmN1cnJlbnRQYWdlSWRcbiAgY29uc3QgY3VycmVudERpYWxvZ0lkID0gc3RhdGUuYXBwUnVudGltZUluZm8uY3VycmVudERpYWxvZ0lkXG4gIGxldCBkaWFsb2dJbmZvcyA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLmRpYWxvZ0luZm9zIHx8IEltbXV0YWJsZSh7fSkgYXMgYW55XG5cbiAgY29uc3QgZGlhbG9ncyA9IHN0YXRlLmFwcENvbmZpZy5kaWFsb2dzXG4gIGNvbnN0IHBhZ2VzID0gc3RhdGUuYXBwQ29uZmlnLnBhZ2VzXG5cbiAgY29uc3QgZGlhbG9nSW5mbyA9IHtcbiAgICBjYW5DbG9zZTogdHJ1ZSxcbiAgICBjaGVja2VkOiB0cnVlLFxuICAgIGlzQ2xvc2VkOiB0cnVlXG4gIH1cblxuICBpZiAoY3VycmVudERpYWxvZ0lkKSB7XG4gICAgaWYgKGRpYWxvZ3NbY3VycmVudERpYWxvZ0lkXT8uaXNTcGxhc2gpIHtcbiAgICAgIGRpYWxvZ0luZm9zID0gZGlhbG9nSW5mb3Muc2V0KGN1cnJlbnREaWFsb2dJZCwgZGlhbG9nSW5mbylcbiAgICB9XG4gICAgaWYgKHBhZ2VzW2N1cnJlbnRQYWdlSWRdLmF1dG9PcGVuRGlhbG9nSWQpIHtcbiAgICAgIGRpYWxvZ0luZm9zID0gZGlhbG9nSW5mb3Muc2V0KGN1cnJlbnRQYWdlSWQgKyAnLScgKyBwYWdlc1tjdXJyZW50UGFnZUlkXS5hdXRvT3BlbkRpYWxvZ0lkLCBkaWFsb2dJbmZvKVxuICAgIH1cbiAgICBpZiAodGFyZ2V0RGlhbG9nSWQpIHsgLy8gY2xpY2sgZGxnIGl0ZW0uIHNhdmUgYWxsIHBhZ2VzIHJlbGF0ZWQuXG4gICAgICBPYmplY3Qua2V5cyhwYWdlcykuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIGlmIChwYWdlc1tpZF0uYXV0b09wZW5EaWFsb2dJZCA9PT0gY3VycmVudERpYWxvZ0lkKSB7XG4gICAgICAgICAgZGlhbG9nSW5mb3MgPSBkaWFsb2dJbmZvcy5zZXQoaWQgKyAnLScgKyBjdXJyZW50RGlhbG9nSWQsIGRpYWxvZ0luZm8pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKCFkaWFsb2dzW2N1cnJlbnREaWFsb2dJZF0/LmlzU3BsYXNoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgT2JqZWN0LmtleXMoZGlhbG9ncykuc29tZShpZCA9PiB7XG4gICAgICBpZiAoZGlhbG9nc1tpZF0uaXNTcGxhc2gpIHtcbiAgICAgICAgZGlhbG9nSW5mb3MgPSBkaWFsb2dJbmZvcy5zZXQoaWQsIGRpYWxvZ0luZm8pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGlmICh0YXJnZXREaWFsb2dJZCkge1xuICAgIGRpYWxvZ0luZm9zICYmIE9iamVjdC5rZXlzKGRpYWxvZ0luZm9zKS5mb3JFYWNoKGRsZ0lkID0+IHtcbiAgICAgIGlmIChkbGdJZCA9PT0gdGFyZ2V0RGlhbG9nSWQgfHwgZGxnSWQgPT09IGN1cnJlbnRQYWdlSWQgKyAnLScgKyB0YXJnZXREaWFsb2dJZCkge1xuICAgICAgICBkaWFsb2dJbmZvcyA9IGRpYWxvZ0luZm9zLnNldChkbGdJZCwgeyBjYW5DbG9zZTogaXNEaWFsb2dDYW5DbG9zZSh0YXJnZXREaWFsb2dJZCksIGNoZWNrZWQ6IGZhbHNlLCBpc0Nsb3NlZDogZmFsc2UgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHJldHVybiBkaWFsb2dJbmZvc1xufVxuXG5mdW5jdGlvbiBpc0RpYWxvZ0NhbkNsb3NlIChkaWFsb2dJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0YXRlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyXG4gIGNvbnN0IGRpYWxvZyA9IHN0YXRlLmFwcENvbmZpZy5kaWFsb2dzW2RpYWxvZ0lkXVxuXG4gIHJldHVybiAhZGlhbG9nLmludGVyYWN0aW9uVHlwZSB8fCAhZGlhbG9nLmNvbmZpcm1CZWZvcmVDbG9zZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlQ3VycmVudFBhZ2UgKHRhcmdldFBhZ2VJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyXG4gIGNvbnN0IGN1cnJlbnRQYWdlSWQgPSBzdGF0ZS5hcHBSdW50aW1lSW5mby5jdXJyZW50UGFnZUlkXG4gIGNvbnN0IGN1cnJlbnREaWFsb2dJZCA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLmN1cnJlbnREaWFsb2dJZFxuXG4gIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hDaGFuZ2VTZWxlY3Rpb25Ub0FwcChudWxsKVxuICBpZiAoY3VycmVudERpYWxvZ0lkKSB7XG4gICAgY29uc3QgZGlhbG9nSW5mb3MgPSBoYW5kZWxEaWFsb2dJbmZvcygpXG4gICAgYnVpbGRlckFwcFN5bmMucHVibGlzaERpYWxvZ0luZm9zQ2hhbmdlVG9BcHAoZGlhbG9nSW5mb3MpXG4gICAgYnVpbGRlckFwcFN5bmMucHVibGlzaERpYWxvZ0NoYW5nZVRvQXBwKG51bGwpXG4gIH1cblxuICBpZiAoY3VycmVudFBhZ2VJZCAhPT0gdGFyZ2V0UGFnZUlkKSB7XG4gICAgYnVpbGRlckFwcFN5bmMucHVibGlzaFBhZ2VDaGFuZ2VUb0FwcCh0YXJnZXRQYWdlSWQpXG4gIH1cbiAgYnVpbGRlckFwcFN5bmMucHVibGljaEFjdGl2ZVBhZ2VQYXJ0Q2hhbmdlVG9BcHAoUGFnZVBhcnQuQm9keSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnREaWFsb2cgKHRhcmdldERpYWxvZ0lkOiBzdHJpbmcsIGZvcmNlUmVmcmVzaCA9IGZhbHNlKSB7XG4gIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hDaGFuZ2VTZWxlY3Rpb25Ub0FwcChudWxsKVxuICBjb25zdCBjdXJyZW50RGlhbG9nSWQgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXIuYXBwUnVudGltZUluZm8uY3VycmVudERpYWxvZ0lkXG4gIGlmIChmb3JjZVJlZnJlc2ggfHwgdGFyZ2V0RGlhbG9nSWQgIT09IGN1cnJlbnREaWFsb2dJZCkge1xuICAgIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hEaWFsb2dDaGFuZ2VUb0FwcCh0YXJnZXREaWFsb2dJZClcbiAgICBjb25zdCBkaWFsb2dJbmZvcyA9IGhhbmRlbERpYWxvZ0luZm9zKHRhcmdldERpYWxvZ0lkKVxuICAgIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hEaWFsb2dJbmZvc0NoYW5nZVRvQXBwKGRpYWxvZ0luZm9zKVxuXG4gICAgYnVpbGRlckFwcFN5bmMucHVibGljaEFjdGl2ZVBhZ2VQYXJ0Q2hhbmdlVG9BcHAobnVsbCkgLy8gc2hvdWxkIGJlIG51bGwgd2hlbiB3aW5kb3cgaXMgb3Blbi5cbiAgfVxufVxuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9zZXR0aW5nLWNvbXBvbmVudHMnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=