"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_esri_calcite-components_dist_esm_calcite-accordion_2_entry_js"],{

/***/ "./node_modules/@esri/calcite-components/dist/esm/calcite-accordion_2.entry.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/esm/calcite-accordion_2.entry.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcite_accordion: () => (/* binding */ Accordion),
/* harmony export */   calcite_accordion_item: () => (/* binding */ AccordionItem)
/* harmony export */ });
/* harmony import */ var _index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-86faef9c.js */ "./node_modules/@esri/calcite-components/dist/esm/index-86faef9c.js");
/* harmony import */ var _observers_71d332db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observers-71d332db.js */ "./node_modules/@esri/calcite-components/dist/esm/observers-71d332db.js");
/* harmony import */ var _conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./conditionalSlot-f6710875.js */ "./node_modules/@esri/calcite-components/dist/esm/conditionalSlot-f6710875.js");
/* harmony import */ var _dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dom-ed00a585.js */ "./node_modules/@esri/calcite-components/dist/esm/dom-ed00a585.js");
/* harmony import */ var _resources_cf82388c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources-cf82388c.js */ "./node_modules/@esri/calcite-components/dist/esm/resources-cf82388c.js");
/* harmony import */ var _component_f94cab72_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component-f94cab72.js */ "./node_modules/@esri/calcite-components/dist/esm/component-f94cab72.js");
/* harmony import */ var _guid_21fecfa4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./guid-21fecfa4.js */ "./node_modules/@esri/calcite-components/dist/esm/guid-21fecfa4.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */








const accordionCss = ":host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:block;max-inline-size:100%;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-color-border-2);--calcite-accordion-item-background:var(--calcite-color-foreground-1)}.accordion--transparent{--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}.accordion{border-width:1px;border-block-end-width:0px;border-style:solid;border-color:var(--calcite-color-border-2)}:host([hidden]){display:none}[hidden]{display:none}";

const Accordion = class {
  constructor(hostRef) {
    (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteInternalAccordionChange = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalAccordionChange", 6);
    this.mutationObserver = (0,_observers_71d332db_js__WEBPACK_IMPORTED_MODULE_1__.c)("mutation", () => this.updateAccordionItems());
    this.appearance = "solid";
    this.iconPosition = "end";
    this.iconType = "chevron";
    this.scale = "m";
    this.selectionMode = "multiple";
  }
  handlePropsChange() {
    this.updateAccordionItems();
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  connectedCallback() {
    this.mutationObserver?.observe(this.el, { childList: true });
    this.updateAccordionItems();
  }
  disconnectedCallback() {
    this.mutationObserver?.disconnect();
  }
  render() {
    const transparent = this.appearance === "transparent";
    return ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: {
        "accordion--transparent": transparent,
        accordion: !transparent,
      } }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null)));
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  updateActiveItemOnChange(event) {
    this.calciteInternalAccordionChange.emit({
      requestedAccordionItem: event.detail.requestedAccordionItem,
    });
    event.stopPropagation();
  }
  //--------------------------------------------------------------------------
  //
  //  Private Methods
  //
  //--------------------------------------------------------------------------
  updateAccordionItems() {
    this.el.querySelectorAll("calcite-accordion-item").forEach((item) => {
      item.iconPosition = this.iconPosition;
      item.iconType = this.iconType;
      item.scale = this.scale;
    });
    // sync props on items across shadow DOM
    document.dispatchEvent(new CustomEvent("calciteInternalAccordionItemsSync"));
  }
  get el() { return (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
  static get watchers() { return {
    "iconPosition": ["handlePropsChange"],
    "iconType": ["handlePropsChange"],
    "scale": ["handlePropsChange"],
    "selectionMode": ["handlePropsChange"]
  }; }
};
Accordion.style = accordionCss;

const SLOTS = {
  actionsStart: "actions-start",
  actionsEnd: "actions-end",
};
const CSS = {
  icon: "icon",
  header: "header",
  headerContent: "header-content",
  actionsStart: "actions-start",
  actionsEnd: "actions-end",
  headerText: "header-text",
  heading: "heading",
  description: "description",
  expandIcon: "expand-icon",
  content: "content",
  iconStart: "icon--start",
  iconEnd: "icon--end",
  headerContainer: "header-container",
};
const IDS = {
  section: "section",
  sectionToggle: "section-toggle",
};

const accordionItemCss = ".icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:calc(90deg * -1);--calcite-accordion-item-active-icon-rotation:0deg;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0deg}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0deg;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0deg;--calcite-accordion-item-active-icon-rotation-rtl:calc(180deg * -1)}:host{position:relative;display:flex;flex-direction:column;color:var(--calcite-color-text-3);text-decoration-line:none;background-color:var(--calcite-accordion-item-background, var(--calcite-color-foreground-1))}:host .header-content{outline-color:transparent}:host(:focus) .header-content{outline:2px solid transparent;outline-offset:2px;outline:2px solid var(--calcite-color-brand);outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}:host([expanded]){color:var(--calcite-color-text-1)}:host([expanded]) .content{display:block;color:var(--calcite-color-text-1)}:host([expanded]) .header{border-block-end-color:transparent}:host .header{display:flex;align-items:stretch}:host .icon{position:relative;margin:0px;display:inline-flex;color:var(--calcite-color-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:var(--calcite-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-accordion-item-icon-spacing-end)}.icon--start{display:flex;align-items:center;margin-inline-end:var(--calcite-accordion-icon-margin)}.icon--end{display:flex;align-items:center;margin-inline-end:var(--calcite-accordion-icon-margin);margin-inline-start:var(--calcite-accordion-icon-margin)}.header-container{inline-size:100%}.content{padding:var(--calcite-accordion-item-padding)}:host .content,:host .header{border-block-end:1px solid var(--calcite-accordion-item-border, var(--calcite-color-border-2))}:host .header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);word-wrap:break-word;word-break:break-word}:host .content{display:none;padding-block-start:0px;color:var(--calcite-color-text-3);text-align:initial}:host .expand-icon{color:var(--calcite-color-text-3);margin-inline-start:var(--calcite-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-accordion-item-icon-spacing-end);transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([expanded]) .expand-icon{color:var(--calcite-color-text-3);transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([expanded]) .calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .header-text{margin-block:0px;flex-grow:1;flex-direction:column;padding-block:0px;text-align:initial;margin-inline-end:auto}:host .heading,:host .description{display:flex;inline-size:100%}:host .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2)}:host .description{margin-block-start:0.25rem;color:var(--calcite-color-text-3)}:host(:focus) .heading,:host(:hover) .heading{color:var(--calcite-color-text-1)}:host(:focus) .icon,:host(:hover) .icon{color:var(--calcite-color-text-1)}:host(:focus) .expand-icon,:host(:hover) .expand-icon{color:var(--calcite-color-text-1)}:host(:focus) .description,:host(:hover) .description{color:var(--calcite-color-text-2)}:host(:focus) .heading,:host(:active) .heading,:host([expanded]) .heading{color:var(--calcite-color-text-1)}:host(:focus) .icon,:host(:active) .icon,:host([expanded]) .icon{color:var(--calcite-color-text-1)}:host(:focus) .description,:host(:active) .description,:host([expanded]) .description{color:var(--calcite-color-text-2)}.header-content{flex-grow:1;cursor:pointer;padding:var(--calcite-accordion-item-padding);flex-direction:var(--calcite-accordion-item-flex-direction)}.actions-start,.actions-end{display:flex;align-items:center}@media (forced-colors: active){:host([expanded]) .header{border-block-end:none}:host([expanded]) .heading{font-weight:bolder}:host(:hover) .heading,:host(:focus) .heading{text-decoration:underline}}:host([hidden]){display:none}[hidden]{display:none}";

const AccordionItem = class {
  constructor(hostRef) {
    (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteInternalAccordionItemSelect = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalAccordionItemSelect", 6);
    this.calciteInternalAccordionItemClose = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalAccordionItemClose", 6);
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    /** handle clicks on item header */
    this.itemHeaderClickHandler = () => this.emitRequestedItem();
    this.expanded = false;
    this.heading = undefined;
    this.description = undefined;
    this.iconStart = undefined;
    this.iconEnd = undefined;
    this.iconFlipRtl = undefined;
    this.iconPosition = undefined;
    this.iconType = undefined;
    this.accordionParent = undefined;
    this.scale = undefined;
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  connectedCallback() {
    (0,_conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
  }
  disconnectedCallback() {
    (0,_conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_2__.d)(this);
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderActionsStart() {
    const { el } = this;
    return (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.e)(el, SLOTS.actionsStart) ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.actionsStart }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.actionsStart }))) : null;
  }
  renderActionsEnd() {
    const { el } = this;
    return (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.e)(el, SLOTS.actionsEnd) ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.actionsEnd }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.actionsEnd }))) : null;
  }
  render() {
    const { iconFlipRtl } = this;
    const dir = (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el);
    const iconStartEl = this.iconStart ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: CSS.iconStart, flipRtl: iconFlipRtl === "both" || iconFlipRtl === "start", icon: this.iconStart, key: "icon-start", scale: (0,_component_f94cab72_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale) })) : null;
    const iconEndEl = this.iconEnd ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: CSS.iconEnd, flipRtl: iconFlipRtl === "both" || iconFlipRtl === "end", icon: this.iconEnd, key: "icon-end", scale: (0,_component_f94cab72_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale) })) : null;
    const { description } = this;
    return ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: {
        [`icon-position--${this.iconPosition}`]: true,
        [`icon-type--${this.iconType}`]: true,
      } }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: { [CSS.header]: true, [_resources_cf82388c_js__WEBPACK_IMPORTED_MODULE_4__.C.rtl]: dir === "rtl" } }, this.renderActionsStart(), (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { "aria-controls": IDS.section, "aria-expanded": (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.t)(this.expanded), class: CSS.headerContent, id: IDS.sectionToggle, onClick: this.itemHeaderClickHandler, role: "button", tabindex: "0" }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.headerContainer }, iconStartEl, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.headerText }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: CSS.heading }, this.heading), description ? (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: CSS.description }, description) : null), iconEndEl), (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: CSS.expandIcon, icon: this.iconType === "chevron"
        ? "chevronDown"
        : this.iconType === "caret"
          ? "caretDown"
          : this.expanded
            ? "minus"
            : "plus", scale: (0,_component_f94cab72_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale) })), this.renderActionsEnd()), (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("section", { "aria-labelledby": IDS.sectionToggle, class: CSS.content, id: IDS.section }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null)))));
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  keyDownHandler(event) {
    if (event.target === this.el) {
      switch (event.key) {
        case " ":
        case "Enter":
          this.emitRequestedItem();
          event.preventDefault();
          break;
      }
    }
  }
  updateActiveItemOnChange(event) {
    const [accordion] = event.composedPath();
    const parent = (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.el, "calcite-accordion");
    if (accordion !== parent) {
      return;
    }
    this.determineActiveItem(parent.selectionMode, event.detail.requestedAccordionItem);
    event.stopPropagation();
  }
  accordionItemSyncHandler(event) {
    const [accordion] = event.composedPath();
    const accordionItem = this.el;
    // we sync with our accordion parent via event only if the item is wrapped within another component's shadow DOM,
    // otherwise, the accordion parent will sync the item directly
    const willBeSyncedByDirectParent = accordionItem.parentElement === accordion;
    if (willBeSyncedByDirectParent) {
      return;
    }
    const closestAccordionParent = (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_3__.c)(accordionItem, "calcite-accordion");
    if (accordion !== closestAccordionParent) {
      return;
    }
    accordionItem.iconPosition = closestAccordionParent.iconPosition;
    accordionItem.iconType = closestAccordionParent.iconType;
    accordionItem.scale = closestAccordionParent.scale;
    event.stopPropagation();
  }
  determineActiveItem(selectionMode, requestedItem) {
    switch (selectionMode) {
      case "multiple":
        if (this.el === requestedItem) {
          this.expanded = !this.expanded;
        }
        break;
      case "single":
        this.expanded = this.el === requestedItem ? !this.expanded : false;
        break;
      case "single-persist":
        this.expanded = this.el === requestedItem;
        break;
    }
  }
  emitRequestedItem() {
    this.calciteInternalAccordionItemSelect.emit({
      requestedAccordionItem: this.el,
    });
  }
  get el() { return (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
};
AccordionItem.style = accordionItemCss;



//# sourceMappingURL=calcite-accordion_2.entry.js.map

/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/esm/component-f94cab72.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/esm/component-f94cab72.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ componentOnReady),
/* harmony export */   g: () => (/* binding */ getIconScale)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */
function getIconScale(componentScale) {
  return componentScale === "l" ? "m" : "s";
}
/**
 * This util helps us wait for a component to be ready for both lazy-loading (`dist` output) and non-lazy-loading (`components` output) components.
 *
 * Based on https://github.com/ionic-team/ionic-framework/blob/1a8bd6d/core/src/utils/helpers.ts#L60C1-L79C3
 *
 * @param el - the host element to wait for
 */
async function componentOnReady(el) {
  await (isStencilEl(el)
    ? el.componentOnReady()
    : new Promise((resolve) => requestAnimationFrame(() => resolve())));
}
function isStencilEl(el) {
  return typeof el.componentOnReady === "function";
}



//# sourceMappingURL=component-f94cab72.js.map

/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/esm/conditionalSlot-f6710875.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/esm/conditionalSlot-f6710875.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ connectConditionalSlotComponent),
/* harmony export */   d: () => (/* binding */ disconnectConditionalSlotComponent)
/* harmony export */ });
/* harmony import */ var _index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-86faef9c.js */ "./node_modules/@esri/calcite-components/dist/esm/index-86faef9c.js");
/* harmony import */ var _observers_71d332db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observers-71d332db.js */ "./node_modules/@esri/calcite-components/dist/esm/observers-71d332db.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */



const observed = new Set();
let mutationObserver;
const observerOptions = { childList: true };
/**
 * Helper to set up a conditional slot component on connectedCallback.
 *
 * @param component
 * @deprecated Use `onSlotchange` event with `slotChangeHasAssignedElement` DOM utility instead.
 *
 * ```
 * <slot onSlotchange={(event) => this.mySlotHasElement = slotChangeHasAssignedElement(event)} />}
 * ```
 */
function connectConditionalSlotComponent(component) {
  if (!mutationObserver) {
    mutationObserver = (0,_observers_71d332db_js__WEBPACK_IMPORTED_MODULE_1__.c)("mutation", processMutations);
  }
  mutationObserver.observe(component.el, observerOptions);
}
/**
 * Helper to tear down a conditional slot component on disconnectedCallback.
 *
 * @param component
 * @deprecated Use `onSlotchange` event with `slotChangeHasAssignedElement` DOM utility instead.
 *
 * ```
 * <slot onSlotchange={(event) => this.mySlotHasElement = slotChangeHasAssignedElement(event)} />}
 * ```
 */
function disconnectConditionalSlotComponent(component) {
  observed.delete(component.el);
  // we explicitly process queued mutations and disconnect and reconnect
  // the observer until MutationObserver gets an `unobserve` method
  // see https://github.com/whatwg/dom/issues/126
  processMutations(mutationObserver.takeRecords());
  mutationObserver.disconnect();
  for (const [element] of observed.entries()) {
    mutationObserver.observe(element, observerOptions);
  }
}
function processMutations(mutations) {
  mutations.forEach(({ target }) => {
    (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.f)(target);
  });
}



//# sourceMappingURL=conditionalSlot-f6710875.js.map

/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/esm/observers-71d332db.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/esm/observers-71d332db.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createObserver)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */
/**
 * This utility ensures observers are created only for browser contexts.
 *
 * @param type - the type of observer to create
 * @param callback - the observer callback
 * @param options - the observer options
 */
function createObserver(type, callback, options) {
  const Observer = getObserver(type);
  return new Observer(callback, options);
}
function getObserver(type) {
  // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948
  class ExtendedMutationObserver extends window.MutationObserver {
    constructor(callback) {
      super(callback);
      this.observedEntry = [];
      this.callback = callback;
    }
    observe(target, options) {
      this.observedEntry.push({ target, options });
      return super.observe(target, options);
    }
    unobserve(target) {
      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);
      this.observedEntry = [];
      this.callback(super.takeRecords(), this);
      this.disconnect();
      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));
    }
  }
  return (function () {
    return (type === "intersection"
      ? window.IntersectionObserver
      : type === "mutation"
        ? ExtendedMutationObserver
        : window.ResizeObserver);
  })();
}



//# sourceMappingURL=observers-71d332db.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY2l0ZS1jb21wb25lbnRzL2NodW5rcy92ZW5kb3JzLW5vZGVfbW9kdWxlc19lc3JpX2NhbGNpdGUtY29tcG9uZW50c19kaXN0X2VzbV9jYWxjaXRlLWFjY29yZGlvbl8yX2VudHJ5X2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzZHO0FBQy9DO0FBQ2dFO0FBQ007QUFDekU7QUFDQztBQUNoQzs7QUFFNUIsdUNBQXVDLDhDQUE4Qyx1Q0FBdUMsbUZBQW1GLHNDQUFzQyxpQkFBaUIsaUJBQWlCLDZDQUE2Qyx3Q0FBd0Msb0ZBQW9GLHNDQUFzQyxpQkFBaUIsaUJBQWlCLDhDQUE4QyxxQ0FBcUMsaUZBQWlGLHFDQUFxQyxvQkFBb0IsTUFBTSxrQkFBa0IsY0FBYyxxQkFBcUIsbUJBQW1CLDhEQUE4RCxzRUFBc0Usd0JBQXdCLDRDQUE0QyxnREFBZ0QsV0FBVyxpQkFBaUIsMkJBQTJCLG1CQUFtQiwyQ0FBMkMsZ0JBQWdCLGFBQWEsU0FBUyxhQUFhOztBQUVudEM7QUFDQTtBQUNBLElBQUkscURBQWdCO0FBQ3BCLDBDQUEwQyxxREFBVztBQUNyRCw0QkFBNEIseURBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGlCQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUMsVUFBVTtBQUN2QjtBQUNBO0FBQ0EsU0FBUyxFQUFFLHFEQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU8s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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdFQUF3RTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBYztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3RUFBd0U7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CLElBQUkscURBQVc7QUFDZixHQUFHO0FBQ0g7O0FBRXlGOztBQUV6Rjs7Ozs7Ozs7Ozs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUUrQjs7QUFFL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2VzbS9jYWxjaXRlLWFjY29yZGlvbl8yLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvZXNtL2NvbXBvbmVudC1mOTRjYWI3Mi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2VzbS9jb25kaXRpb25hbFNsb3QtZjY3MTA4NzUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9lc20vb2JzZXJ2ZXJzLTcxZDMzMmRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9tYWluL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2Mi4wLjBcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBnIGFzIGdldEVsZW1lbnQsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtODZmYWVmOWMuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVPYnNlcnZlciB9IGZyb20gJy4vb2JzZXJ2ZXJzLTcxZDMzMmRiLmpzJztcbmltcG9ydCB7IGMgYXMgY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudCwgZCBhcyBkaXNjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50IH0gZnJvbSAnLi9jb25kaXRpb25hbFNsb3QtZjY3MTA4NzUuanMnO1xuaW1wb3J0IHsgZSBhcyBnZXRTbG90dGVkLCBnIGFzIGdldEVsZW1lbnREaXIsIHQgYXMgdG9BcmlhQm9vbGVhbiwgYyBhcyBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkgfSBmcm9tICcuL2RvbS1lZDAwYTU4NS5qcyc7XG5pbXBvcnQgeyBDIGFzIENTU19VVElMSVRZIH0gZnJvbSAnLi9yZXNvdXJjZXMtY2Y4MjM4OGMuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRJY29uU2NhbGUgfSBmcm9tICcuL2NvbXBvbmVudC1mOTRjYWI3Mi5qcyc7XG5pbXBvcnQgJy4vZ3VpZC0yMWZlY2ZhNC5qcyc7XG5cbmNvbnN0IGFjY29yZGlvbkNzcyA9IFwiOmhvc3QoW3NjYWxlPXNdKXstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tc3BhY2luZy11bml0OjAuMjVyZW07LS1jYWxjaXRlLWFjY29yZGlvbi1pY29uLW1hcmdpbjowLjVyZW07LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLXBhZGRpbmc6dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1zcGFjaW5nLXVuaXQpIDAuNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpO2xpbmUtaGVpZ2h0OjFyZW19Omhvc3QoW3NjYWxlPW1dKXstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tc3BhY2luZy11bml0OjAuNXJlbTstLWNhbGNpdGUtYWNjb3JkaW9uLWljb24tbWFyZ2luOjAuNzVyZW07LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLXBhZGRpbmc6dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1zcGFjaW5nLXVuaXQpIDAuNzVyZW07Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKTtsaW5lLWhlaWdodDoxcmVtfTpob3N0KFtzY2FsZT1sXSl7LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLXNwYWNpbmctdW5pdDowLjc1cmVtOy0tY2FsY2l0ZS1hY2NvcmRpb24taWNvbi1tYXJnaW46MXJlbTstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tcGFkZGluZzp2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLXNwYWNpbmctdW5pdCkgMXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbX06aG9zdHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21heC1pbmxpbmUtc2l6ZToxMDAlO2xpbmUtaGVpZ2h0OjEuNXJlbTstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tYm9yZGVyOnZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTIpOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1iYWNrZ3JvdW5kOnZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xKX0uYWNjb3JkaW9uLS10cmFuc3BhcmVudHstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tYm9yZGVyOnRyYW5zcGFyZW50Oy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1iYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5hY2NvcmRpb257Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItYmxvY2stZW5kLXdpZHRoOjBweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTIpfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfVwiO1xuXG5jb25zdCBBY2NvcmRpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW50ZXJuYWxBY2NvcmRpb25DaGFuZ2VcIiwgNik7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gY3JlYXRlT2JzZXJ2ZXIoXCJtdXRhdGlvblwiLCAoKSA9PiB0aGlzLnVwZGF0ZUFjY29yZGlvbkl0ZW1zKCkpO1xuICAgIHRoaXMuYXBwZWFyYW5jZSA9IFwic29saWRcIjtcbiAgICB0aGlzLmljb25Qb3NpdGlvbiA9IFwiZW5kXCI7XG4gICAgdGhpcy5pY29uVHlwZSA9IFwiY2hldnJvblwiO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBcIm11bHRpcGxlXCI7XG4gIH1cbiAgaGFuZGxlUHJvcHNDaGFuZ2UoKSB7XG4gICAgdGhpcy51cGRhdGVBY2NvcmRpb25JdGVtcygpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlcj8ub2JzZXJ2ZSh0aGlzLmVsLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICB0aGlzLnVwZGF0ZUFjY29yZGlvbkl0ZW1zKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRyYW5zcGFyZW50ID0gdGhpcy5hcHBlYXJhbmNlID09PSBcInRyYW5zcGFyZW50XCI7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgXCJhY2NvcmRpb24tLXRyYW5zcGFyZW50XCI6IHRyYW5zcGFyZW50LFxuICAgICAgICBhY2NvcmRpb246ICF0cmFuc3BhcmVudCxcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBFdmVudCBMaXN0ZW5lcnNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB1cGRhdGVBY3RpdmVJdGVtT25DaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbEFjY29yZGlvbkNoYW5nZS5lbWl0KHtcbiAgICAgIHJlcXVlc3RlZEFjY29yZGlvbkl0ZW06IGV2ZW50LmRldGFpbC5yZXF1ZXN0ZWRBY2NvcmRpb25JdGVtLFxuICAgIH0pO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHVwZGF0ZUFjY29yZGlvbkl0ZW1zKCkge1xuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChcImNhbGNpdGUtYWNjb3JkaW9uLWl0ZW1cIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5pY29uUG9zaXRpb24gPSB0aGlzLmljb25Qb3NpdGlvbjtcbiAgICAgIGl0ZW0uaWNvblR5cGUgPSB0aGlzLmljb25UeXBlO1xuICAgICAgaXRlbS5zY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgfSk7XG4gICAgLy8gc3luYyBwcm9wcyBvbiBpdGVtcyBhY3Jvc3Mgc2hhZG93IERPTVxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uSXRlbXNTeW5jXCIpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJpY29uUG9zaXRpb25cIjogW1wiaGFuZGxlUHJvcHNDaGFuZ2VcIl0sXG4gICAgXCJpY29uVHlwZVwiOiBbXCJoYW5kbGVQcm9wc0NoYW5nZVwiXSxcbiAgICBcInNjYWxlXCI6IFtcImhhbmRsZVByb3BzQ2hhbmdlXCJdLFxuICAgIFwic2VsZWN0aW9uTW9kZVwiOiBbXCJoYW5kbGVQcm9wc0NoYW5nZVwiXVxuICB9OyB9XG59O1xuQWNjb3JkaW9uLnN0eWxlID0gYWNjb3JkaW9uQ3NzO1xuXG5jb25zdCBTTE9UUyA9IHtcbiAgYWN0aW9uc1N0YXJ0OiBcImFjdGlvbnMtc3RhcnRcIixcbiAgYWN0aW9uc0VuZDogXCJhY3Rpb25zLWVuZFwiLFxufTtcbmNvbnN0IENTUyA9IHtcbiAgaWNvbjogXCJpY29uXCIsXG4gIGhlYWRlcjogXCJoZWFkZXJcIixcbiAgaGVhZGVyQ29udGVudDogXCJoZWFkZXItY29udGVudFwiLFxuICBhY3Rpb25zU3RhcnQ6IFwiYWN0aW9ucy1zdGFydFwiLFxuICBhY3Rpb25zRW5kOiBcImFjdGlvbnMtZW5kXCIsXG4gIGhlYWRlclRleHQ6IFwiaGVhZGVyLXRleHRcIixcbiAgaGVhZGluZzogXCJoZWFkaW5nXCIsXG4gIGRlc2NyaXB0aW9uOiBcImRlc2NyaXB0aW9uXCIsXG4gIGV4cGFuZEljb246IFwiZXhwYW5kLWljb25cIixcbiAgY29udGVudDogXCJjb250ZW50XCIsXG4gIGljb25TdGFydDogXCJpY29uLS1zdGFydFwiLFxuICBpY29uRW5kOiBcImljb24tLWVuZFwiLFxuICBoZWFkZXJDb250YWluZXI6IFwiaGVhZGVyLWNvbnRhaW5lclwiLFxufTtcbmNvbnN0IElEUyA9IHtcbiAgc2VjdGlvbjogXCJzZWN0aW9uXCIsXG4gIHNlY3Rpb25Ub2dnbGU6IFwic2VjdGlvbi10b2dnbGVcIixcbn07XG5cbmNvbnN0IGFjY29yZGlvbkl0ZW1Dc3MgPSBcIi5pY29uLXBvc2l0aW9uLS1lbmQsLmljb24tcG9zaXRpb24tLXN0YXJ0ey0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXJvdGF0aW9uOmNhbGMoOTBkZWcgKiAtMSk7LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWFjdGl2ZS1pY29uLXJvdGF0aW9uOjBkZWc7LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWljb24tcm90YXRpb24tcnRsOjkwZGVnOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1hY3RpdmUtaWNvbi1yb3RhdGlvbi1ydGw6MGRlZ30uaWNvbi1wb3NpdGlvbi0tc3RhcnR7LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXNwYWNpbmctc3RhcnQ6MDstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0taWNvbi1zcGFjaW5nLWVuZDp2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pY29uLW1hcmdpbil9Lmljb24tcG9zaXRpb24tLWVuZHstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tZmxleC1kaXJlY3Rpb246cm93Oy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXNwYWNpbmctc3RhcnQ6dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taWNvbi1tYXJnaW4pOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXNwYWNpbmctZW5kOjB9Lmljb24tcG9zaXRpb24tLWVuZDpub3QoLmljb24tdHlwZS0tcGx1cy1taW51cyl7LS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWljb24tcm90YXRpb246MGRlZzstLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tYWN0aXZlLWljb24tcm90YXRpb246MTgwZGVnOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXJvdGF0aW9uLXJ0bDowZGVnOy0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1hY3RpdmUtaWNvbi1yb3RhdGlvbi1ydGw6Y2FsYygxODBkZWcgKiAtMSl9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMyk7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tYmFja2dyb3VuZCwgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpKX06aG9zdCAuaGVhZGVyLWNvbnRlbnR7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudH06aG9zdCg6Zm9jdXMpIC5oZWFkZXItY29udGVudHtvdXRsaW5lOjJweCBzb2xpZCB0cmFuc3BhcmVudDtvdXRsaW5lLW9mZnNldDoycHg7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCk7b3V0bGluZS1vZmZzZXQ6Y2FsYyhcXG4gICAgICAgICAgICAtMnB4ICpcXG4gICAgICAgICAgICBjYWxjKFxcbiAgICAgICAgICAgICAgMSAtXFxuICAgICAgICAgICAgICAyICogY2xhbXAoXFxuICAgICAgICAgICAgICAgIDAsXFxuICAgICAgICAgICAgICAgIHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksXFxuICAgICAgICAgICAgICAgIDFcXG4gICAgICAgICAgICAgIClcXG4gICAgICAgICAgICApXFxuICAgICAgICAgICl9Omhvc3QoW2V4cGFuZGVkXSl7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfTpob3N0KFtleHBhbmRlZF0pIC5jb250ZW50e2Rpc3BsYXk6YmxvY2s7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfTpob3N0KFtleHBhbmRlZF0pIC5oZWFkZXJ7Ym9yZGVyLWJsb2NrLWVuZC1jb2xvcjp0cmFuc3BhcmVudH06aG9zdCAuaGVhZGVye2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpzdHJldGNofTpob3N0IC5pY29ue3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowcHg7ZGlzcGxheTppbmxpbmUtZmxleDtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMyk7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtczt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0taWNvbi1zcGFjaW5nLXN0YXJ0KTttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0taWNvbi1zcGFjaW5nLWVuZCl9Lmljb24tLXN0YXJ0e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taWNvbi1tYXJnaW4pfS5pY29uLS1lbmR7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pY29uLW1hcmdpbik7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pY29uLW1hcmdpbil9LmhlYWRlci1jb250YWluZXJ7aW5saW5lLXNpemU6MTAwJX0uY29udGVudHtwYWRkaW5nOnZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tcGFkZGluZyl9Omhvc3QgLmNvbnRlbnQsOmhvc3QgLmhlYWRlcntib3JkZXItYmxvY2stZW5kOjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWJvcmRlciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMikpfTpob3N0IC5oZWFkZXIgKntkaXNwbGF5OmlubGluZS1mbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7d29yZC13cmFwOmJyZWFrLXdvcmQ7d29yZC1icmVhazpicmVhay13b3JkfTpob3N0IC5jb250ZW50e2Rpc3BsYXk6bm9uZTtwYWRkaW5nLWJsb2NrLXN0YXJ0OjBweDtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMyk7dGV4dC1hbGlnbjppbml0aWFsfTpob3N0IC5leHBhbmQtaWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMyk7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWljb24tc3BhY2luZy1zdGFydCk7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXNwYWNpbmctZW5kKTt0cmFuc2Zvcm06cm90YXRlKHZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0taWNvbi1yb3RhdGlvbikpfS5jYWxjaXRlLS1ydGwgLmV4cGFuZC1pY29ue3RyYW5zZm9ybTpyb3RhdGUodmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1pY29uLXJvdGF0aW9uLXJ0bCkpfTpob3N0KFtleHBhbmRlZF0pIC5leHBhbmQtaWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMyk7dHJhbnNmb3JtOnJvdGF0ZSh2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWFjdGl2ZS1pY29uLXJvdGF0aW9uKSl9Omhvc3QoW2V4cGFuZGVkXSkgLmNhbGNpdGUtLXJ0bCAuZXhwYW5kLWljb257dHJhbnNmb3JtOnJvdGF0ZSh2YXIoLS1jYWxjaXRlLWFjY29yZGlvbi1pdGVtLWFjdGl2ZS1pY29uLXJvdGF0aW9uLXJ0bCkpfTpob3N0IC5oZWFkZXItdGV4dHttYXJnaW4tYmxvY2s6MHB4O2ZsZXgtZ3JvdzoxO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nLWJsb2NrOjBweDt0ZXh0LWFsaWduOmluaXRpYWw7bWFyZ2luLWlubGluZS1lbmQ6YXV0b306aG9zdCAuaGVhZGluZyw6aG9zdCAuZGVzY3JpcHRpb257ZGlzcGxheTpmbGV4O2lubGluZS1zaXplOjEwMCV9Omhvc3QgLmhlYWRpbmd7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1tZWRpdW0pO2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0yKX06aG9zdCAuZGVzY3JpcHRpb257bWFyZ2luLWJsb2NrLXN0YXJ0OjAuMjVyZW07Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTMpfTpob3N0KDpmb2N1cykgLmhlYWRpbmcsOmhvc3QoOmhvdmVyKSAuaGVhZGluZ3tjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSl9Omhvc3QoOmZvY3VzKSAuaWNvbiw6aG9zdCg6aG92ZXIpIC5pY29ue2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0xKX06aG9zdCg6Zm9jdXMpIC5leHBhbmQtaWNvbiw6aG9zdCg6aG92ZXIpIC5leHBhbmQtaWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSl9Omhvc3QoOmZvY3VzKSAuZGVzY3JpcHRpb24sOmhvc3QoOmhvdmVyKSAuZGVzY3JpcHRpb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpfTpob3N0KDpmb2N1cykgLmhlYWRpbmcsOmhvc3QoOmFjdGl2ZSkgLmhlYWRpbmcsOmhvc3QoW2V4cGFuZGVkXSkgLmhlYWRpbmd7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfTpob3N0KDpmb2N1cykgLmljb24sOmhvc3QoOmFjdGl2ZSkgLmljb24sOmhvc3QoW2V4cGFuZGVkXSkgLmljb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfTpob3N0KDpmb2N1cykgLmRlc2NyaXB0aW9uLDpob3N0KDphY3RpdmUpIC5kZXNjcmlwdGlvbiw6aG9zdChbZXhwYW5kZWRdKSAuZGVzY3JpcHRpb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpfS5oZWFkZXItY29udGVudHtmbGV4LWdyb3c6MTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOnZhcigtLWNhbGNpdGUtYWNjb3JkaW9uLWl0ZW0tcGFkZGluZyk7ZmxleC1kaXJlY3Rpb246dmFyKC0tY2FsY2l0ZS1hY2NvcmRpb24taXRlbS1mbGV4LWRpcmVjdGlvbil9LmFjdGlvbnMtc3RhcnQsLmFjdGlvbnMtZW5ke2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9QG1lZGlhIChmb3JjZWQtY29sb3JzOiBhY3RpdmUpezpob3N0KFtleHBhbmRlZF0pIC5oZWFkZXJ7Ym9yZGVyLWJsb2NrLWVuZDpub25lfTpob3N0KFtleHBhbmRlZF0pIC5oZWFkaW5ne2ZvbnQtd2VpZ2h0OmJvbGRlcn06aG9zdCg6aG92ZXIpIC5oZWFkaW5nLDpob3N0KDpmb2N1cykgLmhlYWRpbmd7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX19Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9XCI7XG5cbmNvbnN0IEFjY29yZGlvbkl0ZW0gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uSXRlbVNlbGVjdCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uSXRlbVNlbGVjdFwiLCA2KTtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbEFjY29yZGlvbkl0ZW1DbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uSXRlbUNsb3NlXCIsIDYpO1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgICAvL1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKiogaGFuZGxlIGNsaWNrcyBvbiBpdGVtIGhlYWRlciAqL1xuICAgIHRoaXMuaXRlbUhlYWRlckNsaWNrSGFuZGxlciA9ICgpID0+IHRoaXMuZW1pdFJlcXVlc3RlZEl0ZW0oKTtcbiAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5oZWFkaW5nID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uU3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uRW5kID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaWNvbkZsaXBSdGwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uUG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uVHlwZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFjY29yZGlvblBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNjYWxlID0gdW5kZWZpbmVkO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQodGhpcyk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgZGlzY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudCh0aGlzKTtcbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUmVuZGVyIE1ldGhvZHNcbiAgLy9cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgcmVuZGVyQWN0aW9uc1N0YXJ0KCkge1xuICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGdldFNsb3R0ZWQoZWwsIFNMT1RTLmFjdGlvbnNTdGFydCkgPyAoaChcImRpdlwiLCB7IGNsYXNzOiBDU1MuYWN0aW9uc1N0YXJ0IH0sIGgoXCJzbG90XCIsIHsgbmFtZTogU0xPVFMuYWN0aW9uc1N0YXJ0IH0pKSkgOiBudWxsO1xuICB9XG4gIHJlbmRlckFjdGlvbnNFbmQoKSB7XG4gICAgY29uc3QgeyBlbCB9ID0gdGhpcztcbiAgICByZXR1cm4gZ2V0U2xvdHRlZChlbCwgU0xPVFMuYWN0aW9uc0VuZCkgPyAoaChcImRpdlwiLCB7IGNsYXNzOiBDU1MuYWN0aW9uc0VuZCB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFNMT1RTLmFjdGlvbnNFbmQgfSkpKSA6IG51bGw7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaWNvbkZsaXBSdGwgfSA9IHRoaXM7XG4gICAgY29uc3QgZGlyID0gZ2V0RWxlbWVudERpcih0aGlzLmVsKTtcbiAgICBjb25zdCBpY29uU3RhcnRFbCA9IHRoaXMuaWNvblN0YXJ0ID8gKGgoXCJjYWxjaXRlLWljb25cIiwgeyBjbGFzczogQ1NTLmljb25TdGFydCwgZmxpcFJ0bDogaWNvbkZsaXBSdGwgPT09IFwiYm90aFwiIHx8IGljb25GbGlwUnRsID09PSBcInN0YXJ0XCIsIGljb246IHRoaXMuaWNvblN0YXJ0LCBrZXk6IFwiaWNvbi1zdGFydFwiLCBzY2FsZTogZ2V0SWNvblNjYWxlKHRoaXMuc2NhbGUpIH0pKSA6IG51bGw7XG4gICAgY29uc3QgaWNvbkVuZEVsID0gdGhpcy5pY29uRW5kID8gKGgoXCJjYWxjaXRlLWljb25cIiwgeyBjbGFzczogQ1NTLmljb25FbmQsIGZsaXBSdGw6IGljb25GbGlwUnRsID09PSBcImJvdGhcIiB8fCBpY29uRmxpcFJ0bCA9PT0gXCJlbmRcIiwgaWNvbjogdGhpcy5pY29uRW5kLCBrZXk6IFwiaWNvbi1lbmRcIiwgc2NhbGU6IGdldEljb25TY2FsZSh0aGlzLnNjYWxlKSB9KSkgOiBudWxsO1xuICAgIGNvbnN0IHsgZGVzY3JpcHRpb24gfSA9IHRoaXM7XG4gICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBbYGljb24tcG9zaXRpb24tLSR7dGhpcy5pY29uUG9zaXRpb259YF06IHRydWUsXG4gICAgICAgIFtgaWNvbi10eXBlLS0ke3RoaXMuaWNvblR5cGV9YF06IHRydWUsXG4gICAgICB9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogeyBbQ1NTLmhlYWRlcl06IHRydWUsIFtDU1NfVVRJTElUWS5ydGxdOiBkaXIgPT09IFwicnRsXCIgfSB9LCB0aGlzLnJlbmRlckFjdGlvbnNTdGFydCgpLCBoKFwiZGl2XCIsIHsgXCJhcmlhLWNvbnRyb2xzXCI6IElEUy5zZWN0aW9uLCBcImFyaWEtZXhwYW5kZWRcIjogdG9BcmlhQm9vbGVhbih0aGlzLmV4cGFuZGVkKSwgY2xhc3M6IENTUy5oZWFkZXJDb250ZW50LCBpZDogSURTLnNlY3Rpb25Ub2dnbGUsIG9uQ2xpY2s6IHRoaXMuaXRlbUhlYWRlckNsaWNrSGFuZGxlciwgcm9sZTogXCJidXR0b25cIiwgdGFiaW5kZXg6IFwiMFwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogQ1NTLmhlYWRlckNvbnRhaW5lciB9LCBpY29uU3RhcnRFbCwgaChcImRpdlwiLCB7IGNsYXNzOiBDU1MuaGVhZGVyVGV4dCB9LCBoKFwic3BhblwiLCB7IGNsYXNzOiBDU1MuaGVhZGluZyB9LCB0aGlzLmhlYWRpbmcpLCBkZXNjcmlwdGlvbiA/IGgoXCJzcGFuXCIsIHsgY2xhc3M6IENTUy5kZXNjcmlwdGlvbiB9LCBkZXNjcmlwdGlvbikgOiBudWxsKSwgaWNvbkVuZEVsKSwgaChcImNhbGNpdGUtaWNvblwiLCB7IGNsYXNzOiBDU1MuZXhwYW5kSWNvbiwgaWNvbjogdGhpcy5pY29uVHlwZSA9PT0gXCJjaGV2cm9uXCJcbiAgICAgICAgPyBcImNoZXZyb25Eb3duXCJcbiAgICAgICAgOiB0aGlzLmljb25UeXBlID09PSBcImNhcmV0XCJcbiAgICAgICAgICA/IFwiY2FyZXREb3duXCJcbiAgICAgICAgICA6IHRoaXMuZXhwYW5kZWRcbiAgICAgICAgICAgID8gXCJtaW51c1wiXG4gICAgICAgICAgICA6IFwicGx1c1wiLCBzY2FsZTogZ2V0SWNvblNjYWxlKHRoaXMuc2NhbGUpIH0pKSwgdGhpcy5yZW5kZXJBY3Rpb25zRW5kKCkpLCBoKFwic2VjdGlvblwiLCB7IFwiYXJpYS1sYWJlbGxlZGJ5XCI6IElEUy5zZWN0aW9uVG9nZ2xlLCBjbGFzczogQ1NTLmNvbnRlbnQsIGlkOiBJRFMuc2VjdGlvbiB9LCBoKFwic2xvdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgRXZlbnQgTGlzdGVuZXJzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAga2V5RG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsKSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICBjYXNlIFwiRW50ZXJcIjpcbiAgICAgICAgICB0aGlzLmVtaXRSZXF1ZXN0ZWRJdGVtKCk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdXBkYXRlQWN0aXZlSXRlbU9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgW2FjY29yZGlvbl0gPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICBjb25zdCBwYXJlbnQgPSBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkodGhpcy5lbCwgXCJjYWxjaXRlLWFjY29yZGlvblwiKTtcbiAgICBpZiAoYWNjb3JkaW9uICE9PSBwYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZXRlcm1pbmVBY3RpdmVJdGVtKHBhcmVudC5zZWxlY3Rpb25Nb2RlLCBldmVudC5kZXRhaWwucmVxdWVzdGVkQWNjb3JkaW9uSXRlbSk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgYWNjb3JkaW9uSXRlbVN5bmNIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgW2FjY29yZGlvbl0gPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICBjb25zdCBhY2NvcmRpb25JdGVtID0gdGhpcy5lbDtcbiAgICAvLyB3ZSBzeW5jIHdpdGggb3VyIGFjY29yZGlvbiBwYXJlbnQgdmlhIGV2ZW50IG9ubHkgaWYgdGhlIGl0ZW0gaXMgd3JhcHBlZCB3aXRoaW4gYW5vdGhlciBjb21wb25lbnQncyBzaGFkb3cgRE9NLFxuICAgIC8vIG90aGVyd2lzZSwgdGhlIGFjY29yZGlvbiBwYXJlbnQgd2lsbCBzeW5jIHRoZSBpdGVtIGRpcmVjdGx5XG4gICAgY29uc3Qgd2lsbEJlU3luY2VkQnlEaXJlY3RQYXJlbnQgPSBhY2NvcmRpb25JdGVtLnBhcmVudEVsZW1lbnQgPT09IGFjY29yZGlvbjtcbiAgICBpZiAod2lsbEJlU3luY2VkQnlEaXJlY3RQYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2xvc2VzdEFjY29yZGlvblBhcmVudCA9IGNsb3Nlc3RFbGVtZW50Q3Jvc3NTaGFkb3dCb3VuZGFyeShhY2NvcmRpb25JdGVtLCBcImNhbGNpdGUtYWNjb3JkaW9uXCIpO1xuICAgIGlmIChhY2NvcmRpb24gIT09IGNsb3Nlc3RBY2NvcmRpb25QYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWNjb3JkaW9uSXRlbS5pY29uUG9zaXRpb24gPSBjbG9zZXN0QWNjb3JkaW9uUGFyZW50Lmljb25Qb3NpdGlvbjtcbiAgICBhY2NvcmRpb25JdGVtLmljb25UeXBlID0gY2xvc2VzdEFjY29yZGlvblBhcmVudC5pY29uVHlwZTtcbiAgICBhY2NvcmRpb25JdGVtLnNjYWxlID0gY2xvc2VzdEFjY29yZGlvblBhcmVudC5zY2FsZTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBkZXRlcm1pbmVBY3RpdmVJdGVtKHNlbGVjdGlvbk1vZGUsIHJlcXVlc3RlZEl0ZW0pIHtcbiAgICBzd2l0Y2ggKHNlbGVjdGlvbk1vZGUpIHtcbiAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICBpZiAodGhpcy5lbCA9PT0gcmVxdWVzdGVkSXRlbSkge1xuICAgICAgICAgIHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaW5nbGVcIjpcbiAgICAgICAgdGhpcy5leHBhbmRlZCA9IHRoaXMuZWwgPT09IHJlcXVlc3RlZEl0ZW0gPyAhdGhpcy5leHBhbmRlZCA6IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaW5nbGUtcGVyc2lzdFwiOlxuICAgICAgICB0aGlzLmV4cGFuZGVkID0gdGhpcy5lbCA9PT0gcmVxdWVzdGVkSXRlbTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGVtaXRSZXF1ZXN0ZWRJdGVtKCkge1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsQWNjb3JkaW9uSXRlbVNlbGVjdC5lbWl0KHtcbiAgICAgIHJlcXVlc3RlZEFjY29yZGlvbkl0ZW06IHRoaXMuZWwsXG4gICAgfSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbkFjY29yZGlvbkl0ZW0uc3R5bGUgPSBhY2NvcmRpb25JdGVtQ3NzO1xuXG5leHBvcnQgeyBBY2NvcmRpb24gYXMgY2FsY2l0ZV9hY2NvcmRpb24sIEFjY29yZGlvbkl0ZW0gYXMgY2FsY2l0ZV9hY2NvcmRpb25faXRlbSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjaXRlLWFjY29yZGlvbl8yLmVudHJ5LmpzLm1hcCIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9tYWluL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2Mi4wLjBcbiAqL1xuZnVuY3Rpb24gZ2V0SWNvblNjYWxlKGNvbXBvbmVudFNjYWxlKSB7XG4gIHJldHVybiBjb21wb25lbnRTY2FsZSA9PT0gXCJsXCIgPyBcIm1cIiA6IFwic1wiO1xufVxuLyoqXG4gKiBUaGlzIHV0aWwgaGVscHMgdXMgd2FpdCBmb3IgYSBjb21wb25lbnQgdG8gYmUgcmVhZHkgZm9yIGJvdGggbGF6eS1sb2FkaW5nIChgZGlzdGAgb3V0cHV0KSBhbmQgbm9uLWxhenktbG9hZGluZyAoYGNvbXBvbmVudHNgIG91dHB1dCkgY29tcG9uZW50cy5cbiAqXG4gKiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi8xYThiZDZkL2NvcmUvc3JjL3V0aWxzL2hlbHBlcnMudHMjTDYwQzEtTDc5QzNcbiAqXG4gKiBAcGFyYW0gZWwgLSB0aGUgaG9zdCBlbGVtZW50IHRvIHdhaXQgZm9yXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbXBvbmVudE9uUmVhZHkoZWwpIHtcbiAgYXdhaXQgKGlzU3RlbmNpbEVsKGVsKVxuICAgID8gZWwuY29tcG9uZW50T25SZWFkeSgpXG4gICAgOiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSkpKTtcbn1cbmZ1bmN0aW9uIGlzU3RlbmNpbEVsKGVsKSB7XG4gIHJldHVybiB0eXBlb2YgZWwuY29tcG9uZW50T25SZWFkeSA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5leHBvcnQgeyBjb21wb25lbnRPblJlYWR5IGFzIGMsIGdldEljb25TY2FsZSBhcyBnIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC1mOTRjYWI3Mi5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjIuMC4wXG4gKi9cbmltcG9ydCB7IGYgYXMgZm9yY2VVcGRhdGUgfSBmcm9tICcuL2luZGV4LTg2ZmFlZjljLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlT2JzZXJ2ZXIgfSBmcm9tICcuL29ic2VydmVycy03MWQzMzJkYi5qcyc7XG5cbmNvbnN0IG9ic2VydmVkID0gbmV3IFNldCgpO1xubGV0IG11dGF0aW9uT2JzZXJ2ZXI7XG5jb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7IGNoaWxkTGlzdDogdHJ1ZSB9O1xuLyoqXG4gKiBIZWxwZXIgdG8gc2V0IHVwIGEgY29uZGl0aW9uYWwgc2xvdCBjb21wb25lbnQgb24gY29ubmVjdGVkQ2FsbGJhY2suXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFxuICogQGRlcHJlY2F0ZWQgVXNlIGBvblNsb3RjaGFuZ2VgIGV2ZW50IHdpdGggYHNsb3RDaGFuZ2VIYXNBc3NpZ25lZEVsZW1lbnRgIERPTSB1dGlsaXR5IGluc3RlYWQuXG4gKlxuICogYGBgXG4gKiA8c2xvdCBvblNsb3RjaGFuZ2U9eyhldmVudCkgPT4gdGhpcy5teVNsb3RIYXNFbGVtZW50ID0gc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudChldmVudCl9IC8+fVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmICghbXV0YXRpb25PYnNlcnZlcikge1xuICAgIG11dGF0aW9uT2JzZXJ2ZXIgPSBjcmVhdGVPYnNlcnZlcihcIm11dGF0aW9uXCIsIHByb2Nlc3NNdXRhdGlvbnMpO1xuICB9XG4gIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShjb21wb25lbnQuZWwsIG9ic2VydmVyT3B0aW9ucyk7XG59XG4vKipcbiAqIEhlbHBlciB0byB0ZWFyIGRvd24gYSBjb25kaXRpb25hbCBzbG90IGNvbXBvbmVudCBvbiBkaXNjb25uZWN0ZWRDYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAZGVwcmVjYXRlZCBVc2UgYG9uU2xvdGNoYW5nZWAgZXZlbnQgd2l0aCBgc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudGAgRE9NIHV0aWxpdHkgaW5zdGVhZC5cbiAqXG4gKiBgYGBcbiAqIDxzbG90IG9uU2xvdGNoYW5nZT17KGV2ZW50KSA9PiB0aGlzLm15U2xvdEhhc0VsZW1lbnQgPSBzbG90Q2hhbmdlSGFzQXNzaWduZWRFbGVtZW50KGV2ZW50KX0gLz59XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gZGlzY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudChjb21wb25lbnQpIHtcbiAgb2JzZXJ2ZWQuZGVsZXRlKGNvbXBvbmVudC5lbCk7XG4gIC8vIHdlIGV4cGxpY2l0bHkgcHJvY2VzcyBxdWV1ZWQgbXV0YXRpb25zIGFuZCBkaXNjb25uZWN0IGFuZCByZWNvbm5lY3RcbiAgLy8gdGhlIG9ic2VydmVyIHVudGlsIE11dGF0aW9uT2JzZXJ2ZXIgZ2V0cyBhbiBgdW5vYnNlcnZlYCBtZXRob2RcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZG9tL2lzc3Vlcy8xMjZcbiAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCkpO1xuICBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgZm9yIChjb25zdCBbZWxlbWVudF0gb2Ygb2JzZXJ2ZWQuZW50cmllcygpKSB7XG4gICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIG9ic2VydmVyT3B0aW9ucyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gIG11dGF0aW9ucy5mb3JFYWNoKCh7IHRhcmdldCB9KSA9PiB7XG4gICAgZm9yY2VVcGRhdGUodGFyZ2V0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQgYXMgYywgZGlzY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudCBhcyBkIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbmFsU2xvdC1mNjcxMDg3NS5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjIuMC4wXG4gKi9cbi8qKlxuICogVGhpcyB1dGlsaXR5IGVuc3VyZXMgb2JzZXJ2ZXJzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIGJyb3dzZXIgY29udGV4dHMuXG4gKlxuICogQHBhcmFtIHR5cGUgLSB0aGUgdHlwZSBvZiBvYnNlcnZlciB0byBjcmVhdGVcbiAqIEBwYXJhbSBjYWxsYmFjayAtIHRoZSBvYnNlcnZlciBjYWxsYmFja1xuICogQHBhcmFtIG9wdGlvbnMgLSB0aGUgb2JzZXJ2ZXIgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZlcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICBjb25zdCBPYnNlcnZlciA9IGdldE9ic2VydmVyKHR5cGUpO1xuICByZXR1cm4gbmV3IE9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGdldE9ic2VydmVyKHR5cGUpIHtcbiAgLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9kb20vaXNzdWVzLzEyNiNpc3N1ZWNvbW1lbnQtMTA0OTgxNDk0OFxuICBjbGFzcyBFeHRlbmRlZE11dGF0aW9uT2JzZXJ2ZXIgZXh0ZW5kcyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgICAgIHN1cGVyKGNhbGxiYWNrKTtcbiAgICAgIHRoaXMub2JzZXJ2ZWRFbnRyeSA9IFtdO1xuICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBvYnNlcnZlKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5vYnNlcnZlZEVudHJ5LnB1c2goeyB0YXJnZXQsIG9wdGlvbnMgfSk7XG4gICAgICByZXR1cm4gc3VwZXIub2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICB1bm9ic2VydmUodGFyZ2V0KSB7XG4gICAgICBjb25zdCBuZXdPYnNlcnZlZEVudHJpZXMgPSB0aGlzLm9ic2VydmVkRW50cnkuZmlsdGVyKChvYnNlcnZlZCkgPT4gb2JzZXJ2ZWQudGFyZ2V0ICE9PSB0YXJnZXQpO1xuICAgICAgdGhpcy5vYnNlcnZlZEVudHJ5ID0gW107XG4gICAgICB0aGlzLmNhbGxiYWNrKHN1cGVyLnRha2VSZWNvcmRzKCksIHRoaXMpO1xuICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICBuZXdPYnNlcnZlZEVudHJpZXMuZm9yRWFjaCgob2JzZXJ2ZWQpID0+IHRoaXMub2JzZXJ2ZShvYnNlcnZlZC50YXJnZXQsIG9ic2VydmVkLm9wdGlvbnMpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0eXBlID09PSBcImludGVyc2VjdGlvblwiXG4gICAgICA/IHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgOiB0eXBlID09PSBcIm11dGF0aW9uXCJcbiAgICAgICAgPyBFeHRlbmRlZE11dGF0aW9uT2JzZXJ2ZXJcbiAgICAgICAgOiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpO1xuICB9KSgpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVPYnNlcnZlciBhcyBjIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmVycy03MWQzMzJkYi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=