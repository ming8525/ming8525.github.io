/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-549d82.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-549d82"],{54354:(e,t,i)=>{i.r(t),i.d(t,{arcgis_item_badge:()=>m,arcgis_item_badges:()=>f,arcgis_item_favorite:()=>k,arcgis_item_share_summary:()=>_,arcgis_selected:()=>I,arcgis_selected_item:()=>P,arcgis_sublayer_type:()=>U,arcgis_user_avatar:()=>T,arcgis_user_popup:()=>S,arcgis_user_popup_popover:()=>z});var r=i(81149),o=i(82218),s=i(39271),n=i(36238),a=i(20164),l=i(25419),c=i(47415),d=i(49853),u=i(51837),h=i(12046),p=i(73411),g=i(25145);i(42577),i(74689),i(79210),i(13615),i(69283),i(70464),i(52787);const v={Authoritative:{icon:"check-circle"},Deprecated:{icon:"circle-disallowed"},Marketplace:{icon:"marketplace"},Retired:{icon:"exclamation-mark-triangle"},"Public Data Collection":{icon:"pencil"},Subscriber:{icon:"security"},Premium:{icon:"shield-coin"},Collaboration:{icon:"collaboration-distributed"},Registered:{icon:"key"},"Living Atlas":{image:function(){return(0,r.h)("svg",{viewBox:"0 0 16 16",fill:"currentColor"},(0,r.h)("path",{d:"M2.7 9c-.4-1.3-.2-2.8.4-4s1.7-2.2 3-2.6c.4.4.8.9 1.1 1.2h.2l.1-.1v-.1C7.2 2.4 6.8.2 6.3 0c-.1 0-.2-.1-.4-.1-.1.1-.2.1-.4.2-.1 0-.2.1-.3.2 0 .2-.1.3-.1.4 0 .2.1.5.4.8-1.4.6-2.6 1.7-3.3 3-.7 1.4-.9 3-.5 4.5h1z"}),(0,r.h)("path",{d:"M14 5c-.5-1.2-1.3-2.2-2.4-2.9S9.3 1 8 1h-.1c.1.3.2.6.3 1 1.2 0 2.4.5 3.3 1.2.9.8 1.5 1.8 1.8 3-3.4 4-10.1 4-12.2 3.9H1v.2l1.2.3c.5 1 1.3 1.8 2.2 2.4.9.6 2 .9 3 1v1h-2v1h5v-1h-2v-1c.9-.1 1.7-.3 2.5-.7.8-.4 1.5-1 2-1.6.6-.7 1-1.5 1.2-2.3.2-.8.3-1.7.2-2.6.7-.8.8-1.5-.3-1.8zm-6 8c-.9 0-1.7-.2-2.5-.6-.8-.4-1.4-.9-1.9-1.6 1.8.2 3.6 0 5.3-.5 1.7-.5 3.3-1.4 4.6-2.5-.1 1.4-.7 2.8-1.7 3.7-1 .9-2.4 1.5-3.8 1.5z"}))}},"Open Data":{image:function(){return(0,r.h)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M6 0C2.58 0 0 1.29 0 3C0 4.71 2.58 6 6 6C7.76001 6.08843 9.5049 5.6358 11 4.703V10.037C11 10.1696 11.0527 10.2968 11.1464 10.3906C11.2402 10.4843 11.3674 10.537 11.5 10.537C11.6326 10.537 11.7598 10.4843 11.8536 10.3906C11.9473 10.2968 12 10.1696 12 10.037V3C12 1.29 9.42 0 6 0ZM6 5C3.138 5 1 3.944 1 3C1 2.056 3.138 1 6 1C8.862 1 11 2.056 11 3C11 3.944 8.862 5 6 5ZM11.5 11.5C11.3674 11.5 11.2402 11.5527 11.1464 11.6464C11.0527 11.7402 11 11.8674 11 12V12.064C11 12.96 8.816 14 6 14C3.184 14 1 12.96 1 12.064V7.85C2.5767 8.53314 4.28202 8.86875 6 8.834C6.13261 8.834 6.25979 8.78132 6.35355 8.68755C6.44732 8.59379 6.5 8.46661 6.5 8.334C6.5 8.20139 6.44732 8.07421 6.35355 7.98045C6.25979 7.88668 6.13261 7.834 6 7.834C4.1944 7.89821 2.40441 7.4791 0.815 6.62C0.749152 6.56222 0.668856 6.5234 0.582675 6.50767C0.496494 6.49194 0.40766 6.4999 0.325646 6.53069C0.243632 6.56148 0.171514 6.61396 0.116982 6.68252C0.0624495 6.75108 0.0275483 6.83316 0.016 6.92C0.014 6.933 0.0100001 6.945 0.00900006 6.957C0.00700006 6.972 0 6.985 0 7V12.064C0 13.902 3.05 15 6 15C8.95 15 12 13.902 12 12.064V12C12 11.8674 11.9473 11.7402 11.8536 11.6464C11.7598 11.5527 11.6326 11.5 11.5 11.5Z",fill:"currentColor"}))}},Solution:{image:function(){return(0,r.h)("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M14.9815 2.83602C14.9814 2.62597 14.8979 2.42454 14.7494 2.27596C14.6009 2.12738 14.3996 2.04379 14.1895 2.04352H11.5525C11.5402 2.04359 11.528 2.04122 11.5166 2.03655C11.5052 2.03188 11.4948 2.025 11.4861 2.01632C11.4773 2.00763 11.4704 1.9973 11.4657 1.98592C11.461 1.97454 11.4585 1.96234 11.4585 1.95002V0.988524C11.4571 0.85421 11.4287 0.721556 11.3749 0.598477C11.3211 0.475399 11.243 0.364419 11.1454 0.272161C11.0478 0.179903 10.9326 0.108259 10.8067 0.0615025C10.6807 0.0147464 10.5467 -0.00616255 10.4125 2.35228e-05H5.57652C5.29905 0.000288282 5.03302 0.110629 4.83682 0.306829C4.64062 0.503028 4.53028 0.769056 4.53002 1.04652V1.95002C4.53002 1.97482 4.52017 1.9986 4.50263 2.01614C4.4851 2.03367 4.46132 2.04352 4.43652 2.04352H1.79902C1.58896 2.04379 1.38759 2.12738 1.23911 2.27596C1.09062 2.42454 1.00715 2.62597 1.00702 2.83602V4.84402C1.00715 4.8812 1.02201 4.91681 1.04835 4.94305C1.07468 4.96929 1.11034 4.98402 1.14752 4.98402H2.45002L2.45702 4.97752V3.57652C2.45702 3.55305 2.46634 3.53054 2.48294 3.51394C2.49954 3.49735 2.52205 3.48802 2.54552 3.48802H13.2755C13.3349 3.48893 13.3915 3.51294 13.4334 3.55496C13.4754 3.59697 13.4992 3.65368 13.5 3.71302V10.584C13.5 10.7043 13.4763 10.8234 13.4303 10.9346C13.3843 11.0457 13.3168 11.1467 13.2317 11.2317C13.1467 11.3168 13.0457 11.3843 12.9346 11.4303C12.8234 11.4763 12.7043 11.5 12.584 11.5H8.13802C8.07976 11.5001 8.02289 11.4822 7.97513 11.4488C7.92737 11.4155 7.89102 11.3682 7.87102 11.3135C7.72621 10.9132 7.45683 10.5698 7.10244 10.3339C6.74805 10.0979 6.32734 9.98189 5.90211 10.0028C5.47688 10.0236 5.06956 10.1803 4.73997 10.4498C4.41039 10.7193 4.17592 11.0874 4.07102 11.5H2.82852C2.72813 11.5 2.63186 11.4601 2.56088 11.3892C2.4899 11.3182 2.45002 11.2219 2.45002 11.1215V9.59402C2.45002 9.56927 2.44025 9.54551 2.42284 9.52791C2.40543 9.51031 2.38178 9.50029 2.35702 9.50002H1.01402L1.00702 9.50702V11.797C1.00755 12.108 1.13137 12.4062 1.35134 12.6261C1.57132 12.8459 1.8695 12.9696 2.18052 12.97H4.26102C4.42562 13.2708 4.66545 13.5237 4.95706 13.704C5.24867 13.8844 5.58208 13.9859 5.9247 13.9988C6.26732 14.0117 6.60742 13.9355 6.91176 13.7776C7.21611 13.6197 7.47427 13.3856 7.66102 13.098C7.68692 13.0587 7.72218 13.0264 7.76363 13.0041C7.80508 12.9817 7.85143 12.97 7.89852 12.97H13.931C14.2096 12.9699 14.4767 12.8592 14.6737 12.6622C14.8707 12.4652 14.9814 12.1981 14.9815 11.9195V2.83602ZM10.5 1.81252C10.5 1.86225 10.4803 1.90994 10.4451 1.94511C10.4099 1.98027 10.3622 2.00002 10.3125 2.00002H5.68752C5.63779 2.00002 5.5901 1.98027 5.55494 1.94511C5.51977 1.90994 5.50002 1.86225 5.50002 1.81252V1.22502C5.5008 1.16559 5.52475 1.10881 5.56678 1.06678C5.60881 1.02476 5.66559 1.0008 5.72502 1.00002H10.275C10.3345 1.0008 10.3912 1.02476 10.4333 1.06678C10.4753 1.10881 10.4992 1.16559 10.5 1.22502V1.81252ZM6.00002 13C5.80224 13 5.6089 12.9414 5.44445 12.8315C5.28 12.7216 5.15183 12.5654 5.07614 12.3827C5.00045 12.2 4.98065 11.9989 5.01923 11.8049C5.05782 11.611 5.15306 11.4328 5.29291 11.2929C5.43277 11.1531 5.61095 11.0578 5.80493 11.0192C5.99891 10.9807 6.19998 11.0005 6.3827 11.0761C6.56543 11.1518 6.72161 11.28 6.83149 11.4445C6.94137 11.6089 7.00002 11.8022 7.00002 12C7.00002 12.2652 6.89466 12.5196 6.70713 12.7071C6.51959 12.8947 6.26524 13 6.00002 13Z",fill:"currentColor"}),(0,r.h)("path",{d:"M6.6365 7.99698C6.68419 7.99703 6.73111 8.00905 6.77295 8.03194C6.8148 8.05483 6.85023 8.08785 6.876 8.12798C7.04796 8.40157 7.28805 8.62578 7.57274 8.77864C7.85743 8.93151 8.17696 9.00778 8.5 8.99998C8.84896 9.00826 9.19327 8.91871 9.49397 8.74145C9.79468 8.56419 10.0398 8.30631 10.2015 7.99698H11.9065C11.9313 7.99685 11.9551 7.98689 11.9726 7.96927C11.9902 7.95166 12 7.92783 12 7.90298V6.60848C12.0001 6.59612 11.9977 6.58387 11.993 6.57243C11.9883 6.561 11.9814 6.55061 11.9726 6.54187C11.9639 6.53312 11.9535 6.5262 11.9421 6.5215C11.9306 6.5168 11.9184 6.51442 11.906 6.51448H10.4C10.31 6.07987 10.0708 5.69047 9.72373 5.41383C9.37667 5.13719 8.94373 4.99077 8.5 4.99998C8.09556 5.01149 7.70379 5.14365 7.37503 5.37948C7.04627 5.61532 6.79552 5.94406 6.655 6.32348C6.63575 6.37938 6.59953 6.42787 6.55139 6.4622C6.50326 6.49653 6.44562 6.51498 6.3865 6.51498H0.5465C0.534208 6.51511 0.522456 6.52005 0.513763 6.52875C0.505071 6.53744 0.50013 6.54919 0.5 6.56148V7.94998C0.5 7.96245 0.504952 7.9744 0.513766 7.98322C0.52258 7.99203 0.534535 7.99698 0.547 7.99698H6.6365ZM8.5 5.94998C8.70767 5.94998 8.91068 6.01156 9.08335 6.12694C9.25602 6.24231 9.3906 6.4063 9.47007 6.59816C9.54955 6.79003 9.57034 7.00115 9.52982 7.20483C9.48931 7.40851 9.38931 7.5956 9.24246 7.74244C9.09562 7.88929 8.90852 7.98929 8.70484 8.02981C8.50116 8.07032 8.29005 8.04953 8.09818 7.97006C7.90632 7.89058 7.74233 7.756 7.62696 7.58333C7.51158 7.41066 7.45 7.20765 7.45 6.99998C7.45 6.72151 7.56062 6.45443 7.75754 6.25752C7.95445 6.06061 8.22152 5.94998 8.5 5.94998Z",fill:"currentColor"}))}}},m=class{constructor(e){(0,r.r)(this,e),this.openTooltip=()=>{this.tooltipOpen=!0},this.closeTooltip=async()=>{await(0,n.t)(200),this.tooltipOpen=!1,this.tooltip=null},this.item=void 0,this.user=void 0,this.width="full",this.scale="m",this.badgeType=void 0,this.showTooltip=!0,this.loading=!0,this.tooltipText="",this.tooltipOpen=void 0}async componentWillLoad(){const{el:e}=this,t=await(0,o.g)(e);this.i18n=t[0],this.lang=t[1],this.updateTooltipText()}async updateTooltipText(){const{badgeType:e,item:t,i18n:i,lang:r,user:o}=this;this.tooltipText=await(0,s.b)(e,t,o,i,r),this.loading=!1}renderImage(e){return e?(0,r.h)("span",{slot:"image",class:{image:!0,[`image-${this.scale}`]:!0}},e()):null}render(){const{badgeType:e,width:t,loading:i,tooltipText:o,scale:s,showTooltip:n}=this,a=this.i18n[e],{icon:l,image:c}=v[this.badgeType],d="narrow"===t,u={badge:!0,authoritative:"Authoritative"===e,deprecated:"Deprecated"===e,narrow:d,[`narrow--${s}`]:d};return(0,r.h)(r.H,null,(0,r.h)("div",Object.assign({class:"wrapper"},n?{onMouseLeave:this.closeTooltip,onMouseEnter:this.openTooltip,onFocusout:this.closeTooltip,onFocusin:this.openTooltip}:{}),d?(0,r.h)("calcite-chip",Object.assign({class:u,value:e},l?{icon:l}:{},n?{tabIndex:0}:{},{ref:e=>this.chip=e,scale:s}),c&&this.renderImage(c)):(0,r.h)("calcite-chip",Object.assign({class:u,value:e},l?{icon:l}:{},n?{tabIndex:0}:{},{ref:e=>this.chip=e,scale:s}),c&&this.renderImage(c),a.title),this.tooltipOpen&&this.showTooltip&&(0,r.h)("arcgis-tunnel",{reference:this.el},(0,r.h)("calcite-tooltip",{ref:e=>{e&&(e.referenceElement=this.chip,this.tooltip||(this.tooltip=e,this.tooltip.open=!0))},closeOnClick:!0,label:a.title,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,style:{pointerEvents:"none"}},d&&!i&&(0,r.h)("h3",{class:"tooltip__title",style:{fontSize:"var(--calcite-font-size--1)",color:"var(--calcite-color-text-1)",margin:"0 0 .25rem 0",padding:"0"}},a.title),(0,r.h)("p",{class:"tooltip__text",style:{fontSize:"var(--calcite-font-size--2)",color:"var(--calcite-color-text-1)",margin:"0",padding:"0"}},(0,r.h)("calcite-loader",{hidden:!i,label:this.i18n.loading,inline:!0,scale:"s"}),i?this.i18n.loading:o)))))}get el(){return(0,r.d)(this)}};m.style=".badge{--calcite-color-foreground-2:var(--arcgis-item-badge-info-background);--calcite-color-text-1:var(--arcgis-item-badge-info-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-info-foreground);display:inline-block;border-width:0px}.authoritative{--calcite-color-foreground-2:var(--arcgis-item-badge-success-background);--calcite-color-text-1:var(--arcgis-item-badge-success-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-success-foreground)}.deprecated{--calcite-color-foreground-2:var(--arcgis-item-badge-danger-background);--calcite-color-text-1:var(--arcgis-item-badge-danger-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-danger-foreground)}.image{align-items:center;justify-content:flex-end;border-radius:0}.narrow{box-sizing:border-box;width:2rem;--calcite-chip-spacing-unit-l:0}.narrow .image{justify-content:center}.wrapper{display:flex;align-items:center}.icon{margin-top:0.25rem;margin-inline-start:0.375rem}.image svg{height:1rem;width:1rem;color:var(--calcite-ui-icon-color)}.image-l svg{height:1.5rem;width:1.5rem}.narrow--s{width:1.5rem}.narrow--s .icon{margin:0.25rem}.narrow--s .image{margin-inline-start:0px}.narrow--m .icon{margin:0.3125rem 0.5rem}.narrow--m .image{margin-inline-start:0px}.narrow--l{width:2.75rem}.narrow--l .icon{margin:0.5rem 0.8rem}.narrow--l .image{margin-inline-end:0.25rem}";const f=class{constructor(e){(0,r.r)(this,e),this.item=void 0,this.portal=void 0,this.user=void 0,this.width="full",this.showTooltips=!1,this.empty=!1,this.scale="m",this.badges=[]}componentWillLoad(){this.item&&this.updateBadges(this.item)}updateBadges(e){var t;this.badges=(0,s.a)(e,this.portal,this.user),(null===(t=this.badges)||void 0===t?void 0:t.length)||(this.empty=!0)}render(){const{item:e,width:t,scale:i,badges:o,user:s,showTooltips:n}=this;return(0,r.h)(r.H,null,o.map((o=>(0,r.h)("arcgis-item-badge",{class:"badge",item:e,user:s,badgeType:o,width:t,scale:i,showTooltip:n}))))}get el(){return(0,r.d)(this)}static get watchers(){return{item:["updateBadges"]}}};f.style=":host{display:flex;align-items:center}.badge{display:inline-block;margin-inline-end:0.25rem}";let b=[],w=[];const C=(0,n.d)((async(e,t)=>{var i;const r=[...b],o=[...w];b=[],w=[];const s=`(group:${y(t)} AND id:(${r.join(" OR ")}))`,n=await(0,a.r)(`${(0,a.g)(e)}search`,{num:100,q:s}),l=null===(i=null==n?void 0:n.results)||void 0===i?void 0:i.map((e=>e.id));o.forEach((({id:e,resolve:t})=>{t(l.includes(e))}))}),300);function y(e){var t,i;return null!==(t=e.favGroupId)&&void 0!==t?t:null===(i=e.sourceJSON)||void 0===i?void 0:i.favGroupId}function x({item:e,portal:t,user:i},r){const{access:o,id:s}=e,n=`${(0,a.g)(t)}content/items/${s}/${r?"share":"unshare"}`,l={everyone:"public"===o,org:"org"===o,groups:y(i),items:s};return(0,a.r)(n,l,{},"post")}const k=class{constructor(e){(0,r.r)(this,e),this.arcgisItemFavoriteUpdate=(0,r.c)(this,"arcgisItemFavoriteUpdate",7),this.item=void 0,this.portal=void 0,this.user=void 0,this.width="full",this.iconOnly=!1,this.scale="m",this.isFavorite=void 0}async setFocus(){var e;null===(e=this.button)||void 0===e||e.setFocus()}updateFavorite(e){const{id:t,favorite:i}=e.detail;t===this.item.id&&(this.isFavorite=i)}async componentWillLoad(){const{el:e,item:t,portal:i,user:r}=this,s=await(0,o.g)(e);this.i18n=s[0],this.isFavorite=await async function(e,t,i){if(!i)return!1;const r=new Promise((t=>{w.push({id:e,resolve:t})}));return b.includes(e)||b.push(e),C(t,i),r}(t.id,i,r)}async toggleFavorite(){const{user:e,portal:t,item:i,isFavorite:r}=this;this.isFavorite=!r;const o={user:e,portal:t,item:i};await(r?function(e){return x(e,!1)}(o):function(e){return x(e,!0)}(o)),this.arcgisItemFavoriteUpdate.emit({id:i.id,favorite:this.isFavorite})}render(){const{i18n:e,isFavorite:t,width:i,scale:o,iconOnly:s}=this,n=t?e.remove:e.add;return(0,r.h)(r.H,null,(0,r.h)("calcite-button",Object.assign({width:s?"auto":i,scale:o,appearance:s?"transparent":"outline-fill",kind:"neutral",iconStart:t?"star-f":"star",onClick:()=>{this.toggleFavorite()},ref:e=>this.button=e},s?{ariaLabel:n}:{}),!s&&n))}get el(){return(0,r.d)(this)}},_=class{constructor(e){(0,r.r)(this,e),this.item=void 0,this.groups=void 0,this.showText=!0,this.scale="m"}async componentWillLoad(){const{el:e}=this,t=await(0,o.g)(e);this.i18n=t[0]}getIcon(e){return{private:"user",shared:"user",org:"organization",public:"globe"}[e]||"globe"}render(){const{item:e,i18n:t,scale:i,showText:o}=this;return(0,r.h)(r.H,null,(0,r.h)("calcite-icon",{class:"icon",icon:this.getIcon(e.access),scale:i}),"shared"===e.access&&(0,r.h)(r.F,null,(0,r.h)("calcite-icon",{class:"icon",icon:"plus",scale:i}),(0,r.h)("calcite-icon",{class:"icon",icon:"group",scale:i})),o&&(0,r.h)("span",{class:"text"},t[e.access]))}get el(){return(0,r.d)(this)}};_.style=":host{display:inline-flex;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);border:1px solid var(--calcite-color-border-1);border-radius:calc(var(--arcgis-item-share-summary-spacing) + 0.25rem);padding:0.25rem 0.5rem;min-width:calc(var(--arcgis-item-share-summary-spacing))}:host([scale=s]){font-size:0.875rem;--arcgis-item-share-summary-spacing:1rem}:host([scale=m]){font-size:1rem;--arcgis-item-share-summary-spacing:1.5rem}:host([scale=l]){font-size:1.125rem;--arcgis-item-share-summary-spacing:2rem}.icon{display:block;flex-shrink:0;flex-grow:0;width:var(--arcgis-item-share-summary-spacing);height:var(--arcgis-item-share-summary-spacing)}.text{font-weight:400;color:var(--calcite-color-text-1);margin-inline-start:calc(var(--arcgis-item-share-summary-spacing) / 2)}";const I=class{constructor(e){(0,r.r)(this,e),this.arcgisSelectedDeselectAll=(0,r.c)(this,"arcgisSelectedDeselectAll",7),this.arcgisSelectedSelectPage=(0,r.c)(this,"arcgisSelectedSelectPage",7),this.checked=void 0,this.indeterminate=void 0,this.heading=void 0,this.emptyText=void 0,this.total=void 0,this.totalSelected=void 0,this.hideCheckbox=!1,this.hideSelectedText=!1,this.loading=void 0}async componentWillLoad(){const{element:e}=this,t=await(0,o.g)(e);this.i18n=t[0]}renderButton(){const{totalSelected:e,i18n:t}=this,i={class:"button",slot:"trigger",kind:"neutral",appearance:"outline-fill",iconEnd:e?"caret-down":null};return this.hideSelectedText?(0,r.h)("calcite-button",Object.assign({},i)):(0,r.h)("calcite-button",Object.assign({},i),t.selected.replace("${number}",`${e||0}`))}render(){const{i18n:e,checked:t,indeterminate:i,heading:o,totalSelected:s,hideSelectedText:n}=this;return(0,r.h)(r.H,null,(0,r.h)("div",{class:"wrapper"},!this.hideCheckbox&&(0,r.h)("calcite-label",{for:"selected-checkbox",class:"white-button"},(0,r.h)("span",{class:"screen-readers-only"},t?e.deselect:e.selectPage),(0,r.h)("calcite-checkbox",{class:"checkbox",id:"selected-checkbox",disabled:!this.total,checked:t,indeterminate:i,onCalciteCheckboxChange:e=>{e.stopPropagation(),e.currentTarget.checked?this.arcgisSelectedSelectPage.emit():this.arcgisSelectedDeselectAll.emit()}})),(!n||!!s)&&(0,r.h)("calcite-dropdown",{widthScale:"l",closeOnSelectDisabled:!0},this.renderButton(),(0,r.h)("calcite-dropdown-group",{selectionMode:"none",groupTitle:o},s<1&&(0,r.h)("span",{class:"empty"},this.emptyText),(0,r.h)("slot",null)))))}get element(){return(0,r.d)(this)}};I.style=".hide{display:none}.wrapper{display:flex;opacity:1;transition-property:opacity}.empty{display:block;padding:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-3)}.loading{opacity:0}.button{margin-inline-end:0.5rem}.white-button{border:1px solid var(--calcite-color-border-1);border-inline-end:none;font-family:inherit;box-sizing:border-box;display:flex;height:2rem;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;align-items:center;background-color:var(--calcite-color-foreground-1);padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.white-button:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.white-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.white-button--disabled{pointer-events:none;opacity:0.25}.white-button__icon{margin-inline-start:0.75rem}calcite-dropdown[open] .white-button{border-bottom-color:var(--calcite-color-brand)}.page-range{font-size:0.875rem;font-weight:400;line-height:2rem;color:var(--calcite-color-text-2)}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.checkbox{margin-top:0.75rem}";const P=class{constructor(e){(0,r.r)(this,e),this.arcgisSelectedItemRemove=(0,r.c)(this,"arcgisSelectedItemRemove",7),this.heading=void 0,this.description=void 0}render(){return(0,r.h)(r.H,null,(0,r.h)("calcite-dropdown-item",{"selection-mode":"none",onClick:e=>{e.preventDefault(),e.stopPropagation(),this.arcgisSelectedItemRemove.emit()}},(0,r.h)("div",{class:"selected-item__wrapper"},(0,r.h)("slot",{name:"content-start"}),(0,r.h)("div",{class:"selected-item__content"},(0,r.h)("h4",{class:"selected-item__title",title:this.heading},this.heading),this.description&&(0,r.h)("p",{class:"selected-item__description"},this.description)),(0,r.h)("slot",{name:"content-end"}),(0,r.h)("calcite-icon",{icon:"x",scale:"s"}))))}get element(){return(0,r.d)(this)}};P.style=".selected-item__wrapper{display:flex;align-items:center}.selected-item__content{box-sizing:border-box;flex:1 1 0%;width:100%;padding-inline-start:0.5rem;max-width:12rem}.selected-item__title{margin:0px;margin-top:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1)}.selected-item__description{margin:0px;margin-top:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-size:0.75rem;font-weight:400;color:var(--calcite-color-text-1)}";const U=class{constructor(e){(0,r.r)(this,e),this.geometry=void 0,this.type=void 0,this.scale=void 0,this.name=void 0,this.showName=!0,this.showIcon=!0,this.showType=!0,this.renderer=void 0}async componentWillLoad(){const e=await(0,o.g)(this.el);this.i18n=e[0]}render(){const{geometry:e,name:t,type:i,showName:o,showIcon:s,showType:n,renderer:a,i18n:c}=this,d=(0,l.g)({type:i,geometry:e});return a?a(Object.assign(Object.assign({},d),{name:t})):(0,r.h)(r.H,null,s&&(0,r.h)("calcite-icon",{icon:d.icon,class:"icon",scale:this.scale}),(n||o)&&(0,r.h)("div",{class:"text"},o&&(0,r.h)("div",{class:"name"},t),n&&(0,r.h)("div",{class:"type"},c[d.type])))}get el(){return(0,r.d)(this)}};U.style=":host{display:flex;align-items:center;line-height:1.35;--sublayer-type-font-size:var(--calcite-font-size--1)}.text{flex:1 1 0%;margin-inline-start:0.5rem;color:inherit}.name{font-weight:500;font-size:var(--sublayer-type-font-size)}.type{font-weight:400;font-size:var(--sublayer-type-font-size)}";const T=class{constructor(e){(0,r.r)(this,e),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:e,portal:t,username:i}=this;this.lang=await(0,o.a)(e),i&&(this.user=await(0,c.f)(i,t))}renderSkeleton(){return(0,r.h)("div",{class:"skeleton"},this.showAvatar&&(0,r.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,r.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:e,lang:t,portal:i,showAvatar:o,showName:s,description:n,scale:l,underline:d,heading:u}=this,{fullName:h,username:p}=e,g=(0,a.n)(e),v=!!n,m=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" ");return[o&&(0,r.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===l?"s":l,fullName:m,username:p,userId:g,thumbnail:(0,c.c)(e,i,this.checkOnline)},s||v?{inert:!0}:{})),(s||v)&&(0,r.h)("span",{class:{text:!0,"text--underline":d,"text--no-avatar":!o}},s&&(0,r.h)("span",{class:{title:!0,"has-description":v}},u||(0,c.g)(e,t)),v&&(0,r.h)("span",{class:"description"},n))]}render(){return(0,r.h)(r.H,null,this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,r.d)(this)}};T.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.-text-no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.title,.description{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}";const S=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.user=void 0,this.username=void 0,this.item=void 0,this.api=void 0,this.scale="m",this.portal=void 0,this.baseUrl=void 0,this.underline=void 0,this.showAvatar=!0,this.showName=!0,this.checkOnline=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.showPopover=void 0,this.privateUser=void 0}async componentWillLoad(){this.init()}async init(){const{el:e,item:t,username:i,portal:r}=this,s=await(0,o.g)(e);if(this.i18n=s[0],this.lang=s[1],t)this.fetchItemUserInfo();else if(i)try{const e=await(0,c.f)(i,r);this.itemUserInfo=e}catch(e){this.privateUser=!0}}async setFocus(){var e;null===(e=this.button)||void 0===e||e.focus()}async fetchItemUserInfo(){const{portal:e,item:t,lang:i,checkOnline:r}=this;this.itemUserInfo=await(0,c.a)(t,e,i,r)}async fetchItemsAndGroups(){const{user:e,itemUserInfo:t,item:i,portal:r,total:o,username:n,checkOnline:l}=this,d=n||(null==e?void 0:e.username)||(null==i?void 0:i.owner);(0,s.i)(i)||(this.groups||(this.groups=await(0,a.f)((()=>(0,c.d)(d,r,l)),"userGroups",d)),isNaN(o)&&(this.total=await(0,a.f)((()=>(0,c.e)(e||t,r,l)),"userItemsTotal",d)))}render(){const{user:e,itemUserInfo:t,portal:i,item:o,baseUrl:s,button:n,i18n:a,scale:l}=this,c=e||t;return c&&a?(0,r.h)(r.H,null,(0,r.h)("button",{class:"button",ref:e=>this.button=e,onClick:async()=>{this.showPopover||(this.showPopover=!0),this.fetchItemsAndGroups()}},(0,r.h)("slot",null,(0,r.h)("arcgis-user-avatar",{user:c,scale:"m"===l?"m":"s",portal:i,showName:this.showName,showAvatar:this.showAvatar,underline:this.underline,checkOnline:this.checkOnline}))),this.showPopover&&(0,r.h)("arcgis-tunnel",{reference:this.el},(0,r.h)("arcgis-user-popup-popover",{onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisUserPopupInternalUIAction.emit(e.detail)},onArcgisUserPopupPopoverClose:()=>{this.showPopover=!1,this.popoverNode=null},onArcgisUserPopupPopoverKeyDown:e=>{"Escape"===e.detail.key&&setTimeout((()=>{this.button.focus()}),200)},user:e,item:o,portal:i,baseUrl:s,itemUserInfo:t,i18n:a,groups:this.groups,total:this.total,checkOnline:this.checkOnline,ref:e=>{e&&(e.referenceElement=n,this.popoverNode||(this.popoverNode=e,e.open()))}}))):(0,r.h)("arcgis-user-avatar",{scale:"s",showName:!0,checkOnline:this.checkOnline})}get el(){return(0,r.d)(this)}static get watchers(){return{item:["fetchItemUserInfo"]}}};function O({baseUrl:e,portal:t,user:i,type:r}){var o,s;const n=(0,g.r)(e),{username:a,orgId:l}=i,c=encodeURIComponent(a),d=(null===(o=t.user)||void 0===o?void 0:o.username)===i.username;return("groups"===r&&(0,p.t)(t.user)||"content"===r&&(0,p.u)(t.user)||(0,h.b)(t.user)||d)&&l===(null===(s=t.user)||void 0===s?void 0:s.orgId)?`${n}/${r}.html${d?"":`?user=${c}`}`:`${n}/search.html?q=owner:%22${c}%22&restrict=false#${r}`}S.style=":host{display:flex}.button{display:flex;align-items:center;max-width:100%;cursor:pointer;border-style:none;padding:0px;font-size:0.75rem;color:var(--calcite-color-text-2);outline:2px solid transparent;outline-offset:2px;transition-property:all;outline-color:transparent;background:transparent;font-family:inherit;line-height:1.5}.button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.name{overflow:hidden;white-space:nowrap;margin-inline-start:0.5rem;text-overflow:ellipsis}";const z=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupPopoverClose=(0,r.c)(this,"arcgisUserPopupPopoverClose",7),this.arcgisUserPopupPopoverKeyDown=(0,r.c)(this,"arcgisUserPopupPopoverKeyDown",7),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.numberFormatOptions={api:d.c.api,places:0,type:"decimal"},this.user=void 0,this.item=void 0,this.portal=void 0,this.baseUrl=void 0,this.referenceElement=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.i18n=void 0,this.checkOnline=void 0,this.groupsText="",this.itemsText="",this.expanded=void 0}async close(){this.togglePopover(!1)}async open(){this.togglePopover(!0)}async updateGroupsText(e){const t=await(0,u.f)(e.total,this.numberFormatOptions);this.groupsText=this.i18n.groups.replace("${number}",t)}async updateItemsText(e){const t=await(0,u.f)(e,this.numberFormatOptions);this.itemsText=this.i18n.items.replace("${number}",t)}componentWillLoad(){this.groups&&this.updateGroupsText(this.groups),isNaN(this.total)||this.updateItemsText(this.total)}async togglePopover(e){if(this.popoverNode)return this.popoverNode.open=e,void await(0,n.t)(150)}openLink(e){var t;e.preventDefault();const i=null===(t=e.target)||void 0===t?void 0:t.href;window.open(i,"_blank")}renderOrgButtons(){const{i18n:e,baseUrl:t,itemUserInfo:i}=this,o=(0,g.r)((null==i?void 0:i.url)||t);return(0,r.h)(r.F,null,(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:o,target:"_blank",onClick:e=>this.openLink(e)},e.homepage),(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:`${o}/gallery.html`,target:"_blank",onClick:e=>this.openLink(e)},e.gallery))}renderUserButtons(e){const{i18n:t,baseUrl:i,portal:o,total:s,groups:n}=this,a=!this.groupsText||!this.itemsText,{username:l}=e;return a?(0,r.h)("calcite-loader",{label:t.loadingUserInformation,scale:"s",class:"loader"}):(0,r.h)(r.F,null,!!(null==n?void 0:n.total)&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${O({baseUrl:i,portal:o,user:e,type:"groups"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all groups"})}},this.groupsText),!!s&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${O({baseUrl:i,portal:o,user:e,type:"content"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all content"})}},this.itemsText),(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${(0,g.r)(i)}/user.html?user=${encodeURIComponent(l)}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view profile"})}},t.profile))}render(){const{i18n:e,user:t,item:i,itemUserInfo:o,lang:a,portal:l,expanded:d,referenceElement:u}=this,h=t||o,p=(0,s.i)(i),{username:g,description:v}=h,m=(0,c.g)(h,a),f=function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,(e=>`<a href="${e}" target="_blank">${e}</a>`))}(null==(b=v)?void 0:b.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n"))))||"";var b;const w=f.replace(/<br>/g," ".repeat(40)),C=!d&&w.length>=240,y=C?`${w.substring(0,240).trim().replace(/\s{5,40}/g,"<br>")}...`:f,x=p?this.i18n.itemManagedBy.replace("${username}",g):g;return(0,r.h)(r.H,null,(0,r.h)("calcite-popover",{class:"popover",label:m,pointerDisabled:!0,referenceElement:u,placement:"bottom-start",id:`${g}-popover`,ref:e=>this.popoverNode=e,autoClose:!0,onCalcitePopoverOpen:(0,n.d)((()=>{this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"open profile popup"})}),100),onCalcitePopoverClose:()=>this.arcgisUserPopupPopoverClose.emit(),onKeyDown:e=>this.arcgisUserPopupPopoverKeyDown.emit(e)},(0,r.h)("div",{class:"wrapper"},(0,r.h)("div",{class:"header"},(0,r.h)("arcgis-user-avatar",{class:"user-avatar",user:h,scale:"l",portal:l,showName:!0,description:x,checkOnline:this.checkOnline})),(0,r.h)("div",{class:"content"},y&&(0,r.h)("p",{class:{content__description:!0,"content__description--expanded":d},innerHTML:y}),d&&(0,r.h)("div",{class:"content__fade"}),C&&(0,r.h)("calcite-link",{class:"content__link",onClick:()=>this.expanded=!0},e.expand),d&&(0,r.h)("calcite-link",{class:"content__link",onClick:()=>this.expanded=!1},e.showLess),(0,r.h)("div",{class:"buttons"},p?this.renderOrgButtons():this.renderUserButtons(h))))))}get el(){return(0,r.d)(this)}static get watchers(){return{groups:["updateGroupsText"],total:["updateItemsText"]}}};z.style='.wrapper{background-color:var(--calcite-color-foreground-1);width:20rem}.header{padding-left:1rem;padding-right:1rem;padding-top:1.25rem;padding-bottom:1.25rem}.user-avatar{max-width:100%}.content{padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:1.25rem}.content__description{margin:0px;overflow:auto;padding:0px;padding-bottom:0.25rem;font-size:0.875rem;color:var(--calcite-color-text-2);max-height:15.5rem}.content__description--expanded:after{content:"";display:block;height:1rem}.content__fade{position:relative;z-index:10;margin-bottom:0.25rem;display:block;height:1rem;width:100%;background:linear-gradient(to bottom, transparent, var(--calcite-color-foreground-1) 74%);margin-top:-1rem}.content__link{font-size:0.875rem}.buttons{display:grid;grid-auto-flow:column;padding-top:1rem;grid-gap:0.5rem}.button{min-width:0px}.loader{--calcite-loader-padding:0}'},74689:(e,t,i)=>{i.d(t,{a:()=>n,b:()=>s,c:()=>l,d:()=>d,g:()=>u,i:()=>a,u:()=>c});var r=i(79210);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function s(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function n(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function l(e,t){return c(e,t)||"update"===e.itemControl}function c(e,t){return a(e,t)||function(e,t){var i;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,o="admin"===e.itemControl;return!((null===(i=e.portal)||void 0===i?void 0:i.isPortal)&&!a(e,t)&&o&&r.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(r))&&o}(e,t)}const d=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),u=(e,t)=>`${(0,r.a)(t)}item.html?id=${e}`},12046:(e,t,i)=>{i.d(t,{a:()=>s,b:()=>l,c:()=>n,d:()=>d,e:()=>h,f:()=>u,g:()=>w,h:()=>c,i:()=>a,j:()=>p,k:()=>g,l:()=>b,m:()=>m,n:()=>v,o:()=>f,p:()=>y,q:()=>C});var r=i(74689);const o=e=>{var t,i,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(i=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function s(e){return e&&!e.orgId}function n(e){return!e.isPortal||!!e.isBackedBySDS}function a(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function l(e){return"org_admin"===o(e)||"account_admin"===o(e)}function c(e){return"org_user"===o(e)||"account_user"===o(e)}function d(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function u(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function h(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function p(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function g(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function v(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function m(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function f(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function w(e,t,i,r){const o=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),s=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!l(t)&&!s||!(null==i?void 0:i.isPortal)&&!o)}function C(e){return!!e&&(!d(e)||d(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const y=({items:e,user:t,portal:i})=>{const o=e[0],s=o.owner;if(i.isPortal&&s!==t.username&&s.includes("esri_")&&!["esri_livingatlas"].includes(s))return!1;const n=(0,r.u)(o,t),a=d(t),l=x(t),c=(0,r.c)(o,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!a&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||p(e)||g(e)||!!t.canSharePublic&&v(e)}(t,i)||x(t));return n||c||(0,r.d)(e,t)&&l};function x(e){return b(e)||m(e)||f(e)}},73411:(e,t,i)=>{i.d(t,{a:()=>I,b:()=>d,c:()=>_,d:()=>g,e:()=>v,f:()=>f,g:()=>u,h:()=>p,i:()=>b,j:()=>w,k:()=>x,l:()=>l,m:()=>k,n:()=>c,o:()=>P,p:()=>U,q:()=>n,r:()=>y,s:()=>C,t:()=>T,u:()=>S});var r=i(20164),o=i(12046),s=i(49853);async function n(){return new Promise((async e=>{const{portal:t}=s.c;if(null==t?void 0:t.isPortal){const i=t.helperServices.geocode,o=await function(e){const{config:t,portal:i}=s.c;return new Promise((async(o,s)=>{const n=e.filter((e=>a(e.url,i))).filter((e=>e.isEsriBatchGeocoder))[0];if(n){const e=n.url.split("/servers/")[1].split("/rest/services/")[0],i=`${t.restBaseUrl}/content/items/${e}`;try{o((await(0,r.r)(i)).url)}catch(e){s(e)}}else s("No world geocoder configured")}))}(i);e(o)}else{const i=function(e){const t=null==e?void 0:e.portalHostname;return-1!==t.indexOf("dev")?"dev":-1!==t.indexOf("qa")?"qa":""}(t);e(`https://geocode${i}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function a(e="",t){var i;const r=t.isPortal,o=e.toLowerCase(),s=o.indexOf("/geocodeserver")>-1&&o.indexOf("/rest/services/")>-1,n=r&&o.indexOf(null===(i=t.portalHostname)||void 0===i?void 0:i.toLowerCase())>-1,a=!r&&o.indexOf("utility")&&o.indexOf(".arcgis.com")>-1;return s&&(n||a)}function l(e){return(0,o.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function c(e){return(0,o.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}function d(e,t){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&(!t.isPortal||t.isBackedBySDS)}function u(e,t){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&(!t.isPortal||t.isBackedBySDS)}function h(e){return!(0,o.a)(e)&&!0}function p(e){var t;return!(0,o.a)(e)&&(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:publisher:publishScenes"))}const g=e=>!(0,o.a)(e);function v(e,t,i){var r,o;const s=!!(null===(o=null===(r=t.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===o?void 0:o.url),n=function(e,t,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(t.isPortal||m(i))}(e,t,i),a=t.isPortal?n:n||function(e,t,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!t.isPortal&&m(i)}(e,t,i);return s&&a}function m(e){return null==e?void 0:e.some((e=>{var t;return null===(t=e.entitlements)||void 0===t?void 0:t.some((e=>"image"===e.toLowerCase()))}))}async function f(e){var t;const{userLicensedItems:i}=await(0,r.r)(`${null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl}/community/self?returnUserLicensedItems=true`);return i}function b(e,t){var i,s;const n=null===(i=t.helperServices)||void 0===i?void 0:i.geocode.some((({url:e})=>a(e,t))),l=null!==(s=null==e?void 0:e.privileges)&&void 0!==s?s:[];return!(0,o.a)(e)&&n&&(!t.isPortal||!(0,r.i)(t)&&l.includes("portal:user:viewOrgItems")&&l.includes("portal:user:createItem"))}const w=e=>!(0,o.a)(e);function C(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function y(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function x(e,t){var i;return!!t.isPortal&&!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:registerDataStores"))}function k(e){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}function _(e,t,i){return!t.isPortal&&d(e,t)&&function(e,t,i){return!(0,o.a)(e)&&!!t.supportsHostedServices&&l(e)&&(u(e,t)||d(e,t)||p(e)||h(e)||v(e,t,i))}(e,t,i)}function I(e,t,i){switch(t){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return d(e,i);case"Tile Package":return u(e,i);case"Vector Tile Package":return h(e);case"Scene Package":return p(e);case"Service Definition":return function(e,t){return d(e,t)&&u(e,t)}(e,i);default:return!0}}function P(e,t){var i,r,s;return(0,o.b)(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageCredits"))}(e)||!!((null!==(i=null==e?void 0:e.assignedCredits)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.assignedCredits)>-1&&(null===(s=null==t?void 0:t.portalProperties)||void 0===s?void 0:s.showCreditsOnProfile))}const U=e=>!1;function T(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))}function S(e){return(0,o.b)(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))}(e)&&function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewItems"))}(e)&&(function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:reassignItems"))}(e))}},79759:(e,t,i)=>{i.d(t,{H:()=>r});const r='-type:"Code Attachment" -type:"Featured Items" -type:"Symbol Set" -type:"Color Set" -type:"Windows Viewer Add In" -type:"Windows Viewer Configuration" -type:"Map Area" -typekeywords:"MapAreaPackage" -type:"Indoors Map Configuration" -typekeywords:"SMX"'}}]);