/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806"],{73124:(e,i,r)=>{r.r(i),r.d(i,{arcgis_file_browser:()=>l});var n=r(81149),t=r(82218),o=r(73411);r(42577),r(51837),r(69283),r(20164),r(49853),r(70464),r(79210),r(12046),r(74689);const l=class{constructor(e){(0,n.r)(this,e),this.cloudDriveConnected=(0,n.c)(this,"cloudDriveConnected",7),this.fileSelect=(0,n.c)(this,"fileSelect",7),this.portal=void 0,this.config=void 0,this.user=void 0,this.userLicensedItems=void 0,this.cloud=!0,this.showHelpLinkOnError=!0,this.allowedExtensions=null,this.validTypes=null,this.maxFileSize=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.helpText=void 0,this.helpLink=void 0,this.helpIdType="default",this.errorMessage=void 0,this.files=void 0,this.fromDevice=!1}async componentWillLoad(){const{el:e,user:i,portal:r,userLicensedItems:n}=this,l=await(0,t.g)(e);this.i18n=l[0],this.canPublishFromCloud=this.cloud&&(0,o.c)(i,r,n)}connectCloudDrive(e){this.cloudDriveConnected.emit(e)}async focusMainInput(){this.mainInputRef.focus()}render(){const{i18n:e,canPublishFromCloud:i,allowedExtensions:r,maxFileSize:t,insideModal:o,helpText:l,helpLink:s,helpIdType:u,fullHeight:a,user:c,config:d,showHelpLinkOnError:v,validTypes:p}=this;return(0,n.h)("arcgis-drag-and-drop",{files:this.files,showHelpLinkOnError:v,allowedExtensions:r,helpIdType:u,validTypes:p,maxFileSize:t,insideModal:o,fullHeight:a,class:{"full-height":a},user:c,config:d,onArcgisDropSuccess:e=>{this.fileSelect.emit({file:e.detail,source:this.fromDevice?"local-device":"drag-n-drop"})}},(0,n.h)("div",{class:{"file-browser":!0,"full-height":a}},(0,n.h)("svg",{width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,n.h)("path",{d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,n.h)("input",{onChange:e=>{this.fromDevice=!0,this.files=Object.assign({},e.target.files),this.inputElement.value=null},ref:e=>this.inputElement=e,accept:null==r?void 0:r.map((e=>`.${e}`)).join(","),tabIndex:-1,class:"input",type:"file"}),(0,n.h)("div",{class:"text-container"},(0,n.h)("h3",{class:"text"},e.drag),s?(0,n.h)("calcite-link",{href:s,target:"_blank"},l):(0,n.h)("p",{class:"help-text"},l)),(0,n.h)("div",{class:"cta-container"},(0,n.h)("button",{class:"file-browser-button",onClick:()=>{var e;return null===(e=this.inputElement)||void 0===e?void 0:e.click()},ref:e=>this.mainInputRef=e},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("calcite-icon",{icon:"desktop"})),(0,n.h)("span",{class:"file-browser-button__text"},e.device)),i&&[(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("google drive")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{d:"m9.84 48.35 2.3 4a5.25 5.25 0 0 0 2 2l8.2-14.2H5.9a5.4 5.4 0 0 0 .72 2.69z",fill:"#0066da"}),(0,n.h)("path",{d:"m32 23.37-8.26-14.2a5.29 5.29 0 0 0-2 2L6.62 37.39a5.42 5.42 0 0 0-.72 2.69h16.41z",fill:"#00ac47"}),(0,n.h)("path",{d:"M49.79 54.28a5.25 5.25 0 0 0 2-2l1-1.64 4.56-7.9a5.4 5.4 0 0 0 .65-2.66H41.59l3.49 6.86z",fill:"#ea4335"}),(0,n.h)("path",{d:"m32 23.37 8.21-14.2a5.24 5.24 0 0 0-2.69-.72h-11a5.58 5.58 0 0 0-2.69.72z",fill:"#00832d"}),(0,n.h)("path",{d:"M41.59 40.08H22.31l-8.2 14.2a5.2 5.2 0 0 0 2.68.72h30.32a5.51 5.51 0 0 0 2.68-.72z",fill:"#2684fc"}),(0,n.h)("path",{d:"m49.7 24.27-7.57-13.13a5.39 5.39 0 0 0-2-2L32 23.37l9.64 16.71H58a5.43 5.43 0 0 0-.72-2.69z",fill:"#ffba00"}))),(0,n.h)("span",{class:"file-browser-button__text"},e.googleDrive)),(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("dropbox")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{d:"M20 11.61 8 19.26l12 7.64 12-7.64-12-7.65zM44 11.61l-12 7.65 12 7.64 12-7.64-12-7.65z",fill:"#0061ff"}),(0,n.h)("path",{d:"m8 34.55 12 7.64 12-7.64-12-7.65-12 7.65zM44 26.9l-12 7.65 12 7.64 12-7.64-12-7.65zM20 44.74l12 7.65 12-7.65-12-7.64-12 7.64z",fill:"#0061ff"}))),(0,n.h)("span",{class:"file-browser-button__text"},e.dropbox)),(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("onedrive")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("g",null,(0,n.h)("path",{d:"M37.14 37.93 47.5 28a15.68 15.68 0 0 0-28.29-4.7c.16 0 17.93 14.63 17.93 14.63z",fill:"#0364b8"}),(0,n.h)("path",{d:"M26 25.16a12.38 12.38 0 0 0-6.59-1.87h-.16A12.53 12.53 0 0 0 9.09 43l15.51-1.94 11.89-9.59z",fill:"#0078d4"}),(0,n.h)("path",{d:"M47.5 28h-.69a10.18 10.18 0 0 0-4 .83l-6.28 2.64L43.41 40l12.37 3a10.2 10.2 0 0 0-8.28-15z",fill:"#1490df"}),(0,n.h)("path",{d:"M9.09 43a12.53 12.53 0 0 0 10.28 5.37h27.44a10.19 10.19 0 0 0 9-5.36L36.49 31.47z",fill:"#28a8ea"})))),(0,n.h)("span",{class:"file-browser-button__text"},e.oneDrive))])))}get el(){return(0,n.d)(this)}};l.style=".file-browser{margin-bottom:2rem;box-sizing:border-box;width:100%;border-width:2px;border-style:dashed;border-color:var(--calcite-color-border-1);background-color:var(--calcite-color-background);padding-top:2rem;padding-bottom:2rem;text-align:center}.file-browser.full-height{align-items:center;justify-content:center}.file-browser.append-height{align-items:center;justify-content:center}.alert{text-align:initial}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.text-container{margin-top:2rem;margin-bottom:2rem}.text{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);margin-top:0px;margin-bottom:0px}.help-text{font-size:0.875rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:0.5rem;margin-bottom:0px;max-width:38rem}.file-browser-button{margin-top:0px;margin-bottom:0px;margin-left:0.75rem;margin-right:0.75rem;box-sizing:border-box;width:auto;cursor:pointer;border-radius:0;padding:0px;font-size:0.875rem;line-height:1rem;color:var(--calcite-color-text-1);display:inline-flex;align-items:center;border:1px solid var(--calcite-color-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-color-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-color-text-link);width:32px;height:32px;box-sizing:border-box;padding:4px;display:flex;align-items:center;justify-content:center}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:8px}:host(.full-height),.full-height{display:flex;flex-direction:column;height:100%;width:100%}"},74689:(e,i,r)=>{r.d(i,{a:()=>l,b:()=>o,c:()=>u,d:()=>c,g:()=>d,i:()=>s,u:()=>a});var n=r(79210);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function o(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function l(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function u(e,i){return a(e,i)||"update"===e.itemControl}function a(e,i){return s(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl;return!((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!s(e,i)&&t&&n.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(n))&&t}(e,i)}const c=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),d=(e,i)=>`${(0,n.a)(i)}item.html?id=${e}`},12046:(e,i,r)=>{r.d(i,{a:()=>o,b:()=>u,c:()=>l,d:()=>c,e:()=>v,f:()=>d,g:()=>w,h:()=>a,i:()=>s,j:()=>p,k:()=>h,l:()=>b,m:()=>g,n:()=>f,o:()=>m,p:()=>_,q:()=>x});var n=r(74689);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function l(e){return!e.isPortal||!!e.isBackedBySDS}function s(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function u(e){return"org_admin"===t(e)||"account_admin"===t(e)}function a(e){return"org_user"===t(e)||"account_user"===t(e)}function c(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function d(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function v(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function p(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function h(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function f(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function g(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function m(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function w(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!u(i)&&!o||!(null==r?void 0:r.isPortal)&&!t)}function x(e){return!!e&&(!c(e)||c(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const _=({items:e,user:i,portal:r})=>{const t=e[0],o=t.owner;if(r.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,n.u)(t,i),s=c(i),u=y(i),a=(0,n.c)(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!s&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||p(e)||h(e)||!!i.canSharePublic&&f(e)}(i,r)||y(i));return l||a||(0,n.d)(e,i)&&u};function y(e){return b(e)||g(e)||m(e)}},73411:(e,i,r)=>{r.d(i,{a:()=>C,b:()=>c,c:()=>S,d:()=>h,e:()=>f,f:()=>m,g:()=>d,h:()=>p,i:()=>b,j:()=>w,k:()=>y,l:()=>u,m:()=>k,n:()=>a,o:()=>I,p:()=>P,q:()=>l,r:()=>_,s:()=>x,t:()=>L,u:()=>z});var n=r(20164),t=r(12046),o=r(49853);async function l(){return new Promise((async e=>{const{portal:i}=o.c;if(null==i?void 0:i.isPortal){const r=i.helperServices.geocode,t=await function(e){const{config:i,portal:r}=o.c;return new Promise((async(t,o)=>{const l=e.filter((e=>s(e.url,r))).filter((e=>e.isEsriBatchGeocoder))[0];if(l){const e=l.url.split("/servers/")[1].split("/rest/services/")[0],r=`${i.restBaseUrl}/content/items/${e}`;try{t((await(0,n.r)(r)).url)}catch(e){o(e)}}else o("No world geocoder configured")}))}(r);e(t)}else{const r=function(e){const i=null==e?void 0:e.portalHostname;return-1!==i.indexOf("dev")?"dev":-1!==i.indexOf("qa")?"qa":""}(i);e(`https://geocode${r}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function s(e="",i){var r;const n=i.isPortal,t=e.toLowerCase(),o=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,l=n&&t.indexOf(null===(r=i.portalHostname)||void 0===r?void 0:r.toLowerCase())>-1,s=!n&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return o&&(l||s)}function u(e){return(0,t.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function a(e){return(0,t.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}function c(e,i){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&(!i.isPortal||i.isBackedBySDS)}function d(e,i){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&(!i.isPortal||i.isBackedBySDS)}function v(e){return!(0,t.a)(e)&&!0}function p(e){var i;return!(0,t.a)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const h=e=>!(0,t.a)(e);function f(e,i,r){var n,t;const o=!!(null===(t=null===(n=i.helperServices)||void 0===n?void 0:n.rasterAnalytics)||void 0===t?void 0:t.url),l=function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||g(r))}(e,i,r),s=i.isPortal?l:l||function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&g(r)}(e,i,r);return o&&s}function g(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function m(e){var i;const{userLicensedItems:r}=await(0,n.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return r}function b(e,i){var r,o;const l=null===(r=i.helperServices)||void 0===r?void 0:r.geocode.some((({url:e})=>s(e,i))),u=null!==(o=null==e?void 0:e.privileges)&&void 0!==o?o:[];return!(0,t.a)(e)&&l&&(!i.isPortal||!(0,n.i)(i)&&u.includes("portal:user:viewOrgItems")&&u.includes("portal:user:createItem"))}const w=e=>!(0,t.a)(e);function x(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function y(e,i){var r;return!!i.isPortal&&!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores"))}function k(e){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}function S(e,i,r){return!i.isPortal&&c(e,i)&&function(e,i,r){return!(0,t.a)(e)&&!!i.supportsHostedServices&&u(e)&&(d(e,i)||c(e,i)||p(e)||v(e)||f(e,i,r))}(e,i,r)}function C(e,i,r){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return c(e,r);case"Tile Package":return d(e,r);case"Vector Tile Package":return v(e);case"Scene Package":return p(e);case"Service Definition":return function(e,i){return c(e,i)&&d(e,i)}(e,r);default:return!0}}function I(e,i){var r,n,o;return(0,t.b)(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}(e)||!!((null!==(r=null==e?void 0:e.assignedCredits)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.assignedCredits)>-1&&(null===(o=null==i?void 0:i.portalProperties)||void 0===o?void 0:o.showCreditsOnProfile))}const P=e=>!1;function L(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function z(e){return(0,t.b)(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}}}]);