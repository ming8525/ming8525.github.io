"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_laye-caaaa8","extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_port-6846a6"],{83814:(e,s,n)=>{n.d(s,{populateOperationalLayers:()=>c}),n(58574);var a=n(47817),i=n(72304),r=n(86519),t=n(52946),o=n(40353);async function _(e,s,n,a){if(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===n)return!0;if(e.itemId){const n=new i.default({id:e.itemId,portal:s});return await n.load(),"Feature Collection"===n.type&&(0,o.t)(n,a)}return!1}async function c(e,s,n){if(!s)return;const i=[];for(const e of s){const s=p(e,n);"GroupLayer"===e.layerType?i.push(v(s,e,n)):i.push(s)}const r=await(0,a.ai)(i);for(const s of r)!s.value||n.filter&&!n.filter(s.value)||e.add(s.value)}n(68700),n(30286);const d={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},l={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},g={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},m={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},y={ArcGISFeatureLayer:"FeatureLayer"},u={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};async function p(e,s){return async function(e,s,n){const a=new e;return a.read(s,n.context),"group"===a.type&&L(s)&&await async function(e,s,n){const a=t.a.FeatureLayer,i=await a(),r=s.featureCollection,o=r.showLegend,_=r.layers.map((e=>{const s=new i;return s.read(e,n),null!=o&&s.read({showLegend:o},n),s}));e.layers.addMany(_)}(a,s,n.context),await(0,r.t)(a,n.context),a}(await async function(e,s){const n=s.context,a=h(n);let r=e.layerType||e.type;!r&&s&&s.defaultLayerType&&(r=s.defaultLayerType);const c=a[r];let d=c?t.a[c]:t.a.UnknownLayer;const l=n&&n.portal;if(w(e)){if(e.itemId){const s=new i.default({id:e.itemId,portal:l});await s.load();const n=(await(0,o.u)(s)).className||"UnknownLayer";d=t.a[n]}}else"ArcGISFeatureLayer"===r&&(await function(e,s){return _(e,s,"notes","Map Notes")}(e,l)?d=t.a.MapNotesLayer:await function(e,s){return _(e,s,"route","Route Layer")}(e,l)?d=t.a.RouteLayer:L(e)&&(d=t.a.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(d=t.a.WMTSLayer),d()}(e,s),e,s)}function L(e){if("ArcGISFeatureLayer"!==e.layerType||w(e))return!1;const s=e.featureCollection;return!!(s&&s.layers&&s.layers.length>1)}function w(e){return"Feature Collection"===e.type}function h(e){let s;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":s=g;break;case"ground":s=l;break;default:s=d}else switch(e.layerContainerType){case"basemap":s=u;break;case"tables":s=y;break;default:s=m}return s}async function v(e,s,n){const i=new a.ae,r=c(i,Array.isArray(s.layers)?s.layers:[],n),t=await e;if(await r,"group"===t.type)return t.layers.addMany(i),t}},52946:(e,s,n)=>{n.d(s,{a:()=>a});const a={BingMapsLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c6c5d0").then(n.bind(n,82549))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-de7b0a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-98cbec"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-cc5118")]).then(n.bind(n,21002))).default,CSVLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ab6689")]).then(n.bind(n,7344))).default,ElevationLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-228871"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Elev-6dca681")]).then(n.bind(n,36550))).default,FeatureLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Feat-18003d")]).then(n.bind(n,44459)).then((function(e){return e.F}))).default,GroupLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Grou-8f46070").then(n.bind(n,7529))).default,GeoRSSLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-821736").then(n.bind(n,89740))).default,ImageryLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-0f3612"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-20a51e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-745e9b"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-38f8a0")]).then(n.bind(n,50935))).default,ImageryTileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fa699e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-228871"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-20a51e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-745e9b"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-536db6")]).then(n.bind(n,80806))).default,IntegratedMeshLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fa699e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-de7b0a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6113a3")]).then(n.bind(n,40865))).default,KMLLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-1dbbcc")]).then(n.bind(n,23194))).default,MapImageLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-56ae5b"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-57545a"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_visu-b179e6")]).then(n.bind(n,8079))).default,MapNotesLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fa699e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-0de128")]).then(n.bind(n,60587))).default,OpenStreetMapLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-080c4d"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Open-abc1ef")]).then(n.bind(n,41081))).default,PointCloudLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-efdf8a")]).then(n.bind(n,86779))).default,RouteLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-015630")]).then(n.bind(n,58298))).default,SceneLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d42402"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-de7b0a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-98cbec"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Scen-742915")]).then(n.bind(n,72063))).default,StreamLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-9bd2f7")]).then(n.bind(n,95501))).default,TileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b3680e"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-f858be"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-228871"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-56ae5b"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Tile-30ad29")]).then(n.bind(n,41570))).default,UnknownLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Unkn-65c255").then(n.bind(n,33300))).default,UnsupportedLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Unsu-4e937d").then(n.bind(n,9137))).default,VectorTileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-722193"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-228871"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-4108c5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6d6d12")]).then(n.bind(n,3506))).default,WebTileLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-080c4d").then(n.bind(n,12242)).then((function(e){return e.W}))).default,WMSLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-658816").then(n.bind(n,80670))).default,WMTSLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-080c4d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2d8e85")]).then(n.bind(n,75749))).default}},40353:(e,s,n)=>{n.r(s),n.d(s,{p:()=>y,t:()=>t,u:()=>o});var a=n(47817),i=n(72304),r=n(52946);function t(e,s){return!!e.typeKeywords&&e.typeKeywords.indexOf(s)>-1}function o(e){switch(e.type){case"Map Service":return function(e){return function(e){return m(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}))}(e);case"Feature Service":return function(e){return c(e).then((e=>{if("object"==typeof e){const s={};return null!=e.id&&(s.layerId=e.id),{className:"FeatureLayer",properties:s}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return async function(e){return await e.load(),t(e,"Map Notes")?{className:"MapNotesLayer"}:t(e,"Route Layer")?{className:"RouteLayer"}:1===g(await e.fetchData())?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return function(e){return c(e).then((s=>{if("object"==typeof s){const n={};let a;if(null!=s.id?(n.layerId=s.id,a=`${e.url}/layers/${s.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const s={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const n of Object.keys(s))if(-1!==e.typeKeywords.indexOf(n))return{className:s[n]}}return m(a).then((e=>{let s="SceneLayer";const a={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&a[e.layerType]&&(s=a[e.layerType]),{className:s,properties:n}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return async function(e){var s,n,a;await e.load();const i=null!=(s=null==(n=e.typeKeywords)?void 0:n.map((e=>e.toLowerCase())))?s:[];if(i.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(i.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};const r=await e.fetchData(),t=null==r?void 0:r.layerType;return"ArcGISTiledImageServiceLayer"===t?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===t?{className:"ImageryLayer"}:"map"===(null==(a=(await m(e.url)).cacheType)?void 0:a.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new a.s("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function _(e){return(0,r.a[e.className])().then((s=>({constructor:s,properties:e.properties})))}function c(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((s=>g(s)>0?d(s):m(e.url).then(d)))}function d(e){return 1===g(e)&&{id:(0,a.I)(l(e))}}function l(e){const s=e.layers;if(s&&s.length)return s[0].id;const n=e.tables;return n&&n.length?n[0].id:null}function g(e){var s,n,a,i;return(null!=(s=null==e||null==(n=e.layers)?void 0:n.length)?s:0)+(null!=(a=null==e||null==(i=e.tables)?void 0:i.length)?a:0)}function m(e){return(0,a.U)(e,{responseType:"json",query:{f:"json"}}).then((e=>e.data))}const y=Object.freeze({__proto__:null,fromItem:function(e){return!e.portalItem||e.portalItem instanceof i.default||(e={...e,portalItem:new i.default(e.portalItem)}),function(e){return e.load().then(o).then(_)}(e.portalItem).then((s=>{const n={portalItem:e.portalItem,...s.properties},a=s.constructor;return Promise.resolve(new a(n))}))},selectLayerClassPath:o})},86519:(e,s,n)=>{n.d(s,{t:()=>r});var a=n(47817),i=n(30286);async function r(e,s,n){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",s.origin);if(r&&"unique-value"===r.type&&r.styleOrigin){const t=await(0,i.o)(r.populateFromStyle());if((0,a.ah)(n),!1===t.ok){const n=t.error;s&&s.messages&&s.messages.push(new a.aN("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:s})),e.clear("renderer",s.origin)}}}}}]);