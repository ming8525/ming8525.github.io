/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_color--711860.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_color--711860"],{25902:(e,i,l)=>{l.d(i,{a:()=>r,b:()=>s,c:()=>a,d:()=>t,e:()=>d,g:()=>m,s:()=>u});var n=l(9225),o=(l(69283),l(10519));function a(e){var i;const{layer:l,mapImageSublayer:a,mapView:r,supportsArcade:s,modules:t}=n.s,d=l;if(a&&!s)return function(e){var i;const{layer:l,mapImageSublayer:a,mapView:r,modules:s}=n.s,t=l;e=e||{};const d=(0,n.m)((0,n.h)(t)),m=e.fieldInfos?e.fieldInfos[0]:null;return s.ColorCreator.createClassBreaksRenderer({layer:t,view:r,field:m.field,valueExpression:m.expression,valueExpressionTitle:m.expressionTitle,normalizationField:e.normalizationField,classificationMethod:e.classificationMethod?e.classificationMethod:"natural-breaks",standardDeviationInterval:"standard-deviation"===e.classificationMethod?e.standardDeviationInterval?e.standardDeviationInterval:1:void 0,numClasses:e.numClasses?e.numClasses:4,minValue:e.min,maxValue:e.max,colorScheme:e.colorScheme||(0,n.P)(),outlineOptimizationEnabled:!a&&(!(0,o.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(i=t.featureReduction)||void 0===i?void 0:i.type)}).then((e=>((0,n.l)(d,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}(e);const m=(0,n.h)(d),c=m.authoringInfo,f=(0,n.p)(m,"color");e=e||{};const p=(0,n.g)(),v=(0,n.m)((0,n.h)(d)),b=e.fieldInfos?e.fieldInfos[0]:null,h=e.theme?e.theme:"high-to-low";return t.ColorCreator.createContinuousRenderer({layer:d,view:r,field:b.field,valueExpression:b.expression,valueExpressionTitle:b.expressionTitle,theme:h,colorScheme:e.colorScheme||(0,n.P)(h),normalizationField:e.normalizationField,minValue:e.min,maxValue:e.max,outlineOptimizationEnabled:!a&&(!(0,o.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!a&&(!(0,o.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(i=d.featureReduction)||void 0===i?void 0:i.type)}).then((i=>{if(!e.noReuse&&["color","color-size","color-size-age"].indexOf(p)>-1&&u(e)&&c&&"above-and-below"!==(null==c?void 0:c.univariateTheme)&&-1===["centered-on","extremes"].indexOf(f.theme)){const e=(0,n.a)((0,n.h)(d),"color"),l=(0,n.p)((0,n.h)(d),"color");i.renderer.visualVariables=(0,n.n)(i.renderer,"color")||[],i.renderer.visualVariables.push(e),v.sizeOutlineVisVar&&(i.renderer.visualVariables=(0,n.n)(m,"size","outline"),i.renderer.visualVariables.push(v.sizeOutlineVisVar)),i.renderer.authoringInfo.visualVariables=(0,n.o)(i.renderer,"color")||[],i.renderer.authoringInfo.visualVariables.push(l),(0,n.Q)(i.renderer)}return(0,n.l)(v,i.renderer),Promise.resolve(i)}),(e=>Promise.reject(e)))}function r(e){const{layer:i,mapImageSublayer:l,mapView:a,modules:r}=n.s,s=i,t=(0,n.h)(s).authoringInfo;e=e||{};const d=(0,n.g)(),m=(0,n.m)((0,n.h)(s)),c=e.fieldInfos?e.fieldInfos[0]:null,f=e.theme?e.theme:"high-to-low";return r.ColorCreator.createAgeRenderer({layer:s,view:a,startTime:c.field,endTime:new Date,theme:f,colorScheme:e.colorScheme||(0,n.P)(f),unit:void 0,outlineOptimizationEnabled:!l&&(!(0,o.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!l&&(!(0,o.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1}).then((i=>{if(["color-age","color-age-size"].indexOf(d)>-1&&u(e)&&t&&"above-and-below"!==(null==t?void 0:t.univariateTheme)){const e=(0,n.a)((0,n.h)(s),"color"),l=(0,n.p)((0,n.h)(s),"color");i.renderer.visualVariables=[e],m.sizeOutlineVisVar&&i.renderer.visualVariables.push(m.sizeOutlineVisVar),i.renderer.authoringInfo.visualVariables=[l],(0,n.Q)(i.renderer)}return(0,n.l)(m,i.renderer),Promise.resolve(i)}),(e=>Promise.reject(e)))}function s(e){var i,l,a,r;const{layer:s,mapImageSublayer:t,mapView:m,supportsArcade:u,modules:c}=n.s,f=s;if(t&&!u)return d(e);e=e||{};const p=(0,n.h)(f),v=p.authoringInfo||{},b=(0,n.g)(),h=(0,n.a)(p,"color");if(h&&e.fieldInfos&&e.fieldInfos[0]&&e.fieldInfos[0].field==h.field&&e.fieldInfos[0].expression==h.valueExpression&&e.normalizationField===h.normalizationField&&(delete e.fieldInfos,(0,n.R)(e)))return Promise.resolve({renderer:p.clone()});const z=(0,n.m)(p),x=(0,n.p)(p,"color");let I=e.fieldInfos?e.fieldInfos[0]:h?{field:h.field,expression:h.valueExpression,expressionTitle:h.valueExpressionTitle,simpleFieldType:n.w.NUMBER}:{field:p.field,expression:p.valueExpression,expressionTitle:p.valueExpressionTitle,simpleFieldType:n.w.NUMBER};const g=null===e.normalizationField?void 0:e.normalizationField?e.normalizationField:h?h.normalizationField:p.normalizationField;let E=p.classBreakInfos&&p.classBreakInfos.length?p.classBreakInfos[0].symbol:(0,n.S)(f,m,b);"picture-marker"===E.type&&(E=(0,n.S)(f,m,b));const O=p.defaultSymbol,V=p.defaultLabel;let y=!1;(null===e.normalizationField||e.normalizationField||e.fieldInfo||"manual"===v.classificationMethod&&!e.theme||"equal-interval"===v.classificationMethod)&&(y=!0);const S=e.discardMinMax?void 0:(0,o.i)(e.min)?e.min:y?void 0:h?null==x?void 0:x.minSliderValue:p.classBreakInfos[0].minValue,k=e.discardMinMax?void 0:(0,o.i)(e.max)?e.max:y?void 0:h?null==x?void 0:x.maxSliderValue:p.classBreakInfos[p.classBreakInfos.length-1].maxValue,B=e.theme?e.theme:x?x.theme:"high-to-low",T="below"===(null==x?void 0:x.theme),M="below"===B,w=M&&!T||!M&&T;let F=e.colorScheme||(0,n.P)(B);const C={layer:f,view:m,field:I.field,valueExpression:I.expression,valueExpressionTitle:I.expressionTitle,theme:B,colorScheme:F,normalizationField:g,minValue:S,maxValue:k,outlineOptimizationEnabled:!t&&((0,o.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!z.sizeOutlineVisVar),sizeOptimizationEnabled:!t&&((0,o.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!z.sizeAutoVisVar),legendOptions:(null===(i=e.legendOptions)||void 0===i?void 0:i.toJSON())||(null===(l=null==h?void 0:h.legendOptions)||void 0===l?void 0:l.toJSON())||(null===(a=p.legendOptions)||void 0===a?void 0:a.toJSON()),defaultSymbolEnabled:(0,o.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!p.defaultSymbol,forBinning:"binning"===(null===(r=f.featureReduction)||void 0===r?void 0:r.type)};return c.ColorCreator.createContinuousRenderer(C).then((i=>{if(e.discardMinMax){const e=(0,n.a)(p,"color"),l=(0,n.a)(i.renderer,"color");e.stops.forEach(((e,i)=>e.value=l.stops[i].value))}if((0,n.l)(z,i.renderer),E&&i.renderer.classBreakInfos&&i.renderer.classBreakInfos.length&&(i.renderer.classBreakInfos[0].symbol=E),O&&(i.renderer.defaultSymbol=O,i.renderer.defaultLabel=V),w&&F&&h){const e=(0,n.a)(i.renderer,"color"),l=h.stops.length-1;e.stops.forEach(((e,i)=>e.color=h.stops[l-i].color))}return Promise.resolve(i)}),(e=>Promise.reject(e)))}function t(e){var i,l;const{layer:a,mapImageSublayer:r,mapView:s,modules:t}=n.s,d=a;e=e||{};const m=(0,n.h)(d),u=(0,n.g)(),c=(0,n.a)(m,"color");if(c&&e.fieldInfos&&e.fieldInfos[0]&&e.fieldInfos[0].field==c.field&&(delete e.fieldInfos,(0,n.R)(e)))return Promise.resolve({renderer:m.clone()});const f=(0,n.m)(m),p=(0,n.p)(m,"color"),v=e.startTime?e.startTime:p.startTime,b=e.endTime?e.endTime:p.endTime,h=m.classBreakInfos&&m.classBreakInfos.length?m.classBreakInfos[0].symbol:(0,n.S)(d,s,u),z=m.defaultSymbol,x=m.defaultLabel;let I=!1;(e.startTime||e.endTime||e.units||e.fieldInfo)&&(I=!0);const g=e.discardMinMax?void 0:(0,o.i)(e.min)?e.min:I?void 0:p?p.minSliderValue:m.classBreakInfos[0].minValue,E=e.discardMinMax?void 0:(0,o.i)(e.max)?e.max:I?void 0:p?p.maxSliderValue:m.classBreakInfos[m.classBreakInfos.length-1].maxValue,O=e.theme?e.theme:p?p.theme:"high-to-low",V={layer:d,view:s,startTime:v,endTime:b,unit:e.units?e.units:p.units,theme:O,colorScheme:e.colorScheme||(0,n.P)(O),minValue:g,maxValue:E,outlineOptimizationEnabled:!r&&((0,o.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!f.sizeOutlineVisVar),sizeOptimizationEnabled:!r&&((0,o.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!f.sizeAutoVisVar),legendOptions:e.legendOptions?e.legendOptions.toJSON():I?void 0:(null===(i=null==c?void 0:c.legendOptions)||void 0===i?void 0:i.toJSON())||(null===(l=m.legendOptions)||void 0===l?void 0:l.toJSON()),defaultSymbolEnabled:(0,o.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!m.defaultSymbol};return t.ColorCreator.createAgeRenderer(V).then((i=>{if(e.discardMinMax){const e=(0,n.a)(m,"color"),l=(0,n.a)(i.renderer,"color");e.stops.forEach(((e,i)=>e.value=l.stops[i].value))}return(0,n.p)(i.renderer,"color").field=p.field,(0,n.l)(f,i.renderer),h&&i.renderer.classBreakInfos&&i.renderer.classBreakInfos.length&&(i.renderer.classBreakInfos[0].symbol=h),z&&(i.renderer.defaultSymbol=z,i.renderer.defaultLabel=x),Promise.resolve(i)}),(e=>Promise.reject(e)))}function d(e){var i;const{layer:l,mapImageSublayer:a,mapView:r,modules:s}=n.s,t=l;e=e||{};const d=(0,n.h)(t),m=d.authoringInfo||{},u=(0,n.a)(d,"color");if(!u&&e.fieldInfo&&e.fieldInfo.field==d.field&&e.fieldInfo.expression==d.valueExpression&&e.normalizationField===d.normalizationField&&(delete e.fieldInfo,(0,n.R)(e)))return Promise.resolve({renderer:d.clone()});const c=(0,n.p)(d,"color"),f=(0,n.m)(d),p={field:d.field,expression:d.valueExpression,expressionTitle:d.valueExpressionTitle,simpleFieldType:n.w.NUMBER};let v=e.fieldInfos?e.fieldInfos[0]:u?{field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:n.w.NUMBER}:p;const b=void 0!==e.normalizationField?e.normalizationField:u?u.normalizationField:d.normalizationField;let h;if(d.classBreakInfos&&d.classBreakInfos.length){const e=d.classBreakInfos[0].symbol;["simple-fill","simple-marker","simple-line","cim"].indexOf(e.type)>-1&&(h=e)}const z=d.defaultSymbol,x=d.defaultLabel,I=e.classificationMethod?e.classificationMethod:m.classificationMethod&&"manual"!==m.classificationMethod?m.classificationMethod:"natural-breaks",g="standard-deviation"===I?e.standardDeviationInterval?e.standardDeviationInterval:m.standardDeviationInterval?m.standardDeviationInterval:1:void 0;let E=!0;!e.classificationMethod||e.classificationMethod===m.classificationMethod||"standard-deviation"!==e.classificationMethod&&"standard-deviation"!==m.classificationMethod||(E=!1);let O=!1;void 0===e.normalizationField&&(0,n.x)(v,p)&&"equal-interval"===I||(O=!0);const V=(0,o.i)(e.min)?e.min:O?void 0:c?c.minSliderValue:d.classBreakInfos[0].minValue,y=(0,o.i)(e.max)?e.max:O?void 0:c?c.maxSliderValue:d.classBreakInfos[d.classBreakInfos.length-1].maxValue;let S=e.colorScheme||(0,n.P)();return S||(S=(0,n.P)("above-and-below")),s.ColorCreator.createClassBreaksRenderer({layer:t,view:r,field:v.field,valueExpression:v.expression,valueExpressionTitle:v.expressionTitle,normalizationField:b,classificationMethod:I,standardDeviationInterval:g,numClasses:(0,o.i)(e.numClasses)?e.numClasses:u||!E?4:d.classBreakInfos.length,minValue:V,maxValue:y,colorScheme:S,outlineOptimizationEnabled:!a&&((0,o.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!f.sizeOutlineVisVar),legendOptions:e.legendOptions||d.legendOptions,defaultSymbolEnabled:(0,o.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!d.defaultSymbol,forBinning:"binning"===(null===(i=t.featureReduction)||void 0===i?void 0:i.type)}).then((e=>((0,n.l)(f,e.renderer),f.sizeAutoVisVar&&(e.renderer.visualVariables=e.renderer.visualVariables||[],e.renderer.visualVariables.push(f.sizeAutoVisVar)),h&&e.renderer.classBreakInfos&&e.renderer.classBreakInfos.map((e=>{const i=h.clone();(0,n.r)(i,(0,n.t)(e.symbol)),e.symbol=i})),z&&(e.renderer.defaultSymbol=z,e.renderer.defaultLabel=x),Promise.resolve(e))),(e=>Promise.reject(e)))}function m(){const{layer:e,modules:i}=n.s;return(0,n.h)(e).classBreakInfos.map((e=>({min:e.minValue,max:e.maxValue,color:(0,n.t)(e.symbol)?(0,n.t)(e.symbol).clone():new i.esriColor({r:255,g:255,b:255,a:1})})))}function u(e){const{layer:i}=n.s,l=(0,n.h)(i).clone(),o=(0,n.g)();if(["color","color-size","color-size-age","color-age","color-age-size"].indexOf(o)>-1&&void 0===e.normalizationField){let i;const a=(0,n.a)(l,"color");if(i=a?["color-age","color-age-size"].indexOf(o)>-1?{field:(0,n.p)(l,"color").field}:{field:a.field,expression:a.valueExpression,expressionTitle:a.valueExpressionTitle}:{field:l.field,expression:l.valueExpression,expressionTitle:l.valueExpressionTitle},(0,n.x)(e.fieldInfos[0],i))return!0}return!1}}}]);