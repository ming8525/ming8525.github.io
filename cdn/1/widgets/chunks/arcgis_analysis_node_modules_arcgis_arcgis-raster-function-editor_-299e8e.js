"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-299e8e"],{53248:(e,t,n)=>{n.d(t,{A:()=>o,G:()=>u,J:()=>s,M:()=>a,P:()=>c,U:()=>r,a:()=>l,d:()=>i});const r={IDLE:"idle",VALID:"valid",INVALID:"invalid"},s={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},a={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},i={name:"Raster",isDataset:!0,isPublic:!1,type:s.RASTER_FUNCTION_VARIABLE},o={RFX_DTEX_COMMON_SELECT:"RFX-DTEX-COMMON-SELECT",RFX_DTE_COMMON_CHECKBOX:"CALCITE-CHECKBOX",RFX_DTE_COMMON_TEXTINPUT:"CALCITE-INPUT-TEXT",RFX_DTE_COMMON_NUMBERINPUT:"CALCITE-INPUT-NUMBER",RFX_DTE_RASTER_INPUT:"RFX-DTE-RASTER-INPUT",RFX_DTE_FEATURE_SELECT:"RFX-DTE-FEATURE-SELECT",RFX_DTEX_RASTER_VARIABLES_LIST:"RFX-DTEX-RASTER-VARIABLES-LIST",RFX_CTE_RANGED_VALUE_EDITOR:"RFX-CTE-RANGED-VALUE-EDITOR",RFX_CTE_GAMMA_EDITOR:"RFX-CTE-GAMMA-EDITOR",RFX_DTE_COLOR_RAMP_SELECTOR:"RFX-DTE-COLOR-RAMP-SELECTOR",RFX_DTE_EXTENT:"RFX-DTE-EXTENT",RFX_DTE_JSON_FILE_UPLOADER:"RFX-DTE-JSON-FILE-UPLOADER",RFX_CTE_FACTOR_FUNCTION_EDITOR:"RFX-CTE-FACTOR-FUNCTION-EDITOR",RFX_CTE_NEIGHBORHOOD_VALUES:"RFX-CTE-NEIGHBORHOOD-VALUES"},l={ANALYSIS:"analysis",EDITOR:"editor"},u={textInput:"text-input",text:"text",raster:"raster-input",number:"number-input",boolean:"check-box",switch:"switch",field:"field-select",color:"color-input",select:"select",icon:"icon"},c={loading:"loading",success:"success",error:"error"}},89920:(e,t,n)=>{n.d(t,{S:()=>l,a:()=>E,b:()=>A,d:()=>h,e:()=>R,f:()=>C,g:()=>m,h:()=>T,i:()=>u,j:()=>c,k:()=>p,l:()=>d,m:()=>O,n:()=>y,p:()=>_,q:()=>S,r:()=>v,s:()=>g,u:()=>f});var r=n(34319),s=n(36676),a=n(77162),i=n(81279),o=n(53248);const l={List:"list",Unit:"linearUnit",Number:"number",Field:"field"};function u(e){const t=!(0,a.i)(e?.isDataset),n=e?.type===a.R;return t&&n}function c(e,t){if((0,a.i)(t))return r.clone(e);const n={};if("object"==typeof e&&null!==e&&!Array.isArray(e)){for(const r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&(n[r]=c(e[r],t));return n}return Array.isArray(e)?e.map((e=>c(e,t))):r.clone(e)}function h(e,t){if((0,a.i)(e)||(0,a.i)(t))return;const n=Object.keys(t).find((t=>t.toLowerCase()===e.toLowerCase()));return n?t[n]:void 0}function p(e,t){if(!e)return"";const n=Object.keys(e);return void 0===t&&1===n.length?n[0]:n.find((e=>e.toLowerCase()===t?.toLowerCase()))??""}async function E(e){const t=e?.function?.type?.toLowerCase()?.replace("function",""),n=e?.arguments,r=s.h.rfxNameSpecialCases,i=s.h.localFunctionOperations,o=await(0,s.g)();switch(t){case"local":const e=n?.Operation?.value,s=i.find((t=>t.key===e));if(!(0,a.i)(s))return s.label;if(o.cellStatisticsTypes.some((t=>t.key===e)))return"CellStatistics";break;case"pythonadapter":{const e=n?.ClassName?.value;return e||null}case"gpadapter":{const e=n?.ToolName?.value?.toLowerCase()?.replace("_sa",""),t=r.find((t=>t.key===e));return t?.value||e||null}default:{const e=r.find((e=>e.key===t));return e?.value||t||null}}return null}function A(e){if(e)return e.type===a.b?e:e.value&&e.value.type===a.b?e.value:void 0}function m({schema:e,rfxTemplate:t}){if((0,a.i)(t?.function?.type))return;const n=t.function.type,r=t?.arguments;let s=(0,i.e)(r);return(!s||!e.hasOwnProperty(s)&&e.hasOwnProperty(n))&&(s=n),e[s]}function T(e){if(!e||!e.value)return!1;const t=(e.value.elements?e.value.elements:e.value)[0];return t&&(t.isDataset||t.type===a.b)}function g(e){if(!e||!e[a.A])return!1;if(e.aliases)return!0;const t=e=>{if(!e)return!1;if(e.isPublic)return!0;if(T(e)){const n=e.value&&e.value.elements?e.value.elements:e.value;if(n&&Array.isArray(n))return n.some((e=>t(e)))}const n=A(e);return!!n&&g(n)},n=e[a.A];return(0,a.a)(n)?t(n):Object.keys(n).some((e=>{const r=n[e];if((0,a.a)(r))return t(r)}))}function f(e){if(!e)return!1;const t=e.dataType===s.d.rasterArray,n=Boolean(e.elementInfos),r=e.dataType===s.d.table;return t&&n||r}function R(e,t){return Array.isArray(e)&&e.some((e=>e.toLowerCase()===t.toLowerCase()))}function d(e){if(!e||!e.value)return!1;const t=e.value.elements?e.value.elements:e.value;return!!Array.isArray(t)&&t.some((function(e){return e&&e.type===a.b}))}function C(e){return e?.forEach((e=>{e.key=e.key.toString()})),e}function _(e,t){return e.forEach((e=>{if("field"===e.type){const n=h(e.argumentName,t);e.argumentName=n.name,e.layerArgument=n}else e.type!==s.a.list&&e.type!==s.a.linearUnit||(e.enumStore=C[e.enum])})),e}function O(e,t){let n;const r=h(e.nElementsArgument,t),s=r?.value,a=e.elementInfos;return void 0!==r&&void 0!==s||1!==a.length?(Array.isArray(a)&&a.some((e=>{const t=e.values;if(Array.isArray(t)&&t.indexOf(s)>-1)return n=e.inputArgs,!0})),n):a[0].inputArgs}function y(e){let t=!1;const n=e[a.A];if((0,a.a)(n))return!0;for(const e in n)if(e!==a.T&&(r=n[e])&&(A(r)||d(r)))return t=!0,t;var r;return t}function S({functionSchema:e,rfxTemplate:t}){if(!t)return;const n=[],s=t.arguments,i=s&&s.type;if(function({functionSchema:e,rfxTemplate:t}){const n=e;let r;if(n&&(r=n.rasterFunctionArguments,1===Object.keys(r).length&&!n.hasArgumentsObject))return!0;const s=t.arguments,a=s&&s.type;return!(!a||a!==o.J.RASTER_FUNCTION_TEMPLATE&&a!==o.J.RASTER_FUNCTION_VARIABLE)||void 0}({functionSchema:e,rfxTemplate:t})){const e=r.clone(s);let t;return t=i===o.J.RASTER_FUNCTION_TEMPLATE||e.isDataset?"Raster":"Rasters",n.push({...e,key:t}),n}return Object.keys(s).forEach((e=>{if(e===o.M.MATCH_VARIABLE||e===o.M.UNION_DIMENSION)return;const t=r.clone(s[e]);(0,a.a)(t)&&n.push({...t,key:e})})),n}function v(e,t){const n=t&&t.value;if(null==n)return;let r;return e.some((e=>{if(e.values&&e.values.indexOf(n)>-1)return r=e.inputArgs,!0})),r}},3585:(e,t,n)=>{n.r(t),n.d(t,{rfx_cte_pansharpen_sensor_picker:()=>c});var r=n(19451),s=n(81279),a=n(64729),i=n(77162),o=n(89920);n(46574),n(34319),n(46717),n(55139),n(57098),n(78979),n(83345),n(99248),n(16888),n(95323),n(43278),n(86944),n(74656);const l=[{name:"DubaiSat-2",pansharpenWeights:[.166,.167,.167,.5]},{name:"GeoEye-1",pansharpenWeights:[.41,.16,.13,.3]},{name:"GF-1 PMS",pansharpenWeights:[.2501,.3646,0,.3853]},{name:"GF-2 PMS",pansharpenWeights:[.2501,.3646,0,.3853]},{name:"IKONOS",pansharpenWeights:[.378,.211,0,.411]},{name:"Jilin-1",pansharpenWeights:[.2501,.3646,0,.5]},{name:"KOMPSAT-2",pansharpenWeights:[.166,.167,.167,.5]},{name:"KOMPSAT-3",pansharpenWeights:[.166,.167,.167,.5]},{name:"Landsat 1-5  MSS",pansharpenWeights:[0,0,0,0]},{name:"Landsat 7  ETM+",pansharpenWeights:[.11,.14,.14,.61]},{name:"Landsat 8",pansharpenWeights:[.42,.51,.07,0]},{name:"Pleiades Neo",pansharpenWeights:[.45,.55,0,0]},{name:"Pleiades-1",pansharpenWeights:[.9,.75,.5,.5]},{name:"QuickBird",pansharpenWeights:[.85,.7,.35,1]},{name:"SkySat",pansharpenWeights:[.41,.16,.13,.3]},{name:"SPOT 5",pansharpenWeights:[.166,.167,.167,.5]},{name:"SPOT 6",pansharpenWeights:[.45,.55,0,0]},{name:"SPOT 7",pansharpenWeights:[.45,.55,0,0]},{name:"SuperView-1",pansharpenWeights:[.85,.7,.35,1]},{name:"TH-01",pansharpenWeights:[.329,.509,0,.162]},{name:"UltraCam",pansharpenWeights:[.326,.645,.029,0]},{name:"WorldView-2",pansharpenWeights:[.39,.23,.21,.17]},{name:"WorldView-3",pansharpenWeights:[.38,.25,.2,.16]},{name:"WorldView-4",pansharpenWeights:[.39,.23,.21,.17]},{name:"ZY1-02C PMS",pansharpenWeights:[.378,.211,0,.411]},{name:"ZY3-CRESDA",pansharpenWeights:[.329,.509,0,.162]},{name:"ZY3-SASMAC",pansharpenWeights:[.329,.509,0,.162]}],u="inputArgHelpClickHandler",c=class{constructor(e){(0,r.r)(this,e),this.rfxArgumentChange=(0,r.c)(this,"rfxArgumentChange",7),this.sensorList=l,this.helpActionClickEventHandlers=new Map,this.handleInputChange=e=>{e.stopPropagation();const t=e.target.value;this.inputArg.value=t,this.value=t;const n=this.sensorList.find((e=>e.name===t)),r=!1===(0,i.i)(n)?n.pansharpenWeights:[.166,.167,.167,.5];this.widgetArgs.triggerArgs.Weights.input.value=r,this.rfxArgumentChange.emit({value:t})},this.value=void 0,this.widgetArgs=void 0,this.store=[]}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}componentWillLoad(){this.setupInitialState(this.widgetArgs)}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs({inputArgs:e}){Object.keys(e).forEach((t=>{const n=e[t];this.inputArg=n,n.input=this.hostElement}))}setupInitialState({rfxArgs:e,rasterFunctions:t}){this.value=this.inputArg.value;const n=t[(0,s.e)(e)],r=n?.rasterFunctionArguments,a=this.inputArg.name;this.value=this.inputArg.value;const l=r?.[a]?.domain;if("list"===l?.type){const e=l.enum;this.store=(0,o.j)(e)}else console.error("Invalid inputArg! Check Schema");this.store=this.store.concat(this.sensorList.map((function(e){return{key:e.name,label:e.name}}))),this.store?.forEach((e=>{e.key=e.key.toString()})),(0,i.i)(this.store)&&console.error("Domain list Enum not set! Check Schema"),this.value=this.inputArg.value||this.store[0].key}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.inputArg?.helpTextID});this.helpActionClickEventHandlers.set(u,e)}render(){return(0,r.h)("div",null,(0,r.h)("calcite-label",{alignment:"start",scale:a.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,r.h)("rfx-label",{label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers.get(u)()}),(0,r.h)("rfx-dtex-common-select",{options:this.store,value:String(this.value),onRfxArgumentChange:this.handleInputChange})))}get hostElement(){return(0,r.a)(this)}};n(36676),n(48302),n(48363),n(53248)},64729:(e,t,n)=>{n.d(t,{C:()=>s,U:()=>r,a:()=>a});const r={Scale:"s",PopoverTimer:60},s={s:"s",m:"m"},a={absolute:"absolute",fixed:"fixed"}}}]);