/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-delete--42220d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-delete--42220d"],{48788:(e,t,s)=>{s.r(t),s.d(t,{arcgis_delete_folder:()=>n});var i=s(81149),l=s(49853),a=s(82218),o=s(20164);s(70464),s(42577),s(51837),s(69283),s(79210);const r=async(e,t)=>(0,o.r)(`${e.userContentUrl}/${t.id}`),n=class{constructor(e){(0,i.r)(this,e),this.arcgisDeleteFolderClose=(0,i.c)(this,"arcgisDeleteFolderClose",7),this.renderMessage=()=>{const{i18n:e,folder:t,mode:s}=this;let l="",a="";switch(s){case"UNPROTECTED":case"UNRECYCLABLE":case"UNRECYCLABLE_UNPROTECTED":l=e.message.mustBeEmptyProceed.replace("${title}",t.title);break;case"PROTECTED_UNRECYCLABLE":case"PROTECTED_UNPROTECTED":case"PROTECTED_UNRECYCLABLE_UNPROTECTED":l=e.message.mustBeEmpty.replace("${title}",t.title),a=e.message.aFewCannotBeDeleted;break;case"PROTECTED":l=e.message.cannotBeDeleted.replace("${title}",t.title)}return(0,i.h)(i.F,null,l&&(0,i.h)("p",{innerHTML:l}),a&&(0,i.h)("p",null,a))},this.handleDeleteItems=async()=>{0===(await r(l.c.user,this.folder)).total?await this.handleDeleteFolder():console.warn("Folder not deleted: items in folder can't be deleted")},this.handleDeleteFolder=async()=>{await(async(e,t,s)=>{const i=`${(null!=s?s:t.user).userContentUrl}/${e.id}/delete`;return await(0,o.r)(i,{},{},"post")})(this.folder,this.portal,this.user)},this.portal=void 0,this.user=void 0,this.folder=void 0,this.active=void 0,this.items=void 0,this.deleteItemsRef=void 0,this.mode=void 0}async componentWillLoad(){var e;const t=await(0,a.g)(this.el);this.i18n=t[0],this.items=(await r(null!==(e=this.user)&&void 0!==e?e:l.c.user,this.folder)).items}render(){const{portal:e,user:t,active:s,i18n:l,folder:a,items:o}=this;return 0===o.length?(0,i.h)("calcite-modal",{widthScale:"s",open:s,onCalciteModalClose:()=>this.arcgisDeleteFolderClose.emit()},(0,i.h)("div",{slot:"header"},l.deleteFolder),(0,i.h)("div",{slot:"content",innerHTML:l.message.empty.replace("${title}",null==a?void 0:a.title)}),(0,i.h)("calcite-button",{slot:"secondary",appearance:"outline-fill","data-id":"cancelButton",onClick:()=>{this.arcgisDeleteFolderClose.emit(),this.active=!1},width:"full"},l.cancel),(0,i.h)("calcite-button",{slot:"primary",appearance:"solid",kind:"danger","data-id":"nextButton",onClick:async()=>{await this.handleDeleteFolder(),this.active=!1},width:"full"},l.delete)):(0,i.h)("arcgis-delete-items",{items:this.items,portal:e,user:t,active:s,showSelectedItemsCount:!1,closeOnConfirm:!1,onArcgisDeleteItemsModeChange:e=>{this.mode=e.detail},onArcgisDeleteItemsClose:()=>{this.arcgisDeleteFolderClose.emit(),this.active=!1},onArcgisDeleteItemsDelete:async()=>{await this.handleDeleteItems(),this.active=!1}},(0,i.h)("div",{slot:"header"},l.deleteFolder),(0,i.h)("div",{slot:"message"},this.renderMessage()))}get el(){return(0,i.d)(this)}}}}]);