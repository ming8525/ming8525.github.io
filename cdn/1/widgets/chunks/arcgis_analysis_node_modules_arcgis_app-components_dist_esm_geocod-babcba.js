"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_geocod-babcba"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/geocode-64e0b0d3.js":
/*!*************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/geocode-64e0b0d3.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ getAnalyzedLayerInfo),
/* harmony export */   b: () => (/* binding */ getGeocoderInfo),
/* harmony export */   c: () => (/* binding */ countryCodes),
/* harmony export */   d: () => (/* binding */ getSourceCountry),
/* harmony export */   e: () => (/* binding */ getLocationPublishParameters),
/* harmony export */   f: () => (/* binding */ findGeocoder),
/* harmony export */   g: () => (/* binding */ getAllowedFieldTypes),
/* harmony export */   i: () => (/* binding */ isEsriWorldGeocoder)
/* harmony export */ });
/* harmony import */ var _functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functional-44de8fcf.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-44de8fcf.js");
/* harmony import */ var _privileges_5c382f61_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./privileges-5c382f61.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-5c382f61.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _privileges_74639dae_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./privileges-74639dae.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-74639dae.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */





const countryCodes = {
    WORLD: "World",
    EU: "Europe",
    AD: "Andorra",
    AE: "United Arab Emirates",
    AF: "Afghanistan",
    AG: "Antigua and Barbuda",
    AI: "Anguilla",
    AL: "Albania",
    AM: "Armenia",
    AO: "Angola",
    AQ: "Antarctica",
    AR: "Argentina",
    AS: "American Samoa",
    AT: "Austria",
    AU: "Australia",
    AW: "Aruba",
    AZ: "Azerbaijan",
    BA: "Bosnia and Herzegovina",
    BB: "Barbados",
    BD: "Bangladesh",
    BE: "Belgium",
    BF: "Burkina Faso",
    BG: "Bulgaria",
    BH: "Bahrain",
    BI: "Burundi",
    BJ: "Benin",
    BL: "Saint Barthélemy",
    BM: "Bermuda",
    BN: "Brunei Darussalam",
    BO: "Bolivia, Plurinational State of",
    BQ: "Bonaire, Sint Eustatius and Saba",
    BR: "Brazil",
    BS: "Bahamas",
    BT: "Bhutan",
    BV: "Bouvet Island",
    BW: "Botswana",
    BY: "Belarus",
    BZ: "Belize",
    CA: "Canada",
    CD: "Congo, the Democratic Republic of the",
    CF: "Central African Republic",
    CG: "Congo",
    CH: "Switzerland",
    CI: "Côte d'Ivoire",
    CK: "Cook Islands",
    CL: "Chile",
    CM: "Cameroon",
    CN: "China",
    CO: "Colombia",
    CR: "Costa Rica",
    CU: "Cuba",
    CV: "Cape Verde",
    CW: "Curaçao",
    CY: "Cyprus",
    CZ: "Czech Republic",
    DE: "Germany",
    DJ: "Djibouti",
    DK: "Denmark",
    DM: "Dominica",
    DO: "Dominican Republic",
    DZ: "Algeria",
    EC: "Ecuador",
    EE: "Estonia",
    EG: "Egypt",
    EH: "Western Sahara",
    ER: "Eritrea",
    ES: "Spain",
    ET: "Ethiopia",
    FI: "Finland",
    FJ: "Fiji",
    FK: "Falkland Islands (Malvinas)",
    FM: "Micronesia, Federated States of",
    FO: "Faroe Islands",
    FR: "France",
    GA: "Gabon",
    GB: "United Kingdom",
    GD: "Grenada",
    GE: "Georgia",
    GF: "French Guiana",
    GG: "Guernsey",
    GH: "Ghana",
    GI: "Gibraltar",
    GL: "Greenland",
    GM: "Gambia",
    GN: "Guinea",
    GP: "Guadeloupe",
    GQ: "Equatorial Guinea",
    GR: "Greece",
    GS: "South Georgia and the South Sandwich Islands",
    GT: "Guatemala",
    GW: "Guinea-Bissau",
    GY: "Guyana",
    HK: "Hong Kong",
    HM: "Heard Island and McDonald Islands",
    HN: "Honduras",
    HR: "Croatia",
    HT: "Haiti",
    HU: "Hungary",
    ID: "Indonesia",
    IE: "Ireland",
    IL: "Israel",
    IM: "Isle of Man",
    IN: "India",
    IO: "British Indian Ocean Territory",
    IQ: "Iraq",
    IR: "Iran, Islamic Republic of",
    IS: "Iceland",
    IT: "Italy",
    JE: "Jersey",
    JM: "Jamaica",
    JO: "Jordan",
    JP: "Japan",
    KE: "Kenya",
    KG: "Kyrgyzstan",
    KH: "Cambodia",
    KI: "Kiribati",
    KM: "Comoros",
    KN: "Saint Kitts and Nevis",
    KP: "Korea, Democratic People's Republic of",
    KR: "Korea, Republic of",
    KW: "Kuwait",
    KY: "Cayman Islands",
    KZ: "Kazakhstan",
    LA: "Lao People's Democratic Republic",
    LB: "Lebanon",
    LC: "Saint Lucia",
    LI: "Liechtenstein",
    LK: "Sri Lanka",
    LR: "Liberia",
    LS: "Lesotho",
    LT: "Lithuania",
    LU: "Luxembourg",
    LV: "Latvia",
    LY: "Libya",
    MA: "Morocco",
    MC: "Monaco",
    MD: "Moldova, Republic of",
    ME: "Montenegro",
    MF: "Saint Martin (French part)",
    MG: "Madagascar",
    MH: "Marshall Islands",
    MK: "Macedonia, the former Yugoslav Republic of",
    ML: "Mali",
    MM: "Myanmar",
    MN: "Mongolia",
    MO: "Macao",
    MP: "Northern Mariana Islands",
    MQ: "Martinique",
    MR: "Mauritania",
    MS: "Montserrat",
    MT: "Malta",
    MU: "Mauritius",
    MV: "Maldives",
    MW: "Malawi",
    MX: "Mexico",
    MY: "Malaysia",
    MZ: "Mozambique",
    NA: "Namibia",
    NC: "New Caledonia",
    NE: "Niger",
    NG: "Nigeria",
    NI: "Nicaragua",
    NL: "Netherlands",
    NO: "Norway",
    NP: "Nepal",
    NR: "Nauru",
    NU: "Niue",
    NZ: "New Zealand",
    OM: "Oman",
    PA: "Panama",
    PE: "Peru",
    PF: "French Polynesia",
    PG: "Papua New Guinea",
    PH: "Philippines",
    PK: "Pakistan",
    PL: "Poland",
    PM: "Saint Pierre and Miquelon",
    PN: "Pitcairn",
    PS: "Palestine, State of",
    PT: "Portugal",
    PW: "Palau",
    PY: "Paraguay",
    QA: "Qatar",
    RE: "Réunion",
    RO: "Romania",
    RS: "Serbia",
    RU: "Russian Federation",
    RW: "Rwanda",
    SA: "Saudi Arabia",
    SB: "Solomon Islands",
    SC: "Seychelles",
    SD: "Sudan",
    SE: "Sweden",
    SG: "Singapore",
    SH: "Saint Helena, Ascension and Tristan da Cunha",
    SI: "Slovenia",
    SJ: "Svalbard and Jan Mayen",
    SK: "Slovakia",
    SL: "Sierra Leone",
    SM: "San Marino",
    SN: "Senegal",
    SO: "Somalia",
    SR: "Suriname",
    SS: "South Sudan",
    ST: "Sao Tome and Principe",
    SV: "El Salvador",
    SX: "Sint Maarten (Dutch part)",
    SY: "Syrian Arab Republic",
    SZ: "Swaziland",
    TC: "Turks and Caicos Islands",
    TD: "Chad",
    TF: "French Southern Territories",
    TG: "Togo",
    TH: "Thailand",
    TJ: "Tajikistan",
    TK: "Tokelau",
    TL: "Timor-Leste",
    TM: "Turkmenistan",
    TN: "Tunisia",
    TO: "Tonga",
    TR: "Turkey",
    TT: "Trinidad and Tobago",
    TV: "Tuvalu",
    TW: "Taiwan, Province of China",
    TZ: "Tanzania, United Republic of",
    UA: "Ukraine",
    UG: "Uganda",
    UM: "United States Minor Outlying Islands",
    US: "United States",
    UY: "Uruguay",
    UZ: "Uzbekistan",
    VA: "Holy See (Vatican City State)",
    VC: "Saint Vincent and the Grenadines",
    VE: "Venezuela, Bolivarian Republic of",
    VG: "Virgin Islands, British",
    VN: "Vietnam",
    VU: "Vanuatu",
    WF: "Wallis and Futuna",
    WS: "Samoa",
    XK: "Republic of Kosovo",
    YE: "Yemen",
    YT: "Mayotte",
    ZA: "South Africa",
    ZM: "Zambia",
    ZW: "Zimbabwe"
};

/**
 * Forms publishParameters correctly for publish tasks involving geocoding
 */
function getLocationPublishParameters(addressType, appendWorkflow) {
    const { sourceCountry, locationType, analyzeResults, candidateFieldsType, coordinateFieldType, type, standardizedFieldNames, selectedFields } = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a;
    const layerInfo = getAnalyzedLayerInfo();
    const fields = !appendWorkflow ? Object.values(selectedFields) : _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.backupLayerFields;
    const locationPublishParams = Object.assign(Object.assign({ locationType: locationType || "address", sourceCountry,
        candidateFieldsType }, (locationType === "coordinates" && getCoordinateFields(fields, coordinateFieldType))), (locationType === "address" && { addressFields: getAddressFields(fields, addressType, standardizedFieldNames) }));
    let publishParameters;
    if (!appendWorkflow && type === "Microsoft Excel") {
        publishParameters = Object.assign(Object.assign({}, analyzeResults.publishParameters), { layers: [Object.assign(Object.assign({}, layerInfo), locationPublishParams)], hasStaticData: true, maxRecordCount: 2000, layerInfo: { capabilities: "Query" } });
    }
    else {
        publishParameters = Object.assign(Object.assign({}, analyzeResults.publishParameters), locationPublishParams);
    }
    return publishParameters;
}
function getAddressFields(fields, addressType, standardizedFieldNames) {
    if (addressType === "Single") {
        const singleLineAddressField = Object.keys(standardizedFieldNames)[0] || "Address";
        const addressField = fields.find(({ locationType }) => locationType === singleLineAddressField || (locationType === null || locationType === void 0 ? void 0 : locationType.toLowerCase()) === "address");
        return { [singleLineAddressField]: (addressField === null || addressField === void 0 ? void 0 : addressField.name) || "" };
    }
    return fields.reduce((acc, field) => {
        if (field.locationType !== "unknown") {
            acc[field.locationType] = field.name;
        }
        return acc;
    }, {});
}
/**
 * Fetch the correct layerInfo from the current CSV/Excel analyzeResults
 */
function getAnalyzedLayerInfo(customAnalyzeResults, analyzeSelectedLayer) {
    var _a, _b, _c, _d, _e, _f, _g;
    const { type, analyzeResults = customAnalyzeResults, selectedSheet } = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a; //set selectedSheet
    const publishParameters = analyzeResults === null || analyzeResults === void 0 ? void 0 : analyzeResults.publishParameters;
    if (!!analyzeSelectedLayer) {
        if (type === "CSV") {
            return publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layerInfo;
        }
        else {
            return (_b = (_a = publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layers) === null || _a === void 0 ? void 0 : _a[selectedSheet]) !== null && _b !== void 0 ? _b : (_c = publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layers) === null || _c === void 0 ? void 0 : _c[0];
        }
    }
    else {
        switch (type) {
            case "Microsoft Excel":
                return (_e = (_d = publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layers) === null || _d === void 0 ? void 0 : _d[selectedSheet]) !== null && _e !== void 0 ? _e : (_f = publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layers) === null || _f === void 0 ? void 0 : _f[0];
            case "GeoJson":
                return (_g = publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layers) === null || _g === void 0 ? void 0 : _g[0];
            default:
                return publishParameters === null || publishParameters === void 0 ? void 0 : publishParameters.layerInfo;
        }
    }
}
/**
 * Given a field type, find which other field types can be successfully selected
 * https://devtopia.esri.com/WebGIS/arcgis-portal-app/issues/43974#issuecomment-4067420
 */
function getAllowedFieldTypes(fieldType) {
    switch (fieldType) {
        case "esriFieldTypeBigInteger":
            return ["esriFieldTypeBigInteger", "esriFieldTypeDouble", "esriFieldTypeString"];
        case "esriFieldTypeSmallInteger":
            return [
                "esriFieldTypeSmallInteger",
                "esriFieldTypeInteger",
                "esriFieldTypeSingle",
                "esriFieldTypeDouble",
                "esriFieldTypeString"
            ];
        case "esriFieldTypeInteger":
            return ["esriFieldTypeInteger", "esriFieldTypeSingle", "esriFieldTypeDouble", "esriFieldTypeString"];
        case "esriFieldTypeSingle":
            return ["esriFieldTypeSingle", "esriFieldTypeDouble", "esriFieldTypeString"];
        case "esriFieldTypeDouble":
            return ["esriFieldTypeDouble", "esriFieldTypeString"];
        case "esriFieldTypeDate":
            return ["esriFieldTypeDate", "esriFieldTypeString"];
        case "esriFieldTypeDateOnly":
            return ["esriFieldTypeDateOnly", "esriFieldTypeString"];
        case "esriFieldTypeTimeOnly":
            return ["esriFieldTypeTimeOnly", "esriFieldTypeString"];
        case "esriFieldTypeTimestampOffset":
            return ["esriFieldTypeTimestampOffset", "esriFieldTypeString"];
        case "esriFieldTypeOID":
            return ["esriFieldTypeOID", "esriFieldTypeInteger", "esriFieldTypeString"];
        case "esriFieldTypeString":
        default:
            return ["esriFieldTypeString"];
    }
}
function getCoordinateFields(fields, coordinateFieldType) {
    return fields.reduce((acc, field) => {
        switch (field.locationType) {
            case "latitude":
                acc.latitudeFieldName = field.name;
                if (!coordinateFieldType) {
                    acc.coordinateFieldType = "LatitudeAndLongitude";
                }
                break;
            case "longitude":
                acc.longitudeFieldName = field.name;
                if (!coordinateFieldType) {
                    acc.coordinateFieldType = "LatitudeAndLongitude";
                }
                break;
            case "mgrs":
                if (coordinateFieldType === "MGRS") {
                    acc.coordinateFieldName = field.name;
                    if (!coordinateFieldType) {
                        acc.coordinateFieldType = "MGRS";
                    }
                }
                break;
            case "usng":
                if (coordinateFieldType === "USNG") {
                    acc.coordinateFieldName = field.name;
                    if (!coordinateFieldType) {
                        acc.coordinateFieldType = "USNG";
                    }
                }
                break;
        }
        return acc;
    }, { coordinateFieldType });
}
function findGeocoder(geocodeServiceUrl, geocodeServers) {
    const matching = geocodeServers === null || geocodeServers === void 0 ? void 0 : geocodeServers.filter((geocoder) => geocoder.url === geocodeServiceUrl);
    return (matching === null || matching === void 0 ? void 0 : matching.length) ? matching.shift() : null;
}
/**
 * Get a list of geocoders that support batch geocoding
 */
function filterBatchGeocoders(geocoders, cantBatchGeocode, isPortal) {
    // retrieve only the batch geocoders from the list of geocoders
    return geocoders.filter((oldGeocoder) => {
        // Spread to avoid mutating the original array
        const geocoder = Object.assign({}, oldGeocoder);
        const isWorldGeocodeServer = isEsriWorldGeocoderNoProxy(geocoder === null || geocoder === void 0 ? void 0 : geocoder.url);
        const isWorldGeocodeServerProxy = isEsriWorldGeocoderThroughProxy(geocoder === null || geocoder === void 0 ? void 0 : geocoder.url);
        // if name not set and is Esri World Geocoder, set name
        if (isWorldGeocodeServer || isWorldGeocodeServerProxy) {
            if (!(0,_functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_0__.i)(geocoder.name)) {
                geocoder.name = "ArcGIS World Geocoding Service"; // always use official Esri geocoder name
            }
            else {
                if (geocoder.name === "Esri World Geocoder") {
                    geocoder.name = "ArcGIS World Geocoding Service"; // use official Esri geocoder name
                } // else keep it; might be the translated old name though
            }
        }
        if (isWorldGeocodeServer && (isPortal || cantBatchGeocode)) {
            return false; // AGO World Geocode server (without service proxy) can't be used for batch geocoding in portal
        }
        else if ((0,_functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_0__.i)(geocoder.batch)) {
            return !!geocoder.batch;
        }
        else {
            return isWorldGeocodeServer || isWorldGeocodeServerProxy;
        }
    });
}
function isEsriWorldGeocoderThroughProxy(url = "") {
    return !!(url === null || url === void 0 ? void 0 : url.match(/(arcgis\.com.*\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi));
}
function isEsriWorldGeocoderNoProxy(url = "") {
    return !!(url === null || url === void 0 ? void 0 : url.match(/(arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi));
}
function isEsriWorldGeocoder(url) {
    return !!url && (isEsriWorldGeocoderNoProxy(url) || isEsriWorldGeocoderThroughProxy(url));
}
/**
 * Update source country in state
 * based on user region and portal country code
 */
function getSourceCountry(region, ipCntryCode, code) {
    let sourceCountry = code || region || ipCntryCode || "";
    sourceCountry = (sourceCountry === null || sourceCountry === void 0 ? void 0 : sourceCountry.toLowerCase()) === "wo" ? "world" : sourceCountry;
    // #35564 - If a user or org-defined country code is not a valid geocode region, default to `world`
    if (!countryCodes[sourceCountry.toUpperCase()]) {
        sourceCountry = "world";
    }
    return sourceCountry;
}
/**
 * Get flags based on user's ability to geocode, etc.
 */
function getGeocoderInfo(geocodingServices, user, isPortal) {
    var _a;
    let roleCanUseGeocode = (0,_privileges_74639dae_js__WEBPACK_IMPORTED_MODULE_3__.l)(user) && (0,_privileges_74639dae_js__WEBPACK_IMPORTED_MODULE_3__.m)(user);
    const geocodeServers = filterBatchGeocoders(geocodingServices, !roleCanUseGeocode, isPortal);
    const geocodeServiceUrl = (_a = geocodeServers[0]) === null || _a === void 0 ? void 0 : _a.url;
    if (geocodeServers === null || geocodeServers === void 0 ? void 0 : geocodeServers.length) {
        // we filter out the world geocoder if the user does not have geocode privileges
        // if there was still at least one more geocoder in the list it must be a custom
        // geocoder, so the user can use that one.
        roleCanUseGeocode = true;
        const geocoder = findGeocoder(geocodeServers[0].url, geocodeServers);
        const isAgoWorldGeocodeServer = isEsriWorldGeocoderNoProxy(geocoder === null || geocoder === void 0 ? void 0 : geocoder.url);
        const isServiceProxyAgoWorldGeocodeServer = isEsriWorldGeocoderThroughProxy(geocoder === null || geocoder === void 0 ? void 0 : geocoder.url);
        const isWorldGeocodeServer = isAgoWorldGeocodeServer || isServiceProxyAgoWorldGeocodeServer;
        // ! Note: seems like there is no way `supportsBatch` can be false if the code reaches this point`
        let supportsBatch = isWorldGeocodeServer || !!geocoder.batch;
        const allowGeocode = (!(0,_privileges_5c382f61_js__WEBPACK_IMPORTED_MODULE_1__.d)(user) || roleCanUseGeocode) &&
            ((!isPortal && supportsBatch) ||
                (isPortal && (!isAgoWorldGeocodeServer || isServiceProxyAgoWorldGeocodeServer) && supportsBatch));
        return {
            allowGeocode,
            isAgoWorldGeocodeServer,
            isServiceProxyAgoWorldGeocodeServer,
            isWorldGeocodeServer,
            geocodeServers,
            geocodeServiceUrl
        };
    }
    return null;
}



//# sourceMappingURL=geocode-64e0b0d3.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fZ2VvY29kLWJhYmNiYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMwRDtBQUNHO0FBQ0Y7QUFDcUI7O0FBRWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDBEQUFZO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnTjs7QUFFaE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9nZW9jb2RlLTY0ZTBiMGQzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuaW1wb3J0IHsgaSBhcyBpc0RlZmluZWQgfSBmcm9tICcuL2Z1bmN0aW9uYWwtNDRkZThmY2YuanMnO1xuaW1wb3J0IHsgZCBhcyBpc0N1c3RvbVJvbGUgfSBmcm9tICcuL3ByaXZpbGVnZXMtNWMzODJmNjEuanMnO1xuaW1wb3J0IHsgYSBhcyBhZGRJdGVtU3RhdGUgfSBmcm9tICcuL2FkZC1pdGVtLWRiYmUyZjU3LmpzJztcbmltcG9ydCB7IGwgYXMgY2FuQ3JlYXRlSXRlbXMsIG0gYXMgY2FuR2VvY29kZSB9IGZyb20gJy4vcHJpdmlsZWdlcy03NDYzOWRhZS5qcyc7XG5cbmNvbnN0IGNvdW50cnlDb2RlcyA9IHtcbiAgICBXT1JMRDogXCJXb3JsZFwiLFxuICAgIEVVOiBcIkV1cm9wZVwiLFxuICAgIEFEOiBcIkFuZG9ycmFcIixcbiAgICBBRTogXCJVbml0ZWQgQXJhYiBFbWlyYXRlc1wiLFxuICAgIEFGOiBcIkFmZ2hhbmlzdGFuXCIsXG4gICAgQUc6IFwiQW50aWd1YSBhbmQgQmFyYnVkYVwiLFxuICAgIEFJOiBcIkFuZ3VpbGxhXCIsXG4gICAgQUw6IFwiQWxiYW5pYVwiLFxuICAgIEFNOiBcIkFybWVuaWFcIixcbiAgICBBTzogXCJBbmdvbGFcIixcbiAgICBBUTogXCJBbnRhcmN0aWNhXCIsXG4gICAgQVI6IFwiQXJnZW50aW5hXCIsXG4gICAgQVM6IFwiQW1lcmljYW4gU2Ftb2FcIixcbiAgICBBVDogXCJBdXN0cmlhXCIsXG4gICAgQVU6IFwiQXVzdHJhbGlhXCIsXG4gICAgQVc6IFwiQXJ1YmFcIixcbiAgICBBWjogXCJBemVyYmFpamFuXCIsXG4gICAgQkE6IFwiQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYVwiLFxuICAgIEJCOiBcIkJhcmJhZG9zXCIsXG4gICAgQkQ6IFwiQmFuZ2xhZGVzaFwiLFxuICAgIEJFOiBcIkJlbGdpdW1cIixcbiAgICBCRjogXCJCdXJraW5hIEZhc29cIixcbiAgICBCRzogXCJCdWxnYXJpYVwiLFxuICAgIEJIOiBcIkJhaHJhaW5cIixcbiAgICBCSTogXCJCdXJ1bmRpXCIsXG4gICAgQko6IFwiQmVuaW5cIixcbiAgICBCTDogXCJTYWludCBCYXJ0aMOpbGVteVwiLFxuICAgIEJNOiBcIkJlcm11ZGFcIixcbiAgICBCTjogXCJCcnVuZWkgRGFydXNzYWxhbVwiLFxuICAgIEJPOiBcIkJvbGl2aWEsIFBsdXJpbmF0aW9uYWwgU3RhdGUgb2ZcIixcbiAgICBCUTogXCJCb25haXJlLCBTaW50IEV1c3RhdGl1cyBhbmQgU2FiYVwiLFxuICAgIEJSOiBcIkJyYXppbFwiLFxuICAgIEJTOiBcIkJhaGFtYXNcIixcbiAgICBCVDogXCJCaHV0YW5cIixcbiAgICBCVjogXCJCb3V2ZXQgSXNsYW5kXCIsXG4gICAgQlc6IFwiQm90c3dhbmFcIixcbiAgICBCWTogXCJCZWxhcnVzXCIsXG4gICAgQlo6IFwiQmVsaXplXCIsXG4gICAgQ0E6IFwiQ2FuYWRhXCIsXG4gICAgQ0Q6IFwiQ29uZ28sIHRoZSBEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZVwiLFxuICAgIENGOiBcIkNlbnRyYWwgQWZyaWNhbiBSZXB1YmxpY1wiLFxuICAgIENHOiBcIkNvbmdvXCIsXG4gICAgQ0g6IFwiU3dpdHplcmxhbmRcIixcbiAgICBDSTogXCJDw7R0ZSBkJ0l2b2lyZVwiLFxuICAgIENLOiBcIkNvb2sgSXNsYW5kc1wiLFxuICAgIENMOiBcIkNoaWxlXCIsXG4gICAgQ006IFwiQ2FtZXJvb25cIixcbiAgICBDTjogXCJDaGluYVwiLFxuICAgIENPOiBcIkNvbG9tYmlhXCIsXG4gICAgQ1I6IFwiQ29zdGEgUmljYVwiLFxuICAgIENVOiBcIkN1YmFcIixcbiAgICBDVjogXCJDYXBlIFZlcmRlXCIsXG4gICAgQ1c6IFwiQ3VyYcOnYW9cIixcbiAgICBDWTogXCJDeXBydXNcIixcbiAgICBDWjogXCJDemVjaCBSZXB1YmxpY1wiLFxuICAgIERFOiBcIkdlcm1hbnlcIixcbiAgICBESjogXCJEamlib3V0aVwiLFxuICAgIERLOiBcIkRlbm1hcmtcIixcbiAgICBETTogXCJEb21pbmljYVwiLFxuICAgIERPOiBcIkRvbWluaWNhbiBSZXB1YmxpY1wiLFxuICAgIERaOiBcIkFsZ2VyaWFcIixcbiAgICBFQzogXCJFY3VhZG9yXCIsXG4gICAgRUU6IFwiRXN0b25pYVwiLFxuICAgIEVHOiBcIkVneXB0XCIsXG4gICAgRUg6IFwiV2VzdGVybiBTYWhhcmFcIixcbiAgICBFUjogXCJFcml0cmVhXCIsXG4gICAgRVM6IFwiU3BhaW5cIixcbiAgICBFVDogXCJFdGhpb3BpYVwiLFxuICAgIEZJOiBcIkZpbmxhbmRcIixcbiAgICBGSjogXCJGaWppXCIsXG4gICAgRks6IFwiRmFsa2xhbmQgSXNsYW5kcyAoTWFsdmluYXMpXCIsXG4gICAgRk06IFwiTWljcm9uZXNpYSwgRmVkZXJhdGVkIFN0YXRlcyBvZlwiLFxuICAgIEZPOiBcIkZhcm9lIElzbGFuZHNcIixcbiAgICBGUjogXCJGcmFuY2VcIixcbiAgICBHQTogXCJHYWJvblwiLFxuICAgIEdCOiBcIlVuaXRlZCBLaW5nZG9tXCIsXG4gICAgR0Q6IFwiR3JlbmFkYVwiLFxuICAgIEdFOiBcIkdlb3JnaWFcIixcbiAgICBHRjogXCJGcmVuY2ggR3VpYW5hXCIsXG4gICAgR0c6IFwiR3Vlcm5zZXlcIixcbiAgICBHSDogXCJHaGFuYVwiLFxuICAgIEdJOiBcIkdpYnJhbHRhclwiLFxuICAgIEdMOiBcIkdyZWVubGFuZFwiLFxuICAgIEdNOiBcIkdhbWJpYVwiLFxuICAgIEdOOiBcIkd1aW5lYVwiLFxuICAgIEdQOiBcIkd1YWRlbG91cGVcIixcbiAgICBHUTogXCJFcXVhdG9yaWFsIEd1aW5lYVwiLFxuICAgIEdSOiBcIkdyZWVjZVwiLFxuICAgIEdTOiBcIlNvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzXCIsXG4gICAgR1Q6IFwiR3VhdGVtYWxhXCIsXG4gICAgR1c6IFwiR3VpbmVhLUJpc3NhdVwiLFxuICAgIEdZOiBcIkd1eWFuYVwiLFxuICAgIEhLOiBcIkhvbmcgS29uZ1wiLFxuICAgIEhNOiBcIkhlYXJkIElzbGFuZCBhbmQgTWNEb25hbGQgSXNsYW5kc1wiLFxuICAgIEhOOiBcIkhvbmR1cmFzXCIsXG4gICAgSFI6IFwiQ3JvYXRpYVwiLFxuICAgIEhUOiBcIkhhaXRpXCIsXG4gICAgSFU6IFwiSHVuZ2FyeVwiLFxuICAgIElEOiBcIkluZG9uZXNpYVwiLFxuICAgIElFOiBcIklyZWxhbmRcIixcbiAgICBJTDogXCJJc3JhZWxcIixcbiAgICBJTTogXCJJc2xlIG9mIE1hblwiLFxuICAgIElOOiBcIkluZGlhXCIsXG4gICAgSU86IFwiQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5XCIsXG4gICAgSVE6IFwiSXJhcVwiLFxuICAgIElSOiBcIklyYW4sIElzbGFtaWMgUmVwdWJsaWMgb2ZcIixcbiAgICBJUzogXCJJY2VsYW5kXCIsXG4gICAgSVQ6IFwiSXRhbHlcIixcbiAgICBKRTogXCJKZXJzZXlcIixcbiAgICBKTTogXCJKYW1haWNhXCIsXG4gICAgSk86IFwiSm9yZGFuXCIsXG4gICAgSlA6IFwiSmFwYW5cIixcbiAgICBLRTogXCJLZW55YVwiLFxuICAgIEtHOiBcIkt5cmd5enN0YW5cIixcbiAgICBLSDogXCJDYW1ib2RpYVwiLFxuICAgIEtJOiBcIktpcmliYXRpXCIsXG4gICAgS006IFwiQ29tb3Jvc1wiLFxuICAgIEtOOiBcIlNhaW50IEtpdHRzIGFuZCBOZXZpc1wiLFxuICAgIEtQOiBcIktvcmVhLCBEZW1vY3JhdGljIFBlb3BsZSdzIFJlcHVibGljIG9mXCIsXG4gICAgS1I6IFwiS29yZWEsIFJlcHVibGljIG9mXCIsXG4gICAgS1c6IFwiS3V3YWl0XCIsXG4gICAgS1k6IFwiQ2F5bWFuIElzbGFuZHNcIixcbiAgICBLWjogXCJLYXpha2hzdGFuXCIsXG4gICAgTEE6IFwiTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWNcIixcbiAgICBMQjogXCJMZWJhbm9uXCIsXG4gICAgTEM6IFwiU2FpbnQgTHVjaWFcIixcbiAgICBMSTogXCJMaWVjaHRlbnN0ZWluXCIsXG4gICAgTEs6IFwiU3JpIExhbmthXCIsXG4gICAgTFI6IFwiTGliZXJpYVwiLFxuICAgIExTOiBcIkxlc290aG9cIixcbiAgICBMVDogXCJMaXRodWFuaWFcIixcbiAgICBMVTogXCJMdXhlbWJvdXJnXCIsXG4gICAgTFY6IFwiTGF0dmlhXCIsXG4gICAgTFk6IFwiTGlieWFcIixcbiAgICBNQTogXCJNb3JvY2NvXCIsXG4gICAgTUM6IFwiTW9uYWNvXCIsXG4gICAgTUQ6IFwiTW9sZG92YSwgUmVwdWJsaWMgb2ZcIixcbiAgICBNRTogXCJNb250ZW5lZ3JvXCIsXG4gICAgTUY6IFwiU2FpbnQgTWFydGluIChGcmVuY2ggcGFydClcIixcbiAgICBNRzogXCJNYWRhZ2FzY2FyXCIsXG4gICAgTUg6IFwiTWFyc2hhbGwgSXNsYW5kc1wiLFxuICAgIE1LOiBcIk1hY2Vkb25pYSwgdGhlIGZvcm1lciBZdWdvc2xhdiBSZXB1YmxpYyBvZlwiLFxuICAgIE1MOiBcIk1hbGlcIixcbiAgICBNTTogXCJNeWFubWFyXCIsXG4gICAgTU46IFwiTW9uZ29saWFcIixcbiAgICBNTzogXCJNYWNhb1wiLFxuICAgIE1QOiBcIk5vcnRoZXJuIE1hcmlhbmEgSXNsYW5kc1wiLFxuICAgIE1ROiBcIk1hcnRpbmlxdWVcIixcbiAgICBNUjogXCJNYXVyaXRhbmlhXCIsXG4gICAgTVM6IFwiTW9udHNlcnJhdFwiLFxuICAgIE1UOiBcIk1hbHRhXCIsXG4gICAgTVU6IFwiTWF1cml0aXVzXCIsXG4gICAgTVY6IFwiTWFsZGl2ZXNcIixcbiAgICBNVzogXCJNYWxhd2lcIixcbiAgICBNWDogXCJNZXhpY29cIixcbiAgICBNWTogXCJNYWxheXNpYVwiLFxuICAgIE1aOiBcIk1vemFtYmlxdWVcIixcbiAgICBOQTogXCJOYW1pYmlhXCIsXG4gICAgTkM6IFwiTmV3IENhbGVkb25pYVwiLFxuICAgIE5FOiBcIk5pZ2VyXCIsXG4gICAgTkc6IFwiTmlnZXJpYVwiLFxuICAgIE5JOiBcIk5pY2FyYWd1YVwiLFxuICAgIE5MOiBcIk5ldGhlcmxhbmRzXCIsXG4gICAgTk86IFwiTm9yd2F5XCIsXG4gICAgTlA6IFwiTmVwYWxcIixcbiAgICBOUjogXCJOYXVydVwiLFxuICAgIE5VOiBcIk5pdWVcIixcbiAgICBOWjogXCJOZXcgWmVhbGFuZFwiLFxuICAgIE9NOiBcIk9tYW5cIixcbiAgICBQQTogXCJQYW5hbWFcIixcbiAgICBQRTogXCJQZXJ1XCIsXG4gICAgUEY6IFwiRnJlbmNoIFBvbHluZXNpYVwiLFxuICAgIFBHOiBcIlBhcHVhIE5ldyBHdWluZWFcIixcbiAgICBQSDogXCJQaGlsaXBwaW5lc1wiLFxuICAgIFBLOiBcIlBha2lzdGFuXCIsXG4gICAgUEw6IFwiUG9sYW5kXCIsXG4gICAgUE06IFwiU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvblwiLFxuICAgIFBOOiBcIlBpdGNhaXJuXCIsXG4gICAgUFM6IFwiUGFsZXN0aW5lLCBTdGF0ZSBvZlwiLFxuICAgIFBUOiBcIlBvcnR1Z2FsXCIsXG4gICAgUFc6IFwiUGFsYXVcIixcbiAgICBQWTogXCJQYXJhZ3VheVwiLFxuICAgIFFBOiBcIlFhdGFyXCIsXG4gICAgUkU6IFwiUsOpdW5pb25cIixcbiAgICBSTzogXCJSb21hbmlhXCIsXG4gICAgUlM6IFwiU2VyYmlhXCIsXG4gICAgUlU6IFwiUnVzc2lhbiBGZWRlcmF0aW9uXCIsXG4gICAgUlc6IFwiUndhbmRhXCIsXG4gICAgU0E6IFwiU2F1ZGkgQXJhYmlhXCIsXG4gICAgU0I6IFwiU29sb21vbiBJc2xhbmRzXCIsXG4gICAgU0M6IFwiU2V5Y2hlbGxlc1wiLFxuICAgIFNEOiBcIlN1ZGFuXCIsXG4gICAgU0U6IFwiU3dlZGVuXCIsXG4gICAgU0c6IFwiU2luZ2Fwb3JlXCIsXG4gICAgU0g6IFwiU2FpbnQgSGVsZW5hLCBBc2NlbnNpb24gYW5kIFRyaXN0YW4gZGEgQ3VuaGFcIixcbiAgICBTSTogXCJTbG92ZW5pYVwiLFxuICAgIFNKOiBcIlN2YWxiYXJkIGFuZCBKYW4gTWF5ZW5cIixcbiAgICBTSzogXCJTbG92YWtpYVwiLFxuICAgIFNMOiBcIlNpZXJyYSBMZW9uZVwiLFxuICAgIFNNOiBcIlNhbiBNYXJpbm9cIixcbiAgICBTTjogXCJTZW5lZ2FsXCIsXG4gICAgU086IFwiU29tYWxpYVwiLFxuICAgIFNSOiBcIlN1cmluYW1lXCIsXG4gICAgU1M6IFwiU291dGggU3VkYW5cIixcbiAgICBTVDogXCJTYW8gVG9tZSBhbmQgUHJpbmNpcGVcIixcbiAgICBTVjogXCJFbCBTYWx2YWRvclwiLFxuICAgIFNYOiBcIlNpbnQgTWFhcnRlbiAoRHV0Y2ggcGFydClcIixcbiAgICBTWTogXCJTeXJpYW4gQXJhYiBSZXB1YmxpY1wiLFxuICAgIFNaOiBcIlN3YXppbGFuZFwiLFxuICAgIFRDOiBcIlR1cmtzIGFuZCBDYWljb3MgSXNsYW5kc1wiLFxuICAgIFREOiBcIkNoYWRcIixcbiAgICBURjogXCJGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXNcIixcbiAgICBURzogXCJUb2dvXCIsXG4gICAgVEg6IFwiVGhhaWxhbmRcIixcbiAgICBUSjogXCJUYWppa2lzdGFuXCIsXG4gICAgVEs6IFwiVG9rZWxhdVwiLFxuICAgIFRMOiBcIlRpbW9yLUxlc3RlXCIsXG4gICAgVE06IFwiVHVya21lbmlzdGFuXCIsXG4gICAgVE46IFwiVHVuaXNpYVwiLFxuICAgIFRPOiBcIlRvbmdhXCIsXG4gICAgVFI6IFwiVHVya2V5XCIsXG4gICAgVFQ6IFwiVHJpbmlkYWQgYW5kIFRvYmFnb1wiLFxuICAgIFRWOiBcIlR1dmFsdVwiLFxuICAgIFRXOiBcIlRhaXdhbiwgUHJvdmluY2Ugb2YgQ2hpbmFcIixcbiAgICBUWjogXCJUYW56YW5pYSwgVW5pdGVkIFJlcHVibGljIG9mXCIsXG4gICAgVUE6IFwiVWtyYWluZVwiLFxuICAgIFVHOiBcIlVnYW5kYVwiLFxuICAgIFVNOiBcIlVuaXRlZCBTdGF0ZXMgTWlub3IgT3V0bHlpbmcgSXNsYW5kc1wiLFxuICAgIFVTOiBcIlVuaXRlZCBTdGF0ZXNcIixcbiAgICBVWTogXCJVcnVndWF5XCIsXG4gICAgVVo6IFwiVXpiZWtpc3RhblwiLFxuICAgIFZBOiBcIkhvbHkgU2VlIChWYXRpY2FuIENpdHkgU3RhdGUpXCIsXG4gICAgVkM6IFwiU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXNcIixcbiAgICBWRTogXCJWZW5lenVlbGEsIEJvbGl2YXJpYW4gUmVwdWJsaWMgb2ZcIixcbiAgICBWRzogXCJWaXJnaW4gSXNsYW5kcywgQnJpdGlzaFwiLFxuICAgIFZOOiBcIlZpZXRuYW1cIixcbiAgICBWVTogXCJWYW51YXR1XCIsXG4gICAgV0Y6IFwiV2FsbGlzIGFuZCBGdXR1bmFcIixcbiAgICBXUzogXCJTYW1vYVwiLFxuICAgIFhLOiBcIlJlcHVibGljIG9mIEtvc292b1wiLFxuICAgIFlFOiBcIlllbWVuXCIsXG4gICAgWVQ6IFwiTWF5b3R0ZVwiLFxuICAgIFpBOiBcIlNvdXRoIEFmcmljYVwiLFxuICAgIFpNOiBcIlphbWJpYVwiLFxuICAgIFpXOiBcIlppbWJhYndlXCJcbn07XG5cbi8qKlxuICogRm9ybXMgcHVibGlzaFBhcmFtZXRlcnMgY29ycmVjdGx5IGZvciBwdWJsaXNoIHRhc2tzIGludm9sdmluZyBnZW9jb2RpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYXRpb25QdWJsaXNoUGFyYW1ldGVycyhhZGRyZXNzVHlwZSwgYXBwZW5kV29ya2Zsb3cpIHtcbiAgICBjb25zdCB7IHNvdXJjZUNvdW50cnksIGxvY2F0aW9uVHlwZSwgYW5hbHl6ZVJlc3VsdHMsIGNhbmRpZGF0ZUZpZWxkc1R5cGUsIGNvb3JkaW5hdGVGaWVsZFR5cGUsIHR5cGUsIHN0YW5kYXJkaXplZEZpZWxkTmFtZXMsIHNlbGVjdGVkRmllbGRzIH0gPSBhZGRJdGVtU3RhdGU7XG4gICAgY29uc3QgbGF5ZXJJbmZvID0gZ2V0QW5hbHl6ZWRMYXllckluZm8oKTtcbiAgICBjb25zdCBmaWVsZHMgPSAhYXBwZW5kV29ya2Zsb3cgPyBPYmplY3QudmFsdWVzKHNlbGVjdGVkRmllbGRzKSA6IGFkZEl0ZW1TdGF0ZS5iYWNrdXBMYXllckZpZWxkcztcbiAgICBjb25zdCBsb2NhdGlvblB1Ymxpc2hQYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBsb2NhdGlvblR5cGU6IGxvY2F0aW9uVHlwZSB8fCBcImFkZHJlc3NcIiwgc291cmNlQ291bnRyeSxcbiAgICAgICAgY2FuZGlkYXRlRmllbGRzVHlwZSB9LCAobG9jYXRpb25UeXBlID09PSBcImNvb3JkaW5hdGVzXCIgJiYgZ2V0Q29vcmRpbmF0ZUZpZWxkcyhmaWVsZHMsIGNvb3JkaW5hdGVGaWVsZFR5cGUpKSksIChsb2NhdGlvblR5cGUgPT09IFwiYWRkcmVzc1wiICYmIHsgYWRkcmVzc0ZpZWxkczogZ2V0QWRkcmVzc0ZpZWxkcyhmaWVsZHMsIGFkZHJlc3NUeXBlLCBzdGFuZGFyZGl6ZWRGaWVsZE5hbWVzKSB9KSk7XG4gICAgbGV0IHB1Ymxpc2hQYXJhbWV0ZXJzO1xuICAgIGlmICghYXBwZW5kV29ya2Zsb3cgJiYgdHlwZSA9PT0gXCJNaWNyb3NvZnQgRXhjZWxcIikge1xuICAgICAgICBwdWJsaXNoUGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYW5hbHl6ZVJlc3VsdHMucHVibGlzaFBhcmFtZXRlcnMpLCB7IGxheWVyczogW09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGF5ZXJJbmZvKSwgbG9jYXRpb25QdWJsaXNoUGFyYW1zKV0sIGhhc1N0YXRpY0RhdGE6IHRydWUsIG1heFJlY29yZENvdW50OiAyMDAwLCBsYXllckluZm86IHsgY2FwYWJpbGl0aWVzOiBcIlF1ZXJ5XCIgfSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHB1Ymxpc2hQYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhbmFseXplUmVzdWx0cy5wdWJsaXNoUGFyYW1ldGVycyksIGxvY2F0aW9uUHVibGlzaFBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwdWJsaXNoUGFyYW1ldGVycztcbn1cbmZ1bmN0aW9uIGdldEFkZHJlc3NGaWVsZHMoZmllbGRzLCBhZGRyZXNzVHlwZSwgc3RhbmRhcmRpemVkRmllbGROYW1lcykge1xuICAgIGlmIChhZGRyZXNzVHlwZSA9PT0gXCJTaW5nbGVcIikge1xuICAgICAgICBjb25zdCBzaW5nbGVMaW5lQWRkcmVzc0ZpZWxkID0gT2JqZWN0LmtleXMoc3RhbmRhcmRpemVkRmllbGROYW1lcylbMF0gfHwgXCJBZGRyZXNzXCI7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NGaWVsZCA9IGZpZWxkcy5maW5kKCh7IGxvY2F0aW9uVHlwZSB9KSA9PiBsb2NhdGlvblR5cGUgPT09IHNpbmdsZUxpbmVBZGRyZXNzRmllbGQgfHwgKGxvY2F0aW9uVHlwZSA9PT0gbnVsbCB8fCBsb2NhdGlvblR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2F0aW9uVHlwZS50b0xvd2VyQ2FzZSgpKSA9PT0gXCJhZGRyZXNzXCIpO1xuICAgICAgICByZXR1cm4geyBbc2luZ2xlTGluZUFkZHJlc3NGaWVsZF06IChhZGRyZXNzRmllbGQgPT09IG51bGwgfHwgYWRkcmVzc0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRyZXNzRmllbGQubmFtZSkgfHwgXCJcIiB9O1xuICAgIH1cbiAgICByZXR1cm4gZmllbGRzLnJlZHVjZSgoYWNjLCBmaWVsZCkgPT4ge1xuICAgICAgICBpZiAoZmllbGQubG9jYXRpb25UeXBlICE9PSBcInVua25vd25cIikge1xuICAgICAgICAgICAgYWNjW2ZpZWxkLmxvY2F0aW9uVHlwZV0gPSBmaWVsZC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuLyoqXG4gKiBGZXRjaCB0aGUgY29ycmVjdCBsYXllckluZm8gZnJvbSB0aGUgY3VycmVudCBDU1YvRXhjZWwgYW5hbHl6ZVJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gZ2V0QW5hbHl6ZWRMYXllckluZm8oY3VzdG9tQW5hbHl6ZVJlc3VsdHMsIGFuYWx5emVTZWxlY3RlZExheWVyKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGNvbnN0IHsgdHlwZSwgYW5hbHl6ZVJlc3VsdHMgPSBjdXN0b21BbmFseXplUmVzdWx0cywgc2VsZWN0ZWRTaGVldCB9ID0gYWRkSXRlbVN0YXRlOyAvL3NldCBzZWxlY3RlZFNoZWV0XG4gICAgY29uc3QgcHVibGlzaFBhcmFtZXRlcnMgPSBhbmFseXplUmVzdWx0cyA9PT0gbnVsbCB8fCBhbmFseXplUmVzdWx0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5hbHl6ZVJlc3VsdHMucHVibGlzaFBhcmFtZXRlcnM7XG4gICAgaWYgKCEhYW5hbHl6ZVNlbGVjdGVkTGF5ZXIpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiQ1NWXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdWJsaXNoUGFyYW1ldGVycyA9PT0gbnVsbCB8fCBwdWJsaXNoUGFyYW1ldGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHVibGlzaFBhcmFtZXRlcnMubGF5ZXJJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHB1Ymxpc2hQYXJhbWV0ZXJzID09PSBudWxsIHx8IHB1Ymxpc2hQYXJhbWV0ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwdWJsaXNoUGFyYW1ldGVycy5sYXllcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtzZWxlY3RlZFNoZWV0XSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jID0gcHVibGlzaFBhcmFtZXRlcnMgPT09IG51bGwgfHwgcHVibGlzaFBhcmFtZXRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHB1Ymxpc2hQYXJhbWV0ZXJzLmxheWVycykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJNaWNyb3NvZnQgRXhjZWxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9lID0gKF9kID0gcHVibGlzaFBhcmFtZXRlcnMgPT09IG51bGwgfHwgcHVibGlzaFBhcmFtZXRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHB1Ymxpc2hQYXJhbWV0ZXJzLmxheWVycykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kW3NlbGVjdGVkU2hlZXRdKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoX2YgPSBwdWJsaXNoUGFyYW1ldGVycyA9PT0gbnVsbCB8fCBwdWJsaXNoUGFyYW1ldGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHVibGlzaFBhcmFtZXRlcnMubGF5ZXJzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZbMF07XG4gICAgICAgICAgICBjYXNlIFwiR2VvSnNvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2cgPSBwdWJsaXNoUGFyYW1ldGVycyA9PT0gbnVsbCB8fCBwdWJsaXNoUGFyYW1ldGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHVibGlzaFBhcmFtZXRlcnMubGF5ZXJzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dbMF07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBwdWJsaXNoUGFyYW1ldGVycyA9PT0gbnVsbCB8fCBwdWJsaXNoUGFyYW1ldGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHVibGlzaFBhcmFtZXRlcnMubGF5ZXJJbmZvO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHaXZlbiBhIGZpZWxkIHR5cGUsIGZpbmQgd2hpY2ggb3RoZXIgZmllbGQgdHlwZXMgY2FuIGJlIHN1Y2Nlc3NmdWxseSBzZWxlY3RlZFxuICogaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9XZWJHSVMvYXJjZ2lzLXBvcnRhbC1hcHAvaXNzdWVzLzQzOTc0I2lzc3VlY29tbWVudC00MDY3NDIwXG4gKi9cbmZ1bmN0aW9uIGdldEFsbG93ZWRGaWVsZFR5cGVzKGZpZWxkVHlwZSkge1xuICAgIHN3aXRjaCAoZmllbGRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlQmlnSW50ZWdlclwiOlxuICAgICAgICAgICAgcmV0dXJuIFtcImVzcmlGaWVsZFR5cGVCaWdJbnRlZ2VyXCIsIFwiZXNyaUZpZWxkVHlwZURvdWJsZVwiLCBcImVzcmlGaWVsZFR5cGVTdHJpbmdcIl07XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyXCI6XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIFwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwiLFxuICAgICAgICAgICAgICAgIFwiZXNyaUZpZWxkVHlwZUludGVnZXJcIixcbiAgICAgICAgICAgICAgICBcImVzcmlGaWVsZFR5cGVTaW5nbGVcIixcbiAgICAgICAgICAgICAgICBcImVzcmlGaWVsZFR5cGVEb3VibGVcIixcbiAgICAgICAgICAgICAgICBcImVzcmlGaWVsZFR5cGVTdHJpbmdcIlxuICAgICAgICAgICAgXTtcbiAgICAgICAgY2FzZSBcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCI6XG4gICAgICAgICAgICByZXR1cm4gW1wiZXNyaUZpZWxkVHlwZUludGVnZXJcIiwgXCJlc3JpRmllbGRUeXBlU2luZ2xlXCIsIFwiZXNyaUZpZWxkVHlwZURvdWJsZVwiLCBcImVzcmlGaWVsZFR5cGVTdHJpbmdcIl07XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlU2luZ2xlXCI6XG4gICAgICAgICAgICByZXR1cm4gW1wiZXNyaUZpZWxkVHlwZVNpbmdsZVwiLCBcImVzcmlGaWVsZFR5cGVEb3VibGVcIiwgXCJlc3JpRmllbGRUeXBlU3RyaW5nXCJdO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZURvdWJsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFtcImVzcmlGaWVsZFR5cGVEb3VibGVcIiwgXCJlc3JpRmllbGRUeXBlU3RyaW5nXCJdO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZURhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiBbXCJlc3JpRmllbGRUeXBlRGF0ZVwiLCBcImVzcmlGaWVsZFR5cGVTdHJpbmdcIl07XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlRGF0ZU9ubHlcIjpcbiAgICAgICAgICAgIHJldHVybiBbXCJlc3JpRmllbGRUeXBlRGF0ZU9ubHlcIiwgXCJlc3JpRmllbGRUeXBlU3RyaW5nXCJdO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZVRpbWVPbmx5XCI6XG4gICAgICAgICAgICByZXR1cm4gW1wiZXNyaUZpZWxkVHlwZVRpbWVPbmx5XCIsIFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiXTtcbiAgICAgICAgY2FzZSBcImVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXRcIjpcbiAgICAgICAgICAgIHJldHVybiBbXCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCIsIFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiXTtcbiAgICAgICAgY2FzZSBcImVzcmlGaWVsZFR5cGVPSURcIjpcbiAgICAgICAgICAgIHJldHVybiBbXCJlc3JpRmllbGRUeXBlT0lEXCIsIFwiZXNyaUZpZWxkVHlwZUludGVnZXJcIiwgXCJlc3JpRmllbGRUeXBlU3RyaW5nXCJdO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFtcImVzcmlGaWVsZFR5cGVTdHJpbmdcIl07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZUZpZWxkcyhmaWVsZHMsIGNvb3JkaW5hdGVGaWVsZFR5cGUpIHtcbiAgICByZXR1cm4gZmllbGRzLnJlZHVjZSgoYWNjLCBmaWVsZCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLmxvY2F0aW9uVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImxhdGl0dWRlXCI6XG4gICAgICAgICAgICAgICAgYWNjLmxhdGl0dWRlRmllbGROYW1lID0gZmllbGQubmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvb3JkaW5hdGVGaWVsZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLmNvb3JkaW5hdGVGaWVsZFR5cGUgPSBcIkxhdGl0dWRlQW5kTG9uZ2l0dWRlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxvbmdpdHVkZVwiOlxuICAgICAgICAgICAgICAgIGFjYy5sb25naXR1ZGVGaWVsZE5hbWUgPSBmaWVsZC5uYW1lO1xuICAgICAgICAgICAgICAgIGlmICghY29vcmRpbmF0ZUZpZWxkVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBhY2MuY29vcmRpbmF0ZUZpZWxkVHlwZSA9IFwiTGF0aXR1ZGVBbmRMb25naXR1ZGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWdyc1wiOlxuICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlRmllbGRUeXBlID09PSBcIk1HUlNcIikge1xuICAgICAgICAgICAgICAgICAgICBhY2MuY29vcmRpbmF0ZUZpZWxkTmFtZSA9IGZpZWxkLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29vcmRpbmF0ZUZpZWxkVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLmNvb3JkaW5hdGVGaWVsZFR5cGUgPSBcIk1HUlNcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ1c25nXCI6XG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVGaWVsZFR5cGUgPT09IFwiVVNOR1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5jb29yZGluYXRlRmllbGROYW1lID0gZmllbGQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb29yZGluYXRlRmllbGRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MuY29vcmRpbmF0ZUZpZWxkVHlwZSA9IFwiVVNOR1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgeyBjb29yZGluYXRlRmllbGRUeXBlIH0pO1xufVxuZnVuY3Rpb24gZmluZEdlb2NvZGVyKGdlb2NvZGVTZXJ2aWNlVXJsLCBnZW9jb2RlU2VydmVycykge1xuICAgIGNvbnN0IG1hdGNoaW5nID0gZ2VvY29kZVNlcnZlcnMgPT09IG51bGwgfHwgZ2VvY29kZVNlcnZlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdlb2NvZGVTZXJ2ZXJzLmZpbHRlcigoZ2VvY29kZXIpID0+IGdlb2NvZGVyLnVybCA9PT0gZ2VvY29kZVNlcnZpY2VVcmwpO1xuICAgIHJldHVybiAobWF0Y2hpbmcgPT09IG51bGwgfHwgbWF0Y2hpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoaW5nLmxlbmd0aCkgPyBtYXRjaGluZy5zaGlmdCgpIDogbnVsbDtcbn1cbi8qKlxuICogR2V0IGEgbGlzdCBvZiBnZW9jb2RlcnMgdGhhdCBzdXBwb3J0IGJhdGNoIGdlb2NvZGluZ1xuICovXG5mdW5jdGlvbiBmaWx0ZXJCYXRjaEdlb2NvZGVycyhnZW9jb2RlcnMsIGNhbnRCYXRjaEdlb2NvZGUsIGlzUG9ydGFsKSB7XG4gICAgLy8gcmV0cmlldmUgb25seSB0aGUgYmF0Y2ggZ2VvY29kZXJzIGZyb20gdGhlIGxpc3Qgb2YgZ2VvY29kZXJzXG4gICAgcmV0dXJuIGdlb2NvZGVycy5maWx0ZXIoKG9sZEdlb2NvZGVyKSA9PiB7XG4gICAgICAgIC8vIFNwcmVhZCB0byBhdm9pZCBtdXRhdGluZyB0aGUgb3JpZ2luYWwgYXJyYXlcbiAgICAgICAgY29uc3QgZ2VvY29kZXIgPSBPYmplY3QuYXNzaWduKHt9LCBvbGRHZW9jb2Rlcik7XG4gICAgICAgIGNvbnN0IGlzV29ybGRHZW9jb2RlU2VydmVyID0gaXNFc3JpV29ybGRHZW9jb2Rlck5vUHJveHkoZ2VvY29kZXIgPT09IG51bGwgfHwgZ2VvY29kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdlb2NvZGVyLnVybCk7XG4gICAgICAgIGNvbnN0IGlzV29ybGRHZW9jb2RlU2VydmVyUHJveHkgPSBpc0VzcmlXb3JsZEdlb2NvZGVyVGhyb3VnaFByb3h5KGdlb2NvZGVyID09PSBudWxsIHx8IGdlb2NvZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnZW9jb2Rlci51cmwpO1xuICAgICAgICAvLyBpZiBuYW1lIG5vdCBzZXQgYW5kIGlzIEVzcmkgV29ybGQgR2VvY29kZXIsIHNldCBuYW1lXG4gICAgICAgIGlmIChpc1dvcmxkR2VvY29kZVNlcnZlciB8fCBpc1dvcmxkR2VvY29kZVNlcnZlclByb3h5KSB7XG4gICAgICAgICAgICBpZiAoIWlzRGVmaW5lZChnZW9jb2Rlci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGdlb2NvZGVyLm5hbWUgPSBcIkFyY0dJUyBXb3JsZCBHZW9jb2RpbmcgU2VydmljZVwiOyAvLyBhbHdheXMgdXNlIG9mZmljaWFsIEVzcmkgZ2VvY29kZXIgbmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb2NvZGVyLm5hbWUgPT09IFwiRXNyaSBXb3JsZCBHZW9jb2RlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVyLm5hbWUgPSBcIkFyY0dJUyBXb3JsZCBHZW9jb2RpbmcgU2VydmljZVwiOyAvLyB1c2Ugb2ZmaWNpYWwgRXNyaSBnZW9jb2RlciBuYW1lXG4gICAgICAgICAgICAgICAgfSAvLyBlbHNlIGtlZXAgaXQ7IG1pZ2h0IGJlIHRoZSB0cmFuc2xhdGVkIG9sZCBuYW1lIHRob3VnaFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc1dvcmxkR2VvY29kZVNlcnZlciAmJiAoaXNQb3J0YWwgfHwgY2FudEJhdGNoR2VvY29kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQUdPIFdvcmxkIEdlb2NvZGUgc2VydmVyICh3aXRob3V0IHNlcnZpY2UgcHJveHkpIGNhbid0IGJlIHVzZWQgZm9yIGJhdGNoIGdlb2NvZGluZyBpbiBwb3J0YWxcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0RlZmluZWQoZ2VvY29kZXIuYmF0Y2gpKSB7XG4gICAgICAgICAgICByZXR1cm4gISFnZW9jb2Rlci5iYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc1dvcmxkR2VvY29kZVNlcnZlciB8fCBpc1dvcmxkR2VvY29kZVNlcnZlclByb3h5O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc0VzcmlXb3JsZEdlb2NvZGVyVGhyb3VnaFByb3h5KHVybCA9IFwiXCIpIHtcbiAgICByZXR1cm4gISEodXJsID09PSBudWxsIHx8IHVybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXJsLm1hdGNoKC8oYXJjZ2lzXFwuY29tLipcXC9zZXJ2ZXJzXFwvW1xcZGEtelxcLi1dK1xcL3Jlc3RcXC9zZXJ2aWNlc1xcL3dvcmxkXFwvZ2VvY29kZXNlcnZlcikuKi9naSkpO1xufVxuZnVuY3Rpb24gaXNFc3JpV29ybGRHZW9jb2Rlck5vUHJveHkodXJsID0gXCJcIikge1xuICAgIHJldHVybiAhISh1cmwgPT09IG51bGwgfHwgdXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cmwubWF0Y2goLyhhcmNnaXNcXC5jb21cXC9hcmNnaXNcXC9yZXN0XFwvc2VydmljZXNcXC93b3JsZFxcL2dlb2NvZGVzZXJ2ZXIpLiovZ2kpKTtcbn1cbmZ1bmN0aW9uIGlzRXNyaVdvcmxkR2VvY29kZXIodXJsKSB7XG4gICAgcmV0dXJuICEhdXJsICYmIChpc0VzcmlXb3JsZEdlb2NvZGVyTm9Qcm94eSh1cmwpIHx8IGlzRXNyaVdvcmxkR2VvY29kZXJUaHJvdWdoUHJveHkodXJsKSk7XG59XG4vKipcbiAqIFVwZGF0ZSBzb3VyY2UgY291bnRyeSBpbiBzdGF0ZVxuICogYmFzZWQgb24gdXNlciByZWdpb24gYW5kIHBvcnRhbCBjb3VudHJ5IGNvZGVcbiAqL1xuZnVuY3Rpb24gZ2V0U291cmNlQ291bnRyeShyZWdpb24sIGlwQ250cnlDb2RlLCBjb2RlKSB7XG4gICAgbGV0IHNvdXJjZUNvdW50cnkgPSBjb2RlIHx8IHJlZ2lvbiB8fCBpcENudHJ5Q29kZSB8fCBcIlwiO1xuICAgIHNvdXJjZUNvdW50cnkgPSAoc291cmNlQ291bnRyeSA9PT0gbnVsbCB8fCBzb3VyY2VDb3VudHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VDb3VudHJ5LnRvTG93ZXJDYXNlKCkpID09PSBcIndvXCIgPyBcIndvcmxkXCIgOiBzb3VyY2VDb3VudHJ5O1xuICAgIC8vICMzNTU2NCAtIElmIGEgdXNlciBvciBvcmctZGVmaW5lZCBjb3VudHJ5IGNvZGUgaXMgbm90IGEgdmFsaWQgZ2VvY29kZSByZWdpb24sIGRlZmF1bHQgdG8gYHdvcmxkYFxuICAgIGlmICghY291bnRyeUNvZGVzW3NvdXJjZUNvdW50cnkudG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgc291cmNlQ291bnRyeSA9IFwid29ybGRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZUNvdW50cnk7XG59XG4vKipcbiAqIEdldCBmbGFncyBiYXNlZCBvbiB1c2VyJ3MgYWJpbGl0eSB0byBnZW9jb2RlLCBldGMuXG4gKi9cbmZ1bmN0aW9uIGdldEdlb2NvZGVySW5mbyhnZW9jb2RpbmdTZXJ2aWNlcywgdXNlciwgaXNQb3J0YWwpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHJvbGVDYW5Vc2VHZW9jb2RlID0gY2FuQ3JlYXRlSXRlbXModXNlcikgJiYgY2FuR2VvY29kZSh1c2VyKTtcbiAgICBjb25zdCBnZW9jb2RlU2VydmVycyA9IGZpbHRlckJhdGNoR2VvY29kZXJzKGdlb2NvZGluZ1NlcnZpY2VzLCAhcm9sZUNhblVzZUdlb2NvZGUsIGlzUG9ydGFsKTtcbiAgICBjb25zdCBnZW9jb2RlU2VydmljZVVybCA9IChfYSA9IGdlb2NvZGVTZXJ2ZXJzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXJsO1xuICAgIGlmIChnZW9jb2RlU2VydmVycyA9PT0gbnVsbCB8fCBnZW9jb2RlU2VydmVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2VvY29kZVNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHdlIGZpbHRlciBvdXQgdGhlIHdvcmxkIGdlb2NvZGVyIGlmIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgZ2VvY29kZSBwcml2aWxlZ2VzXG4gICAgICAgIC8vIGlmIHRoZXJlIHdhcyBzdGlsbCBhdCBsZWFzdCBvbmUgbW9yZSBnZW9jb2RlciBpbiB0aGUgbGlzdCBpdCBtdXN0IGJlIGEgY3VzdG9tXG4gICAgICAgIC8vIGdlb2NvZGVyLCBzbyB0aGUgdXNlciBjYW4gdXNlIHRoYXQgb25lLlxuICAgICAgICByb2xlQ2FuVXNlR2VvY29kZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGdlb2NvZGVyID0gZmluZEdlb2NvZGVyKGdlb2NvZGVTZXJ2ZXJzWzBdLnVybCwgZ2VvY29kZVNlcnZlcnMpO1xuICAgICAgICBjb25zdCBpc0Fnb1dvcmxkR2VvY29kZVNlcnZlciA9IGlzRXNyaVdvcmxkR2VvY29kZXJOb1Byb3h5KGdlb2NvZGVyID09PSBudWxsIHx8IGdlb2NvZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnZW9jb2Rlci51cmwpO1xuICAgICAgICBjb25zdCBpc1NlcnZpY2VQcm94eUFnb1dvcmxkR2VvY29kZVNlcnZlciA9IGlzRXNyaVdvcmxkR2VvY29kZXJUaHJvdWdoUHJveHkoZ2VvY29kZXIgPT09IG51bGwgfHwgZ2VvY29kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdlb2NvZGVyLnVybCk7XG4gICAgICAgIGNvbnN0IGlzV29ybGRHZW9jb2RlU2VydmVyID0gaXNBZ29Xb3JsZEdlb2NvZGVTZXJ2ZXIgfHwgaXNTZXJ2aWNlUHJveHlBZ29Xb3JsZEdlb2NvZGVTZXJ2ZXI7XG4gICAgICAgIC8vICEgTm90ZTogc2VlbXMgbGlrZSB0aGVyZSBpcyBubyB3YXkgYHN1cHBvcnRzQmF0Y2hgIGNhbiBiZSBmYWxzZSBpZiB0aGUgY29kZSByZWFjaGVzIHRoaXMgcG9pbnRgXG4gICAgICAgIGxldCBzdXBwb3J0c0JhdGNoID0gaXNXb3JsZEdlb2NvZGVTZXJ2ZXIgfHwgISFnZW9jb2Rlci5iYXRjaDtcbiAgICAgICAgY29uc3QgYWxsb3dHZW9jb2RlID0gKCFpc0N1c3RvbVJvbGUodXNlcikgfHwgcm9sZUNhblVzZUdlb2NvZGUpICYmXG4gICAgICAgICAgICAoKCFpc1BvcnRhbCAmJiBzdXBwb3J0c0JhdGNoKSB8fFxuICAgICAgICAgICAgICAgIChpc1BvcnRhbCAmJiAoIWlzQWdvV29ybGRHZW9jb2RlU2VydmVyIHx8IGlzU2VydmljZVByb3h5QWdvV29ybGRHZW9jb2RlU2VydmVyKSAmJiBzdXBwb3J0c0JhdGNoKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbGxvd0dlb2NvZGUsXG4gICAgICAgICAgICBpc0Fnb1dvcmxkR2VvY29kZVNlcnZlcixcbiAgICAgICAgICAgIGlzU2VydmljZVByb3h5QWdvV29ybGRHZW9jb2RlU2VydmVyLFxuICAgICAgICAgICAgaXNXb3JsZEdlb2NvZGVTZXJ2ZXIsXG4gICAgICAgICAgICBnZW9jb2RlU2VydmVycyxcbiAgICAgICAgICAgIGdlb2NvZGVTZXJ2aWNlVXJsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXRBbmFseXplZExheWVySW5mbyBhcyBhLCBnZXRHZW9jb2RlckluZm8gYXMgYiwgY291bnRyeUNvZGVzIGFzIGMsIGdldFNvdXJjZUNvdW50cnkgYXMgZCwgZ2V0TG9jYXRpb25QdWJsaXNoUGFyYW1ldGVycyBhcyBlLCBmaW5kR2VvY29kZXIgYXMgZiwgZ2V0QWxsb3dlZEZpZWxkVHlwZXMgYXMgZywgaXNFc3JpV29ybGRHZW9jb2RlciBhcyBpIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlb2NvZGUtNjRlMGIwZDMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9