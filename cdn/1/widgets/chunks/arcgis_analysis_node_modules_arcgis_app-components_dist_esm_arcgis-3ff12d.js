/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-3ff12d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-3ff12d"],{38178:(e,t,r)=>{r.r(t),r.d(t,{arcgis_item_browser_filter_content_type:()=>l});var n=r(81149),i=r(49853),o=r(12046),s=r(38119);r(70464),r(74689),r(79210),r(10157),r(42577);const l=class{constructor(e){(0,n.r)(this,e),this.arcgisItemBrowserFilter=(0,n.c)(this,"arcgisItemBrowserFilter",7),this.contentType="allOrgContent",this.expanded=void 0,this.contentTypes=["allOrgContent","recycle"]}componentWillLoad(){this.store=(0,s.g)(this.el),this.i18n=this.store.state.i18n.filterContentType}componentDidLoad(){this.expanded&&this.accordionItem&&(this.accordionItem.expanded=!0)}getEventDetail(){return{id:"contentType",param:"q",value:"",label:this.i18n.allOrgContent,contentType:this.contentType}}render(){const{user:e,portal:t}=i.c,r=this.store.state.bucket,{i18n:s,contentType:l,contentTypes:c}=this,a=!e||!l||r&&"org"!==r||(0,o.a)(e)||(null==t?void 0:t.isPortal);return(0,n.h)(n.H,null,(0,n.h)("arcgis-browser-filter",{heading:s.contentType,expanded:this.expanded,noPadding:!0,class:{hide:a}},(0,n.h)("calcite-list",{selectionAppearance:"border",selectionMode:"single",loading:!l,class:"content-types"},c.map((e=>(0,n.h)("calcite-list-item",{class:"content-type",label:s[e],value:e,key:e,onCalciteListItemSelect:()=>{this.contentType=e,this.arcgisItemBrowserFilter.emit(this.getEventDetail())},selected:this.contentType===e},(0,n.h)("calcite-icon",{icon:"allOrgContent"===e?"organization":"recycle-bin",slot:"content-start",scale:"s"})))))))}get el(){return(0,n.d)(this)}};l.style=".hide.sc-arcgis-item-browser-filter-content-type{display:none}calcite-list-item.sc-arcgis-item-browser-filter-content-type:not([selected]){--calcite-color-foreground-1:var(--calcite-color-background)}"},49853:(e,t,r)=>{r.d(t,{c:()=>i,o:()=>o});const n=(0,r(70464).c)({portal:null,user:null,api:4,scale:"m"}),i=n.state,o=n.onChange},70464:(e,t,r)=>{r.d(t,{c:()=>l});var n=r(81149);const i=e=>!("isConnected"in e)||e.isConnected,o=((e,t)=>{let r;return(...e)=>{r&&clearTimeout(r),r=setTimeout((()=>{r=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(i))})(...e)}),2e3)}})(),s=e=>"function"==typeof e?e():e,l=(e,t)=>{const r=((e,t=((e,t)=>e!==t))=>{const r=s(e);let n=new Map(Object.entries(null!=r?r:{}));const i={dispose:[],get:[],set:[],reset:[]},o=()=>{var t;n=new Map(Object.entries(null!==(t=s(e))&&void 0!==t?t:{})),i.reset.forEach((e=>e()))},l=e=>(i.get.forEach((t=>t(e))),n.get(e)),c=(e,r)=>{const o=n.get(e);t(r,o,e)&&(n.set(e,r),i.set.forEach((t=>t(e,r,o))))},a="undefined"==typeof Proxy?{}:new Proxy(r,{get:(e,t)=>l(t),ownKeys:e=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,r)=>(c(t,r),!0)}),u=(e,t)=>(i[e].push(t),()=>{((e,t)=>{const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.length--)})(i[e],t)});return{state:a,get:l,set:c,on:u,onChange:(t,r)=>{const n=u("set",((e,n)=>{e===t&&r(n)})),i=u("reset",(()=>r(s(e)[t])));return()=>{n(),i()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),o()},reset:o,forceUpdate:e=>{const t=n.get(e);i.set.forEach((r=>r(e,t,t)))}}})(e,t);return r.use((()=>{if("function"!=typeof n.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const r=(0,n.g)();r&&((e,t,r)=>{const n=e.get(t);n?n.includes(r)||n.push(r):e.set(t,[r])})(e,t,r)},set:t=>{const r=e.get(t);r&&e.set(t,r.filter(n.f)),o(e)},reset:()=>{e.forEach((e=>e.forEach(n.f))),o(e)}}})()),r}},74689:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>o,c:()=>c,d:()=>u,g:()=>d,i:()=>l,u:()=>a});var n=r(79210);function i(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function o(e){var t;return i(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function s(e){var t;return i(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function l(e,t){return e.owner===t.username}function c(e,t){return a(e,t)||"update"===e.itemControl}function a(e,t){return l(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,i="admin"===e.itemControl;return!((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!l(e,t)&&i&&n.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(n))&&i}(e,t)}const u=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,n.a)(t)}item.html?id=${e}`},12046:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>c,c:()=>s,d:()=>u,e:()=>p,f:()=>d,g:()=>b,h:()=>a,i:()=>l,j:()=>v,k:()=>g,l:()=>y,m:()=>f,n:()=>h,o:()=>m,p:()=>S,q:()=>w});var n=r(74689);const i=e=>{var t,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function s(e){return!e.isPortal||!!e.isBackedBySDS}function l(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return"org_admin"===i(e)||"account_admin"===i(e)}function a(e){return"org_user"===i(e)||"account_user"===i(e)}function u(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function d(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function p(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function v(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function g(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function h(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function f(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function m(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function y(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function b(e,t,r,n){const i=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!c(t)&&!o||!(null==r?void 0:r.isPortal)&&!i)}function w(e){return!!e&&(!u(e)||u(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const S=({items:e,user:t,portal:r})=>{const i=e[0],o=i.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,n.u)(i,t),l=u(t),c=_(t),a=(0,n.c)(i,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!l&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||v(e)||g(e)||!!t.canSharePublic&&h(e)}(t,r)||_(t));return s||a||(0,n.d)(e,t)&&c};function _(e){return y(e)||f(e)||m(e)}},38119:(e,t,r)=>{r.d(t,{a:()=>c,b:()=>l,c:()=>o,g:()=>i,o:()=>s});var n=r(10157);function i(e){return(0,n.g)(e,"arcgis-item-browser")}const o=(e,t)=>{e.onChange("view",(e=>{t(e)}))},s=(e,t)=>{e.onChange("bucket",(e=>{t(e)}))},l=(e,t)=>{e.onChange("preview",(e=>{t(e)}))},c=(e,t)=>{e.onChange("sort",(e=>{t(e)}))}},10157:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>s,g:()=>c,o:()=>o});var n=r(42577);const i=(e,t,r)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||r()}))},o=(e,t)=>{e.onChange("preview",(e=>{t()}))},s=(e,t)=>{e.onChange("groupId",(e=>{t()}))},l=new Map;function c(e,t){const r=l.get(e);if(r)return r;const i=(0,n.c)(e,t);return i?(l.set(e,i.store),i.store):null}},79210:(e,t,r)=>{r.d(t,{a:()=>p,b:()=>i,c:()=>o,g:()=>d,p:()=>u,r:()=>l,s:()=>n,v:()=>c});const n=/\+|\?|\/|\(|\)|\\|\!|\#|\"|\||\*|\:|<|>|\%|\$|\@|\'|\^|\[|\]|\,|\=|\;/gi,i=/(\.|outputFormat=)json|geojson$/i,o=/\/ags\//gi,s="MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|WMServer|SceneServer|VectorTileServer|StreamServer|WorkspaceServer|GeoenrichmentServer|VideoServer",l=new RegExp(`http.+/(${s})`),c="/arcgis/rest/services|/rest/services|/arcgis/services|/arcgis/rest",a=new RegExp(`(?<server>http.+(?:${c})(?:/?.*/(?<name>.*)/(?<type>${s})))(?!.*/${s})/?(?<soe>\\d+)?.*`,"i"),u=e=>{const t=e.match(a);if(!t)return e.match(o)?{baseServerUrl:e,serverName:null,serverType:"MapServer",index:null}:null;const[,r,n,i,s]=t,l=parseInt(s);return{baseServerUrl:r,serverName:n,serverType:i,index:isNaN(l)?null:l}},d=e=>{if(!e)return null;if(!e.match(c))return null;const t=e.split("/rest");return t.length<2?null:`${t[0]}/rest/`},p=e=>e&&"/"!==e.charAt(e.length-1)?`${e}/`:e}}]);