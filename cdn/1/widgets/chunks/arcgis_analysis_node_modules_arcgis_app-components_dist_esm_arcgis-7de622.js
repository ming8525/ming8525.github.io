/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7de622.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7de622"],{20206:(e,n,i)=>{i.d(n,{a:()=>t,b:()=>l,c:()=>o,d:()=>r});const r=(0,i(70464).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),t=r.state,o=r.state,l=r.state},75269:(e,n,i)=>{i.r(n),i.d(n,{arcgis_notebook_runtime_select:()=>p});var r=i(81149),t=i(82218),o=i(20206),l=i(20164),s=i(49853),u=i(69283),a=i(73411);function c(e){return{10.7:"1.0","10.7.0":"1.0","10.7.1":"2.0",10.8:"3.0","10.8.0":"3.0","10.8.1":"4.0"}[e]||e}function d(){const{user:e}=s.c;return function(){var e,n,i,r,t;const{config:o,portal:l}=s.c;if(l.isPortal)return!(!o.notebookServerEnabled||!l.supportsHostedNotebooks&&!(null===(e=l.sourceJSON)||void 0===e?void 0:e.supportsHostedNotebooks));{const e=-1!==["Trial Developer","Trial","Trial Press","Developer Subscription"].indexOf((null===(n=l.subscriptionInfo)||void 0===n?void 0:n.type)||(null===(r=null===(i=l.sourceJSON)||void 0===i?void 0:i.subscriptionInfo)||void 0===r?void 0:r.type));return o.notebookServerEnabled&&(!e||-1!==(l.allowedBetaFeatures||(null===(t=l.sourceJSON)||void 0===t?void 0:t.allowedBetaFeatures)||[]).indexOf("notebooks"))}}()&&(0,a.r)(e)}async function v(e,n,i,r){const[t]=await(0,u.l)(["dojo/request"]),{config:o}=s.c;r=r||{};let l={};const a={"X-Requested-With":null},c=o.userInfo?o.userInfo.token:null;return r.useJsonFormatParam&&(l.f="json"),"GET"===n&&(l=Object.assign(Object.assign({},l),i)),r.bypassCustomHeaders||(a["X-Esri-Authorization"]="Bearer "+c,r.useJsonBody&&(a["Content-Type"]="application/json")),r.contentType&&(a["Content-Type"]=r.contentType),t(e,{data:r.useJsonBody?i?JSON.stringify(i):null:i,method:n,handleAs:"json",headers:Object.keys(a).length?a:null,query:Object.keys(l).length?l:null,preventCache:!1!==r.preventCache,withCredentials:!r.bypassCustomHeaders})}i(42577),i(51837),i(70464),i(79210),i(12046),i(74689);const p=class{constructor(e){(0,r.r)(this,e),this.handleRuntimeChange=e=>{const n=e.currentTarget.selectedOption.value,i=parseInt(n,10)||0;this.selectedRuntimeIndex=i,this.updateProperties(this.runtimes[i])},this.i18n=void 0,this.runtimes=void 0,this.loading=!0,this.error=!1,this.selectedRuntimeIndex=0}async componentWillLoad(){const e=await(0,t.g)(this.el);this.i18n=e[0]}async componentDidLoad(){try{if(!d())return;const e=await async function(){var e;const n=await async function(){const{config:e,portal:n,user:i}=s.c;return new Promise((async(r,t)=>{var o,s;if(n.isPortal)if(e.userInfo){const e=await(0,l.t)(i,n);if(null==e?void 0:e.length){const n=e.filter((({serverType:e,serverFunction:n})=>"ARCGIS_NOTEBOOK_SERVER"===e&&"NotebookServer"===n));if(n.length)return r(n[0].url)}}else t();else{const n=await(0,l.r)(`${e.restBaseUrl}/portals/self/urls`),i=null===(s=null===(o=null==n?void 0:n.urls)||void 0===o?void 0:o.notebooks)||void 0===s?void 0:s.https;if(i)return r(`https://${i}`)}}))}(),i=await async function(e){return(await v(`${e}/rest/info`,"GET",null,{useJsonFormatParam:!0,useCredentials:!0})).currentRuntimeVersion}(n),r=await function(e){return v(`${e}/admin/notebooks/runtimes`,"GET",null,{useJsonFormatParam:!0,useCredentials:!0})}(n);return(null===(e=null==r?void 0:r.runtimes)||void 0===e?void 0:e.length)?function(e=[],n){const{user:i}=s.c,r=(0,a.s)(i);return e.sort(((e,n)=>e.esriProvidedRuntime===n.esriProvidedRuntime?0:e.esriProvidedRuntime?-1:1)).filter((e=>!(!r&&e.requiresAdvancedPrivileges||c(n)!==c(e.version)&&e.esriProvidedRuntime)))}(r.runtimes,i):null}();if(this.runtimes=e,!e||!e.length)throw new Error;this.updateProperties(e[0])}catch(e){this.error=!0}this.loading=!1}updateProperties(e){o.a.properties={notebookRuntimeName:e.name,notebookRuntimeVersion:c(e.version)}}render(){const{i18n:e,selectedRuntimeIndex:n}=this;return d()?(0,r.h)("calcite-label",null,(0,r.h)("span",{class:"label"},e.selectRuntime),(0,r.h)("calcite-notice",{icon:!0,open:this.error,scale:"s",kind:"danger"},(0,r.h)("div",{slot:"title"},e.error.title),(0,r.h)("div",{slot:"message"},e.error.runtimes)),this.loading?(0,r.h)("span",null,(0,r.h)("calcite-loader",{class:"loader",inline:!0,label:e.loadingRuntimes})," ",e.loadingRuntimes):!this.error&&(0,r.h)("calcite-select",{label:e.selectRuntime,onCalciteSelectChange:this.handleRuntimeChange},this.runtimes.map(((e,i)=>(0,r.h)("calcite-option",{value:i,selected:n===i},e.name," - ",e.version))))):null}get el(){return(0,r.d)(this)}};p.style=":host{--arcgis-label-font-weight:400}.label{margin-top:0px;margin-bottom:0px;font-weight:var(--arcgis-label-font-weight)}.label--bold{--arcgis-label-font-weight:500}.loader{color:var(--calcite-color-brand)}.leader-text{font-size:0.875rem;color:var(--calcite-color-text-1)}"},74689:(e,n,i)=>{i.d(n,{a:()=>l,b:()=>o,c:()=>u,d:()=>c,g:()=>d,i:()=>s,u:()=>a});var r=i(79210);function t(e){var n;return!!(null===(n=e.owner)||void 0===n?void 0:n.toLowerCase().includes("esri"))}function o(e){var n;return t(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Credits"))}function l(e){var n;return t(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Subscription"))}function s(e,n){return e.owner===n.username}function u(e,n){return a(e,n)||"update"===e.itemControl}function a(e,n){return s(e,n)||function(e,n){var i;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,t="admin"===e.itemControl;return!((null===(i=e.portal)||void 0===i?void 0:i.isPortal)&&!s(e,n)&&t&&r.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(r))&&t}(e,n)}const c=(e,n)=>!!n.orgId&&e.every((e=>e.isOrgItem)),d=(e,n)=>`${(0,r.a)(n)}item.html?id=${e}`},12046:(e,n,i)=>{i.d(n,{a:()=>o,b:()=>u,c:()=>l,d:()=>c,e:()=>v,f:()=>d,g:()=>y,h:()=>a,i:()=>s,j:()=>p,k:()=>f,l:()=>b,m:()=>g,n:()=>m,o:()=>h,p:()=>P,q:()=>w});var r=i(74689);const t=e=>{var n,i,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(i=null!==(n=null==e?void 0:e.roleId)&&void 0!==n?n:null==e?void 0:e.id)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function o(e){return e&&!e.orgId}function l(e){return!e.isPortal||!!e.isBackedBySDS}function s(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function u(e){return"org_admin"===t(e)||"account_admin"===t(e)}function a(e){return"org_user"===t(e)||"account_user"===t(e)}function c(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function d(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateItemCategorySchema"))}function v(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateGroups"))}function p(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function f(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function m(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function g(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function h(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function y(e,n,i,r){const t=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),o=((null==n?void 0:n.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!n||!u(n)&&!o||!(null==i?void 0:i.isPortal)&&!t)}function w(e){return!!e&&(!c(e)||c(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const P=({items:e,user:n,portal:i})=>{const t=e[0],o=t.owner;if(i.isPortal&&o!==n.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,r.u)(t,n),s=c(n),u=S(n),a=(0,r.c)(t,n)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(n)&&!s&&(function(e,n){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(n)||p(e)||f(e)||!!n.canSharePublic&&m(e)}(n,i)||S(n));return l||a||(0,r.d)(e,n)&&u};function S(e){return b(e)||g(e)||h(e)}},73411:(e,n,i)=>{i.d(n,{a:()=>C,b:()=>c,c:()=>k,d:()=>f,e:()=>m,f:()=>h,g:()=>d,h:()=>p,i:()=>b,j:()=>y,k:()=>S,l:()=>u,m:()=>I,n:()=>a,o:()=>O,p:()=>T,q:()=>l,r:()=>P,s:()=>w,t:()=>_,u:()=>R});var r=i(20164),t=i(12046),o=i(49853);async function l(){return new Promise((async e=>{const{portal:n}=o.c;if(null==n?void 0:n.isPortal){const i=n.helperServices.geocode,t=await function(e){const{config:n,portal:i}=o.c;return new Promise((async(t,o)=>{const l=e.filter((e=>s(e.url,i))).filter((e=>e.isEsriBatchGeocoder))[0];if(l){const e=l.url.split("/servers/")[1].split("/rest/services/")[0],i=`${n.restBaseUrl}/content/items/${e}`;try{t((await(0,r.r)(i)).url)}catch(e){o(e)}}else o("No world geocoder configured")}))}(i);e(t)}else{const i=function(e){const n=null==e?void 0:e.portalHostname;return-1!==n.indexOf("dev")?"dev":-1!==n.indexOf("qa")?"qa":""}(n);e(`https://geocode${i}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function s(e="",n){var i;const r=n.isPortal,t=e.toLowerCase(),o=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,l=r&&t.indexOf(null===(i=n.portalHostname)||void 0===i?void 0:i.toLowerCase())>-1,s=!r&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return o&&(l||s)}function u(e){return(0,t.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function a(e){return(0,t.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}function c(e,n){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&(!n.isPortal||n.isBackedBySDS)}function d(e,n){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&(!n.isPortal||n.isBackedBySDS)}function v(e){return!(0,t.a)(e)&&!0}function p(e){var n;return!(0,t.a)(e)&&(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishScenes"))}const f=e=>!(0,t.a)(e);function m(e,n,i){var r,t;const o=!!(null===(t=null===(r=n.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===t?void 0:t.url),l=function(e,n,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(n.isPortal||g(i))}(e,n,i),s=n.isPortal?l:l||function(e,n,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!n.isPortal&&g(i)}(e,n,i);return o&&s}function g(e){return null==e?void 0:e.some((e=>{var n;return null===(n=e.entitlements)||void 0===n?void 0:n.some((e=>"image"===e.toLowerCase()))}))}async function h(e){var n;const{userLicensedItems:i}=await(0,r.r)(`${null!==(n=e.restUrl)&&void 0!==n?n:e.portalUrl}/community/self?returnUserLicensedItems=true`);return i}function b(e,n){var i,o;const l=null===(i=n.helperServices)||void 0===i?void 0:i.geocode.some((({url:e})=>s(e,n))),u=null!==(o=null==e?void 0:e.privileges)&&void 0!==o?o:[];return!(0,t.a)(e)&&l&&(!n.isPortal||!(0,r.i)(n)&&u.includes("portal:user:viewOrgItems")&&u.includes("portal:user:createItem"))}const y=e=>!(0,t.a)(e);function w(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function P(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function S(e,n){var i;return!!n.isPortal&&!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:registerDataStores"))}function I(e){return!(0,t.a)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}function k(e,n,i){return!n.isPortal&&c(e,n)&&function(e,n,i){return!(0,t.a)(e)&&!!n.supportsHostedServices&&u(e)&&(d(e,n)||c(e,n)||p(e)||v(e)||m(e,n,i))}(e,n,i)}function C(e,n,i){switch(n){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return c(e,i);case"Tile Package":return d(e,i);case"Vector Tile Package":return v(e);case"Scene Package":return p(e);case"Service Definition":return function(e,n){return c(e,n)&&d(e,n)}(e,i);default:return!0}}function O(e,n){var i,r,o;return(0,t.b)(e)||function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:manageCredits"))}(e)||!!((null!==(i=null==e?void 0:e.assignedCredits)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.assignedCredits)>-1&&(null===(o=null==n?void 0:n.portalProperties)||void 0===o?void 0:o.showCreditsOnProfile))}const T=e=>!1;function _(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:viewGroups"))}function R(e){return(0,t.b)(e)||function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:viewUsers"))}(e)&&function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:viewItems"))}(e)&&(function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateItems"))}(e)||function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:deleteItems"))}(e)||function(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:reassignItems"))}(e))}}}]);