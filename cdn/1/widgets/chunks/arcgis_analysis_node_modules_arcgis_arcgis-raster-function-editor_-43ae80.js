"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-43ae80"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-transpose-bit-0a2b20d0.js":
/*!******************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-transpose-bit-0a2b20d0.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ RFxCteTransposeBit)
/* harmony export */ });
/* harmony import */ var _index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-da1b7138.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/index-da1b7138.js");
/* harmony import */ var _localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./localization-helper-4819b67d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/localization-helper-4819b67d.js");
/* harmony import */ var _arcgis_core_core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/core/lang.js */ "@arcgis/core/core/lang.js");
/* harmony import */ var _resources_27c66f5c_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources-27c66f5c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/resources-27c66f5c.js");
/* harmony import */ var _type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./type-gaurds-1840747f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/type-gaurds-1840747f.js");
/* harmony import */ var _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui-utils-928a4096.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js");
/* harmony import */ var _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./interfaces-d0c68944.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/interfaces-d0c68944.js");
/* harmony import */ var _arcgis_core_identity_IdentityManager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arcgis/core/identity/IdentityManager.js */ "@arcgis/core/identity/IdentityManager.js");
/* harmony import */ var _arcgis_core_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arcgis/core/core/urlUtils.js */ "@arcgis/core/core/urlUtils.js");
/* harmony import */ var _arcgis_core_layers_Layer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arcgis/core/layers/Layer.js */ "@arcgis/core/layers/Layer.js");
/* harmony import */ var _arcgis_core_layers_ImageryLayer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arcgis/core/layers/ImageryLayer.js */ "@arcgis/core/layers/ImageryLayer.js");
/* harmony import */ var _arcgis_core_smartMapping_raster_renderers_stretch_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arcgis/core/smartMapping/raster/renderers/stretch.js */ "@arcgis/core/smartMapping/raster/renderers/stretch.js");
/* harmony import */ var _arcgis_core_request_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arcgis/core/request.js */ "@arcgis/core/request.js");
/* harmony import */ var _arcgis_core_rest_support_AlgorithmicColorRamp_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arcgis/core/rest/support/AlgorithmicColorRamp.js */ "@arcgis/core/rest/support/AlgorithmicColorRamp.js");
/* harmony import */ var _arcgis_core_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arcgis/core/rest/support/MultipartColorRamp.js */ "@arcgis/core/rest/support/MultipartColorRamp.js");
/* harmony import */ var _arcgis_core_Color_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arcgis/core/Color.js */ "@arcgis/core/Color.js");
/* harmony import */ var _colorRampUtils_8bdd46c5_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./colorRampUtils-8bdd46c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/colorRampUtils-8bdd46c5.js");
/* harmony import */ var _sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./sanitize-number-d84114f7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/sanitize-number-d84114f7.js");
/* harmony import */ var _arcgis_core_rest_geoprocessor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @arcgis/core/rest/geoprocessor.js */ "@arcgis/core/rest/geoprocessor.js");
/* harmony import */ var _arcgis_core_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @arcgis/core/portal/PortalItem.js */ "@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _multidimensional_helper_fc8fbe0e_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./multidimensional-helper-fc8fbe0e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/multidimensional-helper-fc8fbe0e.js");






















const component = "rfx-cte-transpose-bit";
const HTMLClasses = {
    outputBitColumn: `${component}__outputBit-column`
};
const HelpClickHandlerKeys = {
    bitPatternHelpClickHandler: "bitPatternHelpClickHandler"
};

const rfxCteTransposeBitCss = ":root{--calcite-color-brand:#007ac2;--calcite-color-brand-hover:#00619b;--calcite-color-brand-press:#004874;--calcite-color-status-info:#00619b;--calcite-color-status-success:#35ac46;--calcite-color-status-warning:#edd317;--calcite-color-status-danger:#d83020;--calcite-color-status-danger-hover:#a82b1e;--calcite-color-status-danger-press:#7c1d13;--calcite-color-background:#f8f8f8;--calcite-color-foreground-1:#ffffff;--calcite-color-foreground-2:#f3f3f3;--calcite-color-foreground-3:#eaeaea;--calcite-color-text-1:#151515;--calcite-color-text-2:#4a4a4a;--calcite-color-text-3:#6a6a6a;--calcite-color-text-inverse:#ffffff;--calcite-color-text-link:#00619b;--calcite-color-border-1:#cacaca;--calcite-color-border-2:#d4d4d4;--calcite-color-border-3:#dfdfdf;--calcite-color-border-input:#949494;--rfx-quarter-spacing:0.25rem;--rfx-half-spacing:0.5rem;--rfx-three-quarter-spacing:0.75rem;--rfx-full-spacing:1rem;--rfx-component-default-width:100%;--rfx-ui-border-input:var(--calcite-color-border-2);--rfx-popover-content-min-height:30vh;--rfx-popover-content-max-height:60vh;--rfx-popover-content-height:45vh;--rfx-widget-content-height:30vh}.rfx-cte-transpose-bit__outputBit-column{width:50%}";

const RFxCteTransposeBit = class {
    constructor(hostRef) {
        (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.rfxArgumentChange = (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "rfxArgumentChange", 7);
        /**
         * The reference elements for the widget contains Paramter reference and labels.
         * @category Private
         */
        this.uiElements = {
            widgetLabel: undefined,
            widgetContainer: undefined
        };
        /**
         * Grid Schema
         */
        this.gridSchema = {
            gridLayout: {},
            gridOptions: [],
            hasBorder: true,
            hasHeader: true,
            canAdd: false,
            hasIdColumn: false,
            canRemove: false,
            isStacked: false
        };
        this.store = [];
        /**
         * Stores event handlers for help action click, stored in connected callback to avoid
         * fetching function on each render ( to avoid common bad practice )
         */
        this.helpActionClickEventHandlers = new Map();
        this.handleBitPatternChange = (e) => {
            e.stopPropagation();
            const element = e.target;
            const pattern = element.value;
            this.bitPattern = pattern;
            this.widgetArgs.rfxArgs.QualityClass = this.bitPattern;
            const gridStore = this.createDataObjects(this.bitPattern);
            this.gridStore = gridStore;
        };
        this.updateGridValue = (event) => {
            const { detail: { gridOptions } } = event;
            if ((0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_4__.i)(gridOptions)) {
                return;
            }
            const gridStore = this.gridStore;
            this.gridStore = [...gridStore];
        };
        this.widgetArgs = undefined;
        this.gridStore = [];
    }
    //--------------------------------------------------------------------------
    //
    //  Lifecycle
    //
    //--------------------------------------------------------------------------
    async componentWillLoad() {
        ({ strings: this.strings, dir: this.direction } = await (0,_localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.hostElement, (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.g)(".")));
        await this.setupInitialState(this.widgetArgs);
    }
    componentWillRender() {
        this.initGrid();
        this.setWidgetValue(this.widgetArgs);
    }
    componentDidLoad() {
        this.attachHelpClickEventHandlers(this.widgetArgs);
    }
    get isBitPatternUserDefined() {
        return this.bitPattern === "qcbp_UserDefined";
    }
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    async setupInitialState({ rfxArgs }) {
        // Set uiElements labels and containers
        this.uiElements.widgetLabel = this.strings.bitPattern;
        // Set initial store
        // const enumData = rfxUtils.coerceEnumDataForCurrentEnv(this.rfxArgs, inputArgDomain.enum, this.portalMode);
        const enumStore = await (0,_resources_27c66f5c_js__WEBPACK_IMPORTED_MODULE_3__.g)();
        const enumData = enumStore.esriTransposeBitPatterns;
        this.store = (0,_multidimensional_helper_fc8fbe0e_js__WEBPACK_IMPORTED_MODULE_20__.c)(enumData);
        this.store?.forEach((enumElement) => {
            enumElement.key = enumElement.key.toString();
        });
        if ((0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_4__.i)(this.store)) {
            console.error("Domain list Enum not set! Check Schema");
        }
        let bitPattern = rfxArgs?.QualityClass;
        if ((0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_4__.i)(bitPattern)) {
            bitPattern = this.store[0].key;
            // QualityClass is a pseudo element used in Pro
            rfxArgs.QualityClass = bitPattern;
        }
        this.bitPattern = bitPattern;
        const gridStore = this.createDataObjects(this.bitPattern);
        this.gridStore = gridStore;
    }
    /**
     * @returns {Object[]} An array of data objects.
     */
    createDataObjects(bitPattern) {
        const widgetData = Array.from({ length: 8 }, (_, index) => {
            const outputBit = String(index);
            let inputBit = "";
            if (this.isBitPatternUserDefined) {
                const { InputBitPositions, OutputBitPositions } = this.widgetArgs.inputArgs;
                const inputBits = InputBitPositions.value ?? [];
                const outputBits = OutputBitPositions.value ?? [];
                const pos = outputBits.indexOf(index);
                inputBit = pos > -1 ? inputBits[pos] : "";
            }
            else {
                const inputBitInfo = _resources_27c66f5c_js__WEBPACK_IMPORTED_MODULE_3__.t[bitPattern];
                inputBit = inputBitInfo[index];
            }
            return {
                id: index + 1,
                outputBit,
                inputBit
            };
        });
        return widgetData;
    }
    initGrid() {
        /* Shell Layout
         * | Output Bit | Input Bit |
         * | string     | string      | (dataType)
         * | false      | false       | (isEditable) ( input bit is editable when pattern is "user defined" )
         */
        const gridLayout = {
            outputBit: {
                uiType: _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_6__.G.text,
                label: this.strings.outputBit,
                style: HTMLClasses.outputBitColumn
            },
            inputBit: {
                uiType: this.isBitPatternUserDefined ? _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_6__.G.number : _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_6__.G.text,
                label: this.strings.inputBit
            }
        };
        const gridOptions = this.gridStore;
        this.gridSchema = {
            ...this.gridSchema,
            gridLayout,
            gridOptions
        };
    }
    setWidgetValue({ inputArgs }) {
        const { inputBit, outputBit } = this.gridStore.reduce((accumulator, storeItem) => {
            if ((0,_sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_17__.i)((0,_sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_17__.p)(storeItem.inputBit))) {
                accumulator.inputBit.push((0,_sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_17__.p)(storeItem.inputBit));
                accumulator.outputBit.push((0,_sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_17__.p)(storeItem.outputBit));
            }
            return accumulator;
        }, { inputBit: [], outputBit: [] });
        const { InputBitPositions, OutputBitPositions } = inputArgs;
        InputBitPositions.value = inputBit;
        OutputBitPositions.value = outputBit;
    }
    attachHelpClickEventHandlers({ helpTextIDs }) {
        const bitPatternHelpClickHandler = this.widgetArgs.onHelpActionClick({
            heading: this.uiElements.widgetLabel,
            referenceElement: this.uiElements.widgetContainer,
            helpTextID: helpTextIDs.transposebits_bitpattern
        });
        this.helpActionClickEventHandlers.set(HelpClickHandlerKeys.bitPatternHelpClickHandler, bitPatternHelpClickHandler);
    }
    render() {
        return ((0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { alignment: "start", scale: _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_5__.U.Scale, layout: "default", ref: (e) => {
                this.uiElements.widgetContainer = e;
            } }, (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("rfx-label", { label: this.uiElements.widgetLabel, onRfxLabelHelpActionClick: () => this.helpActionClickEventHandlers?.get(HelpClickHandlerKeys.bitPatternHelpClickHandler)() }), (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("rfx-dtex-common-select", { options: this.store, value: String(this.bitPattern), onRfxArgumentChange: this.handleBitPatternChange }), (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.h)("rfx-grid", { hasHeader: this.gridSchema.hasHeader, canAdd: this.gridSchema.canAdd, hasIdColumn: this.gridSchema.hasIdColumn, gridLayout: this.gridSchema.gridLayout, gridOptions: this.gridSchema.gridOptions, hasBorder: this.gridSchema.hasBorder, canRemove: this.gridSchema.canRemove, isStacked: this.gridSchema.isStacked, onRfxGridOptionChange: this.updateGridValue }))));
    }
    static get assetsDirs() { return ["t9n"]; }
    get hostElement() { return (0,_index_da1b7138_js__WEBPACK_IMPORTED_MODULE_0__.a)(this); }
};
RFxCteTransposeBit.style = rfxCteTransposeBitCss;



//# sourceMappingURL=rfx-cte-transpose-bit-0a2b20d0.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-transpose-bit.entry.js":
/*!***************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-transpose-bit.entry.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   rfx_cte_transpose_bit: () => (/* reexport safe */ _rfx_cte_transpose_bit_0a2b20d0_js__WEBPACK_IMPORTED_MODULE_0__.R)
/* harmony export */ });
/* harmony import */ var _rfx_cte_transpose_bit_0a2b20d0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rfx-cte-transpose-bit-0a2b20d0.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/rfx-cte-transpose-bit-0a2b20d0.js");
/* harmony import */ var _index_da1b7138_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-da1b7138.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/index-da1b7138.js");
/* harmony import */ var _localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./localization-helper-4819b67d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/localization-helper-4819b67d.js");
/* harmony import */ var _arcgis_core_core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/lang.js */ "@arcgis/core/core/lang.js");
/* harmony import */ var _resources_27c66f5c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources-27c66f5c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/resources-27c66f5c.js");
/* harmony import */ var _type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./type-gaurds-1840747f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/type-gaurds-1840747f.js");
/* harmony import */ var _getTag_96af029d_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./_getTag-96af029d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/_getTag-96af029d.js");
/* harmony import */ var _ui_utils_928a4096_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui-utils-928a4096.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js");
/* harmony import */ var _interfaces_d0c68944_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./interfaces-d0c68944.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/interfaces-d0c68944.js");
/* harmony import */ var _arcgis_core_identity_IdentityManager_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arcgis/core/identity/IdentityManager.js */ "@arcgis/core/identity/IdentityManager.js");
/* harmony import */ var _arcgis_core_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arcgis/core/core/urlUtils.js */ "@arcgis/core/core/urlUtils.js");
/* harmony import */ var _arcgis_core_layers_Layer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arcgis/core/layers/Layer.js */ "@arcgis/core/layers/Layer.js");
/* harmony import */ var _arcgis_core_layers_ImageryLayer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arcgis/core/layers/ImageryLayer.js */ "@arcgis/core/layers/ImageryLayer.js");
/* harmony import */ var _arcgis_core_smartMapping_raster_renderers_stretch_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arcgis/core/smartMapping/raster/renderers/stretch.js */ "@arcgis/core/smartMapping/raster/renderers/stretch.js");
/* harmony import */ var _arcgis_core_request_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arcgis/core/request.js */ "@arcgis/core/request.js");
/* harmony import */ var _arcgis_core_rest_support_AlgorithmicColorRamp_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arcgis/core/rest/support/AlgorithmicColorRamp.js */ "@arcgis/core/rest/support/AlgorithmicColorRamp.js");
/* harmony import */ var _arcgis_core_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @arcgis/core/rest/support/MultipartColorRamp.js */ "@arcgis/core/rest/support/MultipartColorRamp.js");
/* harmony import */ var _arcgis_core_Color_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @arcgis/core/Color.js */ "@arcgis/core/Color.js");
/* harmony import */ var _colorRampUtils_8bdd46c5_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./colorRampUtils-8bdd46c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/colorRampUtils-8bdd46c5.js");
/* harmony import */ var _sanitize_number_d84114f7_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./sanitize-number-d84114f7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/sanitize-number-d84114f7.js");
/* harmony import */ var _arcgis_core_rest_geoprocessor_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @arcgis/core/rest/geoprocessor.js */ "@arcgis/core/rest/geoprocessor.js");
/* harmony import */ var _arcgis_core_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @arcgis/core/portal/PortalItem.js */ "@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _multidimensional_helper_fc8fbe0e_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./multidimensional-helper-fc8fbe0e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/multidimensional-helper-fc8fbe0e.js");
/* harmony import */ var _Uint8Array_68e1e3f9_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./_Uint8Array-68e1e3f9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/_Uint8Array-68e1e3f9.js");

























//# sourceMappingURL=rfx-cte-transpose-bit.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/sanitize-number-d84114f7.js":
/*!************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/sanitize-number-d84114f7.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ formatNumberToLocale),
/* harmony export */   f: () => (/* binding */ formatNumber),
/* harmony export */   i: () => (/* binding */ isValidNumber),
/* harmony export */   p: () => (/* binding */ parseNumber),
/* harmony export */   s: () => (/* binding */ sanitizeNumber)
/* harmony export */ });
/* harmony import */ var _localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./localization-helper-4819b67d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/localization-helper-4819b67d.js");
/* harmony import */ var _type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type-gaurds-1840747f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/type-gaurds-1840747f.js");



/**
 * Indicates if a provided number value is valid.
 * An invalid value is: undefined | NaN | Infinite | -Infinite | null
 * See for more details:
 *   - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite
 *   - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN
 * @param {number | undefined | null} value value to check
 * @returns {boolean} if valid or not
 */
function isValidNumber(value) {
    return value !== undefined && value !== null && Number.isNaN(value) === false && Number.isFinite(value) === true;
}
/**
 * Returns a string representation of the provided number for use with calcite-input. It also
 * guards against invalid types following this logic:
 *   - If the value is valid (not NaN, finite), the value is returned as a string
 *   - If not and if a valid default value is provided, the default value is returned as a string
 *   - If not, an empty string is returned
 * @param value
 * @param defaultValue
 * @returns a sanitized string
 */
function sanitizeNumber(value, defaultValue) {
    let returnedValue;
    if (value !== null) {
        const testedValue = typeof value === "string" ? Number.parseFloat(value) : value;
        if (isValidNumber(testedValue))
            returnedValue = testedValue;
        else if (isValidNumber(defaultValue))
            returnedValue = defaultValue;
    }
    return returnedValue === undefined ? "" : `${returnedValue}`;
}
/**
 * Parses a value string to a number for use with calcite-input. If the string is empty, it will return undefined.
 * If the string is otherwise invalid, it will return NaN.
 * @param value calcite-input value
 * @returns {number | undefined} the parsed number
 */
function parseNumber(value) {
    if (value === "")
        return undefined;
    return Number.parseFloat(value);
}
/**
 * Formats a number to a specified number of decimal places.
 *
 * @param {number} value - The number to format.
 * @param {number} [fractionDigits=3] - The number of decimal places to include in the formatted number. Defaults to 3.
 * @returns {number|undefined} - The formatted number, or undefined if the input value is empty.
 */
function formatNumber(value, fractionDigits = 3) {
    if ((0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_1__.i)(value))
        return undefined;
    return Number.parseFloat(value.toFixed(fractionDigits));
}
/**
 * Formats a number or string representing a number according to the locale, passing Intl number format options
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/ReferenceGlobal_Objects/Intl/NumberFormat/NumberFormat#options
 * @param {number | string | undefined} value to be formatted and localized
 * @param {Intl.NumberFormatOptions} formatOptions options object matching Intl.NumberFormat
 * @returns {string} localized / rounded string
 */
function formatNumberToLocale(value, formatOptions) {
    let formattedValue = "";
    if (!(0,_type_gaurds_1840747f_js__WEBPACK_IMPORTED_MODULE_1__.i)(value) && !Number.isNaN(value)) {
        const localeCode = (0,_localization_helper_4819b67d_js__WEBPACK_IMPORTED_MODULE_0__.g)().locale;
        formattedValue = Intl.NumberFormat(localeCode, formatOptions).format(Number(value));
    }
    return formattedValue;
}



//# sourceMappingURL=sanitize-number-d84114f7.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js":
/*!*****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/arcgis-raster-function-editor/dist/esm/ui-utils-928a4096.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CalciteScale),
/* harmony export */   U: () => (/* binding */ UIDefaults),
/* harmony export */   a: () => (/* binding */ CalciteOverlayPositioning)
/* harmony export */ });
const UIDefaults = {
    Scale: "s",
    PopoverTimer: 60
};
const CalciteScale = {
    s: "s",
    m: "m"
};
const CalciteOverlayPositioning = {
    absolute: "absolute",
    fixed: "fixed"
};



//# sourceMappingURL=ui-utils-928a4096.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXJjZ2lzLXJhc3Rlci1mdW5jdGlvbi1lZGl0b3JfLTQzYWU4MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFIO0FBQ2hDO0FBQ2xEO0FBQ2dEO0FBQ2xCO0FBQ1I7QUFDRTtBQUNUO0FBQ1g7QUFDRDtBQUNPO0FBQ2tCO0FBQzlCO0FBQzBCO0FBQ0Y7QUFDMUI7QUFDTztBQUMrQztBQUMxQztBQUNBO0FBQzRCOztBQUV2RTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDLDhCQUE4QixvQ0FBb0Msb0NBQW9DLG9DQUFvQyx1Q0FBdUMsdUNBQXVDLHNDQUFzQyw0Q0FBNEMsNENBQTRDLG1DQUFtQyxxQ0FBcUMscUNBQXFDLHFDQUFxQywrQkFBK0IsK0JBQStCLCtCQUErQixxQ0FBcUMsa0NBQWtDLGlDQUFpQyxpQ0FBaUMsaUNBQWlDLHFDQUFxQyw4QkFBOEIsMEJBQTBCLG9DQUFvQyx3QkFBd0IsbUNBQW1DLG9EQUFvRCxzQ0FBc0Msc0NBQXNDLGtDQUFrQyxpQ0FBaUMseUNBQXlDLFVBQVU7O0FBRXRzQztBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsaUNBQWlDLHFEQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVSxnQkFBZ0I7QUFDOUMsZ0JBQWdCLDJEQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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ckI7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBZTtBQUN4QiwyQkFBMkIsbUVBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRW1IOztBQUVuSDs7Ozs7Ozs7Ozs7Ozs7OztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThFOztBQUU5RSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FyY2dpcy1yYXN0ZXItZnVuY3Rpb24tZWRpdG9yL2Rpc3QvZXNtL3JmeC1jdGUtdHJhbnNwb3NlLWJpdC0wYTJiMjBkMC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcmNnaXMtcmFzdGVyLWZ1bmN0aW9uLWVkaXRvci9kaXN0L2VzbS9yZngtY3RlLXRyYW5zcG9zZS1iaXQuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXJjZ2lzLXJhc3Rlci1mdW5jdGlvbi1lZGl0b3IvZGlzdC9lc20vc2FuaXRpemUtbnVtYmVyLWQ4NDExNGY3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FyY2dpcy1yYXN0ZXItZnVuY3Rpb24tZWRpdG9yL2Rpc3QvZXNtL3VpLXV0aWxzLTkyOGE0MDk2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgZyBhcyBnZXRBc3NldFBhdGgsIGgsIGEgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtZGExYjcxMzguanMnO1xuaW1wb3J0IHsgYiBhcyBmZXRjaENvbXBvbmVudExvY2FsZVN0cmluZ3MgfSBmcm9tICcuL2xvY2FsaXphdGlvbi1oZWxwZXItNDgxOWI2N2QuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvY29yZS9sYW5nLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0RW51bXMsIHQgYXMgdHJhbnBvc2VJbnB1dEJpdEluZm8gfSBmcm9tICcuL3Jlc291cmNlcy0yN2M2NmY1Yy5qcyc7XG5pbXBvcnQgeyBpIGFzIGlzRW1wdHlEYXRhSXRlbSB9IGZyb20gJy4vdHlwZS1nYXVyZHMtMTg0MDc0N2YuanMnO1xuaW1wb3J0IHsgVSBhcyBVSURlZmF1bHRzIH0gZnJvbSAnLi91aS11dGlscy05MjhhNDA5Ni5qcyc7XG5pbXBvcnQgeyBHIGFzIEdyaWRDb2x1bW4gfSBmcm9tICcuL2ludGVyZmFjZXMtZDBjNjg5NDQuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvaWRlbnRpdHkvSWRlbnRpdHlNYW5hZ2VyLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2NvcmUvdXJsVXRpbHMuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvbGF5ZXJzL0xheWVyLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL2xheWVycy9JbWFnZXJ5TGF5ZXIuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3Jhc3Rlci9yZW5kZXJlcnMvc3RyZXRjaC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXF1ZXN0LmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9BbGdvcml0aG1pY0NvbG9yUmFtcC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvTXVsdGlwYXJ0Q29sb3JSYW1wLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL0NvbG9yLmpzJztcbmltcG9ydCAnLi9jb2xvclJhbXBVdGlscy04YmRkNDZjNS5qcyc7XG5pbXBvcnQgeyBpIGFzIGlzVmFsaWROdW1iZXIsIHAgYXMgcGFyc2VOdW1iZXIgfSBmcm9tICcuL3Nhbml0aXplLW51bWJlci1kODQxMTRmNy5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9yZXN0L2dlb3Byb2Nlc3Nvci5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9wb3J0YWwvUG9ydGFsSXRlbS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNsb25lRGF0YSB9IGZyb20gJy4vbXVsdGlkaW1lbnNpb25hbC1oZWxwZXItZmM4ZmJlMGUuanMnO1xuXG5jb25zdCBjb21wb25lbnQgPSBcInJmeC1jdGUtdHJhbnNwb3NlLWJpdFwiO1xuY29uc3QgSFRNTENsYXNzZXMgPSB7XG4gICAgb3V0cHV0Qml0Q29sdW1uOiBgJHtjb21wb25lbnR9X19vdXRwdXRCaXQtY29sdW1uYFxufTtcbmNvbnN0IEhlbHBDbGlja0hhbmRsZXJLZXlzID0ge1xuICAgIGJpdFBhdHRlcm5IZWxwQ2xpY2tIYW5kbGVyOiBcImJpdFBhdHRlcm5IZWxwQ2xpY2tIYW5kbGVyXCJcbn07XG5cbmNvbnN0IHJmeEN0ZVRyYW5zcG9zZUJpdENzcyA9IFwiOnJvb3R7LS1jYWxjaXRlLWNvbG9yLWJyYW5kOiMwMDdhYzI7LS1jYWxjaXRlLWNvbG9yLWJyYW5kLWhvdmVyOiMwMDYxOWI7LS1jYWxjaXRlLWNvbG9yLWJyYW5kLXByZXNzOiMwMDQ4NzQ7LS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1pbmZvOiMwMDYxOWI7LS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1zdWNjZXNzOiMzNWFjNDY7LS1jYWxjaXRlLWNvbG9yLXN0YXR1cy13YXJuaW5nOiNlZGQzMTc7LS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1kYW5nZXI6I2Q4MzAyMDstLWNhbGNpdGUtY29sb3Itc3RhdHVzLWRhbmdlci1ob3ZlcjojYTgyYjFlOy0tY2FsY2l0ZS1jb2xvci1zdGF0dXMtZGFuZ2VyLXByZXNzOiM3YzFkMTM7LS1jYWxjaXRlLWNvbG9yLWJhY2tncm91bmQ6I2Y4ZjhmODstLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xOiNmZmZmZmY7LS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMjojZjNmM2YzOy0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTM6I2VhZWFlYTstLWNhbGNpdGUtY29sb3ItdGV4dC0xOiMxNTE1MTU7LS1jYWxjaXRlLWNvbG9yLXRleHQtMjojNGE0YTRhOy0tY2FsY2l0ZS1jb2xvci10ZXh0LTM6IzZhNmE2YTstLWNhbGNpdGUtY29sb3ItdGV4dC1pbnZlcnNlOiNmZmZmZmY7LS1jYWxjaXRlLWNvbG9yLXRleHQtbGluazojMDA2MTliOy0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMTojY2FjYWNhOy0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMjojZDRkNGQ0Oy0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMzojZGZkZmRmOy0tY2FsY2l0ZS1jb2xvci1ib3JkZXItaW5wdXQ6Izk0OTQ5NDstLXJmeC1xdWFydGVyLXNwYWNpbmc6MC4yNXJlbTstLXJmeC1oYWxmLXNwYWNpbmc6MC41cmVtOy0tcmZ4LXRocmVlLXF1YXJ0ZXItc3BhY2luZzowLjc1cmVtOy0tcmZ4LWZ1bGwtc3BhY2luZzoxcmVtOy0tcmZ4LWNvbXBvbmVudC1kZWZhdWx0LXdpZHRoOjEwMCU7LS1yZngtdWktYm9yZGVyLWlucHV0OnZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTIpOy0tcmZ4LXBvcG92ZXItY29udGVudC1taW4taGVpZ2h0OjMwdmg7LS1yZngtcG9wb3Zlci1jb250ZW50LW1heC1oZWlnaHQ6NjB2aDstLXJmeC1wb3BvdmVyLWNvbnRlbnQtaGVpZ2h0OjQ1dmg7LS1yZngtd2lkZ2V0LWNvbnRlbnQtaGVpZ2h0OjMwdmh9LnJmeC1jdGUtdHJhbnNwb3NlLWJpdF9fb3V0cHV0Qml0LWNvbHVtbnt3aWR0aDo1MCV9XCI7XG5cbmNvbnN0IFJGeEN0ZVRyYW5zcG9zZUJpdCA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMucmZ4QXJndW1lbnRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInJmeEFyZ3VtZW50Q2hhbmdlXCIsIDcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlZmVyZW5jZSBlbGVtZW50cyBmb3IgdGhlIHdpZGdldCBjb250YWlucyBQYXJhbXRlciByZWZlcmVuY2UgYW5kIGxhYmVscy5cbiAgICAgICAgICogQGNhdGVnb3J5IFByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWlFbGVtZW50cyA9IHtcbiAgICAgICAgICAgIHdpZGdldExhYmVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3aWRnZXRDb250YWluZXI6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBTY2hlbWFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JpZFNjaGVtYSA9IHtcbiAgICAgICAgICAgIGdyaWRMYXlvdXQ6IHt9LFxuICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IFtdLFxuICAgICAgICAgICAgaGFzQm9yZGVyOiB0cnVlLFxuICAgICAgICAgICAgaGFzSGVhZGVyOiB0cnVlLFxuICAgICAgICAgICAgY2FuQWRkOiBmYWxzZSxcbiAgICAgICAgICAgIGhhc0lkQ29sdW1uOiBmYWxzZSxcbiAgICAgICAgICAgIGNhblJlbW92ZTogZmFsc2UsXG4gICAgICAgICAgICBpc1N0YWNrZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcmUgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBldmVudCBoYW5kbGVycyBmb3IgaGVscCBhY3Rpb24gY2xpY2ssIHN0b3JlZCBpbiBjb25uZWN0ZWQgY2FsbGJhY2sgdG8gYXZvaWRcbiAgICAgICAgICogZmV0Y2hpbmcgZnVuY3Rpb24gb24gZWFjaCByZW5kZXIgKCB0byBhdm9pZCBjb21tb24gYmFkIHByYWN0aWNlIClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVscEFjdGlvbkNsaWNrRXZlbnRIYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVCaXRQYXR0ZXJuQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYml0UGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgICAgICB0aGlzLndpZGdldEFyZ3MucmZ4QXJncy5RdWFsaXR5Q2xhc3MgPSB0aGlzLmJpdFBhdHRlcm47XG4gICAgICAgICAgICBjb25zdCBncmlkU3RvcmUgPSB0aGlzLmNyZWF0ZURhdGFPYmplY3RzKHRoaXMuYml0UGF0dGVybik7XG4gICAgICAgICAgICB0aGlzLmdyaWRTdG9yZSA9IGdyaWRTdG9yZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVHcmlkVmFsdWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV0YWlsOiB7IGdyaWRPcHRpb25zIH0gfSA9IGV2ZW50O1xuICAgICAgICAgICAgaWYgKGlzRW1wdHlEYXRhSXRlbShncmlkT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBncmlkU3RvcmUgPSB0aGlzLmdyaWRTdG9yZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFN0b3JlID0gWy4uLmdyaWRTdG9yZV07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2lkZ2V0QXJncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ncmlkU3RvcmUgPSBbXTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gIExpZmVjeWNsZVxuICAgIC8vXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICAoeyBzdHJpbmdzOiB0aGlzLnN0cmluZ3MsIGRpcjogdGhpcy5kaXJlY3Rpb24gfSA9IGF3YWl0IGZldGNoQ29tcG9uZW50TG9jYWxlU3RyaW5ncyh0aGlzLmhvc3RFbGVtZW50LCBnZXRBc3NldFBhdGgoXCIuXCIpKSk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0dXBJbml0aWFsU3RhdGUodGhpcy53aWRnZXRBcmdzKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pbml0R3JpZCgpO1xuICAgICAgICB0aGlzLnNldFdpZGdldFZhbHVlKHRoaXMud2lkZ2V0QXJncyk7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoSGVscENsaWNrRXZlbnRIYW5kbGVycyh0aGlzLndpZGdldEFyZ3MpO1xuICAgIH1cbiAgICBnZXQgaXNCaXRQYXR0ZXJuVXNlckRlZmluZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdFBhdHRlcm4gPT09IFwicWNicF9Vc2VyRGVmaW5lZFwiO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyAgUHJpdmF0ZSBNZXRob2RzXG4gICAgLy9cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgc2V0dXBJbml0aWFsU3RhdGUoeyByZnhBcmdzIH0pIHtcbiAgICAgICAgLy8gU2V0IHVpRWxlbWVudHMgbGFiZWxzIGFuZCBjb250YWluZXJzXG4gICAgICAgIHRoaXMudWlFbGVtZW50cy53aWRnZXRMYWJlbCA9IHRoaXMuc3RyaW5ncy5iaXRQYXR0ZXJuO1xuICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdG9yZVxuICAgICAgICAvLyBjb25zdCBlbnVtRGF0YSA9IHJmeFV0aWxzLmNvZXJjZUVudW1EYXRhRm9yQ3VycmVudEVudih0aGlzLnJmeEFyZ3MsIGlucHV0QXJnRG9tYWluLmVudW0sIHRoaXMucG9ydGFsTW9kZSk7XG4gICAgICAgIGNvbnN0IGVudW1TdG9yZSA9IGF3YWl0IGdldEVudW1zKCk7XG4gICAgICAgIGNvbnN0IGVudW1EYXRhID0gZW51bVN0b3JlLmVzcmlUcmFuc3Bvc2VCaXRQYXR0ZXJucztcbiAgICAgICAgdGhpcy5zdG9yZSA9IGNsb25lRGF0YShlbnVtRGF0YSk7XG4gICAgICAgIHRoaXMuc3RvcmU/LmZvckVhY2goKGVudW1FbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBlbnVtRWxlbWVudC5rZXkgPSBlbnVtRWxlbWVudC5rZXkudG9TdHJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0VtcHR5RGF0YUl0ZW0odGhpcy5zdG9yZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEb21haW4gbGlzdCBFbnVtIG5vdCBzZXQhIENoZWNrIFNjaGVtYVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYml0UGF0dGVybiA9IHJmeEFyZ3M/LlF1YWxpdHlDbGFzcztcbiAgICAgICAgaWYgKGlzRW1wdHlEYXRhSXRlbShiaXRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgYml0UGF0dGVybiA9IHRoaXMuc3RvcmVbMF0ua2V5O1xuICAgICAgICAgICAgLy8gUXVhbGl0eUNsYXNzIGlzIGEgcHNldWRvIGVsZW1lbnQgdXNlZCBpbiBQcm9cbiAgICAgICAgICAgIHJmeEFyZ3MuUXVhbGl0eUNsYXNzID0gYml0UGF0dGVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpdFBhdHRlcm4gPSBiaXRQYXR0ZXJuO1xuICAgICAgICBjb25zdCBncmlkU3RvcmUgPSB0aGlzLmNyZWF0ZURhdGFPYmplY3RzKHRoaXMuYml0UGF0dGVybik7XG4gICAgICAgIHRoaXMuZ3JpZFN0b3JlID0gZ3JpZFN0b3JlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0W119IEFuIGFycmF5IG9mIGRhdGEgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBjcmVhdGVEYXRhT2JqZWN0cyhiaXRQYXR0ZXJuKSB7XG4gICAgICAgIGNvbnN0IHdpZGdldERhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA4IH0sIChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0Qml0ID0gU3RyaW5nKGluZGV4KTtcbiAgICAgICAgICAgIGxldCBpbnB1dEJpdCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0JpdFBhdHRlcm5Vc2VyRGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgSW5wdXRCaXRQb3NpdGlvbnMsIE91dHB1dEJpdFBvc2l0aW9ucyB9ID0gdGhpcy53aWRnZXRBcmdzLmlucHV0QXJncztcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEJpdHMgPSBJbnB1dEJpdFBvc2l0aW9ucy52YWx1ZSA/PyBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRCaXRzID0gT3V0cHV0Qml0UG9zaXRpb25zLnZhbHVlID8/IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IG91dHB1dEJpdHMuaW5kZXhPZihpbmRleCk7XG4gICAgICAgICAgICAgICAgaW5wdXRCaXQgPSBwb3MgPiAtMSA/IGlucHV0Qml0c1twb3NdIDogXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0Qml0SW5mbyA9IHRyYW5wb3NlSW5wdXRCaXRJbmZvW2JpdFBhdHRlcm5dO1xuICAgICAgICAgICAgICAgIGlucHV0Qml0ID0gaW5wdXRCaXRJbmZvW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICBvdXRwdXRCaXQsXG4gICAgICAgICAgICAgICAgaW5wdXRCaXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd2lkZ2V0RGF0YTtcbiAgICB9XG4gICAgaW5pdEdyaWQoKSB7XG4gICAgICAgIC8qIFNoZWxsIExheW91dFxuICAgICAgICAgKiB8IE91dHB1dCBCaXQgfCBJbnB1dCBCaXQgfFxuICAgICAgICAgKiB8IHN0cmluZyAgICAgfCBzdHJpbmcgICAgICB8IChkYXRhVHlwZSlcbiAgICAgICAgICogfCBmYWxzZSAgICAgIHwgZmFsc2UgICAgICAgfCAoaXNFZGl0YWJsZSkgKCBpbnB1dCBiaXQgaXMgZWRpdGFibGUgd2hlbiBwYXR0ZXJuIGlzIFwidXNlciBkZWZpbmVkXCIgKVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZ3JpZExheW91dCA9IHtcbiAgICAgICAgICAgIG91dHB1dEJpdDoge1xuICAgICAgICAgICAgICAgIHVpVHlwZTogR3JpZENvbHVtbi50ZXh0LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnN0cmluZ3Mub3V0cHV0Qml0LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBIVE1MQ2xhc3Nlcy5vdXRwdXRCaXRDb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dEJpdDoge1xuICAgICAgICAgICAgICAgIHVpVHlwZTogdGhpcy5pc0JpdFBhdHRlcm5Vc2VyRGVmaW5lZCA/IEdyaWRDb2x1bW4ubnVtYmVyIDogR3JpZENvbHVtbi50ZXh0LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnN0cmluZ3MuaW5wdXRCaXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZ3JpZE9wdGlvbnMgPSB0aGlzLmdyaWRTdG9yZTtcbiAgICAgICAgdGhpcy5ncmlkU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4udGhpcy5ncmlkU2NoZW1hLFxuICAgICAgICAgICAgZ3JpZExheW91dCxcbiAgICAgICAgICAgIGdyaWRPcHRpb25zXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNldFdpZGdldFZhbHVlKHsgaW5wdXRBcmdzIH0pIHtcbiAgICAgICAgY29uc3QgeyBpbnB1dEJpdCwgb3V0cHV0Qml0IH0gPSB0aGlzLmdyaWRTdG9yZS5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBzdG9yZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkTnVtYmVyKHBhcnNlTnVtYmVyKHN0b3JlSXRlbS5pbnB1dEJpdCkpKSB7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0b3IuaW5wdXRCaXQucHVzaChwYXJzZU51bWJlcihzdG9yZUl0ZW0uaW5wdXRCaXQpKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvci5vdXRwdXRCaXQucHVzaChwYXJzZU51bWJlcihzdG9yZUl0ZW0ub3V0cHV0Qml0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICAgIH0sIHsgaW5wdXRCaXQ6IFtdLCBvdXRwdXRCaXQ6IFtdIH0pO1xuICAgICAgICBjb25zdCB7IElucHV0Qml0UG9zaXRpb25zLCBPdXRwdXRCaXRQb3NpdGlvbnMgfSA9IGlucHV0QXJncztcbiAgICAgICAgSW5wdXRCaXRQb3NpdGlvbnMudmFsdWUgPSBpbnB1dEJpdDtcbiAgICAgICAgT3V0cHV0Qml0UG9zaXRpb25zLnZhbHVlID0gb3V0cHV0Qml0O1xuICAgIH1cbiAgICBhdHRhY2hIZWxwQ2xpY2tFdmVudEhhbmRsZXJzKHsgaGVscFRleHRJRHMgfSkge1xuICAgICAgICBjb25zdCBiaXRQYXR0ZXJuSGVscENsaWNrSGFuZGxlciA9IHRoaXMud2lkZ2V0QXJncy5vbkhlbHBBY3Rpb25DbGljayh7XG4gICAgICAgICAgICBoZWFkaW5nOiB0aGlzLnVpRWxlbWVudHMud2lkZ2V0TGFiZWwsXG4gICAgICAgICAgICByZWZlcmVuY2VFbGVtZW50OiB0aGlzLnVpRWxlbWVudHMud2lkZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgaGVscFRleHRJRDogaGVscFRleHRJRHMudHJhbnNwb3NlYml0c19iaXRwYXR0ZXJuXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhlbHBBY3Rpb25DbGlja0V2ZW50SGFuZGxlcnMuc2V0KEhlbHBDbGlja0hhbmRsZXJLZXlzLmJpdFBhdHRlcm5IZWxwQ2xpY2tIYW5kbGVyLCBiaXRQYXR0ZXJuSGVscENsaWNrSGFuZGxlcik7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIG51bGwsIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgYWxpZ25tZW50OiBcInN0YXJ0XCIsIHNjYWxlOiBVSURlZmF1bHRzLlNjYWxlLCBsYXlvdXQ6IFwiZGVmYXVsdFwiLCByZWY6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLndpZGdldENvbnRhaW5lciA9IGU7XG4gICAgICAgICAgICB9IH0sIGgoXCJyZngtbGFiZWxcIiwgeyBsYWJlbDogdGhpcy51aUVsZW1lbnRzLndpZGdldExhYmVsLCBvblJmeExhYmVsSGVscEFjdGlvbkNsaWNrOiAoKSA9PiB0aGlzLmhlbHBBY3Rpb25DbGlja0V2ZW50SGFuZGxlcnM/LmdldChIZWxwQ2xpY2tIYW5kbGVyS2V5cy5iaXRQYXR0ZXJuSGVscENsaWNrSGFuZGxlcikoKSB9KSwgaChcInJmeC1kdGV4LWNvbW1vbi1zZWxlY3RcIiwgeyBvcHRpb25zOiB0aGlzLnN0b3JlLCB2YWx1ZTogU3RyaW5nKHRoaXMuYml0UGF0dGVybiksIG9uUmZ4QXJndW1lbnRDaGFuZ2U6IHRoaXMuaGFuZGxlQml0UGF0dGVybkNoYW5nZSB9KSwgaChcInJmeC1ncmlkXCIsIHsgaGFzSGVhZGVyOiB0aGlzLmdyaWRTY2hlbWEuaGFzSGVhZGVyLCBjYW5BZGQ6IHRoaXMuZ3JpZFNjaGVtYS5jYW5BZGQsIGhhc0lkQ29sdW1uOiB0aGlzLmdyaWRTY2hlbWEuaGFzSWRDb2x1bW4sIGdyaWRMYXlvdXQ6IHRoaXMuZ3JpZFNjaGVtYS5ncmlkTGF5b3V0LCBncmlkT3B0aW9uczogdGhpcy5ncmlkU2NoZW1hLmdyaWRPcHRpb25zLCBoYXNCb3JkZXI6IHRoaXMuZ3JpZFNjaGVtYS5oYXNCb3JkZXIsIGNhblJlbW92ZTogdGhpcy5ncmlkU2NoZW1hLmNhblJlbW92ZSwgaXNTdGFja2VkOiB0aGlzLmdyaWRTY2hlbWEuaXNTdGFja2VkLCBvblJmeEdyaWRPcHRpb25DaGFuZ2U6IHRoaXMudXBkYXRlR3JpZFZhbHVlIH0pKSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGFzc2V0c0RpcnMoKSB7IHJldHVybiBbXCJ0OW5cIl07IH1cbiAgICBnZXQgaG9zdEVsZW1lbnQoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuUkZ4Q3RlVHJhbnNwb3NlQml0LnN0eWxlID0gcmZ4Q3RlVHJhbnNwb3NlQml0Q3NzO1xuXG5leHBvcnQgeyBSRnhDdGVUcmFuc3Bvc2VCaXQgYXMgUiB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZngtY3RlLXRyYW5zcG9zZS1iaXQtMGEyYjIwZDAuanMubWFwIiwiZXhwb3J0IHsgUiBhcyByZnhfY3RlX3RyYW5zcG9zZV9iaXQgfSBmcm9tICcuL3JmeC1jdGUtdHJhbnNwb3NlLWJpdC0wYTJiMjBkMC5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtZGExYjcxMzguanMnO1xuaW1wb3J0ICcuL2xvY2FsaXphdGlvbi1oZWxwZXItNDgxOWI2N2QuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvY29yZS9sYW5nLmpzJztcbmltcG9ydCAnLi9yZXNvdXJjZXMtMjdjNjZmNWMuanMnO1xuaW1wb3J0ICcuL3R5cGUtZ2F1cmRzLTE4NDA3NDdmLmpzJztcbmltcG9ydCAnLi9fZ2V0VGFnLTk2YWYwMjlkLmpzJztcbmltcG9ydCAnLi91aS11dGlscy05MjhhNDA5Ni5qcyc7XG5pbXBvcnQgJy4vaW50ZXJmYWNlcy1kMGM2ODk0NC5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9pZGVudGl0eS9JZGVudGl0eU1hbmFnZXIuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvY29yZS91cmxVdGlscy5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9sYXllcnMvTGF5ZXIuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvbGF5ZXJzL0ltYWdlcnlMYXllci5qcyc7XG5pbXBvcnQgJ0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvcmFzdGVyL3JlbmRlcmVycy9zdHJldGNoLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL3JlcXVlc3QuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L0FsZ29yaXRobWljQ29sb3JSYW1wLmpzJztcbmltcG9ydCAnQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9NdWx0aXBhcnRDb2xvclJhbXAuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvQ29sb3IuanMnO1xuaW1wb3J0ICcuL2NvbG9yUmFtcFV0aWxzLThiZGQ0NmM1LmpzJztcbmltcG9ydCAnLi9zYW5pdGl6ZS1udW1iZXItZDg0MTE0ZjcuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcmVzdC9nZW9wcm9jZXNzb3IuanMnO1xuaW1wb3J0ICdAYXJjZ2lzL2NvcmUvcG9ydGFsL1BvcnRhbEl0ZW0uanMnO1xuaW1wb3J0ICcuL211bHRpZGltZW5zaW9uYWwtaGVscGVyLWZjOGZiZTBlLmpzJztcbmltcG9ydCAnLi9fVWludDhBcnJheS02OGUxZTNmOS5qcyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJmeC1jdGUtdHJhbnNwb3NlLWJpdC5lbnRyeS5qcy5tYXAiLCJpbXBvcnQgeyBnIGFzIGdldExvY2FsZUluZm8gfSBmcm9tICcuL2xvY2FsaXphdGlvbi1oZWxwZXItNDgxOWI2N2QuanMnO1xuaW1wb3J0IHsgaSBhcyBpc0VtcHR5RGF0YUl0ZW0gfSBmcm9tICcuL3R5cGUtZ2F1cmRzLTE4NDA3NDdmLmpzJztcblxuLyoqXG4gKiBJbmRpY2F0ZXMgaWYgYSBwcm92aWRlZCBudW1iZXIgdmFsdWUgaXMgdmFsaWQuXG4gKiBBbiBpbnZhbGlkIHZhbHVlIGlzOiB1bmRlZmluZWQgfCBOYU4gfCBJbmZpbml0ZSB8IC1JbmZpbml0ZSB8IG51bGxcbiAqIFNlZSBmb3IgbW9yZSBkZXRhaWxzOlxuICogICAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0Zpbml0ZVxuICogICAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc05hTlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWQgfCBudWxsfSB2YWx1ZSB2YWx1ZSB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IGlmIHZhbGlkIG9yIG5vdFxuICovXG5mdW5jdGlvbiBpc1ZhbGlkTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgTnVtYmVyLmlzTmFOKHZhbHVlKSA9PT0gZmFsc2UgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKSA9PT0gdHJ1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHJvdmlkZWQgbnVtYmVyIGZvciB1c2Ugd2l0aCBjYWxjaXRlLWlucHV0LiBJdCBhbHNvXG4gKiBndWFyZHMgYWdhaW5zdCBpbnZhbGlkIHR5cGVzIGZvbGxvd2luZyB0aGlzIGxvZ2ljOlxuICogICAtIElmIHRoZSB2YWx1ZSBpcyB2YWxpZCAobm90IE5hTiwgZmluaXRlKSwgdGhlIHZhbHVlIGlzIHJldHVybmVkIGFzIGEgc3RyaW5nXG4gKiAgIC0gSWYgbm90IGFuZCBpZiBhIHZhbGlkIGRlZmF1bHQgdmFsdWUgaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHJldHVybmVkIGFzIGEgc3RyaW5nXG4gKiAgIC0gSWYgbm90LCBhbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWRcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICogQHJldHVybnMgYSBzYW5pdGl6ZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplTnVtYmVyKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBsZXQgcmV0dXJuZWRWYWx1ZTtcbiAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdGVzdGVkVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKGlzVmFsaWROdW1iZXIodGVzdGVkVmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IHRlc3RlZFZhbHVlO1xuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkTnVtYmVyKGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGAke3JldHVybmVkVmFsdWV9YDtcbn1cbi8qKlxuICogUGFyc2VzIGEgdmFsdWUgc3RyaW5nIHRvIGEgbnVtYmVyIGZvciB1c2Ugd2l0aCBjYWxjaXRlLWlucHV0LiBJZiB0aGUgc3RyaW5nIGlzIGVtcHR5LCBpdCB3aWxsIHJldHVybiB1bmRlZmluZWQuXG4gKiBJZiB0aGUgc3RyaW5nIGlzIG90aGVyd2lzZSBpbnZhbGlkLCBpdCB3aWxsIHJldHVybiBOYU4uXG4gKiBAcGFyYW0gdmFsdWUgY2FsY2l0ZS1pbnB1dCB2YWx1ZVxuICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH0gdGhlIHBhcnNlZCBudW1iZXJcbiAqL1xuZnVuY3Rpb24gcGFyc2VOdW1iZXIodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwiXCIpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKTtcbn1cbi8qKlxuICogRm9ybWF0cyBhIG51bWJlciB0byBhIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIG51bWJlciB0byBmb3JtYXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzPTNdIC0gVGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byBpbmNsdWRlIGluIHRoZSBmb3JtYXR0ZWQgbnVtYmVyLiBEZWZhdWx0cyB0byAzLlxuICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9IC0gVGhlIGZvcm1hdHRlZCBudW1iZXIsIG9yIHVuZGVmaW5lZCBpZiB0aGUgaW5wdXQgdmFsdWUgaXMgZW1wdHkuXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcih2YWx1ZSwgZnJhY3Rpb25EaWdpdHMgPSAzKSB7XG4gICAgaWYgKGlzRW1wdHlEYXRhSXRlbSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpKTtcbn1cbi8qKlxuICogRm9ybWF0cyBhIG51bWJlciBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGEgbnVtYmVyIGFjY29yZGluZyB0byB0aGUgbG9jYWxlLCBwYXNzaW5nIEludGwgbnVtYmVyIGZvcm1hdCBvcHRpb25zXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZUdsb2JhbF9PYmplY3RzL0ludGwvTnVtYmVyRm9ybWF0L051bWJlckZvcm1hdCNvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZyB8IHVuZGVmaW5lZH0gdmFsdWUgdG8gYmUgZm9ybWF0dGVkIGFuZCBsb2NhbGl6ZWRcbiAqIEBwYXJhbSB7SW50bC5OdW1iZXJGb3JtYXRPcHRpb25zfSBmb3JtYXRPcHRpb25zIG9wdGlvbnMgb2JqZWN0IG1hdGNoaW5nIEludGwuTnVtYmVyRm9ybWF0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBsb2NhbGl6ZWQgLyByb3VuZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBmb3JtYXROdW1iZXJUb0xvY2FsZSh2YWx1ZSwgZm9ybWF0T3B0aW9ucykge1xuICAgIGxldCBmb3JtYXR0ZWRWYWx1ZSA9IFwiXCI7XG4gICAgaWYgKCFpc0VtcHR5RGF0YUl0ZW0odmFsdWUpICYmICFOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsZUNvZGUgPSBnZXRMb2NhbGVJbmZvKCkubG9jYWxlO1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZUNvZGUsIGZvcm1hdE9wdGlvbnMpLmZvcm1hdChOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlO1xufVxuXG5leHBvcnQgeyBmb3JtYXROdW1iZXJUb0xvY2FsZSBhcyBhLCBmb3JtYXROdW1iZXIgYXMgZiwgaXNWYWxpZE51bWJlciBhcyBpLCBwYXJzZU51bWJlciBhcyBwLCBzYW5pdGl6ZU51bWJlciBhcyBzIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLW51bWJlci1kODQxMTRmNy5qcy5tYXAiLCJjb25zdCBVSURlZmF1bHRzID0ge1xuICAgIFNjYWxlOiBcInNcIixcbiAgICBQb3BvdmVyVGltZXI6IDYwXG59O1xuY29uc3QgQ2FsY2l0ZVNjYWxlID0ge1xuICAgIHM6IFwic1wiLFxuICAgIG06IFwibVwiXG59O1xuY29uc3QgQ2FsY2l0ZU92ZXJsYXlQb3NpdGlvbmluZyA9IHtcbiAgICBhYnNvbHV0ZTogXCJhYnNvbHV0ZVwiLFxuICAgIGZpeGVkOiBcImZpeGVkXCJcbn07XG5cbmV4cG9ydCB7IENhbGNpdGVTY2FsZSBhcyBDLCBVSURlZmF1bHRzIGFzIFUsIENhbGNpdGVPdmVybGF5UG9zaXRpb25pbmcgYXMgYSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11aS11dGlscy05MjhhNDA5Ni5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=