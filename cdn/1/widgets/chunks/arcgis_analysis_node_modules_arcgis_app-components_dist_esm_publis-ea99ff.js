"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_publis-ea99ff"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/publish-item-17d2f9a3.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/publish-item-17d2f9a3.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ appendTypeKeywords),
/* harmony export */   c: () => (/* binding */ checkJobStatus),
/* harmony export */   p: () => (/* binding */ publishService)
/* harmony export */ });
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tile-layer-cf04fa97.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js");
/* harmony import */ var _functional_81373f6d_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functional-81373f6d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-81373f6d.js");
/* harmony import */ var _geocode_64e0b0d3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./geocode-64e0b0d3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/geocode-64e0b0d3.js");
/* harmony import */ var _feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./feature-layer-573bb473.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-573bb473.js");
/* harmony import */ var _server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./server-item-8d384796.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-8d384796.js");
/* harmony import */ var _portal_d518b571_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./portal-d518b571.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-d518b571.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */










// TODO: remove store reliance
async function appendTypeKeywords(publishResponse, portalUser) {
    var _a;
    const user = (_a = portalUser !== null && portalUser !== void 0 ? portalUser : _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__.c.user) !== null && _a !== void 0 ? _a : _config_75adf962_js__WEBPACK_IMPORTED_MODULE_0__.c.portal.user;
    const { cloudProviderResource, geoJSONResource, locationType, csvResource, existingItem } = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a;
    const { result: item } = await (0,_server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_7__.a)(publishResponse.id);
    const updatedTypeKeywords = [...item.typeKeywords];
    if (cloudProviderResource || geoJSONResource || csvResource) {
        updatedTypeKeywords.push("Cloud Drive");
    }
    if (locationType === "address") {
        updatedTypeKeywords.push("showUnmatchedAddresses");
    }
    if (["3DTiles Package", "3DTiles Service"].includes(item.type)) {
        // On add + publish, set the typekeyword based on the selected layer type
        if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.tileLayerPublishType === "3dTiles") {
            updatedTypeKeywords.push(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.tilesLayer3dTilesLayerType);
        }
        else if (!!existingItem) {
            // On only publish, set the typekeyword based on the layer type originally set on the source package
            const tilesLayer3dTypekeyword = [...existingItem.typeKeywords].find((keyword) => 
            // @ts-ignore
            _tile_layer_cf04fa97_js__WEBPACK_IMPORTED_MODULE_3__.t.includes(keyword));
            tilesLayer3dTypekeyword && updatedTypeKeywords.push(tilesLayer3dTypekeyword);
        }
    }
    return (0,_server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_7__.u)(publishResponse.id, {
        typeKeywords: updatedTypeKeywords === null || updatedTypeKeywords === void 0 ? void 0 : updatedTypeKeywords.join(",")
    }, user);
}
async function checkJobStatus(response) {
    const jobStatus = await (0,_feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_6__.x)(response.id, { success: response.success });
    if (jobStatus.status === "failed") {
        throw new Error(jobStatus.statusMessage);
    }
}
function fieldTypeToSQLtype(fieldType) {
    switch (fieldType) {
        case "esriFieldTypeDouble":
            return "sqlTypeDouble";
        case "esriFieldTypeInteger":
        case "esriFieldTypeOID":
            return "sqlTypeInteger";
        case "esriFieldTypeString":
            return "sqlTypeNVarchar";
        case "esriFieldTypeSingle":
            return "sqlTypeFloat";
        case "esriFieldTypeSmallInteger":
            return "sqlTypeSmallInt";
        case "esriFieldTypeDate":
            return "sqlTypeDate";
        default:
            return "sqlTypeOther";
    }
}
function isNumericFieldType(fieldType) {
    const numericFieldTypes = [
        "esriFieldTypeDouble",
        "esriFieldTypeInteger",
        "esriFieldTypeSingle",
        "esriFieldTypeSmallInteger"
    ];
    return numericFieldTypes.includes(fieldType);
}
function getCSVPublishParameters(name, isExcel) {
    const { selectedFields, timezone, analyzeResults, type } = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a;
    const publishParameters = analyzeResults.publishParameters;
    const layerInfo = (0,_geocode_64e0b0d3_js__WEBPACK_IMPORTED_MODULE_5__.a)();
    layerInfo.fields = Object.keys(selectedFields).map((key) => {
        const field = selectedFields[key];
        // WebGIS/arcgis-portal-app#40237
        // if we have a numeric field type, ensure that the sql type is correct
        if (isNumericFieldType(field.type)) {
            field.sqlType = fieldTypeToSQLtype(field.type);
            delete field.length;
        }
        return field;
    });
    layerInfo.capabilities = "Query";
    publishParameters.capabilities = "Query";
    layerInfo.hasStaticData = true;
    publishParameters.hasStaticData = true;
    publishParameters.persistErrorRecordsForReview = true;
    publishParameters.name = name;
    const dateFieldsTimeReference = {
        timeZone: timezone || "UTC"
    };
    if (isExcel || type === "GeoJson") {
        layerInfo.dateFieldsTimeReference = dateFieldsTimeReference;
    }
    else {
        publishParameters.dateFieldsTimeReference = dateFieldsTimeReference;
    }
    return publishParameters;
}
function getPublishParameters(itemId, name, extension, type, dataUrl) {
    // #35758 - hosted items cannot have spaces
    name = (0,_functional_81373f6d_js__WEBPACK_IMPORTED_MODULE_4__.a)(name);
    let ext = extension.toLowerCase();
    // use the type instead of the extension for zip files to disambiguate
    if (ext === "zip") {
        ext = type;
    }
    const isExcel = type === "Microsoft Excel";
    const baseParameters = {
        name,
        maxRecordCount: 2000
    };
    const isGeoJSONOrCSVFromUrl = (type === "GeoJson" || type === "CSV") && dataUrl;
    const isCloud = !!_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_1__.a.cloudProvider;
    const deleteSourceItem = isCloud || isGeoJSONOrCSVFromUrl ? { deleteSourceItemUponCompletion: true } : {};
    const publishParameters = JSON.stringify(baseParameters);
    const publishParametersWithQuery = JSON.stringify(Object.assign(Object.assign({}, baseParameters), { hasStaticData: true, layerInfo: { capabilities: "Query" } }));
    switch (ext) {
        case "3tz":
            return { itemId, publishParameters: JSON.stringify({ name }), filetype: "3DTiles Service" };
        case "csv":
        case "xls":
        case "xlsx":
            return Object.assign({ itemId, filetype: isExcel ? "excel" : "csv", publishParameters: JSON.stringify(getCSVPublishParameters(name, isExcel)) }, deleteSourceItem);
        case "featurecollection":
            return {
                itemId,
                filetype: "featureCollection",
                publishParameters: publishParametersWithQuery
            };
        case "geojson":
        case "json":
            return Object.assign({ itemId, filetype: "geojson", publishParameters: publishParametersWithQuery }, deleteSourceItem);
        case "tpk":
        case "tpkx":
            return {
                itemId,
                filetype: "tilePackage",
                publishParameters,
                buildInitialCache: true
            };
        case "vtpk":
            return {
                itemId,
                filetype: "vectortilepackage",
                publishParameters,
                outputType: "vectorTiles",
                buildInitialCache: true
            };
        case "spk":
        case "slpk":
            return {
                itemId,
                filetype: "scenepackage",
                publishParameters,
                outputType: "sceneService",
                buildInitialCache: true
            };
        case "sd":
            return {
                itemId,
                filetype: "serviceDefinition",
                buildInitialCache: false
            };
        case "File Geodatabase":
            return Object.assign({ itemId, filetype: "fileGeodatabase", publishParameters: publishParametersWithQuery }, deleteSourceItem);
        case "Shapefile":
            return Object.assign({ itemId, filetype: "shapefile", publishParameters: publishParametersWithQuery }, deleteSourceItem);
        case "gpkg":
            return {
                itemId,
                filetype: "geoPackage",
                publishParameters
            };
        case "Image Collection":
            return {
                itemId,
                filetype: "imageCollection",
                outputType: "image service",
                publishParameters
            };
        default:
            return { itemId, publishParameters };
    }
}
async function publishService(args, publishParameters) {
    var _a, _b, _c, _d;
    const { user, title, itemId, extension, type, dataUrl, itemOwnerUrl } = args;
    publishParameters !== null && publishParameters !== void 0 ? publishParameters : (publishParameters = Object.assign({}, getPublishParameters(itemId, title, extension, type, dataUrl)));
    const userContentUrl = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_2__.u.workflow === "append" ? itemOwnerUrl : user.userContentUrl; //For R02 Patch
    const url = `${userContentUrl}/publish`;
    try {
        const response = await (0,_portal_d518b571_js__WEBPACK_IMPORTED_MODULE_8__.r)(url, publishParameters, {}, "post");
        if (!response.services || !response.services.length) {
            throw this.i18n.errorPublishing;
        }
        else if ((_b = (_a = response.services[0]) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.message) {
            throw (_d = (_c = response.services[0]) === null || _c === void 0 ? void 0 : _c.error) === null || _d === void 0 ? void 0 : _d.message;
        }
        else {
            return { result: response };
        }
    }
    catch (error) {
        console.error(error);
        if (error.includes("Service name")) {
            return { error: { code: "serviceNameExists" } };
        }
        return { error: { code: "unhandledError" } };
    }
}



//# sourceMappingURL=publish-item-17d2f9a3.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-cf04fa97.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE),
/* harmony export */   T: () => (/* binding */ TILE_LAYER_SCALE_MIN),
/* harmony export */   a: () => (/* binding */ presetRasterTileCacheInfo),
/* harmony export */   b: () => (/* binding */ presetVectorTileImageInfo),
/* harmony export */   c: () => (/* binding */ presetRasterTileImageInfo),
/* harmony export */   d: () => (/* binding */ tileLayerTypes),
/* harmony export */   e: () => (/* binding */ TILE_LAYER_SCALE_MAX),
/* harmony export */   f: () => (/* binding */ tileLayerBasemaps),
/* harmony export */   g: () => (/* binding */ presetLods),
/* harmony export */   p: () => (/* binding */ presetVectorTileCacheInfo),
/* harmony export */   t: () => (/* binding */ tilesLayer3dTilesLayerTypes)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const tileLayerBasemaps = ["standard", "custom"];
const tilesLayer3dTilesLayerTypes = ["IntegratedMesh", "3DObject"];
const DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE = tilesLayer3dTilesLayerTypes[0];
const tileLayerTypes = ["vector", "raster", "3dTiles"];
// TODO: switch this back once the SettingTileLayer supports this number
// export const TILE_LAYER_SCALE_MIN = 591657527.591555;
const TILE_LAYER_SCALE_MIN = 147914382;
const TILE_LAYER_SCALE_MAX = 0;
const presetLods = [
    { level: 0, label: "1:591,657,528", scale: 591657527.591555 },
    { level: 1, label: "1:295,828,764", scale: 295828763.795777 },
    { level: 2, label: "1:147,914,382", scale: 147914381.897889 },
    { level: 3, label: "1:73,957,191", scale: 73957190.948944 },
    { level: 4, label: "1:36,978,595", scale: 36978595.474472 },
    { level: 5, label: "1:18,489,298", scale: 18489297.737236 },
    { level: 6, label: "1:9,244,649", scale: 9244648.868618 },
    { level: 7, label: "1:4,622,324", scale: 4622324.434309 },
    { level: 8, label: "1:2,311,162", scale: 2311162.217155 },
    { level: 9, label: "1:1,155,581", scale: 1155581.108577 },
    { level: 10, label: "1:577,791", scale: 577790.554289 },
    { level: 11, label: "1:288,895", scale: 288895.277144 },
    { level: 12, label: "1:144,448", scale: 144447.638572 },
    { level: 13, label: "1:72,224", scale: 72223.819286 },
    { level: 14, label: "1:36,112", scale: 36111.909643 },
    { level: 15, label: "1:18,056", scale: 18055.954822 },
    { level: 16, label: "1:9,028", scale: 9027.977411 },
    { level: 17, label: "1:4,514", scale: 4513.988705 },
    { level: 18, label: "1:2,257", scale: 2256.994353 },
    { level: 19, label: "1:1,128", scale: 1128.497176 },
    { level: 20, label: "1:564", scale: 564.248588 },
    { level: 21, label: "1:282", scale: 282.124294 },
    { level: 22, label: "1:141", scale: 141.062147 }
];
const presetRasterTileCacheInfo = {
    spatialReference: { wkid: 102100, latestWkid: 3857 },
    origin: { x: -20037508.342787, y: 20037508.342787 },
    rows: 256,
    cols: 256,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 156543.033928, scale: 591657527.591555 },
        { level: 1, resolution: 78271.5169639999, scale: 295828763.795777 },
        { level: 2, resolution: 39135.7584820001, scale: 147914381.897889 },
        { level: 3, resolution: 19567.8792409999, scale: 73957190.948944 },
        { level: 4, resolution: 9783.93962049996, scale: 36978595.474472 },
        { level: 5, resolution: 4891.96981024998, scale: 18489297.737236 },
        { level: 6, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 7, resolution: 1222.99245256249, scale: 4622324.434309 },
        { level: 8, resolution: 611.49622628138, scale: 2311162.217155 },
        { level: 9, resolution: 305.748113140558, scale: 1155581.108577 },
        { level: 10, resolution: 152.874056570411, scale: 577790.554289 },
        { level: 11, resolution: 76.4370282850732, scale: 288895.277144 },
        { level: 12, resolution: 38.2185141425366, scale: 144447.638572 },
        { level: 13, resolution: 19.1092570712683, scale: 72223.819286 },
        { level: 14, resolution: 9.55462853563415, scale: 36111.909643 },
        { level: 15, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 16, resolution: 2.38865713397468, scale: 9027.977411 },
        { level: 17, resolution: 1.19432856685505, scale: 4513.988705 },
        { level: 18, resolution: 0.597164283559817, scale: 2256.994353 },
        { level: 19, resolution: 0.298582141647617, scale: 1128.497176 },
        { level: 20, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 21, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 22, resolution: 0.03732276770595208, scale: 141.062147 }
    ]
};
const presetVectorTileCacheInfo = {
    spatialReference: {
        wkid: 102100,
        latestWkid: 3857
    },
    origin: {
        x: -2.0037508342787e7,
        y: 2.0037508342787e7
    },
    rows: 512,
    cols: 512,
    dpi: 96,
    preciseDpi: 96,
    lods: [
        { level: 0, resolution: 78271.51696399994, scale: 2.95828763795777e8 },
        { level: 1, resolution: 39135.75848200009, scale: 1.47914381897889e8 },
        { level: 2, resolution: 19567.87924099992, scale: 7.3957190948944e7 },
        { level: 3, resolution: 9783.93962049996, scale: 3.6978595474472e7 },
        { level: 4, resolution: 4891.96981024998, scale: 1.8489297737236e7 },
        { level: 5, resolution: 2445.98490512499, scale: 9244648.868618 },
        { level: 6, resolution: 1222.992452562495, scale: 4622324.434309 },
        { level: 7, resolution: 611.4962262813797, scale: 2311162.217155 },
        { level: 8, resolution: 305.74811314055756, scale: 1155581.108577 },
        { level: 9, resolution: 152.87405657041106, scale: 577790.554289 },
        { level: 10, resolution: 76.43702828507324, scale: 288895.277144 },
        { level: 11, resolution: 38.21851414253662, scale: 144447.638572 },
        { level: 12, resolution: 19.10925707126831, scale: 72223.819286 },
        { level: 13, resolution: 9.554628535634155, scale: 36111.909643 },
        { level: 14, resolution: 4.77731426794937, scale: 18055.954822 },
        { level: 15, resolution: 2.388657133974685, scale: 9027.977411 },
        { level: 16, resolution: 1.1943285668550503, scale: 4513.988705 },
        { level: 17, resolution: 0.5971642835598172, scale: 2256.994353 },
        { level: 18, resolution: 0.29858214164761665, scale: 1128.497176 },
        { level: 19, resolution: 0.14929107082380833, scale: 564.248588 },
        { level: 20, resolution: 0.07464553541190416, scale: 282.124294 },
        { level: 21, resolution: 0.03732276770595208, scale: 141.062147 },
        { level: 22, resolution: 0.01866138385297604, scale: 70.5310735 },
        { level: 23, resolution: 0.0093306919293428040466217365, scale: 35.265536760789715032412079626 }
    ]
};
const presetVectorTileImageInfo = {
    format: "indexedVector",
    compressionQuality: 0,
    antialiasing: false
};
const presetRasterTileImageInfo = {
    format: "PNG32",
    compressionQuality: 0,
    antialiasing: true
};



//# sourceMappingURL=tile-layer-cf04fa97.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fcHVibGlzLWVhOTlmZi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3RDtBQUNHO0FBQ047QUFDdUI7QUFDYjtBQUNHO0FBQ0Q7QUFDUztBQUN0Qjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLGtEQUFXLHdDQUF3QyxrREFBVztBQUNqSixZQUFZLGtGQUFrRixFQUFFLG9EQUFZO0FBQzVHLFlBQVksZUFBZSxRQUFRLDJEQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQVk7QUFDeEIscUNBQXFDLG9EQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxXQUFXLDJEQUFVO0FBQ3JCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQWEsZ0JBQWdCLDJCQUEyQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFpRCxFQUFFLG9EQUFZO0FBQzNFO0FBQ0Esc0JBQXNCLHVEQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ3pFLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9FQUFvRTtBQUM5RSxVQUFVLG9FQUFvRTtBQUM5RSxVQUFVLG1FQUFtRTtBQUM3RSxVQUFVLGtFQUFrRTtBQUM1RSxVQUFVLGtFQUFrRTtBQUM1RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGlFQUFpRTtBQUMzRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLDhEQUE4RDtBQUN4RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLGdFQUFnRTtBQUMxRSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVLCtEQUErRDtBQUN6RSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2VTs7QUFFN1UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9wdWJsaXNoLWl0ZW0tMTdkMmY5YTMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGlsZS1sYXllci1jZjA0ZmE5Ny5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmltcG9ydCB7IGMgYXMgY29uZmlnU3RhdGUgfSBmcm9tICcuL2NvbmZpZy03NWFkZjk2Mi5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tZGJiZTJmNTcuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWJjYTdiY2QxLmpzJztcbmltcG9ydCB7IHQgYXMgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzIH0gZnJvbSAnLi90aWxlLWxheWVyLWNmMDRmYTk3LmpzJztcbmltcG9ydCB7IGEgYXMgZm9ybWF0RmlsZU5hbWUgfSBmcm9tICcuL2Z1bmN0aW9uYWwtODEzNzNmNmQuanMnO1xuaW1wb3J0IHsgYSBhcyBnZXRBbmFseXplZExheWVySW5mbyB9IGZyb20gJy4vZ2VvY29kZS02NGUwYjBkMy5qcyc7XG5pbXBvcnQgeyB4IGFzIGdldEl0ZW1TdGF0dXMgfSBmcm9tICcuL2ZlYXR1cmUtbGF5ZXItNTczYmI0NzMuanMnO1xuaW1wb3J0IHsgdSBhcyB1cGRhdGVJdGVtLCBhIGFzIGdldEl0ZW0gfSBmcm9tICcuL3NlcnZlci1pdGVtLThkMzg0Nzk2LmpzJztcbmltcG9ydCB7IHIgYXMgcmVxdWVzdCB9IGZyb20gJy4vcG9ydGFsLWQ1MThiNTcxLmpzJztcblxuLy8gVE9ETzogcmVtb3ZlIHN0b3JlIHJlbGlhbmNlXG5hc3luYyBmdW5jdGlvbiBhcHBlbmRUeXBlS2V5d29yZHMocHVibGlzaFJlc3BvbnNlLCBwb3J0YWxVc2VyKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHVzZXIgPSAoX2EgPSBwb3J0YWxVc2VyICE9PSBudWxsICYmIHBvcnRhbFVzZXIgIT09IHZvaWQgMCA/IHBvcnRhbFVzZXIgOiBjb25maWdTdGF0ZS51c2VyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25maWdTdGF0ZS5wb3J0YWwudXNlcjtcbiAgICBjb25zdCB7IGNsb3VkUHJvdmlkZXJSZXNvdXJjZSwgZ2VvSlNPTlJlc291cmNlLCBsb2NhdGlvblR5cGUsIGNzdlJlc291cmNlLCBleGlzdGluZ0l0ZW0gfSA9IGFkZEl0ZW1TdGF0ZTtcbiAgICBjb25zdCB7IHJlc3VsdDogaXRlbSB9ID0gYXdhaXQgZ2V0SXRlbShwdWJsaXNoUmVzcG9uc2UuaWQpO1xuICAgIGNvbnN0IHVwZGF0ZWRUeXBlS2V5d29yZHMgPSBbLi4uaXRlbS50eXBlS2V5d29yZHNdO1xuICAgIGlmIChjbG91ZFByb3ZpZGVyUmVzb3VyY2UgfHwgZ2VvSlNPTlJlc291cmNlIHx8IGNzdlJlc291cmNlKSB7XG4gICAgICAgIHVwZGF0ZWRUeXBlS2V5d29yZHMucHVzaChcIkNsb3VkIERyaXZlXCIpO1xuICAgIH1cbiAgICBpZiAobG9jYXRpb25UeXBlID09PSBcImFkZHJlc3NcIikge1xuICAgICAgICB1cGRhdGVkVHlwZUtleXdvcmRzLnB1c2goXCJzaG93VW5tYXRjaGVkQWRkcmVzc2VzXCIpO1xuICAgIH1cbiAgICBpZiAoW1wiM0RUaWxlcyBQYWNrYWdlXCIsIFwiM0RUaWxlcyBTZXJ2aWNlXCJdLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcbiAgICAgICAgLy8gT24gYWRkICsgcHVibGlzaCwgc2V0IHRoZSB0eXBla2V5d29yZCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgbGF5ZXIgdHlwZVxuICAgICAgICBpZiAoYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hUeXBlID09PSBcIjNkVGlsZXNcIikge1xuICAgICAgICAgICAgdXBkYXRlZFR5cGVLZXl3b3Jkcy5wdXNoKGFkZEl0ZW1TdGF0ZS50aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoISFleGlzdGluZ0l0ZW0pIHtcbiAgICAgICAgICAgIC8vIE9uIG9ubHkgcHVibGlzaCwgc2V0IHRoZSB0eXBla2V5d29yZCBiYXNlZCBvbiB0aGUgbGF5ZXIgdHlwZSBvcmlnaW5hbGx5IHNldCBvbiB0aGUgc291cmNlIHBhY2thZ2VcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzTGF5ZXIzZFR5cGVrZXl3b3JkID0gWy4uLmV4aXN0aW5nSXRlbS50eXBlS2V5d29yZHNdLmZpbmQoKGtleXdvcmQpID0+IFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzLmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgICAgICAgICAgIHRpbGVzTGF5ZXIzZFR5cGVrZXl3b3JkICYmIHVwZGF0ZWRUeXBlS2V5d29yZHMucHVzaCh0aWxlc0xheWVyM2RUeXBla2V5d29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW0ocHVibGlzaFJlc3BvbnNlLmlkLCB7XG4gICAgICAgIHR5cGVLZXl3b3JkczogdXBkYXRlZFR5cGVLZXl3b3JkcyA9PT0gbnVsbCB8fCB1cGRhdGVkVHlwZUtleXdvcmRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cGRhdGVkVHlwZUtleXdvcmRzLmpvaW4oXCIsXCIpXG4gICAgfSwgdXNlcik7XG59XG5hc3luYyBmdW5jdGlvbiBjaGVja0pvYlN0YXR1cyhyZXNwb25zZSkge1xuICAgIGNvbnN0IGpvYlN0YXR1cyA9IGF3YWl0IGdldEl0ZW1TdGF0dXMocmVzcG9uc2UuaWQsIHsgc3VjY2VzczogcmVzcG9uc2Uuc3VjY2VzcyB9KTtcbiAgICBpZiAoam9iU3RhdHVzLnN0YXR1cyA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioam9iU3RhdHVzLnN0YXR1c01lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpZWxkVHlwZVRvU1FMdHlwZShmaWVsZFR5cGUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZURvdWJsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3FsVHlwZURvdWJsZVwiO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZUludGVnZXJcIjpcbiAgICAgICAgY2FzZSBcImVzcmlGaWVsZFR5cGVPSURcIjpcbiAgICAgICAgICAgIHJldHVybiBcInNxbFR5cGVJbnRlZ2VyXCI7XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlU3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzcWxUeXBlTlZhcmNoYXJcIjtcbiAgICAgICAgY2FzZSBcImVzcmlGaWVsZFR5cGVTaW5nbGVcIjpcbiAgICAgICAgICAgIHJldHVybiBcInNxbFR5cGVGbG9hdFwiO1xuICAgICAgICBjYXNlIFwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3FsVHlwZVNtYWxsSW50XCI7XG4gICAgICAgIGNhc2UgXCJlc3JpRmllbGRUeXBlRGF0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3FsVHlwZURhdGVcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcInNxbFR5cGVPdGhlclwiO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTnVtZXJpY0ZpZWxkVHlwZShmaWVsZFR5cGUpIHtcbiAgICBjb25zdCBudW1lcmljRmllbGRUeXBlcyA9IFtcbiAgICAgICAgXCJlc3JpRmllbGRUeXBlRG91YmxlXCIsXG4gICAgICAgIFwiZXNyaUZpZWxkVHlwZUludGVnZXJcIixcbiAgICAgICAgXCJlc3JpRmllbGRUeXBlU2luZ2xlXCIsXG4gICAgICAgIFwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwiXG4gICAgXTtcbiAgICByZXR1cm4gbnVtZXJpY0ZpZWxkVHlwZXMuaW5jbHVkZXMoZmllbGRUeXBlKTtcbn1cbmZ1bmN0aW9uIGdldENTVlB1Ymxpc2hQYXJhbWV0ZXJzKG5hbWUsIGlzRXhjZWwpIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkRmllbGRzLCB0aW1lem9uZSwgYW5hbHl6ZVJlc3VsdHMsIHR5cGUgfSA9IGFkZEl0ZW1TdGF0ZTtcbiAgICBjb25zdCBwdWJsaXNoUGFyYW1ldGVycyA9IGFuYWx5emVSZXN1bHRzLnB1Ymxpc2hQYXJhbWV0ZXJzO1xuICAgIGNvbnN0IGxheWVySW5mbyA9IGdldEFuYWx5emVkTGF5ZXJJbmZvKCk7XG4gICAgbGF5ZXJJbmZvLmZpZWxkcyA9IE9iamVjdC5rZXlzKHNlbGVjdGVkRmllbGRzKS5tYXAoKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZCA9IHNlbGVjdGVkRmllbGRzW2tleV07XG4gICAgICAgIC8vIFdlYkdJUy9hcmNnaXMtcG9ydGFsLWFwcCM0MDIzN1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbnVtZXJpYyBmaWVsZCB0eXBlLCBlbnN1cmUgdGhhdCB0aGUgc3FsIHR5cGUgaXMgY29ycmVjdFxuICAgICAgICBpZiAoaXNOdW1lcmljRmllbGRUeXBlKGZpZWxkLnR5cGUpKSB7XG4gICAgICAgICAgICBmaWVsZC5zcWxUeXBlID0gZmllbGRUeXBlVG9TUUx0eXBlKGZpZWxkLnR5cGUpO1xuICAgICAgICAgICAgZGVsZXRlIGZpZWxkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfSk7XG4gICAgbGF5ZXJJbmZvLmNhcGFiaWxpdGllcyA9IFwiUXVlcnlcIjtcbiAgICBwdWJsaXNoUGFyYW1ldGVycy5jYXBhYmlsaXRpZXMgPSBcIlF1ZXJ5XCI7XG4gICAgbGF5ZXJJbmZvLmhhc1N0YXRpY0RhdGEgPSB0cnVlO1xuICAgIHB1Ymxpc2hQYXJhbWV0ZXJzLmhhc1N0YXRpY0RhdGEgPSB0cnVlO1xuICAgIHB1Ymxpc2hQYXJhbWV0ZXJzLnBlcnNpc3RFcnJvclJlY29yZHNGb3JSZXZpZXcgPSB0cnVlO1xuICAgIHB1Ymxpc2hQYXJhbWV0ZXJzLm5hbWUgPSBuYW1lO1xuICAgIGNvbnN0IGRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlID0ge1xuICAgICAgICB0aW1lWm9uZTogdGltZXpvbmUgfHwgXCJVVENcIlxuICAgIH07XG4gICAgaWYgKGlzRXhjZWwgfHwgdHlwZSA9PT0gXCJHZW9Kc29uXCIpIHtcbiAgICAgICAgbGF5ZXJJbmZvLmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlID0gZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwdWJsaXNoUGFyYW1ldGVycy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSA9IGRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlO1xuICAgIH1cbiAgICByZXR1cm4gcHVibGlzaFBhcmFtZXRlcnM7XG59XG5mdW5jdGlvbiBnZXRQdWJsaXNoUGFyYW1ldGVycyhpdGVtSWQsIG5hbWUsIGV4dGVuc2lvbiwgdHlwZSwgZGF0YVVybCkge1xuICAgIC8vICMzNTc1OCAtIGhvc3RlZCBpdGVtcyBjYW5ub3QgaGF2ZSBzcGFjZXNcbiAgICBuYW1lID0gZm9ybWF0RmlsZU5hbWUobmFtZSk7XG4gICAgbGV0IGV4dCA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIHVzZSB0aGUgdHlwZSBpbnN0ZWFkIG9mIHRoZSBleHRlbnNpb24gZm9yIHppcCBmaWxlcyB0byBkaXNhbWJpZ3VhdGVcbiAgICBpZiAoZXh0ID09PSBcInppcFwiKSB7XG4gICAgICAgIGV4dCA9IHR5cGU7XG4gICAgfVxuICAgIGNvbnN0IGlzRXhjZWwgPSB0eXBlID09PSBcIk1pY3Jvc29mdCBFeGNlbFwiO1xuICAgIGNvbnN0IGJhc2VQYXJhbWV0ZXJzID0ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBtYXhSZWNvcmRDb3VudDogMjAwMFxuICAgIH07XG4gICAgY29uc3QgaXNHZW9KU09OT3JDU1ZGcm9tVXJsID0gKHR5cGUgPT09IFwiR2VvSnNvblwiIHx8IHR5cGUgPT09IFwiQ1NWXCIpICYmIGRhdGFVcmw7XG4gICAgY29uc3QgaXNDbG91ZCA9ICEhYWRkSXRlbVN0YXRlLmNsb3VkUHJvdmlkZXI7XG4gICAgY29uc3QgZGVsZXRlU291cmNlSXRlbSA9IGlzQ2xvdWQgfHwgaXNHZW9KU09OT3JDU1ZGcm9tVXJsID8geyBkZWxldGVTb3VyY2VJdGVtVXBvbkNvbXBsZXRpb246IHRydWUgfSA6IHt9O1xuICAgIGNvbnN0IHB1Ymxpc2hQYXJhbWV0ZXJzID0gSlNPTi5zdHJpbmdpZnkoYmFzZVBhcmFtZXRlcnMpO1xuICAgIGNvbnN0IHB1Ymxpc2hQYXJhbWV0ZXJzV2l0aFF1ZXJ5ID0gSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBiYXNlUGFyYW1ldGVycyksIHsgaGFzU3RhdGljRGF0YTogdHJ1ZSwgbGF5ZXJJbmZvOiB7IGNhcGFiaWxpdGllczogXCJRdWVyeVwiIH0gfSkpO1xuICAgIHN3aXRjaCAoZXh0KSB7XG4gICAgICAgIGNhc2UgXCIzdHpcIjpcbiAgICAgICAgICAgIHJldHVybiB7IGl0ZW1JZCwgcHVibGlzaFBhcmFtZXRlcnM6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSB9KSwgZmlsZXR5cGU6IFwiM0RUaWxlcyBTZXJ2aWNlXCIgfTtcbiAgICAgICAgY2FzZSBcImNzdlwiOlxuICAgICAgICBjYXNlIFwieGxzXCI6XG4gICAgICAgIGNhc2UgXCJ4bHN4XCI6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IGl0ZW1JZCwgZmlsZXR5cGU6IGlzRXhjZWwgPyBcImV4Y2VsXCIgOiBcImNzdlwiLCBwdWJsaXNoUGFyYW1ldGVyczogSlNPTi5zdHJpbmdpZnkoZ2V0Q1NWUHVibGlzaFBhcmFtZXRlcnMobmFtZSwgaXNFeGNlbCkpIH0sIGRlbGV0ZVNvdXJjZUl0ZW0pO1xuICAgICAgICBjYXNlIFwiZmVhdHVyZWNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXRlbUlkLFxuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBcImZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgcHVibGlzaFBhcmFtZXRlcnM6IHB1Ymxpc2hQYXJhbWV0ZXJzV2l0aFF1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBpdGVtSWQsIGZpbGV0eXBlOiBcImdlb2pzb25cIiwgcHVibGlzaFBhcmFtZXRlcnM6IHB1Ymxpc2hQYXJhbWV0ZXJzV2l0aFF1ZXJ5IH0sIGRlbGV0ZVNvdXJjZUl0ZW0pO1xuICAgICAgICBjYXNlIFwidHBrXCI6XG4gICAgICAgIGNhc2UgXCJ0cGt4XCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGl0ZW1JZCxcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogXCJ0aWxlUGFja2FnZVwiLFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIGJ1aWxkSW5pdGlhbENhY2hlOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwidnRwa1wiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IFwidmVjdG9ydGlsZXBhY2thZ2VcIixcbiAgICAgICAgICAgICAgICBwdWJsaXNoUGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICBvdXRwdXRUeXBlOiBcInZlY3RvclRpbGVzXCIsXG4gICAgICAgICAgICAgICAgYnVpbGRJbml0aWFsQ2FjaGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJzcGtcIjpcbiAgICAgICAgY2FzZSBcInNscGtcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXRlbUlkLFxuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBcInNjZW5lcGFja2FnZVwiLFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIG91dHB1dFR5cGU6IFwic2NlbmVTZXJ2aWNlXCIsXG4gICAgICAgICAgICAgICAgYnVpbGRJbml0aWFsQ2FjaGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJzZFwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IFwic2VydmljZURlZmluaXRpb25cIixcbiAgICAgICAgICAgICAgICBidWlsZEluaXRpYWxDYWNoZTogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJGaWxlIEdlb2RhdGFiYXNlXCI6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IGl0ZW1JZCwgZmlsZXR5cGU6IFwiZmlsZUdlb2RhdGFiYXNlXCIsIHB1Ymxpc2hQYXJhbWV0ZXJzOiBwdWJsaXNoUGFyYW1ldGVyc1dpdGhRdWVyeSB9LCBkZWxldGVTb3VyY2VJdGVtKTtcbiAgICAgICAgY2FzZSBcIlNoYXBlZmlsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBpdGVtSWQsIGZpbGV0eXBlOiBcInNoYXBlZmlsZVwiLCBwdWJsaXNoUGFyYW1ldGVyczogcHVibGlzaFBhcmFtZXRlcnNXaXRoUXVlcnkgfSwgZGVsZXRlU291cmNlSXRlbSk7XG4gICAgICAgIGNhc2UgXCJncGtnXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGl0ZW1JZCxcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogXCJnZW9QYWNrYWdlXCIsXG4gICAgICAgICAgICAgICAgcHVibGlzaFBhcmFtZXRlcnNcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJJbWFnZSBDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGl0ZW1JZCxcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogXCJpbWFnZUNvbGxlY3Rpb25cIixcbiAgICAgICAgICAgICAgICBvdXRwdXRUeXBlOiBcImltYWdlIHNlcnZpY2VcIixcbiAgICAgICAgICAgICAgICBwdWJsaXNoUGFyYW1ldGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IGl0ZW1JZCwgcHVibGlzaFBhcmFtZXRlcnMgfTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBwdWJsaXNoU2VydmljZShhcmdzLCBwdWJsaXNoUGFyYW1ldGVycykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCB7IHVzZXIsIHRpdGxlLCBpdGVtSWQsIGV4dGVuc2lvbiwgdHlwZSwgZGF0YVVybCwgaXRlbU93bmVyVXJsIH0gPSBhcmdzO1xuICAgIHB1Ymxpc2hQYXJhbWV0ZXJzICE9PSBudWxsICYmIHB1Ymxpc2hQYXJhbWV0ZXJzICE9PSB2b2lkIDAgPyBwdWJsaXNoUGFyYW1ldGVycyA6IChwdWJsaXNoUGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oe30sIGdldFB1Ymxpc2hQYXJhbWV0ZXJzKGl0ZW1JZCwgdGl0bGUsIGV4dGVuc2lvbiwgdHlwZSwgZGF0YVVybCkpKTtcbiAgICBjb25zdCB1c2VyQ29udGVudFVybCA9IHVpU3RvcmVTdGF0ZS53b3JrZmxvdyA9PT0gXCJhcHBlbmRcIiA/IGl0ZW1Pd25lclVybCA6IHVzZXIudXNlckNvbnRlbnRVcmw7IC8vRm9yIFIwMiBQYXRjaFxuICAgIGNvbnN0IHVybCA9IGAke3VzZXJDb250ZW50VXJsfS9wdWJsaXNoYDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QodXJsLCBwdWJsaXNoUGFyYW1ldGVycywge30sIFwicG9zdFwiKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5zZXJ2aWNlcyB8fCAhcmVzcG9uc2Uuc2VydmljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLmkxOG4uZXJyb3JQdWJsaXNoaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChfYiA9IChfYSA9IHJlc3BvbnNlLnNlcnZpY2VzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tZXNzYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyAoX2QgPSAoX2MgPSByZXNwb25zZS5zZXJ2aWNlc1swXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmVycm9yKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdDogcmVzcG9uc2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIGlmIChlcnJvci5pbmNsdWRlcyhcIlNlcnZpY2UgbmFtZVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IHsgY29kZTogXCJzZXJ2aWNlTmFtZUV4aXN0c1wiIH0gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBlcnJvcjogeyBjb2RlOiBcInVuaGFuZGxlZEVycm9yXCIgfSB9O1xuICAgIH1cbn1cblxuZXhwb3J0IHsgYXBwZW5kVHlwZUtleXdvcmRzIGFzIGEsIGNoZWNrSm9iU3RhdHVzIGFzIGMsIHB1Ymxpc2hTZXJ2aWNlIGFzIHAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaC1pdGVtLTE3ZDJmOWEzLmpzLm1hcCIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHY0LjAuNThcbiAqL1xuY29uc3QgdGlsZUxheWVyQmFzZW1hcHMgPSBbXCJzdGFuZGFyZFwiLCBcImN1c3RvbVwiXTtcbmNvbnN0IHRpbGVzTGF5ZXIzZFRpbGVzTGF5ZXJUeXBlcyA9IFtcIkludGVncmF0ZWRNZXNoXCIsIFwiM0RPYmplY3RcIl07XG5jb25zdCBERUZBVUxUX1RJTEVfTEFZRVJfM0RfVElMRVNfTEFZRVJfVFlQRSA9IHRpbGVzTGF5ZXIzZFRpbGVzTGF5ZXJUeXBlc1swXTtcbmNvbnN0IHRpbGVMYXllclR5cGVzID0gW1widmVjdG9yXCIsIFwicmFzdGVyXCIsIFwiM2RUaWxlc1wiXTtcbi8vIFRPRE86IHN3aXRjaCB0aGlzIGJhY2sgb25jZSB0aGUgU2V0dGluZ1RpbGVMYXllciBzdXBwb3J0cyB0aGlzIG51bWJlclxuLy8gZXhwb3J0IGNvbnN0IFRJTEVfTEFZRVJfU0NBTEVfTUlOID0gNTkxNjU3NTI3LjU5MTU1NTtcbmNvbnN0IFRJTEVfTEFZRVJfU0NBTEVfTUlOID0gMTQ3OTE0MzgyO1xuY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NQVggPSAwO1xuY29uc3QgcHJlc2V0TG9kcyA9IFtcbiAgICB7IGxldmVsOiAwLCBsYWJlbDogXCIxOjU5MSw2NTcsNTI4XCIsIHNjYWxlOiA1OTE2NTc1MjcuNTkxNTU1IH0sXG4gICAgeyBsZXZlbDogMSwgbGFiZWw6IFwiMToyOTUsODI4LDc2NFwiLCBzY2FsZTogMjk1ODI4NzYzLjc5NTc3NyB9LFxuICAgIHsgbGV2ZWw6IDIsIGxhYmVsOiBcIjE6MTQ3LDkxNCwzODJcIiwgc2NhbGU6IDE0NzkxNDM4MS44OTc4ODkgfSxcbiAgICB7IGxldmVsOiAzLCBsYWJlbDogXCIxOjczLDk1NywxOTFcIiwgc2NhbGU6IDczOTU3MTkwLjk0ODk0NCB9LFxuICAgIHsgbGV2ZWw6IDQsIGxhYmVsOiBcIjE6MzYsOTc4LDU5NVwiLCBzY2FsZTogMzY5Nzg1OTUuNDc0NDcyIH0sXG4gICAgeyBsZXZlbDogNSwgbGFiZWw6IFwiMToxOCw0ODksMjk4XCIsIHNjYWxlOiAxODQ4OTI5Ny43MzcyMzYgfSxcbiAgICB7IGxldmVsOiA2LCBsYWJlbDogXCIxOjksMjQ0LDY0OVwiLCBzY2FsZTogOTI0NDY0OC44Njg2MTggfSxcbiAgICB7IGxldmVsOiA3LCBsYWJlbDogXCIxOjQsNjIyLDMyNFwiLCBzY2FsZTogNDYyMjMyNC40MzQzMDkgfSxcbiAgICB7IGxldmVsOiA4LCBsYWJlbDogXCIxOjIsMzExLDE2MlwiLCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgICB7IGxldmVsOiA5LCBsYWJlbDogXCIxOjEsMTU1LDU4MVwiLCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICB7IGxldmVsOiAxMCwgbGFiZWw6IFwiMTo1NzcsNzkxXCIsIHNjYWxlOiA1Nzc3OTAuNTU0Mjg5IH0sXG4gICAgeyBsZXZlbDogMTEsIGxhYmVsOiBcIjE6Mjg4LDg5NVwiLCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICAgIHsgbGV2ZWw6IDEyLCBsYWJlbDogXCIxOjE0NCw0NDhcIiwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICB7IGxldmVsOiAxMywgbGFiZWw6IFwiMTo3MiwyMjRcIiwgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgIHsgbGV2ZWw6IDE0LCBsYWJlbDogXCIxOjM2LDExMlwiLCBzY2FsZTogMzYxMTEuOTA5NjQzIH0sXG4gICAgeyBsZXZlbDogMTUsIGxhYmVsOiBcIjE6MTgsMDU2XCIsIHNjYWxlOiAxODA1NS45NTQ4MjIgfSxcbiAgICB7IGxldmVsOiAxNiwgbGFiZWw6IFwiMTo5LDAyOFwiLCBzY2FsZTogOTAyNy45Nzc0MTEgfSxcbiAgICB7IGxldmVsOiAxNywgbGFiZWw6IFwiMTo0LDUxNFwiLCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICB7IGxldmVsOiAxOCwgbGFiZWw6IFwiMToyLDI1N1wiLCBzY2FsZTogMjI1Ni45OTQzNTMgfSxcbiAgICB7IGxldmVsOiAxOSwgbGFiZWw6IFwiMToxLDEyOFwiLCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICB7IGxldmVsOiAyMCwgbGFiZWw6IFwiMTo1NjRcIiwgc2NhbGU6IDU2NC4yNDg1ODggfSxcbiAgICB7IGxldmVsOiAyMSwgbGFiZWw6IFwiMToyODJcIiwgc2NhbGU6IDI4Mi4xMjQyOTQgfSxcbiAgICB7IGxldmVsOiAyMiwgbGFiZWw6IFwiMToxNDFcIiwgc2NhbGU6IDE0MS4wNjIxNDcgfVxuXTtcbmNvbnN0IHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8gPSB7XG4gICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiAxMDIxMDAsIGxhdGVzdFdraWQ6IDM4NTcgfSxcbiAgICBvcmlnaW46IHsgeDogLTIwMDM3NTA4LjM0Mjc4NywgeTogMjAwMzc1MDguMzQyNzg3IH0sXG4gICAgcm93czogMjU2LFxuICAgIGNvbHM6IDI1NixcbiAgICBkcGk6IDk2LFxuICAgIHByZWNpc2VEcGk6IDk2LFxuICAgIGxvZHM6IFtcbiAgICAgICAgeyBsZXZlbDogMCwgcmVzb2x1dGlvbjogMTU2NTQzLjAzMzkyOCwgc2NhbGU6IDU5MTY1NzUyNy41OTE1NTUgfSxcbiAgICAgICAgeyBsZXZlbDogMSwgcmVzb2x1dGlvbjogNzgyNzEuNTE2OTYzOTk5OSwgc2NhbGU6IDI5NTgyODc2My43OTU3NzcgfSxcbiAgICAgICAgeyBsZXZlbDogMiwgcmVzb2x1dGlvbjogMzkxMzUuNzU4NDgyMDAwMSwgc2NhbGU6IDE0NzkxNDM4MS44OTc4ODkgfSxcbiAgICAgICAgeyBsZXZlbDogMywgcmVzb2x1dGlvbjogMTk1NjcuODc5MjQwOTk5OSwgc2NhbGU6IDczOTU3MTkwLjk0ODk0NCB9LFxuICAgICAgICB7IGxldmVsOiA0LCByZXNvbHV0aW9uOiA5NzgzLjkzOTYyMDQ5OTk2LCBzY2FsZTogMzY5Nzg1OTUuNDc0NDcyIH0sXG4gICAgICAgIHsgbGV2ZWw6IDUsIHJlc29sdXRpb246IDQ4OTEuOTY5ODEwMjQ5OTgsIHNjYWxlOiAxODQ4OTI5Ny43MzcyMzYgfSxcbiAgICAgICAgeyBsZXZlbDogNiwgcmVzb2x1dGlvbjogMjQ0NS45ODQ5MDUxMjQ5OSwgc2NhbGU6IDkyNDQ2NDguODY4NjE4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDcsIHJlc29sdXRpb246IDEyMjIuOTkyNDUyNTYyNDksIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICAgICAgICB7IGxldmVsOiA4LCByZXNvbHV0aW9uOiA2MTEuNDk2MjI2MjgxMzgsIHNjYWxlOiAyMzExMTYyLjIxNzE1NSB9LFxuICAgICAgICB7IGxldmVsOiA5LCByZXNvbHV0aW9uOiAzMDUuNzQ4MTEzMTQwNTU4LCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICAgICAgeyBsZXZlbDogMTAsIHJlc29sdXRpb246IDE1Mi44NzQwNTY1NzA0MTEsIHNjYWxlOiA1Nzc3OTAuNTU0Mjg5IH0sXG4gICAgICAgIHsgbGV2ZWw6IDExLCByZXNvbHV0aW9uOiA3Ni40MzcwMjgyODUwNzMyLCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICAgICAgICB7IGxldmVsOiAxMiwgcmVzb2x1dGlvbjogMzguMjE4NTE0MTQyNTM2Niwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICAgICAgeyBsZXZlbDogMTMsIHJlc29sdXRpb246IDE5LjEwOTI1NzA3MTI2ODMsIHNjYWxlOiA3MjIyMy44MTkyODYgfSxcbiAgICAgICAgeyBsZXZlbDogMTQsIHJlc29sdXRpb246IDkuNTU0NjI4NTM1NjM0MTUsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICAgICAgeyBsZXZlbDogMTUsIHJlc29sdXRpb246IDQuNzc3MzE0MjY3OTQ5MzcsIHNjYWxlOiAxODA1NS45NTQ4MjIgfSxcbiAgICAgICAgeyBsZXZlbDogMTYsIHJlc29sdXRpb246IDIuMzg4NjU3MTMzOTc0NjgsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICAgICAgICB7IGxldmVsOiAxNywgcmVzb2x1dGlvbjogMS4xOTQzMjg1NjY4NTUwNSwgc2NhbGU6IDQ1MTMuOTg4NzA1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDE4LCByZXNvbHV0aW9uOiAwLjU5NzE2NDI4MzU1OTgxNywgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gICAgICAgIHsgbGV2ZWw6IDE5LCByZXNvbHV0aW9uOiAwLjI5ODU4MjE0MTY0NzYxNywgc2NhbGU6IDExMjguNDk3MTc2IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIwLCByZXNvbHV0aW9uOiAwLjE0OTI5MTA3MDgyMzgwODMzLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgICAgICB7IGxldmVsOiAyMSwgcmVzb2x1dGlvbjogMC4wNzQ2NDU1MzU0MTE5MDQxNiwgc2NhbGU6IDI4Mi4xMjQyOTQgfSxcbiAgICAgICAgeyBsZXZlbDogMjIsIHJlc29sdXRpb246IDAuMDM3MzIyNzY3NzA1OTUyMDgsIHNjYWxlOiAxNDEuMDYyMTQ3IH1cbiAgICBdXG59O1xuY29uc3QgcHJlc2V0VmVjdG9yVGlsZUNhY2hlSW5mbyA9IHtcbiAgICBzcGF0aWFsUmVmZXJlbmNlOiB7XG4gICAgICAgIHdraWQ6IDEwMjEwMCxcbiAgICAgICAgbGF0ZXN0V2tpZDogMzg1N1xuICAgIH0sXG4gICAgb3JpZ2luOiB7XG4gICAgICAgIHg6IC0yLjAwMzc1MDgzNDI3ODdlNyxcbiAgICAgICAgeTogMi4wMDM3NTA4MzQyNzg3ZTdcbiAgICB9LFxuICAgIHJvd3M6IDUxMixcbiAgICBjb2xzOiA1MTIsXG4gICAgZHBpOiA5NixcbiAgICBwcmVjaXNlRHBpOiA5NixcbiAgICBsb2RzOiBbXG4gICAgICAgIHsgbGV2ZWw6IDAsIHJlc29sdXRpb246IDc4MjcxLjUxNjk2Mzk5OTk0LCBzY2FsZTogMi45NTgyODc2Mzc5NTc3N2U4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDEsIHJlc29sdXRpb246IDM5MTM1Ljc1ODQ4MjAwMDA5LCBzY2FsZTogMS40NzkxNDM4MTg5Nzg4OWU4IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIsIHJlc29sdXRpb246IDE5NTY3Ljg3OTI0MDk5OTkyLCBzY2FsZTogNy4zOTU3MTkwOTQ4OTQ0ZTcgfSxcbiAgICAgICAgeyBsZXZlbDogMywgcmVzb2x1dGlvbjogOTc4My45Mzk2MjA0OTk5Niwgc2NhbGU6IDMuNjk3ODU5NTQ3NDQ3MmU3IH0sXG4gICAgICAgIHsgbGV2ZWw6IDQsIHJlc29sdXRpb246IDQ4OTEuOTY5ODEwMjQ5OTgsIHNjYWxlOiAxLjg0ODkyOTc3MzcyMzZlNyB9LFxuICAgICAgICB7IGxldmVsOiA1LCByZXNvbHV0aW9uOiAyNDQ1Ljk4NDkwNTEyNDk5LCBzY2FsZTogOTI0NDY0OC44Njg2MTggfSxcbiAgICAgICAgeyBsZXZlbDogNiwgcmVzb2x1dGlvbjogMTIyMi45OTI0NTI1NjI0OTUsIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICAgICAgICB7IGxldmVsOiA3LCByZXNvbHV0aW9uOiA2MTEuNDk2MjI2MjgxMzc5Nywgc2NhbGU6IDIzMTExNjIuMjE3MTU1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDgsIHJlc29sdXRpb246IDMwNS43NDgxMTMxNDA1NTc1Niwgc2NhbGU6IDExNTU1ODEuMTA4NTc3IH0sXG4gICAgICAgIHsgbGV2ZWw6IDksIHJlc29sdXRpb246IDE1Mi44NzQwNTY1NzA0MTEwNiwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICAgICAgeyBsZXZlbDogMTAsIHJlc29sdXRpb246IDc2LjQzNzAyODI4NTA3MzI0LCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICAgICAgICB7IGxldmVsOiAxMSwgcmVzb2x1dGlvbjogMzguMjE4NTE0MTQyNTM2NjIsIHNjYWxlOiAxNDQ0NDcuNjM4NTcyIH0sXG4gICAgICAgIHsgbGV2ZWw6IDEyLCByZXNvbHV0aW9uOiAxOS4xMDkyNTcwNzEyNjgzMSwgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgICAgICB7IGxldmVsOiAxMywgcmVzb2x1dGlvbjogOS41NTQ2Mjg1MzU2MzQxNTUsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICAgICAgeyBsZXZlbDogMTQsIHJlc29sdXRpb246IDQuNzc3MzE0MjY3OTQ5MzcsIHNjYWxlOiAxODA1NS45NTQ4MjIgfSxcbiAgICAgICAgeyBsZXZlbDogMTUsIHJlc29sdXRpb246IDIuMzg4NjU3MTMzOTc0Njg1LCBzY2FsZTogOTAyNy45Nzc0MTEgfSxcbiAgICAgICAgeyBsZXZlbDogMTYsIHJlc29sdXRpb246IDEuMTk0MzI4NTY2ODU1MDUwMywgc2NhbGU6IDQ1MTMuOTg4NzA1IH0sXG4gICAgICAgIHsgbGV2ZWw6IDE3LCByZXNvbHV0aW9uOiAwLjU5NzE2NDI4MzU1OTgxNzIsIHNjYWxlOiAyMjU2Ljk5NDM1MyB9LFxuICAgICAgICB7IGxldmVsOiAxOCwgcmVzb2x1dGlvbjogMC4yOTg1ODIxNDE2NDc2MTY2NSwgc2NhbGU6IDExMjguNDk3MTc2IH0sXG4gICAgICAgIHsgbGV2ZWw6IDE5LCByZXNvbHV0aW9uOiAwLjE0OTI5MTA3MDgyMzgwODMzLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgICAgICB7IGxldmVsOiAyMCwgcmVzb2x1dGlvbjogMC4wNzQ2NDU1MzU0MTE5MDQxNiwgc2NhbGU6IDI4Mi4xMjQyOTQgfSxcbiAgICAgICAgeyBsZXZlbDogMjEsIHJlc29sdXRpb246IDAuMDM3MzIyNzY3NzA1OTUyMDgsIHNjYWxlOiAxNDEuMDYyMTQ3IH0sXG4gICAgICAgIHsgbGV2ZWw6IDIyLCByZXNvbHV0aW9uOiAwLjAxODY2MTM4Mzg1Mjk3NjA0LCBzY2FsZTogNzAuNTMxMDczNSB9LFxuICAgICAgICB7IGxldmVsOiAyMywgcmVzb2x1dGlvbjogMC4wMDkzMzA2OTE5MjkzNDI4MDQwNDY2MjE3MzY1LCBzY2FsZTogMzUuMjY1NTM2NzYwNzg5NzE1MDMyNDEyMDc5NjI2IH1cbiAgICBdXG59O1xuY29uc3QgcHJlc2V0VmVjdG9yVGlsZUltYWdlSW5mbyA9IHtcbiAgICBmb3JtYXQ6IFwiaW5kZXhlZFZlY3RvclwiLFxuICAgIGNvbXByZXNzaW9uUXVhbGl0eTogMCxcbiAgICBhbnRpYWxpYXNpbmc6IGZhbHNlXG59O1xuY29uc3QgcHJlc2V0UmFzdGVyVGlsZUltYWdlSW5mbyA9IHtcbiAgICBmb3JtYXQ6IFwiUE5HMzJcIixcbiAgICBjb21wcmVzc2lvblF1YWxpdHk6IDAsXG4gICAgYW50aWFsaWFzaW5nOiB0cnVlXG59O1xuXG5leHBvcnQgeyBERUZBVUxUX1RJTEVfTEFZRVJfM0RfVElMRVNfTEFZRVJfVFlQRSBhcyBELCBUSUxFX0xBWUVSX1NDQUxFX01JTiBhcyBULCBwcmVzZXRSYXN0ZXJUaWxlQ2FjaGVJbmZvIGFzIGEsIHByZXNldFZlY3RvclRpbGVJbWFnZUluZm8gYXMgYiwgcHJlc2V0UmFzdGVyVGlsZUltYWdlSW5mbyBhcyBjLCB0aWxlTGF5ZXJUeXBlcyBhcyBkLCBUSUxFX0xBWUVSX1NDQUxFX01BWCBhcyBlLCB0aWxlTGF5ZXJCYXNlbWFwcyBhcyBmLCBwcmVzZXRMb2RzIGFzIGcsIHByZXNldFZlY3RvclRpbGVDYWNoZUluZm8gYXMgcCwgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzIGFzIHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZS1sYXllci1jZjA0ZmE5Ny5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=