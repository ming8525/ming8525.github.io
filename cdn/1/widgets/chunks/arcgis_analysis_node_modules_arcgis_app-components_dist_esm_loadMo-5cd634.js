/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_loadMo-5cd634.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_loadMo-5cd634"],{13337:(e,l,r)=>{r.d(l,{A:()=>a,N:()=>s,a:()=>i,b:()=>o,c:()=>c,d:()=>n,u:()=>t});const t=["esriFieldTypeOID","esriFieldTypeGlobalID"],s="<None>",o={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},i={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},a={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},n=["zip","csv","xls","xlsx","geojson","gpkg","json"],c=["zip","csv","xls","xlsx"]},69283:(e,l,r)=>{r.d(l,{a:()=>t,c:()=>o,e:()=>i,g:()=>s,l:()=>a});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,l,r){return e(r={path:l,exports:{},require:function(e,l){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var i=o((function(e,l){!function(e){var l={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",t="next";function s(e){if(e.toLowerCase()===t)return t;var l=e&&e.match(/^(\d)\.(\d+)/);return l&&{major:parseInt(l[1],10),minor:parseInt(l[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function i(e){return!e||s(e)?function(e){void 0===e&&(e=r);var l=o(e),i=s(e);if(i!==t&&3===i.major){var a=i.minor<=10?"js/":"";return"".concat(l).concat(a,"esri/css/esri.css")}return"".concat(l,"esri/themes/light/main.css")}(e):e}function a(e,l){var r=i(e),t=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return t||function(e,l){if(l){var r=document.querySelector(l);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(t=function(e){var l=document.createElement("link");return l.rel="stylesheet",l.href=e,l}(r),l),t}var n={};function c(e,l,r){var t;r&&(t=function(e,l){var r=function(t){l(t.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var s=function(){l(e),e.removeEventListener("load",s,!1),t&&e.removeEventListener("error",t,!1)};e.addEventListener("load",s,!1)}function u(){return document.querySelector("script[data-esri-loader]")}function d(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var r={};[n,e].forEach((function(e){for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}));var t=r.version,s=r.url||o(t);return new l.Promise((function(e,l){var o=u();if(o){var i=o.getAttribute("src");i!==s?l(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):d()?e(o):c(o,e,l)}else if(d())l(new Error("The ArcGIS API for JavaScript is already loaded."));else{var n=r.css;n&&a(!0===n?t:n,r.insertCssBefore),c(o=function(e){var l=document.createElement("script");return l.type="text/javascript",l.src=e,l.setAttribute("data-esri-loader","loading"),l}(s),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),l),document.body.appendChild(o)}}))}function v(e){return new l.Promise((function(l,r){var t=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.remove(),l(e)}))}))}e.utils=l,e.loadModules=function(e,l){if(void 0===l&&(l={}),d())return v(e);var r=u(),t=r&&r.getAttribute("src");return!l.url&&t&&(l.url=t),p(l).then((function(){return v(e)}))},e.getScript=u,e.isLoaded=d,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),n=e},e.loadCss=a,Object.defineProperty(e,"__esModule",{value:!0})}(l)}));const a=async(e,l)=>(await i.loadModules(e,l)).map((e=>e.__esModule&&e.default?e.default:e))},97762:(e,l,r)=>{r.d(l,{a:()=>c,b:()=>d,c:()=>f,f:()=>u,g:()=>m,p:()=>n,r:()=>v,u:()=>y});var t=r(62824),s=r(41450),o=r(82102),i=r(13337),a=r(20164);const n=async(e,l,r,t)=>{var o,i;const a=await c(e,r,t),n=null===(i=null===(o=(await(0,s.p)({itemId:e.sourceData.id,user:t,title:l,itemOwnerUrl:e.itemOwner.userContentUrl},a)).result)||void 0===o?void 0:o.services)||void 0===i?void 0:i[0];return{id:null==n?void 0:n.serviceItemId,jobId:null==n?void 0:n.jobId,serviceType:null==n?void 0:n.type,serviceUrl:null==n?void 0:n.serviceurl,overwriteStatus:""}},c=async(e,l,r,t)=>{const{result:s}=await p(e,l,!1,r);return await((e,l,r)=>{var t,s,o,a,n;const c=null==l?void 0:l.publishParameters,u=null!==(t=null==l?void 0:l.sourceData)&&void 0!==t?t:l,d=null!==(o=null===(s=null==l?void 0:l.sourceData)||void 0===s?void 0:s.type)&&void 0!==o?o:i.A[null===(a=null==l?void 0:l.cloudProviderInfo)||void 0===a?void 0:a.mimeType],p={itemId:null!=r?r:u.id,filetype:i.b[d.toLowerCase()],overwrite:!0,deleteSourceItemUponCompletion:!!r};let v;switch(d){case"CSV":{const l=Object.assign(Object.assign({},null===(n=e.layers)||void 0===n?void 0:n[0]),{fields:c.layerInfo.fields});v=Object.assign(Object.assign({layerInfo:l,name:c.name||u.title.replace(/ /g,"_")},c),e);break}case"Microsoft Excel":v=((e,l)=>{const r=Object.assign({},l);r.name=e.name,r.sourceSR=e.sourceSR,r.targetSR=e.targetSR;for(let e=0;e<r.tables.length;e++)"Review"!=r.tables[e].name&&(r.layers[r.layers.length]=r.tables[e]);for(let l of r.layers){const{excelSheetId:t,locationType:s,latitudeFieldName:o,longitudeFieldName:i,geocodeServiceUrl:a,sourceLocale:n,sourceCountry:c,standardizedFieldNames:u,addressFields:d,coordinateFieldName:p,coordinateFieldType:v,fields:f,dateFieldsTimeReference:y}=e.layers[l.id],m={excelSheetId:t,locationType:s,latitudeFieldName:o,longitudeFieldName:i,geocodeServiceUrl:a,sourceLocale:n,sourceCountry:c,standardizedFieldNames:u,addressFields:d,coordinateFieldName:p,coordinateFieldType:v,fields:f,dateFieldsTimeReference:y};r.layers[l.id]=Object.assign({},m)}return r})(c,e);break;default:v=Object.assign(Object.assign(Object.assign({},c),e),{name:u.title?u.title.replace(/ /g,"_"):l.title.replace(/ /g,"_")})}return p.publishParameters=JSON.stringify(v),p})(s,e,t)},u=async(e,l,r)=>{const t=e.sourceData;try{return await d(t,l,{file:r.file,overwrite:r.overwrite,keepDescription:r.keepDescription}),await(0,s.c)({id:t.id,folder:"",success:!0}),{}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},d=async(e,l,r)=>{const t=`${l}/items/${e.id}/update`,s=((e,l)=>{const r=!!l.overwrite,t=(e=>{const{name:l,title:r,tags:t,type:s,typeKeywords:o,accessInformation:i,licenseInfo:a,description:n,snippet:c,extent:u}=e;return{name:l,title:r,tags:t,type:s,typeKeywords:o,accessInformation:i,licenseInfo:a,description:n,snippet:c,extent:u}})(e),s=new FormData;return Object.keys(t).forEach((e=>{var r;"description"===e||"snippet"===e||"extent"===e?s.append(e,l.keepDescription?t[e]:""):s.append(e,null!==(r=t[e])&&void 0!==r?r:"")})),s.set("overwrite","true"),s.set("async","true"),s.set("file",l.file,e.title),r&&s.set("overwriteService","on"),s.set("useDescription","on"),s})(e,{file:r.file,overwrite:r.overwrite,keepDescription:r.keepDescription});return await(0,a.d)(t,s,{},"post")},p=async(e,l,r,t)=>{try{const{url:l}=e,r=await(0,a.r)(l),t=await(0,a.r)(l+"/layers"),s=null==t?void 0:t.layers.map((e=>(delete e.fields,e)));return r.tables=[...null==t?void 0:t.tables],r.layers=[...s],{result:r}}catch(s){return!r&&(499===(null==s?void 0:s.code)&&"Token Required"===(null==s?void 0:s.message)||403===s.code)&&t?p(e,l,!0,t):(console.error(s),{error:{code:"unhandledError"}})}},v=async e=>{let l=e.typeKeywords.toString();const r={title:e.title||"",tags:e.tags.toString()||""};-1!==e.typeKeywords.indexOf("Involved Lookup")&&(l+=",showUnmatchedAddresses",r.typeKeywords=l);try{const l=await(0,o.u)(e.id,r),s=await(0,t.x)(e.id,{success:null==l?void 0:l.success});return"failed"===s.status?{error:{code:"unhandledError"}}:{result:s}}catch(e){return console.error("error:",e),{error:{code:"unhandledError"}}}},f=async(e,l,r)=>{const t=`${l}/${e.folderId||e.ownerFolder||""}/items/${e.id}/updateResources`,s=new FormData;s.set("file",r.file),s.set("resourcesPrefix","styles"),s.set("filename","root.json");try{return{result:await(0,a.d)(t,s,{},"post")}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},y=async(e,l,r)=>{let t=["Cloud Drive"];const s=JSON.parse(e);"address"===s.locationType||s.layers[0]&&"address"===s.layers[0].locationType?(t.push("showUnmatchedAddresses"),t.push("Involved Lookup")):("none"===s.locationType||s.layers[0]&&"none"===s.layers[0].locationType)&&t.push("Table");const i=t.join(",");return await(0,o.u)(l.id,{folderId:(null==l?void 0:l.folderId)||l.ownerFolder,id:r,typeKeywords:i})};async function m(e){try{return{result:await e.connect()}}catch(e){return{error:{code:"unhandledError"}}}}},41450:(e,l,r)=>{r.d(l,{a:()=>p,c:()=>v,p:()=>y});var t=r(49853),s=r(20206),o=r(65804),i=r(70217),a=r(64606),n=r(8899),c=r(62824),u=r(82102),d=r(20164);async function p(e,l){var r;const o=null!==(r=null!=l?l:t.c.user)&&void 0!==r?r:t.c.portal.user,{cloudProviderResource:a,geoJSONResource:n,locationType:c,csvResource:d,existingItem:p}=s.a,{result:v}=await(0,u.a)(e.id),f=[...v.typeKeywords];if((a||n||d)&&f.push("Cloud Drive"),"address"===c&&f.push("showUnmatchedAddresses"),["3DTiles Package","3DTiles Service"].includes(v.type))if("3dTiles"===s.a.tileLayerPublishType)f.push(s.a.tilesLayer3dTilesLayerType);else if(p){const e=[...p.typeKeywords].find((e=>i.t.includes(e)));e&&f.push(e)}return(0,u.u)(e.id,{typeKeywords:null==f?void 0:f.join(",")},o)}async function v(e){const l=await(0,c.x)(e.id,{success:e.success});if("failed"===l.status)throw new Error(l.statusMessage)}function f(e,l){const{selectedFields:r,timezone:t,analyzeResults:o,type:i}=s.a,a=o.publishParameters,c=(0,n.a)();c.fields=Object.keys(r).map((e=>{const l=r[e];var t;return t=l.type,["esriFieldTypeDouble","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeSmallInteger"].includes(t)&&(l.sqlType=function(e){switch(e){case"esriFieldTypeDouble":return"sqlTypeDouble";case"esriFieldTypeInteger":case"esriFieldTypeOID":return"sqlTypeInteger";case"esriFieldTypeString":return"sqlTypeNVarchar";case"esriFieldTypeSingle":return"sqlTypeFloat";case"esriFieldTypeSmallInteger":return"sqlTypeSmallInt";case"esriFieldTypeDate":return"sqlTypeDate";default:return"sqlTypeOther"}}(l.type),delete l.length),l})),c.capabilities="Query",a.capabilities="Query",c.hasStaticData=!0,a.hasStaticData=!0,a.persistErrorRecordsForReview=!0,a.name=e;const u={timeZone:t||"UTC"};return l||"GeoJson"===i?c.dateFieldsTimeReference=u:a.dateFieldsTimeReference=u,a}async function y(e,l){var r,t,i,n;const{user:c,title:u,itemId:p,extension:v,type:y,dataUrl:m,itemOwnerUrl:g}=e;null!=l||(l=Object.assign({},function(e,l,r,t,o){l=(0,a.a)(l);let i=r.toLowerCase();"zip"===i&&(i=t);const n="Microsoft Excel"===t,c={name:l,maxRecordCount:2e3},u=("GeoJson"===t||"CSV"===t)&&o,d=s.a.cloudProvider||u?{deleteSourceItemUponCompletion:!0}:{},p=JSON.stringify(c),v=JSON.stringify(Object.assign(Object.assign({},c),{hasStaticData:!0,layerInfo:{capabilities:"Query"}}));switch(i){case"3tz":return{itemId:e,publishParameters:JSON.stringify({name:l}),filetype:"3DTiles Service"};case"csv":case"xls":case"xlsx":return Object.assign({itemId:e,filetype:n?"excel":"csv",publishParameters:JSON.stringify(f(l,n))},d);case"featurecollection":return{itemId:e,filetype:"featureCollection",publishParameters:v};case"geojson":case"json":return Object.assign({itemId:e,filetype:"geojson",publishParameters:v},d);case"tpk":case"tpkx":return{itemId:e,filetype:"tilePackage",publishParameters:p,buildInitialCache:!0};case"vtpk":return{itemId:e,filetype:"vectortilepackage",publishParameters:p,outputType:"vectorTiles",buildInitialCache:!0};case"spk":case"slpk":return{itemId:e,filetype:"scenepackage",publishParameters:p,outputType:"sceneService",buildInitialCache:!0};case"sd":return{itemId:e,filetype:"serviceDefinition",buildInitialCache:!1};case"File Geodatabase":return Object.assign({itemId:e,filetype:"fileGeodatabase",publishParameters:v},d);case"Shapefile":return Object.assign({itemId:e,filetype:"shapefile",publishParameters:v},d);case"gpkg":return{itemId:e,filetype:"geoPackage",publishParameters:p};case"Image Collection":return{itemId:e,filetype:"imageCollection",outputType:"image service",publishParameters:p};default:return{itemId:e,publishParameters:p}}}(p,u,v,y,m)));const b=`${"append"===o.u.workflow?g:c.userContentUrl}/publish`;try{const e=await(0,d.r)(b,l,{},"post");if(e.services&&e.services.length){if(null===(t=null===(r=e.services[0])||void 0===r?void 0:r.error)||void 0===t?void 0:t.message)throw null===(n=null===(i=e.services[0])||void 0===i?void 0:i.error)||void 0===n?void 0:n.message;return{result:e}}throw this.i18n.errorPublishing}catch(e){return console.error(e),e.includes("Service name")?{error:{code:"serviceNameExists"}}:{error:{code:"unhandledError"}}}}},70217:(e,l,r)=>{r.d(l,{D:()=>o,T:()=>a,a:()=>u,b:()=>p,c:()=>v,d:()=>i,e:()=>n,f:()=>t,g:()=>c,p:()=>d,t:()=>s});const t=["standard","custom"],s=["IntegratedMesh","3DObject"],o=s[0],i=["vector","raster","3dTiles"],a=147914382,n=0,c=[{level:0,label:"1:591,657,528",scale:591657527.591555},{level:1,label:"1:295,828,764",scale:295828763.795777},{level:2,label:"1:147,914,382",scale:147914381.897889},{level:3,label:"1:73,957,191",scale:73957190.948944},{level:4,label:"1:36,978,595",scale:36978595.474472},{level:5,label:"1:18,489,298",scale:18489297.737236},{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],u={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},d={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:295828763.795777},{level:1,resolution:39135.75848200009,scale:147914381.897889},{level:2,resolution:19567.87924099992,scale:73957190.948944},{level:3,resolution:9783.93962049996,scale:36978595.474472},{level:4,resolution:4891.96981024998,scale:18489297.737236},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},p={format:"indexedVector",compressionQuality:0,antialiasing:!1},v={format:"PNG32",compressionQuality:0,antialiasing:!0}}}]);