/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41"],{40389:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_list:()=>d});var a=r(81149),o=r(49853),n=r(6161),i=r(87953),s=r(20206),l=r(65804),c=r(47934);r(70464),r(20164),r(69283),r(79210),r(88780),r(15953),r(62824),r(12846),r(43237),r(78239),r(70105),r(18762),r(49288),r(42577),r(30301),r(82102),r(74689),r(13615),r(14192),r(52787),r(25145),r(41487),r(50202),r(70217);const d=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.selected=void 0,this.items=void 0,this.pagination=void 0,this.loading=!1,this.error=null}async componentWillLoad(){this.selected={id:s.a.dataStoreId,name:s.a.dataStoreName},this.i18n=l.u.i18n.tileLayerFromStore}isValidDataStoreType(e){return e.typeKeywords.some((e=>{const t=e.toLowerCase();return t.startsWith("cloudstore")||t.startsWith("folder")}))}renderErrorItem(){var e,t;const{i18n:r,error:o,loading:n}=this;let i,s;return"failToListDataStoreContents"===o?(i="Unable to list content of the data store",s="An error occurred while listing the data store's contents."):(i=null===(e=r.error[o])||void 0===e?void 0:e.heading,s=null===(t=r.error[o])||void 0===t?void 0:t.description),(0,a.h)("arcgis-new-item-alert",{heading:i,description:s,active:null!==o&&!n,onAlertDismiss:()=>{this.error=null}})}async handleNext(){var e;if(!this.selected||!this.selected.id||!this.selected.name)return void(this.error="noDataStoreSelected");const t=this.selected;this.loading=!0;const r=(await(0,i.g)(t.id)).result;if(0===r.length)return this.error="noRegisteredServersForDataStore",void(this.loading=!1);s.a.serverList=r,s.a.serverId=r[0].id,s.a.dataStoreId=t.id,s.a.dataStoreName=t.name;const a=await(0,n.g)(s.a.dataStoreId,"/","datastore",s.a.serverId);if("failToListDataStoreContents"===(null===(e=a.error)||void 0===e?void 0:e.code))return this.loading=!1,void(this.error="failToListDataStoreContents");const o=a.result,l=this.filterContentsByUserSelection(o);if(!o.children||0===l.children.length)return this.error="noContentInDataStore",void(this.loading=!1);s.a.datastoreContents=l,s.a.dataStoreCachedData=Object.assign(Object.assign({},s.a.dataStoreCachedData),{"/":s.a.datastoreContents}),(0,c.b)(),this.newItemUpdatePage.emit("dataStoreBrowser")}filterContentsByUserSelection(e){var t;const r="tileLayer"===s.a.newItemMode?"tile-layer":"scene-layer",a=s.a.tileLayerPublishType;return Object.assign(Object.assign({},e),{children:null===(t=e.children)||void 0===t?void 0:t.filter((e=>{const t=e.type;let o="folder"===t;return"tile-layer"===r?o||(o="tiles"===a&&"cacheDataset"===t||"vectorTiles"===a&&"vectorCacheDataset"===t):"scene-layer"===r&&(o||(o="extractedScenePackage"===t||"i3sRestCache"===t)),o}))})}render(){const{selected:e,pagination:t,i18n:r,loading:n}=this,{portal:i,user:s,api:l}=o.c;return(0,a.h)(a.H,null,(0,a.h)("arcgis-item-browser",{onArcgisItemBrowserUpdate:e=>{const{results:t,num:r,start:a,total:o}=e.detail;this.items=t,this.pagination={start:a,num:r,total:o}},onArcgisItemBrowserSelect:e=>{const t=e.detail[0];this.selected={id:t.id,name:t.title}},q:'type:"Data Store"',portal:i,user:s,api:l,selection:"single"},(0,a.h)("arcgis-item-browser-top-bar",{slot:"top-bar"},(0,a.h)("arcgis-item-browser-search",{slot:"search",term:"",placeholder:r.search})),(0,a.h)("arcgis-new-item-description",{header:r.heading,content:r.subHeading,slot:"content-start",class:"header"}),(0,a.h)("arcgis-item-browser-sort",{options:["modified","title","relevance"],slot:"sort"}),(0,a.h)("arcgis-item-browser-content",{slot:"content"},this.items&&(0,a.h)("calcite-radio-button-group",{layout:"vertical",class:"tile-select",name:"data-store-selection-group"},(this.items||[]).map((t=>this.isValidDataStoreType(t)&&(0,a.h)("arcgis-new-item-pages-data-store-browser-card",{dataStoreItem:t,selected:e.id===t.id,key:t.id}))))),(0,a.h)("arcgis-item-browser-pagination",{total:null==t?void 0:t.total,start:null==t?void 0:t.start,num:null==t?void 0:t.num,slot:"pagination"})),this.renderErrorItem(),(0,a.h)("arcgis-new-item-loader",{active:n,text:r.processing}))}get el(){return(0,a.d)(this)}};d.style=".header{margin-left:1.5rem;margin-right:1.5rem;margin-top:2rem}.tile-select{margin-top:1.25rem}.no-items{margin-bottom:8rem}"},69283:(e,t,r)=>{r.d(t,{a:()=>a,c:()=>n,e:()=>i,g:()=>o,l:()=>s});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var i=n((function(e,t){!function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function o(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function n(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function i(e){return!e||o(e)?function(e){void 0===e&&(e=r);var t=n(e),i=o(e);if(i!==a&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var r=i(e),a=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return a||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(a=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),a}var l={};function c(e,t,r){var a;r&&(a=function(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var o=function(){t(e),e.removeEventListener("load",o,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",o,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function h(e){void 0===e&&(e={});var r={};[l,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,o=r.url||n(a);return new t.Promise((function(e,t){var n=d();if(n){var i=n.getAttribute("src");i!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):u()?e(n):c(n,e,t)}else if(u())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&s(!0===l?a:l,r.insertCssBefore),c(n=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(o),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),t),document.body.appendChild(n)}}))}function m(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),u())return m(e);var r=d(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),h(t).then((function(){return m(e)}))},e.getScript=d,e.isLoaded=u,e.loadScript=h,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const s=async(e,t)=>(await i.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},47934:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>d,l:()=>c});var a=r(49853),o=r(20206);const n="create tile layer",i="my content",s=e=>{switch(e){case"store":return"data store";case"existing":return"fs";case"upload":return"upload"}},l=e=>{switch(e){case"tiles":return"raster";case"vectorTiles":return"vector"}},c=()=>{var e;null===(e=a.c.telemetry)||void 0===e||e.startWorkflow(n,{category:"create tile layer",pageName:"my content"})},d=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(n,"from option",{category:n,attribute:s(o.a.addTileLayerOption),details:l(o.a.tileLayerPublishType),pageName:i})},u=()=>{const e=a.c.telemetry;null==e||e.endWorkflow(n,{category:n,attribute:s(o.a.addTileLayerOption),details:l(o.a.tileLayerPublishType),pageName:i})}}}]);