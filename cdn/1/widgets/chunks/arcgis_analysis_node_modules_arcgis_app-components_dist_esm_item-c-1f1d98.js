/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-1f1d98.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-1f1d98"],{20206:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>i,c:()=>o,d:()=>r});const r=(0,n(70464).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),s=r.state,o=r.state,i=r.state},64606:(e,t,n)=>{n.d(t,{a:()=>s,f:()=>o,s:()=>a});var r=n(36238);const s=e=>(null==e?void 0:e.replace(/(\s+|:)/g,"_"))||"",o=e=>{const t=e=>e.split(",").map((e=>e.trim())).filter((e=>e));return e?"string"==typeof e?(0,r.b)(t(e)):(0,r.b)(e.flatMap((e=>[...t(e)]))):[]},i=async e=>new Promise(((t,n)=>{for(let r=0;r<e.length;r++)e[r].then((n=>{const s=[...e];s.splice(r,1),t({remainingPromises:s,result:n})})).catch(n)}));async function a(e,t){var n,r;const s=[],{getBatchSize:o,onPromiseCompleted:a,onPromiseThrow:l,shouldContinue:c}=null!=t?t:{};let u=[];for(let t=0;t<(null!==(n=null==o?void 0:o())&&void 0!==n?n:1);t++)try{const t=e();t&&u.push(t)}catch(e){null==l||l(e)}let d=null;for(;u.length>0&&(!c||c(d));)try{const{remainingPromises:t,result:n}=await i(u);u=t,d=n,n&&s.push(n),null==a||a(n);const l=null!==(r=null==o?void 0:o())&&void 0!==r?r:1;for(;u.length<l;){const t=e();if(t&&u.push(t),null==t)break}}catch(e){null==l||l(e)}return s}},74689:(e,t,n)=>{n.d(t,{a:()=>i,b:()=>o,c:()=>l,d:()=>u,g:()=>d,i:()=>a,u:()=>c});var r=n(79210);function s(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function o(e){var t;return s(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function i(e){var t;return s(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function l(e,t){return c(e,t)||"update"===e.itemControl}function c(e,t){return a(e,t)||function(e,t){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,s="admin"===e.itemControl;return!((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!a(e,t)&&s&&r.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(r))&&s}(e,t)}const u=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,r.a)(t)}item.html?id=${e}`},30301:(e,t,n)=>{n.d(t,{a:()=>i,b:()=>a,c:()=>u,d:()=>d,g:()=>l,i:()=>p});var r=n(20164),s=n(88780),o=n(79210);const i=async(e,t)=>{try{return{result:await(0,s.r)(c(e,t),t)}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},a=(e,t)=>`${c(e,t)}/data`,l=async(e,t)=>(0,s.r)(a(e,t),t),c=(e,t)=>`${(0,r.g)(t)}content/items/${e}`,u=async(e,t,n)=>{try{const r=c(e,t);return await(0,s.r)(r,t,n)}catch(e){console.warn(e)}},d=async(e,t)=>{try{const n=`${c(e,t)}/groups`;return{result:await(0,s.r)(n,t)}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},p=async(e,t)=>{let n=!1;return(0,s.i)(e.typeKeywords,e.type)&&(n=await y(e.url,t)),n},y=async(e,t,n=!1)=>{var r,i,a;if(e)try{const a=await(0,s.r)(`${null===(r=(0,o.p)(e))||void 0===r?void 0:r.baseServerUrl}/layers`,t,{addTokenManually:!n});return null===(i=null==a?void 0:a.layers)||void 0===i?void 0:i.reduce(((e,t)=>e||(null==t?void 0:t.capabilities.includes("Editing"))),!1)}catch(n){if(null===(a=null==n?void 0:n.message)||void 0===a?void 0:a.toLowerCase().includes("token required"))return y(e,t,!0)}return!1}},12846:(e,t,n)=>{n.d(t,{a:()=>r,i:()=>s});const r=(0,n(70464).c)({title:"",snippet:"",tags:[],categories:[]}),s=r.state},82102:(e,t,n)=>{n.d(t,{a:()=>v,b:()=>C,c:()=>O,d:()=>h,e:()=>w,f:()=>d,g:()=>m,h:()=>p,i:()=>y,j:()=>k,k:()=>f,l:()=>j,m:()=>g,n:()=>b,s:()=>U,u:()=>$});var r=n(20164),s=n(49853),o=n(74689),i=n(12846),a=n(20206),l=n(65804),c=n(64606),u=n(13615);function d({title:e,snippet:t,tags:n}){return{title:e,snippet:t,tags:(0,c.f)(n).join(",")}}const p=(e,t)=>{var n;const{file:r,type:s,extension:o,dataUrl:i,properties:a,typeKeywords:l}=t,c=d(e),p=[...null===(n=u.a[s])||void 0===n?void 0:n.typeKeywords,...l?[l]:[],o].join(", "),y=Object.assign({type:s,extension:o},a?{properties:JSON.stringify(a)}:{}),f=r?{file:r}:{dataUrl:i.includes('httpHeaders={"Authorization"')?i:encodeURI(i)};return Object.assign(Object.assign(Object.assign(Object.assign({},y),f),c),{typeKeywords:p})},y=(e,t)=>{const n=p(e,t),r=!!t.addAsUniqueFile,s=new FormData;return s.append("f","json"),s.append("async","true"),Object.keys(n).forEach((e=>{if(r&&"file"===e){const r=t.fileName;s.append(e,n[e],r)}else s.append(e,n[e])})),s},f=(e,t)=>{const n=(null==t?void 0:t.id)&&!function(e){return["all","recycle"].includes(e.id)||e.id===e.username}(t)?`/${t.id}`:"";return`${e.userContentUrl}${n}/addItem`},m=(e,t)=>`${(0,r.g)(t)}content/items/${e}`,v=async(e,t)=>{try{const n=m(e,t);return{result:await(0,r.r)(n)}}catch(e){return console.warn("error getting item",e),{error:{code:"unhandledError"}}}},w=async(e,t)=>{const n=new FormData;switch(t.type){case"base64":n.append("data",t.data);break;case"url":n.append("url",t.url);break;case"file":n.append("file",t.file)}return n.append("f","json"),n.append("token",(0,r.e)(s.c.portal)),await(0,r.d)(`${(0,r.g)()}content/users/${s.c.user.username}/items/${e}/updateThumbnail`,n,{},"post")};async function g(e,t){const n=`${s.c.user.userContentUrl}/moveItems`;return await(0,r.r)(n,{items:e,folder:t},{},"post")}async function h(e,{permanentDelete:t=!1}={}){const n=`${s.c.user.userContentUrl}/items/${e}/delete`;return await(0,r.r)(n,{permanentDelete:t},{},"post")}async function $(e,t,n){var o;const i=null!==(o=null!=n?n:s.c.user)&&void 0!==o?o:s.c.portal.user,c=`${"append"===l.u.workflow?a.a.existingItem.itemOwner.userContentUrl:i.userContentUrl}/items/${e}/update`;return(0,r.r)(c,t,{},"post")}const b=(e,t)=>{const n=`${(0,r.g)(t)}content/items/${e}/data`;return(0,r.r)(n)},k=async(e,t)=>{const n=`${s.c.user.userContentUrl}/items/${e}/commit`,o=y(i.i,t);return o.delete("file"),await(0,r.d)(n,o,{},"post")},j=async e=>{const t=`${s.c.user.userContentUrl}/items/${e}/cancel`;return await(0,r.r)(t,{},{},"post")},C=async e=>{const t=f(s.c.user,i.i.folder),n=d(i.i),o=Object.assign({},e);return delete o.initialFolders,delete o.initialTitle,delete o.newItemMode,delete o.serviceInfo,delete o.allowStoredAuth,delete o.isSecured,delete o.checkAuth,delete o.agsType,delete o.developerCredentialsType,delete o.applicationEnvironment,delete o.apiKeyReferrerUrls,delete o.developerCredentialsRedirectUrls,delete o.developerPrivileges,await(0,r.r)(t,Object.assign(Object.assign(Object.assign(Object.assign({},o),(e=>e.url&&!!e.serviceInfo)(e)?{serviceInfo:JSON.stringify(e.serviceInfo)}:{}),{typeKeywords:JSON.stringify(e.typeKeywords)}),n),{},"post")};async function U(e,t,n,i,a,l){null!=a||(a=s.c.user),null!=l||(l=s.c.portal);const c=n&&n.id!==a.username?n.id:"root",u=e.replace(`.${i}`,"");if("featurecollection"===i||"Microsoft Excel"===t)return null;const d=[`title: "${u}"`,`type: "${t}"`,`owner: "${a.username}"`,`ownerfolder: "${c}"`],p=await(0,r.r)(`${(0,r.g)(l)}search`,{filter:d.join(" AND "),num:1});return(null==p?void 0:p.total)>0?{num:p.num,itemURLList:p.results.map((e=>(0,o.g)(e.id,s.c.config.baseUrl)))}:null}async function O(e,t){const n=(0,c.a)(e),{user:a,config:l,portal:u}=s.c,{folder:d}=i.i,p=d&&d.id!==a.username?d.id:"root",y=[`owner: "${a.username}"`,`ownerfolder: "${p}"`];t&&y.push(`type: "${t}"`);let f,m=1;for(let e=0;e<10&&!f&&m>-1;e++){const{nextStart:e,results:t}=await(0,r.r)(`${(0,r.g)()}search`,{[u.isPortal?"q":"filter"]:y.join(" AND "),num:100,start:m});f=t.find((e=>e.name===n)),m=e}return f?(0,o.g)(f.id,l.baseUrl):null}},88780:(e,t,n)=>{n.d(t,{a:()=>i,g:()=>a,i:()=>l,r:()=>o});var r=n(20164),s=n(49853);const o=async(e,t,n={})=>{const{body:o,usePost:i,addTokenManually:a,api:l=(null===s.c||void 0===s.c?void 0:s.c.api),customToken:c}=n,u=new URLSearchParams;o&&Object.entries(o).forEach((([e,t])=>{void 0!==t&&u.append(e,t)}));const d=new URL(e);if(d.searchParams.append("f","json"),c)d.searchParams.append("token",c);else{const e=!1===a?null:await(0,r.h)(t,l);e&&d.searchParams.append("token",e)}const p=await fetch(d.toString(),{body:i?u:void 0,method:i?"POST":"GET"}),y=await p.json(),f=y.error;if(f)throw"string"==typeof f?new Error(f):f;return y},i=async(e,t)=>{var n;try{return{result:await o(e,t,{addTokenManually:!1})}}catch(e){const t="token required";return(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.toLowerCase().includes(t))?{error:{code:"tokenRequired"}}:(console.error(e),{error:{code:"unhandledError"}})}};async function a(e,t,{relationshipType:n,direction:s}){const o=`${(0,r.g)(t)}content/items/${e}/relatedItems`;return await(0,r.r)(o,{relationshipType:n,direction:s})}const l=(e,t)=>"Feature Service"===t&&e.includes("Hosted Service")},65804:(e,t,n)=>{n.d(t,{a:()=>r,u:()=>s});const r=(0,n(70464).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),s=r.state}}]);