"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-48d7b2"],{53248:(e,t,n)=>{n.d(t,{A:()=>o,G:()=>R,J:()=>r,M:()=>i,P:()=>c,U:()=>a,a:()=>d,d:()=>s});const a={IDLE:"idle",VALID:"valid",INVALID:"invalid"},r={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},i={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},s={name:"Raster",isDataset:!0,isPublic:!1,type:r.RASTER_FUNCTION_VARIABLE},o={RFX_DTEX_COMMON_SELECT:"RFX-DTEX-COMMON-SELECT",RFX_DTE_COMMON_CHECKBOX:"CALCITE-CHECKBOX",RFX_DTE_COMMON_TEXTINPUT:"CALCITE-INPUT-TEXT",RFX_DTE_COMMON_NUMBERINPUT:"CALCITE-INPUT-NUMBER",RFX_DTE_RASTER_INPUT:"RFX-DTE-RASTER-INPUT",RFX_DTE_FEATURE_SELECT:"RFX-DTE-FEATURE-SELECT",RFX_DTEX_RASTER_VARIABLES_LIST:"RFX-DTEX-RASTER-VARIABLES-LIST",RFX_CTE_RANGED_VALUE_EDITOR:"RFX-CTE-RANGED-VALUE-EDITOR",RFX_CTE_GAMMA_EDITOR:"RFX-CTE-GAMMA-EDITOR",RFX_DTE_COLOR_RAMP_SELECTOR:"RFX-DTE-COLOR-RAMP-SELECTOR",RFX_DTE_EXTENT:"RFX-DTE-EXTENT",RFX_DTE_JSON_FILE_UPLOADER:"RFX-DTE-JSON-FILE-UPLOADER",RFX_CTE_FACTOR_FUNCTION_EDITOR:"RFX-CTE-FACTOR-FUNCTION-EDITOR",RFX_CTE_NEIGHBORHOOD_VALUES:"RFX-CTE-NEIGHBORHOOD-VALUES"},d={ANALYSIS:"analysis",EDITOR:"editor"},R={textInput:"text-input",text:"text",raster:"raster-input",number:"number-input",boolean:"check-box",switch:"switch",field:"field-select",color:"color-input",select:"select",icon:"icon"},c={loading:"loading",success:"success",error:"error"}},48302:(e,t,n)=>{n.d(t,{D:()=>o,S:()=>a,a:()=>d,b:()=>c,f:()=>l,g:()=>R});const a={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Hindi:"hi",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},r=["ar","de","es","fr","it","ja","ko","ru","pl","pt-br","zh-cn"],i={"en-AU":"en","en-CA":"en","en-GB":"en","en-US":"en","es-ES":"es","es-MX":"es","de-CH":"de","de-AT":"de","de-DE":"de","fr-CH":"fr","fr-FR":"fr","it-CH":"it","it-IT":"it",ind:"id",ukr:"uk"},s=[a.Arabic,a.Hebrew],o=a.English;function d(e){return!0===e?"rtl":"ltr"}function R(e=document.documentElement){const t=("[lang]",function e(t){let n;return n=void 0===t||t===document||t===window?null:t.closest("[lang]")||e(t.getRootNode().host),n}(e));const n=t?.lang??window.navigator.language,r=Object.values(a),d=o,R=function(e,t){const n=o;let a=e?.toLowerCase();if(void 0!==a&&-1!==a.indexOf("-")){const[e,t]=a.split("-");a=`${e}-${t.toUpperCase()}`}return a?!0===Object.keys(i).includes(a)?t[a]:a:n}(n,i);return{locale:r.includes(R)?R:d,rtl:s.includes(n)}}async function c(e,t){const n=e.tagName.toLowerCase(),{locale:a,rtl:r}=R(e),i=await async function(e){const{path:t,locale:n,baseURL:a}=e;let r={};try{const e=await fetch(`${a}t9n/${t}.t9n.${n}.json`);r=await e.json()}catch(e){const n=await fetch(`${a}t9n/${t}.t9n.${o}.json`);r=await n.json()}return r}({path:n,locale:a,baseURL:t});return{strings:i,dir:d(r),locale:a}}function l(e,t,n="en"){let a=n;!0===Object.keys(i).includes(n)&&(a=i[n]);const s=a.toLocaleLowerCase();return!0===r.includes(s)&&(t=t.replace(/^https?:\/\/[^/]+\/en/,(e=>e.replace("en",s)))),`${t}analyze/${e}`}},88070:(e,t,n)=>{n.r(t),n.d(t,{rfx_cte_band_arithmetic_band_indexes_editor:()=>R});var a=n(19451),r=n(48302),i=(n(34319),n(64729)),s=n(53248),o=(n(46574),n(46717),n(55139),n(57098),n(78979),n(83345),n(99248),n(16888),n(95323),n(43278),n(86944),n(74656),n(34751));const d="bandindexesHelpClickHandler",R=class{constructor(e){(0,a.r)(this,e),this.rfxArgumentChange=(0,a.c)(this,"rfxArgumentChange",7),this.helpActionClickEventHandlers=new Map,this.placeholder=void 0,this.bandIndexEditorMessage=void 0,this.widgetArgs=void 0}connectedCallback(){this.widgetArgs.triggerArgs?.Method.input.addEventListener("rfxArgumentChange",(({detail:{value:e}})=>{this.handleMethodChange(e)}))}async componentWillLoad(){({strings:this.strings,dir:this.direction}=await(0,r.b)(this.hostElement,(0,a.g)("."))),this.setInitialState()}componentDidLoad(){this.attachHelpClickEventHandlers()}setInitialState(){const e=this.widgetArgs.inputArgs?.BandIndexes.value;this.value=e;const t=this.widgetArgs.triggerArgs?.Method.value;this.handleMethodChange(t)}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.widgetArgs?.inputArgs?.BandIndexes?.displayName,referenceElement:this.bandIndexsEditorContainer,helpTextID:this.widgetArgs.helpTextIDs?.bandarithmetic_bandindexes});this.helpActionClickEventHandlers.set(d,e)}handleMethodChange(e){let t=`${this.strings.example}: `,n=`${this.strings.input}: `,a=`${this.strings.output}: `;const r=` (${this.strings.optional})`,i="</br>";switch(parseInt(e)){case 0:t+="(B3 - B1) / (B3 + B1)",n="",a="";break;case 1:t+="3 1",n+="NIR Red",a+="(NIR - Red) / (NIR + Red)";break;case 2:t+="3 1 0.33",n+="NIR Red L",a+="((NIR - Red) / (NIR + Red + L)) * (1 + L)";break;case 3:t+="3 1 0.33 0.5 1.5",n+="NIR Red s a X",a+="(s * (NIR - s * Red - a)) / (a * NIR + Red - a * s + X * (1 + s * s))";break;case 4:t+="3 1",n+="NIR Red",a+="(2 * NIR + 1 - Sqrt((2 * NIR + 1) ^ 2 - 8 * (NIR - Red))) / 2";break;case 5:t+="3 1",n+="NIR Red",a+="eta * (1 - 0.25 * eta) - ((Red - 0.125) / (1 - Red))",a+=i,a+=i,a+=" *eta = [2 * (NIR ^ 2 – Red ^ 2) + 1.5 * NIR + 0.5 * Red] / (NIR + Red + 0.5)";break;case 6:t+="3 1 0.33 0.5",n+="NIR Red a b",a+="(NIR - a * Red - b) / (Sqrt(1 + a ^ 2))";break;case 7:t+="1 2 3 4 5 7",n+="TM1 TM2 TM3 TM4 TM5 TM7",n+=r,a+="-0.2848 * TM1 - 0.2435 * TM2 - 0.5436 * TM3 + 0.7243 * TM4 + 0.084 * TM5 - 0.18 * TM7";break;case 8:t+="1 3 4 5 6",n+="Band1 Band3 Band4 Band5 Band6",n+=r,a+=i,a+=" Band1 = (Band5 / Band6) * 100",a+=i,a+=" Band2 = (Band5 / Band1) * 100",a+=i,a+=" Band3 = (Band3 / Band4) * (Band5 / Band4) * 100";break;case 9:t+="3 2 1",n+="Red Green Blue",a+="(Green - Red) / (Green + Red - Blue)";break;case 10:t+="3 1",n+="NIR Green",a+="(NIR - Green) / (NIR + Green)";break;case 11:t+="3 1",n+="NIR Red",a+="NIR / Red";break;case 12:t+="3 1",n+="NIR RedEdge",a+="(NIR - RedEdge) / (NIR + RedEdge)";break;case 13:t+="3 1",n+="NIR RedEdge",a+="NIR / RedEdge";break;case 14:t+="3 1 2",n+="NIR Green Red",a+="(1.5 * (1.2 * (NIR - Green) - 2.5 * (Red - Green) ) / Sqrt( (2 * NIR + 1) ^ 2 - (6 * NIR - 5 * Sqrt(Red) ) - 0.5 ) )";break;case 15:t+="3 2 1",n+="NIR RedEdge Green",a+="(100 * (NIR - RedEdge) - 10 * (NIR - Green))";break;case 16:t+="3 2",n+="NIR RedEdge",a+="(NIR / RedEdge) - 1.0";break;case 17:t+="3 1",n+="NIR Green",a+="(NIR / Green) - 1.0";break;case 18:t+="3 1",n+="NIR Green",a+="(Green - NIR) / (Green + NIR)";break;case 19:t+="3 2 1",n+="NIR Red Blue",a+="2.5 * [(NIR - Red)/ (NIR + (6 * Red) - (7.5 * Blue) + 1.0)]";break;case 20:t+="3 1",n+="Red Blue",a+="Red / Blue";break;case 21:t+="3 1",n+="SWIR NIR",a+="SWIR / NIR";break;case 22:t+="3 1",n+="SWIR1 SWIR2",a+="SWIR1 / SWIR2";break;case 23:t+="3 2 1",n+="Green NIR SWIR",a+="[Green – α * NIR – (1 – α) * SWIR ] / [Green + α * NIR + (1 – α) * SWIR]";break;case 24:t+="3 1",n+="Red NIR",a+="1/((0.1 -RED)^2 + (0.06 - NIR)^2)";break;case 25:t+="3 1",n+="NIR SWIR",a+="(NIR - SWIR) / (NIR + SWIR)";break;case 26:t+="3 1",n+="SWIR NIR",a+="(SWIR - NIR) / (SWIR + NIR)";break;case 27:t+="3 1",n+="NIR SWIR1",a+="(NIR - SWIR1) / (NIR + SWIR1)";break;case 28:case 29:t+="3 1",n+="Green SWIR",a+="(Green - SWIR) / (Green + SWIR)"}let s;this.placeholder=t;try{s=(n+i+a).replace(/(\d+(\.\d+)?)/g,(function(e){return(0,o.a)(parseFloat(e))}))}catch{s=n+i+a}this.bandIndexEditorMessage=s}render(){return(0,a.h)("div",null,(0,a.h)("calcite-label",{alignment:"start",scale:i.U.Scale,layout:"default",ref:e=>{this.bandIndexsEditorContainer=e}},(0,a.h)("rfx-label",{label:this.widgetArgs.inputArgs.BandIndexes.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(d)()}),(0,a.h)("calcite-input",{type:"text",ref:e=>{this.widgetArgs.inputArgs.BandIndexes.input=e},scale:i.U.Scale,placeholder:this.placeholder,value:this.value}),(0,a.h)("calcite-input-message",{status:s.U.IDLE,icon:!0,"icon-flip-rtl":"rtl"===this.direction,ref:e=>{e.innerHTML=this.bandIndexEditorMessage}})))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,a.a)(this)}};n(77162),n(48363)},34751:(e,t,n)=>{n.d(t,{a:()=>R,f:()=>d,i:()=>i,p:()=>o,s:()=>s});var a=n(48302),r=n(77162);function i(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function s(e,t){let n;if(null!==e){const a="string"==typeof e?Number.parseFloat(e):e;i(a)?n=a:i(t)&&(n=t)}return void 0===n?"":`${n}`}function o(e){if(""!==e)return Number.parseFloat(e)}function d(e,t=3){if(!(0,r.i)(e))return Number.parseFloat(e.toFixed(t))}function R(e,t){let n="";if(!(0,r.i)(e)&&!Number.isNaN(e)){const r=(0,a.g)().locale;n=Intl.NumberFormat(r,t).format(Number(e))}return n}},77162:(e,t,n)=>{n.d(t,{A:()=>c,F:()=>l,R:()=>R,T:()=>d,a:()=>N,b:()=>o,c:()=>u,d:()=>I,e:()=>E,g:()=>h,h:()=>g,i:()=>f,l:()=>b,m:()=>p});var a=n(48363),r="[object Map]",i="[object Set]",s=Object.prototype.hasOwnProperty;const o="RasterFunctionTemplate",d="type",R="RasterFunctionVariable",c="arguments",l="function";function u(e){return!!e&&null!=e._object_ref_id}function I(e){return""!==(e=String(e).trim())&&/^[+-]?(\d+)?(\.\d+)?$/.test(e)}function E(e){return e=String(e).trim(),["true","false"].indexOf(e)>=0}function h(e){return e.type&&e.type.toLowerCase().indexOf("recordset")>=0}function N(e){if(!e)return!1;const t=e.type;return[o,R].indexOf(t)>=0||!(!(n=e)||!(n.type&&n.type.toLowerCase().indexOf("colorramp")>=0||n.value&&n.value.type&&n.value.type.toLowerCase().indexOf("colorramp")>=0))||h(e);var n}function g(e){return"feature"===e.type}function T(e){return"imagery-tile"===e.type&&e.sourceJSON.capabilities.toLowerCase().indexOf("tilesonly")<0}function b(e){return"imagery"===e.type||T(e)}function p(e){return"imagery-tile"===e.type&&!T(e)}function f(e){return null==e||"string"==typeof e&&""===e||(0,a.h)(e)&&function(e){if(null==e)return!0;if((0,a.i)(e)&&((0,a.a)(e)||"string"==typeof e||"function"==typeof e.splice||(0,a.b)(e)||(0,a.c)(e)||(0,a.d)(e)))return!e.length;var t=(0,a.g)(e);if(t==r||t==i)return!e.size;if((0,a.e)(e))return!(0,a.f)(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}(e)||Array.isArray(e)&&e.length<1||"object"==typeof e&&!1===(0,a.a)(e)&&function(e){let t=!0;if("object"==typeof e&&!1===(0,a.a)(e))for(const n in e){const a=e?.[n];if(!0===e.hasOwnProperty(n)&&null!=a&&""!==a){t=!1;break}}return t}(e)}},64729:(e,t,n)=>{n.d(t,{C:()=>r,U:()=>a,a:()=>i});const a={Scale:"s",PopoverTimer:60},r={s:"s",m:"m"},i={absolute:"absolute",fixed:"fixed"}}}]);