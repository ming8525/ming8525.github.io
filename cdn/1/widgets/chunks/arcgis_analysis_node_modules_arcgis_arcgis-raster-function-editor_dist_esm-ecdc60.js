"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-ecdc60"],{53248:(t,e,i)=>{i.d(e,{A:()=>o,G:()=>l,J:()=>s,M:()=>a,P:()=>d,U:()=>r,a:()=>c,d:()=>n});const r={IDLE:"idle",VALID:"valid",INVALID:"invalid"},s={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},a={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},n={name:"Raster",isDataset:!0,isPublic:!1,type:s.RASTER_FUNCTION_VARIABLE},o={RFX_DTEX_COMMON_SELECT:"RFX-DTEX-COMMON-SELECT",RFX_DTE_COMMON_CHECKBOX:"CALCITE-CHECKBOX",RFX_DTE_COMMON_TEXTINPUT:"CALCITE-INPUT-TEXT",RFX_DTE_COMMON_NUMBERINPUT:"CALCITE-INPUT-NUMBER",RFX_DTE_RASTER_INPUT:"RFX-DTE-RASTER-INPUT",RFX_DTE_FEATURE_SELECT:"RFX-DTE-FEATURE-SELECT",RFX_DTEX_RASTER_VARIABLES_LIST:"RFX-DTEX-RASTER-VARIABLES-LIST",RFX_CTE_RANGED_VALUE_EDITOR:"RFX-CTE-RANGED-VALUE-EDITOR",RFX_CTE_GAMMA_EDITOR:"RFX-CTE-GAMMA-EDITOR",RFX_DTE_COLOR_RAMP_SELECTOR:"RFX-DTE-COLOR-RAMP-SELECTOR",RFX_DTE_EXTENT:"RFX-DTE-EXTENT",RFX_DTE_JSON_FILE_UPLOADER:"RFX-DTE-JSON-FILE-UPLOADER",RFX_CTE_FACTOR_FUNCTION_EDITOR:"RFX-CTE-FACTOR-FUNCTION-EDITOR",RFX_CTE_NEIGHBORHOOD_VALUES:"RFX-CTE-NEIGHBORHOOD-VALUES"},c={ANALYSIS:"analysis",EDITOR:"editor"},l={textInput:"text-input",text:"text",raster:"raster-input",number:"number-input",boolean:"check-box",switch:"switch",field:"field-select",color:"color-input",select:"select",icon:"icon"},d={loading:"loading",success:"success",error:"error"}},81349:(t,e,i)=>{i.r(e),i.d(e,{rfx_cte_transpose_bit:()=>E});var r=i(19451),s=i(48302),a=(i(34319),i(36676)),n=i(77162),o=i(64729),c=i(53248),l=(i(46574),i(46717),i(55139),i(57098),i(78979),i(83345),i(99248),i(16888),i(95323),i(43278),i(34751)),d=(i(86944),i(74656),i(35746));const u="rfx-cte-transpose-bit__outputBit-column",h="bitPatternHelpClickHandler",E=class{constructor(t){(0,r.r)(this,t),this.rfxArgumentChange=(0,r.c)(this,"rfxArgumentChange",7),this.uiElements={widgetLabel:void 0,widgetContainer:void 0},this.gridSchema={gridLayout:{},gridOptions:[],hasBorder:!0,hasHeader:!0,canAdd:!1,hasIdColumn:!1,canRemove:!1,isStacked:!1},this.store=[],this.helpActionClickEventHandlers=new Map,this.handleBitPatternChange=t=>{t.stopPropagation();const e=t.target.value;this.bitPattern=e,this.widgetArgs.rfxArgs.QualityClass=this.bitPattern;const i=this.createDataObjects(this.bitPattern);this.gridStore=i},this.updateGridValue=t=>{const{detail:{gridOptions:e}}=t;if((0,n.i)(e))return;const i=this.gridStore;this.gridStore=[...i]},this.widgetArgs=void 0,this.gridStore=[]}async componentWillLoad(){({strings:this.strings,dir:this.direction}=await(0,s.b)(this.hostElement,(0,r.g)("."))),await this.setupInitialState(this.widgetArgs)}componentWillRender(){this.initGrid(),this.setWidgetValue(this.widgetArgs)}componentDidLoad(){this.attachHelpClickEventHandlers(this.widgetArgs)}get isBitPatternUserDefined(){return"qcbp_UserDefined"===this.bitPattern}async setupInitialState({rfxArgs:t}){this.uiElements.widgetLabel=this.strings.bitPattern;const e=(await(0,a.g)()).esriTransposeBitPatterns;this.store=(0,d.c)(e),this.store?.forEach((t=>{t.key=t.key.toString()})),(0,n.i)(this.store)&&console.error("Domain list Enum not set! Check Schema");let i=t?.QualityClass;(0,n.i)(i)&&(i=this.store[0].key,t.QualityClass=i),this.bitPattern=i;const r=this.createDataObjects(this.bitPattern);this.gridStore=r}createDataObjects(t){return Array.from({length:8},((e,i)=>{const r=String(i);let s="";if(this.isBitPatternUserDefined){const{InputBitPositions:t,OutputBitPositions:e}=this.widgetArgs.inputArgs,r=t.value??[],a=(e.value??[]).indexOf(i);s=a>-1?r[a]:""}else s=a.t[t][i];return{id:i+1,outputBit:r,inputBit:s}}))}initGrid(){const t={outputBit:{uiType:c.G.text,label:this.strings.outputBit,style:u},inputBit:{uiType:this.isBitPatternUserDefined?c.G.number:c.G.text,label:this.strings.inputBit}},e=this.gridStore;this.gridSchema={...this.gridSchema,gridLayout:t,gridOptions:e}}setWidgetValue({inputArgs:t}){const{inputBit:e,outputBit:i}=this.gridStore.reduce(((t,e)=>((0,l.i)((0,l.p)(e.inputBit))&&(t.inputBit.push((0,l.p)(e.inputBit)),t.outputBit.push((0,l.p)(e.outputBit))),t)),{inputBit:[],outputBit:[]}),{InputBitPositions:r,OutputBitPositions:s}=t;r.value=e,s.value=i}attachHelpClickEventHandlers({helpTextIDs:t}){const e=this.widgetArgs.onHelpActionClick({heading:this.uiElements.widgetLabel,referenceElement:this.uiElements.widgetContainer,helpTextID:t.transposebits_bitpattern});this.helpActionClickEventHandlers.set(h,e)}render(){return(0,r.h)("div",null,(0,r.h)("calcite-label",{alignment:"start",scale:o.U.Scale,layout:"default",ref:t=>{this.uiElements.widgetContainer=t}},(0,r.h)("rfx-label",{label:this.uiElements.widgetLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),(0,r.h)("rfx-dtex-common-select",{options:this.store,value:String(this.bitPattern),onRfxArgumentChange:this.handleBitPatternChange}),(0,r.h)("rfx-grid",{hasHeader:this.gridSchema.hasHeader,canAdd:this.gridSchema.canAdd,hasIdColumn:this.gridSchema.hasIdColumn,gridLayout:this.gridSchema.gridLayout,gridOptions:this.gridSchema.gridOptions,hasBorder:this.gridSchema.hasBorder,canRemove:this.gridSchema.canRemove,isStacked:this.gridSchema.isStacked,onRfxGridOptionChange:this.updateGridValue})))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,r.a)(this)}};E.style=":root{--calcite-color-brand:#007ac2;--calcite-color-brand-hover:#00619b;--calcite-color-brand-press:#004874;--calcite-color-status-info:#00619b;--calcite-color-status-success:#35ac46;--calcite-color-status-warning:#edd317;--calcite-color-status-danger:#d83020;--calcite-color-status-danger-hover:#a82b1e;--calcite-color-status-danger-press:#7c1d13;--calcite-color-background:#f8f8f8;--calcite-color-foreground-1:#ffffff;--calcite-color-foreground-2:#f3f3f3;--calcite-color-foreground-3:#eaeaea;--calcite-color-text-1:#151515;--calcite-color-text-2:#4a4a4a;--calcite-color-text-3:#6a6a6a;--calcite-color-text-inverse:#ffffff;--calcite-color-text-link:#00619b;--calcite-color-border-1:#cacaca;--calcite-color-border-2:#d4d4d4;--calcite-color-border-3:#dfdfdf;--calcite-color-border-input:#949494;--rfx-quarter-spacing:0.25rem;--rfx-half-spacing:0.5rem;--rfx-three-quarter-spacing:0.75rem;--rfx-full-spacing:1rem;--rfx-component-default-width:100%;--rfx-ui-border-input:var(--calcite-color-border-2);--rfx-popover-content-min-height:30vh;--rfx-popover-content-max-height:60vh;--rfx-popover-content-height:45vh;--rfx-widget-content-height:30vh}.rfx-cte-transpose-bit__outputBit-column{width:50%}",i(48363),i(32804)},34751:(t,e,i)=>{i.d(e,{a:()=>l,f:()=>c,i:()=>a,p:()=>o,s:()=>n});var r=i(48302),s=i(77162);function a(t){return null!=t&&!1===Number.isNaN(t)&&!0===Number.isFinite(t)}function n(t,e){let i;if(null!==t){const r="string"==typeof t?Number.parseFloat(t):t;a(r)?i=r:a(e)&&(i=e)}return void 0===i?"":`${i}`}function o(t){if(""!==t)return Number.parseFloat(t)}function c(t,e=3){if(!(0,s.i)(t))return Number.parseFloat(t.toFixed(e))}function l(t,e){let i="";if(!(0,s.i)(t)&&!Number.isNaN(t)){const s=(0,r.g)().locale;i=Intl.NumberFormat(s,e).format(Number(t))}return i}},64729:(t,e,i)=>{i.d(e,{C:()=>s,U:()=>r,a:()=>a});const r={Scale:"s",PopoverTimer:60},s={s:"s",m:"m"},a={absolute:"absolute",fixed:"fixed"}}}]);