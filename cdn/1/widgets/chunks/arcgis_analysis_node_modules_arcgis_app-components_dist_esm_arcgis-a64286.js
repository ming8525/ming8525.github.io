"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a64286"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-cloud-credentials.entry.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-cloud-credentials.entry.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_data_store_select_cloud_credentials: () => (/* binding */ ArcgisNewItemPagesDataStoreSelectCloudCredentials)
/* harmony export */ });
/* harmony import */ var _index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e3bf7da7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-e3bf7da7.js");
/* harmony import */ var _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config-75adf962.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-75adf962.js");
/* harmony import */ var _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-item-dbbe2f57.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-dbbe2f57.js");
/* harmony import */ var _data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data-store-e2ae6a67.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-e2ae6a67.js");
/* harmony import */ var _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui-bca7bcd1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-bca7bcd1.js");
/* harmony import */ var _data_store_8e83fb7a_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data-store-8e83fb7a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-8e83fb7a.js");
/* harmony import */ var _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./item-properties-10491b2e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-10491b2e.js");
/* harmony import */ var _data_store_8f8ac640_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./data-store-8f8ac640.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-8f8ac640.js");
/* harmony import */ var _index_05956cab_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-05956cab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-05956cab.js");
/* harmony import */ var _portal_d518b571_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./portal-d518b571.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-d518b571.js");
/* harmony import */ var _loadModules_b4ac1247_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./loadModules-b4ac1247.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-b4ac1247.js");
/* harmony import */ var _url_4c3ae54c_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./url-4c3ae54c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-4c3ae54c.js");
/* harmony import */ var _functional_44de8fcf_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./functional-44de8fcf.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-44de8fcf.js");
/* harmony import */ var _service_8c2c4241_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./service-8c2c4241.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/service-8c2c4241.js");
/* harmony import */ var _feature_layer_573bb473_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./feature-layer-573bb473.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-573bb473.js");
/* harmony import */ var _feature_layer_79fb302c_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./feature-layer-79fb302c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-79fb302c.js");
/* harmony import */ var _guid_aeaed84d_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./guid-aeaed84d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-aeaed84d.js");
/* harmony import */ var _thumbnail_bcb89e69_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./thumbnail-bcb89e69.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-bcb89e69.js");
/* harmony import */ var _user_3ea69c3a_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./user-3ea69c3a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-3ea69c3a.js");
/* harmony import */ var _query_d62660d4_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./query-d62660d4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-d62660d4.js");
/* harmony import */ var _api_2e3a136f_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./api-2e3a136f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-2e3a136f.js");
/* harmony import */ var _string_58a5fef3_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./string-58a5fef3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/string-58a5fef3.js");
/* harmony import */ var _dom_4d367677_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dom-4d367677.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-4d367677.js");
/* harmony import */ var _item_c58ffced_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./item-c58ffced.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-c58ffced.js");
/* harmony import */ var _server_item_8d384796_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./server-item-8d384796.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-8d384796.js");
/* harmony import */ var _item_3535552d_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./item-3535552d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-3535552d.js");
/* harmony import */ var _functional_81373f6d_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./functional-81373f6d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-81373f6d.js");
/* harmony import */ var _item_types_2029b06b_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./item-types-2029b06b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-2029b06b.js");
/* harmony import */ var _feature_layer_17b64946_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./feature-layer-17b64946.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-17b64946.js");
/* harmony import */ var _ags_eb458a03_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./ags-eb458a03.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-eb458a03.js");
/* harmony import */ var _url_35875a10_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./url-35875a10.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-35875a10.js");
/* harmony import */ var _storage_0353a769_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./storage-0353a769.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-0353a769.js");
/* harmony import */ var _file_bf8ab90f_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./file-bf8ab90f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-bf8ab90f.js");
/* harmony import */ var _store_6a88e6c5_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./store-6a88e6c5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-6a88e6c5.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */



































const arcgisNewItemPagesDataStoreSelectCloudCredentialsCss = "calcite-label{--calcite-label-margin-bottom:1.25rem}.configure-form{margin-top:1.5rem}.hide{display:none}.show{display:block}";

const ArcgisNewItemPagesDataStoreSelectCloudCredentials = class {
    constructor(hostRef) {
        (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.newItemUpdatePage = (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
        this.credentialType = null;
        this.authenticationTypes = [
            "activeDirectory",
            "sharedKey",
            "sasToken",
            "anonymous"
        ];
        this.identityTypes = [
            // "servicePrincipal",
            "userAssignedIdentity"
        ];
        this.selectedAuthenticationType = undefined;
        this.selectedIdentityType = undefined;
        this.endpoint = "";
        this.token = "";
        this.tenantId = "";
        this.clientId = "";
        this.clientSecret = "";
        this.accessKey = "";
        this.secretKey = "";
        this.accountName = "";
        this.accountKey = "";
        this.containerName = "";
        this.selectedRegionId = null;
        this.storageURL = "";
        this.bucketName = "";
        this.cloudFolder = "";
        this.regionSelectOptions = [];
        this.showPrivateURL = false;
        this.credentialTypeOptions = [];
        this.missingFields = {};
        this.loading = false;
        this.loaderType = "indeterminate";
        this.loaderMessage = undefined;
        this.invalidEndpoint = false;
        this.error = undefined;
    }
    async componentWillLoad() {
        this.i18n = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_4__.u.i18n.dataStoreSelectCloud;
        this.credentialTypesI18N = _ui_bca7bcd1_js__WEBPACK_IMPORTED_MODULE_4__.u.i18n.dataStoreSelectCloud.credentialTypes;
        this.provider =
            _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.addDataStoreType === "bdfs"
                ? _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bdfsCloudProvider
                : _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.provider;
        this.populateCredentialTypes();
        const regions = await (0,_data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.provider);
        this.addOptions((regions === null || regions === void 0 ? void 0 : regions.result) || []);
        this.populateFields();
    }
    populateFields() {
        const { provider } = this;
        switch (provider) {
            case "amazon":
                if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType) {
                    this.credentialType = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType;
                }
                this.accessKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey;
                this.secretKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey;
                if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion) {
                    this.selectedRegionId = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion.id;
                }
                this.storageURL = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL;
                this.bucketName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName;
                this.cloudFolder = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder;
                break;
            case "azure":
            case "azuredatalakegen2store":
                // Data lake currently only supports "Shared Key" authentication type
                this.selectedAuthenticationType =
                    provider === "azure"
                        ? _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.azureAuthenticationType || this.authenticationTypes[0]
                        : "sharedKey";
                this.selectedIdentityType = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.azureIdentityType || "userAssignedIdentity";
                this.tenantId = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.tenantId;
                this.clientId = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.clientId;
                this.clientSecret = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.clientSecret;
                this.token = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.token;
                this.endpoint = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.endpoint;
                this.accountKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accountKey;
                this.accountName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accountName;
                if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.environment) {
                    this.selectedRegionId = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.environment.id;
                }
                this.containerName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.containerName;
                this.cloudFolder = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder;
                break;
            case "google":
                // Right now, google only has "access key" as a credential type
                // Support for "private key" to be added later, so this 'if' check is here
                if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType === "accessKey") {
                    this.credentialType = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType;
                    this.accessKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey;
                    this.secretKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey;
                    this.bucketName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName;
                }
                this.cloudFolder = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder;
                break;
            case "alibaba":
                this.accessKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey;
                this.secretKey = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey;
                if (_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion) {
                    this.selectedRegionId = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion.id;
                }
                this.storageURL = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL;
                this.bucketName = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName;
                this.cloudFolder = _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder;
                break;
        }
    }
    saveFieldStates() {
        var _a, _b, _c, _d, _e, _f;
        const { provider } = this;
        switch (provider) {
            case "amazon":
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType = this.credentialType;
                // https://devtopia.esri.com/WebGIS/arcgis-portal-app/issues/40157
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey = (_a = this.accessKey) === null || _a === void 0 ? void 0 : _a.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey = (_b = this.secretKey) === null || _b === void 0 ? void 0 : _b.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion = this.regionSelectOptions.find((region) => region.id === this.selectedRegionId);
                if (this.selectedRegionId === "custom") {
                    _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL = this.storageURL;
                }
                else {
                    _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL = "";
                }
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName = this.bucketName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder = this.cloudFolder;
                break;
            case "azure":
            case "azuredatalakegen2store":
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.azureAuthenticationType =
                    provider === "azure" ? this.selectedAuthenticationType : "sharedKey";
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.azureIdentityType = this.selectedIdentityType;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.tenantId = this.tenantId;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.clientId = this.clientId;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.clientSecret = this.clientSecret;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.token = this.token;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accountKey = this.accountKey;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accountName = this.accountName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.endpoint = this.endpoint;
                // Azure uses an 'environment' instead of a 'region' unlike the other cloud types
                // The underlying logic to populate and select the regions/environments is the same
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.environment = this.regionSelectOptions.find((region) => region.id === this.selectedRegionId);
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.containerName = this.containerName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder = this.cloudFolder;
                break;
            case "google":
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.credentialType = this.credentialType;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey = (_c = this.accessKey) === null || _c === void 0 ? void 0 : _c.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey = (_d = this.secretKey) === null || _d === void 0 ? void 0 : _d.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName = this.bucketName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder = this.cloudFolder;
                break;
            case "alibaba":
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.accessKey = (_e = this.accessKey) === null || _e === void 0 ? void 0 : _e.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.secretKey = (_f = this.secretKey) === null || _f === void 0 ? void 0 : _f.trim();
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.selectedRegion = this.regionSelectOptions.find((region) => region.id === this.selectedRegionId);
                if (this.selectedRegionId === "custom") {
                    _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL = this.storageURL;
                }
                else {
                    _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.storageURL = "";
                }
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.bucketName = this.bucketName;
                _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.cloudFolder = this.cloudFolder;
                break;
        }
    }
    populateCredentialTypes() {
        // Amazon & Google
        const { provider, credentialTypesI18N } = this;
        const tempCredentialTypeOptions = Object.keys(credentialTypesI18N)
            .filter((key) => {
            const isAmazonPrivateKey = provider === "amazon" && key === "privateKey";
            const isGoogleNotAccessKey = provider === "google" && key !== "accessKey";
            const isOnlineIAM = !_config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal && key === "IAMRole";
            return !(isAmazonPrivateKey || isGoogleNotAccessKey || isOnlineIAM);
        })
            .map((key) => ({ label: credentialTypesI18N[key], value: key }));
        if (tempCredentialTypeOptions.length > 0) {
            this.credentialType = tempCredentialTypeOptions[0].value;
        }
        this.credentialTypeOptions = tempCredentialTypeOptions;
        // Azure
        this.authenticationTypes = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal
            ? this.authenticationTypes
            : ["sharedKey", "sasToken"];
    }
    addOptions(options) {
        const { provider, i18n } = this;
        let idProperty = "id";
        this.regionSelectOptions = [...options];
        if (provider === "azure") {
            idProperty = "storageEndpointSuffix";
        }
        if (provider === "amazon" || provider === "alibaba") {
            const customOption = {
                displayName: i18n.custom,
                [idProperty]: "custom"
            };
            this.regionSelectOptions = [...this.regionSelectOptions, customOption];
        }
        if (provider === "azure" || provider === "azuredatalakegen2store") {
            const otherOption = {
                displayName: i18n.other,
                id: "other"
            };
            this.regionSelectOptions = [...this.regionSelectOptions, otherOption];
        }
        if (this.regionSelectOptions.length > 0) {
            this.selectedRegionId = this.regionSelectOptions[0].id;
        }
    }
    async handleNext() {
        if (!this.validateCloudCredentials()) {
            return;
        }
        this.saveFieldStates();
        _add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a.regions = this.regionSelectOptions;
        if (_config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal) {
            // Enterprise - show dedicated page for registering & validating data stores with servers
            this.newItemUpdatePage.emit("dataStoreSelectServerList");
        }
        else {
            // Online - just validate the data store then continue
            this.loading = true;
            this.loaderMessage = this.i18n.validating;
            const { orgId, portal } = _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.user;
            const fieldValue = this.provider === "amazon" ? this.bucketName : this.containerName;
            _item_properties_10491b2e_js__WEBPACK_IMPORTED_MODULE_6__.i.title = (0,_data_store_8f8ac640_js__WEBPACK_IMPORTED_MODULE_7__.f)(this.provider, fieldValue);
            const payload = (0,_data_store_8e83fb7a_js__WEBPACK_IMPORTED_MODULE_5__.d)(_add_item_dbbe2f57_js__WEBPACK_IMPORTED_MODULE_2__.a);
            const { result } = await (0,_data_store_e2ae6a67_js__WEBPACK_IMPORTED_MODULE_3__.v)(orgId, portal, payload);
            if ((result === null || result === void 0 ? void 0 : result.status) === "success") {
                this.newItemUpdatePage.emit("itemProperties");
            }
            else {
                this.handleError();
            }
        }
    }
    validateCloudCredentials() {
        const { provider, i18n, credentialType, endpoint, token, accessKey, secretKey, selectedRegionId, storageURL, bucketName, accountName, accountKey, containerName, tenantId, clientId, clientSecret, selectedAuthenticationType, selectedIdentityType } = this;
        const validationFields = {};
        if (provider === "amazon") {
            validationFields[i18n.accessKey] = credentialType === "accessKey" && !accessKey;
            validationFields[i18n.secretKey] = credentialType === "accessKey" && !secretKey;
            validationFields[i18n.bucketName] = !bucketName;
            validationFields[i18n.storageURL] = selectedRegionId === "custom" && !storageURL;
        }
        if (provider === "google") {
            if (credentialType === "accessKey") {
                validationFields[i18n.accessKey] = !accessKey;
                validationFields[i18n.secretKey] = !secretKey;
            }
            validationFields[i18n.bucketName] = !bucketName;
        }
        if (provider === "azure") {
            if (selectedAuthenticationType === "sharedKey") {
                validationFields[i18n.accountKey] = !accountKey;
                validationFields[i18n.accountName] = !accountName;
            }
            else {
                validationFields[i18n.accountName] =
                    !accountName &&
                        selectedRegionId !== "other" &&
                        selectedAuthenticationType !== "anonymous";
            }
            if (selectedAuthenticationType === "sasToken") {
                validationFields[i18n.token] = !token;
            }
            if (selectedAuthenticationType === "activeDirectory") {
                if (selectedIdentityType === "servicePrincipal") {
                    validationFields[i18n.tenantId] = !tenantId;
                    validationFields[i18n.clientId] = !clientId;
                    validationFields[i18n.clientSecret] = !clientSecret;
                }
                else if (selectedIdentityType === "userAssignedIdentity") {
                    validationFields[i18n.clientId] = !clientId;
                }
            }
            validationFields[i18n.containerName] = !containerName;
            validationFields[i18n.storageURL] = selectedRegionId === "custom" && !storageURL;
            validationFields[i18n.endpoint] =
                (selectedAuthenticationType === "anonymous" || selectedRegionId === "other") && !endpoint;
        }
        if (provider === "azuredatalakegen2store") {
            if (selectedAuthenticationType === "sharedKey") {
                validationFields[i18n.accountKey] = !accountKey;
            }
            validationFields[i18n.accountName] = !accountName && selectedRegionId !== "other";
            validationFields[i18n.containerName] = !containerName;
            validationFields[i18n.endpoint] = selectedRegionId === "other" && !endpoint;
        }
        if (provider === "alibaba") {
            validationFields[i18n.accessKey] = !accessKey;
            validationFields[i18n.secretKey] = !secretKey;
            validationFields[i18n.bucketName] = !bucketName;
            validationFields[i18n.storageURL] = selectedRegionId === "custom" && !storageURL;
        }
        this.missingFields = Object.assign({}, validationFields);
        for (const field in this.missingFields) {
            if (this.missingFields[field]) {
                return false;
            }
        }
        return !((provider === "azure" || provider === "azuredatalakegen2store") &&
            selectedRegionId === "other" &&
            this.invalidEndpoint);
    }
    generateErrorMsg(field) {
        const { i18n } = this;
        return i18n.errorInfo.replace("${missingField}", field);
    }
    handleError() {
        this.loading = false;
        const errorTitle = this.i18n.errors.onlineValidationFailed.heading;
        const errorMessage = this.i18n.errors.onlineValidationFailed.description;
        this.error = {
            title: errorTitle,
            description: errorMessage
        };
    }
    togglePrivateURL(newSelectedRegion) {
        const { provider } = this;
        if (provider !== "azure") {
            this.showPrivateURL = newSelectedRegion === "custom";
        }
    }
    render() {
        var _a, _b;
        const { i18n, provider, credentialTypeOptions, credentialType, regionSelectOptions, selectedAuthenticationType, selectedIdentityType, authenticationTypes, identityTypes, endpoint, token, tenantId, clientId, clientSecret, accessKey, secretKey, showPrivateURL, storageURL, bucketName, cloudFolder, accountName, accountKey, containerName, selectedRegionId, missingFields, invalidEndpoint } = this;
        return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-loader", { type: this.loaderType, active: this.loading, text: this.loaderMessage }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: _config_75adf962_js__WEBPACK_IMPORTED_MODULE_1__.c.portal.isPortal ? i18n.connectionInfoEnterprise : i18n.connectionInfoOnline }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "configure-form" }, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.provider, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { value: i18n.cloudProviders[provider], disabled: true })), (provider === "amazon" || provider === "google") && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "credential-type-select" }, i18n.credentialType, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-select", { id: "credential-type-select", label: "credential-type-select", onCalciteSelectChange: (e) => {
                const credentialType = e.target.value;
                this.missingFields = {};
                this.credentialType = credentialType;
            }, disabled: credentialTypeOptions.length < 2 }, credentialTypeOptions.map((credentialType) => {
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-option", { key: credentialType.value, label: credentialType.label, value: credentialType.value, selected: credentialType.value === this.credentialType }));
        })))), (provider === "azure" || provider === "azuredatalakegen2store") && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.F, null, provider === "azure" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "authentication-type-select" }, i18n.authenticationType, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-select", { id: "authentication-type-select", label: "authentication-type-select", onCalciteSelectChange: (e) => {
                const selectedAuthenticationType = e.target
                    .value;
                this.missingFields = {};
                this.selectedAuthenticationType = selectedAuthenticationType;
            } }, authenticationTypes.map((authenticationType) => {
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-option", { key: authenticationType, id: authenticationType, label: i18n.authenticationTypes[authenticationType], value: authenticationType, selected: selectedAuthenticationType === authenticationType }));
        })))), provider === "azuredatalakegen2store" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.authenticationType, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { value: i18n.authenticationTypes[selectedAuthenticationType], disabled: true }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "token-input", class: { hide: selectedAuthenticationType !== "sasToken" } }, i18n.token, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "token-input", value: token, onCalciteInputChange: (e) => {
                const token = e.target.value;
                this.token = token;
            }, placeholder: i18n.sasTokenPlaceholder, status: missingFields[i18n.token] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.token] } }, this.generateErrorMsg(i18n.token))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "identity-type-select", class: { hide: selectedAuthenticationType !== "activeDirectory" } }, i18n.identityType, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical", id: "identity-type-select" }, identityTypes.map((identityType) => {
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { key: identityType, checked: selectedIdentityType === identityType, heading: i18n.identityTypes[identityType], name: "identity-type-select", "input-enabled": true, width: "full", type: "radio", value: identityType, onCalciteTileSelectChange: (e) => {
                    const selectedIdentityType = e.target
                        .value;
                    this.selectedIdentityType = selectedIdentityType;
                } }));
        }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "optional-client-id-input", class: {
                hide: selectedAuthenticationType !== "activeDirectory" ||
                    selectedIdentityType !== "userAssignedIdentity"
            } }, i18n.clientId, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "optional-client-id-input", value: clientId, onCalciteInputChange: (e) => {
                const clientId = e.target.value;
                this.clientId = clientId;
            }, status: missingFields[i18n.clientId] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.clientId] } }, this.generateErrorMsg(i18n.clientId))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "tenant-id-input", class: {
                hide: selectedAuthenticationType !== "activeDirectory" ||
                    selectedIdentityType !== "servicePrincipal"
            } }, i18n.tenantId, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "tenant-id-input", value: tenantId, onCalciteInputChange: (e) => {
                const tenantId = e.target.value;
                this.tenantId = tenantId;
            }, status: missingFields[i18n.tenantId] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.tenantId] } }, this.generateErrorMsg(i18n.tenantId))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "client-id-input", class: {
                hide: selectedAuthenticationType !== "activeDirectory" ||
                    selectedIdentityType !== "servicePrincipal"
            } }, i18n.clientId, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "client-id-input", value: clientId, onCalciteInputChange: (e) => {
                const clientId = e.target.value;
                this.clientId = clientId;
            }, status: missingFields[i18n.clientId] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.clientId] } }, this.generateErrorMsg(i18n.clientId))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "client-secret-input", class: {
                hide: selectedAuthenticationType !== "activeDirectory" ||
                    selectedIdentityType !== "servicePrincipal"
            } }, i18n.clientSecret, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "client-secret-input", type: "password", value: clientSecret, onCalciteInputChange: (e) => {
                const clientSecret = e.target.value;
                this.clientSecret = clientSecret;
            }, status: missingFields[i18n.clientSecret] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.clientSecret] } }, this.generateErrorMsg(i18n.clientSecret))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "account-name-input", class: {
                hide: (selectedRegionId === "other" || selectedAuthenticationType === "anonymous") &&
                    selectedAuthenticationType !== "sharedKey"
            } }, i18n.accountName, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "account-name-input", value: accountName, onCalciteInputChange: (e) => {
                const accountName = e.target.value;
                this.accountName = accountName;
            }, status: missingFields[i18n.accountName] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.accountName] } }, this.generateErrorMsg(i18n.accountName))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "account-key-input", class: { hide: selectedAuthenticationType !== "sharedKey" } }, i18n.accountKey, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "account-key-input", type: "password", value: accountKey, onCalciteInputChange: (e) => {
                const accountKey = e.target.value;
                this.accountKey = accountKey;
            }, status: missingFields[i18n.accountKey] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.accountKey] } }, this.generateErrorMsg(i18n.accountKey))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "environment-select", class: { hide: selectedAuthenticationType === "anonymous" } }, i18n.storageDomain, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-select", { id: "environment-select", label: "environment-select", onCalciteSelectChange: (e) => {
                const selectedRegionId = e.target.value;
                this.selectedRegionId = selectedRegionId;
            } }, regionSelectOptions.map((region) => {
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-option", { key: region.id, id: region.id, label: `${region.displayName} ${region.storageEndpointSuffix ? `(${region.storageEndpointSuffix})` : ""}`, value: region.id, selected: region.id === this.selectedRegionId }));
        }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "endpoint-input", class: {
                hide: true,
                show: selectedRegionId === "other" || selectedAuthenticationType === "anonymous"
            } }, i18n.endpoint, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "endpoint-input", value: endpoint, onCalciteInputChange: (e) => {
                const endpoint = e.target.value;
                if (!endpoint.toLowerCase().startsWith("https") && endpoint.length > 0) {
                    this.invalidEndpoint = true;
                    return;
                }
                this.invalidEndpoint = false;
                this.endpoint = endpoint;
            }, placeholder: i18n.endpointPlaceholder, status: missingFields[i18n.endpoint] || invalidEndpoint ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.endpoint] && !invalidEndpoint } }, this.invalidEndpoint
            ? i18n.invalidEndpoint
            : this.generateErrorMsg(i18n.endpoint))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "container-name-input" }, i18n.containerName, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "container-name-input", value: containerName, onCalciteInputChange: (e) => {
                const containerName = e.target.value;
                this.containerName = containerName;
            }, status: missingFields[i18n.containerName] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.containerName] } }, this.generateErrorMsg(i18n.containerName))))), provider !== "azure" && provider !== "azuredatalakegen2store" && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.F, null, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "access-key-input" }, i18n.accessKey, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "access-key-input", value: accessKey, disabled: credentialType === "IAMRole" || credentialType === "privateKey", onCalciteInputChange: (e) => {
                const accessKey = e.target.value;
                this.accessKey = accessKey;
            }, status: missingFields[i18n.accessKey] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.accessKey] } }, this.generateErrorMsg(i18n.accessKey))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "secret-key-input" }, i18n.secretKey, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "secret-key-input", value: secretKey, type: "password", disabled: credentialType === "IAMRole" || credentialType === "privateKey", onCalciteInputChange: (e) => {
                const secretKey = e.target.value;
                this.secretKey = secretKey;
            }, status: missingFields[i18n.secretKey] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.secretKey] } }, this.generateErrorMsg(i18n.secretKey))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "region-select" }, i18n.region, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-select", { id: "region-select", label: "region-select", onCalciteSelectChange: (e) => {
                const selectedRegionId = e.target.value;
                this.selectedRegionId = selectedRegionId;
            }, disabled: provider === "google" }, regionSelectOptions.map((region) => {
            return ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-option", { key: region.id, id: region.id, label: region.displayName, value: region.id, selected: region.id === this.selectedRegionId }));
        }))), showPrivateURL && ((0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "storage-url-input" }, i18n.storageURL, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "storage-url-input", value: storageURL, onCalciteInputChange: (e) => {
                const storageURL = e.target.value;
                this.storageURL = storageURL;
            }, status: missingFields[i18n.storageURL] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.storageURL] } }, this.generateErrorMsg(i18n.storageURL)))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "bucket-name-input" }, i18n.bucketName, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "bucket-name-input", value: bucketName, onCalciteInputChange: (e) => {
                const bucketName = e.target.value;
                this.bucketName = bucketName;
            }, status: missingFields[i18n.bucketName] ? "invalid" : "idle" }), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input-message", { icon: true, status: "invalid", class: { hide: !missingFields[i18n.bucketName] } }, this.generateErrorMsg(i18n.bucketName))))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { for: "cloud-folder-input" }, i18n.cloudFolder, (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { id: "cloud-folder-input", value: cloudFolder, placeholder: i18n.cloudFolderPlaceHolder, onCalciteInputChange: (e) => {
                const cloudFolder = e.target.value;
                this.cloudFolder = cloudFolder;
            } }))), (0,_index_e3bf7da7_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { active: this.error !== undefined, heading: (_a = this.error) === null || _a === void 0 ? void 0 : _a.title, description: (_b = this.error) === null || _b === void 0 ? void 0 : _b.description, onAlertDismiss: () => {
                this.error = undefined;
            } })));
    }
    static get watchers() { return {
        "selectedRegionId": ["togglePrivateURL"]
    }; }
};
ArcgisNewItemPagesDataStoreSelectCloudCredentials.style = arcgisNewItemPagesDataStoreSelectCloudCredentialsCss;



//# sourceMappingURL=arcgis-new-item-pages-data-store-select-cloud-credentials.entry.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-8f8ac640.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-8f8ac640.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   f: () => (/* binding */ formatTitleForDataStoreItem)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v4.0.58
 */
const formatTitleForDataStoreItem = (provider, fieldValue) => {
    let title;
    const initialTitle = fieldValue !== null && fieldValue !== void 0 ? fieldValue : "";
    switch (provider) {
        case "amazon":
            title = `AmazonS3_${initialTitle}`;
            break;
        case "azure":
            title = `Microsoft_Azure_Storage_${initialTitle}`;
            break;
        case "bigQuery":
            title = `BigQuery_${initialTitle}`;
            break;
        case "snowflake":
            title = `Snowflake_${initialTitle}`;
            break;
    }
    return title.replace(/ /g, "_").replace(/-/g, "_");
};



//# sourceMappingURL=data-store-8f8ac640.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWE2NDI4Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dHO0FBQ3hDO0FBQ0c7QUFDa0Q7QUFDeEQ7QUFDeUI7QUFDTDtBQUNHO0FBQy9DO0FBQ0M7QUFDSztBQUNSO0FBQ087QUFDSDtBQUNNO0FBQ0E7QUFDVDtBQUNLO0FBQ0w7QUFDQztBQUNGO0FBQ0c7QUFDSDtBQUNDO0FBQ087QUFDUDtBQUNNO0FBQ0E7QUFDRztBQUNWO0FBQ0E7QUFDSTtBQUNIO0FBQ0M7O0FBRTdCLDRFQUE0RSxzQ0FBc0MsZ0JBQWdCLGtCQUFrQixNQUFNLGFBQWEsTUFBTSxjQUFjOztBQUUzTDtBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsaUNBQWlDLHFEQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOENBQVk7QUFDaEMsbUNBQW1DLDhDQUFZO0FBQy9DO0FBQ0EsWUFBWSxvREFBWTtBQUN4QixrQkFBa0Isb0RBQVk7QUFDOUIsa0JBQWtCLG9EQUFZO0FBQzlCO0FBQ0EsOEJBQThCLDBEQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQVk7QUFDaEMsMENBQTBDLG9EQUFZO0FBQ3REO0FBQ0EsaUNBQWlDLG9EQUFZO0FBQzdD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Q0FBd0MsMkNBQTJDLHFEQUFDLG9CQUFvQix5QkFBeUIsa0JBQWtCLHFEQUFDLG9CQUFvQjtBQUMzVDtBQUNBO0FBQ0EsYUFBYSw4REFBOEQsR0FBRyxxREFBQyw0QkFBNEIsd0NBQXdDLHdDQUF3QywyQ0FBMkMscURBQUMsb0JBQW9CLHNCQUFzQixlQUFlLHFEQUFDLHFCQUFxQjtBQUN0VDtBQUNBO0FBQ0EsYUFBYSxtQ0FBbUM7QUFDaEQsb0JBQW9CLHFEQUFDLHFCQUFxQiwySEFBMkg7QUFDckssU0FBUyx3QkFBd0IscURBQUMsb0JBQW9CLDBCQUEwQixtQkFBbUIscURBQUMsb0JBQW9CO0FBQ3hIO0FBQ0E7QUFDQSxhQUFhLCtEQUErRCxHQUFHLHFEQUFDLDRCQUE0Qix3Q0FBd0MseUNBQXlDLDZDQUE2QyxxREFBQyxvQkFBb0IsMEJBQTBCLG1CQUFtQixxREFBQyxvQkFBb0I7QUFDalU7QUFDQTtBQUNBLGFBQWEsK0RBQStELEdBQUcscURBQUMsNEJBQTRCLHdDQUF3Qyx5Q0FBeUMsOENBQThDLHFEQUFDLG9CQUFvQiwyQkFBMkIsb0JBQW9CLHFEQUFDLG9CQUFvQjtBQUNwVTtBQUNBO0FBQ0EsZUFBZSxLQUFLLHFEQUFDLDRCQUE0QjtBQUNqRDtBQUNBLGVBQWU7QUFDZjtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFMEg7O0FBRTFIOzs7Ozs7Ozs7Ozs7OztBQ3BlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0EsK0NBQStDLGFBQWE7QUFDNUQ7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTs7QUFFNEM7O0FBRTVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLW5ldy1pdGVtLXBhZ2VzLWRhdGEtc3RvcmUtc2VsZWN0LWNsb3VkLWNyZWRlbnRpYWxzLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2RhdGEtc3RvcmUtOGY4YWM2NDAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjQuMC41OFxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEYgYXMgRnJhZ21lbnQgfSBmcm9tICcuL2luZGV4LWUzYmY3ZGE3LmpzJztcbmltcG9ydCB7IGMgYXMgY29uZmlnU3RhdGUgfSBmcm9tICcuL2NvbmZpZy03NWFkZjk2Mi5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tZGJiZTJmNTcuanMnO1xuaW1wb3J0IHsgZiBhcyBmZXRjaENsb3VkU3RvcmFnZVJlZ2lvbkluZm8sIHYgYXMgdmFsaWRhdGVEYXRhc3RvcmVGb3JPbmxpbmUgfSBmcm9tICcuL2RhdGEtc3RvcmUtZTJhZTZhNjcuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWJjYTdiY2QxLmpzJztcbmltcG9ydCB7IGQgYXMgY3JlYXRlQ2xvdWRQcm92aWRlckRhdGFPYmplY3QgfSBmcm9tICcuL2RhdGEtc3RvcmUtOGU4M2ZiN2EuanMnO1xuaW1wb3J0IHsgaSBhcyBpdGVtUHJvcGVydGllc1N0YXRlIH0gZnJvbSAnLi9pdGVtLXByb3BlcnRpZXMtMTA0OTFiMmUuanMnO1xuaW1wb3J0IHsgZiBhcyBmb3JtYXRUaXRsZUZvckRhdGFTdG9yZUl0ZW0gfSBmcm9tICcuL2RhdGEtc3RvcmUtOGY4YWM2NDAuanMnO1xuaW1wb3J0ICcuL2luZGV4LTA1OTU2Y2FiLmpzJztcbmltcG9ydCAnLi9wb3J0YWwtZDUxOGI1NzEuanMnO1xuaW1wb3J0ICcuL2xvYWRNb2R1bGVzLWI0YWMxMjQ3LmpzJztcbmltcG9ydCAnLi91cmwtNGMzYWU1NGMuanMnO1xuaW1wb3J0ICcuL2Z1bmN0aW9uYWwtNDRkZThmY2YuanMnO1xuaW1wb3J0ICcuL3NlcnZpY2UtOGMyYzQyNDEuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItNTczYmI0NzMuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItNzlmYjMwMmMuanMnO1xuaW1wb3J0ICcuL2d1aWQtYWVhZWQ4NGQuanMnO1xuaW1wb3J0ICcuL3RodW1ibmFpbC1iY2I4OWU2OS5qcyc7XG5pbXBvcnQgJy4vdXNlci0zZWE2OWMzYS5qcyc7XG5pbXBvcnQgJy4vcXVlcnktZDYyNjYwZDQuanMnO1xuaW1wb3J0ICcuL2FwaS0yZTNhMTM2Zi5qcyc7XG5pbXBvcnQgJy4vc3RyaW5nLTU4YTVmZWYzLmpzJztcbmltcG9ydCAnLi9kb20tNGQzNjc2NzcuanMnO1xuaW1wb3J0ICcuL2l0ZW0tYzU4ZmZjZWQuanMnO1xuaW1wb3J0ICcuL3NlcnZlci1pdGVtLThkMzg0Nzk2LmpzJztcbmltcG9ydCAnLi9pdGVtLTM1MzU1NTJkLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLTgxMzczZjZkLmpzJztcbmltcG9ydCAnLi9pdGVtLXR5cGVzLTIwMjliMDZiLmpzJztcbmltcG9ydCAnLi9mZWF0dXJlLWxheWVyLTE3YjY0OTQ2LmpzJztcbmltcG9ydCAnLi9hZ3MtZWI0NThhMDMuanMnO1xuaW1wb3J0ICcuL3VybC0zNTg3NWExMC5qcyc7XG5pbXBvcnQgJy4vc3RvcmFnZS0wMzUzYTc2OS5qcyc7XG5pbXBvcnQgJy4vZmlsZS1iZjhhYjkwZi5qcyc7XG5pbXBvcnQgJy4vc3RvcmUtNmE4OGU2YzUuanMnO1xuXG5jb25zdCBhcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3RDbG91ZENyZWRlbnRpYWxzQ3NzID0gXCJjYWxjaXRlLWxhYmVsey0tY2FsY2l0ZS1sYWJlbC1tYXJnaW4tYm90dG9tOjEuMjVyZW19LmNvbmZpZ3VyZS1mb3Jte21hcmdpbi10b3A6MS41cmVtfS5oaWRle2Rpc3BsYXk6bm9uZX0uc2hvd3tkaXNwbGF5OmJsb2NrfVwiO1xuXG5jb25zdCBBcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3RDbG91ZENyZWRlbnRpYWxzID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy5uZXdJdGVtVXBkYXRlUGFnZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwibmV3SXRlbVVwZGF0ZVBhZ2VcIiwgNyk7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbFR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uVHlwZXMgPSBbXG4gICAgICAgICAgICBcImFjdGl2ZURpcmVjdG9yeVwiLFxuICAgICAgICAgICAgXCJzaGFyZWRLZXlcIixcbiAgICAgICAgICAgIFwic2FzVG9rZW5cIixcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5pZGVudGl0eVR5cGVzID0gW1xuICAgICAgICAgICAgLy8gXCJzZXJ2aWNlUHJpbmNpcGFsXCIsXG4gICAgICAgICAgICBcInVzZXJBc3NpZ25lZElkZW50aXR5XCJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZElkZW50aXR5VHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IFwiXCI7XG4gICAgICAgIHRoaXMudG9rZW4gPSBcIlwiO1xuICAgICAgICB0aGlzLnRlbmFudElkID0gXCJcIjtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IFwiXCI7XG4gICAgICAgIHRoaXMuY2xpZW50U2VjcmV0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5hY2Nlc3NLZXkgPSBcIlwiO1xuICAgICAgICB0aGlzLnNlY3JldEtleSA9IFwiXCI7XG4gICAgICAgIHRoaXMuYWNjb3VudE5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmFjY291bnRLZXkgPSBcIlwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lck5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLnNlbGVjdGVkUmVnaW9uSWQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3JhZ2VVUkwgPSBcIlwiO1xuICAgICAgICB0aGlzLmJ1Y2tldE5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmNsb3VkRm9sZGVyID0gXCJcIjtcbiAgICAgICAgdGhpcy5yZWdpb25TZWxlY3RPcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuc2hvd1ByaXZhdGVVUkwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFsVHlwZU9wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5taXNzaW5nRmllbGRzID0ge307XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRlclR5cGUgPSBcImluZGV0ZXJtaW5hdGVcIjtcbiAgICAgICAgdGhpcy5sb2FkZXJNZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmludmFsaWRFbmRwb2ludCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVycm9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICAgICAgdGhpcy5pMThuID0gdWlTdG9yZVN0YXRlLmkxOG4uZGF0YVN0b3JlU2VsZWN0Q2xvdWQ7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbFR5cGVzSTE4TiA9IHVpU3RvcmVTdGF0ZS5pMThuLmRhdGFTdG9yZVNlbGVjdENsb3VkLmNyZWRlbnRpYWxUeXBlcztcbiAgICAgICAgdGhpcy5wcm92aWRlciA9XG4gICAgICAgICAgICBhZGRJdGVtU3RhdGUuYWRkRGF0YVN0b3JlVHlwZSA9PT0gXCJiZGZzXCJcbiAgICAgICAgICAgICAgICA/IGFkZEl0ZW1TdGF0ZS5iZGZzQ2xvdWRQcm92aWRlclxuICAgICAgICAgICAgICAgIDogYWRkSXRlbVN0YXRlLnByb3ZpZGVyO1xuICAgICAgICB0aGlzLnBvcHVsYXRlQ3JlZGVudGlhbFR5cGVzKCk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbnMgPSBhd2FpdCBmZXRjaENsb3VkU3RvcmFnZVJlZ2lvbkluZm8odGhpcy5wcm92aWRlcik7XG4gICAgICAgIHRoaXMuYWRkT3B0aW9ucygocmVnaW9ucyA9PT0gbnVsbCB8fCByZWdpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWdpb25zLnJlc3VsdCkgfHwgW10pO1xuICAgICAgICB0aGlzLnBvcHVsYXRlRmllbGRzKCk7XG4gICAgfVxuICAgIHBvcHVsYXRlRmllbGRzKCkge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSB0aGlzO1xuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjYXNlIFwiYW1hem9uXCI6XG4gICAgICAgICAgICAgICAgaWYgKGFkZEl0ZW1TdGF0ZS5jcmVkZW50aWFsVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxUeXBlID0gYWRkSXRlbVN0YXRlLmNyZWRlbnRpYWxUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IGFkZEl0ZW1TdGF0ZS5hY2Nlc3NLZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWNyZXRLZXkgPSBhZGRJdGVtU3RhdGUuc2VjcmV0S2V5O1xuICAgICAgICAgICAgICAgIGlmIChhZGRJdGVtU3RhdGUuc2VsZWN0ZWRSZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJlZ2lvbklkID0gYWRkSXRlbVN0YXRlLnNlbGVjdGVkUmVnaW9uLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VVUkwgPSBhZGRJdGVtU3RhdGUuc3RvcmFnZVVSTDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1Y2tldE5hbWUgPSBhZGRJdGVtU3RhdGUuYnVja2V0TmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3VkRm9sZGVyID0gYWRkSXRlbVN0YXRlLmNsb3VkRm9sZGVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImF6dXJlXCI6XG4gICAgICAgICAgICBjYXNlIFwiYXp1cmVkYXRhbGFrZWdlbjJzdG9yZVwiOlxuICAgICAgICAgICAgICAgIC8vIERhdGEgbGFrZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBcIlNoYXJlZCBLZXlcIiBhdXRoZW50aWNhdGlvbiB0eXBlXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID09PSBcImF6dXJlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkSXRlbVN0YXRlLmF6dXJlQXV0aGVudGljYXRpb25UeXBlIHx8IHRoaXMuYXV0aGVudGljYXRpb25UeXBlc1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcInNoYXJlZEtleVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJZGVudGl0eVR5cGUgPSBhZGRJdGVtU3RhdGUuYXp1cmVJZGVudGl0eVR5cGUgfHwgXCJ1c2VyQXNzaWduZWRJZGVudGl0eVwiO1xuICAgICAgICAgICAgICAgIHRoaXMudGVuYW50SWQgPSBhZGRJdGVtU3RhdGUudGVuYW50SWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnRJZCA9IGFkZEl0ZW1TdGF0ZS5jbGllbnRJZDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudFNlY3JldCA9IGFkZEl0ZW1TdGF0ZS5jbGllbnRTZWNyZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IGFkZEl0ZW1TdGF0ZS50b2tlbjtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gYWRkSXRlbVN0YXRlLmVuZHBvaW50O1xuICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudEtleSA9IGFkZEl0ZW1TdGF0ZS5hY2NvdW50S2V5O1xuICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudE5hbWUgPSBhZGRJdGVtU3RhdGUuYWNjb3VudE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGFkZEl0ZW1TdGF0ZS5lbnZpcm9ubWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVnaW9uSWQgPSBhZGRJdGVtU3RhdGUuZW52aXJvbm1lbnQuaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyTmFtZSA9IGFkZEl0ZW1TdGF0ZS5jb250YWluZXJOYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvdWRGb2xkZXIgPSBhZGRJdGVtU3RhdGUuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZ29vZ2xlXCI6XG4gICAgICAgICAgICAgICAgLy8gUmlnaHQgbm93LCBnb29nbGUgb25seSBoYXMgXCJhY2Nlc3Mga2V5XCIgYXMgYSBjcmVkZW50aWFsIHR5cGVcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IGZvciBcInByaXZhdGUga2V5XCIgdG8gYmUgYWRkZWQgbGF0ZXIsIHNvIHRoaXMgJ2lmJyBjaGVjayBpcyBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGFkZEl0ZW1TdGF0ZS5jcmVkZW50aWFsVHlwZSA9PT0gXCJhY2Nlc3NLZXlcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxUeXBlID0gYWRkSXRlbVN0YXRlLmNyZWRlbnRpYWxUeXBlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IGFkZEl0ZW1TdGF0ZS5hY2Nlc3NLZXk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VjcmV0S2V5ID0gYWRkSXRlbVN0YXRlLnNlY3JldEtleTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWNrZXROYW1lID0gYWRkSXRlbVN0YXRlLmJ1Y2tldE5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2xvdWRGb2xkZXIgPSBhZGRJdGVtU3RhdGUuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWxpYmFiYVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzS2V5ID0gYWRkSXRlbVN0YXRlLmFjY2Vzc0tleTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3JldEtleSA9IGFkZEl0ZW1TdGF0ZS5zZWNyZXRLZXk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZEl0ZW1TdGF0ZS5zZWxlY3RlZFJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVnaW9uSWQgPSBhZGRJdGVtU3RhdGUuc2VsZWN0ZWRSZWdpb24uaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZVVSTCA9IGFkZEl0ZW1TdGF0ZS5zdG9yYWdlVVJMO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVja2V0TmFtZSA9IGFkZEl0ZW1TdGF0ZS5idWNrZXROYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvdWRGb2xkZXIgPSBhZGRJdGVtU3RhdGUuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2F2ZUZpZWxkU3RhdGVzKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3QgeyBwcm92aWRlciB9ID0gdGhpcztcbiAgICAgICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgICAgICAgY2FzZSBcImFtYXpvblwiOlxuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jcmVkZW50aWFsVHlwZSA9IHRoaXMuY3JlZGVudGlhbFR5cGU7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9XZWJHSVMvYXJjZ2lzLXBvcnRhbC1hcHAvaXNzdWVzLzQwMTU3XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmFjY2Vzc0tleSA9IChfYSA9IHRoaXMuYWNjZXNzS2V5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zZWNyZXRLZXkgPSAoX2IgPSB0aGlzLnNlY3JldEtleSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc2VsZWN0ZWRSZWdpb24gPSB0aGlzLnJlZ2lvblNlbGVjdE9wdGlvbnMuZmluZCgocmVnaW9uKSA9PiByZWdpb24uaWQgPT09IHRoaXMuc2VsZWN0ZWRSZWdpb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSZWdpb25JZCA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc3RvcmFnZVVSTCA9IHRoaXMuc3RvcmFnZVVSTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5zdG9yYWdlVVJMID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmJ1Y2tldE5hbWUgPSB0aGlzLmJ1Y2tldE5hbWU7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmNsb3VkRm9sZGVyID0gdGhpcy5jbG91ZEZvbGRlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhenVyZVwiOlxuICAgICAgICAgICAgY2FzZSBcImF6dXJlZGF0YWxha2VnZW4yc3RvcmVcIjpcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuYXp1cmVBdXRoZW50aWNhdGlvblR5cGUgPVxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlciA9PT0gXCJhenVyZVwiID8gdGhpcy5zZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA6IFwic2hhcmVkS2V5XCI7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmF6dXJlSWRlbnRpdHlUeXBlID0gdGhpcy5zZWxlY3RlZElkZW50aXR5VHlwZTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUudGVuYW50SWQgPSB0aGlzLnRlbmFudElkO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jbGllbnRJZCA9IHRoaXMuY2xpZW50SWQ7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmNsaWVudFNlY3JldCA9IHRoaXMuY2xpZW50U2VjcmV0O1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS50b2tlbiA9IHRoaXMudG9rZW47XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmFjY291bnRLZXkgPSB0aGlzLmFjY291bnRLZXk7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmFjY291bnROYW1lID0gdGhpcy5hY2NvdW50TmFtZTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuZW5kcG9pbnQgPSB0aGlzLmVuZHBvaW50O1xuICAgICAgICAgICAgICAgIC8vIEF6dXJlIHVzZXMgYW4gJ2Vudmlyb25tZW50JyBpbnN0ZWFkIG9mIGEgJ3JlZ2lvbicgdW5saWtlIHRoZSBvdGhlciBjbG91ZCB0eXBlc1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1bmRlcmx5aW5nIGxvZ2ljIHRvIHBvcHVsYXRlIGFuZCBzZWxlY3QgdGhlIHJlZ2lvbnMvZW52aXJvbm1lbnRzIGlzIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmVudmlyb25tZW50ID0gdGhpcy5yZWdpb25TZWxlY3RPcHRpb25zLmZpbmQoKHJlZ2lvbikgPT4gcmVnaW9uLmlkID09PSB0aGlzLnNlbGVjdGVkUmVnaW9uSWQpO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jb250YWluZXJOYW1lID0gdGhpcy5jb250YWluZXJOYW1lO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jbG91ZEZvbGRlciA9IHRoaXMuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZ29vZ2xlXCI6XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLmNyZWRlbnRpYWxUeXBlID0gdGhpcy5jcmVkZW50aWFsVHlwZTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuYWNjZXNzS2V5ID0gKF9jID0gdGhpcy5hY2Nlc3NLZXkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50cmltKCk7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLnNlY3JldEtleSA9IChfZCA9IHRoaXMuc2VjcmV0S2V5KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHJpbSgpO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5idWNrZXROYW1lID0gdGhpcy5idWNrZXROYW1lO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jbG91ZEZvbGRlciA9IHRoaXMuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWxpYmFiYVwiOlxuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5hY2Nlc3NLZXkgPSAoX2UgPSB0aGlzLmFjY2Vzc0tleSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc2VjcmV0S2V5ID0gKF9mID0gdGhpcy5zZWNyZXRLZXkpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi50cmltKCk7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLnNlbGVjdGVkUmVnaW9uID0gdGhpcy5yZWdpb25TZWxlY3RPcHRpb25zLmZpbmQoKHJlZ2lvbikgPT4gcmVnaW9uLmlkID09PSB0aGlzLnNlbGVjdGVkUmVnaW9uSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVnaW9uSWQgPT09IFwiY3VzdG9tXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXRlbVN0YXRlLnN0b3JhZ2VVUkwgPSB0aGlzLnN0b3JhZ2VVUkw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRJdGVtU3RhdGUuc3RvcmFnZVVSTCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5idWNrZXROYW1lID0gdGhpcy5idWNrZXROYW1lO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1TdGF0ZS5jbG91ZEZvbGRlciA9IHRoaXMuY2xvdWRGb2xkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wdWxhdGVDcmVkZW50aWFsVHlwZXMoKSB7XG4gICAgICAgIC8vIEFtYXpvbiAmIEdvb2dsZVxuICAgICAgICBjb25zdCB7IHByb3ZpZGVyLCBjcmVkZW50aWFsVHlwZXNJMThOIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB0ZW1wQ3JlZGVudGlhbFR5cGVPcHRpb25zID0gT2JqZWN0LmtleXMoY3JlZGVudGlhbFR5cGVzSTE4TilcbiAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBbWF6b25Qcml2YXRlS2V5ID0gcHJvdmlkZXIgPT09IFwiYW1hem9uXCIgJiYga2V5ID09PSBcInByaXZhdGVLZXlcIjtcbiAgICAgICAgICAgIGNvbnN0IGlzR29vZ2xlTm90QWNjZXNzS2V5ID0gcHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIgJiYga2V5ICE9PSBcImFjY2Vzc0tleVwiO1xuICAgICAgICAgICAgY29uc3QgaXNPbmxpbmVJQU0gPSAhY29uZmlnU3RhdGUucG9ydGFsLmlzUG9ydGFsICYmIGtleSA9PT0gXCJJQU1Sb2xlXCI7XG4gICAgICAgICAgICByZXR1cm4gIShpc0FtYXpvblByaXZhdGVLZXkgfHwgaXNHb29nbGVOb3RBY2Nlc3NLZXkgfHwgaXNPbmxpbmVJQU0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiAoeyBsYWJlbDogY3JlZGVudGlhbFR5cGVzSTE4TltrZXldLCB2YWx1ZToga2V5IH0pKTtcbiAgICAgICAgaWYgKHRlbXBDcmVkZW50aWFsVHlwZU9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFsVHlwZSA9IHRlbXBDcmVkZW50aWFsVHlwZU9wdGlvbnNbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVkZW50aWFsVHlwZU9wdGlvbnMgPSB0ZW1wQ3JlZGVudGlhbFR5cGVPcHRpb25zO1xuICAgICAgICAvLyBBenVyZVxuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uVHlwZXMgPSBjb25maWdTdGF0ZS5wb3J0YWwuaXNQb3J0YWxcbiAgICAgICAgICAgID8gdGhpcy5hdXRoZW50aWNhdGlvblR5cGVzXG4gICAgICAgICAgICA6IFtcInNoYXJlZEtleVwiLCBcInNhc1Rva2VuXCJdO1xuICAgIH1cbiAgICBhZGRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwcm92aWRlciwgaTE4biB9ID0gdGhpcztcbiAgICAgICAgbGV0IGlkUHJvcGVydHkgPSBcImlkXCI7XG4gICAgICAgIHRoaXMucmVnaW9uU2VsZWN0T3B0aW9ucyA9IFsuLi5vcHRpb25zXTtcbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImF6dXJlXCIpIHtcbiAgICAgICAgICAgIGlkUHJvcGVydHkgPSBcInN0b3JhZ2VFbmRwb2ludFN1ZmZpeFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlciA9PT0gXCJhbWF6b25cIiB8fCBwcm92aWRlciA9PT0gXCJhbGliYWJhXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbU9wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogaTE4bi5jdXN0b20sXG4gICAgICAgICAgICAgICAgW2lkUHJvcGVydHldOiBcImN1c3RvbVwiXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5yZWdpb25TZWxlY3RPcHRpb25zID0gWy4uLnRoaXMucmVnaW9uU2VsZWN0T3B0aW9ucywgY3VzdG9tT3B0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdmlkZXIgPT09IFwiYXp1cmVcIiB8fCBwcm92aWRlciA9PT0gXCJhenVyZWRhdGFsYWtlZ2VuMnN0b3JlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyT3B0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBpMThuLm90aGVyLFxuICAgICAgICAgICAgICAgIGlkOiBcIm90aGVyXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnJlZ2lvblNlbGVjdE9wdGlvbnMgPSBbLi4udGhpcy5yZWdpb25TZWxlY3RPcHRpb25zLCBvdGhlck9wdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVnaW9uU2VsZWN0T3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVnaW9uSWQgPSB0aGlzLnJlZ2lvblNlbGVjdE9wdGlvbnNbMF0uaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQ2xvdWRDcmVkZW50aWFscygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlRmllbGRTdGF0ZXMoKTtcbiAgICAgICAgYWRkSXRlbVN0YXRlLnJlZ2lvbnMgPSB0aGlzLnJlZ2lvblNlbGVjdE9wdGlvbnM7XG4gICAgICAgIGlmIChjb25maWdTdGF0ZS5wb3J0YWwuaXNQb3J0YWwpIHtcbiAgICAgICAgICAgIC8vIEVudGVycHJpc2UgLSBzaG93IGRlZGljYXRlZCBwYWdlIGZvciByZWdpc3RlcmluZyAmIHZhbGlkYXRpbmcgZGF0YSBzdG9yZXMgd2l0aCBzZXJ2ZXJzXG4gICAgICAgICAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlLmVtaXQoXCJkYXRhU3RvcmVTZWxlY3RTZXJ2ZXJMaXN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gT25saW5lIC0ganVzdCB2YWxpZGF0ZSB0aGUgZGF0YSBzdG9yZSB0aGVuIGNvbnRpbnVlXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJNZXNzYWdlID0gdGhpcy5pMThuLnZhbGlkYXRpbmc7XG4gICAgICAgICAgICBjb25zdCB7IG9yZ0lkLCBwb3J0YWwgfSA9IGNvbmZpZ1N0YXRlLnVzZXI7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlID0gdGhpcy5wcm92aWRlciA9PT0gXCJhbWF6b25cIiA/IHRoaXMuYnVja2V0TmFtZSA6IHRoaXMuY29udGFpbmVyTmFtZTtcbiAgICAgICAgICAgIGl0ZW1Qcm9wZXJ0aWVzU3RhdGUudGl0bGUgPSBmb3JtYXRUaXRsZUZvckRhdGFTdG9yZUl0ZW0odGhpcy5wcm92aWRlciwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gY3JlYXRlQ2xvdWRQcm92aWRlckRhdGFPYmplY3QoYWRkSXRlbVN0YXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSBhd2FpdCB2YWxpZGF0ZURhdGFzdG9yZUZvck9ubGluZShvcmdJZCwgcG9ydGFsLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIGlmICgocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LnN0YXR1cykgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJdGVtVXBkYXRlUGFnZS5lbWl0KFwiaXRlbVByb3BlcnRpZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsaWRhdGVDbG91ZENyZWRlbnRpYWxzKCkge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyLCBpMThuLCBjcmVkZW50aWFsVHlwZSwgZW5kcG9pbnQsIHRva2VuLCBhY2Nlc3NLZXksIHNlY3JldEtleSwgc2VsZWN0ZWRSZWdpb25JZCwgc3RvcmFnZVVSTCwgYnVja2V0TmFtZSwgYWNjb3VudE5hbWUsIGFjY291bnRLZXksIGNvbnRhaW5lck5hbWUsIHRlbmFudElkLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSwgc2VsZWN0ZWRJZGVudGl0eVR5cGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25GaWVsZHMgPSB7fTtcbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImFtYXpvblwiKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uYWNjZXNzS2V5XSA9IGNyZWRlbnRpYWxUeXBlID09PSBcImFjY2Vzc0tleVwiICYmICFhY2Nlc3NLZXk7XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uc2VjcmV0S2V5XSA9IGNyZWRlbnRpYWxUeXBlID09PSBcImFjY2Vzc0tleVwiICYmICFzZWNyZXRLZXk7XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uYnVja2V0TmFtZV0gPSAhYnVja2V0TmFtZTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25GaWVsZHNbaTE4bi5zdG9yYWdlVVJMXSA9IHNlbGVjdGVkUmVnaW9uSWQgPT09IFwiY3VzdG9tXCIgJiYgIXN0b3JhZ2VVUkw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImdvb2dsZVwiKSB7XG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbFR5cGUgPT09IFwiYWNjZXNzS2V5XCIpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uYWNjZXNzS2V5XSA9ICFhY2Nlc3NLZXk7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLnNlY3JldEtleV0gPSAhc2VjcmV0S2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmJ1Y2tldE5hbWVdID0gIWJ1Y2tldE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImF6dXJlXCIpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gXCJzaGFyZWRLZXlcIikge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25GaWVsZHNbaTE4bi5hY2NvdW50S2V5XSA9ICFhY2NvdW50S2V5O1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25GaWVsZHNbaTE4bi5hY2NvdW50TmFtZV0gPSAhYWNjb3VudE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uYWNjb3VudE5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgIWFjY291bnROYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJlZ2lvbklkICE9PSBcIm90aGVyXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlICE9PSBcImFub255bW91c1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlID09PSBcInNhc1Rva2VuXCIpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4udG9rZW5dID0gIXRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlID09PSBcImFjdGl2ZURpcmVjdG9yeVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSWRlbnRpdHlUeXBlID09PSBcInNlcnZpY2VQcmluY2lwYWxcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4udGVuYW50SWRdID0gIXRlbmFudElkO1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uY2xpZW50SWRdID0gIWNsaWVudElkO1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uY2xpZW50U2VjcmV0XSA9ICFjbGllbnRTZWNyZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkSWRlbnRpdHlUeXBlID09PSBcInVzZXJBc3NpZ25lZElkZW50aXR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmNsaWVudElkXSA9ICFjbGllbnRJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uY29udGFpbmVyTmFtZV0gPSAhY29udGFpbmVyTmFtZTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25GaWVsZHNbaTE4bi5zdG9yYWdlVVJMXSA9IHNlbGVjdGVkUmVnaW9uSWQgPT09IFwiY3VzdG9tXCIgJiYgIXN0b3JhZ2VVUkw7XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uZW5kcG9pbnRdID1cbiAgICAgICAgICAgICAgICAoc2VsZWN0ZWRBdXRoZW50aWNhdGlvblR5cGUgPT09IFwiYW5vbnltb3VzXCIgfHwgc2VsZWN0ZWRSZWdpb25JZCA9PT0gXCJvdGhlclwiKSAmJiAhZW5kcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImF6dXJlZGF0YWxha2VnZW4yc3RvcmVcIikge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlID09PSBcInNoYXJlZEtleVwiKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmFjY291bnRLZXldID0gIWFjY291bnRLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uYWNjb3VudE5hbWVdID0gIWFjY291bnROYW1lICYmIHNlbGVjdGVkUmVnaW9uSWQgIT09IFwib3RoZXJcIjtcbiAgICAgICAgICAgIHZhbGlkYXRpb25GaWVsZHNbaTE4bi5jb250YWluZXJOYW1lXSA9ICFjb250YWluZXJOYW1lO1xuICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmVuZHBvaW50XSA9IHNlbGVjdGVkUmVnaW9uSWQgPT09IFwib3RoZXJcIiAmJiAhZW5kcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSBcImFsaWJhYmFcIikge1xuICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmFjY2Vzc0tleV0gPSAhYWNjZXNzS2V5O1xuICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLnNlY3JldEtleV0gPSAhc2VjcmV0S2V5O1xuICAgICAgICAgICAgdmFsaWRhdGlvbkZpZWxkc1tpMThuLmJ1Y2tldE5hbWVdID0gIWJ1Y2tldE5hbWU7XG4gICAgICAgICAgICB2YWxpZGF0aW9uRmllbGRzW2kxOG4uc3RvcmFnZVVSTF0gPSBzZWxlY3RlZFJlZ2lvbklkID09PSBcImN1c3RvbVwiICYmICFzdG9yYWdlVVJMO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWlzc2luZ0ZpZWxkcyA9IE9iamVjdC5hc3NpZ24oe30sIHZhbGlkYXRpb25GaWVsZHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHRoaXMubWlzc2luZ0ZpZWxkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWlzc2luZ0ZpZWxkc1tmaWVsZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEoKHByb3ZpZGVyID09PSBcImF6dXJlXCIgfHwgcHJvdmlkZXIgPT09IFwiYXp1cmVkYXRhbGFrZWdlbjJzdG9yZVwiKSAmJlxuICAgICAgICAgICAgc2VsZWN0ZWRSZWdpb25JZCA9PT0gXCJvdGhlclwiICYmXG4gICAgICAgICAgICB0aGlzLmludmFsaWRFbmRwb2ludCk7XG4gICAgfVxuICAgIGdlbmVyYXRlRXJyb3JNc2coZmllbGQpIHtcbiAgICAgICAgY29uc3QgeyBpMThuIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gaTE4bi5lcnJvckluZm8ucmVwbGFjZShcIiR7bWlzc2luZ0ZpZWxkfVwiLCBmaWVsZCk7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZXJyb3JUaXRsZSA9IHRoaXMuaTE4bi5lcnJvcnMub25saW5lVmFsaWRhdGlvbkZhaWxlZC5oZWFkaW5nO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLmkxOG4uZXJyb3JzLm9ubGluZVZhbGlkYXRpb25GYWlsZWQuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZXJyb3IgPSB7XG4gICAgICAgICAgICB0aXRsZTogZXJyb3JUaXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9nZ2xlUHJpdmF0ZVVSTChuZXdTZWxlY3RlZFJlZ2lvbikge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAocHJvdmlkZXIgIT09IFwiYXp1cmVcIikge1xuICAgICAgICAgICAgdGhpcy5zaG93UHJpdmF0ZVVSTCA9IG5ld1NlbGVjdGVkUmVnaW9uID09PSBcImN1c3RvbVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgeyBpMThuLCBwcm92aWRlciwgY3JlZGVudGlhbFR5cGVPcHRpb25zLCBjcmVkZW50aWFsVHlwZSwgcmVnaW9uU2VsZWN0T3B0aW9ucywgc2VsZWN0ZWRBdXRoZW50aWNhdGlvblR5cGUsIHNlbGVjdGVkSWRlbnRpdHlUeXBlLCBhdXRoZW50aWNhdGlvblR5cGVzLCBpZGVudGl0eVR5cGVzLCBlbmRwb2ludCwgdG9rZW4sIHRlbmFudElkLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBhY2Nlc3NLZXksIHNlY3JldEtleSwgc2hvd1ByaXZhdGVVUkwsIHN0b3JhZ2VVUkwsIGJ1Y2tldE5hbWUsIGNsb3VkRm9sZGVyLCBhY2NvdW50TmFtZSwgYWNjb3VudEtleSwgY29udGFpbmVyTmFtZSwgc2VsZWN0ZWRSZWdpb25JZCwgbWlzc2luZ0ZpZWxkcywgaW52YWxpZEVuZHBvaW50IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgbnVsbCwgaChcImFyY2dpcy1uZXctaXRlbS1sb2FkZXJcIiwgeyB0eXBlOiB0aGlzLmxvYWRlclR5cGUsIGFjdGl2ZTogdGhpcy5sb2FkaW5nLCB0ZXh0OiB0aGlzLmxvYWRlck1lc3NhZ2UgfSksIGgoXCJhcmNnaXMtbmV3LWl0ZW0tZGVzY3JpcHRpb25cIiwgeyBoZWFkZXI6IGNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbCA/IGkxOG4uY29ubmVjdGlvbkluZm9FbnRlcnByaXNlIDogaTE4bi5jb25uZWN0aW9uSW5mb09ubGluZSB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbmZpZ3VyZS1mb3JtXCIgfSwgaChcImNhbGNpdGUtbGFiZWxcIiwgbnVsbCwgaTE4bi5wcm92aWRlciwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyB2YWx1ZTogaTE4bi5jbG91ZFByb3ZpZGVyc1twcm92aWRlcl0sIGRpc2FibGVkOiB0cnVlIH0pKSwgKHByb3ZpZGVyID09PSBcImFtYXpvblwiIHx8IHByb3ZpZGVyID09PSBcImdvb2dsZVwiKSAmJiAoaChcImNhbGNpdGUtbGFiZWxcIiwgeyBmb3I6IFwiY3JlZGVudGlhbC10eXBlLXNlbGVjdFwiIH0sIGkxOG4uY3JlZGVudGlhbFR5cGUsIGgoXCJjYWxjaXRlLXNlbGVjdFwiLCB7IGlkOiBcImNyZWRlbnRpYWwtdHlwZS1zZWxlY3RcIiwgbGFiZWw6IFwiY3JlZGVudGlhbC10eXBlLXNlbGVjdFwiLCBvbkNhbGNpdGVTZWxlY3RDaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbFR5cGUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1pc3NpbmdGaWVsZHMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxUeXBlID0gY3JlZGVudGlhbFR5cGU7XG4gICAgICAgICAgICB9LCBkaXNhYmxlZDogY3JlZGVudGlhbFR5cGVPcHRpb25zLmxlbmd0aCA8IDIgfSwgY3JlZGVudGlhbFR5cGVPcHRpb25zLm1hcCgoY3JlZGVudGlhbFR5cGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoaChcImNhbGNpdGUtb3B0aW9uXCIsIHsga2V5OiBjcmVkZW50aWFsVHlwZS52YWx1ZSwgbGFiZWw6IGNyZWRlbnRpYWxUeXBlLmxhYmVsLCB2YWx1ZTogY3JlZGVudGlhbFR5cGUudmFsdWUsIHNlbGVjdGVkOiBjcmVkZW50aWFsVHlwZS52YWx1ZSA9PT0gdGhpcy5jcmVkZW50aWFsVHlwZSB9KSk7XG4gICAgICAgIH0pKSkpLCAocHJvdmlkZXIgPT09IFwiYXp1cmVcIiB8fCBwcm92aWRlciA9PT0gXCJhenVyZWRhdGFsYWtlZ2VuMnN0b3JlXCIpICYmIChoKEZyYWdtZW50LCBudWxsLCBwcm92aWRlciA9PT0gXCJhenVyZVwiICYmIChoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJhdXRoZW50aWNhdGlvbi10eXBlLXNlbGVjdFwiIH0sIGkxOG4uYXV0aGVudGljYXRpb25UeXBlLCBoKFwiY2FsY2l0ZS1zZWxlY3RcIiwgeyBpZDogXCJhdXRoZW50aWNhdGlvbi10eXBlLXNlbGVjdFwiLCBsYWJlbDogXCJhdXRoZW50aWNhdGlvbi10eXBlLXNlbGVjdFwiLCBvbkNhbGNpdGVTZWxlY3RDaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRBdXRoZW50aWNhdGlvblR5cGUgPSBlLnRhcmdldFxuICAgICAgICAgICAgICAgICAgICAudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5taXNzaW5nRmllbGRzID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlO1xuICAgICAgICAgICAgfSB9LCBhdXRoZW50aWNhdGlvblR5cGVzLm1hcCgoYXV0aGVudGljYXRpb25UeXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGgoXCJjYWxjaXRlLW9wdGlvblwiLCB7IGtleTogYXV0aGVudGljYXRpb25UeXBlLCBpZDogYXV0aGVudGljYXRpb25UeXBlLCBsYWJlbDogaTE4bi5hdXRoZW50aWNhdGlvblR5cGVzW2F1dGhlbnRpY2F0aW9uVHlwZV0sIHZhbHVlOiBhdXRoZW50aWNhdGlvblR5cGUsIHNlbGVjdGVkOiBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gYXV0aGVudGljYXRpb25UeXBlIH0pKTtcbiAgICAgICAgfSkpKSksIHByb3ZpZGVyID09PSBcImF6dXJlZGF0YWxha2VnZW4yc3RvcmVcIiAmJiAoaChcImNhbGNpdGUtbGFiZWxcIiwgbnVsbCwgaTE4bi5hdXRoZW50aWNhdGlvblR5cGUsIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgdmFsdWU6IGkxOG4uYXV0aGVudGljYXRpb25UeXBlc1tzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZV0sIGRpc2FibGVkOiB0cnVlIH0pKSksIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcInRva2VuLWlucHV0XCIsIGNsYXNzOiB7IGhpZGU6IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlICE9PSBcInNhc1Rva2VuXCIgfSB9LCBpMThuLnRva2VuLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiBcInRva2VuLWlucHV0XCIsIHZhbHVlOiB0b2tlbiwgb25DYWxjaXRlSW5wdXRDaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgICAgICB9LCBwbGFjZWhvbGRlcjogaTE4bi5zYXNUb2tlblBsYWNlaG9sZGVyLCBzdGF0dXM6IG1pc3NpbmdGaWVsZHNbaTE4bi50b2tlbl0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi50b2tlbl0gfSB9LCB0aGlzLmdlbmVyYXRlRXJyb3JNc2coaTE4bi50b2tlbikpKSwgaChcImNhbGNpdGUtbGFiZWxcIiwgeyBmb3I6IFwiaWRlbnRpdHktdHlwZS1zZWxlY3RcIiwgY2xhc3M6IHsgaGlkZTogc2VsZWN0ZWRBdXRoZW50aWNhdGlvblR5cGUgIT09IFwiYWN0aXZlRGlyZWN0b3J5XCIgfSB9LCBpMThuLmlkZW50aXR5VHlwZSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3QtZ3JvdXBcIiwgeyBsYXlvdXQ6IFwidmVydGljYWxcIiwgaWQ6IFwiaWRlbnRpdHktdHlwZS1zZWxlY3RcIiB9LCBpZGVudGl0eVR5cGVzLm1hcCgoaWRlbnRpdHlUeXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGgoXCJjYWxjaXRlLXRpbGUtc2VsZWN0XCIsIHsga2V5OiBpZGVudGl0eVR5cGUsIGNoZWNrZWQ6IHNlbGVjdGVkSWRlbnRpdHlUeXBlID09PSBpZGVudGl0eVR5cGUsIGhlYWRpbmc6IGkxOG4uaWRlbnRpdHlUeXBlc1tpZGVudGl0eVR5cGVdLCBuYW1lOiBcImlkZW50aXR5LXR5cGUtc2VsZWN0XCIsIFwiaW5wdXQtZW5hYmxlZFwiOiB0cnVlLCB3aWR0aDogXCJmdWxsXCIsIHR5cGU6IFwicmFkaW9cIiwgdmFsdWU6IGlkZW50aXR5VHlwZSwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJZGVudGl0eVR5cGUgPSBlLnRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSWRlbnRpdHlUeXBlID0gc2VsZWN0ZWRJZGVudGl0eVR5cGU7XG4gICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgIH0pKSksIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcIm9wdGlvbmFsLWNsaWVudC1pZC1pbnB1dFwiLCBjbGFzczoge1xuICAgICAgICAgICAgICAgIGhpZGU6IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlICE9PSBcImFjdGl2ZURpcmVjdG9yeVwiIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRlbnRpdHlUeXBlICE9PSBcInVzZXJBc3NpZ25lZElkZW50aXR5XCJcbiAgICAgICAgICAgIH0gfSwgaTE4bi5jbGllbnRJZCwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBpZDogXCJvcHRpb25hbC1jbGllbnQtaWQtaW5wdXRcIiwgdmFsdWU6IGNsaWVudElkLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLmNsaWVudElkXSA/IFwiaW52YWxpZFwiIDogXCJpZGxlXCIgfSksIGgoXCJjYWxjaXRlLWlucHV0LW1lc3NhZ2VcIiwgeyBpY29uOiB0cnVlLCBzdGF0dXM6IFwiaW52YWxpZFwiLCBjbGFzczogeyBoaWRlOiAhbWlzc2luZ0ZpZWxkc1tpMThuLmNsaWVudElkXSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLmNsaWVudElkKSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJ0ZW5hbnQtaWQtaW5wdXRcIiwgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBoaWRlOiBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSAhPT0gXCJhY3RpdmVEaXJlY3RvcnlcIiB8fFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkZW50aXR5VHlwZSAhPT0gXCJzZXJ2aWNlUHJpbmNpcGFsXCJcbiAgICAgICAgICAgIH0gfSwgaTE4bi50ZW5hbnRJZCwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBpZDogXCJ0ZW5hbnQtaWQtaW5wdXRcIiwgdmFsdWU6IHRlbmFudElkLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW5hbnRJZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudGVuYW50SWQgPSB0ZW5hbnRJZDtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLnRlbmFudElkXSA/IFwiaW52YWxpZFwiIDogXCJpZGxlXCIgfSksIGgoXCJjYWxjaXRlLWlucHV0LW1lc3NhZ2VcIiwgeyBpY29uOiB0cnVlLCBzdGF0dXM6IFwiaW52YWxpZFwiLCBjbGFzczogeyBoaWRlOiAhbWlzc2luZ0ZpZWxkc1tpMThuLnRlbmFudElkXSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLnRlbmFudElkKSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJjbGllbnQtaWQtaW5wdXRcIiwgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBoaWRlOiBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSAhPT0gXCJhY3RpdmVEaXJlY3RvcnlcIiB8fFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkZW50aXR5VHlwZSAhPT0gXCJzZXJ2aWNlUHJpbmNpcGFsXCJcbiAgICAgICAgICAgIH0gfSwgaTE4bi5jbGllbnRJZCwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBpZDogXCJjbGllbnQtaWQtaW5wdXRcIiwgdmFsdWU6IGNsaWVudElkLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLmNsaWVudElkXSA/IFwiaW52YWxpZFwiIDogXCJpZGxlXCIgfSksIGgoXCJjYWxjaXRlLWlucHV0LW1lc3NhZ2VcIiwgeyBpY29uOiB0cnVlLCBzdGF0dXM6IFwiaW52YWxpZFwiLCBjbGFzczogeyBoaWRlOiAhbWlzc2luZ0ZpZWxkc1tpMThuLmNsaWVudElkXSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLmNsaWVudElkKSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJjbGllbnQtc2VjcmV0LWlucHV0XCIsIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgaGlkZTogc2VsZWN0ZWRBdXRoZW50aWNhdGlvblR5cGUgIT09IFwiYWN0aXZlRGlyZWN0b3J5XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJZGVudGl0eVR5cGUgIT09IFwic2VydmljZVByaW5jaXBhbFwiXG4gICAgICAgICAgICB9IH0sIGkxOG4uY2xpZW50U2VjcmV0LCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiBcImNsaWVudC1zZWNyZXQtaW5wdXRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCB2YWx1ZTogY2xpZW50U2VjcmV0LCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRTZWNyZXQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudFNlY3JldCA9IGNsaWVudFNlY3JldDtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLmNsaWVudFNlY3JldF0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5jbGllbnRTZWNyZXRdIH0gfSwgdGhpcy5nZW5lcmF0ZUVycm9yTXNnKGkxOG4uY2xpZW50U2VjcmV0KSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJhY2NvdW50LW5hbWUtaW5wdXRcIiwgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBoaWRlOiAoc2VsZWN0ZWRSZWdpb25JZCA9PT0gXCJvdGhlclwiIHx8IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlID09PSBcImFub255bW91c1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSAhPT0gXCJzaGFyZWRLZXlcIlxuICAgICAgICAgICAgfSB9LCBpMThuLmFjY291bnROYW1lLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiBcImFjY291bnQtbmFtZS1pbnB1dFwiLCB2YWx1ZTogYWNjb3VudE5hbWUsIG9uQ2FsY2l0ZUlucHV0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnROYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50TmFtZSA9IGFjY291bnROYW1lO1xuICAgICAgICAgICAgfSwgc3RhdHVzOiBtaXNzaW5nRmllbGRzW2kxOG4uYWNjb3VudE5hbWVdID8gXCJpbnZhbGlkXCIgOiBcImlkbGVcIiB9KSwgaChcImNhbGNpdGUtaW5wdXQtbWVzc2FnZVwiLCB7IGljb246IHRydWUsIHN0YXR1czogXCJpbnZhbGlkXCIsIGNsYXNzOiB7IGhpZGU6ICFtaXNzaW5nRmllbGRzW2kxOG4uYWNjb3VudE5hbWVdIH0gfSwgdGhpcy5nZW5lcmF0ZUVycm9yTXNnKGkxOG4uYWNjb3VudE5hbWUpKSksIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcImFjY291bnQta2V5LWlucHV0XCIsIGNsYXNzOiB7IGhpZGU6IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlICE9PSBcInNoYXJlZEtleVwiIH0gfSwgaTE4bi5hY2NvdW50S2V5LCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiBcImFjY291bnQta2V5LWlucHV0XCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgdmFsdWU6IGFjY291bnRLZXksIG9uQ2FsY2l0ZUlucHV0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRLZXkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRLZXkgPSBhY2NvdW50S2V5O1xuICAgICAgICAgICAgfSwgc3RhdHVzOiBtaXNzaW5nRmllbGRzW2kxOG4uYWNjb3VudEtleV0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5hY2NvdW50S2V5XSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLmFjY291bnRLZXkpKSksIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcImVudmlyb25tZW50LXNlbGVjdFwiLCBjbGFzczogeyBoaWRlOiBzZWxlY3RlZEF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gXCJhbm9ueW1vdXNcIiB9IH0sIGkxOG4uc3RvcmFnZURvbWFpbiwgaChcImNhbGNpdGUtc2VsZWN0XCIsIHsgaWQ6IFwiZW52aXJvbm1lbnQtc2VsZWN0XCIsIGxhYmVsOiBcImVudmlyb25tZW50LXNlbGVjdFwiLCBvbkNhbGNpdGVTZWxlY3RDaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWdpb25JZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZWdpb25JZCA9IHNlbGVjdGVkUmVnaW9uSWQ7XG4gICAgICAgICAgICB9IH0sIHJlZ2lvblNlbGVjdE9wdGlvbnMubWFwKChyZWdpb24pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoaChcImNhbGNpdGUtb3B0aW9uXCIsIHsga2V5OiByZWdpb24uaWQsIGlkOiByZWdpb24uaWQsIGxhYmVsOiBgJHtyZWdpb24uZGlzcGxheU5hbWV9ICR7cmVnaW9uLnN0b3JhZ2VFbmRwb2ludFN1ZmZpeCA/IGAoJHtyZWdpb24uc3RvcmFnZUVuZHBvaW50U3VmZml4fSlgIDogXCJcIn1gLCB2YWx1ZTogcmVnaW9uLmlkLCBzZWxlY3RlZDogcmVnaW9uLmlkID09PSB0aGlzLnNlbGVjdGVkUmVnaW9uSWQgfSkpO1xuICAgICAgICB9KSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJlbmRwb2ludC1pbnB1dFwiLCBjbGFzczoge1xuICAgICAgICAgICAgICAgIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvdzogc2VsZWN0ZWRSZWdpb25JZCA9PT0gXCJvdGhlclwiIHx8IHNlbGVjdGVkQXV0aGVudGljYXRpb25UeXBlID09PSBcImFub255bW91c1wiXG4gICAgICAgICAgICB9IH0sIGkxOG4uZW5kcG9pbnQsIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgaWQ6IFwiZW5kcG9pbnQtaW5wdXRcIiwgdmFsdWU6IGVuZHBvaW50LCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghZW5kcG9pbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiaHR0cHNcIikgJiYgZW5kcG9pbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRFbmRwb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkRW5kcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgICAgICB9LCBwbGFjZWhvbGRlcjogaTE4bi5lbmRwb2ludFBsYWNlaG9sZGVyLCBzdGF0dXM6IG1pc3NpbmdGaWVsZHNbaTE4bi5lbmRwb2ludF0gfHwgaW52YWxpZEVuZHBvaW50ID8gXCJpbnZhbGlkXCIgOiBcImlkbGVcIiB9KSwgaChcImNhbGNpdGUtaW5wdXQtbWVzc2FnZVwiLCB7IGljb246IHRydWUsIHN0YXR1czogXCJpbnZhbGlkXCIsIGNsYXNzOiB7IGhpZGU6ICFtaXNzaW5nRmllbGRzW2kxOG4uZW5kcG9pbnRdICYmICFpbnZhbGlkRW5kcG9pbnQgfSB9LCB0aGlzLmludmFsaWRFbmRwb2ludFxuICAgICAgICAgICAgPyBpMThuLmludmFsaWRFbmRwb2ludFxuICAgICAgICAgICAgOiB0aGlzLmdlbmVyYXRlRXJyb3JNc2coaTE4bi5lbmRwb2ludCkpKSwgaChcImNhbGNpdGUtbGFiZWxcIiwgeyBmb3I6IFwiY29udGFpbmVyLW5hbWUtaW5wdXRcIiB9LCBpMThuLmNvbnRhaW5lck5hbWUsIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgaWQ6IFwiY29udGFpbmVyLW5hbWUtaW5wdXRcIiwgdmFsdWU6IGNvbnRhaW5lck5hbWUsIG9uQ2FsY2l0ZUlucHV0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lck5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lck5hbWUgPSBjb250YWluZXJOYW1lO1xuICAgICAgICAgICAgfSwgc3RhdHVzOiBtaXNzaW5nRmllbGRzW2kxOG4uY29udGFpbmVyTmFtZV0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5jb250YWluZXJOYW1lXSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLmNvbnRhaW5lck5hbWUpKSkpKSwgcHJvdmlkZXIgIT09IFwiYXp1cmVcIiAmJiBwcm92aWRlciAhPT0gXCJhenVyZWRhdGFsYWtlZ2VuMnN0b3JlXCIgJiYgKGgoRnJhZ21lbnQsIG51bGwsIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcImFjY2Vzcy1rZXktaW5wdXRcIiB9LCBpMThuLmFjY2Vzc0tleSwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBpZDogXCJhY2Nlc3Mta2V5LWlucHV0XCIsIHZhbHVlOiBhY2Nlc3NLZXksIGRpc2FibGVkOiBjcmVkZW50aWFsVHlwZSA9PT0gXCJJQU1Sb2xlXCIgfHwgY3JlZGVudGlhbFR5cGUgPT09IFwicHJpdmF0ZUtleVwiLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLmFjY2Vzc0tleV0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5hY2Nlc3NLZXldIH0gfSwgdGhpcy5nZW5lcmF0ZUVycm9yTXNnKGkxOG4uYWNjZXNzS2V5KSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJzZWNyZXQta2V5LWlucHV0XCIgfSwgaTE4bi5zZWNyZXRLZXksIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgaWQ6IFwic2VjcmV0LWtleS1pbnB1dFwiLCB2YWx1ZTogc2VjcmV0S2V5LCB0eXBlOiBcInBhc3N3b3JkXCIsIGRpc2FibGVkOiBjcmVkZW50aWFsVHlwZSA9PT0gXCJJQU1Sb2xlXCIgfHwgY3JlZGVudGlhbFR5cGUgPT09IFwicHJpdmF0ZUtleVwiLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNyZXRLZXkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3JldEtleSA9IHNlY3JldEtleTtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLnNlY3JldEtleV0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5zZWNyZXRLZXldIH0gfSwgdGhpcy5nZW5lcmF0ZUVycm9yTXNnKGkxOG4uc2VjcmV0S2V5KSkpLCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCB7IGZvcjogXCJyZWdpb24tc2VsZWN0XCIgfSwgaTE4bi5yZWdpb24sIGgoXCJjYWxjaXRlLXNlbGVjdFwiLCB7IGlkOiBcInJlZ2lvbi1zZWxlY3RcIiwgbGFiZWw6IFwicmVnaW9uLXNlbGVjdFwiLCBvbkNhbGNpdGVTZWxlY3RDaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWdpb25JZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZWdpb25JZCA9IHNlbGVjdGVkUmVnaW9uSWQ7XG4gICAgICAgICAgICB9LCBkaXNhYmxlZDogcHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIgfSwgcmVnaW9uU2VsZWN0T3B0aW9ucy5tYXAoKHJlZ2lvbikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChoKFwiY2FsY2l0ZS1vcHRpb25cIiwgeyBrZXk6IHJlZ2lvbi5pZCwgaWQ6IHJlZ2lvbi5pZCwgbGFiZWw6IHJlZ2lvbi5kaXNwbGF5TmFtZSwgdmFsdWU6IHJlZ2lvbi5pZCwgc2VsZWN0ZWQ6IHJlZ2lvbi5pZCA9PT0gdGhpcy5zZWxlY3RlZFJlZ2lvbklkIH0pKTtcbiAgICAgICAgfSkpKSwgc2hvd1ByaXZhdGVVUkwgJiYgKGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgZm9yOiBcInN0b3JhZ2UtdXJsLWlucHV0XCIgfSwgaTE4bi5zdG9yYWdlVVJMLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiBcInN0b3JhZ2UtdXJsLWlucHV0XCIsIHZhbHVlOiBzdG9yYWdlVVJMLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlVVJMID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlVVJMID0gc3RvcmFnZVVSTDtcbiAgICAgICAgICAgIH0sIHN0YXR1czogbWlzc2luZ0ZpZWxkc1tpMThuLnN0b3JhZ2VVUkxdID8gXCJpbnZhbGlkXCIgOiBcImlkbGVcIiB9KSwgaChcImNhbGNpdGUtaW5wdXQtbWVzc2FnZVwiLCB7IGljb246IHRydWUsIHN0YXR1czogXCJpbnZhbGlkXCIsIGNsYXNzOiB7IGhpZGU6ICFtaXNzaW5nRmllbGRzW2kxOG4uc3RvcmFnZVVSTF0gfSB9LCB0aGlzLmdlbmVyYXRlRXJyb3JNc2coaTE4bi5zdG9yYWdlVVJMKSkpKSwgaChcImNhbGNpdGUtbGFiZWxcIiwgeyBmb3I6IFwiYnVja2V0LW5hbWUtaW5wdXRcIiB9LCBpMThuLmJ1Y2tldE5hbWUsIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgaWQ6IFwiYnVja2V0LW5hbWUtaW5wdXRcIiwgdmFsdWU6IGJ1Y2tldE5hbWUsIG9uQ2FsY2l0ZUlucHV0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldE5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1Y2tldE5hbWUgPSBidWNrZXROYW1lO1xuICAgICAgICAgICAgfSwgc3RhdHVzOiBtaXNzaW5nRmllbGRzW2kxOG4uYnVja2V0TmFtZV0gPyBcImludmFsaWRcIiA6IFwiaWRsZVwiIH0pLCBoKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIsIHsgaWNvbjogdHJ1ZSwgc3RhdHVzOiBcImludmFsaWRcIiwgY2xhc3M6IHsgaGlkZTogIW1pc3NpbmdGaWVsZHNbaTE4bi5idWNrZXROYW1lXSB9IH0sIHRoaXMuZ2VuZXJhdGVFcnJvck1zZyhpMThuLmJ1Y2tldE5hbWUpKSkpKSwgaChcImNhbGNpdGUtbGFiZWxcIiwgeyBmb3I6IFwiY2xvdWQtZm9sZGVyLWlucHV0XCIgfSwgaTE4bi5jbG91ZEZvbGRlciwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBpZDogXCJjbG91ZC1mb2xkZXItaW5wdXRcIiwgdmFsdWU6IGNsb3VkRm9sZGVyLCBwbGFjZWhvbGRlcjogaTE4bi5jbG91ZEZvbGRlclBsYWNlSG9sZGVyLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG91ZEZvbGRlciA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvdWRGb2xkZXIgPSBjbG91ZEZvbGRlcjtcbiAgICAgICAgICAgIH0gfSkpKSwgaChcImFyY2dpcy1uZXctaXRlbS1hbGVydFwiLCB7IGFjdGl2ZTogdGhpcy5lcnJvciAhPT0gdW5kZWZpbmVkLCBoZWFkaW5nOiAoX2EgPSB0aGlzLmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGl0bGUsIGRlc2NyaXB0aW9uOiAoX2IgPSB0aGlzLmVycm9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVzY3JpcHRpb24sIG9uQWxlcnREaXNtaXNzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gfSkpKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICAgICAgXCJzZWxlY3RlZFJlZ2lvbklkXCI6IFtcInRvZ2dsZVByaXZhdGVVUkxcIl1cbiAgICB9OyB9XG59O1xuQXJjZ2lzTmV3SXRlbVBhZ2VzRGF0YVN0b3JlU2VsZWN0Q2xvdWRDcmVkZW50aWFscy5zdHlsZSA9IGFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdENsb3VkQ3JlZGVudGlhbHNDc3M7XG5cbmV4cG9ydCB7IEFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdENsb3VkQ3JlZGVudGlhbHMgYXMgYXJjZ2lzX25ld19pdGVtX3BhZ2VzX2RhdGFfc3RvcmVfc2VsZWN0X2Nsb3VkX2NyZWRlbnRpYWxzIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyY2dpcy1uZXctaXRlbS1wYWdlcy1kYXRhLXN0b3JlLXNlbGVjdC1jbG91ZC1jcmVkZW50aWFscy5lbnRyeS5qcy5tYXAiLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2NC4wLjU4XG4gKi9cbmNvbnN0IGZvcm1hdFRpdGxlRm9yRGF0YVN0b3JlSXRlbSA9IChwcm92aWRlciwgZmllbGRWYWx1ZSkgPT4ge1xuICAgIGxldCB0aXRsZTtcbiAgICBjb25zdCBpbml0aWFsVGl0bGUgPSBmaWVsZFZhbHVlICE9PSBudWxsICYmIGZpZWxkVmFsdWUgIT09IHZvaWQgMCA/IGZpZWxkVmFsdWUgOiBcIlwiO1xuICAgIHN3aXRjaCAocHJvdmlkZXIpIHtcbiAgICAgICAgY2FzZSBcImFtYXpvblwiOlxuICAgICAgICAgICAgdGl0bGUgPSBgQW1hem9uUzNfJHtpbml0aWFsVGl0bGV9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXp1cmVcIjpcbiAgICAgICAgICAgIHRpdGxlID0gYE1pY3Jvc29mdF9BenVyZV9TdG9yYWdlXyR7aW5pdGlhbFRpdGxlfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpZ1F1ZXJ5XCI6XG4gICAgICAgICAgICB0aXRsZSA9IGBCaWdRdWVyeV8ke2luaXRpYWxUaXRsZX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzbm93Zmxha2VcIjpcbiAgICAgICAgICAgIHRpdGxlID0gYFNub3dmbGFrZV8ke2luaXRpYWxUaXRsZX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0aXRsZS5yZXBsYWNlKC8gL2csIFwiX1wiKS5yZXBsYWNlKC8tL2csIFwiX1wiKTtcbn07XG5cbmV4cG9ydCB7IGZvcm1hdFRpdGxlRm9yRGF0YVN0b3JlSXRlbSBhcyBmIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEtc3RvcmUtOGY4YWM2NDAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9