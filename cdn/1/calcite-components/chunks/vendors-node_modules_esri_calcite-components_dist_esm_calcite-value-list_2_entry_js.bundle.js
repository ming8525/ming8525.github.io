"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_esri_calcite-components_dist_esm_calcite-value-list_2_entry_js"],{

/***/ "./node_modules/@esri/calcite-components/dist/esm/calcite-value-list_2.entry.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/esm/calcite-value-list_2.entry.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcite_value_list: () => (/* binding */ ValueList),
/* harmony export */   calcite_value_list_item: () => (/* binding */ ValueListItem)
/* harmony export */ });
/* harmony import */ var _index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-86faef9c.js */ "./node_modules/@esri/calcite-components/dist/esm/index-86faef9c.js");
/* harmony import */ var _interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interactive-cbd8a6dc.js */ "./node_modules/@esri/calcite-components/dist/esm/interactive-cbd8a6dc.js");
/* harmony import */ var _loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadable-b17396e0.js */ "./node_modules/@esri/calcite-components/dist/esm/loadable-b17396e0.js");
/* harmony import */ var _locale_6e783cf0_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./locale-6e783cf0.js */ "./node_modules/@esri/calcite-components/dist/esm/locale-6e783cf0.js");
/* harmony import */ var _observers_71d332db_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./observers-71d332db.js */ "./node_modules/@esri/calcite-components/dist/esm/observers-71d332db.js");
/* harmony import */ var _t9n_0bcdca54_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./t9n-0bcdca54.js */ "./node_modules/@esri/calcite-components/dist/esm/t9n-0bcdca54.js");
/* harmony import */ var _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resources-3a2474ae.js */ "./node_modules/@esri/calcite-components/dist/esm/resources-3a2474ae.js");
/* harmony import */ var _sortableComponent_42b85f87_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sortableComponent-42b85f87.js */ "./node_modules/@esri/calcite-components/dist/esm/sortableComponent-42b85f87.js");
/* harmony import */ var _dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dom-ed00a585.js */ "./node_modules/@esri/calcite-components/dist/esm/dom-ed00a585.js");
/* harmony import */ var _conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./conditionalSlot-f6710875.js */ "./node_modules/@esri/calcite-components/dist/esm/conditionalSlot-f6710875.js");
/* harmony import */ var _guid_21fecfa4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./guid-21fecfa4.js */ "./node_modules/@esri/calcite-components/dist/esm/guid-21fecfa4.js");
/* harmony import */ var _browser_ece29da7_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./browser-ece29da7.js */ "./node_modules/@esri/calcite-components/dist/esm/browser-ece29da7.js");
/* harmony import */ var _key_61f82ddb_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./key-61f82ddb.js */ "./node_modules/@esri/calcite-components/dist/esm/key-61f82ddb.js");
/* harmony import */ var _array_7639d921_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./array-7639d921.js */ "./node_modules/@esri/calcite-components/dist/esm/array-7639d921.js");
/* harmony import */ var _debounce_85958bb1_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./debounce-85958bb1.js */ "./node_modules/@esri/calcite-components/dist/esm/debounce-85958bb1.js");
/* harmony import */ var _resources_cf82388c_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./resources-cf82388c.js */ "./node_modules/@esri/calcite-components/dist/esm/resources-cf82388c.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */

















const CSS = {
  container: "container",
  handle: "handle",
};
var ICON_TYPES;
(function (ICON_TYPES) {
  ICON_TYPES["grip"] = "grip";
})(ICON_TYPES || (ICON_TYPES = {}));

function getScreenReaderText(item, status, valueList) {
  const { items, messages } = valueList;
  const total = items.length;
  const position = (0,_resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.g)(valueList, item) + 1;
  const template = status === "idle"
    ? messages.dragHandleIdle
    : status === "active"
      ? messages.dragHandleActive
      : status === "change"
        ? messages.dragHandleChange
        : messages.dragHandleCommit;
  return replacePlaceholders(template, item.label, position, total);
}
function getHandleAndItemElement(event) {
  const handle = event
    .composedPath()
    .find((item) => item.dataset?.jsHandle !== undefined);
  const item = event
    .composedPath()
    .find((item) => item.tagName?.toLowerCase() === "calcite-value-list-item");
  return { handle, item };
}
function replacePlaceholders(text, label, position, total) {
  const replacePosition = text.replace("{position}", position.toString());
  const replaceLabel = replacePosition.replace("{itemLabel}", label);
  return replaceLabel.replace("{total}", total.toString());
}

const valueListCss = ":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;flex-shrink:0;flex-grow:0;flex-direction:column;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-2)}:host *{box-sizing:border-box}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-value-list-item:last-of-type{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header{margin-block-end:0.25rem;display:flex;align-items:center;justify-content:flex-end;background-color:var(--calcite-color-foreground-1);--tw-shadow:0 1px 0 var(--calcite-color-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky)}calcite-filter{margin-block-end:1px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}";

const ValueList = class {
  constructor(hostRef) {
    (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteListChange = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteListChange", 6);
    this.calciteListOrderChange = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteListOrderChange", 6);
    this.calciteListFilter = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteListFilter", 6);
    this.lastSelectedItem = null;
    this.mutationObserver = (0,_observers_71d332db_js__WEBPACK_IMPORTED_MODULE_4__.c)("mutation", _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.m.bind(this));
    this.handleSelector = `.${CSS.handle}`;
    this.dragSelector = "calcite-value-list-item";
    this.setFilterEl = (el) => {
      this.filterEl = el;
    };
    this.setFilteredItems = (filteredItems) => {
      this.filteredItems = filteredItems;
    };
    this.deselectRemovedItems = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.d.bind(this);
    this.deselectSiblingItems = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.a.bind(this);
    this.selectSiblings = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.s.bind(this);
    this.handleFilter = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.h.bind(this);
    this.handleFilterEvent = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.b.bind(this);
    this.getItemData = _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.c.bind(this);
    this.keyDownHandler = (event) => {
      if (event.defaultPrevented) {
        return;
      }
      const { handle, item } = getHandleAndItemElement(event);
      if (handle && !item.handleActivated && event.key === " ") {
        this.updateScreenReaderText(getScreenReaderText(item, "commit", this));
      }
      if (!handle || !item.handleActivated) {
        _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.k.call(this, event);
        return;
      }
      event.preventDefault();
      const { items } = this;
      if (event.key === " ") {
        this.updateScreenReaderText(getScreenReaderText(item, "active", this));
      }
      if ((event.key !== "ArrowUp" && event.key !== "ArrowDown") || items.length <= 1) {
        return;
      }
      const { el } = this;
      const nextIndex = (0,_resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.e)(this, item, event.key === "ArrowUp" ? "up" : "down");
      if (nextIndex === items.length - 1) {
        el.appendChild(item);
      }
      else {
        const itemAtNextIndex = el.children[nextIndex];
        const insertionReferenceItem = itemAtNextIndex === item.nextElementSibling
          ? itemAtNextIndex.nextElementSibling
          : itemAtNextIndex;
        el.insertBefore(item, insertionReferenceItem);
      }
      this.items = this.getItems();
      this.calciteListOrderChange.emit(this.items.map(({ value }) => value));
      requestAnimationFrame(() => (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_8__.d)(handle));
      item.handleActivated = true;
      this.updateHandleAriaLabel(handle, getScreenReaderText(item, "change", this));
    };
    this.storeAssistiveEl = (el) => {
      this.assistiveTextEl = el;
    };
    this.handleFocusIn = (event) => {
      const { handle, item } = getHandleAndItemElement(event);
      if (!item?.handleActivated && item && handle) {
        this.updateHandleAriaLabel(handle, getScreenReaderText(item, "idle", this));
      }
    };
    this.disabled = false;
    this.canPull = undefined;
    this.canPut = undefined;
    this.dragEnabled = false;
    this.filteredItems = [];
    this.filteredData = [];
    this.filterEnabled = false;
    this.filterPlaceholder = undefined;
    this.filterText = undefined;
    this.group = undefined;
    this.loading = false;
    this.multiple = false;
    this.selectionFollowsFocus = false;
    this.messageOverrides = undefined;
    this.messages = undefined;
    this.dataForFilter = [];
    this.defaultMessages = undefined;
    this.effectiveLocale = "";
    this.selectedValues = new Map();
  }
  onMessagesChange() {
    /* wired up by t9n util */
  }
  effectiveLocaleChange() {
    (0,_t9n_0bcdca54_js__WEBPACK_IMPORTED_MODULE_5__.u)(this, this.effectiveLocale);
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  // --------------------------------------------------------------------------
  connectedCallback() {
    if ((0,_sortableComponent_42b85f87_js__WEBPACK_IMPORTED_MODULE_7__.d)(this)) {
      return;
    }
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.c)(this);
    (0,_locale_6e783cf0_js__WEBPACK_IMPORTED_MODULE_3__.c)(this);
    (0,_t9n_0bcdca54_js__WEBPACK_IMPORTED_MODULE_5__.c)(this);
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.i.call(this);
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.f.call(this);
    this.setUpSorting();
  }
  async componentWillLoad() {
    (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.s)(this);
    await (0,_t9n_0bcdca54_js__WEBPACK_IMPORTED_MODULE_5__.s)(this);
  }
  componentDidLoad() {
    (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.a)(this);
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.j.call(this);
  }
  componentDidRender() {
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.u)(this);
  }
  disconnectedCallback() {
    if ((0,_sortableComponent_42b85f87_js__WEBPACK_IMPORTED_MODULE_7__.d)(this)) {
      return;
    }
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.d)(this);
    (0,_sortableComponent_42b85f87_js__WEBPACK_IMPORTED_MODULE_7__.a)(this);
    (0,_locale_6e783cf0_js__WEBPACK_IMPORTED_MODULE_3__.d)(this);
    (0,_t9n_0bcdca54_js__WEBPACK_IMPORTED_MODULE_5__.d)(this);
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.l.call(this);
  }
  calciteListFocusOutHandler(event) {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.n.call(this, event);
  }
  calciteListItemRemoveHandler(event) {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.r.call(this, event);
  }
  calciteListItemChangeHandler(event) {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.o.call(this, event);
  }
  calciteInternalListItemPropsChangeHandler(event) {
    event.stopPropagation();
    this.setUpFilter();
  }
  calciteInternalListItemValueChangeHandler(event) {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.p.call(this, event);
    event.stopPropagation();
  }
  // --------------------------------------------------------------------------
  //
  //  Private Methods
  //
  // --------------------------------------------------------------------------
  onDragStart() {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.l.call(this);
  }
  onDragEnd() {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.f.call(this);
  }
  onDragSort() {
    this.items = Array.from(this.el.querySelectorAll("calcite-value-list-item"));
    const values = this.items.map((item) => item.value);
    this.calciteListOrderChange.emit(values);
  }
  getItems() {
    return Array.from(this.el.querySelectorAll("calcite-value-list-item"));
  }
  setUpItems() {
    _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.q.call(this, "calcite-value-list-item");
    this.setUpSorting();
  }
  setUpFilter() {
    if (this.filterEnabled) {
      this.dataForFilter = this.getItemData();
    }
  }
  setUpSorting() {
    const { dragEnabled } = this;
    if (!dragEnabled) {
      return;
    }
    (0,_sortableComponent_42b85f87_js__WEBPACK_IMPORTED_MODULE_7__.c)(this);
  }
  handleBlur() {
    if (this.dragEnabled) {
      this.updateScreenReaderText("");
    }
  }
  // --------------------------------------------------------------------------
  //
  //  Public Methods
  //
  // --------------------------------------------------------------------------
  /** Returns the currently selected items */
  async getSelectedItems() {
    return this.selectedValues;
  }
  /**
   * Sets focus on the component's first focusable element.
   *
   * @param focusId
   */
  async setFocus(focusId) {
    await (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    return _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.t.call(this, focusId);
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  getIconType() {
    let type = null;
    if (this.dragEnabled) {
      type = ICON_TYPES.grip;
    }
    return type;
  }
  updateScreenReaderText(text) {
    this.assistiveTextEl.textContent = text;
  }
  updateHandleAriaLabel(handleElement, text) {
    handleElement.ariaLabel = text;
  }
  handleValueListItemBlur(event) {
    const { item, handle } = event.detail;
    if (!item?.handleActivated && item) {
      this.updateHandleAriaLabel(handle, getScreenReaderText(item, "idle", this));
    }
    event.stopPropagation();
  }
  render() {
    return ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)(_resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.L, { onBlur: this.handleBlur, onFocusin: this.handleFocusIn, onKeyDown: this.keyDownHandler, props: this }));
  }
  static get assetsDirs() { return ["assets"]; }
  get el() { return (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
  static get watchers() { return {
    "messageOverrides": ["onMessagesChange"],
    "effectiveLocale": ["effectiveLocaleChange"]
  }; }
};
ValueList.style = valueListCss;

const ICONS = {
  drag: "drag",
};
const SLOTS = {
  actionsEnd: "actions-end",
  actionsStart: "actions-start",
};

const valueListItemCss = ":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{margin-block-end:1px;box-sizing:border-box;display:flex;background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-2);--tw-shadow:0 1px 0 var(--calcite-color-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}:host *{box-sizing:border-box}calcite-pick-list-item{position:relative;margin:0px;flex-grow:1;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([active]),:host([selected]){--tw-shadow:0 0 0 1px var(--calcite-color-brand);--tw-shadow-colored:0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.handle{display:flex;cursor:move;align-items:center;justify-content:center;border-style:none;background-color:transparent;padding-block:0px;padding-inline:0.25rem;color:var(--calcite-color-border-input);outline-color:transparent}.handle:hover{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1)}.handle:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}.handle--activated{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}.handle calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hidden]){display:none}[hidden]{display:none}";

const ValueListItem = class {
  constructor(hostRef) {
    (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteListItemChange = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteListItemChange", 6);
    this.calciteListItemRemove = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteListItemRemove", 7);
    this.calciteValueListItemDragHandleBlur = (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteValueListItemDragHandleBlur", 6);
    this.pickListItem = null;
    this.guid = `calcite-value-list-item-${(0,_guid_21fecfa4_js__WEBPACK_IMPORTED_MODULE_10__.g)()}`;
    // --------------------------------------------------------------------------
    //
    //  Private Methods
    //
    // --------------------------------------------------------------------------
    this.getPickListRef = (el) => (this.pickListItem = el);
    this.handleKeyDown = (event) => {
      if (event.key === " ") {
        this.handleActivated = !this.handleActivated;
      }
    };
    this.handleBlur = () => {
      this.handleActivated = false;
      this.calciteValueListItemDragHandleBlur.emit({ item: this.el, handle: this.handleEl });
    };
    this.handleSelectChange = (event) => {
      this.selected = event.detail.selected;
    };
    this.description = undefined;
    this.disabled = false;
    this.deselectDisabled = false;
    this.nonInteractive = false;
    this.handleActivated = false;
    this.icon = null;
    this.iconFlipRtl = false;
    this.label = undefined;
    this.metadata = undefined;
    this.removable = false;
    this.selected = false;
    this.value = undefined;
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  // --------------------------------------------------------------------------
  connectedCallback() {
    (0,_conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_9__.c)(this);
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.c)(this);
  }
  disconnectedCallback() {
    (0,_conditionalSlot_f6710875_js__WEBPACK_IMPORTED_MODULE_9__.d)(this);
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.d)(this);
  }
  componentWillLoad() {
    (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.s)(this);
  }
  componentDidLoad() {
    (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.a)(this);
  }
  componentDidRender() {
    (0,_interactive_cbd8a6dc_js__WEBPACK_IMPORTED_MODULE_1__.u)(this, this.el.closest("calcite-value-list") ? "managed" : false);
  }
  // --------------------------------------------------------------------------
  //
  //  Public Methods
  //
  // --------------------------------------------------------------------------
  /**
   * Toggle the selection state. By default this won't trigger an event.
   * The first argument allows the value to be coerced, rather than swapping values.
   *
   * @param coerce
   */
  async toggleSelected(coerce) {
    this.pickListItem.toggleSelected(coerce);
  }
  /** Set focus on the component. */
  async setFocus() {
    await (0,_loadable_b17396e0_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    return this.pickListItem?.setFocus();
  }
  calciteListItemChangeHandler(event) {
    // adjust item payload from wrapped item before bubbling
    event.detail.item = this.el;
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderActionsEnd() {
    const { el } = this;
    const hasActionsEnd = (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_8__.e)(el, SLOTS.actionsEnd);
    return hasActionsEnd ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.actionsEnd, slot: _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.S.actionsEnd })) : null;
  }
  renderActionsStart() {
    const { el } = this;
    const hasActionsStart = (0,_dom_ed00a585_js__WEBPACK_IMPORTED_MODULE_8__.e)(el, SLOTS.actionsStart);
    return hasActionsStart ? ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.actionsStart, slot: _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.S.actionsStart })) : null;
  }
  renderHandle() {
    const { icon, iconFlipRtl } = this;
    if (icon === _resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.I.grip) {
      return ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: {
          [_resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.C.handle]: true,
          [_resources_3a2474ae_js__WEBPACK_IMPORTED_MODULE_6__.C.handleActivated]: this.handleActivated,
        }, "data-js-handle": true, onBlur: this.handleBlur, onKeyDown: this.handleKeyDown, role: "button", tabindex: "0",
        // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)
        ref: (el) => (this.handleEl = el) }, (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { flipRtl: iconFlipRtl, icon: ICONS.drag, scale: "s" })));
    }
  }
  render() {
    return ((0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.H, { id: this.el.id || this.guid }, this.renderHandle(), (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-pick-list-item", { description: this.description, deselectDisabled: this.deselectDisabled, disabled: this.disabled, label: this.label, metadata: this.metadata, nonInteractive: this.nonInteractive, onCalciteListItemChange: this.handleSelectChange, removable: this.removable, selected: this.selected, value: this.value,
      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)
      ref: this.getPickListRef }, this.renderActionsStart(), this.renderActionsEnd())));
  }
  get el() { return (0,_index_86faef9c_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
};
ValueListItem.style = valueListItemCss;



//# sourceMappingURL=calcite-value-list_2.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY2l0ZS1jb21wb25lbnRzL2NodW5rcy92ZW5kb3JzLW5vZGVfbW9kdWxlc19lc3JpX2NhbGNpdGUtY29tcG9uZW50c19kaXN0X2VzbV9jYWxjaXRlLXZhbHVlLWxpc3RfMl9lbnRyeV9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RztBQUNlO0FBQ0w7QUFDaEM7QUFDekI7QUFDNkQ7QUFDd2M7QUFDaGM7QUFDNUQ7QUFDdUQ7QUFDL0U7QUFDaEI7QUFDSjtBQUNFO0FBQ0c7QUFDQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQzs7QUFFakM7QUFDQSxVQUFVLGtCQUFrQjtBQUM1QjtBQUNBLG1CQUFtQix5REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQsaURBQWlELFVBQVU7QUFDM0QsZ0NBQWdDLE1BQU07QUFDdEM7O0FBRUEsd0NBQXdDLGVBQWUseUJBQXlCLGlCQUFpQix3Q0FBd0MsbURBQW1ELG9CQUFvQixNQUFNLGtCQUFrQixzQkFBc0IsYUFBYSxjQUFjLFlBQVksc0JBQXNCLG9CQUFvQiw2QkFBNkIsc0NBQXNDLGtDQUFrQyxRQUFRLHNCQUFzQix5R0FBeUcsVUFBVSxxQ0FBcUMsc0JBQXNCLDhCQUE4Qix1R0FBdUcsK0JBQStCLHlCQUF5QixhQUFhLG1CQUFtQix5QkFBeUIsbURBQW1ELGtEQUFrRCxtREFBbUQsdUdBQXVHLDBDQUEwQyxnQkFBZ0Isc0JBQXNCLHNDQUFzQyxlQUFlLHFCQUFxQixnQkFBZ0Isa0JBQWtCLGdCQUFnQixlQUFlLFVBQVUsWUFBWSxnQkFBZ0Isc0JBQXNCLG1CQUFtQixlQUFlLGdCQUFnQixhQUFhLFNBQVMsYUFBYTs7QUFFaitDO0FBQ0E7QUFDQSxJQUFJLHFEQUFnQjtBQUNwQiw2QkFBNkIscURBQVc7QUFDeEMsa0NBQWtDLHFEQUFXO0FBQzdDLDZCQUE2QixxREFBVztBQUN4QztBQUNBLDRCQUE0Qix5REFBYyxhQUFhLHFEQUF3QjtBQUMvRSw4QkFBOEIsV0FBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBb0I7QUFDcEQsZ0NBQWdDLHFEQUFvQjtBQUNwRCwwQkFBMEIscURBQWM7QUFDeEMsd0JBQXdCLHFEQUFZO0FBQ3BDLDZCQUE2QixxREFBaUI7QUFDOUMsdUJBQXVCLHFEQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxLQUFLO0FBQ25CLHdCQUF3Qix5REFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEUsa0NBQWtDLG1EQUFZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtREFBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQVU7QUFDbEI7QUFDQTtBQUNBLElBQUksMkRBQWtCO0FBQ3RCLElBQUksc0RBQWdCO0FBQ3BCLElBQUksbURBQWU7QUFDbkIsSUFBSSxxREFBVTtBQUNkLElBQUkscURBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQXNCO0FBQzFCLFVBQVUsbURBQWE7QUFDdkI7QUFDQTtBQUNBLElBQUksd0RBQWtCO0FBQ3RCLElBQUkscURBQW1CO0FBQ3ZCO0FBQ0E7QUFDQSxJQUFJLDJEQUFxQjtBQUN6QjtBQUNBO0FBQ0EsUUFBUSxpRUFBVTtBQUNsQjtBQUNBO0FBQ0EsSUFBSSwyREFBcUI7QUFDekIsSUFBSSxpRUFBMkI7QUFDL0IsSUFBSSxzREFBbUI7QUFDdkIsSUFBSSxtREFBa0I7QUFDdEIsSUFBSSxxREFBZTtBQUNuQjtBQUNBO0FBQ0EsSUFBSSxxREFBMEI7QUFDOUI7QUFDQTtBQUNBLElBQUkscURBQVU7QUFDZDtBQUNBO0FBQ0EsSUFBSSxxREFBNEI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBeUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQWU7QUFDbkI7QUFDQTtBQUNBLElBQUkscURBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpRUFBd0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBa0I7QUFDNUIsV0FBVyxxREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUMsQ0FBQyxxREFBSSxJQUFJLHFHQUFxRztBQUMzSDtBQUNBLDRCQUE0QjtBQUM1QixhQUFhLE9BQU8scURBQVU7QUFDOUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDLGVBQWUseUJBQXlCLGlCQUFpQix3Q0FBd0MsbURBQW1ELG9CQUFvQixNQUFNLHFCQUFxQixzQkFBc0IsYUFBYSxtREFBbUQsc0NBQXNDLGtDQUFrQyxrREFBa0QsbURBQW1ELHVHQUF1Ryx3R0FBd0csUUFBUSxzQkFBc0IsdUJBQXVCLGtCQUFrQixXQUFXLFlBQVksc0JBQXNCLDhCQUE4Qix1R0FBdUcsa0NBQWtDLGlEQUFpRCxxREFBcUQsdUdBQXVHLFFBQVEsYUFBYSxZQUFZLG1CQUFtQix1QkFBdUIsa0JBQWtCLDZCQUE2QixrQkFBa0IsdUJBQXVCLHdDQUF3QywwQkFBMEIsY0FBYyxtREFBbUQsa0NBQWtDLGNBQWMsNkNBQTZDLGtQQUFrUCxtQkFBbUIsbURBQW1ELGtDQUFrQyxxQkFBcUIsY0FBYyx5R0FBeUcsVUFBVSxnQkFBZ0IsYUFBYSxTQUFTLGFBQWE7O0FBRS9rRTtBQUNBO0FBQ0EsSUFBSSxxREFBZ0I7QUFDcEIsaUNBQWlDLHFEQUFXO0FBQzVDLGlDQUFpQyxxREFBVztBQUM1Qyw4Q0FBOEMscURBQVc7QUFDekQ7QUFDQSwyQ0FBMkMscURBQUksR0FBRztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzQ0FBc0M7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksK0RBQStCO0FBQ25DLElBQUksMkRBQWtCO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJLCtEQUFrQztBQUN0QyxJQUFJLDJEQUFxQjtBQUN6QjtBQUNBO0FBQ0EsSUFBSSx3REFBc0I7QUFDMUI7QUFDQTtBQUNBLElBQUksd0RBQWtCO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJLDJEQUFxQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCLDBCQUEwQixtREFBVTtBQUNwQyw0QkFBNEIscURBQUMsV0FBVyw4QkFBOEIscURBQU8sYUFBYTtBQUMxRjtBQUNBO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCLDRCQUE0QixtREFBVTtBQUN0Qyw4QkFBOEIscURBQUMsV0FBVyxnQ0FBZ0MscURBQU8sZUFBZTtBQUNoRztBQUNBO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEMsaUJBQWlCLHFEQUFZO0FBQzdCLGNBQWMscURBQUMsV0FBVztBQUMxQixXQUFXLHFEQUFLO0FBQ2hCLFdBQVcscURBQUs7QUFDaEIsU0FBUztBQUNUO0FBQ0EsMkNBQTJDLEVBQUUscURBQUMsbUJBQW1CLG9EQUFvRDtBQUNySDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFDLENBQUMsaURBQUksSUFBSSw2QkFBNkIsdUJBQXVCLHFEQUFDLDZCQUE2QjtBQUN4RztBQUNBLGdDQUFnQztBQUNoQztBQUNBLGFBQWEsT0FBTyxxREFBVTtBQUM5QjtBQUNBOztBQUVxRjs7QUFFckYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2VzbS9jYWxjaXRlLXZhbHVlLWxpc3RfMi5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjIuMC4wXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgZyBhcyBnZXRFbGVtZW50LCBIIGFzIEhvc3QgfSBmcm9tICcuL2luZGV4LTg2ZmFlZjljLmpzJztcbmltcG9ydCB7IGMgYXMgY29ubmVjdEludGVyYWN0aXZlLCB1IGFzIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbiwgZCBhcyBkaXNjb25uZWN0SW50ZXJhY3RpdmUgfSBmcm9tICcuL2ludGVyYWN0aXZlLWNiZDhhNmRjLmpzJztcbmltcG9ydCB7IHMgYXMgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCwgYSBhcyBzZXRDb21wb25lbnRMb2FkZWQsIGMgYXMgY29tcG9uZW50Rm9jdXNhYmxlIH0gZnJvbSAnLi9sb2FkYWJsZS1iMTczOTZlMC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RMb2NhbGl6ZWQsIGQgYXMgZGlzY29ubmVjdExvY2FsaXplZCB9IGZyb20gJy4vbG9jYWxlLTZlNzgzY2YwLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlT2JzZXJ2ZXIgfSBmcm9tICcuL29ic2VydmVycy03MWQzMzJkYi5qcyc7XG5pbXBvcnQgeyB1IGFzIHVwZGF0ZU1lc3NhZ2VzLCBjIGFzIGNvbm5lY3RNZXNzYWdlcywgcyBhcyBzZXRVcE1lc3NhZ2VzLCBkIGFzIGRpc2Nvbm5lY3RNZXNzYWdlcyB9IGZyb20gJy4vdDluLTBiY2RjYTU0LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0SXRlbUluZGV4LCBtIGFzIG11dGF0aW9uT2JzZXJ2ZXJDYWxsYmFjaywgZCBhcyBkZXNlbGVjdFJlbW92ZWRJdGVtcywgYSBhcyBkZXNlbGVjdFNpYmxpbmdJdGVtcywgcyBhcyBzZWxlY3RTaWJsaW5ncywgaCBhcyBoYW5kbGVGaWx0ZXIsIGIgYXMgaGFuZGxlRmlsdGVyRXZlbnQsIGMgYXMgZ2V0SXRlbURhdGEsIGsgYXMga2V5RG93bkhhbmRsZXIsIGUgYXMgbW92ZUl0ZW1JbmRleCwgaSBhcyBpbml0aWFsaXplLCBmIGFzIGluaXRpYWxpemVPYnNlcnZlciwgaiBhcyBoYW5kbGVJbml0aWFsRmlsdGVyLCBsIGFzIGNsZWFuVXBPYnNlcnZlciwgbiBhcyBjYWxjaXRlTGlzdEZvY3VzT3V0SGFuZGxlciwgciBhcyByZW1vdmVJdGVtLCBvIGFzIGNhbGNpdGVMaXN0SXRlbUNoYW5nZUhhbmRsZXIsIHAgYXMgY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1WYWx1ZUNoYW5nZUhhbmRsZXIsIHEgYXMgc2V0VXBJdGVtcywgdCBhcyBzZXRGb2N1cywgTCBhcyBMaXN0LCBJIGFzIElDT05fVFlQRVMkMSwgQyBhcyBDU1MkMSwgUyBhcyBTTE9UUyQxIH0gZnJvbSAnLi9yZXNvdXJjZXMtM2EyNDc0YWUuanMnO1xuaW1wb3J0IHsgZCBhcyBkcmFnQWN0aXZlLCBhIGFzIGRpc2Nvbm5lY3RTb3J0YWJsZUNvbXBvbmVudCwgYyBhcyBjb25uZWN0U29ydGFibGVDb21wb25lbnQgfSBmcm9tICcuL3NvcnRhYmxlQ29tcG9uZW50LTQyYjg1Zjg3LmpzJztcbmltcG9ydCB7IGQgYXMgZm9jdXNFbGVtZW50LCBlIGFzIGdldFNsb3R0ZWQgfSBmcm9tICcuL2RvbS1lZDAwYTU4NS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQsIGQgYXMgZGlzY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudCB9IGZyb20gJy4vY29uZGl0aW9uYWxTbG90LWY2NzEwODc1LmpzJztcbmltcG9ydCB7IGcgYXMgZ3VpZCB9IGZyb20gJy4vZ3VpZC0yMWZlY2ZhNC5qcyc7XG5pbXBvcnQgJy4vYnJvd3Nlci1lY2UyOWRhNy5qcyc7XG5pbXBvcnQgJy4va2V5LTYxZjgyZGRiLmpzJztcbmltcG9ydCAnLi9hcnJheS03NjM5ZDkyMS5qcyc7XG5pbXBvcnQgJy4vZGVib3VuY2UtODU5NThiYjEuanMnO1xuaW1wb3J0ICcuL3Jlc291cmNlcy1jZjgyMzg4Yy5qcyc7XG5cbmNvbnN0IENTUyA9IHtcbiAgY29udGFpbmVyOiBcImNvbnRhaW5lclwiLFxuICBoYW5kbGU6IFwiaGFuZGxlXCIsXG59O1xudmFyIElDT05fVFlQRVM7XG4oZnVuY3Rpb24gKElDT05fVFlQRVMpIHtcbiAgSUNPTl9UWVBFU1tcImdyaXBcIl0gPSBcImdyaXBcIjtcbn0pKElDT05fVFlQRVMgfHwgKElDT05fVFlQRVMgPSB7fSkpO1xuXG5mdW5jdGlvbiBnZXRTY3JlZW5SZWFkZXJUZXh0KGl0ZW0sIHN0YXR1cywgdmFsdWVMaXN0KSB7XG4gIGNvbnN0IHsgaXRlbXMsIG1lc3NhZ2VzIH0gPSB2YWx1ZUxpc3Q7XG4gIGNvbnN0IHRvdGFsID0gaXRlbXMubGVuZ3RoO1xuICBjb25zdCBwb3NpdGlvbiA9IGdldEl0ZW1JbmRleCh2YWx1ZUxpc3QsIGl0ZW0pICsgMTtcbiAgY29uc3QgdGVtcGxhdGUgPSBzdGF0dXMgPT09IFwiaWRsZVwiXG4gICAgPyBtZXNzYWdlcy5kcmFnSGFuZGxlSWRsZVxuICAgIDogc3RhdHVzID09PSBcImFjdGl2ZVwiXG4gICAgICA/IG1lc3NhZ2VzLmRyYWdIYW5kbGVBY3RpdmVcbiAgICAgIDogc3RhdHVzID09PSBcImNoYW5nZVwiXG4gICAgICAgID8gbWVzc2FnZXMuZHJhZ0hhbmRsZUNoYW5nZVxuICAgICAgICA6IG1lc3NhZ2VzLmRyYWdIYW5kbGVDb21taXQ7XG4gIHJldHVybiByZXBsYWNlUGxhY2Vob2xkZXJzKHRlbXBsYXRlLCBpdGVtLmxhYmVsLCBwb3NpdGlvbiwgdG90YWwpO1xufVxuZnVuY3Rpb24gZ2V0SGFuZGxlQW5kSXRlbUVsZW1lbnQoZXZlbnQpIHtcbiAgY29uc3QgaGFuZGxlID0gZXZlbnRcbiAgICAuY29tcG9zZWRQYXRoKClcbiAgICAuZmluZCgoaXRlbSkgPT4gaXRlbS5kYXRhc2V0Py5qc0hhbmRsZSAhPT0gdW5kZWZpbmVkKTtcbiAgY29uc3QgaXRlbSA9IGV2ZW50XG4gICAgLmNvbXBvc2VkUGF0aCgpXG4gICAgLmZpbmQoKGl0ZW0pID0+IGl0ZW0udGFnTmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gXCJjYWxjaXRlLXZhbHVlLWxpc3QtaXRlbVwiKTtcbiAgcmV0dXJuIHsgaGFuZGxlLCBpdGVtIH07XG59XG5mdW5jdGlvbiByZXBsYWNlUGxhY2Vob2xkZXJzKHRleHQsIGxhYmVsLCBwb3NpdGlvbiwgdG90YWwpIHtcbiAgY29uc3QgcmVwbGFjZVBvc2l0aW9uID0gdGV4dC5yZXBsYWNlKFwie3Bvc2l0aW9ufVwiLCBwb3NpdGlvbi50b1N0cmluZygpKTtcbiAgY29uc3QgcmVwbGFjZUxhYmVsID0gcmVwbGFjZVBvc2l0aW9uLnJlcGxhY2UoXCJ7aXRlbUxhYmVsfVwiLCBsYWJlbCk7XG4gIHJldHVybiByZXBsYWNlTGFiZWwucmVwbGFjZShcInt0b3RhbH1cIiwgdG90YWwudG9TdHJpbmcoKSk7XG59XG5cbmNvbnN0IHZhbHVlTGlzdENzcyA9IFwiOmhvc3QoW2Rpc2FibGVkXSl7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pICosOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKCope3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6ZmxleDtmbGV4LXNocmluazowO2ZsZXgtZ3JvdzowO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpzdHJldGNoO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMil9Omhvc3QgKntib3gtc2l6aW5nOmJvcmRlci1ib3h9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfWNhbGNpdGUtdmFsdWUtbGlzdC1pdGVtOmxhc3Qtb2YtdHlwZXstLXR3LXNoYWRvdzowIDAgIzAwMDA7LS10dy1zaGFkb3ctY29sb3JlZDowIDAgIzAwMDA7Ym94LXNoYWRvdzp2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXJpbmctc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1zaGFkb3cpfTpob3N0KFtmaWx0ZXItZW5hYmxlZF0pIGhlYWRlcnttYXJnaW4tYmxvY2stZW5kOjAuMjVyZW07ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMSk7LS10dy1zaGFkb3c6MCAxcHggMCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci0zKTstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMXB4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yKTtib3gtc2hhZG93OnZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctcmluZy1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXNoYWRvdyl9Omhvc3QoW2ZpbHRlci1lbmFibGVkXSkgaGVhZGVyLnN0aWNreS1wb3N7cG9zaXRpb246c3RpY2t5O2luc2V0LWJsb2NrLXN0YXJ0OjBweDt6LWluZGV4OnZhcigtLWNhbGNpdGUtei1pbmRleC1zdGlja3kpfWNhbGNpdGUtZmlsdGVye21hcmdpbi1ibG9jay1lbmQ6MXB4fS5hc3Npc3RpdmUtdGV4dHtwb3NpdGlvbjphYnNvbHV0ZTtpbmxpbmUtc2l6ZToxcHg7YmxvY2stc2l6ZToxcHg7cGFkZGluZzowO21hcmdpbjotMXB4O292ZXJmbG93OmhpZGRlbjtjbGlwOnJlY3QoMCwgMCwgMCwgMCk7d2hpdGUtc3BhY2U6bm93cmFwO2JvcmRlci13aWR0aDowfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfVwiO1xuXG5jb25zdCBWYWx1ZUxpc3QgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVMaXN0Q2hhbmdlXCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RPcmRlckNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUxpc3RPcmRlckNoYW5nZVwiLCA2KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0RmlsdGVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlTGlzdEZpbHRlclwiLCA2KTtcbiAgICB0aGlzLmxhc3RTZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IGNyZWF0ZU9ic2VydmVyKFwibXV0YXRpb25cIiwgbXV0YXRpb25PYnNlcnZlckNhbGxiYWNrLmJpbmQodGhpcykpO1xuICAgIHRoaXMuaGFuZGxlU2VsZWN0b3IgPSBgLiR7Q1NTLmhhbmRsZX1gO1xuICAgIHRoaXMuZHJhZ1NlbGVjdG9yID0gXCJjYWxjaXRlLXZhbHVlLWxpc3QtaXRlbVwiO1xuICAgIHRoaXMuc2V0RmlsdGVyRWwgPSAoZWwpID0+IHtcbiAgICAgIHRoaXMuZmlsdGVyRWwgPSBlbDtcbiAgICB9O1xuICAgIHRoaXMuc2V0RmlsdGVyZWRJdGVtcyA9IChmaWx0ZXJlZEl0ZW1zKSA9PiB7XG4gICAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zO1xuICAgIH07XG4gICAgdGhpcy5kZXNlbGVjdFJlbW92ZWRJdGVtcyA9IGRlc2VsZWN0UmVtb3ZlZEl0ZW1zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZXNlbGVjdFNpYmxpbmdJdGVtcyA9IGRlc2VsZWN0U2libGluZ0l0ZW1zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZWxlY3RTaWJsaW5ncyA9IHNlbGVjdFNpYmxpbmdzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVGaWx0ZXIgPSBoYW5kbGVGaWx0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUZpbHRlckV2ZW50ID0gaGFuZGxlRmlsdGVyRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldEl0ZW1EYXRhID0gZ2V0SXRlbURhdGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLmtleURvd25IYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IGhhbmRsZSwgaXRlbSB9ID0gZ2V0SGFuZGxlQW5kSXRlbUVsZW1lbnQoZXZlbnQpO1xuICAgICAgaWYgKGhhbmRsZSAmJiAhaXRlbS5oYW5kbGVBY3RpdmF0ZWQgJiYgZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjcmVlblJlYWRlclRleHQoZ2V0U2NyZWVuUmVhZGVyVGV4dChpdGVtLCBcImNvbW1pdFwiLCB0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoIWhhbmRsZSB8fCAhaXRlbS5oYW5kbGVBY3RpdmF0ZWQpIHtcbiAgICAgICAga2V5RG93bkhhbmRsZXIuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB7IGl0ZW1zIH0gPSB0aGlzO1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTY3JlZW5SZWFkZXJUZXh0KGdldFNjcmVlblJlYWRlclRleHQoaXRlbSwgXCJhY3RpdmVcIiwgdGhpcykpO1xuICAgICAgfVxuICAgICAgaWYgKChldmVudC5rZXkgIT09IFwiQXJyb3dVcFwiICYmIGV2ZW50LmtleSAhPT0gXCJBcnJvd0Rvd25cIikgfHwgaXRlbXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBlbCB9ID0gdGhpcztcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IG1vdmVJdGVtSW5kZXgodGhpcywgaXRlbSwgZXZlbnQua2V5ID09PSBcIkFycm93VXBcIiA/IFwidXBcIiA6IFwiZG93blwiKTtcbiAgICAgIGlmIChuZXh0SW5kZXggPT09IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbUF0TmV4dEluZGV4ID0gZWwuY2hpbGRyZW5bbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgaW5zZXJ0aW9uUmVmZXJlbmNlSXRlbSA9IGl0ZW1BdE5leHRJbmRleCA9PT0gaXRlbS5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICAgICAgICA/IGl0ZW1BdE5leHRJbmRleC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICAgICAgICA6IGl0ZW1BdE5leHRJbmRleDtcbiAgICAgICAgZWwuaW5zZXJ0QmVmb3JlKGl0ZW0sIGluc2VydGlvblJlZmVyZW5jZUl0ZW0pO1xuICAgICAgfVxuICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcbiAgICAgIHRoaXMuY2FsY2l0ZUxpc3RPcmRlckNoYW5nZS5lbWl0KHRoaXMuaXRlbXMubWFwKCh7IHZhbHVlIH0pID0+IHZhbHVlKSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZm9jdXNFbGVtZW50KGhhbmRsZSkpO1xuICAgICAgaXRlbS5oYW5kbGVBY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy51cGRhdGVIYW5kbGVBcmlhTGFiZWwoaGFuZGxlLCBnZXRTY3JlZW5SZWFkZXJUZXh0KGl0ZW0sIFwiY2hhbmdlXCIsIHRoaXMpKTtcbiAgICB9O1xuICAgIHRoaXMuc3RvcmVBc3Npc3RpdmVFbCA9IChlbCkgPT4ge1xuICAgICAgdGhpcy5hc3Npc3RpdmVUZXh0RWwgPSBlbDtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlRm9jdXNJbiA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgeyBoYW5kbGUsIGl0ZW0gfSA9IGdldEhhbmRsZUFuZEl0ZW1FbGVtZW50KGV2ZW50KTtcbiAgICAgIGlmICghaXRlbT8uaGFuZGxlQWN0aXZhdGVkICYmIGl0ZW0gJiYgaGFuZGxlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlSGFuZGxlQXJpYUxhYmVsKGhhbmRsZSwgZ2V0U2NyZWVuUmVhZGVyVGV4dChpdGVtLCBcImlkbGVcIiwgdGhpcykpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuUHVsbCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNhblB1dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRyYWdFbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gW107XG4gICAgdGhpcy5maWx0ZXJlZERhdGEgPSBbXTtcbiAgICB0aGlzLmZpbHRlckVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZpbHRlclBsYWNlaG9sZGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZmlsdGVyVGV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmdyb3VwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMubXVsdGlwbGUgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGlvbkZvbGxvd3NGb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMubWVzc2FnZU92ZXJyaWRlcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1lc3NhZ2VzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGF0YUZvckZpbHRlciA9IFtdO1xuICAgIHRoaXMuZGVmYXVsdE1lc3NhZ2VzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZWZmZWN0aXZlTG9jYWxlID0gXCJcIjtcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gbmV3IE1hcCgpO1xuICB9XG4gIG9uTWVzc2FnZXNDaGFuZ2UoKSB7XG4gICAgLyogd2lyZWQgdXAgYnkgdDluIHV0aWwgKi9cbiAgfVxuICBlZmZlY3RpdmVMb2NhbGVDaGFuZ2UoKSB7XG4gICAgdXBkYXRlTWVzc2FnZXModGhpcywgdGhpcy5lZmZlY3RpdmVMb2NhbGUpO1xuICB9XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBMaWZlY3ljbGVcbiAgLy9cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKGRyYWdBY3RpdmUodGhpcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29ubmVjdEludGVyYWN0aXZlKHRoaXMpO1xuICAgIGNvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gICAgY29ubmVjdE1lc3NhZ2VzKHRoaXMpO1xuICAgIGluaXRpYWxpemUuY2FsbCh0aGlzKTtcbiAgICBpbml0aWFsaXplT2JzZXJ2ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnNldFVwU29ydGluZygpO1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIHNldFVwTG9hZGFibGVDb21wb25lbnQodGhpcyk7XG4gICAgYXdhaXQgc2V0VXBNZXNzYWdlcyh0aGlzKTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHNldENvbXBvbmVudExvYWRlZCh0aGlzKTtcbiAgICBoYW5kbGVJbml0aWFsRmlsdGVyLmNhbGwodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAoZHJhZ0FjdGl2ZSh0aGlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaXNjb25uZWN0SW50ZXJhY3RpdmUodGhpcyk7XG4gICAgZGlzY29ubmVjdFNvcnRhYmxlQ29tcG9uZW50KHRoaXMpO1xuICAgIGRpc2Nvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gICAgZGlzY29ubmVjdE1lc3NhZ2VzKHRoaXMpO1xuICAgIGNsZWFuVXBPYnNlcnZlci5jYWxsKHRoaXMpO1xuICB9XG4gIGNhbGNpdGVMaXN0Rm9jdXNPdXRIYW5kbGVyKGV2ZW50KSB7XG4gICAgY2FsY2l0ZUxpc3RGb2N1c091dEhhbmRsZXIuY2FsbCh0aGlzLCBldmVudCk7XG4gIH1cbiAgY2FsY2l0ZUxpc3RJdGVtUmVtb3ZlSGFuZGxlcihldmVudCkge1xuICAgIHJlbW92ZUl0ZW0uY2FsbCh0aGlzLCBldmVudCk7XG4gIH1cbiAgY2FsY2l0ZUxpc3RJdGVtQ2hhbmdlSGFuZGxlcihldmVudCkge1xuICAgIGNhbGNpdGVMaXN0SXRlbUNoYW5nZUhhbmRsZXIuY2FsbCh0aGlzLCBldmVudCk7XG4gIH1cbiAgY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1Qcm9wc0NoYW5nZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNldFVwRmlsdGVyKCk7XG4gIH1cbiAgY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1WYWx1ZUNoYW5nZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBjYWxjaXRlSW50ZXJuYWxMaXN0SXRlbVZhbHVlQ2hhbmdlSGFuZGxlci5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJpdmF0ZSBNZXRob2RzXG4gIC8vXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uRHJhZ1N0YXJ0KCkge1xuICAgIGNsZWFuVXBPYnNlcnZlci5jYWxsKHRoaXMpO1xuICB9XG4gIG9uRHJhZ0VuZCgpIHtcbiAgICBpbml0aWFsaXplT2JzZXJ2ZXIuY2FsbCh0aGlzKTtcbiAgfVxuICBvbkRyYWdTb3J0KCkge1xuICAgIHRoaXMuaXRlbXMgPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChcImNhbGNpdGUtdmFsdWUtbGlzdC1pdGVtXCIpKTtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLml0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS52YWx1ZSk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdE9yZGVyQ2hhbmdlLmVtaXQodmFsdWVzKTtcbiAgfVxuICBnZXRJdGVtcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYWxjaXRlLXZhbHVlLWxpc3QtaXRlbVwiKSk7XG4gIH1cbiAgc2V0VXBJdGVtcygpIHtcbiAgICBzZXRVcEl0ZW1zLmNhbGwodGhpcywgXCJjYWxjaXRlLXZhbHVlLWxpc3QtaXRlbVwiKTtcbiAgICB0aGlzLnNldFVwU29ydGluZygpO1xuICB9XG4gIHNldFVwRmlsdGVyKCkge1xuICAgIGlmICh0aGlzLmZpbHRlckVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZGF0YUZvckZpbHRlciA9IHRoaXMuZ2V0SXRlbURhdGEoKTtcbiAgICB9XG4gIH1cbiAgc2V0VXBTb3J0aW5nKCkge1xuICAgIGNvbnN0IHsgZHJhZ0VuYWJsZWQgfSA9IHRoaXM7XG4gICAgaWYgKCFkcmFnRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25uZWN0U29ydGFibGVDb21wb25lbnQodGhpcyk7XG4gIH1cbiAgaGFuZGxlQmx1cigpIHtcbiAgICBpZiAodGhpcy5kcmFnRW5hYmxlZCkge1xuICAgICAgdGhpcy51cGRhdGVTY3JlZW5SZWFkZXJUZXh0KFwiXCIpO1xuICAgIH1cbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIE1ldGhvZHNcbiAgLy9cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqIFJldHVybnMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtcyAqL1xuICBhc3luYyBnZXRTZWxlY3RlZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkVmFsdWVzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGZvY3VzIG9uIHRoZSBjb21wb25lbnQncyBmaXJzdCBmb2N1c2FibGUgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGZvY3VzSWRcbiAgICovXG4gIGFzeW5jIHNldEZvY3VzKGZvY3VzSWQpIHtcbiAgICBhd2FpdCBjb21wb25lbnRGb2N1c2FibGUodGhpcyk7XG4gICAgcmV0dXJuIHNldEZvY3VzLmNhbGwodGhpcywgZm9jdXNJZCk7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFJlbmRlciBNZXRob2RzXG4gIC8vXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGdldEljb25UeXBlKCkge1xuICAgIGxldCB0eXBlID0gbnVsbDtcbiAgICBpZiAodGhpcy5kcmFnRW5hYmxlZCkge1xuICAgICAgdHlwZSA9IElDT05fVFlQRVMuZ3JpcDtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgdXBkYXRlU2NyZWVuUmVhZGVyVGV4dCh0ZXh0KSB7XG4gICAgdGhpcy5hc3Npc3RpdmVUZXh0RWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG4gIHVwZGF0ZUhhbmRsZUFyaWFMYWJlbChoYW5kbGVFbGVtZW50LCB0ZXh0KSB7XG4gICAgaGFuZGxlRWxlbWVudC5hcmlhTGFiZWwgPSB0ZXh0O1xuICB9XG4gIGhhbmRsZVZhbHVlTGlzdEl0ZW1CbHVyKGV2ZW50KSB7XG4gICAgY29uc3QgeyBpdGVtLCBoYW5kbGUgfSA9IGV2ZW50LmRldGFpbDtcbiAgICBpZiAoIWl0ZW0/LmhhbmRsZUFjdGl2YXRlZCAmJiBpdGVtKSB7XG4gICAgICB0aGlzLnVwZGF0ZUhhbmRsZUFyaWFMYWJlbChoYW5kbGUsIGdldFNjcmVlblJlYWRlclRleHQoaXRlbSwgXCJpZGxlXCIsIHRoaXMpKTtcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChMaXN0LCB7IG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLCBvbkZvY3VzaW46IHRoaXMuaGFuZGxlRm9jdXNJbiwgb25LZXlEb3duOiB0aGlzLmtleURvd25IYW5kbGVyLCBwcm9wczogdGhpcyB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCBhc3NldHNEaXJzKCkgeyByZXR1cm4gW1wiYXNzZXRzXCJdOyB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm1lc3NhZ2VPdmVycmlkZXNcIjogW1wib25NZXNzYWdlc0NoYW5nZVwiXSxcbiAgICBcImVmZmVjdGl2ZUxvY2FsZVwiOiBbXCJlZmZlY3RpdmVMb2NhbGVDaGFuZ2VcIl1cbiAgfTsgfVxufTtcblZhbHVlTGlzdC5zdHlsZSA9IHZhbHVlTGlzdENzcztcblxuY29uc3QgSUNPTlMgPSB7XG4gIGRyYWc6IFwiZHJhZ1wiLFxufTtcbmNvbnN0IFNMT1RTID0ge1xuICBhY3Rpb25zRW5kOiBcImFjdGlvbnMtZW5kXCIsXG4gIGFjdGlvbnNTdGFydDogXCJhY3Rpb25zLXN0YXJ0XCIsXG59O1xuXG5jb25zdCB2YWx1ZUxpc3RJdGVtQ3NzID0gXCI6aG9zdChbZGlzYWJsZWRdKXtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtb3BhY2l0eS1kaXNhYmxlZCl9Omhvc3QoW2Rpc2FibGVkXSkgKiw6aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoKil7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdHttYXJnaW4tYmxvY2stZW5kOjFweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpmbGV4O2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpOy0tdHctc2hhZG93OjAgMXB4IDAgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMyk7LS10dy1zaGFkb3ctY29sb3JlZDowIDFweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvcik7Ym94LXNoYWRvdzp2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXJpbmctc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1zaGFkb3cpO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciB2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpLCBib3gtc2hhZG93IHZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyl9Omhvc3QgKntib3gtc2l6aW5nOmJvcmRlci1ib3h9Y2FsY2l0ZS1waWNrLWxpc3QtaXRlbXtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MHB4O2ZsZXgtZ3JvdzoxOy0tdHctc2hhZG93OjAgMCAjMDAwMDstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMCAjMDAwMDtib3gtc2hhZG93OnZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctcmluZy1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXNoYWRvdyl9Omhvc3QoW2FjdGl2ZV0pLDpob3N0KFtzZWxlY3RlZF0pey0tdHctc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKTstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMCAwIDFweCB2YXIoLS10dy1zaGFkb3ctY29sb3IpO2JveC1zaGFkb3c6dmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1yaW5nLXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctc2hhZG93KX0uaGFuZGxle2Rpc3BsYXk6ZmxleDtjdXJzb3I6bW92ZTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXItc3R5bGU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3BhZGRpbmctYmxvY2s6MHB4O3BhZGRpbmctaW5saW5lOjAuMjVyZW07Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItaW5wdXQpO291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnR9LmhhbmRsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0yKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSl9LmhhbmRsZTpmb2N1c3tvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKTtvdXRsaW5lLW9mZnNldDpjYWxjKFxcbiAgICAgICAgICAgIC0ycHggKlxcbiAgICAgICAgICAgIGNhbGMoXFxuICAgICAgICAgICAgICAxIC1cXG4gICAgICAgICAgICAgIDIgKiBjbGFtcChcXG4gICAgICAgICAgICAgICAgMCxcXG4gICAgICAgICAgICAgICAgdmFyKC0tY2FsY2l0ZS1vZmZzZXQtaW52ZXJ0LWZvY3VzKSxcXG4gICAgICAgICAgICAgICAgMVxcbiAgICAgICAgICAgICAgKVxcbiAgICAgICAgICAgIClcXG4gICAgICAgICAgKX0uaGFuZGxlLS1hY3RpdmF0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMyk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfS5oYW5kbGUgY2FsY2l0ZS1pY29ue2NvbG9yOmluaGVyaXR9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfVwiO1xuXG5jb25zdCBWYWx1ZUxpc3RJdGVtID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUxpc3RJdGVtQ2hhbmdlXCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RJdGVtUmVtb3ZlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlTGlzdEl0ZW1SZW1vdmVcIiwgNyk7XG4gICAgdGhpcy5jYWxjaXRlVmFsdWVMaXN0SXRlbURyYWdIYW5kbGVCbHVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlVmFsdWVMaXN0SXRlbURyYWdIYW5kbGVCbHVyXCIsIDYpO1xuICAgIHRoaXMucGlja0xpc3RJdGVtID0gbnVsbDtcbiAgICB0aGlzLmd1aWQgPSBgY2FsY2l0ZS12YWx1ZS1saXN0LWl0ZW0tJHtndWlkKCl9YDtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gIFByaXZhdGUgTWV0aG9kc1xuICAgIC8vXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB0aGlzLmdldFBpY2tMaXN0UmVmID0gKGVsKSA9PiAodGhpcy5waWNrTGlzdEl0ZW0gPSBlbCk7XG4gICAgdGhpcy5oYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICB0aGlzLmhhbmRsZUFjdGl2YXRlZCA9ICF0aGlzLmhhbmRsZUFjdGl2YXRlZDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlQmx1ciA9ICgpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmNhbGNpdGVWYWx1ZUxpc3RJdGVtRHJhZ0hhbmRsZUJsdXIuZW1pdCh7IGl0ZW06IHRoaXMuZWwsIGhhbmRsZTogdGhpcy5oYW5kbGVFbCB9KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlU2VsZWN0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZXZlbnQuZGV0YWlsLnNlbGVjdGVkO1xuICAgIH07XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5kZXNlbGVjdERpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5ub25JbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuaGFuZGxlQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5pY29uID0gbnVsbDtcbiAgICB0aGlzLmljb25GbGlwUnRsID0gZmFsc2U7XG4gICAgdGhpcy5sYWJlbCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1ldGFkYXRhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVtb3ZhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50KHRoaXMpO1xuICAgIGNvbm5lY3RJbnRlcmFjdGl2ZSh0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBkaXNjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50KHRoaXMpO1xuICAgIGRpc2Nvbm5lY3RJbnRlcmFjdGl2ZSh0aGlzKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBzZXRVcExvYWRhYmxlQ29tcG9uZW50KHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgc2V0Q29tcG9uZW50TG9hZGVkKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZFJlbmRlcigpIHtcbiAgICB1cGRhdGVIb3N0SW50ZXJhY3Rpb24odGhpcywgdGhpcy5lbC5jbG9zZXN0KFwiY2FsY2l0ZS12YWx1ZS1saXN0XCIpID8gXCJtYW5hZ2VkXCIgOiBmYWxzZSk7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBNZXRob2RzXG4gIC8vXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKlxuICAgKiBUb2dnbGUgdGhlIHNlbGVjdGlvbiBzdGF0ZS4gQnkgZGVmYXVsdCB0aGlzIHdvbid0IHRyaWdnZXIgYW4gZXZlbnQuXG4gICAqIFRoZSBmaXJzdCBhcmd1bWVudCBhbGxvd3MgdGhlIHZhbHVlIHRvIGJlIGNvZXJjZWQsIHJhdGhlciB0aGFuIHN3YXBwaW5nIHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIGNvZXJjZVxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlU2VsZWN0ZWQoY29lcmNlKSB7XG4gICAgdGhpcy5waWNrTGlzdEl0ZW0udG9nZ2xlU2VsZWN0ZWQoY29lcmNlKTtcbiAgfVxuICAvKiogU2V0IGZvY3VzIG9uIHRoZSBjb21wb25lbnQuICovXG4gIGFzeW5jIHNldEZvY3VzKCkge1xuICAgIGF3YWl0IGNvbXBvbmVudEZvY3VzYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5waWNrTGlzdEl0ZW0/LnNldEZvY3VzKCk7XG4gIH1cbiAgY2FsY2l0ZUxpc3RJdGVtQ2hhbmdlSGFuZGxlcihldmVudCkge1xuICAgIC8vIGFkanVzdCBpdGVtIHBheWxvYWQgZnJvbSB3cmFwcGVkIGl0ZW0gYmVmb3JlIGJ1YmJsaW5nXG4gICAgZXZlbnQuZGV0YWlsLml0ZW0gPSB0aGlzLmVsO1xuICB9XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBSZW5kZXIgTWV0aG9kc1xuICAvL1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICByZW5kZXJBY3Rpb25zRW5kKCkge1xuICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgY29uc3QgaGFzQWN0aW9uc0VuZCA9IGdldFNsb3R0ZWQoZWwsIFNMT1RTLmFjdGlvbnNFbmQpO1xuICAgIHJldHVybiBoYXNBY3Rpb25zRW5kID8gKGgoXCJzbG90XCIsIHsgbmFtZTogU0xPVFMuYWN0aW9uc0VuZCwgc2xvdDogU0xPVFMkMS5hY3Rpb25zRW5kIH0pKSA6IG51bGw7XG4gIH1cbiAgcmVuZGVyQWN0aW9uc1N0YXJ0KCkge1xuICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgY29uc3QgaGFzQWN0aW9uc1N0YXJ0ID0gZ2V0U2xvdHRlZChlbCwgU0xPVFMuYWN0aW9uc1N0YXJ0KTtcbiAgICByZXR1cm4gaGFzQWN0aW9uc1N0YXJ0ID8gKGgoXCJzbG90XCIsIHsgbmFtZTogU0xPVFMuYWN0aW9uc1N0YXJ0LCBzbG90OiBTTE9UUyQxLmFjdGlvbnNTdGFydCB9KSkgOiBudWxsO1xuICB9XG4gIHJlbmRlckhhbmRsZSgpIHtcbiAgICBjb25zdCB7IGljb24sIGljb25GbGlwUnRsIH0gPSB0aGlzO1xuICAgIGlmIChpY29uID09PSBJQ09OX1RZUEVTJDEuZ3JpcCkge1xuICAgICAgcmV0dXJuIChoKFwic3BhblwiLCB7IGNsYXNzOiB7XG4gICAgICAgICAgW0NTUyQxLmhhbmRsZV06IHRydWUsXG4gICAgICAgICAgW0NTUyQxLmhhbmRsZUFjdGl2YXRlZF06IHRoaXMuaGFuZGxlQWN0aXZhdGVkLFxuICAgICAgICB9LCBcImRhdGEtanMtaGFuZGxlXCI6IHRydWUsIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biwgcm9sZTogXCJidXR0b25cIiwgdGFiaW5kZXg6IFwiMFwiLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXNvcnQtcHJvcHMgLS0gcmVmIHNob3VsZCBiZSBsYXN0IHNvIG5vZGUgYXR0cnMvcHJvcHMgYXJlIGluIHN5bmMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vcHVsbC82NTMwKVxuICAgICAgICByZWY6IChlbCkgPT4gKHRoaXMuaGFuZGxlRWwgPSBlbCkgfSwgaChcImNhbGNpdGUtaWNvblwiLCB7IGZsaXBSdGw6IGljb25GbGlwUnRsLCBpY29uOiBJQ09OUy5kcmFnLCBzY2FsZTogXCJzXCIgfSkpKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChIb3N0LCB7IGlkOiB0aGlzLmVsLmlkIHx8IHRoaXMuZ3VpZCB9LCB0aGlzLnJlbmRlckhhbmRsZSgpLCBoKFwiY2FsY2l0ZS1waWNrLWxpc3QtaXRlbVwiLCB7IGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLCBkZXNlbGVjdERpc2FibGVkOiB0aGlzLmRlc2VsZWN0RGlzYWJsZWQsIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLCBsYWJlbDogdGhpcy5sYWJlbCwgbWV0YWRhdGE6IHRoaXMubWV0YWRhdGEsIG5vbkludGVyYWN0aXZlOiB0aGlzLm5vbkludGVyYWN0aXZlLCBvbkNhbGNpdGVMaXN0SXRlbUNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RDaGFuZ2UsIHJlbW92YWJsZTogdGhpcy5yZW1vdmFibGUsIHNlbGVjdGVkOiB0aGlzLnNlbGVjdGVkLCB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtc29ydC1wcm9wcyAtLSByZWYgc2hvdWxkIGJlIGxhc3Qgc28gbm9kZSBhdHRycy9wcm9wcyBhcmUgaW4gc3luYyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9wdWxsLzY1MzApXG4gICAgICByZWY6IHRoaXMuZ2V0UGlja0xpc3RSZWYgfSwgdGhpcy5yZW5kZXJBY3Rpb25zU3RhcnQoKSwgdGhpcy5yZW5kZXJBY3Rpb25zRW5kKCkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcblZhbHVlTGlzdEl0ZW0uc3R5bGUgPSB2YWx1ZUxpc3RJdGVtQ3NzO1xuXG5leHBvcnQgeyBWYWx1ZUxpc3QgYXMgY2FsY2l0ZV92YWx1ZV9saXN0LCBWYWx1ZUxpc3RJdGVtIGFzIGNhbGNpdGVfdmFsdWVfbGlzdF9pdGVtIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGNpdGUtdmFsdWUtbGlzdF8yLmVudHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==