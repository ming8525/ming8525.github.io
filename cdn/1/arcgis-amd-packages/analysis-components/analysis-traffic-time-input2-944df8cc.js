define(["exports","./index-ef555910","./index2-588b02d9","./utils-793221d4","./analysis-date-input2-1f634ecb","./analysis-label2-f17c360a"],(function(e,t,i,a,s,l){"use strict";const n="now",o="custom",r="unspecified",c="UTC",m="GeoLocal",h=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisTrafficTimeInputChange=t.createEvent(this,"analysisTrafficTimeInputChange",7),this.analysisHelpClick=t.createEvent(this,"analysisHelpClick",7),this.validateSelection=async()=>{let e=!0;this.selectedTimeMode===o&&!0===this.required?(void 0!==this.dateInputElement&&(e=await this.dateInputElement.checkValidity()),this.isValid=e&&void 0!==this.value):this.isValid=e},this.setSelectedTimeMode=e=>{switch(e?.timeZoneForTimeOfDay){case void 0:const t={timeOfDay:void 0,timeZoneForTimeOfDay:void 0};this.value={...t},this.selectedTimeMode=r;break;case m:const a=e.timeOfDay;if(void 0!==a&&"number"==typeof a){const e={timeOfDay:a,timeZoneForTimeOfDay:m};this.value={...e}}this.selectedTimeMode=o;break;default:const s=e??{timeOfDay:i.CalculatedParameterValueKeys.CurrentTime,timeZoneForTimeOfData:c};s.timeOfDay=i.CalculatedParameterValueKeys.CurrentTime,this.value={...s},this.selectedTimeMode=n}this.analysisTrafficTimeInputChange.emit()},this.renderDatePicker=()=>this.selectedTimeMode===o?t.h("analysis-date-input",{label:"",required:this.required,onAnalysisDateInputChange:this.datePickerChange,ref:e=>{this.dateInputElement=e},value:this.value?.timeOfDay}):null,this.timeSelectChange=()=>{switch(this.selectedTimeMode=this.timeSelectElement.value,this.selectedTimeMode){case n:this.value={timeOfDay:i.CalculatedParameterValueKeys.CurrentTime,timeZoneForTimeOfDay:c};break;case r:this.value={timeOfDay:void 0,timeZoneForTimeOfDay:void 0};break;case o:const e=this.value?.timeOfDay;this.value={timeOfDay:e,timeZoneForTimeOfDay:m}}this.analysisTrafficTimeInputChange.emit()},this.datePickerChange=()=>{if(this.selectedTimeMode===o){const e=this.dateInputElement?.value;this.value={timeOfDay:e,timeZoneForTimeOfDay:m},this.analysisTrafficTimeInputChange.emit()}},this.value={timeOfDay:i.CalculatedParameterValueKeys.CurrentTime,timeZoneForTimeOfDay:c},this.label=void 0,this.required=void 0,this.isValid=!0,this.selectedTimeMode=void 0,this.resetTimeZoneValue=!1}resetTimeZoneValueChange(e){!0===e&&(this.value={timeOfDay:void 0,timeZoneForTimeOfDay:void 0},this.setSelectedTimeMode(this.value))}async componentWillLoad(){({strings:this.strings}=await i.fetchComponentLocaleStrings(this.hostElement,t.getAssetPath("."))),this.setSelectedTimeMode(this.value)}async checkValidity(){return await this.validateSelection(),Promise.resolve(this.isValid)}render(){return t.h(t.Host,null,t.h("calcite-label",{class:"label",scale:a.UIDefaults.Scale},void 0!==this.label&&""!==this.label?t.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit()}):null,t.h("calcite-select",{value:this.selectedTimeMode,scale:a.UIDefaults.Scale,label:this.label??this.strings.arriveTime,onCalciteSelectChange:this.timeSelectChange,ref:e=>this.timeSelectElement=e},t.h("calcite-option",{selected:"UTC"===this.value?.timeZoneForTimeOfDay,value:n},this.strings.modes.now),t.h("calcite-option",{selected:"GeoLocal"===this.value?.timeZoneForTimeOfDay,value:o},this.strings.modes.custom),t.h("calcite-option",{selected:void 0===this.value?.timeZoneForTimeOfDay,value:r},this.strings.modes.unspecified))),this.renderDatePicker())}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{resetTimeZoneValue:["resetTimeZoneValueChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;flex-direction:column;width:var(--analysis-component-default-width);--calcite-color-border-input:var(--analysis-ui-border-input)}.label{width:var(--analysis-component-default-width)}"}},[1,"analysis-traffic-time-input",{value:[1040],label:[513],required:[516],resetTimeZoneValue:[516,"reset-time-zone-value"],isValid:[32],selectedTimeMode:[32],checkValidity:[64]},void 0,{resetTimeZoneValue:["resetTimeZoneValueChange"]}]);function d(){"undefined"!=typeof customElements&&["analysis-traffic-time-input","analysis-date-input","analysis-label"].forEach((e=>{switch(e){case"analysis-traffic-time-input":customElements.get(e)||customElements.define(e,h);break;case"analysis-date-input":customElements.get(e)||s.defineCustomElement();break;case"analysis-label":customElements.get(e)||l.defineCustomElement()}}))}d(),e.AnalysisTrafficTimeInput=h,e.defineCustomElement=d}));