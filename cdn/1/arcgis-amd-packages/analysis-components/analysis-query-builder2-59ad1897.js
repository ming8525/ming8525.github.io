define(["exports","./index-ef555910","./index2-588b02d9","./utils-793221d4","./t9n-24f5c39b","./analysis-expression-group2-ce4cdcfd","./analysis-attribute-expression2-a90d2a8c","./analysis-query-entry2-a97f8d18","./analysis-query-target-select2-1308b9a9","./analysis-spatial-expression2-5e7137a9"],(function(exports,index,index2,utils,t9n,analysisExpressionGroup2,analysisAttributeExpression2,analysisQueryEntry2,analysisQueryTargetSelect2,analysisSpatialExpression2){"use strict";const analysisQueryBuilderCss=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}.error-notice{margin-top:var(--analysis-half-spacing)}";const AnalysisQueryBuilder=index.proxyCustomElement(class AnalysisQueryBuilder extends index.H{constructor(){super();this.__registerHost();this.analysisQueryChange=index.createEvent(this,"analysisQueryChange",7);this.analysisQueryError=index.createEvent(this,"analysisQueryError",7);this.onGroupChange=event=>{this.workingExpressionGroup=event.target.expressionGroup;this.analysisQueryChange.emit(this.workingExpressionGroup)};this.onTargetChange=event=>{const newLayer=event.target.target;this.workingExpressionGroup=this.workingExpressionGroup.changeTarget(newLayer);this.analysisQueryChange.emit(this.workingExpressionGroup)};this.resetError=()=>{this.errorMessage=undefined;this.analysisQueryError.emit(this.errorMessage)};this.errorMessage=undefined;this.mode=undefined;this.options=undefined;this.expressionGroup=undefined;this.workingExpressionGroup=undefined;this.recordsTerm="features";this.layers=[]}get hasError(){return this.errorMessage!==undefined}async componentWillLoad(){({strings:this.strings}=await index2.fetchComponentLocaleStrings(this.hostElement,index.getAssetPath(`.`)));t9n.setStrings(this.strings);this.workingExpressionGroup=this.expressionGroup.clone()}render(){return index.h(index.Host,null,index.h("analysis-query-target-select",{target:this.workingExpressionGroup.layer,layers:this.layers,onAnalysisQueryTargetSelectChange:this.onTargetChange,disabled:this.mode==="sql",recordsTerm:this.recordsTerm}),index.h("analysis-expression-group",{expressionGroup:this.workingExpressionGroup,layers:this.layers,onAnalysisExpressionGroupChange:this.onGroupChange,recordsTerm:this.recordsTerm,mode:this.mode,allowedExpressions:this.mode==="sql"?["attribute","group"]:["attribute","group","spatial"],options:this.options}),this.hasError&&index.h("calcite-notice",{class:analysisExpressionGroup2.HTMLClasses$1.errorNotice,open:true,kind:"danger",closable:true,scale:utils.UIDefaults.Scale,width:"auto",onCalciteNoticeClose:this.resetError},index.h("div",{slot:"title"},this.strings.error),index.h("div",{slot:"message"},this.errorMessage)))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get style(){return analysisQueryBuilderCss}},[0,"analysis-query-builder",{mode:[513],options:[16],expressionGroup:[16],recordsTerm:[1,"records-term"],layers:[16],errorMessage:[32],workingExpressionGroup:[32]}]);function defineCustomElement(){if(typeof customElements==="undefined"){return}const components=["analysis-query-builder","analysis-attribute-expression","analysis-expression-group","analysis-query-entry","analysis-query-target-select","analysis-spatial-expression"];components.forEach((tagName=>{switch(tagName){case"analysis-query-builder":if(!customElements.get(tagName)){customElements.define(tagName,AnalysisQueryBuilder)}break;case"analysis-attribute-expression":if(!customElements.get(tagName)){analysisAttributeExpression2.defineCustomElement()}break;case"analysis-expression-group":if(!customElements.get(tagName)){analysisExpressionGroup2.defineCustomElement()}break;case"analysis-query-entry":if(!customElements.get(tagName)){analysisQueryEntry2.defineCustomElement()}break;case"analysis-query-target-select":if(!customElements.get(tagName)){analysisQueryTargetSelect2.defineCustomElement()}break;case"analysis-spatial-expression":if(!customElements.get(tagName)){analysisSpatialExpression2.defineCustomElement()}break}}))}defineCustomElement();exports.AnalysisQueryBuilder=AnalysisQueryBuilder;exports.defineCustomElement=defineCustomElement}));
