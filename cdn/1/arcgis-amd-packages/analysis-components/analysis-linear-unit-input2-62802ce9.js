define(["exports","./index-ef555910","./index2-588b02d9","./utils-793221d4","./analysis-label2-f17c360a","./analysis-multiple-input2-31e7ea23","./analysis-number-input2-ee81e720"],(function(exports,index,index2,utils,analysisLabel2,analysisMultipleInput2,analysisNumberInput2){"use strict";const HTMLClasses={controlsContainer:"controls-container",control:"control",text:"text",unitSelect:"unit-select"};const analysisLinearUnitInputCss=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;flex-direction:column;--calcite-color-border-input:var(--analysis-ui-border-input)}.controls-container{display:flex;column-gap:5%}.control{flex:1 1 0}.text{cursor:pointer;padding-bottom:var(--analysis-quarter-spacing);margin-block-start:0;margin-block-end:0}.unit-select{margin-bottom:var(--analysis-half-spacing)}";const AnalysisLinearUnitInput=index.proxyCustomElement(class AnalysisLinearUnitInput extends index.H{constructor(){super();this.__registerHost();this.__attachShadow();this.analysisLinearUnitInputChange=index.createEvent(this,"analysisLinearUnitInputChange",7);this.analysisHelpClick=index.createEvent(this,"analysisHelpClick",7);this.buildOptions=choice=>index.h("calcite-option",{value:choice,label:this.choiceListLabels!==undefined?this.choiceListLabels[choice]:choice,selected:(this.value?.units??this.unitSelectElement?.value)===choice});this.focusInput=()=>{this.numberInputElement?.focus()};this.distanceChange=()=>{const distanceInputValue=this.numberInputElement?.value;if(this.numberInputElement!==undefined&&!Array.isArray(distanceInputValue)&&this.numberInputElement.selectionMode!=="multi"){if(distanceInputValue!==undefined){this.value={units:this.value?.units??this.unitSelectElement?.value,distance:distanceInputValue};this.onUnitChoiceListChange()}else{this.value=undefined}this.analysisLinearUnitInputChange.emit()}};this.unitChanged=()=>{this.value={distance:this.value?.distance,units:this.unitSelectElement?.value};this.validate();if(this.value?.distance!==undefined){this.analysisLinearUnitInputChange.emit()}};this.value=undefined;this.label=undefined;this.required=false;this.minimum=undefined;this.excludeMinValue=undefined;this.maximum=undefined;this.excludeMaxValue=undefined;this.distanceChoiceList=undefined;this.unitChoiceList=undefined;this.choiceListLabels=undefined;this.placeholderText=undefined;this.isValid=true}onUnitChoiceListChange(){const unitValue=this.value?.units;if(this.unitChoiceList!==undefined&&(unitValue===undefined||!this.unitChoiceList.includes(unitValue))){this.value={distance:this.value?.distance,units:this.unitChoiceList[0]}}}async componentWillLoad(){({strings:this.strings,dir:this.dir}=await index2.fetchComponentLocaleStrings(this.hostElement,index.getAssetPath(`.`)));if(this.numberInputElement!==undefined){this.numberInputElement.scale=utils.UIDefaults.Scale}this.onUnitChoiceListChange()}async checkValidity(){await this.validate();return Promise.resolve(this.isValid)}async validate(){const distanceValidity=await(this.numberInputElement?.checkValidity())??false;const unitValidity=this.required?this.value?.units!==undefined&&this.unitChoiceList?.includes(this.value?.units):true;this.isValid=distanceValidity&&unitValidity;return Promise.resolve()}render(){if(this.value?.units!==undefined){if(this.unitChoiceList!==undefined&&!this.unitChoiceList.includes(this.value?.units)){this.unitChoiceList=[...this.value?.units,...this.unitChoiceList]}}return index.h(index.Host,null,this.label!==undefined&&this.label!==""?index.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit(),onClick:this.focusInput}):null,index.h("div",{class:HTMLClasses.controlsContainer},index.h("analysis-number-input",{class:HTMLClasses.control,scale:utils.UIDefaults.Scale,ref:el=>{this.numberInputElement=el},label:"",value:this.value?.distance,required:this.required,placeholderText:this.placeholderText??this.strings.inputPlaceholderText,min:this.minimum,max:this.maximum,excludeMinValue:this.excludeMinValue,excludeMaxValue:this.excludeMaxValue,choiceList:this.distanceChoiceList,onAnalysisNumberInputChange:this.distanceChange,numberType:"float"}),index.h("calcite-select",{scale:utils.UIDefaults.Scale,class:`${HTMLClasses.control} ${HTMLClasses.unitSelect}`,dir:this.dir,label:this.strings.unitSelect,onCalciteSelectChange:this.unitChanged,ref:e=>{this.unitSelectElement=e}},this.unitChoiceList!==undefined&&this.unitChoiceList.map((choice=>this.buildOptions(choice))))))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{unitChoiceList:["onUnitChoiceListChange"]}}static get style(){return analysisLinearUnitInputCss}},[1,"analysis-linear-unit-input",{value:[1040],label:[513],required:[516],minimum:[514],excludeMinValue:[516,"exclude-min-value"],maximum:[514],excludeMaxValue:[516,"exclude-max-value"],distanceChoiceList:[16],unitChoiceList:[16],choiceListLabels:[16],placeholderText:[513,"placeholder-text"],isValid:[32],checkValidity:[64]},undefined,{unitChoiceList:["onUnitChoiceListChange"]}]);function defineCustomElement(){if(typeof customElements==="undefined"){return}const components=["analysis-linear-unit-input","analysis-label","analysis-multiple-input","analysis-number-input"];components.forEach((tagName=>{switch(tagName){case"analysis-linear-unit-input":if(!customElements.get(tagName)){customElements.define(tagName,AnalysisLinearUnitInput)}break;case"analysis-label":if(!customElements.get(tagName)){analysisLabel2.defineCustomElement()}break;case"analysis-multiple-input":if(!customElements.get(tagName)){analysisMultipleInput2.defineCustomElement()}break;case"analysis-number-input":if(!customElements.get(tagName)){analysisNumberInput2.defineCustomElement()}break}}))}defineCustomElement();exports.AnalysisLinearUnitInput=AnalysisLinearUnitInput;exports.defineCustomElement=defineCustomElement}));
