define(["exports","./index-ef555910","./index2-588b02d9"],(function(exports,index,index2){"use strict";const HTMLClasses={analysisPopover:"analysis-popover",popoverContent:"popover-content",jsAppFlyout:"js-app-flyout"};const analysisDatasetInputPopoverCss=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex}.popover-content{height:var(--analysis-popover-content-height)}";const AnalysisDatasetInputPopover=index.proxyCustomElement(class AnalysisDatasetInputPopover extends index.H{constructor(){super();this.__registerHost();this.__attachShadow();this.analysisDatasetInputPopoverClose=index.createEvent(this,"analysisDatasetInputPopoverClose",7);this.analysisDatasetInputPopoverSelectionChange=index.createEvent(this,"analysisDatasetInputPopoverSelectionChange",7);this.buildPickListItem=dataset=>index.h("calcite-pick-list-item",{key:dataset.id,value:dataset.id,label:dataset.name,description:dataset.description,selected:this.selectedDatasetIds!==undefined&&this.selectedDatasetIds.includes(dataset.id),onClick:this.onPickListChange});this.onPickListChange=async()=>{const selectedItemsById=await(this.picklist?.getSelectedItems());const selectedDatasetIds=Array.from(selectedItemsById?.keys()??[]);this.analysisDatasetInputPopoverSelectionChange.emit({selectedDatasetIds});if(this.selectionMode!=="multi")this.open=false};this.analysisDatasets=undefined;this.selectionMode=undefined;this.referenceElement=undefined;this.placement="auto";this.open=undefined;this.selectedDatasetIds=undefined;this.popoverWidth=undefined}async componentWillLoad(){({strings:this.strings}=await index2.fetchComponentLocaleStrings(this.hostElement,index.getAssetPath(`.`)))}componentDidLoad(){setTimeout((()=>requestAnimationFrame((()=>this.popoverElement?.setFocus()))),1);setTimeout((()=>{this.popoverElement?.reposition?.()}),index2.UIDefaults.PopoverTimer)}async reposition(){await(this.popoverElement?.reposition?.())}render(){const width=this.popoverWidth??this.referenceElement?.getBoundingClientRect().width;return index.h(index.Host,{class:`${HTMLClasses.analysisPopover} ${HTMLClasses.jsAppFlyout}`},index.h("calcite-popover",{ref:el=>{this.popoverElement=el},autoClose:true,referenceElement:this.referenceElement??"analysis-dataset-input",placement:this.placement,open:this.open,closable:true,heading:this.strings.heading,label:this.strings.heading,focusTrapDisabled:true,onCalcitePopoverClose:()=>this.analysisDatasetInputPopoverClose.emit()},index.h("calcite-panel",{style:{width:width!==undefined?`${width}px`:undefined}},index.h("calcite-pick-list",{class:HTMLClasses.popoverContent,multiple:this.selectionMode==="multi",filterEnabled:true,ref:e=>{this.picklist=e}},this.analysisDatasets?.map(this.buildPickListItem)))))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get style(){return analysisDatasetInputPopoverCss}},[1,"analysis-dataset-input-popover",{analysisDatasets:[16],selectionMode:[513,"selection-mode"],referenceElement:[16],placement:[513],open:[1540],selectedDatasetIds:[16],popoverWidth:[514,"popover-width"],reposition:[64]}]);function defineCustomElement(){if(typeof customElements==="undefined"){return}const components=["analysis-dataset-input-popover"];components.forEach((tagName=>{switch(tagName){case"analysis-dataset-input-popover":if(!customElements.get(tagName)){customElements.define(tagName,AnalysisDatasetInputPopover)}break}}))}defineCustomElement();exports.AnalysisDatasetInputPopover=AnalysisDatasetInputPopover;exports.defineCustomElement=defineCustomElement}));
