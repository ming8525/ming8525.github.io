define(["exports","./index-ef555910","./index2-588b02d9","./t9n-24f5c39b","./expressions-18db914f"],(function(s,i,t,e,a){"use strict";const n="flex-container",l="flex-grow",p=i.proxyCustomElement(class extends i.H{constructor(){super(),this.__registerHost(),this.analysisExpressionChange=i.createEvent(this,"analysisExpressionChange",7),this.spatialRelationships=Object.values(a.SpatialRelationships),this.spatialRelationshipUnits=a.SpatialRelationshipUnits,this.onSpatialRelationshipSelect=s=>{const i=s.target.selectedOption.value;this.spatialExpression=this.spatialExpression.changeSpatialRelationship(i);const t=this.spatialExpression.selectingLayer,e=this.spatialRelationshipLayers.get(i),a=e.find((s=>s.id===t.id));this.spatialExpression=void 0!==a?this.spatialExpression.changeSelectingLayer(a):this.spatialExpression.changeSelectingLayer(e[0]),this.analysisExpressionChange.emit()},this.onSpatialRelationshipUnitsSelect=s=>{const i=s.target.selectedOption.value;this.spatialExpression=this.spatialExpression.changeSpatialRelationshipUnit(i),this.analysisExpressionChange.emit()},this.onDistanceInputChange=s=>{const i=parseFloat(s.target.value);this.spatialExpression=this.spatialExpression.changeSpatialRelationshipDistance(i),this.analysisExpressionChange.emit()},this.onLayerSelectChange=s=>{const i=s.target.value,t=this.layers?.find((s=>s.id===i));void 0!==this.layers&&void 0!==t&&(this.spatialExpression=this.spatialExpression.changeSelectingLayer(t)),this.analysisExpressionChange.emit()},this.spatialExpression=void 0,this.layers=void 0}setLayersToSpatialRelationships(s){void 0!==s&&(this.spatialRelationshipLayers=a.SpatialExpression.getValidLayersForRelationships(this.spatialExpression.layer,s,this.spatialRelationships))}componentWillLoad(){this.strings=e.getStrings(),this.setLayersToSpatialRelationships(this.layers),this.spatialRelationshipLayers=a.SpatialExpression.getValidLayersForRelationships(this.spatialExpression.layer,this.layers??[],this.spatialRelationships)}render(){return i.h(i.Host,null,this.renderSpatialRelationshipSelect(),this.renderLayerSelect())}renderSpatialRelationshipSelect(s="auto"){const e=this.spatialExpression.spatialRelationship;return i.h("div",{class:n},i.h("calcite-select",{class:l,label:this.strings.spatialRelationshipSelect,width:s,onCalciteSelectChange:this.onSpatialRelationshipSelect},this.spatialRelationships.map((s=>i.h("calcite-option",{selected:e===s,value:s,key:s,disabled:t.isEmptyDataItem(this.spatialRelationshipLayers.get(s))},t.isEmptyDataItem(this.spatialRelationshipLayers.get(s))?t.formatMessage(this.strings.spatialRelationships[s],{noCompatibleLayers:this.strings.noCompatibleLayers}):t.formatMessage(this.strings.spatialRelationships[s],{noCompatibleLayers:""}))))),this.spatialExpression.isDistanceRelationship&&this.renderSpatialRelationshipParams())}renderSpatialRelationshipParams(s="auto"){const t=this.spatialExpression.spatialRelationshipParams?.units,e=this.spatialExpression.spatialRelationshipParams?.distance;return i.h("div",{class:n},i.h("calcite-input-number",{class:l,step:1,placeholder:this.strings.inputPlaceholderText,value:void 0===e?"":`${e}`,onCalciteInputNumberChange:this.onDistanceInputChange}),i.h("calcite-select",{class:l,label:this.strings.spatialRelationshipParamsDistanceInput,width:s,onCalciteSelectChange:this.onSpatialRelationshipUnitsSelect},this.spatialRelationshipUnits.map((s=>i.h("calcite-option",{selected:t===s,value:s,key:s},this.strings.spatialRelationshipUnits[s])))))}renderLayerSelect(s="auto"){const e=this.spatialRelationshipLayers.get(this.spatialExpression.spatialRelationship),a=this.spatialExpression.selectingLayer;return i.h("calcite-select",{class:"layer-select",label:this.strings.spatialRelationshipLayerSelect,width:s,onCalciteSelectChange:this.onLayerSelectChange},e?.map((s=>i.h("calcite-option",{value:s.id,key:s.id,selected:a?.id===s.id},t.getLayerLabel(s)))))}get hostElement(){return this}static get watchers(){return{layers:["setLayersToSpatialRelationships"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}.flex-container{display:flex}.flex-container .flex-grow{flex-grow:1}"}},[0,"analysis-spatial-expression",{spatialExpression:[1040],layers:[16]},void 0,{layers:["setLayersToSpatialRelationships"]}]);function o(){"undefined"!=typeof customElements&&["analysis-spatial-expression"].forEach((s=>{"analysis-spatial-expression"===s&&(customElements.get(s)||customElements.define(s,p))}))}o(),s.AnalysisSpatialExpression=p,s.defineCustomElement=o}));