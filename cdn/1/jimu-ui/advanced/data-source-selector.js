System.register(["jimu-core","jimu-core/data-source","jimu-layouts/layout-runtime","jimu-theme","jimu-ui","jimu-ui/basic/item-selector"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_theme__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_item_selector__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_theme__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_item_selector__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_theme__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_item_selector__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/request.js":
/*!********************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/request.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcGISAuthError: () => (/* binding */ ArcGISAuthError),
/* harmony export */   NODEJS_DEFAULT_REFERER_HEADER: () => (/* binding */ NODEJS_DEFAULT_REFERER_HEADER),
/* harmony export */   checkForErrors: () => (/* binding */ checkForErrors),
/* harmony export */   request: () => (/* binding */ request),
/* harmony export */   setDefaultRequestOptions: () => (/* binding */ setDefaultRequestOptions)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/@esri/arcgis-rest-request/node_modules/tslib/tslib.es6.js");
/* harmony import */ var _utils_encode_form_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/encode-form-data */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-form-data.js");
/* harmony import */ var _utils_encode_query_string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/encode-query-string */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js");
/* harmony import */ var _utils_process_params__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/process-params */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js");
/* harmony import */ var _utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/ArcGISRequestError */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISRequestError.js");
/* harmony import */ var _utils_warn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/warn */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/warn.js");
/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */






var NODEJS_DEFAULT_REFERER_HEADER = "@esri/arcgis-rest-js";
var DEFAULT_ARCGIS_REQUEST_OPTIONS = {
    httpMethod: "POST",
    params: {
        f: "json",
    },
};
/**
 * Sets the default options that will be passed in **all requests across all `@esri/arcgis-rest-js` modules**.
 *
 *
 * ```js
 * import { setDefaultRequestOptions } from "@esri/arcgis-rest-request";
 * setDefaultRequestOptions({
 *   authentication: userSession // all requests will use this session by default
 * })
 * ```
 * You should **never** set a default `authentication` when you are in a server side environment where you may be handling requests for many different authenticated users.
 *
 * @param options The default options to pass with every request. Existing default will be overwritten.
 * @param hideWarnings Silence warnings about setting default `authentication` in shared environments.
 */
function setDefaultRequestOptions(options, hideWarnings) {
    if (options.authentication && !hideWarnings) {
        (0,_utils_warn__WEBPACK_IMPORTED_MODULE_0__.warn)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning.");
    }
    DEFAULT_ARCGIS_REQUEST_OPTIONS = options;
}
var ArcGISAuthError = /** @class */ (function (_super) {
    (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__extends)(ArcGISAuthError, _super);
    /**
     * Create a new `ArcGISAuthError`  object.
     *
     * @param message - The error message from the API
     * @param code - The error code from the API
     * @param response - The original response from the API that caused the error
     * @param url - The original url of the request
     * @param options - The original options of the request
     */
    function ArcGISAuthError(message, code, response, url, options) {
        if (message === void 0) { message = "AUTHENTICATION_ERROR"; }
        if (code === void 0) { code = "AUTHENTICATION_ERROR_CODE"; }
        var _this = _super.call(this, message, code, response, url, options) || this;
        _this.name = "ArcGISAuthError";
        _this.message =
            code === "AUTHENTICATION_ERROR_CODE" ? message : code + ": " + message;
        return _this;
    }
    ArcGISAuthError.prototype.retry = function (getSession, retryLimit) {
        var _this = this;
        if (retryLimit === void 0) { retryLimit = 3; }
        var tries = 0;
        var retryRequest = function (resolve, reject) {
            getSession(_this.url, _this.options)
                .then(function (session) {
                var newOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, _this.options), { authentication: session });
                tries = tries + 1;
                return request(_this.url, newOptions);
            })
                .then(function (response) {
                resolve(response);
            })
                .catch(function (e) {
                if (e.name === "ArcGISAuthError" && tries < retryLimit) {
                    retryRequest(resolve, reject);
                }
                else if (e.name === "ArcGISAuthError" && tries >= retryLimit) {
                    reject(_this);
                }
                else {
                    reject(e);
                }
            });
        };
        return new Promise(function (resolve, reject) {
            retryRequest(resolve, reject);
        });
    };
    return ArcGISAuthError;
}(_utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__.ArcGISRequestError));

/**
 * Checks for errors in a JSON response from the ArcGIS REST API. If there are no errors, it will return the `data` passed in. If there is an error, it will throw an `ArcGISRequestError` or `ArcGISAuthError`.
 *
 * @param data The response JSON to check for errors.
 * @param url The url of the original request
 * @param params The parameters of the original request
 * @param options The options of the original request
 * @returns The data that was passed in the `data` parameter
 */
function checkForErrors(response, url, params, options, originalAuthError) {
    // this is an error message from billing.arcgis.com backend
    if (response.code >= 400) {
        var message = response.message, code = response.code;
        throw new _utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__.ArcGISRequestError(message, code, response, url, options);
    }
    // error from ArcGIS Online or an ArcGIS Portal or server instance.
    if (response.error) {
        var _a = response.error, message = _a.message, code = _a.code, messageCode = _a.messageCode;
        var errorCode = messageCode || code || "UNKNOWN_ERROR_CODE";
        if (code === 498 ||
            code === 499 ||
            messageCode === "GWM_0003" ||
            (code === 400 && message === "Unable to generate token.")) {
            if (originalAuthError) {
                throw originalAuthError;
            }
            else {
                throw new ArcGISAuthError(message, errorCode, response, url, options);
            }
        }
        throw new _utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__.ArcGISRequestError(message, errorCode, response, url, options);
    }
    // error from a status check
    if (response.status === "failed" || response.status === "failure") {
        var message = void 0;
        var code = "UNKNOWN_ERROR_CODE";
        try {
            message = JSON.parse(response.statusMessage).message;
            code = JSON.parse(response.statusMessage).code;
        }
        catch (e) {
            message = response.statusMessage || response.message;
        }
        throw new _utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__.ArcGISRequestError(message, code, response, url, options);
    }
    return response;
}
/**
 * ```js
 * import { request } from '@esri/arcgis-rest-request';
 * //
 * request('https://www.arcgis.com/sharing/rest')
 *   .then(response) // response.currentVersion === 5.2
 * //
 * request('https://www.arcgis.com/sharing/rest', {
 *   httpMethod: "GET"
 * })
 * //
 * request('https://www.arcgis.com/sharing/rest/search', {
 *   params: { q: 'parks' }
 * })
 *   .then(response) // response.total => 78379
 * ```
 * Generic method for making HTTP requests to ArcGIS REST API endpoints.
 *
 * @param url - The URL of the ArcGIS REST API endpoint.
 * @param requestOptions - Options for the request, including parameters relevant to the endpoint.
 * @returns A Promise that will resolve with the data from the response.
 */
function request(url, requestOptions) {
    if (requestOptions === void 0) { requestOptions = { params: { f: "json" } }; }
    var options = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ httpMethod: "POST" }, DEFAULT_ARCGIS_REQUEST_OPTIONS), requestOptions), {
        params: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.params), requestOptions.params),
        headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.headers), requestOptions.headers),
    });
    var missingGlobals = [];
    var recommendedPackages = [];
    // don't check for a global fetch if a custom implementation was passed through
    if (!options.fetch && typeof fetch !== "undefined") {
        options.fetch = fetch.bind(Function("return this")());
    }
    else {
        missingGlobals.push("`fetch`");
        recommendedPackages.push("`node-fetch`");
    }
    if (typeof Promise === "undefined") {
        missingGlobals.push("`Promise`");
        recommendedPackages.push("`es6-promise`");
    }
    if (typeof FormData === "undefined") {
        missingGlobals.push("`FormData`");
        recommendedPackages.push("`isomorphic-form-data`");
    }
    if (!options.fetch ||
        typeof Promise === "undefined" ||
        typeof FormData === "undefined") {
        throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing " + missingGlobals.join(", ") + ". We recommend installing the " + recommendedPackages.join(", ") + " modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");
    }
    var httpMethod = options.httpMethod, authentication = options.authentication, rawResponse = options.rawResponse;
    var params = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ f: "json" }, options.params);
    var originalAuthError = null;
    var fetchOptions = {
        method: httpMethod,
        /* ensures behavior mimics XMLHttpRequest.
        needed to support sending IWA cookies */
        credentials: options.credentials || "same-origin",
    };
    // the /oauth2/platformSelf route will add X-Esri-Auth-Client-Id header
    // and that request needs to send cookies cross domain
    // so we need to set the credentials to "include"
    if (options.headers &&
        options.headers["X-Esri-Auth-Client-Id"] &&
        url.indexOf("/oauth2/platformSelf") > -1) {
        fetchOptions.credentials = "include";
    }
    return (authentication
        ? authentication.getToken(url, { fetch: options.fetch }).catch(function (err) {
            /**
             * append original request url and requestOptions
             * to the error thrown by getToken()
             * to assist with retrying
             */
            err.url = url;
            err.options = options;
            /**
             * if an attempt is made to talk to an unfederated server
             * first try the request anonymously. if a 'token required'
             * error is thrown, throw the UNFEDERATED error then.
             */
            originalAuthError = err;
            return Promise.resolve("");
        })
        : Promise.resolve(""))
        .then(function (token) {
        if (token.length) {
            params.token = token;
        }
        if (authentication && authentication.getDomainCredentials) {
            fetchOptions.credentials = authentication.getDomainCredentials(url);
        }
        // Custom headers to add to request. IRequestOptions.headers with merge over requestHeaders.
        var requestHeaders = {};
        if (fetchOptions.method === "GET") {
            // Prevents token from being passed in query params when hideToken option is used.
            /* istanbul ignore if - window is always defined in a browser. Test case is covered by Jasmine in node test */
            if (params.token &&
                options.hideToken &&
                // Sharing API does not support preflight check required by modern browsers https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request
                typeof window === "undefined") {
                requestHeaders["X-Esri-Authorization"] = "Bearer " + params.token;
                delete params.token;
            }
            // encode the parameters into the query string
            var queryParams = (0,_utils_encode_query_string__WEBPACK_IMPORTED_MODULE_3__.encodeQueryString)(params);
            // dont append a '?' unless parameters are actually present
            var urlWithQueryString = queryParams === "" ? url : url + "?" + (0,_utils_encode_query_string__WEBPACK_IMPORTED_MODULE_3__.encodeQueryString)(params);
            if (
            // This would exceed the maximum length for URLs specified by the consumer and requires POST
            (options.maxUrlLength &&
                urlWithQueryString.length > options.maxUrlLength) ||
                // Or if the customer requires the token to be hidden and it has not already been hidden in the header (for browsers)
                (params.token && options.hideToken)) {
                // the consumer specified a maximum length for URLs
                // and this would exceed it, so use post instead
                fetchOptions.method = "POST";
                // If the token was already added as a Auth header, add the token back to body with other params instead of header
                if (token.length && options.hideToken) {
                    params.token = token;
                    // Remove existing header that was added before url query length was checked
                    delete requestHeaders["X-Esri-Authorization"];
                }
            }
            else {
                // just use GET
                url = urlWithQueryString;
            }
        }
        /* updateResources currently requires FormData even when the input parameters dont warrant it.
    https://developers.arcgis.com/rest/users-groups-and-items/update-resources.htm
        see https://github.com/Esri/arcgis-rest-js/pull/500 for more info. */
        var forceFormData = new RegExp("/items/.+/updateResources").test(url);
        if (fetchOptions.method === "POST") {
            fetchOptions.body = (0,_utils_encode_form_data__WEBPACK_IMPORTED_MODULE_4__.encodeFormData)(params, forceFormData);
        }
        // Mixin headers from request options
        fetchOptions.headers = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, requestHeaders), options.headers);
        /* istanbul ignore next - karma reports coverage on browser tests only */
        if (typeof window === "undefined" && !fetchOptions.headers.referer) {
            fetchOptions.headers.referer = NODEJS_DEFAULT_REFERER_HEADER;
        }
        /* istanbul ignore else blob responses are difficult to make cross platform we will just have to trust the isomorphic fetch will do its job */
        if (!(0,_utils_process_params__WEBPACK_IMPORTED_MODULE_5__.requiresFormData)(params) && !forceFormData) {
            fetchOptions.headers["Content-Type"] =
                "application/x-www-form-urlencoded";
        }
        return options.fetch(url, fetchOptions);
    })
        .then(function (response) {
        if (!response.ok) {
            // server responded w/ an actual error (404, 500, etc)
            var status_1 = response.status, statusText = response.statusText;
            throw new _utils_ArcGISRequestError__WEBPACK_IMPORTED_MODULE_2__.ArcGISRequestError(statusText, "HTTP " + status_1, response, url, options);
        }
        if (rawResponse) {
            return response;
        }
        switch (params.f) {
            case "json":
                return response.json();
            case "geojson":
                return response.json();
            case "html":
                return response.text();
            case "text":
                return response.text();
            /* istanbul ignore next blob responses are difficult to make cross platform we will just have to trust that isomorphic fetch will do its job */
            default:
                return response.blob();
        }
    })
        .then(function (data) {
        if ((params.f === "json" || params.f === "geojson") && !rawResponse) {
            var response = checkForErrors(data, url, params, options, originalAuthError);
            if (originalAuthError) {
                /* If the request was made to an unfederated service that
                didn't require authentication, add the base url and a dummy token
                to the list of trusted servers to avoid another federation check
                in the event of a repeat request */
                var truncatedUrl = url
                    .toLowerCase()
                    .split(/\/rest(\/admin)?\/services\//)[0];
                options.authentication.federatedServers[truncatedUrl] = {
                    token: [],
                    // default to 24 hours
                    expires: new Date(Date.now() + 86400 * 1000),
                };
                originalAuthError = null;
            }
            return response;
        }
        else {
            return data;
        }
    });
}
//# sourceMappingURL=request.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISRequestError.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISRequestError.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcGISRequestError: () => (/* binding */ ArcGISRequestError)
/* harmony export */ });
/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
// TypeScript 2.1 no longer allows you to extend built in types. See https://github.com/Microsoft/TypeScript/issues/12790#issuecomment-265981442
// and https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work
//
// This code is from MDN https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types.
var ArcGISRequestError = /** @class */ (function () {
    /**
     * Create a new `ArcGISRequestError`  object.
     *
     * @param message - The error message from the API
     * @param code - The error code from the API
     * @param response - The original response from the API that caused the error
     * @param url - The original url of the request
     * @param options - The original options and parameters of the request
     */
    function ArcGISRequestError(message, code, response, url, options) {
        message = message || "UNKNOWN_ERROR";
        code = code || "UNKNOWN_ERROR_CODE";
        this.name = "ArcGISRequestError";
        this.message =
            code === "UNKNOWN_ERROR_CODE" ? message : code + ": " + message;
        this.originalMessage = message;
        this.code = code;
        this.response = response;
        this.url = url;
        this.options = options;
    }
    return ArcGISRequestError;
}());

ArcGISRequestError.prototype = Object.create(Error.prototype);
ArcGISRequestError.prototype.constructor = ArcGISRequestError;
//# sourceMappingURL=ArcGISRequestError.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-form-data.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-form-data.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeFormData: () => (/* binding */ encodeFormData)
/* harmony export */ });
/* harmony import */ var _process_params__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process-params */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js");
/* harmony import */ var _encode_query_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encode-query-string */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js");
/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */


/**
 * Encodes parameters in a [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object in browsers or in a [FormData](https://github.com/form-data/form-data) in Node.js
 *
 * @param params An object to be encoded.
 * @returns The complete [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object.
 */
function encodeFormData(params, forceFormData) {
    // see https://github.com/Esri/arcgis-rest-js/issues/499 for more info.
    var useFormData = (0,_process_params__WEBPACK_IMPORTED_MODULE_0__.requiresFormData)(params) || forceFormData;
    var newParams = (0,_process_params__WEBPACK_IMPORTED_MODULE_0__.processParams)(params);
    if (useFormData) {
        var formData_1 = new FormData();
        Object.keys(newParams).forEach(function (key) {
            if (typeof Blob !== "undefined" && newParams[key] instanceof Blob) {
                /* To name the Blob:
                 1. look to an alternate request parameter called 'fileName'
                 2. see if 'name' has been tacked onto the Blob manually
                 3. if all else fails, use the request parameter
                */
                var filename = newParams["fileName"] || newParams[key].name || key;
                formData_1.append(key, newParams[key], filename);
            }
            /* istanbul ignore next */
            else if (newParams[key].constructor &&
                newParams[key].constructor.name === 'ReadStream' &&
                // TODO: only specify the knownLength option if a valid value is given.
                // If we can verify in all REST API that the option is need for
                // node ReadStream, it can throw an error for the missing dataSize value.
                // Note that such change will be a breaking change.
                Number.isInteger(newParams["dataSize"])) {
                // have to cast the formData to any so that I can use the unofficial API
                // in the form-data library to handle Node ReadStream. See
                // https://github.com/form-data/form-data/issues/508
                formData_1.append(key, newParams[key], {
                    knownLength: newParams["dataSize"]
                });
            }
            else {
                formData_1.append(key, newParams[key]);
            }
        });
        return formData_1;
    }
    else {
        return (0,_encode_query_string__WEBPACK_IMPORTED_MODULE_1__.encodeQueryString)(params);
    }
}
//# sourceMappingURL=encode-form-data.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeParam: () => (/* binding */ encodeParam),
/* harmony export */   encodeQueryString: () => (/* binding */ encodeQueryString)
/* harmony export */ });
/* harmony import */ var _process_params__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process-params */ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js");
/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */

/**
 * Encodes keys and parameters for use in a URL's query string.
 *
 * @param key Parameter's key
 * @param value Parameter's value
 * @returns Query string with key and value pairs separated by "&"
 */
function encodeParam(key, value) {
    // For array of arrays, repeat key=value for each element of containing array
    if (Array.isArray(value) && value[0] && Array.isArray(value[0])) {
        return value.map(function (arrayElem) { return encodeParam(key, arrayElem); }).join("&");
    }
    return encodeURIComponent(key) + "=" + encodeURIComponent(value);
}
/**
 * Encodes the passed object as a query string.
 *
 * @param params An object to be encoded.
 * @returns An encoded query string.
 */
function encodeQueryString(params) {
    var newParams = (0,_process_params__WEBPACK_IMPORTED_MODULE_0__.processParams)(params);
    return Object.keys(newParams)
        .map(function (key) {
        return encodeParam(key, newParams[key]);
    })
        .join("&");
}
//# sourceMappingURL=encode-query-string.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   processParams: () => (/* binding */ processParams),
/* harmony export */   requiresFormData: () => (/* binding */ requiresFormData)
/* harmony export */ });
/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
/**
 * Checks parameters to see if we should use FormData to send the request
 * @param params The object whose keys will be encoded.
 * @return A boolean indicating if FormData will be required.
 */
function requiresFormData(params) {
    return Object.keys(params).some(function (key) {
        var value = params[key];
        if (!value) {
            return false;
        }
        if (value && value.toParam) {
            value = value.toParam();
        }
        var type = value.constructor.name;
        switch (type) {
            case "Array":
                return false;
            case "Object":
                return false;
            case "Date":
                return false;
            case "Function":
                return false;
            case "Boolean":
                return false;
            case "String":
                return false;
            case "Number":
                return false;
            default:
                return true;
        }
    });
}
/**
 * Converts parameters to the proper representation to send to the ArcGIS REST API.
 * @param params The object whose keys will be encoded.
 * @return A new object with properly encoded values.
 */
function processParams(params) {
    var newParams = {};
    Object.keys(params).forEach(function (key) {
        var _a, _b;
        var param = params[key];
        if (param && param.toParam) {
            param = param.toParam();
        }
        if (!param &&
            param !== 0 &&
            typeof param !== "boolean" &&
            typeof param !== "string") {
            return;
        }
        var type = param.constructor.name;
        var value;
        // properly encodes objects, arrays and dates for arcgis.com and other services.
        // ported from https://github.com/Esri/esri-leaflet/blob/master/src/Request.js#L22-L30
        // also see https://github.com/Esri/arcgis-rest-js/issues/18:
        // null, undefined, function are excluded. If you want to send an empty key you need to send an empty string "".
        switch (type) {
            case "Array":
                // Based on the first element of the array, classify array as an array of arrays, an array of objects
                // to be stringified, or an array of non-objects to be comma-separated
                // eslint-disable-next-line no-case-declarations
                var firstElementType = (_b = (_a = param[0]) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name;
                value =
                    firstElementType === "Array" ? param : // pass thru array of arrays
                        firstElementType === "Object" ? JSON.stringify(param) : // stringify array of objects
                            param.join(","); // join other types of array elements
                break;
            case "Object":
                value = JSON.stringify(param);
                break;
            case "Date":
                value = param.valueOf();
                break;
            case "Function":
                value = null;
                break;
            case "Boolean":
                value = param + "";
                break;
            default:
                value = param;
                break;
        }
        if (value || value === 0 || typeof value === "string" || Array.isArray(value)) {
            newParams[key] = value;
        }
    });
    return newParams;
}
//# sourceMappingURL=process-params.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/dist/esm/utils/warn.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/dist/esm/utils/warn.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   warn: () => (/* binding */ warn)
/* harmony export */ });
/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
/**
 * Method used internally to surface messages to developers.
 */
function warn(message) {
    if (console && console.warn) {
        console.warn.apply(console, [message]);
    }
}
//# sourceMappingURL=warn.js.map

/***/ }),

/***/ "./node_modules/@esri/arcgis-rest-request/node_modules/tslib/tslib.es6.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@esri/arcgis-rest-request/node_modules/tslib/tslib.es6.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./jimu-icons/svg/filled/data/layer.svg":
/*!**********************************************!*\
  !*** ./jimu-icons/svg/filled/data/layer.svg ***!
  \**********************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M14.629 9.143 16 10.286 8 16l-8-5.714 1.371-1.143L8 13.714zM8 0l8 5.714-8 5.715-8-5.715z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/filled/data/widget.svg":
/*!***********************************************!*\
  !*** ./jimu-icons/svg/filled/data/widget.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M6.667 4.667 11.333 0 16 4.667l-4.667 4.666zM0 1.333V8h6.667V1.333zM6.667 16H0V9.333h6.667zM8 16V9.333h6.667V16z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/filled/suggested/warning-circle.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/filled/suggested/warning-circle.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7m1.167 11.667H6.834v-2.334h2.333zm-2.333-4.5V3.333h2.333v4.834z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/empty.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/empty.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M7.5 1.5a.5.5 0 0 1 1 0v2.8a.5.5 0 0 1-1 0zm6.028.874a.5.5 0 0 1 .062.705l-1.414 1.685a.5.5 0 1 1-.766-.643l1.414-1.685a.5.5 0 0 1 .704-.062m-10.352.062a.5.5 0 1 0-.766.643l1.414 1.685a.5.5 0 0 0 .766-.643zM6.244 10.6zH5.43zM.961 9.8h4.88c.211 0 .359.19.359.4a1.8 1.8 0 0 0 3.555.4h.814a2.6 2.6 0 0 1-5.139 0H.8v3.6h14.4v-3.6H9.755c.03-.129.045-.263.045-.4 0-.21.148-.4.358-.4h4.881l-2.267-3.4H3.228zm11.81-4.2a.8.8 0 0 1 .666.356l2.429 3.642a.8.8 0 0 1 .134.444V14.2a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1-.8-.8v-4.158a.8.8 0 0 1 .134-.444l2.429-3.642a.8.8 0 0 1 .665-.356z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/invisible.svg":
/*!***********************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/invisible.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M3.154 3.154a.527.527 0 0 1 .746 0l1.317 1.317A8.618 8.618 0 0 1 8 4c2.667 0 5.667 1.333 7 4-.696 1.393-1.847 2.422-3.168 3.087l1.014 1.013a.527.527 0 1 1-.746.746l-1.317-1.317A8.617 8.617 0 0 1 8 12c-2.667 0-5.667-1.333-7-4 .696-1.393 1.847-2.422 3.168-3.087L3.154 3.9a.527.527 0 0 1 0-.746m1.698 2.443C3.726 6.087 2.782 6.882 2 8c1.422 2.033 3.382 3 6 3a8.66 8.66 0 0 0 2.03-.225l-.675-.674A2.5 2.5 0 0 1 5.9 6.644zm6.296 4.805C12.275 9.913 13.218 9.119 14 8c-1.422-2.033-3.382-3-6-3-.726 0-1.402.074-2.03.225l.675.674a2.5 2.5 0 0 1 3.457 3.456zM6.5 8c0-.221.048-.431.134-.62l1.987 1.986A1.5 1.5 0 0 1 6.5 8m.88-1.366 1.986 1.987a1.5 1.5 0 0 0-1.987-1.987\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/more-horizontal.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/more-horizontal.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2m5 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/setting.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/setting.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M9.438.994c.213 0 .397.146.44.35.151.722.257 1.34.316 1.852.374.16.725.362 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 21.98 21.98 0 0 1-1.49 1.194 5.17 5.17 0 0 1-.007 1.183l1.464 1.119a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 22.445 22.445 0 0 1-1.807-.66c-.325.233-.679.43-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21.019 21.019 0 0 1-.317-1.853 5.34 5.34 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546c.567-.49 1.063-.888 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196c.719.233 1.321.453 1.807.66.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19c-.235.095-.46.21-.672.34l-.207.136-.42.293-.476-.197c-.328-.137-.718-.281-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4.127 4.127 0 0 0-.021.816l.014.144.058.492-.419.294c-.288.203-.615.451-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29c.204.146.42.274.645.384l.228.103.474.199.059.49c.04.338.103.731.19 1.177l.043.219h2.088l.282-1.867.466-.19c.236-.095.46-.21.672-.34l.207-.136.419-.293.476.198c.33.136.72.28 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4.131 4.131 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18.1 18.1 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.496 4.496 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49c-.032-.27-.08-.576-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/visible.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/visible.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 12c-2.667 0-5.667-1.333-7-4 1.333-2.667 4.333-4 7-4s5.667 1.333 7 4c-1.333 2.667-4.333 4-7 4m0-7c-2.618 0-4.578.967-6 3 1.422 2.033 3.382 3 6 3s4.578-.967 6-3c-1.422-2.033-3.382-3-6-3m0 5.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/data/date.svg":
/*!***********************************************!*\
  !*** ./jimu-icons/svg/outlined/data/date.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M5.5 1a.5.5 0 0 0-.5.5V2H2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-3v-.5a.5.5 0 0 0-1 0V2H6v-.5a.5.5 0 0 0-.5-.5M10 3.5V3H6v.5a.5.5 0 0 1-1 0V3H2v2h12V3h-3v.5a.5.5 0 0 1-1 0M14 6H2v8h12zM5 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m.5 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/data/globe.svg":
/*!************************************************!*\
  !*** ./jimu-icons/svg/outlined/data/globe.svg ***!
  \************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#C5C5C5\" d=\"M2.56 12.801a7.284 7.284 0 0 0 11.48 0h.005v-.006a7.27 7.27 0 0 0 0-8.988v-.006h-.004a7.283 7.283 0 0 0-11.482 0h-.004v.006a7.27 7.27 0 0 0 0 8.988v.006zm1.95-8a11.5 11.5 0 0 0-.495 3h-1.99a6.26 6.26 0 0 1 1.04-3zm9.025 0a6.26 6.26 0 0 1 1.04 3h-1.99a11.503 11.503 0 0 0-.495-3zm-1.445 7c.297-.974.464-1.983.495-3h1.99a6.26 6.26 0 0 1-1.04 3zm-4.29 1v1.716a3.324 3.324 0 0 1-1.78-1.716zm-2.225-1a10.318 10.318 0 0 1-.56-3H7.8v3zM8.8 14.517v-1.716h1.78a3.324 3.324 0 0 1-1.78 1.716m0-2.716v-3h2.786a10.32 10.32 0 0 1-.56 3zm2.786-4H8.8v-3h2.225c.335.967.524 1.978.561 3m-2.786-4V2.085c.792.322 1.43.936 1.78 1.716zm-1-1.716v1.716H6.02c.351-.78.988-1.394 1.78-1.716m0 2.716v3H5.014c.038-1.022.227-2.033.561-3zm-3.785 4a11.5 11.5 0 0 0 .495 3H3.065a6.26 6.26 0 0 1-1.04-3zm.881 4c.183.408.404.798.662 1.163A6.325 6.325 0 0 1 3.9 12.801zm6.146 1.163c.258-.365.48-.755.662-1.163h.996a6.326 6.326 0 0 1-1.658 1.163m.662-10.163a6.868 6.868 0 0 0-.662-1.163A6.324 6.324 0 0 1 12.7 3.801zM5.558 2.638c-.258.365-.48.755-.662 1.163H3.9a6.323 6.323 0 0 1 1.66-1.163z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/data/number.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/data/number.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"m5.635 9.86 2.168-2.18L8 7.471c.068-.073.13-.151.185-.233.055-.082.101-.168.138-.258a.742.742 0 0 0 .055-.283.729.729 0 0 0-.244-.558.786.786 0 0 0-.256-.151.9.9 0 0 0-.312-.054.822.822 0 0 0-.583.214.918.918 0 0 0-.276.573l-.993-.082c.02-.267.082-.504.185-.709.102-.205.235-.375.398-.512.163-.137.352-.24.568-.311A2.23 2.23 0 0 1 7.566 5c.253 0 .488.034.706.102.218.069.409.17.572.304.163.134.291.304.386.512.095.208.142.45.142.73 0 .366-.08.681-.24.946-.16.265-.367.518-.62.758l-1.726 1.664h2.586v.886H5.635zM3.6 6.23 2.55 7.238 2 6.558l1.687-1.46h.86v5.804H3.6zm8.23 1.204h-.244v.886h.229c.142 0 .286.01.434.032.147.022.28.065.398.128a.782.782 0 0 1 .292.27c.076.117.114.27.114.455 0 .137-.025.26-.075.373a.856.856 0 0 1-.205.287.986.986 0 0 1-.658.25c-.253 0-.452-.066-.6-.197a1.053 1.053 0 0 1-.307-.557l-1.01.278c.064.24.156.447.277.62.12.171.264.312.43.421.165.11.35.19.555.242.205.052.423.078.655.078.247 0 .485-.037.713-.11.229-.074.43-.184.603-.328.174-.145.312-.324.414-.537.103-.214.154-.46.154-.738 0-.36-.092-.672-.276-.935-.184-.262-.455-.42-.812-.475v-.016c.3-.077.533-.237.702-.48.168-.243.252-.52.252-.832a1.41 1.41 0 0 0-.536-1.16 1.711 1.711 0 0 0-.568-.29A2.345 2.345 0 0 0 12.076 5c-.205 0-.402.025-.591.074-.19.049-.363.124-.52.225-.158.101-.295.231-.41.39a1.805 1.805 0 0 0-.268.557l1 .279a.948.948 0 0 1 .328-.472.827.827 0 0 1 .508-.168c.237 0 .429.071.576.213a.73.73 0 0 1 .22.55.8.8 0 0 1-.094.418.638.638 0 0 1-.248.237 1 1 0 0 1-.347.107 3.152 3.152 0 0 1-.398.024\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/data/string.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/data/string.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M12.89 6.032c.143.076.29.226.442.452l.574-.58c-.207-.329-.43-.561-.67-.698A1.55 1.55 0 0 0 12.454 5c-.32 0-.614.071-.882.214a2.048 2.048 0 0 0-.69.609 3.046 3.046 0 0 0-.454.955 4.43 4.43 0 0 0-.165 1.246c0 .446.055.852.165 1.218.109.366.26.679.453.94.194.26.424.462.691.604.268.143.562.214.882.214.304 0 .591-.08.86-.242.27-.161.499-.42.686-.774l-.61-.597c-.136.242-.283.418-.441.528a.846.846 0 0 1-.49.166c-.214 0-.408-.054-.582-.162a1.462 1.462 0 0 1-.448-.443 2.236 2.236 0 0 1-.29-.67 3.304 3.304 0 0 1-.102-.846c0-.285.034-.551.102-.799.068-.247.165-.463.29-.649.125-.185.274-.33.448-.435.174-.105.368-.158.583-.158.144 0 .288.038.43.113m-8.448-.887h-.638L2 10.855h.826L3.2 9.548h1.798l.386 1.307h.843zm-.34 1.21.639 2.322H3.452zm2.59-1.21h1.615c.157 0 .31.026.463.077.152.05.288.134.407.25.12.115.216.265.29.447.074.183.111.404.111.662 0 .322-.066.588-.199.798-.133.21-.306.36-.521.452v.016a.871.871 0 0 1 .36.149c.111.078.206.177.284.298.078.121.14.261.185.42.045.158.067.329.067.512 0 .312-.045.571-.135.778-.09.207-.208.374-.354.5a1.308 1.308 0 0 1-.504.27 2.1 2.1 0 0 1-.577.08H6.691zm1.41 2.323H7.43V6.016h.61c.28 0 .484.06.611.182.127.12.19.305.19.552a.731.731 0 0 1-.184.52c-.123.132-.308.198-.554.198M7.43 9.984h.68c.093 0 .194-.008.301-.024a.675.675 0 0 0 .518-.367.96.96 0 0 0 .088-.448c0-.3-.071-.51-.214-.629-.142-.118-.364-.177-.664-.177h-.709z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/down.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/down.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .538.538 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.538.538 0 0 1 0-.738\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/up.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/up.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M13.854 11.347a.486.486 0 0 1-.708 0L8 5.76l-5.146 5.587a.485.485 0 0 1-.708 0 .538.538 0 0 1 0-.738l5.5-5.956a.485.485 0 0 1 .708 0l5.5 5.956a.538.538 0 0 1 0 .738\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/duplicate.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/duplicate.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M1.5 11a.5.5 0 0 0 .5-.5V2h8.5a.5.5 0 0 0 0-1H2a1 1 0 0 0-1 1v8.5a.5.5 0 0 0 .5.5M5 4h9a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1m0 1v9h9V5z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/edit.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/edit.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11.227 1.312c-.404-.404-1.045-.417-1.432-.03L2.49 8.587l-.48 2.674a.637.637 0 0 0 .73.73l2.673-.48 7.305-7.306c.387-.387.374-1.028-.03-1.431zm-8.114 9.575.32-1.781 4.991-4.992 1.462 1.462-4.992 4.991zm7.473-6.012 1.402-1.4-1.462-1.463-1.401 1.402z\" clip-rule=\"evenodd\"></path><path fill=\"#000\" d=\"M1.5 14a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/minus-circle.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/minus-circle.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0m1 0A7 7 0 1 1 1 8a7 7 0 0 1 14 0M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/plus-circle.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/plus-circle.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0m1 0A7 7 0 1 1 1 8a7 7 0 0 1 14 0M7.5 4.5a.5.5 0 0 1 1 0v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/plus.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/plus.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M7.5 0a.5.5 0 0 0-.5.5V7H.5a.5.5 0 0 0 0 1H7v6.5a.5.5 0 0 0 1 0V8h6.5a.5.5 0 0 0 0-1H8V.5a.5.5 0 0 0-.5-.5\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/preview.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/preview.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M13 1a2 2 0 0 1 2 2v6.5a.5.5 0 0 1-1 0V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6.5a.5.5 0 0 1 0 1H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm-1.849 10.151a.517.517 0 0 1 .73 0l2.923 2.923a.517.517 0 0 1-.73.73l-2.923-2.922a.517.517 0 0 1 0-.73M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8m0-1a3 3 0 1 1 0-6 3 3 0 0 1 0 6\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/search.svg":
/*!***************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/search.svg ***!
  \***************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/suggested/info.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/suggested/info.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/data-layer-16.svg":
/*!*********************************************!*\
  !*** ./jimu-ui/lib/icons/data-layer-16.svg ***!
  \*********************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m8 0 8 6-8 6-8-6zM1.887 6 8 10.82 14.113 6 8 1.18zM.563 9 8 14.775 15.437 9l.563.81L8 16 0 9.81z\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/data-map.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/data-map.svg ***!
  \****************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m6 11.943 4 1.711V4.057L6 2.346zm-1 .17V2.494l-4 1.48v9.619zm6 1.393 4-1.48V2.407l-4 1.48zM0 15V3.307L5.75 1.18l4.528 1.937L16 1v11.693l-5.75 2.127-4.528-1.937z\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/data-scene.svg":
/*!******************************************!*\
  !*** ./jimu-ui/lib/icons/data-scene.svg ***!
  \******************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M7.5 4V1.39C6.402 2.12 5.565 2.99 4.985 4zm0 3.5V5H4.512a8.13 8.13 0 0 0-.5 2.5zm0 3.5V8.5H4.012a8.13 8.13 0 0 0 .5 2.5zm0 3.61V12H4.985c.58 1.01 1.417 1.88 2.515 2.61m2.543.087A7.014 7.014 0 0 0 13.745 12h-1.6a8.278 8.278 0 0 1-2.102 2.697M11.015 12H8.5v2.61c1.098-.73 1.935-1.6 2.515-2.61m1.974-3.5a9.328 9.328 0 0 1-.441 2.5h1.778c.365-.767.594-1.61.656-2.5zm-1.001 0H8.5V11h2.988a8.13 8.13 0 0 0 .5-2.5m.56-3.5c.254.775.401 1.609.441 2.5h1.993a6.957 6.957 0 0 0-.656-2.5zm-1.06 0H8.5v2.5h3.488a8.13 8.13 0 0 0-.5-2.5m-1.445-3.697c.91.78 1.611 1.68 2.102 2.697h1.6a7.014 7.014 0 0 0-3.702-2.697M8.5 4h2.515c-.58-1.01-1.417-1.88-2.515-2.61zm-.527 12a8 8 0 1 1 .055-16 8 8 0 0 1-.055 16M5.957 1.302A7.014 7.014 0 0 0 2.255 4h1.6a8.278 8.278 0 0 1 2.102-2.697M3.011 7.5c.04-.891.187-1.725.441-2.5H1.674a6.957 6.957 0 0 0-.656 2.5zm.441 3.5a9.328 9.328 0 0 1-.441-2.5H1.018c.062.89.291 1.733.656 2.5zm2.505 3.697A8.278 8.278 0 0 1 3.855 12h-1.6a7.014 7.014 0 0 0 3.702 2.697\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/widget-link.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/widget-link.svg ***!
  \*******************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m6.262 6.972-.893-.893a.5.5 0 0 1 0-.707l.003-.003a.5.5 0 0 1 .707 0l.893.893.709-.709a1.003 1.003 0 0 0 0-1.419L4.844 1.297a1.003 1.003 0 0 0-1.419 0L1.297 3.425a1.003 1.003 0 0 0 0 1.419L4.134 7.68a1.003 1.003 0 0 0 1.419 0zm1.419 0 1.347 1.347.71-.71a2.006 2.006 0 0 1 2.837 0l2.837 2.838a2.006 2.006 0 0 1 0 2.837l-2.128 2.128a2.006 2.006 0 0 1-2.837 0L7.61 12.575a2.006 2.006 0 0 1 0-2.837l.709-.71-1.347-1.347-.71.71a2.006 2.006 0 0 1-2.837 0L.588 5.552a2.006 2.006 0 0 1 0-2.837L2.716.588a2.006 2.006 0 0 1 2.837 0L8.39 3.425a2.006 2.006 0 0 1 0 2.837zm2.057 2.056.599.6a.5.5 0 0 1 0 .707l-.002.002a.5.5 0 0 1-.707 0l-.6-.6-.709.71a1.003 1.003 0 0 0 0 1.419l2.837 2.837a1.003 1.003 0 0 0 1.419 0l2.128-2.128a1.003 1.003 0 0 0 0-1.419L11.866 8.32a1.003 1.003 0 0 0-1.419 0z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/filled/data/layer.tsx":
/*!******************************************!*\
  !*** ./jimu-icons/filled/data/layer.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerFilled: () => (/* binding */ LayerFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_data_layer_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/data/layer.svg */ "./jimu-icons/svg/filled/data/layer.svg");
/* harmony import */ var _svg_filled_data_layer_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_layer_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const LayerFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_data_layer_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/filled/data/widget.tsx":
/*!*******************************************!*\
  !*** ./jimu-icons/filled/data/widget.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WidgetFilled: () => (/* binding */ WidgetFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_data_widget_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/data/widget.svg */ "./jimu-icons/svg/filled/data/widget.svg");
/* harmony import */ var _svg_filled_data_widget_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_widget_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const WidgetFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_data_widget_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/filled/suggested/warning-circle.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/filled/suggested/warning-circle.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WarningCircleFilled: () => (/* binding */ WarningCircleFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_suggested_warning_circle_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/suggested/warning-circle.svg */ "./jimu-icons/svg/filled/suggested/warning-circle.svg");
/* harmony import */ var _svg_filled_suggested_warning_circle_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_suggested_warning_circle_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const WarningCircleFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_suggested_warning_circle_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/empty.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/application/empty.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmptyOutlined: () => (/* binding */ EmptyOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_empty_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/empty.svg */ "./jimu-icons/svg/outlined/application/empty.svg");
/* harmony import */ var _svg_outlined_application_empty_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_empty_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const EmptyOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_empty_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/invisible.tsx":
/*!*******************************************************!*\
  !*** ./jimu-icons/outlined/application/invisible.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InvisibleOutlined: () => (/* binding */ InvisibleOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_invisible_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/invisible.svg */ "./jimu-icons/svg/outlined/application/invisible.svg");
/* harmony import */ var _svg_outlined_application_invisible_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_invisible_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const InvisibleOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_invisible_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/more-horizontal.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/application/more-horizontal.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MoreHorizontalOutlined: () => (/* binding */ MoreHorizontalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/more-horizontal.svg */ "./jimu-icons/svg/outlined/application/more-horizontal.svg");
/* harmony import */ var _svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const MoreHorizontalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/setting.tsx":
/*!*****************************************************!*\
  !*** ./jimu-icons/outlined/application/setting.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingOutlined: () => (/* binding */ SettingOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/setting.svg */ "./jimu-icons/svg/outlined/application/setting.svg");
/* harmony import */ var _svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SettingOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/application/visible.tsx":
/*!*****************************************************!*\
  !*** ./jimu-icons/outlined/application/visible.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VisibleOutlined: () => (/* binding */ VisibleOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_visible_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/visible.svg */ "./jimu-icons/svg/outlined/application/visible.svg");
/* harmony import */ var _svg_outlined_application_visible_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_visible_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const VisibleOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_visible_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/data/globe.tsx":
/*!********************************************!*\
  !*** ./jimu-icons/outlined/data/globe.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobeOutlined: () => (/* binding */ GlobeOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_data_globe_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/data/globe.svg */ "./jimu-icons/svg/outlined/data/globe.svg");
/* harmony import */ var _svg_outlined_data_globe_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_data_globe_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const GlobeOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_data_globe_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/down.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/directional/down.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DownOutlined: () => (/* binding */ DownOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/down.svg */ "./jimu-icons/svg/outlined/directional/down.svg");
/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const DownOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/up.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/directional/up.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpOutlined: () => (/* binding */ UpOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/up.svg */ "./jimu-icons/svg/outlined/directional/up.svg");
/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const UpOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseOutlined: () => (/* binding */ CloseOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const CloseOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/duplicate.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/editor/duplicate.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DuplicateOutlined: () => (/* binding */ DuplicateOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_duplicate_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/duplicate.svg */ "./jimu-icons/svg/outlined/editor/duplicate.svg");
/* harmony import */ var _svg_outlined_editor_duplicate_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_duplicate_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const DuplicateOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_duplicate_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/edit.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/edit.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditOutlined: () => (/* binding */ EditOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/edit.svg */ "./jimu-icons/svg/outlined/editor/edit.svg");
/* harmony import */ var _svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const EditOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_edit_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/plus.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/plus.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlusOutlined: () => (/* binding */ PlusOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/plus.svg */ "./jimu-icons/svg/outlined/editor/plus.svg");
/* harmony import */ var _svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PlusOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_plus_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/preview.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/editor/preview.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreviewOutlined: () => (/* binding */ PreviewOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_preview_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/preview.svg */ "./jimu-icons/svg/outlined/editor/preview.svg");
/* harmony import */ var _svg_outlined_editor_preview_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_preview_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PreviewOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_preview_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/search.tsx":
/*!***********************************************!*\
  !*** ./jimu-icons/outlined/editor/search.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchOutlined: () => (/* binding */ SearchOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/search.svg */ "./jimu-icons/svg/outlined/editor/search.svg");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SearchOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/trash.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/trash.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrashOutlined: () => (/* binding */ TrashOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const TrashOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/suggested/info.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/suggested/info.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InfoOutlined: () => (/* binding */ InfoOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/suggested/info.svg */ "./jimu-icons/svg/outlined/suggested/info.svg");
/* harmony import */ var _svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const InfoOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-error-item.tsx":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-error-item.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceErrorItem: () => (/* binding */ DataSourceErrorItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _data_source_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-source-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-item.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/** @jsx jsx */



class _DataSourceErrorItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    render() {
        if (!this.props.dataSourceJson) {
            return null;
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-data-source-error-item' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_data_source_item__WEBPACK_IMPORTED_MODULE_1__.DataSourceItem, Object.assign({}, this.props)))));
    }
}
const DataSourceErrorItem = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_2__.withStyles)(_DataSourceErrorItem, 'DataSourceErrorItem');


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-item.tsx":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-item.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceItem: () => (/* binding */ DataSourceItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/basic/item-selector */ "jimu-ui/basic/item-selector");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_outlined_application_more_horizontal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/application/more-horizontal */ "./jimu-icons/outlined/application/more-horizontal.tsx");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_filled_data_layer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-icons/filled/data/layer */ "./jimu-icons/filled/data/layer.tsx");
/* harmony import */ var jimu_icons_filled_data_widget__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/filled/data/widget */ "./jimu-icons/filled/data/widget.tsx");
/* harmony import */ var jimu_icons_outlined_application_visible__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/application/visible */ "./jimu-icons/outlined/application/visible.tsx");
/* harmony import */ var jimu_icons_outlined_application_invisible__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/application/invisible */ "./jimu-icons/outlined/application/invisible.tsx");
/* harmony import */ var jimu_icons_outlined_editor_preview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! jimu-icons/outlined/editor/preview */ "./jimu-icons/outlined/editor/preview.tsx");
/* harmony import */ var jimu_icons_outlined_suggested_info__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jimu-icons/outlined/suggested/info */ "./jimu-icons/outlined/suggested/info.tsx");
/** @jsx jsx */













class _DataSourceItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.onLabelChange = e => {
            this.setState({
                newLabel: e.target.value
            });
        };
        this.onMoreIconClick = e => {
            this.stopPropagation(e);
            this.props.onMoreIconClick && this.props.onMoreIconClick(this.props.dataSourceJson);
        };
        this.onCloseIconClick = e => {
            this.stopPropagation(e);
            this.props.onCloseIconClick && this.props.onCloseIconClick(this.props.dataSourceJson);
        };
        this.onRename = () => {
            const newLabel = this.state.newLabel.trim();
            this.props.onRename && this.props.onRename(newLabel);
        };
        this.onDataSourceItemClick = e => {
            this.stopPropagation(e);
            this.props.onDataSourceItemClick && this.props.onDataSourceItemClick(this.props.dataSourceJson);
        };
        this.onDataSourceItemKeyDown = e => {
            if (e.target === e.currentTarget && (e.key === 'Enter' || e.key === ' ')) {
                this.onDataSourceItemClick(e);
            }
        };
        this.onMappingIconClick = e => {
            this.stopPropagation(e);
            this.props.onMappingIconClick && this.props.onMappingIconClick(this.props.dataSourceJson);
        };
        this.onHideIconClick = e => {
            this.stopPropagation(e);
            this.props.onToggleHidden && this.props.onToggleHidden(this.props.dataSourceJson);
        };
        this.onChildDataIconClick = e => {
            this.stopPropagation(e);
            this.props.onChildDataIconClick && this.props.onChildDataIconClick(this.props.dataSourceJson);
        };
        this.onRelatedWidgetsIconClick = e => {
            this.stopPropagation(e);
            this.props.onRelatedWidgetsIconClick && this.props.onRelatedWidgetsIconClick(this.props.dataSourceJson);
        };
        this.stopPropagation = e => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
        };
        this.getWhetherIsSetDs = (dsJson) => {
            if (!dsJson) {
                return false;
            }
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id);
            if (!ds) {
                return false;
            }
            return ds.isDataSourceSet;
        };
        this.getChildDssLength = (dsJson) => {
            if (!dsJson) {
                return null;
            }
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id);
            if (!ds || !ds.isDataSourceSet) {
                return null;
            }
            return ds.getChildDataSources().length;
        };
        this.getLabel = () => {
            var _a, _b, _c, _d;
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource((_a = this.props.dataSourceJson) === null || _a === void 0 ? void 0 : _a.id);
            return (ds === null || ds === void 0 ? void 0 : ds.getLabel()) || ((_b = this.props.dataSourceJson) === null || _b === void 0 ? void 0 : _b.label) || ((_c = this.props.dataSourceJson) === null || _c === void 0 ? void 0 : _c.sourceLabel) || ((_d = this.props.dataSourceJson) === null || _d === void 0 ? void 0 : _d.id) || '';
        };
        this.state = {
            newLabel: this.getLabel()
        };
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.isRenameInputShown !== this.props.isRenameInputShown && this.props.isRenameInputShown && this.renameInput) {
            this.renameInput.focus();
            this.renameInput.select();
        }
        if (prevProps.dataSourceJson !== this.props.dataSourceJson) {
            this.setState({
                newLabel: this.getLabel()
            });
        }
    }
    render() {
        var _a, _b, _c, _d, _e;
        if (!this.props.dataSourceJson) {
            return null;
        }
        const relatedWidgets = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getWidgetsUsingDsOrItsViews)(this.props.dataSourceJson.id, this.props.widgets, false);
        const allRelatedWidgets = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getWidgetsUsingDsOrItsDescendantDss)(this.props.dataSourceJson.id, this.props.widgets);
        const originalDataUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getOriginalDataUrl)(this.props.dataSourceJson);
        const isSetDs = this.getWhetherIsSetDs(this.props.dataSourceJson);
        let childDssLength;
        if (isSetDs) {
            childDssLength = this.getChildDssLength(this.props.dataSourceJson);
        }
        const dsTypeString = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(this.props.dataSourceJson.type, this.props.intl);
        const label = this.getLabel();
        const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.dataSourceJson.id);
        const itemInfo = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.isItemMixin(ds) ? ds.getItemInfo() : null;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('component-data-source-item', { 'component-data-source-item-selected-item': this.props.isSelected, 'cursor-pointer': !!this.props.onDataSourceItemClick }), onClick: this.onDataSourceItemClick, tabIndex: 0, onKeyDown: this.onDataSourceItemKeyDown, role: 'option' },
                this.props.isLoadingShown && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-container' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Bar })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center ds-item-header' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center w-100', title: dsTypeString },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(this.props.dataSourceJson), className: 'text-dark', size: '12' })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate ds-type-name' }, dsTypeString))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-1 flex-shrink-0 d-flex align-items-center ds-badge' }, !this.props.isLoadingShown && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_3__.DataBadge, { item: itemInfo, itemId: (_a = this.props.dataSourceJson) === null || _a === void 0 ? void 0 : _a.itemId, portalUrl: (_b = this.props.dataSourceJson) === null || _b === void 0 ? void 0 : _b.portalUrl, url: (_c = this.props.dataSourceJson) === null || _c === void 0 ? void 0 : _c.url })),
                        this.props.isErrorIconShown
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-1 flex-shrink-0 d-flex align-items-center ds-more p-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'd-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'uploadImageError', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.uploadImageError }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_suggested_info__WEBPACK_IMPORTED_MODULE_12__.InfoOutlined, { className: 'align-baseline warning-icon', size: 'm' })))
                            : null,
                        this.props.isHideable
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: 'sm', icon: true, type: 'tertiary', className: 'flex-shrink-0 ds-more p-2', onClick: this.onHideIconClick },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'd-flex justify-content-center', title: ((_d = this.props.dataSourceJson) === null || _d === void 0 ? void 0 : _d.isHidden)
                                        ? this.props.intl.formatMessage({ id: 'clickToShow', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clickToShow })
                                        : this.props.intl.formatMessage({ id: 'clickToHide', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clickToHide }) }, ((_e = this.props.dataSourceJson) === null || _e === void 0 ? void 0 : _e.isHidden) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_invisible__WEBPACK_IMPORTED_MODULE_10__.InvisibleOutlined, { className: 'align-baseline', size: 'm' }) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_visible__WEBPACK_IMPORTED_MODULE_9__.VisibleOutlined, { className: 'align-baseline', size: 'm' })))
                            : null,
                        this.props.isMoreIconShown
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: 'sm', icon: true, type: 'tertiary', className: 'flex-shrink-0 ds-more p-2', onClick: this.onMoreIconClick },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'd-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'more', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.more }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_more_horizontal__WEBPACK_IMPORTED_MODULE_5__.MoreHorizontalOutlined, { className: 'align-baseline', size: 'm' })))
                            : null,
                        this.props.isCloseIconShown
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: 'sm', icon: true, type: 'tertiary', className: 'flex-shrink-0 ds-more p-2', onClick: this.onCloseIconClick },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'd-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'remove', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.remove }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_6__.CloseOutlined, { className: 'align-baseline ds-close-icon', size: 'm' })))
                            : null)),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-item-body' },
                    this.props.isRenameInputShown
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { className: 'flex-grow-1 text-truncate p-1 ds-label ds-label-input', ref: n => { this.renameInput = n; }, onBlur: this.onRename, onKeyUp: this.onRename, onChange: this.onLabelChange, value: this.state.newLabel, onClick: this.stopPropagation })
                        : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 two-line-truncate ds-label text-left', title: label }, label),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('d-flex justify-content-between', { 'mt-4': originalDataUrl || this.props.isMappingIconShown }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                            isSetDs
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', className: 'mr-6 p-0 ds-child-dss', onClick: this.onChildDataIconClick, title: `${this.props.intl.formatMessage({ id: 'containLayersWithNum', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.containLayersWithNum }, { layerNum: childDssLength })}` },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null,
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_filled_data_layer__WEBPACK_IMPORTED_MODULE_7__.LayerFilled, { size: 'm', className: 'mr-1' }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'align-middle' }, childDssLength)))
                                : null,
                            this.props.isRelatedWidgetsShown
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', className: 'p-0 flex-grow-1 text-truncate flex-row ds-related-widgets', onClick: this.onRelatedWidgetsIconClick, title: this.props.intl.formatMessage({
                                        id: 'relatedWidgetsWithNum',
                                        defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.relatedWidgetsWithNum
                                    }, {
                                        directlyNum: relatedWidgets.length,
                                        totalNum: allRelatedWidgets.length
                                    }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null,
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_filled_data_widget__WEBPACK_IMPORTED_MODULE_8__.WidgetFilled, { size: 'm', className: 'mr-1' }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'align-middle' }, `${relatedWidgets.length} / ${allRelatedWidgets.length}`)))
                                : null),
                        originalDataUrl
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { size: 'sm', icon: true, type: 'tertiary', className: 'ds-origin-label', href: originalDataUrl, target: '_blank', onClick: this.stopPropagation, title: this.props.intl.formatMessage({ id: 'source', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.source }, { directlyNum: relatedWidgets.length, totalNum: allRelatedWidgets.length }) },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_preview__WEBPACK_IMPORTED_MODULE_11__.PreviewOutlined, { className: 'm-0', size: 'm' }))
                            : null)))));
    }
}
const mapStateToProps = (state, ownProps) => {
    var _a, _b;
    const appState = ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? state.appStateInBuilder : state;
    if (ownProps.isRelatedWidgetsShown) {
        return {
            widgets: (_b = appState === null || appState === void 0 ? void 0 : appState.appConfig) === null || _b === void 0 ? void 0 : _b.widgets
        };
    }
    else {
        return null;
    }
};
const DataSourceItem = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_4__.withStyles)(_DataSourceItem, 'DataSourceItem')));


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-item.tsx":
/*!*************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-item.tsx ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");



class DsItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getWhetherSelected = () => {
            return this.props.useDataSources && this.props.useDataSources.some(useDs => {
                const dsId = (useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId) || (useDs === null || useDs === void 0 ? void 0 : useDs.dataSourceId);
                return dsId === this.props.ds.getMainDataSource().id;
            });
        };
        this.getParentWidget = (widgetId) => {
            var _a, _b, _c;
            const config = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig;
            if (!config || !widgetId) {
                return null;
            }
            const widgets = (_c = config.widgets) !== null && _c !== void 0 ? _c : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            const passDataSourceToChildrenWidgets = (Object.values(widgets)).filter(w => { var _a; return w.useDataSources && w.layouts && ((_a = w.manifest.properties) === null || _a === void 0 ? void 0 : _a.passDataSourceToChildren); });
            if (passDataSourceToChildrenWidgets.length === 0) {
                return null;
            }
            let childWidgets = [];
            const parentWidget = passDataSourceToChildrenWidgets.find(w => {
                childWidgets = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__.searchUtils.getChildrenContents(config, w.id, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Widget, true);
                return childWidgets && childWidgets.some(cW => cW.id === widgetId);
            }) || null;
            return parentWidget;
        };
        this.getUseDsWithoutFields = (useDs) => {
            if (!useDs) {
                return null;
            }
            const useDsWithoutFields = {};
            Object.keys(useDs).forEach(key => {
                if (key !== 'fields') {
                    useDsWithoutFields[key] = useDs[key];
                }
            });
        };
        this.getUseDs = () => {
            let useDs = {
                dataSourceId: this.props.ds.id,
                mainDataSourceId: this.props.ds.id
            };
            // TODO: can have grandparent?
            const parentWidget = this.getParentWidget(this.props.widgetId);
            const parentWidgetUseDss = (parentWidget === null || parentWidget === void 0 ? void 0 : parentWidget.useDataSources) || [];
            const useDsInParentWidget = parentWidgetUseDss.find(u => {
                const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(u.dataSourceId);
                const mainDsObj = dsObj && dsObj.getMainDataSource();
                return mainDsObj && mainDsObj.id === useDs.mainDataSourceId;
            });
            if (useDsInParentWidget) { // use data source is one of parent widget's use data sources
                useDs = this.getUseDsWithoutFields(useDsInParentWidget); // keep same view with parent widget
            }
            else {
                const rootDs = this.props.ds.getRootDataSource && this.props.ds.getRootDataSource();
                if (rootDs) {
                    useDs.rootDataSourceId = rootDs.id;
                }
            }
            if (this.props.ds.getDataSourceJson().isOutputFromWidget) {
                // If output data source, widgets should use output view, istead of the main data source.
                useDs.mainDataSourceId = this.props.ds.getMainDataSource().id;
                useDs.dataSourceId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(useDs.mainDataSourceId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID);
                useDs.dataViewId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID;
            }
            return useDs;
        };
        this.getDsLabel = (ds) => {
            if (!ds) {
                return '';
            }
            const label = ds.getLabel();
            return label || ds.id;
        };
        this.onItemClick = e => {
            if (this.getWhetherSelected()) {
                if (this.props.disableRemove) {
                    return;
                }
                this.onDsRemoved(this.getUseDs());
            }
            else {
                if (this.props.disableSelection) {
                    if (this.props.onClickDisabledDsItem) {
                        this.props.onClickDisabledDsItem();
                    }
                    return;
                }
                this.onDsSelected(this.getUseDs());
            }
        };
        this.onDsSelected = (selectedDs) => {
            if (!selectedDs) {
                return;
            }
            let useDataSources;
            if (!this.props.useDataSources || !this.props.isMultiple) {
                useDataSources = [selectedDs];
            }
            else {
                useDataSources = this.props.useDataSources.asMutable({ deep: true }).concat(selectedDs);
            }
            this.props.onChange && this.props.onChange(useDataSources);
        };
        this.onDsRemoved = (removedDs) => {
            if (!removedDs || !this.props.useDataSources) {
                return;
            }
            const selectedDsJsons = this.props.useDataSources.filter(useDs => (useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId) !== removedDs.mainDataSourceId);
            this.props.onChange && this.props.onChange(selectedDsJsons.asMutable({ deep: true }));
        };
    }
    render() {
        var _a;
        if (!this.props.ds || !this.props.ds.getDataSourceJson()) {
            return null;
        }
        const isSelected = this.getWhetherSelected();
        const label = this.getDsLabel(this.props.ds);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', onClick: this.onItemClick, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('ds-item text-left', { 'ds-item-selected': isSelected, [this.props.className]: !!this.props.className }), "aria-checked": isSelected, "aria-label": label, title: label },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'item-active-icon': isSelected }, { 'd-none': !isSelected }) },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-center item-active-icon-container' })),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center w-100 item' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail', title: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString((_a = this.props.ds) === null || _a === void 0 ? void 0 : _a.type, this.props.intl) },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(this.props.ds.getDataSourceJson()), className: 'text-dark m-0', size: '12' })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-truncate ds-type-name' }, label)))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-types.tsx":
/*!**************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-types.tsx ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsTypes)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts");



class DsTypes extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.__unmount = false;
        this.getWhetherDisableSelectionType = (types) => {
            return types.length <= 1;
        };
        this.onTypeSelected = e => {
            const t = e.target.value;
            let types;
            if (t === 'All') {
                types = null;
            }
            else {
                types = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([t]);
            }
            this.props.onTypeSelected(types);
        };
    }
    render() {
        var _a;
        const types = this.props.toUseTypes
            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(Array.from(new Set(this.props.toUseTypes.asMutable())))
            : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        const hideAll = this.props.hideAllOptionOfTypeDropdown;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex justify-content-between align-items-center to-use-types' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mr-2 w-25 text-truncate', title: this.props.intl.formatMessage({ id: 'type', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.type }) }, this.props.intl.formatMessage({ id: 'type', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.type })),
            this.getWhetherDisableSelectionType(types)
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'types-selected text-truncate mr-1', title: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(types[0], this.props.intl) }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(types[0], this.props.intl))
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: ((_a = this.props.selectedTypes) === null || _a === void 0 ? void 0 : _a[0]) || 'All', onChange: this.onTypeSelected, className: 'flex-shrink-0 to-use-dp', buttonProps: { className: 'text-truncate h-100' } },
                    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getSortedLabels)(types.asMutable()).map(t => {
                        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { value: t, key: t }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(t, this.props.intl));
                    }),
                    !hideAll && types && types.length > 1 &&
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { value: 'All' }, this.props.intl.formatMessage({ id: 'all', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.all })))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-error-item.tsx":
/*!**************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-error-item.tsx ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsErrorItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");


class DsErrorItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getWhetherSelected = () => {
            return this.props.useDataSources && this.props.useDataSources.some(useDs => {
                const dsId = (useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId) || (useDs === null || useDs === void 0 ? void 0 : useDs.dataSourceId);
                return dsId === this.props.dsId;
            });
        };
        this.getUseDs = () => {
            return {
                dataSourceId: this.props.dsId,
                mainDataSourceId: this.props.dsId
            };
        };
        this.onItemClick = () => {
            if (this.getWhetherSelected()) {
                if (this.props.disableRemove) {
                    return;
                }
                this.onDsRemoved(this.getUseDs());
            }
            else {
                if (this.props.disableSelection) {
                    return;
                }
                this.onDsSelected(this.getUseDs());
            }
        };
        this.onDsSelected = (selectedDs) => {
            if (!selectedDs) {
                return;
            }
            let useDataSources;
            if (!this.props.useDataSources || !this.props.isMultiple) {
                useDataSources = [selectedDs];
            }
            else {
                useDataSources = this.props.useDataSources.asMutable({ deep: true }).concat(selectedDs);
            }
            this.props.onChange && this.props.onChange(useDataSources);
        };
        this.onDsRemoved = (removedDs) => {
            if (!removedDs || !this.props.useDataSources) {
                return;
            }
            const selectedDsJsons = this.props.useDataSources.filter(useDs => (useDs === null || useDs === void 0 ? void 0 : useDs.dataSourceId) !== removedDs.dataSourceId);
            this.props.onChange && this.props.onChange(selectedDsJsons.asMutable({ deep: true }));
        };
    }
    render() {
        if (!this.props.dsId) {
            return null;
        }
        const isSelected = this.getWhetherSelected();
        const state = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState();
        const dataSources = state && state.appStateInBuilder && state.appStateInBuilder.appConfig && state.appStateInBuilder.appConfig.dataSources;
        const dsJson = dataSources && dataSources[this.props.dsId];
        if (!dsJson) {
            return null;
        }
        const label = dsJson.label || dsJson.sourceLabel || dsJson.id || '';
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { onClick: this.onItemClick, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('ds-item ds-error-item', { 'ds-item-selected': isSelected, [this.props.className]: !!this.props.className }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center w-100 item' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(dsJson), className: 'text-dark', size: '12' })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-truncate ds-type-name', title: label }, label)))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-item-tree.tsx":
/*!*************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-item-tree.tsx ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsItemTree)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _common_ds_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/ds-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-item.tsx");
/* harmony import */ var _data_source_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../data-source-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx");




class DsItemTree extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.renderDsItem = (ds) => {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_common_ds_item__WEBPACK_IMPORTED_MODULE_2__["default"], { useDataSources: this.props.useDataSources, ds: ds, widgetId: this.props.widgetId, key: ds.id, onChange: this.props.onChange, isMultiple: this.props.isMultiple, intl: this.props.intl, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, className: 'w-100', onClickDisabledDsItem: this.props.onClickDisabledDsItem }));
        };
        this.renderDsLabel = (label, dataSource, isRootTree) => {
            /**
             * If is root node, use root ds to get icon, else, use current child ds to get icon.
             */
            const ds = isRootTree ? this.props.ds : dataSource;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex w-100', title: label },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail', title: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(ds === null || ds === void 0 ? void 0 : ds.type, this.props.intl) },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(ds === null || ds === void 0 ? void 0 : ds.getDataSourceJson()), className: 'text-dark', size: '12' })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-truncate ds-type-name' }, label))));
        };
        this.getChildDataSources = (ds) => {
            if (ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) {
                return ds.getChildDataSources();
            }
            else {
                return [];
            }
        };
        this.getLabel = (ds) => {
            return (ds === null || ds === void 0 ? void 0 : ds.getLabel()) || (ds === null || ds === void 0 ? void 0 : ds.id);
        };
        this.toggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.state = {
            inAllToUseDss: ds => this.props.allToUseDss.some(d => d.id === ds.id),
            isOpen: this.props.isSearching
        };
    }
    componentDidUpdate(prevProps) {
        if (prevProps.allToUseDss !== this.props.allToUseDss) {
            this.setState({
                inAllToUseDss: ds => this.props.allToUseDss.some(d => d.id === ds.id)
            });
        }
        if (this.props.isSearching !== prevProps.isSearching) {
            this.setState({ isOpen: this.props.isSearching });
        }
    }
    render() {
        if (!this.props.ds) {
            return null;
        }
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-4' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_data_source_tree__WEBPACK_IMPORTED_MODULE_3__.DataSourceTree, { dataSource: this.props.ds, useDataSources: this.props.useDataSources, isNodeSelectable: this.state.inAllToUseDss, renderSelectableNode: this.renderDsItem, renderUnselectableNode: this.renderDsLabel, useDefaultBackground: true, getChildDataSources: this.getChildDataSources, getLabel: this.getLabel, 
                // After clearing search value, need to go back to status before searching.
                isOpen: this.props.isSearching ? this.state.isOpen : undefined, toggle: this.props.isSearching ? this.toggle : undefined })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-list.tsx":
/*!********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-list.tsx ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ds_error_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ds-error-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-error-item.tsx");
/* harmony import */ var _ds_item_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ds-item-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-item-tree.tsx");



class DsList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.getWhetherShowSingleDss = () => {
            return this.props.rootDss && this.props.rootDss.length > 0;
        };
        this.getSelectedErrorDss = () => {
            return this.props.useDataSources
                ? this.props.useDataSources.asMutable().filter(useDs => {
                    return !(this.dsManager && this.dsManager.getDataSource(useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId));
                }).map(useDs => useDs.mainDataSourceId)
                : null;
        };
        this.state = {
            isTypeDropdownOpen: false,
            selectedErrorDss: null
        };
    }
    componentDidMount() {
        if (this.props.showErrorDss) {
            const selectedErrorDss = this.getSelectedErrorDss();
            this.setState({ selectedErrorDss });
            if (selectedErrorDss && selectedErrorDss.length > 0) {
                this.props.changeHasErrorSelectedDss && this.props.changeHasErrorSelectedDss(true);
            }
            else {
                this.props.changeHasErrorSelectedDss && this.props.changeHasErrorSelectedDss(false);
            }
        }
    }
    componentDidUpdate(prevProps) {
        if (this.props.showErrorDss) {
            if ((!this.state.selectedErrorDss || this.state.selectedErrorDss.length === 0) &&
                (!prevProps.useDataSources || prevProps.useDataSources.length === 0) &&
                (this.props.useDataSources && this.props.useDataSources.length !== 0)) {
                const selectedErrorDss = this.getSelectedErrorDss();
                this.setState({ selectedErrorDss });
                if (selectedErrorDss && selectedErrorDss.length > 0) {
                    this.props.changeHasErrorSelectedDss && this.props.changeHasErrorSelectedDss(true);
                }
                else {
                    this.props.changeHasErrorSelectedDss && this.props.changeHasErrorSelectedDss(false);
                }
            }
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'ds-list px-4 pt-1', role: 'listbox' },
            this.props.showErrorDss && this.state.selectedErrorDss &&
                this.state.selectedErrorDss.map(dsId => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_ds_error_item__WEBPACK_IMPORTED_MODULE_1__["default"], { useDataSources: this.props.useDataSources, dsId: dsId, key: dsId, onChange: this.props.onChange, isMultiple: this.props.isMultiple, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, intl: this.props.intl, className: 'mb-4 ml-5', widgetId: this.props.widgetId }));
                }),
            this.getWhetherShowSingleDss() &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getSortedArrayByLabel(this.props.rootDss).map(ds => {
                    if (ds && ds.id) {
                        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_ds_item_tree__WEBPACK_IMPORTED_MODULE_2__["default"], { useDataSources: this.props.useDataSources, ds: ds, key: ds.id, onChange: this.props.onChange, isMultiple: this.props.isMultiple, allToUseDss: this.props.allToUseDss, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, intl: this.props.intl, widgetId: this.props.widgetId, isSearching: this.props.isSearching, onClickDisabledDsItem: this.props.onClickDisabledDsItem }));
                    }
                    return null;
                })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/index.tsx":
/*!******************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/index.tsx ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DataSourceAddedData)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ds_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ds-list */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/ds-list.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var jimu_icons_outlined_application_empty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/application/empty */ "./jimu-icons/outlined/application/empty.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable multiline-ternary */






/**
 * Prepare all needed data in the component, including to-use root data sources, to-use child data sources (including descendant data sources).
 * **To-use data source** means the data source meets all of the following conditions and it can be list here:
 * 1. type of the data source is in `selectedTypes` array (if there is `selectedTypes`), or, in `types` array
 * 2. label of the data source matches the `searchValue` (if there is `searchValue`)
 * 3. parent data source of the data source is in `fromRootDsIds` array (if there is `fromRootDsIds`)
 * 4. the data source is in `fromDsIds` array (if there is `fromDsIds`)
 *
 * The reasons why prepare the needed data here rather than in the component which use the data directly:
 * 1. can not know whether to show the empty icon util we get all the needed data, that is to say,
 *    the empty icon should show only when there isn't any data can be list
 * 2. there are multilple conditions (see above) to decide whether a data source can be list here,
 *    preparing data before use it can prevent from executing these logic multiple times
 */
class DataSourceAddedData extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.initData = () => {
            // when init data, all types of data sources will be in the list
            this.setToUseDataSources(this.props.selectedTypes || this.props.types, this.props.fromRootDsIds, this.props.fromDsIds, this.props.hideDs, this.props.searchValue);
        };
        this.setHasErrorDss = (hasErrorDss) => { this.setState({ hasErrorSelectedDss: hasErrorDss }); };
        this.setToUseDataSources = (toUseTypes, fromRootDsIds, fromDsIds, hideDs, searchValue) => {
            const toUseRootDss = this.getToUseRootDss(toUseTypes, fromRootDsIds, fromDsIds, hideDs, searchValue);
            this.getToUseChildDss(toUseTypes, fromRootDsIds, fromDsIds, hideDs, searchValue).then(toUseChildDss => {
                if (!this.__unmount) {
                    this.setState({
                        toUseRootDss,
                        toUseChildDss
                    });
                }
            });
        };
        this.getRootDss = () => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getConfiguredDataSources().filter(ds => ds && ds.id && ds.getDataSourceJson() && !ds.parentDataSource);
        };
        this.getToUseRootDss = (toUseTypes, fromRootDsIds, fromDsIds, hideDs, searchValue) => {
            // if only need to list child data sources from some root data sources, return an empty array
            return fromRootDsIds
                ? []
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getConfiguredDataSources().filter(ds => ds && !ds.parentDataSource && this.props.dataSources && this.props.dataSources[ds.id] &&
                    (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getWhetherUseDataSource)(ds.getDataSourceJson(), toUseTypes) && this.isValid(ds, fromDsIds, hideDs, searchValue));
        };
        this.getToUseChildDss = (toUseTypes, fromRootDsIds, fromDsIds, hideDs, searchValue) => __awaiter(this, void 0, void 0, function* () {
            let rootDss;
            if (fromRootDsIds) {
                rootDss = fromRootDsIds.asMutable().map(dsId => jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId));
            }
            else {
                rootDss = this.getRootDss();
            }
            return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getToUseChildDss)(rootDss, toUseTypes).then(toUseChildDss => {
                const realToUseChildDss = {};
                Object.keys(toUseChildDss).forEach(rootDsId => {
                    if (toUseChildDss[rootDsId].some(ds => this.isValid(ds, fromDsIds, hideDs, searchValue))) {
                        realToUseChildDss[rootDsId] = toUseChildDss[rootDsId].filter(ds => this.isValid(ds, fromDsIds, hideDs, searchValue));
                    }
                });
                return realToUseChildDss;
            });
        });
        this.isValid = (ds, fromDsIds, hideDs, searchValue) => {
            return ds && ds.getDataSourceJson() && !ds.getDataSourceJson().isOutputFromWidget && !ds.isDataView && !ds.isLocal && !ds.getDataSourceJson().isHidden &&
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isFuzzySearch)(ds.getLabel(), searchValue) && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isFuzzyFromDsIds)(ds.getDataSourceJson(), fromDsIds, hideDs);
        };
        this.getWhetherShowList = () => {
            return this.getWhetherShowRootDss() || this.getWhetherShowChildDss() || !!(this.state.hasErrorSelectedDss && this.props.useDataSources);
        };
        this.getWhetherShowRootDss = () => {
            return this.state.toUseRootDss && this.state.toUseRootDss.length > 0;
        };
        this.getWhetherShowChildDss = () => {
            return this.state.toUseChildDss && Object.keys(this.state.toUseChildDss).length > 0;
        };
        this.state = {
            toUseRootDss: null,
            toUseChildDss: null,
            hasErrorSelectedDss: true
        };
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.props.isDataSourceInited) {
            this.initData();
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (this.props.isDataSourceInited) {
            if (prevProps.selectedTypes !== this.props.selectedTypes || prevProps.fromRootDsIds !== this.props.fromRootDsIds ||
                prevProps.fromDsIds !== this.props.fromDsIds || prevProps.searchValue !== this.props.searchValue ||
                prevProps.dataSources !== this.props.dataSources) {
                if (this.props.selectedTypes) { // when select a type, data sources with selected type will be in the list
                    this.setToUseDataSources(this.props.selectedTypes, this.props.fromRootDsIds, this.props.fromDsIds, this.props.hideDs, this.props.searchValue);
                }
                else {
                    this.setToUseDataSources(this.props.types, this.props.fromRootDsIds, this.props.fromDsIds, this.props.hideDs, this.props.searchValue);
                }
            }
            if (prevProps.types !== this.props.types || !prevProps.isDataSourceInited || prevProps.dataSources !== this.props.dataSources) {
                this.initData();
            }
            if (this.state.toUseRootDss !== prevState.toUseRootDss || this.state.toUseChildDss !== prevState.toUseChildDss) {
                if (!this.getWhetherShowList()) {
                    this.props.removeDataTab(_utils__WEBPACK_IMPORTED_MODULE_3__.DataSourceTab.Added);
                }
                else {
                    this.props.addDataTab(_utils__WEBPACK_IMPORTED_MODULE_3__.DataSourceTab.Added);
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        var _a, _b;
        const types = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getAddedDataTypes)(this.props.types);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'ds-added-data h-100 w-100' }, types && types.length > 0
            ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'h-100' }, this.getWhetherShowList()
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_ds_list__WEBPACK_IMPORTED_MODULE_2__["default"], { rootDss: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getAllToUseRootDss)(this.state.toUseRootDss, this.state.toUseChildDss), allToUseDss: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getAllToUseDss)(this.state.toUseRootDss, this.state.toUseChildDss), onChange: this.props.onChange, isMultiple: this.props.isMultiple, changeHasErrorSelectedDss: this.setHasErrorDss, useDataSources: this.props.useDataSources, showErrorDss: true, disableRemove: this.props.disableRemove, disableSelection: this.props.disableSelection, intl: this.props.intl, widgetId: this.props.widgetId, isSearching: !!this.props.searchValue, onClickDisabledDsItem: this.props.onClickDisabledDsItem })
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, ((_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) && this.props.isDataSourceInited &&
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder w-100' },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder-icon' },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_application_empty__WEBPACK_IMPORTED_MODULE_5__.EmptyOutlined, { size: 48 })),
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder-text', dangerouslySetInnerHTML: {
                                // eslint-disable-next-line max-len
                                __html: `${this.props.intl.formatMessage({ id: 'noAddedDataSourceCanBeUsed', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.noAddedDataSourceCanBeUsed })}<br/>${this.props.intl.formatMessage({ id: 'pleaseAddData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.pleaseAddData })}`
                            } })))) : this.props.intl.formatMessage({ id: 'noSelectedType', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.noSelectedType })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/index.tsx":
/*!**********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/index.tsx ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DataSourceWidgetOutputs)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var _output_ds_item_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./output-ds-item-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/output-ds-item-tree.tsx");
/* harmony import */ var jimu_icons_outlined_application_empty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/application/empty */ "./jimu-icons/outlined/application/empty.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable multiline-ternary */






class DataSourceWidgetOutputs extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.initData = () => {
            /**
             * Exclude output data sources generated by this widget.
             */
            const excludeWidgetId = this.props.enableToSelectOutputDsFromSelf ? null : this.props.widgetId;
            this.setToUseDataSources(this.props.selectedTypes || this.props.types, this.props.fromRootDsIds, this.props.fromDsIds, this.props.hideDs, this.props.searchValue, excludeWidgetId);
        };
        this.setToUseDataSources = (usedTypes, fromRootDsIds, fromDsIds, hideDs, searchValue, widgetId) => {
            const toUseRootDss = this.getToUseRootDss(usedTypes, fromRootDsIds, fromDsIds, hideDs, searchValue, widgetId);
            this.getToUseChildDss(usedTypes, fromRootDsIds, fromDsIds, hideDs, searchValue).then(toUseChildDss => {
                const toUseWidgets = this.getToUseWidgets(toUseRootDss, toUseChildDss);
                if (!this.__unmount) {
                    this.setState({
                        toUseRootDss,
                        toUseChildDss,
                        toUseWidgets
                    });
                }
            });
        };
        this.getRootDss = () => {
            const rootDss = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getWidgetGeneratedDataSources();
            Object.keys(rootDss).forEach(wId => {
                rootDss[wId] = rootDss[wId].filter(ds => ds && ds.id && ds.getDataSourceJson());
            });
            return rootDss;
        };
        this.getToUseWidgets = (toUseRootDss, toUseChildDss) => {
            var _a, _b;
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils.getAllWidgets((_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig).filter(wJson => toUseRootDss[wJson.id] ||
                (this.getRootDss()[wJson.id] && this.getRootDss()[wJson.id].some(rootDs => !!toUseChildDss[rootDs.id])));
        };
        this.getToUseRootDss = (usedTypes, fromRootDsIds, fromDsIds, hideDs, searchValue, excludeWidgetId) => {
            const toUseRootDss = {};
            // if only need to list child data sources from some root data sources, return an empty object
            if (fromRootDsIds) {
                return toUseRootDss;
            }
            const widgetOutputRootDss = this.getRootDss();
            Object.keys(widgetOutputRootDss).forEach(wId => {
                const dss = widgetOutputRootDss[wId].filter(ds => ds && !ds.parentDataSource && this.props.dataSources && this.props.dataSources[ds.id] &&
                    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getWhetherUseDataSource)(ds.getDataSourceJson(), usedTypes) && this.isValid(ds, fromDsIds, hideDs, searchValue));
                if (dss && dss.length > 0) {
                    if (!toUseRootDss[wId]) {
                        toUseRootDss[wId] = [];
                    }
                    toUseRootDss[wId] = toUseRootDss[wId].concat(dss);
                }
            });
            const allExcludeWidgetIds = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getWidgetsUsingOutputDsFromOneWidget)(excludeWidgetId);
            Object.keys(toUseRootDss).forEach(wId => {
                // If no output data sources can be used, or, current widget should be excluded, delete it.
                if (toUseRootDss[wId].length === 0 || allExcludeWidgetIds.some(excludeWId => excludeWId === wId)) {
                    delete toUseRootDss[wId];
                }
            });
            return toUseRootDss;
        };
        this.getToUseChildDss = (usedTypes, fromRootDsIds, fromDsIds, hideDs, searchValue) => __awaiter(this, void 0, void 0, function* () {
            let rootDss = [];
            if (fromRootDsIds) {
                rootDss = fromRootDsIds.asMutable().map(dsId => jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId));
            }
            else {
                const widgetOutputRootDss = this.getRootDss();
                Object.keys(widgetOutputRootDss).forEach(wId => {
                    rootDss = rootDss.concat(widgetOutputRootDss[wId]);
                });
            }
            return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getToUseChildDss)(rootDss, usedTypes).then(toUseChildDss => {
                const realToUseChildDss = {};
                Object.keys(toUseChildDss).forEach(rootDsId => {
                    if (toUseChildDss[rootDsId].some(ds => this.isValid(ds, fromDsIds, hideDs, searchValue))) {
                        realToUseChildDss[rootDsId] = toUseChildDss[rootDsId].filter(ds => this.isValid(ds, fromDsIds, hideDs, searchValue));
                    }
                });
                return realToUseChildDss;
            });
        });
        this.getToUseChildDssByWidgetId = (wId) => {
            const toUseDss = {};
            this.getRootDss()[wId].forEach(rootDs => {
                if (!toUseDss[rootDs.id]) {
                    toUseDss[rootDs.id] = [];
                }
                toUseDss[rootDs.id] = this.state.toUseChildDss[rootDs.id]
                    ? toUseDss[rootDs.id].concat(this.state.toUseChildDss[rootDs.id])
                    : toUseDss[rootDs.id];
            });
            Object.keys(toUseDss).forEach(rootId => {
                if (toUseDss[rootId].length === 0) {
                    delete toUseDss[rootId];
                }
            });
            return toUseDss;
        };
        this.isValid = (ds, fromDsIds, hideDs, searchValue) => {
            return ds && ds.getDataSourceJson() && ds.getDataSourceJson().isOutputFromWidget && !ds.isDataView && !ds.isLocal && !ds.getDataSourceJson().isHidden &&
                (0,_utils__WEBPACK_IMPORTED_MODULE_3__.isFuzzySearch)(ds.getLabel(), searchValue) && (0,_utils__WEBPACK_IMPORTED_MODULE_3__.isFuzzyFromDsIds)(ds.getDataSourceJson(), fromDsIds, hideDs);
        };
        this.getWhetherShowList = () => {
            return this.getWhetherShowRootDss() || this.getWhetherShowChildDss();
        };
        this.getWhetherShowRootDss = () => {
            return this.state.toUseRootDss && Object.keys(this.state.toUseRootDss).length > 0;
        };
        this.getWhetherShowChildDss = () => {
            return this.state.toUseChildDss && Object.keys(this.state.toUseChildDss).length > 0;
        };
        this.state = {
            toUseRootDss: null,
            toUseChildDss: null,
            toUseWidgets: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.props.isDataSourceInited) {
            this.initData();
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (this.props.isDataSourceInited) {
            if (prevProps.selectedTypes !== this.props.selectedTypes || prevProps.fromRootDsIds !== this.props.fromRootDsIds ||
                prevProps.fromDsIds !== this.props.fromDsIds || prevProps.searchValue !== this.props.searchValue ||
                prevProps.dataSources !== this.props.dataSources) {
                /**
                 * Exclude output data sources generated by this widget.
                 */
                const excludeWidgetId = this.props.enableToSelectOutputDsFromSelf ? null : this.props.widgetId;
                const types = this.props.selectedTypes || this.props.types;
                this.setToUseDataSources(types, this.props.fromRootDsIds, this.props.fromDsIds, this.props.hideDs, this.props.searchValue, excludeWidgetId);
            }
            if (prevProps.types !== this.props.types || !prevProps.isDataSourceInited || prevProps.dataSources !== this.props.dataSources) {
                this.initData();
            }
            if (this.state.toUseRootDss !== prevState.toUseRootDss || this.state.toUseChildDss !== prevState.toUseChildDss) {
                if (!this.getWhetherShowList()) {
                    this.props.removeDataTab(_utils__WEBPACK_IMPORTED_MODULE_2__.DataSourceTab.Output);
                }
                else {
                    this.props.addDataTab(_utils__WEBPACK_IMPORTED_MODULE_2__.DataSourceTab.Output);
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        var _a, _b;
        if (!this.state.toUseChildDss || !this.state.toUseRootDss || !this.state.toUseWidgets) {
            return null;
        }
        const types = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getOutputTypes)(this.props.types);
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'ds-widget-outputs h-100 w-100' }, types && types.length > 0
            ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'h-100' }, this.getWhetherShowList()
                ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'ds-list px-4 pt-1', role: 'listbox' }, this.state.toUseWidgets.map(w => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_output_ds_item_tree__WEBPACK_IMPORTED_MODULE_4__["default"], { key: w.id, widgetJson: w, allToUseDss: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getAllToUseDss)(this.state.toUseRootDss[w.id], this.getToUseChildDssByWidgetId(w.id)), allToUseRootDss: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getAllToUseRootDss)(this.state.toUseRootDss[w.id], this.getToUseChildDssByWidgetId(w.id)), useDataSources: this.props.useDataSources, isMultiple: this.props.isMultiple, intl: this.props.intl, widgetId: this.props.widgetId, onChange: this.props.onChange, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, isSearching: !!this.props.searchValue }));
                }))
                : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null, ((_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) && this.props.isDataSourceInited &&
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder w-100' },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder-icon' },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_application_empty__WEBPACK_IMPORTED_MODULE_5__.EmptyOutlined, { size: 48 })),
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'empty-placeholder-text', dangerouslySetInnerHTML: {
                                // eslint-disable-next-line max-len
                                __html: `${this.props.intl.formatMessage({ id: 'noWidgetOutputCanBeUsed', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.noWidgetOutputCanBeUsed })}<br/>${this.props.intl.formatMessage({ id: 'pleaseAddData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.pleaseAddData })}`
                            } })))) : this.props.intl.formatMessage({ id: 'noSelectedType', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.noSelectedType })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/output-ds-item-tree.tsx":
/*!************************************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/output-ds-item-tree.tsx ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ OutputDsItemTree)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _common_ds_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/ds-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-item.tsx");
/* harmony import */ var _data_source_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../data-source-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx");




class OutputDsItemTree extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getRootNode = (nodeJson) => {
            var _a;
            if ((_a = nodeJson.manifest.properties) === null || _a === void 0 ? void 0 : _a.canGenerateMultipleOutputDataSources) {
                return nodeJson;
            }
            else {
                return this.getChildNodes(nodeJson)[0];
            }
        };
        this.getChildNodes = (nodeJson) => {
            const isWidgetNode = nodeJson.manifest;
            if (isWidgetNode) {
                return this.props.allToUseRootDss.map(d => d.getDataSourceJson());
            }
            else {
                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(nodeJson.id);
                if (ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) {
                    return ds.getChildDataSources().map(d => d.getDataSourceJson());
                }
                else {
                    return [];
                }
            }
        };
        this.getLabel = (nodeJson) => {
            return nodeJson.label;
        };
        this.renderUnselectableNode = (label, widgetJson) => {
            const icon = typeof widgetJson.icon === 'string' ? widgetJson.icon : (widgetJson.icon && widgetJson.icon.svg);
            const color = typeof widgetJson.icon === 'string' ? null : (widgetJson.icon && widgetJson.icon.properties && widgetJson.icon.properties.color);
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex w-100', title: label },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: icon, color: color, size: '12' })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-truncate ds-type-name' }, label))));
        };
        this.renderSelectableNode = (dsJson) => {
            if (!dsJson) {
                return null;
            }
            let ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id);
            if (ds.getDataSourceJson().isOutputFromWidget) {
                ds = ds.getMainDataSource().getDataView(jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID);
            }
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_common_ds_item__WEBPACK_IMPORTED_MODULE_2__["default"], { useDataSources: this.props.useDataSources, ds: ds, widgetId: this.props.widgetId, key: ds.id, onChange: this.props.onChange, isMultiple: this.props.isMultiple, intl: this.props.intl, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, className: 'w-100' }));
        };
        this.toggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.state = {
            isNodeSelectable: (nodeJson) => this.props.allToUseDss.some(d => d.id === nodeJson.id),
            isOpen: this.props.isSearching
        };
    }
    componentDidUpdate(prevProps) {
        if (prevProps.allToUseDss !== this.props.allToUseDss) {
            this.setState({
                isNodeSelectable: (nodeJson) => this.props.allToUseDss.some(d => d.id === nodeJson.id)
            });
        }
        if (this.props.isSearching !== prevProps.isSearching) {
            this.setState({ isOpen: this.props.isSearching });
        }
    }
    render() {
        if (!this.props.widgetJson || !this.props.allToUseRootDss) {
            return null;
        }
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mb-4' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_data_source_tree__WEBPACK_IMPORTED_MODULE_3__.DataSourceTree, { dataSource: this.getRootNode(this.props.widgetJson), useDataSources: this.props.useDataSources, isNodeSelectable: this.state.isNodeSelectable, renderSelectableNode: this.renderSelectableNode, renderUnselectableNode: this.renderUnselectableNode, useDefaultBackground: true, getChildDataSources: this.getChildNodes, getLabel: this.getLabel, 
                // After clearing search value, need to go back to status before searching.
                isOpen: this.props.isSearching ? this.state.isOpen : undefined, toggle: this.props.isSearching ? this.toggle : undefined })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/index.tsx":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/index.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceList: () => (/* binding */ DataSourceList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _external_data_source_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../external-data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/index.tsx");
/* harmony import */ var _components_ds_widget_outputs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/ds-widget-outputs */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-widget-outputs/index.tsx");
/* harmony import */ var _components_ds_added_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/ds-added-data */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/ds-added-data/index.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts");
/* harmony import */ var _components_common_ds_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/common/ds-types */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/components/common/ds-types.tsx");
/* harmony import */ var _external_data_source_selector_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../external-data-source-selector/utils */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/utils.ts");
/* harmony import */ var jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/editor/plus */ "./jimu-icons/outlined/editor/plus.tsx");
/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ "./jimu-icons/outlined/editor/search.tsx");
/** @jsx jsx */











class _DataSourceList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.externalDsStyle = { width: '100%', height: '100%', maxWidth: '5000px', margin: 0 };
        this.__unmount = false;
        this.showExternalDs = () => {
            this.setState({ isExternalDsShown: true });
        };
        this.addDataTab = (tab) => {
            if (!this.props.hideTabs && !this.state.dataTabs.some(t => t === tab)) {
                this.setState({ dataTabs: this.state.dataTabs.concat(tab) });
            }
        };
        this.removeDataTab = (tab) => {
            if (!this.props.hideTabs && this.state.dataTabs.some(t => t === tab)) {
                this.setState({ dataTabs: this.state.dataTabs.filter(t => t !== tab) });
            }
        };
        this.onActiveTabChange = (tab) => {
            this.setState({ activeTab: tab });
        };
        this.onSelectDataFinished = (dsJsons) => {
            if (!dsJsons) {
                this.setState({ isExternalDsShown: false });
                return;
            }
            if (this.state.getAppConfigAction) {
                const getAppConfigAction = this.state.getAppConfigAction;
                getAppConfigAction().addDataSources(dsJsons).exec();
                Promise.all(dsJsons.map(dsJson => jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource(dsJson))).catch(err => {
                    var _a, _b;
                    if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toUpperCase()) === null || _b === void 0 ? void 0 : _b.includes(_external_data_source_selector_utils__WEBPACK_IMPORTED_MODULE_8__.AddDataErrorCode.WebMapUnsupportedVersion)) {
                        this.setState({ errorMsg: this.props.intl.formatMessage({ id: 'addDataErrorUnsupportedMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addDataErrorUnsupportedMap }) });
                    }
                    else {
                        // If cancele the sign in, shouldn't show error.
                        if ((err === null || err === void 0 ? void 0 : err.code) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.SignInErrorCode.SignInCanceled) {
                            if (err === null || err === void 0 ? void 0 : err.isSignInError) {
                                this.setState({ errorMsg: err.message1 });
                            }
                            else {
                                this.setState({ errorMsg: this.props.intl.formatMessage({ id: 'invalidResourceItem', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.invalidResourceItem }) });
                            }
                        }
                    }
                    setTimeout(() => {
                        this.setState({ errorMsg: null });
                    }, 5000);
                });
                this.props.changeInitStatus && this.props.changeInitStatus(false);
                if (!this.__unmount) {
                    this.setState({
                        isExternalDsShown: false,
                        activeTab: this.state.dataTabs.some(t => t === _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Added) ? _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Added : this.state.activeTab
                    });
                }
            }
            else {
                console.error('Can not load jimu-for-builder');
            }
        };
        this.onSelectDataCanceled = () => {
            this.setState({ isExternalDsShown: false });
        };
        this.onToggleExternalDs = () => {
            this.setState({ isExternalDsShown: !this.state.isExternalDsShown });
        };
        this.onSearchValueChange = e => {
            this.setState({ searchValue: e.target.value });
        };
        this.setSelectedType = (types) => {
            this.setState({ selectedTypes: types });
        };
        this.ExternalDs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_external_data_source_selector__WEBPACK_IMPORTED_MODULE_3__.ExternalDataSourceSelector, { portalUrl: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl, onCancel: this.onSelectDataCanceled, onFinish: this.onSelectDataFinished, isMultiple: true, types: this.props.types });
        const dataTabs = [_utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Added, _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Output].filter(t => { var _a; return !((_a = this.props.hideTabs) === null || _a === void 0 ? void 0 : _a.includes(t)); });
        this.state = {
            isExternalDsShown: false,
            getAppConfigAction: null,
            searchValue: '',
            dataTabs,
            activeTab: dataTabs[0],
            selectedTypes: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getDefaultSelectedTypes)(this.props.types, this.props.useDataSources, this.props.hideAllOptionOfTypeDropdown),
            errorMsg: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder').then(JimuForBuilder => {
            if (!this.__unmount) {
                this.setState({
                    getAppConfigAction: JimuForBuilder.getAppConfigAction
                });
            }
        });
    }
    componentDidUpdate(prevProps) {
        if (prevProps.types !== this.props.types) {
            this.setSelectedType((0,_utils__WEBPACK_IMPORTED_MODULE_6__.getDefaultSelectedTypes)(this.props.types, this.props.useDataSources, this.props.hideAllOptionOfTypeDropdown));
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        var _a;
        if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance()) {
            return null;
        }
        const onlyUseAdded = this.state.dataTabs.length === 1 && this.state.dataTabs[0] === _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Added;
        const onlyUseOutput = this.state.dataTabs.length === 1 && this.state.dataTabs[0] === _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Output;
        const AddedData = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ds_added_data__WEBPACK_IMPORTED_MODULE_5__["default"], { types: this.props.types, selectedTypes: this.state.selectedTypes, isDataSourceInited: this.props.isDataSourceInited, useDataSources: this.props.useDataSources, onChange: this.props.onChange, isMultiple: this.props.isMultiple, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, intl: this.props.intl, fromRootDsIds: this.props.fromRootDsIds, hideTypeDropdown: this.props.hideTypeDropdown, widgetId: this.props.widgetId, searchValue: this.state.searchValue, fromDsIds: this.props.fromDsIds, dataSources: this.props.dataSources, hideDs: this.props.hideDs, removeDataTab: this.removeDataTab, addDataTab: this.addDataTab, hideAllOptionOfTypeDropdown: this.props.hideAllOptionOfTypeDropdown, onClickDisabledDsItem: this.props.onClickDisabledDsItem }));
        const WidgetOutput = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ds_widget_outputs__WEBPACK_IMPORTED_MODULE_4__["default"], { types: this.props.types, selectedTypes: this.state.selectedTypes, isDataSourceInited: this.props.isDataSourceInited, useDataSources: this.props.useDataSources, onChange: this.props.onChange, isMultiple: this.props.isMultiple, disableSelection: this.props.disableSelection, disableRemove: this.props.disableRemove, intl: this.props.intl, fromRootDsIds: this.props.fromRootDsIds, hideTypeDropdown: this.props.hideTypeDropdown, searchValue: this.state.searchValue, dataSources: this.props.dataSources, widgetId: this.props.widgetId, fromDsIds: this.props.fromDsIds, hideDs: this.props.hideDs, enableToSelectOutputDsFromSelf: this.props.enableToSelectOutputDsFromSelf, removeDataTab: this.removeDataTab, addDataTab: this.addDataTab, hideAllOptionOfTypeDropdown: this.props.hideAllOptionOfTypeDropdown }));
        const DsTabs = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tabs, { type: 'pills', fill: true, className: 'data-tabs', value: this.state.activeTab, onChange: this.onActiveTabChange },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Added, title: this.props.intl.formatMessage({ id: 'added', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.added }) }, AddedData),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: _utils__WEBPACK_IMPORTED_MODULE_6__.DataSourceTab.Output, title: this.props.intl.formatMessage({ id: 'outputs', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.outputs }) }, WidgetOutput)));
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-data-source-list h-100 w-100' },
                !this.props.hideHeader &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-list-header jimu-widget-setting--header d-flex px-4 py-0', title: this.props.intl.formatMessage({ id: 'setDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.setDataSource }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.PanelHeader, { level: 1, className: 'py-4', showClose: !!this.props.onCloseClick, onClose: this.props.onCloseClick, title: this.props.intl.formatMessage({ id: 'setDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.setDataSource }) })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 px-4 mb-4 search' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { prefix: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_10__.SearchOutlined, { size: 'm', className: 'search-icon' }), value: this.state.searchValue, onChange: this.onSearchValueChange, className: 'search-input', placeholder: this.props.intl.formatMessage({ id: 'search', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.search }), size: 'sm' })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 px-4' }, !this.props.hideTypeDropdown && ((_a = this.props.types) === null || _a === void 0 ? void 0 : _a.length) > 0 &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-types my-4' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_common_ds_types__WEBPACK_IMPORTED_MODULE_7__["default"], { toUseTypes: this.props.types, onTypeSelected: this.setSelectedType, selectedTypes: this.state.selectedTypes, intl: this.props.intl, hideAllOptionOfTypeDropdown: this.props.hideAllOptionOfTypeDropdown }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 ds-list-container' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-list-tabs h-100' }, onlyUseAdded
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100' },
                            AddedData,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-none' }, WidgetOutput))
                        : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100' }, onlyUseOutput
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100' },
                                WidgetOutput,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-none' }, AddedData))
                            : DsTabs)),
                    (!this.props.disableAddData && !this.props.hideAddDataButton) &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', className: ' d-flex align-items-center px-4 ds-add-data text-left jimu-outline-inside', onClick: this.showExternalDs, title: this.props.intl.formatMessage({ id: 'addNewData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addNewData }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'add-data-icon-container d-flex align-items-center justify-content-center mr-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_9__.PlusOutlined, { size: 's', className: 'add-data-icon m-0' })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate flex-grow-1' }, this.props.intl.formatMessage({ id: 'addNewData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addNewData })))),
                !this.props.isDataSourceInited
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'jimu-secondary-loading' })
                    : null),
            this.state.isExternalDsShown
                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Modal, { isOpen: this.state.isExternalDsShown, style: this.externalDsStyle, toggle: this.onToggleExternalDs, contentClassName: 'h-100', className: 'widget-ds-setting-add-data-popup', keyboard: false }, this.ExternalDs)
                : null,
            this.state.errorMsg && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Alert, { className: 'w-100', css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `position: absolute; bottom: 40px;`, closable: true, form: 'basic', onClose: () => { this.setState({ errorMsg: null }); }, open: true, text: this.state.errorMsg, type: 'warning', withIcon: true })));
    }
}
const mapStateToProps = (state) => {
    var _a, _b, _c, _d;
    return {
        dataSources: ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.dataSources : (_d = state.appConfig) === null || _d === void 0 ? void 0 : _d.dataSources
    };
};
const DataSourceList = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_2__.withStyles)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_DataSourceList)), 'DataSourceList');


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts":
/*!****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/utils.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceTab: () => (/* binding */ DataSourceTab),
/* harmony export */   getAddedDataTypes: () => (/* binding */ getAddedDataTypes),
/* harmony export */   getAllToUseDss: () => (/* binding */ getAllToUseDss),
/* harmony export */   getAllToUseRootDss: () => (/* binding */ getAllToUseRootDss),
/* harmony export */   getDefaultSelectedTypes: () => (/* binding */ getDefaultSelectedTypes),
/* harmony export */   getOutputTypes: () => (/* binding */ getOutputTypes),
/* harmony export */   getSortedLabels: () => (/* binding */ getSortedLabels),
/* harmony export */   getToUseChildDss: () => (/* binding */ getToUseChildDss),
/* harmony export */   getWhetherUseDataSource: () => (/* binding */ getWhetherUseDataSource),
/* harmony export */   traverseGetToUseDss: () => (/* binding */ traverseGetToUseDss)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function traverseGetToUseDss(parentDs, toUseDss, toUseTypes) {
    if (!parentDs.isDataSourceSet) {
        return;
    }
    parentDs.getChildDataSources().forEach((ds) => {
        if (!ds || !ds.getDataSourceJson() || !ds.id) {
            return;
        }
        if (getWhetherUseDataSource(ds.getDataSourceJson(), toUseTypes)) {
            toUseDss.push(ds);
        }
        traverseGetToUseDss(ds, toUseDss, toUseTypes);
    });
}
function getWhetherUseDataSource(dsJson, toUseTypes) {
    if (!dsJson) {
        return false;
    }
    return toUseTypes.some(curDsType => dsJson.type && (curDsType === dsJson.type));
}
function getToUseChildDss(rootDss, toUseTypes) {
    const toUseDss = {};
    if (toUseTypes.length === 0) {
        return Promise.resolve(toUseDss);
    }
    return Promise.all(rootDss.filter(rootDs => rootDs && rootDs.id && !rootDs.getDataSourceJson().isHidden && rootDs.isDataSourceSet && !rootDs.isDataView && !rootDs.isLocal).map(rootDs => {
        if (!toUseDss[rootDs.id]) {
            toUseDss[rootDs.id] = [];
        }
        traverseGetToUseDss(rootDs, toUseDss[rootDs.id], toUseTypes);
        return toUseDss[rootDs.id];
    })).then(() => {
        Object.keys(toUseDss).forEach(rootId => {
            if (toUseDss[rootId].length === 0) {
                delete toUseDss[rootId];
            }
        });
        return toUseDss;
    });
}
function getSortedLabels(labels) {
    return labels.sort((l1, l2) => l1 === null || l1 === void 0 ? void 0 : l1.localeCompare(l2));
}
function getAddedDataTypes(types) {
    if (!types) {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
    }
    return types.filter(t => !!t);
}
function getOutputTypes(types) {
    if (!types) {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
    }
    return types.filter(t => !!t);
}
/**
 * Return all root data sources, which self is [to-use data sources](./components/ds-added-data.tsx) or which contains to-use child data sources.
 */
function getAllToUseRootDss(toUseRootDss, toUseChildDss) {
    let allToUseRootDss = toUseRootDss || [];
    toUseChildDss && Object.keys(toUseChildDss).forEach(rootDsId => {
        if (!allToUseRootDss.some(ds => ds.id === rootDsId)) {
            const rootDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(rootDsId);
            if (rootDs) {
                allToUseRootDss = allToUseRootDss.concat(rootDs);
            }
        }
    });
    return allToUseRootDss;
}
/**
 * Return all [to-use data sources](./components/ds-added-data.tsx).
 */
function getAllToUseDss(toUseRootDss, toUseChildDss) {
    let allToUseRootDss = toUseRootDss || [];
    toUseChildDss && Object.values(toUseChildDss).forEach(dss => {
        if (dss && dss.length > 0) {
            allToUseRootDss = allToUseRootDss.concat(dss);
        }
    });
    return allToUseRootDss;
}
var DataSourceTab;
(function (DataSourceTab) {
    DataSourceTab["Added"] = "ADDED";
    DataSourceTab["Output"] = "OUTPUT"; // widgets output data
})(DataSourceTab || (DataSourceTab = {}));
function getDefaultSelectedTypes(types, useDataSources, hideAllOptionOfTypeDropdown) {
    var _a;
    if (!hideAllOptionOfTypeDropdown) {
        // Use `All` as default.
        return null;
    }
    else {
        if ((useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources.length) > 0) {
            const firstSelectedDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource((_a = useDataSources[0]) === null || _a === void 0 ? void 0 : _a.dataSourceId);
            const firstSelectedDsType = firstSelectedDs === null || firstSelectedDs === void 0 ? void 0 : firstSelectedDs.type;
            return firstSelectedDsType && (types === null || types === void 0 ? void 0 : types.includes(firstSelectedDsType)) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([firstSelectedDsType]) : ((types === null || types === void 0 ? void 0 : types[0]) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([types[0]]) : null);
        }
        else {
            return (types === null || types === void 0 ? void 0 : types[0]) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([types[0]]) : null;
        }
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-remove-warning-popup.tsx":
/*!***************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-remove-warning-popup.tsx ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceRemoveWaringReason: () => (/* binding */ DataSourceRemoveWaringReason),
/* harmony export */   DataSourceRemoveWarningPopup: () => (/* binding */ DataSourceRemoveWarningPopup)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




var DataSourceRemoveWaringReason;
(function (DataSourceRemoveWaringReason) {
    /**
     * Data source is removed.
     */
    DataSourceRemoveWaringReason["DataSourceRemoved"] = "DATA_SOURCE_REMOVED";
    /**
     * Source widget of output data source is removed.
     */
    DataSourceRemoveWaringReason["SourceWidgetRemoved"] = "SOURCE_WIDGET_REMOVED";
})(DataSourceRemoveWaringReason || (DataSourceRemoveWaringReason = {}));
class _DataSourceRemoveWarningPopup extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.close = () => {
            if (this.props.isOpen && !this.__unmount) {
                this.props.toggle();
            }
        };
        this.onCheckboxBtnClick = (selected, e) => {
            this.stopPropagation(e);
            const index = this.state.selectedWidgets.indexOf(selected);
            if (index < 0) {
                this.state.selectedWidgets.push(selected);
            }
            else {
                this.state.selectedWidgets.splice(index, 1);
            }
            this.setState({ selectedWidgets: [...this.state.selectedWidgets] });
        };
        this.onRemove = (e) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c;
            this.stopPropagation(e);
            if (this.state.getAppConfigAction) {
                this.props.beforeRemove && this.props.beforeRemove();
                const action = this.state.getAppConfigAction();
                if (this.state.selectedWidgets.length > 0) {
                    this.state.selectedWidgets.forEach((widgetId, i) => {
                        action.removeWidget(widgetId);
                    });
                }
                if (this.props.dataSourceId) {
                    const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.dataSourceId);
                    if (ds === null || ds === void 0 ? void 0 : ds.isDataView) {
                        const dsJson = ds.getDataSourceJson();
                        const dataViewId = ds.dataViewId;
                        let dataViews = dsJson.dataViews || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
                        dataViews = dataViews.without(dataViewId);
                        const rootDsJson = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.editDataSourceJson)(dsJson.setIn(['dataViews'], dataViews));
                        action.editDataSource(rootDsJson).exec();
                    }
                    else {
                        const appProxies = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig.appProxies;
                        let needProxyDataSourcesFromCurrentDataSource = {};
                        const toDeleteProxyIds = []; // proxy id
                        const toDeleteProxyJsonId = []; // app proxy json id, somthing like `appProxy_1`, it is id in exb app config's `appRoxies`
                        let existingProxyJson;
                        needProxyDataSourcesFromCurrentDataSource = ((_b = this.state.proxySettingUtils) === null || _b === void 0 ? void 0 : _b.traverseToGetNeedProxyDataSources) ? yield this.state.proxySettingUtils.traverseToGetNeedProxyDataSources(ds) : {};
                        Object.keys(needProxyDataSourcesFromCurrentDataSource).forEach(sourceUrl => {
                            var _a;
                            existingProxyJson = (_a = this.state.proxySettingUtils) === null || _a === void 0 ? void 0 : _a.getProxyJsonFromSourceUrl(sourceUrl, appProxies);
                            if (existingProxyJson) {
                                toDeleteProxyJsonId.push(existingProxyJson.id);
                                toDeleteProxyIds.push(existingProxyJson.proxyId);
                            }
                        });
                        action.removeDataSource(this.props.dataSourceId).exec();
                        (_c = this.state.proxySettingUtils) === null || _c === void 0 ? void 0 : _c.deleteProxies(toDeleteProxyIds, action).then(() => {
                            const action = this.state.getAppConfigAction();
                            toDeleteProxyJsonId.forEach(id => {
                                action.removeAppProxy(id);
                            });
                            action.exec();
                        });
                    }
                }
                else {
                    action.removeWidget(this.props.widgetId);
                    action.exec();
                }
                this.props.afterRemove && this.props.afterRemove();
            }
            this.close();
        });
        this.onCancel = (e) => {
            this.stopPropagation(e);
            this.props.onCancel && this.props.onCancel();
            this.close();
        };
        this.stopPropagation = e => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
        };
        this.state = {
            selectedWidgets: [],
            getAppConfigAction: null,
            proxySettingUtils: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        Promise.all([
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder'),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-ui/advanced/setting-components')
        ]).then(res => {
            const [{ getAppConfigAction }, { proxySettingUtils }] = res;
            if (!this.__unmount) {
                this.setState({
                    getAppConfigAction,
                    proxySettingUtils
                });
            }
        });
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        var _a, _b;
        if (!this.props.reason || (!this.props.dataSourceId && !this.props.widgetId)) {
            return null;
        }
        const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.dataSourceId);
        const widgetJson = (_a = this.props.widgets) === null || _a === void 0 ? void 0 : _a[this.props.widgetId];
        const label = this.props.label || (this.props.dataSourceId ? ((ds === null || ds === void 0 ? void 0 : ds.getLabel()) || this.props.dataSourceId) : ((widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.label) || this.props.widgetId));
        let relatedWidgets = [];
        if (this.props.dataSourceId) {
            relatedWidgets = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getWidgetsUsingDsOrItsDescendantDss)(this.props.dataSourceId, this.props.widgets);
        }
        else {
            const outputDataSourceIds = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.outputDataSources;
            if ((outputDataSourceIds === null || outputDataSourceIds === void 0 ? void 0 : outputDataSourceIds.length) > 0) {
                outputDataSourceIds.forEach(outputDsId => {
                    const widgetsRelatedToOutput = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getWidgetsUsingDsOrItsDescendantDss)(outputDsId, this.props.widgets);
                    widgetsRelatedToOutput.forEach(w => {
                        if (!relatedWidgets.some(rw => w.id === rw.id)) {
                            relatedWidgets = relatedWidgets.concat(w);
                        }
                    });
                });
            }
        }
        const headerString = this.props.reason === DataSourceRemoveWaringReason.DataSourceRemoved
            ? this.props.intl.formatMessage({ id: 'removeDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeDataSource })
            : this.props.intl.formatMessage({ id: 'outputDataWillBeRemovedTogether', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.outputDataWillBeRemovedTogether });
        const warningString = this.props.reason === DataSourceRemoveWaringReason.DataSourceRemoved
            ? this.props.intl.formatMessage({ id: 'removeDataWarningTip', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeDataWarningTip })
            : this.props.intl.formatMessage({ id: 'removeSourceWidgetWarningTip', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeSourceWidgetWarningTip }, { widgetName: label });
        const affectedWidgetsString = this.props.reason === DataSourceRemoveWaringReason.DataSourceRemoved
            ? this.props.intl.formatMessage({ id: 'removeDataAffectedWidgets', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeDataAffectedWidgets })
            : this.props.intl.formatMessage({ id: 'removeSourceWidgetAffectedWidgets', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeSourceWidgetAffectedWidgets });
        const removeButtonString = this.props.reason === DataSourceRemoveWaringReason.DataSourceRemoved
            ? this.props.intl.formatMessage({ id: 'removeDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.removeDataSource })
            : this.props.intl.formatMessage({ id: 'delete', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.delete });
        const cancelButtonString = this.props.intl.formatMessage({ id: 'cancel', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.cancel });
        const relatedWidgetsString = this.props.intl.formatMessage({ id: 'relatedWidgets', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.relatedWidgets });
        const removeDescId = `${this.props.dataSourceId}-desc`;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Modal, { isOpen: this.props.isOpen, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('bg-light-300 d-flex justify-content-between', { [this.props.className]: !!this.props.className }), onClick: this.stopPropagation, role: 'dialog', "aria-label": headerString, "aria-describedby": removeDescId },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalHeader, { className: 'd-flex justify-content-between border-color-gray-300 py-4 font-16 font-dark-600', onClick: this.stopPropagation, toggle: this.props.toggle, title: headerString }, headerString),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalBody, { onClick: this.stopPropagation, id: removeDescId },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'px-2 py-0' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'font-13 font-dark-600', "data-testid": 'confirmDeleteMessage' }, warningString),
                    this.props.reason === DataSourceRemoveWaringReason.DataSourceRemoved
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'font-14 font-dark-800 mt-4' }, label)
                        : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'related-outputs px-2 py-4' }, (_b = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.outputDataSources) === null || _b === void 0 ? void 0 : _b.map(outputDsId => {
                            var _a;
                            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'font-13 font-dark-800 output-ds-label', key: outputDsId }, ((_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(outputDsId)) === null || _a === void 0 ? void 0 : _a.getLabel()) || outputDsId);
                        })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'font-13 font-dark-600 mt-4' }, affectedWidgetsString),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: 'group', "aria-label": relatedWidgetsString },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'font-14 font-dark-400 mt-4' }, relatedWidgetsString),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'related-widgets px-2 py-4' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, relatedWidgets.map((w) => {
                                if (w && w.id) {
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { key: w.id, className: 'd-flex' },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 font-13', onClick: e => { this.onCheckboxBtnClick(w.id, e); }, checked: this.state.selectedWidgets.includes(w.id) }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: w.icon, size: '16', className: 'mr-1 font-dark-800' }),
                                        w.label));
                                }
                                return null;
                            })))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'font-13 font-dark-600 mt-2 mb-0' }, this.props.intl.formatMessage({ id: 'howToRemoveWidgetsTip', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.howToRemoveWidgetsTip })))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ModalFooter, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-end mt10' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: 'primary', className: 'mr-2', onClick: this.onRemove, "aria-label": removeButtonString }, removeButtonString),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: 'default', onClick: this.onCancel, "aria-label": cancelButtonString }, cancelButtonString)))));
    }
}
const mapStateToProps = (state, ownProps) => {
    var _a, _b, _c, _d;
    return {
        widgets: ((_a = state === null || state === void 0 ? void 0 : state.appContext) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.widgets : (_d = state === null || state === void 0 ? void 0 : state.appConfig) === null || _d === void 0 ? void 0 : _d.widgets
    };
};
// eslint-disable-next-line
const __DataSourceRemoveWarningPopup = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_DataSourceRemoveWarningPopup);
const DataSourceRemoveWarningPopup = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(__DataSourceRemoveWarningPopup), 'DataSourceRemoveWarningPopup');


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/added-ds-item.tsx":
/*!****************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/added-ds-item.tsx ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DsItem)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var _data_view_setting_popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data-view-setting-popup */ "./jimu-ui/advanced/lib/data-source-selector/components/data-view-setting-popup.tsx");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/editor/plus */ "./jimu-icons/outlined/editor/plus.tsx");
/* harmony import */ var jimu_icons_outlined_application_setting__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/application/setting */ "./jimu-icons/outlined/application/setting.tsx");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../types */ "./jimu-ui/advanced/lib/data-source-selector/types.ts");
/** @jsx jsx */








const CREATE_A_VIEW_BUTTON = 'create_a_view';
/**
 * @ignore
 */
class DsItem extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.tagDiv = { tag: 'div' };
        this.widthForDropdownItem = { width: 'calc(100% - 30px)' };
        this.widthForDropdownItemLabel = { width: 'calc(100% - 40px)' };
        this.widthForMultiDropdownItemLabel = { width: 'calc(100% - 60px)' };
        this.onRemove = e => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
            const { onRemove } = this.props;
            onRemove && onRemove(this.props.mainDataSourceId);
        };
        this.onDataViewChange = (dataViewId) => {
            if (!dataViewId || dataViewId === CREATE_A_VIEW_BUTTON) {
                return;
            }
            const allDataViews = this.getAllDataViews();
            const changedDataView = allDataViews[dataViewId];
            const newDataViews = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([changedDataView.asMutable({ deep: true })]);
            this.props.onChange(this.props.mainDataSourceId, newDataViews);
        };
        this.onDataViewKeyDown = (dataViewId, evt) => {
            if (evt.target === evt.currentTarget && (evt.key === 'Enter' || evt.key === ' ')) {
                this.onDataViewChange(dataViewId);
            }
        };
        this.onMultiDataViewChange = (e, value) => {
            if (!value || value === CREATE_A_VIEW_BUTTON) {
                return;
            }
            const allDataViews = this.getAllDataViews();
            const changedDataView = allDataViews[value];
            const dataViews = this.props.dataViews || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            const isSelected = this.props.dataViews && this.props.dataViews.find(v => v.id === changedDataView.id);
            const newDataViews = isSelected ? dataViews.filter(v => v.id !== changedDataView.id) : dataViews.concat(changedDataView);
            this.props.onChange(this.props.mainDataSourceId, newDataViews);
        };
        this.formatMessage = (id, values) => {
            const messages = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);
            return this.props.intl.formatMessage({ id: id, defaultMessage: messages[id] }, values);
        };
        this.getDsLabel = (dataSourceId) => {
            const dsObj = this.getDsObj(dataSourceId);
            const label = dsObj && dsObj.getLabel();
            return label || this.formatMessage('none');
        };
        this.getWhetherItemError = (dataSourceId, rootDataSourceId) => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;
            const rootDoNotHaveTheChild = ((_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.dataSourcesInfo) === null || _b === void 0 ? void 0 : _b[rootDataSourceId]) === null || _c === void 0 ? void 0 : _c.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Created && !((_f = (_e = (_d = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _d === void 0 ? void 0 : _d.dataSourcesInfo) === null || _e === void 0 ? void 0 : _e[dataSourceId]) === null || _f === void 0 ? void 0 : _f.instanceStatus);
            // may do not have root ds id
            const rootCreatedError = ((_j = (_h = (_g = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _g === void 0 ? void 0 : _g.dataSourcesInfo) === null || _h === void 0 ? void 0 : _h[rootDataSourceId]) === null || _j === void 0 ? void 0 : _j.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError;
            const dsIdValid = typeof dataSourceId === 'string' && dataSourceId !== 'undefined';
            // must have ds id
            const dsCreatedError = !dsIdValid || ((_m = (_l = (_k = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder) === null || _k === void 0 ? void 0 : _k.dataSourcesInfo) === null || _l === void 0 ? void 0 : _l[dataSourceId]) === null || _m === void 0 ? void 0 : _m.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError;
            return rootDoNotHaveTheChild || rootCreatedError || dsCreatedError;
        };
        this.getAllDataViews = () => {
            if (!this.props.mainDataSourceId) {
                return null;
            }
            const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.mainDataSourceId);
            if (dsObj === null || dsObj === void 0 ? void 0 : dsObj.isDataSourceSet) { // can not create data view for set data source
                return null;
            }
            const dataSourceJson = dsObj && dsObj.getDataSourceJson();
            let dataViews = (dataSourceJson === null || dataSourceJson === void 0 ? void 0 : dataSourceJson.dataViews) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            // Add default view, it is actually main data source.
            dataViews = dataViews
                .set(this.props.DefaultDataView.id, (dataSourceJson === null || dataSourceJson === void 0 ? void 0 : dataSourceJson.query) ? dataSourceJson.query.merge(this.props.DefaultDataView.asMutable({ deep: true })) : this.props.DefaultDataView);
            // Add selection view.
            const selectionDataView = {
                id: jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID,
                label: this.props.intl.formatMessage({ id: 'selectionDataView', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectionDataView })
            };
            dataViews = dataViews.set(jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID, selectionDataView);
            // Can not select this view, it is an internal view, it is used as default selection when actually no record is selected.
            dataViews = dataViews.without(jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.DATA_VIEW_ID_FOR_NO_SELECTION);
            // No need to select this view, it is used by default when select a output data source.
            dataViews = dataViews.without(jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID);
            const hideDataView = typeof this.props.hideDataView === 'function' ? this.props.hideDataView : null;
            hideDataView && Object.values(dataViews).forEach(dv => {
                if (hideDataView(dv, this.props.mainDataSourceId)) {
                    dataViews = dataViews.without(dv.id);
                }
            });
            return dataViews;
        };
        this.getMultiSelectItems = (dataViews) => {
            if (!this.props.mainDataSourceId) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            }
            const res = [];
            if (dataViews) {
                Object.keys(dataViews).forEach(vId => {
                    res.push({
                        value: vId,
                        label: dataViews[vId].label,
                        render: (item, values) => {
                            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex w-100 align-items-center justify-content-start w-100' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Checkbox, { checked: this.getSelectedValueForMutiSelect().includes(item.value) }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2 text-truncate', style: this.widthForMultiDropdownItemLabel, title: dataViews[vId].label }, dataViews[vId].label),
                                this.getWhetherAllowToChangeViewSetting(vId) &&
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', className: 'px-2 py-0', onClick: e => { this.onDataViewClick(e, dataViews[vId]); }, title: this.props.intl.formatMessage({ id: 'settings', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.settings }) },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_setting__WEBPACK_IMPORTED_MODULE_6__.SettingOutlined, { size: 's' }))));
                        }
                    });
                });
            }
            const allowToCreateView = this.getWhetherAllowToCreateView();
            if (allowToCreateView) {
                res.push({
                    value: CREATE_A_VIEW_BUTTON,
                    render: () => this.getCreateViewButton()
                });
            }
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(res);
        };
        this.getCreateViewButton = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', onClick: this.onCreateViewClick, className: 'p-0 mb-1 w-100 text-left' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_plus__WEBPACK_IMPORTED_MODULE_5__.PlusOutlined, { size: 's', className: 'mr-1' }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.formatMessage('createAView')),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'create-view-button-border' })));
        };
        this.getSelectedValueForSingleSelect = () => {
            var _a;
            return this.props.dataViews && this.props.dataViews.length > 0 ? (_a = this.props.dataViews[0]) === null || _a === void 0 ? void 0 : _a.id : this.props.DefaultDataView.id;
        };
        this.getSelectedValueForMutiSelect = () => {
            return this.props.dataViews && this.props.dataViews.length > 0 ? this.props.dataViews.map(v => v.id) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.DefaultDataView.id]);
        };
        this.getMultiSelectSelectedString = (values) => {
            if (values) {
                return this.formatMessage('numSelected', { number: values.length });
            }
        };
        this.onDataViewClick = (e, dataView) => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
            this.setState({
                settingDataView: dataView
            });
            this.toggleViewSetting();
        };
        this.onCreateViewClick = () => {
            this.setState({
                settingDataView: null
            });
            this.toggleViewSetting();
        };
        this.onCreateViewKeyDown = evt => {
            if (evt.target === evt.currentTarget && (evt.key === 'Enter' || evt.key === ' ')) {
                this.onCreateViewClick();
            }
        };
        this.toggleViewSetting = () => { this.setState({ isViewSettingOpen: !this.state.isViewSettingOpen }); };
        this.toggleViewSelect = () => { this.setState({ isViewSelectOpen: !this.state.isViewSelectOpen }); };
        this.stopPropagation = e => {
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
        };
        this.onDataViewSettingApply = (dataView) => {
            if (dataView.id === this.props.DefaultDataView.id) {
                this.editQuery(dataView);
            }
            else {
                this.editDataView(dataView);
            }
        };
        this.editQuery = (dataView) => {
            if (!dataView) {
                return;
            }
            const getAppConfigAction = this.state.getAppConfigAction;
            if (!getAppConfigAction) {
                return;
            }
            const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.mainDataSourceId);
            const dsJson = dsObj && dsObj.getDataSourceJson();
            if (!dsJson) {
                return;
            }
            const rootDsJson = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.editDataSourceJson)(dsJson.setIn(['query'], (dsJson === null || dsJson === void 0 ? void 0 : dsJson.query)
                ? dsJson.query.merge(dataView.without('id').without('label').asMutable({ deep: true }))
                : dataView.set('id', 'default').set('label', dsObj.getLabel())));
            getAppConfigAction().editDataSource(rootDsJson).exec();
            dsObj.addSourceVersion();
            this.toggleViewSetting();
        };
        this.editDataView = (dataView) => {
            if (!dataView) {
                return;
            }
            const getAppConfigAction = this.state.getAppConfigAction;
            if (!getAppConfigAction) {
                return;
            }
            const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.mainDataSourceId);
            const dsJson = dsObj && dsObj.getDataSourceJson();
            let dataViews = dsJson.dataViews || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            dataViews = dataViews.set(dataView.id, dataView);
            const rootDsJson = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.editDataSourceJson)(dsJson.setIn(['dataViews'], dataViews));
            getAppConfigAction().editDataSource(rootDsJson).exec();
            if (!dsObj.getDataView(dataView === null || dataView === void 0 ? void 0 : dataView.id)) {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource(dsJson, dataView.id).then(() => {
                    if (!this.__unmount) {
                        this.setState({ settingDataView: dataView });
                        this.toggleViewSetting();
                    }
                });
            }
            else {
                this.setState({ settingDataView: dataView });
                dsObj.addSourceVersion();
                this.toggleViewSetting();
            }
        };
        this.getWhetherAllowToCreateView = () => {
            if (this.props.hideCreateViewButton) {
                return false;
            }
            const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.mainDataSourceId);
            return dsObj && !dsObj.isDataSourceSet && !dsObj.getDataSourceJson().isOutputFromWidget;
        };
        this.getWhetherAllowToChangeViewSetting = (vId) => {
            var _a;
            const isSelectionView = vId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID;
            if (isSelectionView) {
                return false;
            }
            const mainDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.props.mainDataSourceId);
            if ((_a = mainDs === null || mainDs === void 0 ? void 0 : mainDs.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.isOutputFromWidget) {
                // If is output data source, shouldn't allow to change data view setting.
                return false;
            }
            else {
                return true;
            }
        };
        this.onClick = () => {
            this.props.onClick && this.props.onClick(this.props.mainDataSourceId);
        };
        this.onKeyDown = (evt) => {
            if (evt.target === evt.currentTarget && (evt.key === 'Enter' || evt.key === ' ')) {
                this.onClick();
            }
        };
        this.afterRemoveDataView = (dataView) => {
            var _a;
            if ((_a = this.props.dataViews) === null || _a === void 0 ? void 0 : _a.some(v => v.id === dataView.id)) {
                this.onDataViewChange(_types__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_DATA_VIEW_ID);
            }
        };
        this.getDsObj = (mainDsId) => {
            var _a;
            let ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(mainDsId);
            if ((_a = ds === null || ds === void 0 ? void 0 : ds.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.isOutputFromWidget) {
                ds = ds.getMainDataSource().getDataView(jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID);
            }
            return ds;
        };
        this.state = {
            isViewSettingOpen: false,
            isViewSelectOpen: false,
            settingDataView: null,
            getAppConfigAction: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder').then(JimuForBuilder => {
            if (!this.__unmount) {
                this.setState({
                    getAppConfigAction: JimuForBuilder.getAppConfigAction
                });
            }
        });
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        var _a, _b, _c, _d, _e, _f;
        const mainDataSourceId = this.props.mainDataSourceId;
        if (!mainDataSourceId) {
            return null;
        }
        const dsObj = this.getDsObj(mainDataSourceId);
        const dataSourceJson = dsObj === null || dsObj === void 0 ? void 0 : dsObj.getDataSourceJson();
        const rootDataSourceId = this.props.rootDataSourceId || mainDataSourceId;
        const isDataInConfig = (_b = (_a = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getAppConfig)()) === null || _a === void 0 ? void 0 : _a.dataSources) === null || _b === void 0 ? void 0 : _b[rootDataSourceId];
        const isDataError = this.getWhetherItemError(mainDataSourceId, rootDataSourceId);
        // data source is not created, data source exists in config and data source is not error.
        const isLoadingShown = !dsObj && isDataInConfig && !isDataError;
        const dataViews = this.getAllDataViews();
        const allowToSelectMultipleDataViews = (this.props.isMultiple && typeof this.props.isMultipleDataView !== 'boolean') || this.props.isMultipleDataView;
        const closeIconComponent = ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { icon: true, size: 'sm', type: 'tertiary', title: this.formatMessage('remove'), onClick: this.onRemove, className: 'ds-item-close' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_4__.CloseOutlined, { size: 's' })));
        const allowToCreateView = this.getWhetherAllowToCreateView();
        const showDataViewDropdown = this.props.hideDataView !== true;
        const dsLabel = this.getDsLabel(mainDataSourceId);
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.props.className ? `w-100 added-ds-item ${this.props.className}` : 'w-100 added-ds-item' },
            isLoadingShown && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-container' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Bar })),
            isLoadingShown && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-placeholder' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'first-line d-flex align-items-center justify-content-between mb-2 pb-1' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'first-line-left mr-2' }),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'first-line-right flex-grow-1' })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'second-line w-100' })),
            !isLoadingShown &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('ds-item', {
                        'ds-error-item': isDataError,
                        'disable-cursor': this.props.disableDataSourceList
                    }), onClick: this.onClick, onKeyDown: this.onKeyDown, role: 'menuitem', tabIndex: 0, ref: this.props.innerRef, "aria-label": dsLabel },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center w-100 item' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(dataSourceJson), className: 'text-dark', size: '12' })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate ds-type-name', title: dsLabel }, dsLabel)),
                        !this.props.hideRemove && closeIconComponent),
                    showDataViewDropdown && dataViews && Object.keys(dataViews).length > 0 &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'dv-select-container' }, !allowToSelectMultipleDataViews
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { fluid: true, activeIcon: true, autoWidth: true, onClick: this.stopPropagation, isOpen: this.state.isViewSelectOpen, toggle: this.toggleViewSelect, disabled: this.props.disableDataView || isDataError, "aria-label": this.formatMessage('selectADataView'), menuItemCheckMode: 'singleCheck', supportInsideNodesAccessible: true },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownButton, { onClick: this.toggleViewSelect, type: 'tertiary', className: 'data-view-dropdown-menu-button', size: 'sm', arrow: !this.props.disableDataView }, (_c = dataViews[this.getSelectedValueForSingleSelect()]) === null || _c === void 0 ? void 0 : _c.label),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, null,
                                    Object.values(dataViews).map((v, i) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: i, tag: 'div', tabIndex: 0, onClick: () => { this.onDataViewChange(v.id); }, onKeyDown: e => { this.onDataViewKeyDown(v.id, e); }, active: this.getSelectedValueForSingleSelect() === v.id },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center', style: this.widthForDropdownItem },
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate', title: v.label, style: this.widthForDropdownItemLabel }, v.label),
                                            this.state.isViewSelectOpen && this.getWhetherAllowToChangeViewSetting(v.id) &&
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', icon: true, className: 'px-2 settings-icon py-0', onClick: e => { this.onDataViewClick(e, v); }, title: this.props.intl.formatMessage({ id: 'settings', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.settings }) },
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_setting__WEBPACK_IMPORTED_MODULE_6__.SettingOutlined, { size: 's' }))))),
                                    allowToCreateView && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { tag: 'div', onKeyDown: this.onCreateViewKeyDown, className: 'create-view-button' }, this.getCreateViewButton())))
                            : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MultiSelect, { fluid: true, items: this.getMultiSelectItems(dataViews), onClickItem: this.onMultiDataViewChange, values: this.getSelectedValueForMutiSelect(), "aria-label": this.formatMessage('selectADataView'), buttonProps: Object.assign(Object.assign({}, this.tagDiv), { disabled: this.props.disableDataView || isDataError, arrow: !this.props.disableDataView }), displayByValues: this.getMultiSelectSelectedString, menuItemProps: this.tagDiv, size: 'sm', autoWidth: true }))),
            allowToCreateView &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_data_view_setting_popup__WEBPACK_IMPORTED_MODULE_3__.DataViewSettingPopup, { isOpen: this.state.isViewSettingOpen, toggle: this.toggleViewSetting, onApply: this.onDataViewSettingApply, onDuplicate: this.onDataViewSettingApply, afterRemove: this.afterRemoveDataView, mainDataSource: dsObj, dataView: this.state.settingDataView, disableDuplicate: !this.state.settingDataView || ((_d = this.state.settingDataView) === null || _d === void 0 ? void 0 : _d.id) === this.props.DefaultDataView.id, disableRemove: !this.state.settingDataView || ((_e = this.state.settingDataView) === null || _e === void 0 ? void 0 : _e.id) === this.props.DefaultDataView.id, disableRename: ((_f = this.state.settingDataView) === null || _f === void 0 ? void 0 : _f.id) === this.props.DefaultDataView.id })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/set-ds-btn-ds-list.tsx":
/*!*********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/set-ds-btn-ds-list.tsx ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../types */ "./jimu-ui/advanced/lib/data-source-selector/types.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var _data_source_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data-source-list */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/index.tsx");
/* harmony import */ var _added_ds_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./added-ds-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/added-ds-item.tsx");
/** @jsx jsx */







class _SetDsBtnDsList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.DefaultDataView = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
            id: _types__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_DATA_VIEW_ID,
            label: this.props.intl.formatMessage({ id: 'default', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.default })
        });
        this.sidePopperTrigger = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.backToFocusNode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.changeInitStatus = (isInited) => {
            this.setState({ isDataSourceInited: isInited });
        };
        this.getIsLoading = (dsId) => {
            var _a;
            const dsInfo = (_a = this.props.dataSourcesInfo) === null || _a === void 0 ? void 0 : _a[dsId];
            // No data source info means the data source is removed.
            if (!dsInfo) {
                return false;
            }
            if (dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError) {
                return false;
            }
            else if (dsInfo.instanceStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Created) {
                // If the data source is set, should wait util all child data sources are created.
                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
                return (ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) ? !ds.areChildDataSourcesCreated() : false;
            }
            return true;
        };
        this.disableSelection = () => {
            if (this.props.disableSelection) {
                const useDataSources = this.props.useDataSources || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
                return this.props.disableSelection(useDataSources.asMutable({ deep: true }));
            }
            return false;
        };
        this.disableRemove = () => {
            if (this.props.disableRemove) {
                const useDataSources = this.props.useDataSources || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
                return this.props.disableRemove(useDataSources.asMutable({ deep: true }));
            }
            return false;
        };
        this.onModalClose = () => {
            this.setState({ modalType: 'none' });
        };
        this.onMainDsChanged = (useDataSources) => {
            if (!useDataSources) {
                return;
            }
            this.props.onChange && this.props.onChange(useDataSources);
            if (this.props.closeDataSourceListOnChange) {
                this.setState({ modalType: 'none' });
            }
        };
        this.onMainDsRemoved = (mainDataSourceId) => {
            if (!mainDataSourceId || !this.props.useDataSources) {
                return;
            }
            const useDataSources = this.props.useDataSources.filter(useDs => (useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId) + '' !== mainDataSourceId);
            this.props.onChange && this.props.onChange(useDataSources.asMutable({ deep: true }));
        };
        this.onDataViewChanged = (mainDataSourceId, dataViews) => {
            if (!mainDataSourceId || !this.props.useDataSources) {
                return;
            }
            const previousUseDs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(this.props.useDataSources.find(u => u.mainDataSourceId === mainDataSourceId) ||
                { dataSourceId: mainDataSourceId, mainDataSourceId });
            const newUseDataSources = dataViews.map(v => {
                var _a;
                if (v.id === _types__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_DATA_VIEW_ID) {
                    const mainDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(mainDataSourceId);
                    if ((_a = mainDs === null || mainDs === void 0 ? void 0 : mainDs.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.isOutputFromWidget) {
                        // If output data source, should use output view, istead of the main data source.
                        const dsId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(mainDataSourceId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID);
                        const dataViewId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID;
                        return previousUseDs.set('dataSourceId', dsId).set('dataViewId', dataViewId).asMutable({ deep: true });
                    }
                    else {
                        return previousUseDs.without('dataViewId').set('dataSourceId', mainDataSourceId).asMutable({ deep: true });
                    }
                }
                else {
                    return previousUseDs.set('dataViewId', v.id)
                        .set('dataSourceId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(mainDataSourceId, v.id)).asMutable({ deep: true });
                }
            });
            const useDataSources = this.props.useDataSources.filter(useDs => (useDs === null || useDs === void 0 ? void 0 : useDs.mainDataSourceId) !== mainDataSourceId).concat(newUseDataSources);
            this.props.onChange && this.props.onChange(useDataSources.asMutable({ deep: true }));
        };
        this.toggleDsList = () => {
            if (!this.props.disableDataSourceList) {
                this.setState({ modalType: this.state.modalType === 'ds' ? 'none' : 'ds' });
            }
        };
        this.getWhetherShowPlaceholder = () => {
            var _a;
            // If there is some use data source which is not created, should show add data placeholder to allow user to change data source.
            if ((_a = this.props.useDataSources) === null || _a === void 0 ? void 0 : _a.some(useDs => !jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(useDs.dataSourceId))) {
                return true;
            }
            if (this.props.disableSelection) {
                const useDataSources = this.props.useDataSources || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
                return !this.props.disableSelection(useDataSources.asMutable({ deep: true }));
            }
            return this.props.isMultiple || (!this.props.isMultiple && (!this.props.useDataSources || this.props.useDataSources.filter(useDs => !!useDs).length === 0));
        };
        this.groupUseDssByMainDataSource = (useDataSources) => {
            if (!useDataSources || useDataSources.length === 0) {
                return null;
            }
            const res = {};
            useDataSources.forEach(u => {
                if (!res[u.mainDataSourceId]) {
                    res[u.mainDataSourceId] = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
                }
                if (u.dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID) { // selection data view
                    res[u.mainDataSourceId] = res[u.mainDataSourceId].concat({
                        id: jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID,
                        label: this.props.intl.formatMessage({ id: 'selectionDataView', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectionDataView })
                    });
                }
                else if (u.dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID) { // output data view
                    res[u.mainDataSourceId] = res[u.mainDataSourceId].concat(this.DefaultDataView);
                }
                else if (u.dataViewId) { // user added data views
                    const dsObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(u.mainDataSourceId);
                    const dataSourceJson = dsObj && dsObj.getDataSourceJson();
                    const dataViews = dataSourceJson && dataSourceJson.dataViews;
                    if (dataViews === null || dataViews === void 0 ? void 0 : dataViews[u.dataViewId]) {
                        res[u.mainDataSourceId] = res[u.mainDataSourceId].concat(dataViews[u.dataViewId]);
                    }
                }
                else { // default data view (main data source)
                    res[u.mainDataSourceId] = res[u.mainDataSourceId].concat(this.DefaultDataView);
                }
            });
            return res;
        };
        this.onDsItemClick = (mainDsId) => {
            this.toggleDsList();
        };
        this.getIsDsListOpen = () => {
            return this.state.modalType === 'ds' && !jimu_core__WEBPACK_IMPORTED_MODULE_0__.urlUtils.getAppIdPageIdFromUrl().pageId;
        };
        this.onSelectDataKeyDown = evt => {
            if (evt.target === evt.currentTarget && (evt.key === 'Enter' || evt.key === ' ')) {
                this.toggleDsList();
            }
        };
        this.state = {
            isDataSourceInited: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getWhetherDataSourceIsInited)(this.props.dataSources, this.props.dataSourcesInfo),
            modalType: 'none',
            SidePopper: null
        };
    }
    componentDidMount() {
        this.__unmount = false;
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-ui/advanced/setting-components').then(SettingComponents => {
            if (!this.__unmount) {
                this.setState({
                    SidePopper: SettingComponents.SidePopper
                });
            }
        });
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    componentDidUpdate(prevProps) {
        if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(this.props.dataSources, prevProps.dataSources) || !jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(this.props.dataSourcesInfo, prevProps.dataSourcesInfo)) {
            const isInited = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getWhetherDataSourceIsInited)(this.props.dataSources, this.props.dataSourcesInfo);
            this.changeInitStatus(isInited);
            if (!isInited) {
                this.props.dataSourcesInfo && Object.keys(this.props.dataSourcesInfo).forEach(dsId => {
                    if (this.getIsLoading(dsId)) {
                        this.waitForChildDataSourcesReady(dsId).finally(() => {
                            this.changeInitStatus((0,_utils__WEBPACK_IMPORTED_MODULE_4__.getWhetherDataSourceIsInited)(this.props.dataSources, this.props.dataSourcesInfo));
                        });
                    }
                });
            }
        }
    }
    waitForChildDataSourcesReady(dsId) {
        const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
        if ((ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) && !ds.areChildDataSourcesCreated()) {
            return ds.childDataSourcesReady().then(() => ds).catch(err => ds);
        }
        return Promise.resolve(ds);
    }
    render() {
        const SidePopper = this.state.SidePopper;
        const showPlaceholder = this.getWhetherShowPlaceholder();
        const groupedUseDss = this.groupUseDssByMainDataSource(this.props.useDataSources);
        const selectDataLabel = this.props.buttonLabel || this.props.intl.formatMessage({ id: 'setDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.setDataSource });
        const groupedUseDssLength = groupedUseDss ? Object.keys(groupedUseDss).length : 0;
        const sidePopperTrigger = [];
        const ariaLabel = this.props['aria-label'] || this.props.intl.formatMessage({ id: 'data', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.data });
        if (this.sidePopperTrigger.current) {
            sidePopperTrigger.push(this.sidePopperTrigger.current);
        }
        if (this.props.sidePopperTrigger) {
            if (Array.isArray(this.props.sidePopperTrigger)) {
                sidePopperTrigger.push(...this.props.sidePopperTrigger);
            }
            else {
                sidePopperTrigger.push(this.props.sidePopperTrigger);
            }
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100', ref: this.sidePopperTrigger, role: 'menu', "aria-label": ariaLabel },
            groupedUseDss && Object.keys(groupedUseDss).sort((d1, d2) => d1 === null || d1 === void 0 ? void 0 : d1.localeCompare(d2))
                .map((mainDataSourceId, index) => {
                var _a, _b;
                if (mainDataSourceId) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_added_ds_item__WEBPACK_IMPORTED_MODULE_6__["default"], { key: index, mainDataSourceId: mainDataSourceId, onRemove: this.onMainDsRemoved, intl: this.props.intl, hideRemove: this.disableRemove(), theme: this.props.theme, disableDataSourceList: this.props.disableDataSourceList, onClick: this.onDsItemClick, className: (showPlaceholder || index !== groupedUseDssLength - 1) && 'mb-4', onChange: this.onDataViewChanged, disableDataView: this.props.disableDataView, isMultiple: this.props.isMultiple, rootDataSourceId: (_b = (_a = this.props.useDataSources) === null || _a === void 0 ? void 0 : _a.find(u => u.mainDataSourceId === mainDataSourceId)) === null || _b === void 0 ? void 0 : _b.rootDataSourceId, dataViews: groupedUseDss[mainDataSourceId], DefaultDataView: this.DefaultDataView, hideDataView: this.props.hideDataView, isMultipleDataView: this.props.isMultipleDataView, hideCreateViewButton: this.props.hideCreateViewButton, innerRef: !showPlaceholder && index === groupedUseDssLength - 1 && this.backToFocusNode }));
                }
                return null;
            }),
            SidePopper && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SidePopper, { isOpen: this.getIsDsListOpen(), position: 'right', trigger: sidePopperTrigger, toggle: this.toggleDsList, widgetId: this.props.widgetId, backToFocusNode: this.backToFocusNode.current, title: this.props.hideHeader ? null : this.props.intl.formatMessage({ id: 'setDataSource', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.setDataSource }) },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'bg-light-300 h-100 w-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_data_source_list__WEBPACK_IMPORTED_MODULE_5__.DataSourceList, { types: this.props.types, onChange: this.onMainDsChanged, changeInitStatus: this.changeInitStatus, hideDs: this.props.hideDs, onCloseClick: this.onModalClose, isMultiple: this.props.isMultiple, fromDsIds: this.props.fromDsIds, useDataSources: this.props.useDataSources, isDataSourceInited: this.state.isDataSourceInited, widgetId: this.props.widgetId, disableSelection: this.disableSelection(), disableRemove: this.disableRemove(), fromRootDsIds: this.props.fromRootDsIds, hideHeader: true, hideTypeDropdown: this.props.hideTypeDropdown, hideAllOptionOfTypeDropdown: this.props.hideAllOptionOfTypeDropdown, disableAddData: this.props.disableAddData, hideAddDataButton: this.props.hideAddDataButton, enableToSelectOutputDsFromSelf: this.props.enableToSelectOutputDsFromSelf, hideTabs: this.props.hideTabs, onClickDisabledDsItem: this.props.onClickDisabledDsItem }))),
            showPlaceholder &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Link, { className: 'ds-selector-button w-100 mt-0 d-flex justify-content-center align-items-center px-2', onClick: this.toggleDsList, title: selectDataLabel, "aria-label": selectDataLabel, onKeyDown: this.onSelectDataKeyDown, "aria-describedby": this.props['aria-describedby'], innerRef: this.backToFocusNode },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate font-weight-500' }, selectDataLabel))));
    }
}
/**
 * @ignore
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,jimu_theme__WEBPACK_IMPORTED_MODULE_2__.withTheme)(_SetDsBtnDsList));


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/index.tsx":
/*!*********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/index.tsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceSelector: () => (/* binding */ DataSourceSelector),
/* harmony export */   _DataSourceSelector: () => (/* binding */ _DataSourceSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_set_ds_btn_ds_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/set-ds-btn-ds-list */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/components/set-ds-btn-ds-list.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/** @jsx jsx */




/**
 * The `DataSourceSelector` component allows an Experience author to select a data source for widgets. This is usually used in a settings panel.
 *
 * ```ts
 * import { DataSourceSelector } from 'jimu-ui/advanced/data-source-selector'
 * ```
 */
class _DataSourceSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onToggleUseDataEnabled = () => {
            this.props.onToggleUseDataEnabled && this.props.onToggleUseDataEnabled(!this.props.useDataSourcesEnabled);
        };
        this.onChange = (useDataSources) => {
            this.props.onChange && this.props.onChange(useDataSources);
        };
    }
    render() {
        if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance()) {
            return null;
        }
        const _a = this.props, { onChange } = _a, otherProps = __rest(_a, ["onChange"]);
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-data-source-selector' },
                !this.props.mustUseDataSource &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('d-flex justify-content-between w-100 align-items-center', { 'mb-4': this.props.useDataSourcesEnabled }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'w-75 d-inline-block font-dark-600 setting-text-level-3', for: 'data-source-selector-connect-to-data-switch' }, this.props.intl.formatMessage({ id: 'connectToData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.connectToData })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { checked: !!this.props.useDataSourcesEnabled, onChange: this.onToggleUseDataEnabled, id: 'data-source-selector-connect-to-data-switch' })),
                (this.props.mustUseDataSource || this.props.useDataSourcesEnabled) &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_set_ds_btn_ds_list__WEBPACK_IMPORTED_MODULE_3__["default"], Object.assign({ types: this.props.types }, otherProps, { onChange: this.onChange, intl: this.props.intl, closeDataSourceListOnChange: this.props.closeDataSourceListOnChange, fromDsIds: this.props.fromDsIds, widgetId: this.props.widgetId, isMultipleDataView: this.props.isMultipleDataView, onClickDisabledDsItem: this.props.onClickDisabledDsItem, sidePopperTrigger: this.props.sidePopperTrigger })))));
    }
}
const _DataSourceSelectorWithStyle = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_DataSourceSelector, 'DataSourceSelector'));
/**
 * @ignore
 */
const mapStateToProps = (state) => {
    var _a, _b, _c, _d, _e, _f;
    return {
        dataSources: ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.dataSources : (_d = state.appConfig) === null || _d === void 0 ? void 0 : _d.dataSources,
        dataSourcesInfo: ((_e = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _e === void 0 ? void 0 : _e.isBuilder) ? (_f = state.appStateInBuilder) === null || _f === void 0 ? void 0 : _f.dataSourcesInfo : state.dataSourcesInfo
    };
};
/**
 * A component that allows an Experience author to select a data source for widgets. This is usually used in a settings panel.
 */
const DataSourceSelector = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_DataSourceSelectorWithStyle);


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx":
/*!***********************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceTree: () => (/* binding */ DataSourceTree)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_svg_outlined_editor_minus_circle_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/minus-circle.svg */ "./jimu-icons/svg/outlined/editor/minus-circle.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_minus_circle_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_minus_circle_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var jimu_icons_svg_outlined_editor_plus_circle_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/plus-circle.svg */ "./jimu-icons/svg/outlined/editor/plus-circle.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_plus_circle_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_plus_circle_svg__WEBPACK_IMPORTED_MODULE_4__);





const FIRST_NODE_IN_COLLAPSE = 'first_node_in_collapse';
class _DataSourceTree extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmounted = false;
        this.getNeedAutoOpen = (dataSource) => {
            if (!this.props.useDataSources || !dataSource) {
                return false;
            }
            if (this.props.useDataSources.some(u => (u === null || u === void 0 ? void 0 : u.mainDataSourceId) === dataSource.id)) {
                return true;
            }
            const childDss = this.props.getChildDataSources(dataSource);
            if (childDss.some(cDs => this.getNeedAutoOpen(cDs))) {
                return true;
            }
            return false;
        };
        this.toggleChildDss = () => {
            if (typeof this.props.isOpen === 'boolean') {
                this.props.toggle && this.props.toggle();
            }
            else {
                this.setState({ isOpen: !this.state.isOpen });
            }
        };
        this.drawCollapseLine = () => {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
                var _a, _b;
                if (this.collapseRef && this.lastNodeInCollapseRef) {
                    const firstNodeOfLastNodeInCollapse = this.lastNodeInCollapseRef.querySelector(`.${FIRST_NODE_IN_COLLAPSE}`) || this.lastNodeInCollapseRef;
                    const paddingTopOfLastNodeInCollapse = window && ((_a = window.getComputedStyle(this.lastNodeInCollapseRef)) === null || _a === void 0 ? void 0 : _a.paddingTop);
                    const paddingTopNumOfLastNodeInCollapse = paddingTopOfLastNodeInCollapse ? parseFloat(paddingTopOfLastNodeInCollapse) + 2 : 0;
                    const paddingTopFirstNodeOfLastNodeInCollapse = window && ((_b = window.getComputedStyle(firstNodeOfLastNodeInCollapse)) === null || _b === void 0 ? void 0 : _b.paddingTop);
                    const paddingTopNumOfFirstNodeOfLastNodeInCollapse = paddingTopFirstNodeOfLastNodeInCollapse ? parseFloat(paddingTopFirstNodeOfLastNodeInCollapse) : 0;
                    if (!this.__unmounted) {
                        this.setState({
                            heightOfCollapseExceptForLastNode: this.collapseRef.offsetHeight - this.lastNodeInCollapseRef.offsetHeight + paddingTopNumOfLastNodeInCollapse,
                            heightOfFirstNodeOfLastNodeInCollapse: firstNodeOfLastNodeInCollapse.offsetHeight - paddingTopNumOfFirstNodeOfLastNodeInCollapse
                        });
                    }
                }
                this.props.drawCollapseLine && this.props.drawCollapseLine();
            });
        };
        // Return child data sources which are selectable.
        this.getSelectableChildNodes = (ds) => {
            if (!ds) {
                return [];
            }
            const childDss = this.props.getChildDataSources(ds) || [];
            const childNodes = childDss.filter(d => this.props.isNodeSelectable(d));
            return childNodes;
        };
        // Return all child nodes, which self is selectable or which contans selectable descendant node.
        this.getChildNodes = (ds) => {
            if (!ds) {
                return [];
            }
            const childDss = this.props.getChildDataSources(ds) || [];
            const childNodes = childDss.filter(d => this.props.isNodeSelectable(d) || this.getChildNodes(d).length > 0);
            return childNodes;
        };
        this.getLabel = () => {
            const parentDsLabel = this.props.getLabel(this.props.dataSource) || this.props.dataSource.id;
            return this.props.label ? `${this.props.label} / ${parentDsLabel}` : parentDsLabel;
        };
        this.getHideLineStyle = () => {
            return {
                height: `${this.state.heightOfCollapseExceptForLastNode + this.state.heightOfFirstNodeOfLastNodeInCollapse / 2}px`
            };
        };
        /**
         * If one node A is unselectable and it has only one child node A1 and the child node A1 is unselectable,
         * the node A should join it's child node A1 and render as one unselectable node (label is `A / A1`).
         */
        this.getWhetherUnselectableParentAndChildNodeCanJoin = () => {
            const isCurrentNodeSelectable = this.props.isNodeSelectable(this.props.dataSource);
            if (isCurrentNodeSelectable) {
                return false;
            }
            else {
                const childNodes = this.getChildNodes(this.props.dataSource);
                const selectableChildNodes = this.getSelectableChildNodes(this.props.dataSource);
                const hasSelectableChildNodes = selectableChildNodes.length > 0;
                return !hasSelectableChildNodes && childNodes.length === 1;
            }
        };
        this.getIsOpen = () => {
            if (typeof this.props.isOpen === 'boolean') {
                return this.props.isOpen;
            }
            else {
                return this.state.isOpen;
            }
        };
        this.getRenderContent = (isRootTree, isChildTreeTheRealRootTree) => {
            var _a;
            if (!this.props.dataSource) {
                return null;
            }
            const childNodes = this.getChildNodes(this.props.dataSource);
            const hasChildNodes = childNodes.length > 0;
            const isRootNodeSelectable = this.props.isNodeSelectable(this.props.dataSource);
            if (!isRootNodeSelectable && !hasChildNodes) {
                return null;
            }
            const selectableChildNodes = this.getSelectableChildNodes(this.props.dataSource);
            const hasSelectableChildNodes = selectableChildNodes.length > 0;
            const label = this.getLabel();
            const canUnselectableParentAndChildNodeJoin = this.getWhetherUnselectableParentAndChildNodeCanJoin();
            const DsItems = childNodes.map((ds, index) => {
                var _a;
                if (ds && ds.id) {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { 
                        // eslint-disable-next-line
                        key: ds.id, ref: n => { index === childNodes.length - 1 ? this.lastNodeInCollapseRef = n : undefined; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'pt-4': index !== 0 }) }, this.props.getChildDataSources(ds).length > 0
                        ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(DataSourceTree, Object.assign({}, this.props, { dataSource: ds, label: canUnselectableParentAndChildNodeJoin ? label : '', drawCollapseLine: this.drawCollapseLine, isChildTree: !isChildTreeTheRealRootTree }))
                        : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center' },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('collapse-button leaf') }),
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('d-flex align-items-center w-100 z-index-1'), role: 'option', "aria-selected": (_a = this.props.useDataSources) === null || _a === void 0 ? void 0 : _a.some(u => (u === null || u === void 0 ? void 0 : u.mainDataSourceId) === ds.id) }, this.props.renderSelectableNode && this.props.renderSelectableNode(ds)))));
                }
                return null;
            });
            if (hasSelectableChildNodes || isRootNodeSelectable || !canUnselectableParentAndChildNodeJoin) {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { role: 'group' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex align-items-center' },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('collapse-button', { root: !this.props.isChildTree }) }, hasChildNodes &&
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: 'tertiary', icon: true, size: 'sm', onClick: this.toggleChildDss, className: 'w-10 px-0 d-flex align-items-center jimu-outline-inside', title: this.getIsOpen()
                                    ? this.props.intl.formatMessage({ id: 'collapse', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.collapse })
                                    : this.props.intl.formatMessage({ id: 'expand', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.expand }), "aria-label": this.getIsOpen()
                                    ? `${this.props.intl.formatMessage({ id: 'collapse', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.collapse })}. ${this.props.getLabel(this.props.dataSource)}`
                                    : `${this.props.intl.formatMessage({ id: 'expand', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.expand })}. ${this.props.getLabel(this.props.dataSource)}` },
                                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: this.getIsOpen() ? (jimu_icons_svg_outlined_editor_minus_circle_svg__WEBPACK_IMPORTED_MODULE_3___default()) : (jimu_icons_svg_outlined_editor_plus_circle_svg__WEBPACK_IMPORTED_MODULE_4___default()), size: '12' }))),
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: `d-flex align-items-center w-100 z-index-1 ${FIRST_NODE_IN_COLLAPSE}`, role: isRootNodeSelectable ? 'option' : undefined, "aria-selected": isRootNodeSelectable ? (_a = this.props.useDataSources) === null || _a === void 0 ? void 0 : _a.some(u => (u === null || u === void 0 ? void 0 : u.mainDataSourceId) === this.props.dataSource.id) : undefined }, isRootNodeSelectable
                            ? this.props.renderSelectableNode && this.props.renderSelectableNode(this.props.dataSource)
                            : this.props.renderUnselectableNode && this.props.renderUnselectableNode(label, this.props.dataSource, isRootTree))),
                    hasChildNodes &&
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Collapse, { isOpen: this.getIsOpen(), className: 'collapse-content', innerRef: n => { this.collapseRef = n; }, onEntering: this.drawCollapseLine, onExiting: this.drawCollapseLine, onEntered: this.drawCollapseLine, onExited: this.drawCollapseLine },
                            DsItems,
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('collapse-line', { root: !this.props.isChildTree }), style: this.getHideLineStyle() }))));
            }
            else {
                if (hasChildNodes) {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { role: 'group' }, DsItems));
                }
                else {
                    return null;
                }
            }
        };
        /**
         * If the root node is unselectable and it has only one child node and the child node is unselectable,
         * the root node should join it's child node and render as one unselectable node (label is `${root node's label} / ${child node's label}`).
         * Then the child node will become root node.
         */
        this.getWhetherChildTreeIsTheRealRootTree = () => {
            const canUnselectableParentAndChildNodeJoin = this.getWhetherUnselectableParentAndChildNodeCanJoin();
            const isChildTreeTheRealRootTree = !this.props.isChildTree && canUnselectableParentAndChildNodeJoin;
            return isChildTreeTheRealRootTree;
        };
        this.state = {
            isOpen: typeof this.props.defaultOpen === 'boolean' ? this.props.defaultOpen : this.getNeedAutoOpen(this.props.dataSource),
            heightOfFirstNodeOfLastNodeInCollapse: 0,
            heightOfCollapseExceptForLastNode: 0
        };
    }
    componentDidMount() {
        this.intersectionObserver = new IntersectionObserver(entries => {
            const entry = entries[0];
            /**
             * If the component is not in viewport, the position of DOMs may not correct, which causes the collapse line is not correct.
             * When the component appears in viewport, draw the collapse line again.
             */
            if (entry.intersectionRatio > 0) {
                this.drawCollapseLine();
            }
        });
        this.intersectionObserver.observe(this.rootRef);
    }
    componentDidUpdate(prevProps) {
        if (this.props.isNodeSelectable !== prevProps.isNodeSelectable || this.props.getChildDataSources(this.props.dataSource).length !== prevProps.getChildDataSources(prevProps.dataSource).length) {
            this.drawCollapseLine();
        }
    }
    componentWillUnmount() {
        this.__unmounted = true;
        this.intersectionObserver.disconnect();
    }
    render() {
        const isChildTreeTheRealRootTree = this.getWhetherChildTreeIsTheRealRootTree();
        const isRootTree = !this.props.isChildTree && !isChildTreeTheRealRootTree;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { [this.props.className]: !!this.props.className }), ref: n => { this.rootRef = n; } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('component-data-source-tree', {
                    bg: this.props.useDefaultBackground && isRootTree && this.getIsOpen() && this.getChildNodes(this.props.dataSource).length > 0,
                    'tree-root': isRootTree
                }) }, this.getRenderContent(isRootTree, isChildTreeTheRealRootTree))));
    }
}
/**
 * The data source tree has two kinds of node, selectable node and unselectable node.
 * Selectable node means the node can be selected and unselectable node means the node can not be selected.
 * The rules to generate unselectable node:
 * 1. If node A can not be selected and all descendant nodes of A can not be selected, the subtree using A as root node will be hidden.
 * 2. If node A can not be selected and some descendant nodes of A can be selected, A will only render as a label.
 * 3. If node A can not be selected, A's child node A1 also can not be selected and A1's child node A11 can be selected,
 *    A11's parent node will be a unselectable node and the label will be `A / A11`.
 */
const DataSourceTree = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.withStyles)(_DataSourceTree, 'DataSourceTree'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/data-view-setting-popup.tsx":
/*!******************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/data-view-setting-popup.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataViewSettingPopup: () => (/* binding */ DataViewSettingPopup)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data-source-remove-warning-popup */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-remove-warning-popup.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_filled_suggested_warning_circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/filled/suggested/warning-circle */ "./jimu-icons/filled/suggested/warning-circle.tsx");
/* harmony import */ var jimu_icons_outlined_editor_edit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/editor/edit */ "./jimu-icons/outlined/editor/edit.tsx");
/* harmony import */ var jimu_icons_outlined_editor_duplicate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-icons/outlined/editor/duplicate */ "./jimu-icons/outlined/editor/duplicate.tsx");
/* harmony import */ var jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/outlined/editor/trash */ "./jimu-icons/outlined/editor/trash.tsx");
/* harmony import */ var jimu_icons_outlined_data_globe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/data/globe */ "./jimu-icons/outlined/data/globe.tsx");
/** @jsx jsx */










const MIN_RECORD_COUNT = 1;
const DEFAULT_RECORD_COUNT = 100;
const MIN_PAGE_SIZE = 1;
const LOCAL_LOAD_PREFIX = 'DATA_VIEW_SETTING';
const PREVIEW_TABLE_PAGE_SIZE = 15;
class _DataViewSettingPopup extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.titleInput = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.editButton = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.__unmount = false;
        this.lastScrollTop = 0; // used to get scroll direction
        this.lastTimeToggleTileInput = new Date().getTime();
        this.pendingLoadLocalDsPromise = null;
        this.previousLabel = '';
        this.getLocalDataSource = () => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.getLocalDataSourceId());
        };
        this.initPagination = () => {
            this.setState({
                pagination: {
                    page: 1,
                    pageSize: typeof this.state.dataView.maximum === 'number' ? Math.min(this.state.dataView.maximum, PREVIEW_TABLE_PAGE_SIZE) : PREVIEW_TABLE_PAGE_SIZE
                }
            });
        };
        this.setQueryParams = () => {
            const dataView = this.state.dataView;
            const maxPage = typeof (dataView === null || dataView === void 0 ? void 0 : dataView.maximum) === 'number'
                ? (dataView.maximum <= PREVIEW_TABLE_PAGE_SIZE ? 1 : Math.ceil(dataView.maximum / PREVIEW_TABLE_PAGE_SIZE))
                : null;
            const pageSize = typeof (dataView === null || dataView === void 0 ? void 0 : dataView.maximum) === 'number'
                ? Math.min(dataView.maximum, PREVIEW_TABLE_PAGE_SIZE)
                : PREVIEW_TABLE_PAGE_SIZE;
            let page = this.state.pagination.page;
            if (maxPage) {
                if (page + 1 <= maxPage) {
                    page += 1;
                }
            }
            else {
                page += 1;
            }
            this.setState({
                pagination: {
                    page,
                    pageSize
                }
            });
        };
        this.setLocalDataSource = () => {
            var _a, _b, _c, _d;
            this.setState({ isLocalDataSourceCreated: false });
            const dataView = (_a = this.state.dataView) === null || _a === void 0 ? void 0 : _a.set('orderBy', (_c = (_b = this.state.dataView) === null || _b === void 0 ? void 0 : _b.orderBy) === null || _c === void 0 ? void 0 : _c.filter(orderByOptions => !!orderByOptions.jimuFieldName));
            const dsJson = this.props.mainDataSource.getDataSourceJson().set('id', this.getLocalDataSourceId())
                .set('query', dataView)
                .set('isHidden', true)
                .without('dataViews');
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(this.getLocalDataSourceId());
            if (!ds) {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource({ id: dsJson.id, dataSourceJson: dsJson, layer: (_d = this.props.mainDataSource) === null || _d === void 0 ? void 0 : _d.layer })
                    .then(() => {
                    if (!this.__unmount && this.props.isOpen) {
                        this.setState({ isLocalDataSourceCreated: true });
                    }
                }, err => {
                    console.error('Preview table error: ', err);
                    if (!this.__unmount && this.props.isOpen) {
                        this.setState({ isLocalDataSourceCreated: true });
                    }
                });
            }
            else {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().updateDataSourceByDataSourceJson(ds, dsJson);
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
                    if (!this.__unmount && this.props.isOpen) {
                        this.setState({
                            isLocalDataSourceCreated: true
                        });
                    }
                });
            }
        };
        this.loadLocalDataSource = () => {
            if (!this.getLocalDataSource()) {
                return;
            }
            if (this.pendingLoadLocalDsPromise) {
                this.pendingLoadLocalDsPromise.cancel();
            }
            this.setState({ isLocalDataSourceLoaded: false });
            let query = Object.assign({ page: 1, pageSize: this.state.pagination.page * this.state.pagination.pageSize }, { outFields: ['*'] });
            // if not setting main data source, need to merge main data source query and local query
            if (!this.props.isSettingMainDataSource) {
                const mainDsQuery = this.props.mainDataSource.getConfigQueryParams() || {};
                // order by fields of main data source should not affect data views
                delete mainDsQuery.orderByFields;
                query = this.props.mainDataSource.mergeQueryParams(mainDsQuery, query);
            }
            this.pendingLoadLocalDsPromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.cancelablePromise.cancelable(this.getLocalDataSource().load(query, { widgetId: this.getLocalDataSourceId(), scope: jimu_core__WEBPACK_IMPORTED_MODULE_0__.QueryScope.InConfigView })
                .then(() => {
                var _a;
                if (!this.__unmount && this.props.isOpen) {
                    this.setState({
                        isLocalDataSourceLoaded: true,
                        previewTableRecords: (_a = this.getLocalDataSource()) === null || _a === void 0 ? void 0 : _a.getRecordsByPage(1, this.state.pagination.pageSize * this.state.pagination.page)
                    });
                    this.pendingLoadLocalDsPromise = null;
                }
            }, err => {
                console.error('Preview table error: ', err);
                if (!this.__unmount && this.props.isOpen) {
                    this.setState({
                        isLocalDataSourceLoaded: true,
                        previewTableRecords: []
                    });
                    this.pendingLoadLocalDsPromise = null;
                }
            }));
        };
        this.getUseDataSource = (dataSource) => {
            if (!dataSource) {
                return null;
            }
            const rootDs = dataSource.getRootDataSource();
            const mainDs = dataSource.getMainDataSource();
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                dataSourceId: dataSource.id,
                rootDataSourceId: rootDs && rootDs.id,
                mainDataSourceId: mainDs && mainDs.id
            });
        };
        this.getNewDataView = (dataSource) => {
            if (!dataSource) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            }
            const dsJson = dataSource.getDataSourceJson();
            const dataViewIds = (dsJson === null || dsJson === void 0 ? void 0 : dsJson.dataViews) ? Object.keys(dsJson.dataViews) : null;
            const nextViewIndex = dataViewIds && dataViewIds.map(id => id.split('_')[1]).filter(splitedId => this.isNumeric(splitedId)).length > 0
                ? Math.max.apply(null, dataViewIds.map(id => id.split('_')[1]).filter(splitedId => this.isNumeric(splitedId))) + 1
                : 1;
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                id: this.props.newDataViewId || `dataView_${nextViewIndex}`,
                label: this.props.newDataViewLabel || `${this.props.intl.formatMessage({ id: 'dataView', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.dataView })} ${nextViewIndex}`
            });
        };
        this.getPreviewTable = (ds, records, label) => {
            const schema = ds === null || ds === void 0 ? void 0 : ds.getSchema();
            const fields = schema === null || schema === void 0 ? void 0 : schema.fields;
            if (!records || !fields) {
                return null;
            }
            const sortedFields = Object.values(fields).sort((f1, f2) => { var _a; return (_a = f1.name) === null || _a === void 0 ? void 0 : _a.localeCompare(f2.name); });
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-container mr-2', onScroll: this.onScroll },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-header' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("table", null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("caption", { className: 'sr-only' }, label),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead", null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr", { className: 'd-flex' }, sortedFields.map((f, index) => {
                                const isDomainField = !!(ds && jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getCodedValueListForCodedValueOrSubtypeField(ds.getLayerDefinition(), f.jimuName));
                                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { key: index },
                                    isDomainField && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_data_globe__WEBPACK_IMPORTED_MODULE_9__.GlobeOutlined, { className: 'mr-1 domain-field-icon', title: this.props.intl.formatMessage({ id: 'domainField', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.domainField }) }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { title: f.alias || f.name }, f.alias || f.name));
                            }))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-body' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("table", null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody", null, records.map((r, index) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr", { className: 'd-flex', key: index }, sortedFields.map((f, index) => {
                            const value = r.getFormattedFieldValue(f.jimuName, this.props.intl);
                            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { key: index, title: value }, value);
                        }))))))));
        };
        this.isNumeric = (n) => {
            return !isNaN(parseFloat(n)) && isFinite(n);
        };
        this.onScroll = e => {
            const clientHeight = e.target.clientHeight;
            const scrollHeight = e.target.scrollHeight;
            const scrollTop = e.target.scrollTop;
            const isBottom = scrollHeight - (clientHeight + scrollTop) <= 10;
            const isScrollDown = scrollTop > this.lastScrollTop;
            this.lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
            if (this.state.isLocalDataSourceCreated && this.state.isLocalDataSourceLoaded && isBottom && isScrollDown) {
                this.setQueryParams();
            }
        };
        this.onDuplicate = () => {
            var _a;
            if (!this.props.onDuplicate) {
                return;
            }
            let newDataView = this.getNewDataView(this.props.mainDataSource);
            newDataView = this.state.dataView ? this.state.dataView.merge(newDataView.asMutable({ deep: true })) : newDataView;
            if ((_a = this.state.dataView) === null || _a === void 0 ? void 0 : _a.label) {
                newDataView = newDataView.set('label', this.getDuplicateLabel(this.state.dataView.label));
            }
            this.props.onDuplicate(newDataView);
        };
        this.onRemove = e => {
            var _a, _b, _c;
            e.stopPropagation();
            e.nativeEvent.stopImmediatePropagation();
            const dsId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId((_a = this.props.mainDataSource) === null || _a === void 0 ? void 0 : _a.id, (_b = this.props.dataView) === null || _b === void 0 ? void 0 : _b.id);
            const relatedWidgets = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getWidgetsUsingDsOrItsDescendantDss)(dsId, this.props.widgets);
            if (relatedWidgets.length === 0) {
                if (this.state.getAppConfigAction) {
                    this.removeDataView((_c = this.props.dataView) === null || _c === void 0 ? void 0 : _c.id);
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(dsId);
                }
                this.afterRemove();
                this.props.toggle();
            }
            else {
                this.setState({ isRemoveWarningOpen: true }, () => { this.props.toggle(); });
            }
        };
        this.afterRemove = () => {
            this.props.afterRemove && this.props.afterRemove(this.props.dataView);
        };
        this.removeDataView = (dataViewId) => {
            var _a;
            if (!dataViewId || !this.state.getAppConfigAction) {
                return;
            }
            const dsJson = (_a = this.props.mainDataSource) === null || _a === void 0 ? void 0 : _a.getDataSourceJson();
            let dataViews = dsJson.dataViews || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
            dataViews = dataViews.without(dataViewId);
            const rootDsJson = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.editDataSourceJson)(dsJson.setIn(['dataViews'], dataViews));
            this.state.getAppConfigAction().editDataSource(rootDsJson).exec();
        };
        this.onLabelChange = e => {
            this.changeLabel(e.target.value);
        };
        this.changeLabel = (value) => {
            let dataView = this.state.dataView;
            dataView = dataView.set('label', value);
            this.setState({ dataView });
        };
        this.checkLabelOnAccept = (value) => {
            const res = this.checkLabel(value);
            if (!res.valid) {
                this.changeLabel(this.previousLabel);
            }
            return res;
        };
        this.checkLabelOnChange = (value) => {
            return this.checkLabel(value);
        };
        this.checkLabel = (value) => {
            var _a, _b, _c;
            const isLabelChanged = value !== ((_a = this.props.dataView) === null || _a === void 0 ? void 0 : _a.label);
            if (isLabelChanged && (!value || ((_c = (_b = this.props.mainDataSource) === null || _b === void 0 ? void 0 : _b.getDataViews()) === null || _c === void 0 ? void 0 : _c.some(v => v.getLabel() === value)))) {
                return { valid: false, msg: value && this.props.intl.formatMessage({ id: 'duplicatedLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.duplicatedLabel }) };
            }
            return { valid: true };
        };
        this.onSqlExprBuilderChange = (sqlExprObj) => {
            let dataView = this.state.dataView;
            dataView = dataView.set('where', sqlExprObj);
            this.setState({ dataView });
        };
        this.onSortChange = (sortData, index) => {
            let dataView = this.state.dataView;
            dataView = dataView.set('orderBy', sortData);
            this.setState({ dataView });
        };
        this.onPageSizeChange = (value) => {
            let dataView = this.state.dataView;
            const numberValue = typeof value === 'string' ? parseInt(value) : value;
            if (numberValue && numberValue >= MIN_PAGE_SIZE) {
                dataView = dataView.set('pageSize', numberValue);
            }
            else {
                dataView = dataView.without('pageSize');
            }
            this.setState({ dataView });
        };
        this.onToggleMaximum = (e, checked) => {
            let dataView = this.state.dataView;
            if (checked) {
                dataView = dataView.set('maximum', DEFAULT_RECORD_COUNT);
            }
            else {
                dataView = dataView.without('maximum');
            }
            this.setState({ dataView });
        };
        this.onMaximumChange = (value) => {
            let dataView = this.state.dataView;
            const numberValue = typeof value === 'string' ? parseInt(value) : value;
            if (numberValue && numberValue >= MIN_RECORD_COUNT) {
                dataView = dataView.set('maximum', numberValue);
            }
            else {
                dataView = dataView.set('maximum', DEFAULT_RECORD_COUNT);
            }
            this.setState({ dataView });
        };
        this.onApply = () => {
            var _a;
            let dataView = this.state.dataView;
            dataView = dataView === null || dataView === void 0 ? void 0 : dataView.set('orderBy', (_a = dataView === null || dataView === void 0 ? void 0 : dataView.orderBy) === null || _a === void 0 ? void 0 : _a.filter(orderByOptions => !!orderByOptions.jimuFieldName));
            this.props.onApply(dataView);
        };
        this.toggleTitleInput = () => {
            var _a;
            const time = new Date().getTime();
            /**
             * Pressing tab on edit button will trigger KeyUp event of title input, which causes toggle twice quickly.
             * Can not fix the issue by stopping propagation of edit button.
             */
            if (time - this.lastTimeToggleTileInput > 500) {
                this.previousLabel = (_a = this.state.dataView) === null || _a === void 0 ? void 0 : _a.label;
                this.setState({ isTitleInputShown: !this.state.isTitleInputShown });
                this.lastTimeToggleTileInput = time;
            }
        };
        this.toggleRemoveWarning = () => {
            this.setState({ isRemoveWarningOpen: !this.state.isRemoveWarningOpen });
        };
        _DataViewSettingPopup.count++;
        const dataView = this.props.dataView || this.getNewDataView(this.props.mainDataSource);
        this.state = {
            dataView,
            previewTableRecords: [],
            isTitleInputShown: false,
            isRemoveWarningOpen: false,
            isLocalDataSourceCreated: false,
            isLocalDataSourceLoaded: false,
            SqlExpressionBuilder: null,
            Sort: null,
            getAppConfigAction: null,
            isSqlExpressionValid: null,
            pagination: {
                page: 1,
                pageSize: typeof (dataView === null || dataView === void 0 ? void 0 : dataView.maximum) === 'number' ? Math.min(dataView.maximum, PREVIEW_TABLE_PAGE_SIZE) : PREVIEW_TABLE_PAGE_SIZE
            }
        };
    }
    componentDidMount() {
        this.__unmount = false;
        Promise.all([
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-ui/advanced/sql-expression-builder'),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-ui/basic/sql-expression-runtime'),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder')
        ])
            .then(res => {
            const [sqlBuilder, { isSqlExpressionValid }, { getAppConfigAction }] = res;
            if (!this.__unmount) {
                this.setState({
                    SqlExpressionBuilder: sqlBuilder.SqlExpressionBuilder,
                    Sort: sqlBuilder.Sort,
                    getAppConfigAction,
                    isSqlExpressionValid
                });
            }
        });
        if (this.props.isOpen) {
            this.setLocalDataSource();
        }
    }
    componentDidUpdate(prevProps, prevState) {
        var _a, _b, _c, _d;
        // when props' data view changes, need to reset query params and state's data view
        if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(prevProps.dataView, this.props.dataView)) {
            this.initPagination();
            this.setState({
                dataView: this.props.dataView || this.getNewDataView(this.props.mainDataSource)
            }, () => {
                var _a, _b;
                // eslint-disable-next-line
                (_b = (_a = document === null || document === void 0 ? void 0 : document.querySelector) === null || _a === void 0 ? void 0 : _a.call(document, '.modal.jimu-outline-inside.show')) === null || _b === void 0 ? void 0 : _b.focus();
            });
        }
        else { // other operations about local data source should wait util state's data view is updated
            if (this.props.isOpen) {
                // when main data source or state's data view changes, change status to loading and set local data source
                if (!this.getLocalDataSource() ||
                    prevProps.mainDataSource !== this.props.mainDataSource ||
                    !jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual((_a = prevState.dataView) === null || _a === void 0 ? void 0 : _a.without('label'), (_b = this.state.dataView) === null || _b === void 0 ? void 0 : _b.without('label'))) {
                    this.setLocalDataSource();
                }
                // when query params or local data source changes, change status to loading and load records
                if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(prevState.pagination, this.state.pagination) ||
                    (!prevState.isLocalDataSourceCreated && this.state.isLocalDataSourceCreated)) {
                    this.loadLocalDataSource();
                }
            }
        }
        if (((_c = prevState.dataView) === null || _c === void 0 ? void 0 : _c.maximum) !== ((_d = this.state.dataView) === null || _d === void 0 ? void 0 : _d.maximum)) {
            this.initPagination();
        }
        if (prevProps.isOpen && !this.props.isOpen) {
            this.destroyLocalDataSource();
        }
        if (prevState.isTitleInputShown !== this.state.isTitleInputShown) {
            if (this.state.isTitleInputShown && this.titleInput.current) {
                this.titleInput.current.focus();
                this.titleInput.current.select();
            }
            else if (!this.state.isTitleInputShown && this.editButton.current) {
                this.editButton.current.focus();
            }
        }
    }
    componentWillUnmount() {
        var _a;
        this.__unmount = true;
        this.destroyLocalDataSource();
        (_a = this.pendingLoadLocalDsPromise) === null || _a === void 0 ? void 0 : _a.cancel();
    }
    destroyLocalDataSource() {
        if (this.getLocalDataSource()) {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(this.getLocalDataSource().id);
        }
        if (!this.__unmount) {
            // Reset local data source
            this.setState({
                isLocalDataSourceCreated: false,
                isLocalDataSourceLoaded: false,
                previewTableRecords: [],
                dataView: this.props.dataView || this.getNewDataView(this.props.mainDataSource)
            });
            this.initPagination();
        }
    }
    getLocalDataSourceId() {
        return `${LOCAL_LOAD_PREFIX}-${_DataViewSettingPopup.count}`;
    }
    getDuplicateLabel(label) {
        var _a;
        const copy = (_a = this.props.intl.formatMessage({ id: 'copy', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.copy })) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase();
        let newLabel = `${label} ${copy}`;
        let num = 1;
        while (this.props.mainDataSource.getDataSourceJson().dataViews &&
            Object.keys(this.props.mainDataSource.getDataSourceJson().dataViews).find(id => { var _a; return ((_a = this.props.mainDataSource.getDataSourceJson().dataViews[id]) === null || _a === void 0 ? void 0 : _a.label) === newLabel; })) {
            num++;
            newLabel = `${label} ${copy} ${num}`;
        }
        return newLabel;
    }
    render() {
        var _a, _b, _c, _d;
        if (!this.props.mainDataSource.query) {
            return null;
        }
        const dataView = this.state.dataView;
        const dataViewDsId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId((_a = this.props.mainDataSource) === null || _a === void 0 ? void 0 : _a.id, (_b = this.props.dataView) === null || _b === void 0 ? void 0 : _b.id);
        const SqlExpressionBuilder = this.state.SqlExpressionBuilder;
        const Sort = this.state.Sort;
        const isSqlValid = !this.state.isSqlExpressionValid || this.state.isSqlExpressionValid(dataView === null || dataView === void 0 ? void 0 : dataView.where);
        const edit = this.props.intl.formatMessage({ id: 'edit', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.edit });
        const duplicate = this.props.intl.formatMessage({ id: 'duplicate', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.duplicate });
        const remove = this.props.intl.formatMessage({ id: 'delete', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.delete });
        const apply = this.props.intl.formatMessage({ id: 'applyChanges', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.applyChanges });
        const cancel = this.props.intl.formatMessage({ id: 'cancel', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.cancel });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Modal, { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ [this.props.className]: !!this.props.className }), isOpen: this.props.isOpen, centered: true, toggle: this.props.toggle, returnfocusafterclose: 'true', contentClassName: 'data-view-container', backdrop: 'static', keyboard: false, "aria-label": (_c = this.state.dataView) === null || _c === void 0 ? void 0 : _c.label },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalHeader, { className: 'd-flex justify-content-between align-items-center header' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate' }, !this.props.disableRename
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center pr-4' },
                            this.state.isTitleInputShown
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { className: 'flex-grow-1', value: dataView === null || dataView === void 0 ? void 0 : dataView.label, onChange: this.onLabelChange, ref: this.titleInput, onBlur: this.toggleTitleInput, onKeyUp: this.toggleTitleInput, checkValidityOnChange: this.checkLabelOnChange, checkValidityOnAccept: this.checkLabelOnAccept })
                                : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate' }, dataView === null || dataView === void 0 ? void 0 : dataView.label),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'flex-shrink-0 ml-2 jimu-outline-inside', type: 'tertiary', size: 'sm', icon: true, onClick: this.toggleTitleInput, title: edit, "aria-label": edit, ref: this.editButton },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_edit__WEBPACK_IMPORTED_MODULE_6__.EditOutlined, { size: 'm' })))
                        : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate', title: dataView === null || dataView === void 0 ? void 0 : dataView.label }, dataView === null || dataView === void 0 ? void 0 : dataView.label)),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-shrink-0' },
                        !this.props.disableDuplicate && this.props.dataView &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'flex-shrink-0 cicle-button mr-4', type: 'default', size: 'sm', icon: true, onClick: this.onDuplicate, title: duplicate, "aria-label": duplicate, disabled: !isSqlValid },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_duplicate__WEBPACK_IMPORTED_MODULE_7__.DuplicateOutlined, { size: 'm' })),
                        !this.props.disableRemove && this.props.dataView &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'flex-shrink-0 cicle-button', type: 'default', size: 'sm', icon: true, onClick: this.onRemove, title: remove, "aria-label": remove },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_8__.TrashOutlined, { size: 'm' })))),
                dataView
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalBody, { className: 'd-flex' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-38 h-100 flex-shrink-0 setting-table' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tabs, { type: 'underline', fill: true, className: 'h-100', defaultValue: 'filter' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: 'filter', className: 'view-tab', title: this.props.intl.formatMessage({ id: 'filter', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.filter }) }, SqlExpressionBuilder && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SqlExpressionBuilder, { dataSource: this.props.mainDataSource, mode: jimu_core__WEBPACK_IMPORTED_MODULE_0__.SqlExpressionMode.Simple, expression: dataView.where, onChange: this.onSqlExprBuilderChange, queryScope: this.props.isSettingMainDataSource && jimu_core__WEBPACK_IMPORTED_MODULE_0__.QueryScope.InRemoteConfigView })),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: 'sort', className: 'view-tab', title: this.props.intl.formatMessage({ id: 'sort', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.sort }) }, Sort && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Sort, { onChange: this.onSortChange, value: dataView.orderBy || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]), useDataSource: this.getUseDataSource(this.props.mainDataSource) })),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Tab, { id: 'records', className: 'view-tab', title: this.props.intl.formatMessage({ id: 'records', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.records }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: { paddingRight: 2, paddingTop: 2 } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between mb-4' },
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { for: 'data-view-setting-page-size-input', className: 'label' }, this.props.intl.formatMessage({ id: 'pageSize', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.pageSize })),
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NumericInput, { size: 'sm', value: dataView.pageSize || jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.DEFAULT_QUERY_PAGE_SIZE, onAcceptValue: this.onPageSizeChange, showHandlers: false, precision: 0, min: MIN_PAGE_SIZE, id: 'data-view-setting-page-size-input' })),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between mb-2' },
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { for: 'data-view-setting-max-records', className: 'label' }, this.props.intl.formatMessage({ id: 'maximum', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.maximum })),
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Switch, { id: 'data-view-setting-max-records', checked: typeof dataView.maximum === 'number', onChange: this.onToggleMaximum })),
                                        typeof dataView.maximum === 'number' &&
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between mb-4' },
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { for: 'data-view-setting-max-records-hint', className: 'label' }, this.props.intl.formatMessage({ id: 'maximumLimitationWarning', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.maximumLimitationWarning })),
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Link, { to: 'https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-FeatureLayerView.html#maximumNumberOfFeatures', className: 'ml-2 jimu-outline-inside', target: '_blank', id: 'data-view-setting-max-records-hint' }, this.props.intl.formatMessage({ id: 'details', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.details }))),
                                        typeof dataView.maximum === 'number' &&
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between mb-4' },
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Label, { for: 'data-view-setting-max-records-num', className: 'label' }, this.props.intl.formatMessage({ id: 'maximumRecordCount', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.maximumRecordCount })),
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NumericInput, { size: 'sm', value: dataView.maximum, onAcceptValue: this.onMaximumChange, precision: 0, min: MIN_RECORD_COUNT, showHandlers: false, id: 'data-view-setting-max-records-num' })))))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-62 h-100 flex-grow-1 preview-table' },
                            this.getPreviewTable(this.getLocalDataSource(), this.state.previewTableRecords, (_d = this.props.dataView) === null || _d === void 0 ? void 0 : _d.label),
                            (!this.state.isLocalDataSourceCreated || !this.state.isLocalDataSourceLoaded) &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Primary })))
                    : null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ModalFooter, { className: 'd-flex justify-content-between pb-30' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, !isSqlValid &&
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'sql-exp-warning text-truncate', title: this.props.intl.formatMessage({ id: 'sqlExprIncomplete', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.sqlExprIncomplete }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_filled_suggested_warning_circle__WEBPACK_IMPORTED_MODULE_5__.WarningCircleFilled, { size: 'l', className: 'sql-exp-warning-icon mr-2' }),
                            this.props.intl.formatMessage({ id: 'sqlExprIncomplete', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.sqlExprIncomplete }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { className: 'mr-10', type: 'primary', onClick: this.onApply, disabled: !isSqlValid, title: apply, "aria-label": apply }, apply),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'default', onClick: this.props.toggle, title: cancel, "aria-label": cancel }, cancel)))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_2__.DataSourceRemoveWarningPopup, { dataSourceId: dataViewDsId, isOpen: this.state.isRemoveWarningOpen, afterRemove: this.afterRemove, toggle: this.toggleRemoveWarning, reason: _data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_2__.DataSourceRemoveWaringReason.DataSourceRemoved })));
    }
}
_DataViewSettingPopup.count = -1;
const mapStateToProps = (state, ownProps) => {
    var _a, _b, _c, _d;
    return {
        widgets: ((_a = state === null || state === void 0 ? void 0 : state.appContext) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.appConfig) === null || _c === void 0 ? void 0 : _c.widgets : (_d = state === null || state === void 0 ? void 0 : state.appConfig) === null || _d === void 0 ? void 0 : _d.widgets
    };
};
// eslint-disable-next-line
const __DataViewSettingPopup = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_DataViewSettingPopup);
const DataViewSettingPopup = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_4__.withStyles)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(__DataViewSettingPopup), 'DataViewSettingPopup');


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/components/url-input.tsx":
/*!*********************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/components/url-input.tsx ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/utils.ts");



let selectDataHelpUrlPromise = null;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmounted = false;
        this.dataSourceUrlTypes = [{
                label: this.props.intl.formatMessage({ id: 'anArcGISServerWebService', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.anArcGISServerWebService })
            } /* , {
              label: 'Other types'
            } */
        ];
        this.onUrlTypesClicked = e => {
            this.setState({ selectedDataSourceUrlType: e.target.value });
        };
        this.onInputUrl = e => {
            this.setState({
                url: e.target.value
            });
        };
        this.onAdded = () => {
            if (this.state.url) {
                const url = this.state.url.split('?')[0];
                if (!url) {
                    return;
                }
                this.props.toggleLoadedStatus(false);
                return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getDsJsonFromService)(url, this.props.getDsId()).then(res => {
                    this.props.onAdded(res.dsJson, res.label);
                    this.props.toggleLoadedStatus(true);
                }, err => {
                    console.error(err);
                    // If cancele the sign in, shouldn't show error.
                    let errorMsg = '';
                    if ((err === null || err === void 0 ? void 0 : err.code) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.SignInErrorCode.SignInCanceled) {
                        if (err === null || err === void 0 ? void 0 : err.isSignInError) {
                            errorMsg = err.message2;
                        }
                        else {
                            errorMsg = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getErrorTextFromErrorCode)(err, this.props.intl);
                        }
                    }
                    errorMsg && this.props.toggleToastStatus(true, errorMsg);
                    this.props.toggleLoadedStatus(true);
                });
            }
        };
        this.checkServiceUrl = (url) => {
            let isSupported = false;
            if ((/^https:\/\//.test(url) || /^\/\//.test(url)) && jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.isSupportedArcGISService(url, [jimu_core__WEBPACK_IMPORTED_MODULE_0__.SupportedServerTypes.FeatureService, jimu_core__WEBPACK_IMPORTED_MODULE_0__.SupportedServerTypes.MapService, jimu_core__WEBPACK_IMPORTED_MODULE_0__.SupportedServerTypes.SceneService])) {
                isSupported = true;
            }
            return { valid: isSupported };
        };
        this.state = {
            selectedDataSourceUrlType: this.dataSourceUrlTypes[0],
            url: '',
            selectDataHelpUrl: null
        };
    }
    componentDidMount() {
        this.__unmounted = false;
        if (!selectDataHelpUrlPromise) {
            selectDataHelpUrlPromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule('jimu-for-builder')
                .then(module => module.helpUtils)
                .then(helpUtils => helpUtils.getBuildAppsHelpLink('select-data'));
        }
        selectDataHelpUrlPromise.then(url => {
            if (!this.__unmounted) {
                this.setState({
                    selectDataHelpUrl: url
                });
            }
        });
    }
    componentWillUnmount() {
        this.__unmounted = true;
    }
    render() {
        const add = this.props.intl.formatMessage({ id: 'add', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.add });
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'external-data-source-url-input' },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-4 ml-2' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("h5", { className: 'url-input-label' }, this.props.intl.formatMessage({ id: 'serviceType', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.serviceType })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: this.state.selectedDataSourceUrlType.label, title: this.state.selectedDataSourceUrlType.label, onChange: this.onUrlTypesClicked, className: 'url-type-select', buttonProps: {
                        className: 'text-truncate'
                    } }, this.dataSourceUrlTypes.map((t) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("option", { key: t.label, value: t.label }, t.label)))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-5 ml-2' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("h5", { className: 'url-input-label' }, this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { checkValidityOnChange: this.checkServiceUrl, placeholder: 'URL', onChange: this.onInputUrl, className: 'url-input', value: this.state.url }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("p", { className: 'mt-2 hint-label' }, this.props.intl.formatMessage({ id: 'addDataByUrlHint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addDataByUrlHint })),
                    this.state.selectDataHelpUrl && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Link, { to: this.state.selectDataHelpUrl, className: 'ml-2 font-size-12', target: '_blank' }, this.props.intl.formatMessage({ id: 'details', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.details })))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-4 ml-2' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.onAdded, type: 'primary', disabled: !this.checkServiceUrl(this.state.url).valid, className: 'url-input-add-btn px-4', title: add, "aria-label": add }, add))));
    }
});


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/index.tsx":
/*!******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/index.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExternalDataSourceSelector: () => (/* binding */ ExternalDataSourceSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/basic/item-selector */ "jimu-ui/basic/item-selector");
/* harmony import */ var _components_url_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/url-input */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/components/url-input.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/utils.ts");
/* harmony import */ var _data_source_tree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data-source-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_outlined_application_visible__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/outlined/application/visible */ "./jimu-icons/outlined/application/visible.tsx");
/* harmony import */ var jimu_icons_outlined_application_invisible__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/application/invisible */ "./jimu-icons/outlined/application/invisible.tsx");
/* harmony import */ var jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/directional/down */ "./jimu-icons/outlined/directional/down.tsx");
/* harmony import */ var jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! jimu-icons/outlined/directional/up */ "./jimu-icons/outlined/directional/up.tsx");
/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jimu-core/data-source */ "jimu-core/data-source");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */



// import AppData from './app-data';










var TabTypes;
(function (TabTypes) {
    TabTypes["WebMap"] = "Web Map";
    TabTypes["WebScene"] = "Web Scene";
    TabTypes["Layers"] = "Layers";
    TabTypes["Url"] = "URL";
})(TabTypes || (TabTypes = {}));
const TabTypeToItemType = {
    [TabTypes.WebMap]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebMap,
    [TabTypes.WebScene]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebScene,
    [TabTypes.Layers]: [jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.MapService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.SceneService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureCollection, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.GroupLayer]
};
const DsTypeToItemType = {
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebMap]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebMap,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebScene]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebScene,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureLayer]: [jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebMap, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebScene, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.MapService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureCollection],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer]: [jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebScene, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.SceneService],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.GroupLayer]: [jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebMap, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.WebScene, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.MapService, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureCollection, jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.GroupLayer],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureService]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.FeatureService,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.MapService]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.MapService,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneService]: jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemTypes.SceneService
};
const DsTypeToTabType = {
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebMap]: TabTypes.WebMap,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.WebScene]: TabTypes.WebScene,
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureLayer]: [TabTypes.WebMap, TabTypes.WebScene, TabTypes.Layers, TabTypes.Url],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer]: [TabTypes.WebScene, TabTypes.Layers, TabTypes.Url],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.GroupLayer]: [TabTypes.WebMap, TabTypes.WebScene, TabTypes.Layers, TabTypes.Url],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureService]: [TabTypes.Layers, TabTypes.Url],
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.MapService]: [TabTypes.Layers, TabTypes.Url], // If it is map service, should not show webmap and webscene tabs, see issue #9083.
    [jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneService]: [TabTypes.Layers, TabTypes.Url]
};
const TabIcon = {
    [TabTypes.WebMap]: __webpack_require__(/*! jimu-ui/lib/icons/data-map.svg */ "./jimu-ui/lib/icons/data-map.svg"),
    [TabTypes.WebScene]: __webpack_require__(/*! jimu-ui/lib/icons/data-scene.svg */ "./jimu-ui/lib/icons/data-scene.svg"),
    [TabTypes.Layers]: __webpack_require__(/*! jimu-ui/lib/icons/data-layer-16.svg */ "./jimu-ui/lib/icons/data-layer-16.svg"),
    [TabTypes.Url]: __webpack_require__(/*! jimu-ui/lib/icons/widget-link.svg */ "./jimu-ui/lib/icons/widget-link.svg")
};
class _ExternalDataSourceSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.loadingItemNumber = 0;
        this.tabLabel = {
            [TabTypes.WebMap]: this.props.intl.formatMessage({ id: 'webMap', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.webMap }),
            [TabTypes.WebScene]: this.props.intl.formatMessage({ id: 'webScene', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.webScene }),
            [TabTypes.Layers]: this.props.intl.formatMessage({ id: 'layers', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.layers }),
            [TabTypes.Url]: this.props.intl.formatMessage({ id: 'url', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.url })
        };
        this.__unmount = false;
        this.getTabTypeFromDsType = (dsType) => {
            if (!dsType) {
                return [];
            }
            return Array.isArray(DsTypeToTabType[dsType]) ? DsTypeToTabType[dsType] : [DsTypeToTabType[dsType]];
        };
        this.getTabIcon = (tab) => {
            if (!tab) {
                return null;
            }
            return TabIcon[tab];
        };
        this.getTabLabel = (tab) => {
            if (!tab) {
                return null;
            }
            return this.tabLabel[tab];
        };
        this.getElementPosition = (element) => {
            if (!element) {
                return null;
            }
            let x = element.offsetLeft;
            let y = element.offsetTop;
            let parent = element.offsetParent;
            while (parent !== null) {
                x += parent.offsetLeft;
                y += parent.offsetTop;
                parent = parent.offsetParent;
            }
            return { x, y };
        };
        this.getConfigDsId = () => {
            const appState = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState();
            const appConfig = appState && appState.appStateInBuilder && appState.appStateInBuilder.appConfig;
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils.getUniqueId(appConfig, 'dataSource');
        };
        this.getNextDsId = () => {
            if (!this.dataSourceId) {
                this.dataSourceId = this.getConfigDsId();
                return this.dataSourceId;
            }
            const currentName = this.dataSourceId.split('_');
            const id = currentName[1] ? parseInt(currentName[1]) + 1 : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.uuidv1)();
            const name = currentName[0] || 'dataSource';
            this.dataSourceId = `${name}_${id}`;
            return this.dataSourceId;
        };
        this.onItemAdded = (allSelectedItems, latestSelectedItem) => __awaiter(this, void 0, void 0, function* () {
            const dsId = this.getNextDsId();
            try {
                allSelectedItems = allSelectedItems || [];
                this.setState({
                    selectedItems: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(allSelectedItems.map(item => item.id)),
                    partSelectedItems: this.state.partSelectedItems.filter(id => !allSelectedItems.some(selectedItem => selectedItem.id === id))
                });
                // Show loading.
                this.toggleLoadedStatus(false);
                const dsJson = yield this.getDsJsonFromItemOrService(dsId, latestSelectedItem);
                // Hide loading.
                this.toggleLoadedStatus(true);
                this.onDsJsonAdded(dsJson, latestSelectedItem.title);
            }
            catch (err) {
                if (!this.__unmount) {
                    // Hide loading.
                    this.toggleLoadedStatus(true);
                    // Show error warning.
                    this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.ItemInaccessible, this.props.intl));
                    // Reset selected items.
                    this.setState({
                        selectedItems: this.state.selectedItems.filter(id => id !== latestSelectedItem.id),
                        partSelectedItems: this.state.partSelectedItems.filter(id => id !== latestSelectedItem.id)
                    });
                }
                console.error('Failed to add data. ', latestSelectedItem, err);
            }
        });
        this.getDsJsonFromItemOrService = (dsId, item) => __awaiter(this, void 0, void 0, function* () {
            /**
             * If the item is from a single layer (url ends up with layer id), we need to get data source type by layer definition.
             * For example, group layer of a map service can not be identified by item or url, need `type` of layerDefinition.
             */
            if (item.url && jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.isSupportedSingleArcGISLayerService(item.url)) {
                return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getDsJsonFromService)(item.url, dsId, item.portalUrl, item.id).then(res => {
                    var _a;
                    return item.title ? (_a = res.dsJson) === null || _a === void 0 ? void 0 : _a.set('sourceLabel', item.title) : res.dsJson;
                });
            }
            else {
                return jimu_core_data_source__WEBPACK_IMPORTED_MODULE_12__.dataSourceJsonCreator.createDataSourceJsonByItemInfo(dsId, item, item.portalUrl);
            }
        });
        this.onItemRemoved = (allSelectedItems, latestRemovedItem) => {
            this.setState({
                selectedItems: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(allSelectedItems.map(item => item.id)),
                partSelectedItems: this.state.partSelectedItems.filter(id => id !== latestRemovedItem.id)
            });
            this.onDsJsonRemoved(latestRemovedItem.id, null);
        };
        this.onDsJsonAdded = (dsJson, label) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            try {
                if (!dsJson) {
                    throw new Error((0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.DataTypeIsNotSupported, this.props.intl));
                }
                this.setState({
                    selectedDss: this.state.selectedDss.concat(dsJson),
                    selectedDssLabels: this.state.selectedDssLabels.concat({ id: dsJson.id, label })
                });
                yield this.checkSceneLayer(dsJson);
                // If selected data source collapse is open, need to create data source to show the data source tree.
                if (this.state.isSelectedDataCollapseOpen) {
                    const ds = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource(dsJson);
                    this.checkCreatedDss([ds]);
                    if (!this.__unmount) {
                        this.setState({ loadedSelectedDssVersion: this.state.loadedSelectedDssVersion + 1 });
                    }
                }
                this.props.onSelect && this.props.onSelect([dsJson]);
            }
            catch (err) {
                this.clearCacheOfErrorDs(dsJson);
                if (!this.__unmount) {
                    // Show error warning.
                    if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toUpperCase()) === null || _b === void 0 ? void 0 : _b.includes(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.WebMapUnsupportedVersion)) {
                        this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.WebMapUnsupportedVersion, this.props.intl));
                    }
                    else {
                        // If cancele the sign in, shouldn't show error.
                        if ((err === null || err === void 0 ? void 0 : err.code) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.SignInErrorCode.SignInCanceled) {
                            if (err === null || err === void 0 ? void 0 : err.isSignInError) {
                                this.toggleToastStatus(true, err.message1);
                            }
                            else {
                                this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.ItemInaccessible, this.props.intl));
                            }
                        }
                    }
                    // Hide donut loading and reset selected data sources and items.
                    this.setState({
                        loadedSelectedDssVersion: this.state.loadedSelectedDssVersion + 1,
                        selectedDss: this.state.selectedDss.filter(d => d.id !== (dsJson === null || dsJson === void 0 ? void 0 : dsJson.id)),
                        selectedDssLabels: this.state.selectedDssLabels.filter(d => d.id !== (dsJson === null || dsJson === void 0 ? void 0 : dsJson.id)),
                        selectedItems: this.state.selectedItems.filter(id => id !== (dsJson === null || dsJson === void 0 ? void 0 : dsJson.itemId)),
                        partSelectedItems: this.state.partSelectedItems.filter(id => id !== (dsJson === null || dsJson === void 0 ? void 0 : dsJson.itemId))
                    });
                }
                console.error('Failed to create data source. ', dsJson, err);
            }
        });
        this.clearCacheOfErrorDs = (dsJson) => {
            // Clear cache of the error data source.
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(dsJson === null || dsJson === void 0 ? void 0 : dsJson.id);
            if (!this.__unmount) {
                this.onDsJsonRemoved(dsJson === null || dsJson === void 0 ? void 0 : dsJson.itemId, dsJson === null || dsJson === void 0 ? void 0 : dsJson.id);
            }
        };
        /**
         * If data source is scene layer, need to create scene layer data source to check whether it has associated layer or not.
         * If the scene layer dosen't have associated layer, we won't allow to add it.
         */
        this.checkSceneLayer = (dsJson) => __awaiter(this, void 0, void 0, function* () {
            const isSceneLayer = (dsJson === null || dsJson === void 0 ? void 0 : dsJson.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer;
            if (!dsJson || !isSceneLayer) {
                return;
            }
            try {
                this.toggleLoadedStatus(false);
                const ds = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource(dsJson);
                this.checkCreatedDss([ds]);
                this.toggleLoadedStatus(true);
            }
            catch (err) {
                this.clearCacheOfErrorDs(dsJson);
                if (!this.__unmount) {
                    // Hide loading.
                    this.toggleLoadedStatus(true);
                    // Show error warning.
                    this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.SceneLayerWithoutAssociatedLayer, this.props.intl));
                    // Reset selected data sources and items.
                    this.setState({
                        selectedDss: this.state.selectedDss.filter(d => d.id !== dsJson.id),
                        selectedDssLabels: this.state.selectedDssLabels.filter(d => d.id !== dsJson.id),
                        selectedItems: this.state.selectedItems.filter(id => id !== dsJson.itemId),
                        partSelectedItems: this.state.partSelectedItems.filter(id => id !== dsJson.itemId)
                    });
                }
            }
        });
        // Check whether the created data source is still selected.
        this.checkCreatedDss = (dss) => {
            dss === null || dss === void 0 ? void 0 : dss.forEach(ds => {
                // If the created data source is unselected now, will destroy it.
                if (ds && !this.state.selectedDss.some(dsJson => dsJson.id === ds.id && (!ds.getDataSourceJson().itemId || dsJson.itemId === ds.getDataSourceJson().itemId))) {
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(ds.id);
                }
            });
        };
        /**
         * If click close icon to remove selected data source, will remove by data source id.
         * If click an item card to remove selected data, should pass `removeByItemId = true` and remove data by item id.
         */
        this.onDsJsonRemoved = (itemId, dsId) => {
            if (!itemId && !dsId) {
                return;
            }
            const removeDsJsons = itemId
                ? this.state.selectedDss.filter(dsJson => dsJson.itemId === itemId)
                : [this.state.selectedDss.find(dsJson => dsJson.id === dsId)].filter(dsJson => dsJson);
            if (removeDsJsons.length > 0) {
                removeDsJsons.forEach(dsJson => { jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(dsJson.id); });
                const selectedDss = this.state.selectedDss.filter(selectedDs => itemId ? selectedDs.itemId !== itemId : selectedDs.id !== dsId);
                this.setState({
                    selectedDss,
                    selectedDssLabels: this.state.selectedDssLabels.filter(d => selectedDss.some(selectedDs => selectedDs.id === d.id)),
                    selectedItems: this.state.selectedItems.filter(id => id !== itemId),
                    partSelectedItems: this.state.partSelectedItems.filter(id => id !== itemId),
                    isSelectedDataCollapseOpen: selectedDss.length === 0 ? false : this.state.isSelectedDataCollapseOpen
                });
                this.props.onRemove && this.props.onRemove(removeDsJsons);
            }
        };
        this.onDsJsonChange = (dsJson) => {
            const changedDsIndex = this.state.selectedDss.findIndex(d => d.id === dsJson.id);
            const selectedDssCopy = this.state.selectedDss.slice();
            selectedDssCopy.splice(changedDsIndex, 1, dsJson);
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id);
            if (ds) {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().updateDataSourceByDataSourceJson(ds, dsJson);
            }
            const changedItem = this.state.selectedItems.concat(this.state.partSelectedItems).find(id => id === (dsJson === null || dsJson === void 0 ? void 0 : dsJson.itemId));
            let selectedItems = this.state.selectedItems;
            let partSelectedItems = this.state.partSelectedItems;
            if (changedItem) {
                const isPartSelected = this.getWhetherIsPartSelected(dsJson);
                if (isPartSelected) {
                    selectedItems = this.state.selectedItems.filter(id => dsJson.itemId && id !== dsJson.itemId);
                    partSelectedItems = this.state.partSelectedItems.concat(changedItem);
                }
                else {
                    selectedItems = this.state.selectedItems.concat(changedItem);
                    partSelectedItems = this.state.partSelectedItems.filter(id => dsJson.itemId && id !== dsJson.itemId);
                }
            }
            this.setState({
                selectedDss: selectedDssCopy,
                selectedItems,
                partSelectedItems
            });
        };
        this.getWhetherIsPartSelected = (dsJson) => {
            let isPartSelected = false;
            if (dsJson === null || dsJson === void 0 ? void 0 : dsJson.childDataSourceJsons) {
                for (let i = 0; i < Object.values(dsJson.childDataSourceJsons).length; i++) {
                    if (this.getWhetherIsPartSelected(Object.values(dsJson.childDataSourceJsons)[i])) {
                        isPartSelected = true;
                        break;
                    }
                }
            }
            else {
                isPartSelected = dsJson.isHidden;
            }
            return isPartSelected;
        };
        this.toggleSelectedDataCollapse = () => {
            // If selected data source collapse is closed, create data source.
            if (!this.state.isSelectedDataCollapseOpen) {
                this.createSelectedDss();
            }
            this.setState({ isSelectedDataCollapseOpen: !this.state.isSelectedDataCollapseOpen });
        };
        this.createSelectedDss = () => {
            const needToCreateDss = this.state.selectedDss.filter(dsJson => !jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id));
            // If there are some selected data sources not created, will create them first and then open the collapse.
            if (needToCreateDss.length > 0) {
                return Promise.allSettled(needToCreateDss.map(dsJson => jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().createDataSource(dsJson).then(ds => ds.isDataSourceSet ? ds.childDataSourcesReady().then(() => ds) : ds).then(ds => {
                    if (!this.__unmount) {
                        this.setState({ loadedSelectedDssVersion: this.state.loadedSelectedDssVersion + 1 });
                    }
                    return ds;
                }))).then(res => {
                    var _a, _b;
                    const createdRes = res.filter(r => r.status === 'fulfilled');
                    const createdDss = createdRes.map(r => r.value);
                    const failedRes = res.filter(r => r.status === 'rejected');
                    if (failedRes.length > 0) {
                        const failedDss = needToCreateDss.filter(needToCreateDs => !createdDss.some(createdDs => createdDs.id === needToCreateDs.id));
                        failedDss.forEach(failedDs => {
                            this.clearCacheOfErrorDs(failedDs);
                        });
                        if (failedRes.some(r => { var _a, _b, _c; return (_c = (_b = (_a = r.reason) === null || _a === void 0 ? void 0 : _a.message) === null || _b === void 0 ? void 0 : _b.toUpperCase()) === null || _c === void 0 ? void 0 : _c.includes(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.WebMapUnsupportedVersion); })) {
                            this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.WebMapUnsupportedVersion, this.props.intl));
                        }
                        else {
                            // If cancele the sign in, shouldn't show error.
                            if (!failedRes.some(r => { var _a; return ((_a = r.reason) === null || _a === void 0 ? void 0 : _a.code) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.SignInErrorCode.SignInCanceled; })) {
                                if (failedRes.some(r => { var _a; return (_a = r.reason) === null || _a === void 0 ? void 0 : _a.isSignInError; })) {
                                    this.toggleToastStatus(true, (_b = (_a = failedRes.find(r => { var _a; return (_a = r.reason) === null || _a === void 0 ? void 0 : _a.isSignInError; })) === null || _a === void 0 ? void 0 : _a.reason) === null || _b === void 0 ? void 0 : _b.message1);
                                }
                                else {
                                    this.toggleToastStatus(true, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorTextFromErrorCode)(_utils__WEBPACK_IMPORTED_MODULE_4__.AddDataErrorCode.ItemInaccessible, this.props.intl));
                                }
                            }
                        }
                    }
                    this.checkCreatedDss(createdDss);
                    // Check whether there are newly selected data sources.
                    return this.createSelectedDss();
                });
            }
            else {
                return Promise.resolve();
            }
        };
        this.onFinish = () => {
            this.props.onFinish && this.props.onFinish(this.state.selectedDss);
        };
        this.onCancel = () => {
            this.state.selectedDss.forEach(dsJson => { jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().destroyDataSource(dsJson.id); });
            // Reset `selectedDss` to let `checkCreatedDss` get the latest selected data sources.
            this.setState({ selectedDss: [] }, () => {
                this.props.onCancel && this.props.onCancel();
            });
        };
        this.onActiveTabChange = (tab) => {
            this.setState({ activeTab: tab });
        };
        this.toggleLoadedStatus = (isLoaded) => {
            if (isLoaded) { // one item is loaded
                this.loadingItemNumber -= 1; // number of loading items minus one
            }
            else { // a new item is loading
                this.loadingItemNumber += 1; // number of loading items plus one
            }
            if (this.loadingItemNumber > 0) { // one or more items are loading
                this.setState({ isLoaded: false });
            }
            else {
                this.setState({ isLoaded: true }); // no items are loading
            }
        };
        this.toggleToastStatus = (isToastOpen, errorMsg) => {
            if (isToastOpen) {
                this.setState({ isToastOpen, errorMsg }, () => {
                    setTimeout(() => {
                        if (!this.__unmount) {
                            this.setState({
                                isToastOpen: false,
                                errorMsg: null
                            });
                        }
                    }, 5000);
                });
            }
            else {
                this.setState({ isToastOpen, errorMsg });
            }
        };
        this.toggleHideData = (rootDsJson, dataSource) => {
            if (!rootDsJson) {
                return;
            }
            if (dataSource && dataSource.getDataSourceJson().isHidden) {
                this.onDsJsonChange((0,_utils__WEBPACK_IMPORTED_MODULE_4__.traverseUnhideParentDs)(dataSource));
            }
            else {
                if (dataSource && dataSource.id !== rootDsJson.id) {
                    this.onDsJsonChange((0,_utils__WEBPACK_IMPORTED_MODULE_4__.traverseHideChildDs)(dataSource));
                }
                else {
                    // Only can remove a root data and can not toggle to show and hide it.
                    // So to toggle a root data is actually to remove it.
                    this.onDsJsonRemoved(rootDsJson.itemId, rootDsJson.id);
                }
            }
        };
        this.SelectedDataSourceItem = ({ rootDsJson, dsJson, rootDsLabel }) => {
            const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson.id);
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'added-ds-item' },
                !dataSource && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Donut, width: 16, height: 16, className: 'w-25 selected-ds-loading' }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_data_source_tree__WEBPACK_IMPORTED_MODULE_5__.DataSourceTree, { dataSource: dataSource || dsJson, isNodeSelectable: () => true, renderSelectableNode: ds => this.renderDataItem(ds, rootDsJson, rootDsLabel), getChildDataSources: this.getChildDataSources, getLabel: this.getDataSourceLabel })));
        };
        this.getChildDataSources = (dataSource) => {
            if (!dataSource || !dataSource.isDataSourceSet) {
                return [];
            }
            return dataSource.getChildDataSources();
        };
        this.getDataSourceLabel = (dataSource) => {
            return (dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLabel) ? dataSource.getLabel() || dataSource.id : null;
        };
        this.getItemTypes = (dsTypes, tabType) => {
            const itemTypesFromTabType = TabTypeToItemType[tabType];
            if (!dsTypes || dsTypes.length === 0) {
                return Array.isArray(itemTypesFromTabType) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(itemTypesFromTabType) : itemTypesFromTabType;
            }
            else { // Should join item types generated from data source types and item types generated from current tab type.
                const itemTypesFromDsType = Array.from(new Set(dsTypes.asMutable().reduce((itemTypes, dsType) => {
                    return itemTypes.concat(DsTypeToItemType[dsType]);
                }, [])));
                let finalItemTypes = [];
                itemTypesFromDsType.forEach(itemType => {
                    if (Array.isArray(itemTypesFromTabType) ? itemTypesFromTabType.some(t => t === itemType) : itemType === itemTypesFromTabType) {
                        finalItemTypes = finalItemTypes.concat(itemType);
                    }
                });
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(finalItemTypes);
            }
        };
        this.getWhetherHideSingleLayer = (dsTypes, tabType) => {
            if (dsTypes && tabType === TabTypes.Layers) {
                // If allow to select single feature layer or single scene layer, should not hide single layer items.
                return !dsTypes.some(t => t === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureLayer || t === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer);
            }
            // Show single layer items by default.
            return false;
        };
        this.renderDataItem = (ds, rootDsJson, rootDsLabel) => {
            if (!ds) {
                return null;
            }
            const dsJson = ds.getDataSourceJson ? ds.getDataSourceJson() : ds;
            const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(ds.id);
            const isRootDs = ds.id === (rootDsJson === null || rootDsJson === void 0 ? void 0 : rootDsJson.id);
            const l = isRootDs && rootDsLabel ? rootDsLabel : this.getDataSourceLabel(dataSource) || ds.id;
            const clickToShowOrHide = dsJson.isHidden
                ? this.props.intl.formatMessage({ id: 'clickToShow', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clickToShow })
                : ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.parentDataSource)
                    ? this.props.intl.formatMessage({ id: 'clickToHide', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clickToHide })
                    : this.props.intl.formatMessage({ id: 'remove', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.remove }));
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-between w-100 item' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center flex-grow-1 text-truncate', title: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsTypeString(dsJson === null || dsJson === void 0 ? void 0 : dsJson.type, this.props.intl) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-center align-items-center flex-shrink-0 ds-thumbnail' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDsIcon(dsJson), className: 'text-dark', size: '12' })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate pl-2 ds-type', title: l }, l)),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center flex-shrink-0' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', icon: true, onClick: () => { this.toggleHideData(rootDsJson, dataSource); }, title: clickToShowOrHide, "aria-label": clickToShowOrHide }, dsJson.isHidden ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_invisible__WEBPACK_IMPORTED_MODULE_9__.InvisibleOutlined, { size: 's' }) : (dataSource === null || dataSource === void 0 ? void 0 : dataSource.parentDataSource) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_visible__WEBPACK_IMPORTED_MODULE_8__.VisibleOutlined, { size: 's' }) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_7__.CloseOutlined, { size: 's' })))));
        };
        this.getRootDsLabel = (rootDsJson) => {
            var _a;
            return ((_a = this.state.selectedDssLabels.find(d => d.id === (rootDsJson === null || rootDsJson === void 0 ? void 0 : rootDsJson.id))) === null || _a === void 0 ? void 0 : _a.label) || (rootDsJson === null || rootDsJson === void 0 ? void 0 : rootDsJson.id);
        };
        this.setSearchValue = (value) => {
            this.setState({ searchValue: value });
        };
        this.onKeyDown = e => {
            var _a, _b;
            /**
             * Fist time click esc, done button focus, the second time click esc, close button focus.
             */
            if (e.key === 'Esc' || e.key === 'Escape') {
                if (e.target !== this.closeBtnRef.current && e.target !== this.doneBtnRef.current) {
                    // If have the done button, focus it.
                    if (this.doneBtnRef.current) {
                        this.doneBtnRef.current.focus();
                    }
                    else { // Or focus the close button.
                        (_a = this.closeBtnRef.current) === null || _a === void 0 ? void 0 : _a.focus();
                    }
                }
                else if (e.target === this.doneBtnRef.current) {
                    (_b = this.closeBtnRef.current) === null || _b === void 0 ? void 0 : _b.focus();
                }
                else {
                    this.onCancel();
                }
            }
        };
        this.leftMenuRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.closeBtnRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.doneBtnRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        this.state = {
            searchValue: '',
            selectedDss: [],
            selectedItems: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]),
            partSelectedItems: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]),
            selectedDssLabels: [],
            activeTab: this.props.types && this.getTabTypeFromDsType(this.props.types[0]) ? this.getTabTypeFromDsType(this.props.types[0])[0] : TabTypes.WebMap,
            isLoaded: true,
            isToastOpen: false,
            isSelectedDataCollapseOpen: false,
            loadedSelectedDssVersion: 0,
            errorMsg: null
        };
    }
    componentDidMount() {
        // Focus the close button on the component is mounted.
        setTimeout(() => {
            var _a;
            (_a = this.closeBtnRef.current) === null || _a === void 0 ? void 0 : _a.focus();
        }, 500);
    }
    componentWillUnmount() {
        this.__unmount = true;
    }
    render() {
        const SelectedDataSourceItem = this.SelectedDataSourceItem;
        let tabs = [];
        if (this.props.types) {
            // To make sure tab order is the same.
            const usedTabs = Array.from(new Set(Array.prototype.concat.apply([], this.props.types.map(t => this.getTabTypeFromDsType(t)).filter(t => !!t))));
            tabs = Object.values(TabTypes).filter(t => usedTabs.includes(t));
        }
        else {
            tabs = Object.values(TabTypes);
        }
        if ((tabs === null || tabs === void 0 ? void 0 : tabs.length) < 1) {
            return null;
        }
        const close = this.props.intl.formatMessage({ id: 'close', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.close });
        const downUp = this.state.isSelectedDataCollapseOpen ? this.props.intl.formatMessage({ id: 'down', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.down }) : this.props.intl.formatMessage({ id: 'up', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.up });
        const done = this.props.intl.formatMessage({ id: 'done', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.done });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('h-100', { [this.props.className]: !!this.props.className }), onKeyDown: this.onKeyDown },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 component-external-data-source-selector' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex flex-wrap align-items-stretch w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'selector-left', ref: this.leftMenuRef },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: 'selector-left-title', role: 'heading' }, !this.props.isMultiple
                            ? this.props.intl.formatMessage({ id: 'selectData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectData })
                            : this.props.intl.formatMessage({ id: 'addData', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addData })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { underline: true, vertical: true, right: true, className: 'selector-left-tabs' }, tabs.map(tab => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: tab, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 mb-2', { 'active-tab': this.state.activeTab === tab }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { onClick: () => { this.onActiveTabChange(tab); }, className: 'd-flex' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: this.getTabIcon(tab), size: '16', className: 'mr-2 flex-shrink-0' }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 text-truncate text-left', title: this.getTabLabel(tab) }, this.getTabLabel(tab))))))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'selector-right h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'selector-right-header w-100 d-flex justify-content-end' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', icon: true, className: 'close-icon', onClick: this.onCancel, title: close, "aria-label": close, ref: this.closeBtnRef },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_7__.CloseOutlined, { size: 'l' }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'selector-right-body w-100' }, tabs.map((t, i) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('inner-item-selector-container h-100 w-100', { 'd-none': t !== this.state.activeTab }), key: i }, t === TabTypes.Url
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_url_input__WEBPACK_IMPORTED_MODULE_3__["default"], { onAdded: this.onDsJsonAdded, getDsId: this.getNextDsId, intl: this.props.intl, toggleLoadedStatus: this.toggleLoadedStatus, toggleToastStatus: this.toggleToastStatus })
                            : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_item_selector__WEBPACK_IMPORTED_MODULE_2__.ItemSelector, { itemType: this.getItemTypes(this.props.types, t), portalUrl: this.props.portalUrl, isMultiple: this.props.isMultiple, onSelect: this.onItemAdded, onRemove: this.onItemRemoved, detailReference: this.leftMenuRef, selectedItems: this.state.selectedItems, partSelectedItems: this.state.partSelectedItems, hideSingleLayer: this.getWhetherHideSingleLayer(this.props.types, t) })))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.state.selectedDss && this.state.selectedDss.length > 0 &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'added-ds-container py-4' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between align-items-center px-4' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'mr-2' }, this.state.selectedDss.length),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'mr-2' }, this.props.intl.formatMessage({ id: 'selected', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selected })),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', size: 'sm', icon: true, onClick: this.toggleSelectedDataCollapse, title: downUp, "aria-label": downUp }, this.state.isSelectedDataCollapseOpen
                                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_10__.DownOutlined, { size: 's' })
                                    : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_11__.UpOutlined, { size: 's' }))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'small-done-btn' }, !this.state.isSelectedDataCollapseOpen &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.onFinish, type: 'primary', className: 'text-truncate w-100', disabled: !this.state.isLoaded, title: done, "aria-label": done, ref: this.doneBtnRef }, done))),
                        this.state.isSelectedDataCollapseOpen &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'added-ds-items' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.state.selectedDss.map((dsJson, i) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectedDataSourceItem, { key: i, rootDsJson: dsJson, dsJson: dsJson, rootDsLabel: this.getRootDsLabel(dsJson) })))),
                        this.state.isSelectedDataCollapseOpen &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'big-done-btn w-100 px-4' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.onFinish, type: 'primary', className: 'text-truncate w-100', disabled: !this.state.isLoaded, title: done, "aria-label": done }, done)))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, !this.state.isLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Loading, { type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.LoadingType.Primary })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Toast, { text: this.state.errorMsg, type: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ToastType.Error, open: this.state.isToastOpen }))));
    }
}
const ExternalDataSourceSelector = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_6__.withStyles)(_ExternalDataSourceSelector, 'ExternalDataSourceSelector'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/utils.ts":
/*!*****************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/utils.ts ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDataErrorCode: () => (/* binding */ AddDataErrorCode),
/* harmony export */   getDsJsonFromService: () => (/* binding */ getDsJsonFromService),
/* harmony export */   getErrorTextFromErrorCode: () => (/* binding */ getErrorTextFromErrorCode),
/* harmony export */   traverseHideChildDs: () => (/* binding */ traverseHideChildDs),
/* harmony export */   traverseUnhideParentDs: () => (/* binding */ traverseUnhideParentDs)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-core/data-source */ "jimu-core/data-source");




var AddDataErrorCode;
(function (AddDataErrorCode) {
    AddDataErrorCode["DataTypeIsNotSupported"] = "DATA_TYPE_IS_NOT_SUPPORTED_YET";
    AddDataErrorCode["ItemInaccessible"] = "ITEM_INACCESSIBLE";
    AddDataErrorCode["SceneLayerWithoutAssociatedLayer"] = "SCENE_LAYER_WITHOUT_ASSOCIATED_LAYER";
    AddDataErrorCode["WebMapUnsupportedVersion"] = "WEBMAP:UNSUPPORTED-VERSION";
})(AddDataErrorCode || (AddDataErrorCode = {}));
function getErrorTextFromErrorCode(errorCode, intl) {
    switch (errorCode) {
        case AddDataErrorCode.DataTypeIsNotSupported:
            return intl === null || intl === void 0 ? void 0 : intl.formatMessage({ id: 'addDataErrorNotSupported', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addDataErrorNotSupported });
        case AddDataErrorCode.SceneLayerWithoutAssociatedLayer:
            return intl === null || intl === void 0 ? void 0 : intl.formatMessage({ id: 'addDataErrorInvalidSceneLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addDataErrorInvalidSceneLayer });
        case AddDataErrorCode.WebMapUnsupportedVersion:
            return intl === null || intl === void 0 ? void 0 : intl.formatMessage({ id: 'addDataErrorUnsupportedMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.addDataErrorUnsupportedMap });
        default:
            return intl === null || intl === void 0 ? void 0 : intl.formatMessage({ id: 'invalidResourceItem', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.invalidResourceItem });
    }
}
function getDsJsonFromService(url, dsId, portalUrl, itemId) {
    if (!url || !dsId) {
        return Promise.reject(AddDataErrorCode.ItemInaccessible);
    }
    url = url.replace(/^http:/, 'https:');
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.requestUtils.requestWrapper(url, session => {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request(url, {
            authentication: session,
            httpMethod: 'GET'
        }).then(response => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance().fetchServiceInfo(url)
                .then(res => {
                const serviceDefinition = res.definition;
                if (!serviceDefinition) {
                    return Promise.reject(AddDataErrorCode.ItemInaccessible);
                }
                let dsJson = jimu_core_data_source__WEBPACK_IMPORTED_MODULE_3__.dataSourceJsonCreator.createDataSourceJsonByLayerDefinition(dsId, serviceDefinition, url);
                dsJson = addItemInfoToDsJson(dsJson, portalUrl, itemId);
                return { dsJson, label: serviceDefinition.name || jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getLabelFromArcGISServiceUrl(url) };
            });
        });
    }, 1);
}
function addItemInfoToDsJson(dsJson, portalUrl, itemId) {
    if (!dsJson) {
        return null;
    }
    if (portalUrl) {
        dsJson = dsJson.set('portalUrl', portalUrl);
    }
    if (itemId) {
        dsJson = dsJson.set('itemId', itemId);
    }
    return dsJson;
}
function traverseHideChildDs(dataSource) {
    if (!dataSource) {
        return null;
    }
    let dsJson = dataSource.getDataSourceJson();
    dsJson = dsJson.set('isHidden', true);
    return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.editDataSourceJson)(dsJson);
}
function traverseUnhideParentDs(dataSource) {
    if (!dataSource) {
        return null;
    }
    let dsJson = dataSource.getDataSourceJson();
    dsJson = dsJson.set('isHidden', false);
    return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.editDataSourceJson)(dsJson);
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector-with-full-text-index.tsx":
/*!******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector-with-full-text-index.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDefinitionStatus: () => (/* binding */ AddDefinitionStatus),
/* harmony export */   FieldSelectorWithFullTextIndex: () => (/* binding */ FieldSelectorWithFullTextIndex)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _field_selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/index.tsx");
/* harmony import */ var _esri_arcgis_rest_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @esri/arcgis-rest-request */ "./node_modules/@esri/arcgis-rest-request/dist/esm/request.js");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const { useState, useEffect, useRef } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React;
var AddDefinitionStatus;
(function (AddDefinitionStatus) {
    AddDefinitionStatus["Success"] = "SUCCESS";
    AddDefinitionStatus["Error"] = "ERROR";
})(AddDefinitionStatus || (AddDefinitionStatus = {}));
const FieldSelectorWithFullTextIndex = (props) => {
    const hadUpdateDefaultIndexes = useRef(false);
    const appId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.useSelector((state) => { var _a; return (_a = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appId; });
    const nls = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useTranslation(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages);
    const { widgetId, useDataSources, selectedFields, addDefinitionStatusChange, onChange } = props;
    const [showLoading, setShowLoading] = useState(false);
    const [allSelectedFields, setAllSelectedFields] = useState(null);
    useEffect(() => {
        if (!hadUpdateDefaultIndexes.current && selectedFields) {
            const newSelectedFields = getFieldSchema(selectedFields);
            setAllSelectedFields(newSelectedFields);
            hadUpdateDefaultIndexes.current = true;
            addIndexesForDs(newSelectedFields);
        }
    }, [selectedFields]);
    useEffect(() => {
        return () => {
            addIndexesForDs();
        };
    }, []);
    const getFieldSchema = (selectedFields) => {
        var _a;
        const ds = getDs();
        if (!ds || !selectedFields)
            return [];
        const fields = ((_a = ds === null || ds === void 0 ? void 0 : ds.getSchema()) === null || _a === void 0 ? void 0 : _a.fields) || {};
        const fieldSchema = [];
        for (const jimuName in fields) {
            if (selectedFields.includes(fields[jimuName].name)) {
                fieldSchema.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(fields[jimuName]));
            }
        }
        return fieldSchema;
    };
    const getCurrentServiceIndexes = () => __awaiter(void 0, void 0, void 0, function* () {
        const ds = getDs();
        const dsUrl = ds.getDataSourceJson().url;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.requestUtils.requestWrapper(dsUrl, (session) => __awaiter(void 0, void 0, void 0, function* () {
            return _esri_arcgis_rest_request__WEBPACK_IMPORTED_MODULE_3__.request(dsUrl, {
                params: {
                    f: 'json'
                },
                authentication: session,
                httpMethod: 'GET'
            }).then(res => {
                const indexes = (res === null || res === void 0 ? void 0 : res.indexes) || [];
                return Promise.resolve(indexes);
            });
        }));
    });
    const onFieldChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__.hooks.useEventCallback((allSelectedFields, ds, isSelectedFromRepeatedDataSourceContext) => {
        setAllSelectedFields(allSelectedFields);
        onChange && onChange(allSelectedFields, ds, isSelectedFromRepeatedDataSourceContext);
    });
    const addToDefinitionForDs = (fields, ds) => __awaiter(void 0, void 0, void 0, function* () {
        if (!fields || (fields === null || fields === void 0 ? void 0 : fields.length) === 0)
            return false;
        const dsUrl = ds.getDataSourceJson().url;
        const indexes = getindexesByField(fields);
        if (!indexes || (indexes === null || indexes === void 0 ? void 0 : indexes.length) === 0)
            return false;
        setShowLoading(true);
        yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.requestUtils.requestWrapper(dsUrl, (session) => __awaiter(void 0, void 0, void 0, function* () {
            if (!session) {
                setShowLoading(false);
                return;
            }
            const adminUrlRegExp = /rest\/services/g;
            let addToDefinitionUrl = `${dsUrl}/addToDefinition`;
            addToDefinitionUrl = addToDefinitionUrl.replace(adminUrlRegExp, 'rest/admin/services');
            yield _esri_arcgis_rest_request__WEBPACK_IMPORTED_MODULE_3__.request(addToDefinitionUrl, {
                params: {
                    f: 'json',
                    async: true,
                    addToDefinition: { indexes: indexes }
                },
                authentication: session,
                httpMethod: 'POST'
            }).then(res => {
                if (res === null || res === void 0 ? void 0 : res.error) {
                    addDefinitionStatusChange && addDefinitionStatusChange(AddDefinitionStatus.Error);
                }
                else {
                    addDefinitionStatusChange && addDefinitionStatusChange(AddDefinitionStatus.Success);
                    updateDsDefinition(indexes);
                }
                setShowLoading(false);
            }).catch(err => {
                addDefinitionStatusChange && addDefinitionStatusChange(AddDefinitionStatus.Error);
                setShowLoading(false);
            });
        }));
    });
    const updateDsDefinition = (newIndexes = []) => __awaiter(void 0, void 0, void 0, function* () {
        const ds = getDs();
        const definition = ds.getLayerDefinition();
        let indexes = (definition === null || definition === void 0 ? void 0 : definition.indexes) || [];
        indexes = indexes.concat(newIndexes);
        const newDefinition = Object.assign(Object.assign({}, definition), { indexes });
        ds.setLayerDefinition(newDefinition);
    });
    const getCurrentDsIndexesField = () => __awaiter(void 0, void 0, void 0, function* () {
        let indexesField = [];
        return getCurrentServiceIndexes().then(indexes => {
            indexes === null || indexes === void 0 ? void 0 : indexes.forEach(item => {
                var _a;
                if (item.fields && (item === null || item === void 0 ? void 0 : item.indexType) === 'FullText') {
                    const currentFields = ((_a = item.fields) === null || _a === void 0 ? void 0 : _a.split(', ')) || [];
                    indexesField = indexesField.concat(currentFields);
                }
            });
            return Promise.resolve(indexesField);
        });
    });
    const getShouldAddIndexFields = (fields) => __awaiter(void 0, void 0, void 0, function* () {
        if (!fields)
            return [];
        return getCurrentDsIndexesField().then(indexesField => {
            const shouldAddIndexFields = fields.filter(field => !(indexesField === null || indexesField === void 0 ? void 0 : indexesField.includes(field.name)));
            return Promise.resolve(shouldAddIndexFields);
        });
    });
    const getindexesByField = (allSelectedFields) => {
        var _a, _b;
        const indexes = [];
        allSelectedFields.forEach(fields => {
            if (fields.esriType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.EsriFieldType.GlobalID && fields.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String) {
                indexes.push({
                    name: `exb-${appId}-${widgetId}-${fields.name}`,
                    fields: `${fields.name}`
                });
            }
        });
        const totalIndex = {
            name: `exb-${appId}-${widgetId}-${(_a = allSelectedFields === null || allSelectedFields === void 0 ? void 0 : allSelectedFields[0]) === null || _a === void 0 ? void 0 : _a.name}`,
            fields: (_b = allSelectedFields === null || allSelectedFields === void 0 ? void 0 : allSelectedFields.map(field => field.name)) === null || _b === void 0 ? void 0 : _b.join(', '),
            indexType: 'FullText'
        };
        indexes.push(totalIndex);
        return indexes;
    };
    const toggleDropdown = (isOpen) => {
        if (isOpen)
            return false;
        addIndexesForDs();
    };
    const getDs = () => {
        var _a;
        const dsId = (_a = useDataSources[0]) === null || _a === void 0 ? void 0 : _a.dataSourceId;
        const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        return dsManager.getDataSource(dsId);
    };
    const addIndexesForDs = (selectedFields) => __awaiter(void 0, void 0, void 0, function* () {
        var _a, _b;
        const ds = getDs();
        const supportsFullTextSearch = (_b = (_a = ds === null || ds === void 0 ? void 0 : ds.getLayerDefinition()) === null || _a === void 0 ? void 0 : _a.advancedQueryCapabilities) === null || _b === void 0 ? void 0 : _b.supportsFullTextSearch;
        if (supportsFullTextSearch) {
            const currentSelectedFields = selectedFields || allSelectedFields;
            const fields = yield getShouldAddIndexFields(currentSelectedFields);
            addToDefinitionForDs(fields, ds);
        }
    });
    const STYLE = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .loading {
      margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};
      color: var(--dark-400);
      align
    }
    .loading-msg {
      margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
    }
    .loading-icon-con {
      @keyframes loading {
        0% {transform: rotate(0deg); };
        100% {transform: rotate(360deg)};
      }
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
      min-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
      border: 2px solid var(--dark-300);
      border-radius: 50%;
      border-top: 2px solid var(--primary-500);
      box-sizing: border-box;
      animation:loading 2s infinite linear;
      box-sizing: border-box;
    }
  `;
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'field-selector-with-full-text-index-con w-100', css: STYLE },
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_field_selector__WEBPACK_IMPORTED_MODULE_1__.FieldSelector, Object.assign({}, props, { onChange: onFieldChange, toggle: toggleDropdown })),
        showLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading d-flex align-items-center' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-icon-con' }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-msg' }, nls('creatingIndexes')))));
};


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/common-list.tsx":
/*!********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/common-list.tsx ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CommonList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts");



class CommonList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            isOpen: false
        };
    }
    render() {
        const fields = this.props.fields;
        if (!fields || !this.props.ds) {
            return null;
        }
        const noSelectionId = fields[_utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID] ? [_utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID] : [];
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'field-list px-4', role: 'menu' }, fields && noSelectionId.concat(Object.keys(fields).filter(fieldId => fieldId !== _utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID)).map(fieldId => {
            const iconAndColor = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getIconFromFieldType)(fields[fieldId].type, this.props.theme, this.props.intl);
            const isSelected = this.props.selectedFields && (this.props.isMultiple
                ? this.props.selectedFields.some(name => name === fieldId)
                : fieldId === this.props.selectedFields[0]);
            const label = fields[fieldId].alias || fields[fieldId].name;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { role: `menuitem${this.props.isMultiple ? 'checkbox' : 'radio'}`, title: label, "aria-checked": isSelected, "aria-label": `${iconAndColor === null || iconAndColor === void 0 ? void 0 : iconAndColor.title} ${label}`, key: fieldId, onClick: () => { this.props.onFieldClick([fields[fieldId]]); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('field-item mt-2 py-1 px-2 d-flex w-100 align-items-center', {
                    'field-item-selected': isSelected
                }) },
                iconAndColor && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: iconAndColor.icon, color: iconAndColor.color, className: 'mr-2 flex-shrink-0', size: 16 }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'flex-grow-1 text-truncate' }, label)));
        })));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/dropdown-list.tsx":
/*!**********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/dropdown-list.tsx ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MultipleDropdownList)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts");



class MultipleDropdownList extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.dropdownProps = {
            autoWidth: true
        };
        this.widthForDropdownItem = { width: 'calc(100% - 20px)' };
        this.widthForDropdownItemLabel = { width: 'calc(100% - 10px)' };
        this.onChange = (selectedFieldPairs) => {
            var _a;
            // eslint-disable-next-line
            const prevSelectedFields = (((_a = this.props.selectedFields) === null || _a === void 0 ? void 0 : _a.asMutable()) || []);
            const selectedFields = ((selectedFieldPairs === null || selectedFieldPairs === void 0 ? void 0 : selectedFieldPairs.map(p => p.value)) || []);
            let longerSelected = selectedFields;
            let shorterSelected = prevSelectedFields;
            if (prevSelectedFields.length > selectedFields.length) {
                longerSelected = prevSelectedFields;
                shorterSelected = selectedFields;
            }
            const clickedFields = longerSelected.filter(lJimuName => !shorterSelected.some(sJimuName => sJimuName === lJimuName));
            this.props.onFieldClick(clickedFields.map(f => this.props.fields[f]));
        };
        this.getFields = () => {
            if (this.props.fields) {
                const res = [];
                const noSelectionId = this.props.fields[_utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID] ? [_utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID] : [];
                noSelectionId.concat(Object.keys(this.props.fields).filter(fieldId => fieldId !== _utils__WEBPACK_IMPORTED_MODULE_2__.NO_SELECTION_ID)).forEach(fieldId => {
                    const fieldItem = this.getFieldItem(fieldId);
                    res.push(fieldItem);
                });
                return res;
            }
            return [];
        };
        this.getSelectedFields = () => {
            if (this.props.fields && this.props.selectedFields) {
                const res = [];
                this.props.selectedFields.filter(fieldId => !!this.props.fields[fieldId]).forEach(fieldId => {
                    const fieldItem = this.getFieldItem(fieldId);
                    res.push(fieldItem);
                });
                return res;
            }
            return [];
        };
        this.getFieldItem = (fieldId) => {
            var _a, _b, _c;
            const label = ((_a = this.props.fields[fieldId]) === null || _a === void 0 ? void 0 : _a.alias) || ((_b = this.props.fields[fieldId]) === null || _b === void 0 ? void 0 : _b.name);
            const iconAndColor = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getIconFromFieldType)((_c = this.props.fields[fieldId]) === null || _c === void 0 ? void 0 : _c.type, this.props.theme, this.props.intl);
            return {
                value: fieldId,
                label,
                render: () => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'd-flex justify-content-start align-items-center', style: this.widthForDropdownItem, "aria-label": `${iconAndColor === null || iconAndColor === void 0 ? void 0 : iconAndColor.title} ${label}` },
                        iconAndColor && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { icon: iconAndColor.icon, color: iconAndColor.color, className: 'd-inline-block mr-2', size: 16 }),
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'text-truncate', style: this.widthForDropdownItemLabel, title: label }, label)));
                }
            };
        };
        this.toggleAdvancedSelect = (isOpen) => {
            this.props.toggle && this.props.toggle(isOpen);
        };
    }
    render() {
        if (!this.props.fields || !this.props.ds) {
            return null;
        }
        const dropdownProps = this.props.dropdownProps ? Object.assign(Object.assign({}, this.props.dropdownProps), this.dropdownProps) : this.dropdownProps;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null,
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.AdvancedSelect, Object.assign({ size: 'sm' }, dropdownProps, { fluid: true, staticValues: this.getFields(), sortValuesByLabel: false, selectedValues: this.getSelectedFields(), onChange: this.onChange, placeholder: this.props.placeholder, isMultiple: this.props.isMultiple, hideSearchInput: this.props.isSearchInputHidden, hideBottomTools: !this.props.useMultiDropdownBottomTools, isEmptyOptionHidden: true, title: `${this.getSelectedFields().map(field => field.label).toString()}`, toggle: this.toggleAdvancedSelect }))));
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/field-selector-inner.tsx":
/*!*****************************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/field-selector-inner.tsx ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FieldSelectorInner: () => (/* binding */ FieldSelectorInner),
/* harmony export */   _FieldSelectorInner: () => (/* binding */ _FieldSelectorInner)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _common_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common-list */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/common-list.tsx");
/* harmony import */ var _dropdown_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dropdown-list */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/dropdown-list.tsx");
/* harmony import */ var _main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../main-data-and-view-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/main-data-and-view-selector.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ "./jimu-icons/outlined/editor/search.tsx");
/** @jsx jsx */








/**
 * The `FieldSelector` component allows users to select fields from a data source.
 *
 * ```ts
 * import { FieldSelector } from 'jimu-ui/advanced/data-source-selector'
 * ```
 */
class _FieldSelectorInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getWhetherArrayIsShallowEqual = (arr1, arr2) => {
            let isEqual = false;
            if (arr1 && arr2 && arr1.length === arr2.length) {
                isEqual = !arr1.some((v, i) => v !== arr2[i]);
            }
            return isEqual;
        };
        this.getDefaultSelectedDs = (dataSources, selectedFields) => {
            /**
             * If don't have selected fields and use data source dropdown, will not set selected data source.
             * The reason is that,
             * some run time data views (such as data view for populated features) will be added automatically if use data source dropdown,
             * and will get the default selected data source and data view from callback of data source dropdown,
             * the default selected data view will honor `defaultDataViewPriority` of the data source dropdown (`MainDataAndViewSelector`).
             */
            const hasSelectedFields = this.hasSelectedFields();
            const selectedDs = (hasSelectedFields || this.props.isDataSourceDropDownHidden) ? this.getDsFromSelectedFieldsAndUseDss(dataSources, selectedFields) : null;
            return selectedDs;
        };
        this.hasSelectedFields = () => {
            if (!this.props.selectedFields) {
                return false;
            }
            if (Array.isArray(this.props.selectedFields)) {
                return this.props.selectedFields.length > 0;
            }
            else if (typeof this.props.selectedFields === 'object') {
                return Object.values(this.props.selectedFields).every(s => s && s.length > 0);
            }
            else {
                return false;
            }
        };
        /**
         * If have selected fields,
         */
        this.getDsFromSelectedFieldsAndUseDss = (dataSources, selectedFields) => {
            let ds;
            if (selectedFields && dataSources) { // selected fields are passed to props
                // get selected data source from selected fields
                const areFromMultipleDataSources = this.getAreFromMultipleDss(dataSources, selectedFields);
                if (areFromMultipleDataSources) {
                    const dsId = Object.keys(this.props.selectedFields)[0];
                    const isSelectionDataView = dsId.split('-').reverse()[0] === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID;
                    if (isSelectionDataView) {
                        const dataView = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
                        const mainDs = dataView && dataView.getMainDataSource();
                        const mainDsId = mainDs && mainDs.id;
                        ds = this.props.dataSources.some(ds => ds && ds.getMainDataSource().id === mainDsId)
                            ? dataView
                            : null;
                    }
                    else {
                        ds = this.props.dataSources.find(ds => ds && ds.id === dsId);
                    }
                }
                else {
                    ds = dataSources[0];
                }
            }
            else if (dataSources) { // selected fields are not passed to props
                // use the first one of data sources as selected data source
                ds = dataSources[0];
            }
            return ds;
        };
        this.getAreFromMultipleDss = (dataSources, selectedFields) => {
            if (!selectedFields) {
                return (dataSources === null || dataSources === void 0 ? void 0 : dataSources.length) > 1;
            }
            return !Array.isArray(selectedFields);
        };
        this.getDsLabel = (ds) => {
            if (!ds || !ds.getDataSourceJson()) {
                return '';
            }
            return ds.getLabel() || ds.id || '';
        };
        this.getSelectedFieldsJimuName = (selectedDs, dataSources, selectedFields, isMultiple) => {
            if (!selectedDs || !selectedDs.id || !selectedFields) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            }
            const areFromMultipleDataSources = this.getAreFromMultipleDss(dataSources, selectedFields);
            // If there are multiple data sources, get selected field array by data source id.
            const fields = areFromMultipleDataSources ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(selectedFields[selectedDs.id]) : selectedFields;
            if (!fields) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            }
            if (isMultiple) {
                return fields;
            }
            else {
                return fields.slice(0, 1);
            }
        };
        this.getSelectedUseDataSource = () => {
            if (!this.state.selectedDs) {
                return null;
            }
            return this.getUseDataSources([this.state.selectedDs])[0];
        };
        this.getWhetherJimuNameIsInHiddenFields = (jimuName) => {
            var _a;
            let isInHiddenFields = false;
            if (this.props.hiddenFields) {
                const areFromMultipleDataSources = this.getAreFromMultipleDss(this.props.dataSources, this.props.selectedFields);
                let hiddenFields = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
                if (areFromMultipleDataSources) {
                    hiddenFields = this.props.hiddenFields[(_a = this.state.selectedDs) === null || _a === void 0 ? void 0 : _a.id];
                }
                else {
                    hiddenFields = this.props.hiddenFields;
                }
                isInHiddenFields = hiddenFields.some(f => f === jimuName);
            }
            return isInHiddenFields;
        };
        /**
         * Get fields which are -
         * 1. macth types in props
         * 2. not in hidden fields in props
         * 3. match search values
         */
        this.getValidFields = (ds) => {
            const allFields = this.getAllFields(ds);
            if (!allFields) {
                return null;
            }
            let fields;
            if (!this.props.types && !this.props.hiddenFields && !this.state.searchValue) {
                fields = allFields;
            }
            else {
                let f = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({});
                let type;
                let name;
                Object.keys(allFields).forEach(jimuName => {
                    type = allFields[jimuName].type;
                    name = allFields[jimuName].alias || allFields[jimuName].name;
                    const isInTypes = !this.props.types || (type && this.props.types && this.props.types.some(t => t === type));
                    const isInHiddenFields = this.getWhetherJimuNameIsInHiddenFields(jimuName);
                    const isMatchingSearchValue = !this.state.searchValue || (this.state.searchValue && name && name.toLowerCase().includes(this.state.searchValue.toLowerCase()));
                    if (isInTypes && !isInHiddenFields && isMatchingSearchValue) {
                        f = f.setIn([jimuName], allFields[jimuName]);
                    }
                });
                fields = f;
            }
            if (fields && this.props.noSelectionItem) {
                fields = fields.set(_utils__WEBPACK_IMPORTED_MODULE_5__.NO_SELECTION_ID, this.getNoSelectionItem());
            }
            return fields;
        };
        this.getNoSelectionItem = () => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(Object.assign(Object.assign({}, this.props.noSelectionItem), { jimuName: _utils__WEBPACK_IMPORTED_MODULE_5__.NO_SELECTION_ID })));
        this.getUseDataSources = (dataSources) => {
            if (!dataSources) {
                return null;
            }
            let useDataSources = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
            dataSources.forEach(d => {
                var _a;
                if (d) {
                    useDataSources = useDataSources.concat({
                        dataSourceId: d.id,
                        mainDataSourceId: d.getMainDataSource().id,
                        dataViewId: d.dataViewId,
                        rootDataSourceId: (_a = d.getRootDataSource()) === null || _a === void 0 ? void 0 : _a.id
                    });
                }
            });
            return useDataSources;
        };
        this.onSelectedUseDsChange = (useDataSource, isSelectedFromRepeatedDataSourceContext) => {
            const selectedDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(useDataSource.dataSourceId);
            // update state
            this.setState({
                selectedDs,
                isFromRepeatedDs: isSelectedFromRepeatedDataSourceContext
            });
            // change the selected fields if selected use data source is changed
            if (this.hasSelectedFields()) {
                const selectedFieldJimuNames = this.getSelectedFieldsJimuName(this.state.selectedDs, this.props.dataSources, this.props.selectedFields, this.props.isMultiple);
                const selectedFields = selectedFieldJimuNames.map(jimuName => { var _a; return selectedDs && ((_a = this.getAllFields(selectedDs)) === null || _a === void 0 ? void 0 : _a[jimuName]); }).filter(f => !!f);
                this.props.onChange && this.props.onChange(selectedFields.asMutable(), selectedDs, isSelectedFromRepeatedDataSourceContext);
            }
        };
        this.onSearchChange = e => {
            this.setState({ searchValue: e.target.value });
        };
        this.onSelectedFieldsChange = (clickedFields) => {
            if (clickedFields.some(f => (f === null || f === void 0 ? void 0 : f.jimuName) === _utils__WEBPACK_IMPORTED_MODULE_5__.NO_SELECTION_ID)) {
                this.props.onChange && this.props.onChange([], this.state.selectedDs, this.state.isFromRepeatedDs);
                return;
            }
            const prevSelectedFieldsJimuName = this.getSelectedFieldsJimuName(this.state.selectedDs, this.props.dataSources, this.props.selectedFields, this.props.isMultiple).asMutable();
            const fields = this.getAllFields(this.state.selectedDs);
            let currentSelectedFields = prevSelectedFieldsJimuName.map(jimuName => fields === null || fields === void 0 ? void 0 : fields[jimuName]).filter(f => f);
            clickedFields.forEach(clickedField => {
                if (!clickedField) {
                    return;
                }
                if (prevSelectedFieldsJimuName.some(selectedFieldJimuName => selectedFieldJimuName === clickedField.jimuName)) {
                    if (this.props.isMultiple) {
                        currentSelectedFields = currentSelectedFields.filter(selectedField => selectedField.jimuName !== clickedField.jimuName);
                    }
                    else {
                        currentSelectedFields = [];
                    }
                }
                else {
                    if (this.props.isMultiple) {
                        currentSelectedFields = currentSelectedFields.concat(clickedField);
                    }
                    else {
                        currentSelectedFields = [clickedField];
                    }
                }
            });
            this.props.onChange && this.props.onChange(currentSelectedFields, this.state.selectedDs, this.state.isFromRepeatedDs);
        };
        this.toggleDropdown = (isOpen) => {
            this.props.toggle && this.props.toggle(isOpen);
        };
        this.state = {
            selectedDs: this.getDefaultSelectedDs(this.props.dataSources, this.props.selectedFields),
            searchValue: '',
            isFromRepeatedDs: !!this.props.isSelectedFromRepeatedDataSourceContext
        };
    }
    componentDidMount() {
        var _a;
        if (this.props.useDefault && !this.props.selectedFields) {
            const defaultSelectedField = Object.values((_a = this.getValidFields(this.state.selectedDs)) !== null && _a !== void 0 ? _a : {})[0];
            if (defaultSelectedField) {
                this.props.onChange([defaultSelectedField], this.state.selectedDs, this.state.isFromRepeatedDs);
            }
        }
    }
    componentDidUpdate(prevProps, prevState) {
        var _a;
        if (!this.getWhetherArrayIsShallowEqual(this.props.dataSources, prevProps.dataSources) || this.props.selectedFields !== prevProps.selectedFields) {
            this.setState({ selectedDs: this.getDefaultSelectedDs(this.props.dataSources, this.props.selectedFields) });
        }
        if (this.props.useDefault && !this.props.selectedFields && prevState.selectedDs !== this.state.selectedDs) {
            const defaultSelectedField = Object.values((_a = this.getValidFields(this.state.selectedDs)) !== null && _a !== void 0 ? _a : {})[0];
            if (defaultSelectedField) {
                this.props.onChange([defaultSelectedField], this.state.selectedDs, this.state.isFromRepeatedDs);
            }
        }
        if (prevProps.isSelectedFromRepeatedDataSourceContext !== this.props.isSelectedFromRepeatedDataSourceContext) {
            this.setState({ isFromRepeatedDs: !!this.props.isSelectedFromRepeatedDataSourceContext });
        }
    }
    getAllFields(ds) {
        var _a;
        const selectedFieldJimuNames = ds === null || ds === void 0 ? void 0 : ds.getSelectedFields();
        const fields = (_a = ds === null || ds === void 0 ? void 0 : ds.getSchema()) === null || _a === void 0 ? void 0 : _a.fields;
        const toBeRemovedFieldJimuNames = fields ? Object.keys(fields).filter(jimuName => !selectedFieldJimuNames.includes(jimuName)) : [];
        return fields === null || fields === void 0 ? void 0 : fields.without(...toBeRemovedFieldJimuNames);
    }
    render() {
        if (!this.props.dataSources || this.props.dataSources.filter(ds => !!ds).length === 0) {
            console.warn('No data sources');
            return null;
        }
        const validFields = this.getValidFields(this.state.selectedDs);
        const selectedFieldsJimuName = this.getSelectedFieldsJimuName(this.state.selectedDs, this.props.dataSources, this.props.selectedFields, this.props.isMultiple);
        /**
         * If there is an item to indicate that no fields is selected (this.props.noSelectionItem) and there is really no selected fields,
         * make the item selected in UI.
         */
        const selectedFieldsForUI = this.props.noSelectionItem && selectedFieldsJimuName.length === 0 ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.getNoSelectionItem().jimuName]) : selectedFieldsJimuName;
        const dropdownProps = Object.assign(Object.assign({}, this.props.dropdownProps), { useKeyUpEvent: this.props.useKeyUpEvent, 'aria-label': this.props['aria-label'] });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: this.props.style, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-field-selector w-100 h-100' },
                this.props.isDataSourceDropDownHidden
                    ? null
                    : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-name p-4 d-flex justify-content-between align-items-center' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_4__.MainDataAndViewSelector, { widgetId: this.props.widgetId, useDataSources: this.getUseDataSources(this.props.dataSources), onChange: this.onSelectedUseDsChange, useSelectionDataView: this.props.useSelectionDataView, usePopulatedDataView: this.props.usePopulatedDataView, selectedUseDataSource: this.getSelectedUseDataSource(), isSelectedFromRepeatedDataSourceContext: this.state.isFromRepeatedDs })),
                // If use dropdown, do not show/hide search input here. Do it inside dropdown list.
                this.props.isSearchInputHidden || this.props.useDropdown
                    ? null
                    : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-inline-block w-100 px-4 mb-2 item-selector-search' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { placeholder: this.props.intl.formatMessage({ id: 'search', defaultMessage: jimu_core__WEBPACK_IMPORTED_MODULE_0__.defaultMessages.search }), onChange: this.onSearchChange, className: 'd-inline-block search-input', value: this.state.searchValue, prefix: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_7__.SearchOutlined, { color: this.props.theme.colors.dark }) })),
                !this.props.useDropdown
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common_list__WEBPACK_IMPORTED_MODULE_2__["default"], { ds: this.state.selectedDs, fields: validFields, selectedFields: selectedFieldsForUI, intl: this.props.intl, isMultiple: this.props.isMultiple, onFieldClick: this.onSelectedFieldsChange, theme: this.props.theme })
                    : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_dropdown_list__WEBPACK_IMPORTED_MODULE_3__["default"], { placeholder: this.props.placeholder, ds: this.state.selectedDs, fields: validFields, selectedFields: selectedFieldsForUI, isMultiple: this.props.isMultiple, isSearchInputHidden: this.props.isSearchInputHidden, onFieldClick: this.onSelectedFieldsChange, theme: this.props.theme, dropdownProps: dropdownProps, useMultiDropdownBottomTools: this.props.useMultiDropdownBottomTools, intl: this.props.intl, toggle: this.props.toggle }))));
    }
}
const FieldSelectorInner = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_6__.withStyles)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_6__.withTheme)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)(_FieldSelectorInner)), 'FieldSelector');


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/index.tsx":
/*!***************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector/index.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FieldSelector: () => (/* binding */ FieldSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_field_selector_inner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/field-selector-inner */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/components/field-selector-inner.tsx");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


/**
 * A component to select field from a data source.
 */
class FieldSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    render() {
        const _a = this.props, { useDataSources, dataSources } = _a, otherProps = __rest(_a, ["useDataSources", "dataSources"]);
        if (dataSources) {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_field_selector_inner__WEBPACK_IMPORTED_MODULE_1__.FieldSelectorInner, Object.assign({}, this.props)));
        }
        else {
            if ((useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources.length) === 1) {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSources[0] }, (ds, info) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_field_selector_inner__WEBPACK_IMPORTED_MODULE_1__.FieldSelectorInner, Object.assign({}, otherProps, { dataSources: [ds] }))));
            }
            else {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.MultipleDataSourceComponent, { useDataSources: useDataSources }, (dss, infos) => jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_field_selector_inner__WEBPACK_IMPORTED_MODULE_1__.FieldSelectorInner, Object.assign({}, otherProps, { dataSources: dss && Object.values(dss) }))));
            }
        }
    }
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts":
/*!**************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NO_SELECTION_ID: () => (/* binding */ NO_SELECTION_ID),
/* harmony export */   getIconFromFieldType: () => (/* binding */ getIconFromFieldType)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_svg_outlined_data_number_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/svg/outlined/data/number.svg */ "./jimu-icons/svg/outlined/data/number.svg");
/* harmony import */ var jimu_icons_svg_outlined_data_number_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_data_number_svg__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jimu_icons_svg_outlined_data_string_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/svg/outlined/data/string.svg */ "./jimu-icons/svg/outlined/data/string.svg");
/* harmony import */ var jimu_icons_svg_outlined_data_string_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_data_string_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var jimu_icons_svg_outlined_data_date_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/svg/outlined/data/date.svg */ "./jimu-icons/svg/outlined/data/date.svg");
/* harmony import */ var jimu_icons_svg_outlined_data_date_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_data_date_svg__WEBPACK_IMPORTED_MODULE_4__);





const NO_SELECTION_ID = 'CLICK_ME_TO_CLEAR_SELECTION';
function getIconFromFieldType(type, theme, intl) {
    if (!type || !theme) {
        return null;
    }
    const fieldTypeToTitile = intl && {
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number]: intl.formatMessage({ id: 'numberField', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.numberField }),
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]: intl.formatMessage({ id: 'stringField', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.stringField }),
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date]: intl.formatMessage({ id: 'dateField', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.dateField })
    };
    const fieldTypeToIcon = {
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number]: (jimu_icons_svg_outlined_data_number_svg__WEBPACK_IMPORTED_MODULE_2___default()),
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]: (jimu_icons_svg_outlined_data_string_svg__WEBPACK_IMPORTED_MODULE_3___default()),
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date]: (jimu_icons_svg_outlined_data_date_svg__WEBPACK_IMPORTED_MODULE_4___default())
    };
    const fieldTypeToIconColor = {
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Number]: theme.colors.info,
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]: theme.colors.success,
        [jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.Date]: theme.colors.warning
    };
    return {
        icon: fieldTypeToIcon[type],
        color: fieldTypeToIconColor[type],
        title: fieldTypeToTitile === null || fieldTypeToTitile === void 0 ? void 0 : fieldTypeToTitile[type]
    };
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/components/main-data-and-view-selector.tsx":
/*!**********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/components/main-data-and-view-selector.tsx ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataViewPriority: () => (/* binding */ DataViewPriority),
/* harmony export */   MainDataAndViewSelector: () => (/* binding */ MainDataAndViewSelector)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/** @jsx jsx */




var DataViewPriority;
(function (DataViewPriority) {
    /**
     * populated data view > common data view (aka user added data view) > selection data view > default data view (aka main data source)
     */
    DataViewPriority["First"] = "POPULATED_VIEW_SELECTION_DEFAULT";
    /**
     * common data view > default data view > selection data view > populated data view
     */
    DataViewPriority["Second"] = "VIEW_DEFAULT_SELECTION_POPULATED";
})(DataViewPriority || (DataViewPriority = {}));
const DEFAULT_DATA_VIEW_ID = 'USE_MAIN_DATA_SOURCE';
class _MainDataAndViewSelector extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.getWhetherUseDsIsShallowEqual = (u1, u2) => {
            let isEqual = false;
            if (u1 && u2 && u1.length === u2.length) {
                isEqual = !u1.some((v, i) => v.dataSourceId !== u2[i].dataSourceId);
            }
            return isEqual;
        };
        this.isPopulatedView = (u) => {
            return (u === null || u === void 0 ? void 0 : u.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID;
        };
        this.isSelectionView = (u) => {
            return (u === null || u === void 0 ? void 0 : u.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID;
        };
        this.isDefaultView = (u) => {
            return (u === null || u === void 0 ? void 0 : u.dataViewId) === DEFAULT_DATA_VIEW_ID || (u === null || u === void 0 ? void 0 : u.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID;
        };
        this.isCommonView = (u) => {
            return (u === null || u === void 0 ? void 0 : u.dataViewId) && !this.isPopulatedView(u) && !this.isSelectionView(u) && !this.isDefaultView(u);
        };
        this.getOneDefaultUseDs = (widgetId, allUseDataSources, browserSizeMode) => {
            const groupedUseDss = this.groupUseDataSourcesByMainDsAndAddAutoViews(widgetId, allUseDataSources, browserSizeMode);
            let priority = [];
            if (this.props.defaultDataViewPriority === DataViewPriority.Second) {
                priority = [this.isCommonView, this.isDefaultView, this.isSelectionView, this.isPopulatedView];
            }
            else {
                priority = [this.isPopulatedView, this.isCommonView, this.isSelectionView, this.isDefaultView];
            }
            const useDssFromRandomMainDs = Object.values(groupedUseDss).find(useDss => useDss.some(u => priority[0](u))) ||
                Object.values(groupedUseDss).find(useDss => useDss.some(u => priority[1](u))) ||
                Object.values(groupedUseDss).find(useDss => useDss.some(u => priority[2](u))) ||
                Object.values(groupedUseDss).find(useDss => useDss.some(u => priority[3](u))) ||
                Object.values(groupedUseDss)[0];
            const defaultSelectedUseDs = useDssFromRandomMainDs
                ? (useDssFromRandomMainDs.find(u => priority[0](u)) ||
                    useDssFromRandomMainDs.find(u => priority[1](u)) ||
                    useDssFromRandomMainDs.find(u => priority[2](u)) ||
                    useDssFromRandomMainDs.find(u => priority[3](u)) ||
                    useDssFromRandomMainDs[0])
                : null;
            return defaultSelectedUseDs;
        };
        this.getSelectedUseDsFromProps = (widgetId, selectedUseDataSource, allUseDataSources, isSelectedFromRepeatedDataSourceContext, browserSizeMode) => {
            var _a, _b;
            const groupedUseDss = this.groupUseDataSourcesByMainDsAndAddAutoViews(widgetId, allUseDataSources, browserSizeMode);
            const defaultSelectedUseDs = this.getOneDefaultUseDs(widgetId, allUseDataSources, browserSizeMode);
            const tempSelectUseDs = selectedUseDataSource
                ? (isSelectedFromRepeatedDataSourceContext
                    ? (_a = groupedUseDss[selectedUseDataSource.mainDataSourceId]) === null || _a === void 0 ? void 0 : _a.find(u => u.dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID)
                    : (selectedUseDataSource.dataViewId ? selectedUseDataSource : (_b = groupedUseDss[selectedUseDataSource.mainDataSourceId]) === null || _b === void 0 ? void 0 : _b.find(u => u.dataViewId === DEFAULT_DATA_VIEW_ID)))
                : defaultSelectedUseDs;
            return tempSelectUseDs;
        };
        /**
         * Whether is in repeated data source context.
         * Some widgets can provide repeated data source context, such as list widget.
         * If widgets are in such a widget, they will have a repeated data source context.
         */
        this.getWhetherUseRepeatedDataSourceContext = (widgetId, useDataSourcesWithSameMainDs, allUseDataSources, browserSizeMode) => {
            var _a, _b, _c, _d, _e;
            const config = ((_a = window === null || window === void 0 ? void 0 : window.jimuConfig) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_c = (_b = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _b === void 0 ? void 0 : _b.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig : (_d = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _d === void 0 ? void 0 : _d.appConfig;
            if (!config || !widgetId || !useDataSourcesWithSameMainDs || useDataSourcesWithSameMainDs.length === 0 || !allUseDataSources || !browserSizeMode) {
                return false;
            }
            const parentWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__.searchUtils.getParentWidgetIdOfContent(config, widgetId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Widget, browserSizeMode);
            const parentWidgetJson = config.widgets[parentWidgetId];
            const isInRepeatedDataSourceContext = parentWidgetJson && ((_e = parentWidgetJson.manifest.properties) === null || _e === void 0 ? void 0 : _e.canProvideRepeatDataSource);
            let haveSameUseDataSources = false;
            for (let i = 0; i < useDataSourcesWithSameMainDs.length; i++) {
                const realUseDataSource = this.getRealUseDataSources(useDataSourcesWithSameMainDs[i], allUseDataSources);
                haveSameUseDataSources = (parentWidgetJson === null || parentWidgetJson === void 0 ? void 0 : parentWidgetJson.useDataSources) && parentWidgetJson.useDataSources
                    .some(parentU => (realUseDataSource === null || realUseDataSource === void 0 ? void 0 : realUseDataSource.dataSourceId) === parentU.dataSourceId);
                if (haveSameUseDataSources) {
                    break;
                }
            }
            return isInRepeatedDataSourceContext && haveSameUseDataSources;
        };
        /**
         * Group use data sources by main data id and add auto added data views (such as selection data view and populated data view) for each main data source.
         */
        this.groupUseDataSourcesByMainDsAndAddAutoViews = (widgetId, allUseDataSources, browserSizeMode) => {
            if (!browserSizeMode || !allUseDataSources || allUseDataSources.length === 0) {
                return {};
            }
            const groupedUseDss = {};
            allUseDataSources.forEach(u => {
                if (!groupedUseDss[u.mainDataSourceId]) {
                    groupedUseDss[u.mainDataSourceId] = [];
                }
                if (!groupedUseDss[u.mainDataSourceId].some(v => v.dataSourceId === u.dataSourceId)) {
                    const isMainDs = !u.dataViewId && u.dataSourceId === u.mainDataSourceId;
                    if (isMainDs) { // add a temporary data view for main data source
                        const defalultDataView = u.set('dataSourceId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(u.mainDataSourceId, DEFAULT_DATA_VIEW_ID))
                            .set('dataViewId', DEFAULT_DATA_VIEW_ID);
                        groupedUseDss[u.mainDataSourceId] = groupedUseDss[u.mainDataSourceId].concat(defalultDataView);
                    }
                    else {
                        groupedUseDss[u.mainDataSourceId] = groupedUseDss[u.mainDataSourceId].concat(u);
                    }
                }
            });
            Object.keys(groupedUseDss).forEach(mainDataSourceId => {
                // add auto added data views
                groupedUseDss[mainDataSourceId] = groupedUseDss[mainDataSourceId]
                    .concat(this.getAutoAddedDataViews(widgetId, groupedUseDss[mainDataSourceId], allUseDataSources, browserSizeMode));
            });
            return groupedUseDss;
        };
        this.getAutoAddedDataViews = (widgetId, useDataSourcesWithSameMainDs, allUseDataSources, browserSizeMode) => {
            if (!useDataSourcesWithSameMainDs || useDataSourcesWithSameMainDs.length === 0 || !browserSizeMode) {
                return [];
            }
            const mainDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(useDataSourcesWithSameMainDs[0].mainDataSourceId);
            /**
             * When selecting main data sources and data views, all data sources and selection views are created.
             * But set data source (such as webmap data source) does not support to create views, return an empty array.
             */
            const canCreateViews = mainDs && !mainDs.isDataSourceSet;
            if (!canCreateViews) {
                return [];
            }
            let defaultDataViews = [];
            if (this.props.useSelectionDataView) {
                if (!useDataSourcesWithSameMainDs.some(u => u.dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID)) { // If using selection data view, do not duplicate it.
                    const selectionView = useDataSourcesWithSameMainDs[0]
                        .set('dataSourceId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(useDataSourcesWithSameMainDs[0].mainDataSourceId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID))
                        .set('dataViewId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID);
                    defaultDataViews = defaultDataViews.concat(selectionView);
                }
            }
            if (this.props.usePopulatedDataView && this.getWhetherUseRepeatedDataSourceContext(widgetId, useDataSourcesWithSameMainDs, allUseDataSources, browserSizeMode)) {
                const repeatContextView = useDataSourcesWithSameMainDs[0]
                    .set('dataSourceId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(useDataSourcesWithSameMainDs[0].mainDataSourceId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID))
                    .set('dataViewId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID);
                defaultDataViews = defaultDataViews.concat(repeatContextView);
            }
            return defaultDataViews;
        };
        this.getDsLabel = (dataSourceId, dataViewId) => {
            if (dataViewId && dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.SELECTION_DATA_VIEW_ID) {
                return this.props.intl.formatMessage({ id: 'selectionDataView', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectionDataView });
            }
            if (dataViewId && dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID) {
                return this.props.intl.formatMessage({ id: 'populatedDataView', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.populatedDataView });
            }
            if (dataViewId && (dataViewId === DEFAULT_DATA_VIEW_ID || dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.OUTPUT_DATA_VIEW_ID)) {
                return this.props.intl.formatMessage({ id: 'default', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.default });
            }
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dataSourceId);
            if (ds) {
                return ds.getLabel() || ds.id;
            }
            return dataSourceId;
        };
        this.getRealUseDataSources = (tempSelectUseDs, allUseDataSources) => {
            if (!tempSelectUseDs) {
                return null;
            }
            if (tempSelectUseDs.dataViewId === DEFAULT_DATA_VIEW_ID) {
                return tempSelectUseDs
                    .set('dataSourceId', tempSelectUseDs.mainDataSourceId)
                    .without('dataViewId');
            }
            else if (tempSelectUseDs.dataViewId === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID) {
                const useDsHasSameMainDsAsSelectedUseDs = allUseDataSources.find(u => u.mainDataSourceId === tempSelectUseDs.mainDataSourceId);
                return useDsHasSameMainDsAsSelectedUseDs && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(useDsHasSameMainDsAsSelectedUseDs);
            }
            else {
                return tempSelectUseDs;
            }
        };
        this.onMainDataChange = e => {
            const mainDataSourceId = e.target.value;
            if (mainDataSourceId !== this.props.selectedUseDataSource.mainDataSourceId) {
                const useDs = this.props.useDataSources.find(u => u.mainDataSourceId === mainDataSourceId) || { dataSourceId: mainDataSourceId, mainDataSourceId };
                const tempSelectUseDs = this.getOneDefaultUseDs(this.props.widgetId, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([useDs]), this.props.browserSizeMode);
                this.props.onChange(this.getRealUseDataSources(tempSelectUseDs, this.props.useDataSources), (tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID);
            }
        };
        this.onDataViewChange = e => {
            if (!this.props.selectedUseDataSource) {
                return;
            }
            const dataViewId = e.target.value;
            const tempSelectUseDs = this.props.selectedUseDataSource
                .set('dataSourceId', jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataViewDataSourceId(this.props.selectedUseDataSource.mainDataSourceId, dataViewId))
                .set('dataViewId', dataViewId);
            this.props.onChange(this.getRealUseDataSources(tempSelectUseDs, this.props.useDataSources), (tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID);
        };
    }
    componentDidMount() {
        if (!this.props.selectedUseDataSource) {
            const tempSelectUseDs = this.getOneDefaultUseDs(this.props.widgetId, this.props.useDataSources, this.props.browserSizeMode);
            this.props.onChange(this.getRealUseDataSources(tempSelectUseDs, this.props.useDataSources), (tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID);
        }
    }
    componentDidUpdate(prevProps) {
        if ((prevProps.widgetId !== this.props.widgetId || !this.getWhetherUseDsIsShallowEqual(prevProps.useDataSources, this.props.useDataSources) ||
            prevProps.browserSizeMode !== this.props.browserSizeMode) ||
            // do not allow to have no selected data source
            !this.props.selectedUseDataSource) {
            const tempSelectUseDs = this.getOneDefaultUseDs(this.props.widgetId, this.props.useDataSources, this.props.browserSizeMode);
            this.props.onChange(this.getRealUseDataSources(tempSelectUseDs, this.props.useDataSources), (tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.dataViewId) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS.REPEAT_CONTEXT_DATA_VIEW_ID);
        }
    }
    render() {
        var _a;
        if (!this.props.useDataSources) {
            return null;
        }
        const groupedUseDss = this.groupUseDataSourcesByMainDsAndAddAutoViews(this.props.widgetId, this.props.useDataSources, this.props.browserSizeMode);
        const tempSelectUseDs = this.getSelectedUseDsFromProps(this.props.widgetId, this.props.selectedUseDataSource, this.props.useDataSources, this.props.isSelectedFromRepeatedDataSourceContext, this.props.browserSizeMode);
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100', { [this.props.className]: !!this.props.className }) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'component-main-data-and-view', role: 'group', "aria-label": this.props.intl.formatMessage({ id: 'data', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.data }) },
                !this.props.hideMainDataSourceSelect &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 text-truncate mb-3 option-label mb-2' }, this.props.intl.formatMessage({ id: 'data', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.data })),
                !this.props.hideMainDataSourceSelect &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.mainDataSourceId, className: 'jimu-outline-inside', onChange: this.onMainDataChange, size: 'sm' }, Object.keys(groupedUseDss).sort((d1, d2) => d1 === null || d1 === void 0 ? void 0 : d1.localeCompare(d2))
                            .map((mainDataSourceId, i) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: mainDataSourceId, key: i, title: this.getDsLabel(mainDataSourceId) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate' }, this.getDsLabel(mainDataSourceId)))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('flex-grow-1', { 'mt-2': !this.props.hideMainDataSourceSelect }) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Select, { value: tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.dataViewId, className: 'jimu-outline-inside', onChange: this.onDataViewChange, size: 'sm' }, (_a = groupedUseDss[tempSelectUseDs === null || tempSelectUseDs === void 0 ? void 0 : tempSelectUseDs.mainDataSourceId]) === null || _a === void 0 ? void 0 : _a.sort((u1, u2) => { var _a; return (_a = u1 === null || u1 === void 0 ? void 0 : u1.dataSourceId) === null || _a === void 0 ? void 0 : _a.localeCompare(u2 === null || u2 === void 0 ? void 0 : u2.dataSourceId); }).map((u, i) => (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: u.dataViewId, key: i, title: this.getDsLabel(u.dataSourceId, u.dataViewId) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'text-truncate' }, this.getDsLabel(u.dataSourceId, u.dataViewId)))))))));
    }
}
const mapStateToProps = (state, ownProps) => {
    var _a, _b;
    return {
        browserSizeMode: ((_a = state === null || state === void 0 ? void 0 : state.appContext) === null || _a === void 0 ? void 0 : _a.isBuilder) ? (_b = state === null || state === void 0 ? void 0 : state.appStateInBuilder) === null || _b === void 0 ? void 0 : _b.browserSizeMode : state === null || state === void 0 ? void 0 : state.browserSizeMode
    };
};
// eslint-disable-next-line
const __MainDataAndViewSelector = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_MainDataAndViewSelector);
const MainDataAndViewSelector = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.injectIntl)((0,jimu_theme__WEBPACK_IMPORTED_MODULE_3__.withStyles)(__MainDataAndViewSelector, 'MainDataAndViewSelector'));


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/index.tsx":
/*!*************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/index.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDefinitionStatus: () => (/* reexport safe */ _components_field_selector_with_full_text_index__WEBPACK_IMPORTED_MODULE_10__.AddDefinitionStatus),
/* harmony export */   AllDataSourceTypes: () => (/* reexport safe */ jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes),
/* harmony export */   DEFAULT_DATA_VIEW_ID: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DATA_VIEW_ID),
/* harmony export */   DataSourceErrorItem: () => (/* reexport safe */ _components_data_source_error_item__WEBPACK_IMPORTED_MODULE_8__.DataSourceErrorItem),
/* harmony export */   DataSourceItem: () => (/* reexport safe */ _components_data_source_item__WEBPACK_IMPORTED_MODULE_6__.DataSourceItem),
/* harmony export */   DataSourceList: () => (/* reexport safe */ _components_data_source_list__WEBPACK_IMPORTED_MODULE_4__.DataSourceList),
/* harmony export */   DataSourceRemoveWaringReason: () => (/* reexport safe */ _components_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_13__.DataSourceRemoveWaringReason),
/* harmony export */   DataSourceRemoveWarningPopup: () => (/* reexport safe */ _components_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_13__.DataSourceRemoveWarningPopup),
/* harmony export */   DataSourceSelector: () => (/* reexport safe */ _components_data_source_selector__WEBPACK_IMPORTED_MODULE_3__.DataSourceSelector),
/* harmony export */   DataSourceTree: () => (/* reexport safe */ _components_data_source_tree__WEBPACK_IMPORTED_MODULE_7__.DataSourceTree),
/* harmony export */   DataViewPriority: () => (/* reexport safe */ _components_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_11__.DataViewPriority),
/* harmony export */   DataViewSettingPopup: () => (/* reexport safe */ _components_data_view_setting_popup__WEBPACK_IMPORTED_MODULE_12__.DataViewSettingPopup),
/* harmony export */   ExternalDataSourceSelector: () => (/* reexport safe */ _components_external_data_source_selector__WEBPACK_IMPORTED_MODULE_5__.ExternalDataSourceSelector),
/* harmony export */   FieldSelector: () => (/* reexport safe */ _components_field_selector__WEBPACK_IMPORTED_MODULE_9__.FieldSelector),
/* harmony export */   FieldSelectorWithFullTextIndex: () => (/* reexport safe */ _components_field_selector_with_full_text_index__WEBPACK_IMPORTED_MODULE_10__.FieldSelectorWithFullTextIndex),
/* harmony export */   MainDataAndViewSelector: () => (/* reexport safe */ _components_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_11__.MainDataAndViewSelector),
/* harmony export */   _DataSourceSelector: () => (/* reexport safe */ _components_data_source_selector__WEBPACK_IMPORTED_MODULE_3__._DataSourceSelector),
/* harmony export */   dataComponentsUtils: () => (/* reexport module object */ _utils__WEBPACK_IMPORTED_MODULE_2__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./jimu-ui/advanced/lib/data-source-selector/types.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./jimu-ui/advanced/lib/data-source-selector/utils.ts");
/* harmony import */ var _components_data_source_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-selector/index.tsx");
/* harmony import */ var _components_data_source_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/data-source-list */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-list/index.tsx");
/* harmony import */ var _components_external_data_source_selector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/external-data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/external-data-source-selector/index.tsx");
/* harmony import */ var _components_data_source_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/data-source-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-item.tsx");
/* harmony import */ var _components_data_source_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/data-source-tree */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-tree.tsx");
/* harmony import */ var _components_data_source_error_item__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/data-source-error-item */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-error-item.tsx");
/* harmony import */ var _components_field_selector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/field-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/index.tsx");
/* harmony import */ var _components_field_selector_with_full_text_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/field-selector-with-full-text-index */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector-with-full-text-index.tsx");
/* harmony import */ var _components_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/main-data-and-view-selector */ "./jimu-ui/advanced/lib/data-source-selector/components/main-data-and-view-selector.tsx");
/* harmony import */ var _components_data_view_setting_popup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/data-view-setting-popup */ "./jimu-ui/advanced/lib/data-source-selector/components/data-view-setting-popup.tsx");
/* harmony import */ var _components_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/data-source-remove-warning-popup */ "./jimu-ui/advanced/lib/data-source-selector/components/data-source-remove-warning-popup.tsx");















/**
 * @ignore
 * @deprecated
 * All data source types, including types from jimu-core and jimu-arcgis.
 * Should be imported from jimu-core.
 */



/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-error-item.ts":
/*!***********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-error-item.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceErrorItemStyles: () => (/* binding */ dataSourceErrorItemStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceErrorItemStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-data-source-error-item{
      .component-data-source-item{
        background-color: ${theme.colors.palette.secondary[400]};
        *:not(.ds-badge svg, .ds-close-icon){
          color: ${theme.colors.palette.dark[400]} !important;
        }

        .ds-origin-label{
          max-width: 100%;
        }
        .ds-item-header{
          background-color: ${theme.colors.palette.secondary[500]};
        }
        .ds-thumbnail{
          background-color: ${theme.colors.palette.light[800]};
        }
        .ds-close-icon{
          color: ${theme.colors.palette.dark[600]} !important;
          width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        }
      }

    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-item.ts":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-item.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceItemStyles: () => (/* binding */ dataSourceItemStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceItemStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-data-source-item{
      background-color: ${theme.colors.palette.light[500]};
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      border-radius: 2px;
      padding: 0;
      position: relative;
      &:hover{
        background-color: ${theme.colors.palette.light[600]};
      }
      .font-dark-600{
        color: ${theme.colors.palette.dark[600]} !important;
      }
      .loading-container{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
      }
      .ds-item-header{
        width: 100%;
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(38)};
        padding: 0 10px;
        background-color: ${theme.colors.palette.light[700]};
      }
      .ds-item-body{
        width: 100%;
        height: 100%;
        padding: 14px 10px 6px 10px;
      }
      .two-line-truncate{
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        word-break: break-all;
        word-wrap: break-word;
      }
      .ds-more{
        margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-8)};
      }
      .ds-label{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        color: ${theme.colors.palette.dark[800]};
      }
      .ds-type{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        color: ${theme.colors.palette.dark[800]};
        max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(100)};
      }
      .ds-thumbnail{
        width:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
        height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
        background-color: ${theme.colors.palette.info[400]};
      }
      .ds-related-widgets, .ds-child-dss{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
      }
      .warning-icon, .warning-icon>*{
        color: ${theme.colors.palette.danger[700]};
        fill: ${theme.colors.palette.danger[700]};
      }
    }

    .component-data-source-item.component-data-source-item-selected-item{
      border: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)} solid ${theme.colors.primary};
    }

    .cursor-pointer{
      cursor: pointer;
    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-list.ts":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-list.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceListStyles: () => (/* binding */ dataSourceListStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceListStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-data-source-list{
      font-size: ${theme.typography.fontSizeBase};
      overflow: hidden;

      .data-tabs .tab-content .tab-pane {
        padding-top: 16px;
      }

      .search{
        position: relative;
      }
      .search-input{
        height: 26px;
        border-radius: 2px;
      }
      .search-icon{
        color: ${theme.colors.palette.dark[600]};
      }

      .empty-placeholder{
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        .empty-placeholder-text, .empty-placeholder-icon{
          display: table;
          margin: 0 auto;
        }
        .empty-placeholder-text{
          color: ${theme.colors.palette.dark[400]};
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
          margin-top: 16px;
          text-align: center;
        }
        .empty-placeholder-icon{
          color: ${theme.colors.palette.secondary[800]};
        }
      }

      .jimu-tab{
        height: 100%;
        .tab-content{
          height: calc(100% - 40px);
        }
        .tab-pane{
          width: 100%;
        }
        .jimu-nav.nav-pills{
            margin: 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)} !important;
          }
      }

      .ds-list-container{
        height: calc(100% - 120px);
      }

      .ds-list{
        height: calc(100% - 20px);
        overflow: auto;
      }

      .ds-list-header{
        width: 100%;
      }

      .ds-add-data{
        position: absolute;
        bottom: 0;
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};
        width: 100%;
        color: ${theme.colors.palette.primary[700]};
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        border-top: 1px solid ${theme.colors.palette.secondary[800]};
        cursor: pointer;
        &:hover{
          .add-data-icon-container{
            background-color: ${theme.colors.palette.primary[800]};
          }
          color: ${theme.colors.palette.primary[800]};
        }
        .add-data-icon-container{
          width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
          background-color: ${theme.colors.palette.primary[700]};
          border-radius: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }
        .add-data-icon{
          color: ${theme.colors.palette.light[300]};
        }
      }

      .ds-list-close{
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
        height: 100%;
        cursor: pointer;
      }

      .ds-widget-back{
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(80)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
        cursor: pointer;
      }

      .ds-types{
        color: ${theme.colors.black};
        font-size: ${theme.typography.fontSizeBase};
      }

      .ds-widget-outputs{
        padding: 0;
      }

      .ds-added-data{
        padding: 0;
      }

      .to-use-types{
        color: ${theme.colors.black};
        .types-selected{
          max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(150)};
        }
        .to-use-dp{
          width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(120)};
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        }
      }

      .ds-thumbnail{
        width:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        background-color: ${theme.colors.palette.info[400]};
      }
      .ds-type{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        color: ${theme.colors.palette.dark[800]};
      }
      .ds-item.ds-error-item{
        background-color: ${theme.colors.palette.secondary[400]};
        *{
          color: ${theme.colors.palette.dark[400]} !important;
        }
        .ds-thumbnail{
          background-color: ${theme.colors.palette.secondary[800]};
        }
      }
      .ds-item{
        border: 1px solid transparent;
        border-radius: 0;
        position: relative;
        left: -2px;
        cursor: pointer;
        .item{
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
          background-color: ${theme.colors.palette.secondary[500]};
          padding-left: 0;
          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }
        .item-active-icon{
          position: absolute;
          top: -1px;
          right: -1px;
          .item-active-icon-container{
            width: 0;
            height: 0;
            border-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)} ${theme.colors.palette.primary[700]} solid;
            border-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)} transparent solid;
            background-color: transparent;
          }
        }
      }
      .ds-item.ds-item-selected{
        border: 1px solid ${theme.colors.palette.primary[700]};
      }
    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-remove-warning-popup.ts":
/*!*********************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-remove-warning-popup.ts ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceRemoveWarningPopupStyles: () => (/* binding */ dataSourceRemoveWarningPopupStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceRemoveWarningPopupStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &.modal-dialog{
      position: fixed !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      width: 480px;
    }
    .modal-content{
      border: 0;
    }
    .modal-header, .modal-body{
      padding-left: 20px;
      padding-right: 20px;
    }
    .modal-footer{
      padding-top: 0;
      padding-bottom: 20px;
    }
    .font-16{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
    }
    .font-14{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
    }
    .font-13{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
    }
    .font-dark-800{
      color: ${theme.colors.palette.dark[800]};
    }
    .font-dark-600{
      color: ${theme.colors.palette.dark[600]};
    }
    .related-widgets{
      width: 100%;
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(160)};
      overflow: auto;
      background-color: ${theme.colors.palette.light[200]};
    }
    .related-outputs{
      width: 100%;
      max-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(80)};
      overflow: auto;
      background-color: ${theme.colors.palette.light[200]};
      div.output-ds-label+div.output-ds-label{
        margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)};
      }
    }
  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-selector.ts":
/*!*********************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-selector.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceSelectorStyles: () => (/* binding */ dataSourceSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceSelectorStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-data-source-selector{
      .font-dark-600{
        color: ${theme.colors.palette.dark[600]};
      }
      .font-weight-500{
        font-weight: 500;
      }
      .added-ds-item{
        position: relative;
        .loading-container{
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
        }
        .loading-placeholder{
          width: 100%;
          background-color: ${theme.colors.palette.light[500]};
          padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
          .first-line{
            .first-line-left{
              width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
              height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
              background-color: ${theme.colors.palette.light[600]};
            }
            .first-line-right{
              height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
              background-color: ${theme.colors.palette.light[600]};
            }
          }
          .second-line{
            height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
            background-color: ${theme.colors.palette.light[600]};
          }
        }
      }
      .data-view-dropdown-menu-button{
        background: ${theme.colors.palette.secondary[200]};
        text-align: left;
      }
      .dv-select-container{
        margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
        .jimu-dropdown-button{
          .settings-icon{
            display: none;
          }
        }
      }
      .create-view-button{
        position: relative;
        margin-top: 2px;
        padding-top: 8px;
        .create-view-button-border{
          width: 90%;
          border-top: 1px solid ${theme.colors.palette.light[800]};
          position: absolute;
          top: 0;
          left: 50%;
          transform: translate(-50%, 0);
        }
      }
      .ds-selector-button{
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};
        line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};
        padding: 0;
        border: 1px dashed ${theme.colors.palette.dark[100]};
        border-radius: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)};
        cursor: pointer;
        color: ${theme.colors.palette.primary[700]};
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        text-decoration: none;
        &:hover{
          border-color: ${theme.colors.palette.dark[400]};
          color: ${theme.colors.palette.primary[800]};
        }
      }
      .ds-item.ds-error-item{
        background-color: ${theme.colors.palette.secondary[400]};
        *{
          color: ${theme.colors.palette.dark[400]} !important;
        }
        .ds-thumbnail{
          background-color: ${theme.colors.palette.secondary[800]};
        }
      }
      .ds-item{
        &:not(:first-of-type) {
          margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)};
        }

        padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        background-color: ${theme.colors.palette.secondary[500]};
        cursor: pointer;

        &:hover{
          background-color: ${theme.colors.palette.light[600]};
        }

        .mr-30{
          margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
        }

        &.disable-cursor{
          cursor: default;
        }

        .ds-item-close{
          height: 100%;
          cursor: pointer;
          margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
          margin-right: -5px;
        }

        .ds-item-filter{
          height: 100%;
          cursor: pointer;
        }

        .ds-item-sort{
          height: 100%;
          cursor: pointer;
          margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
        }

        .ds-thumbnail{
          width:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
          height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(18)};
          background-color: ${theme.colors.palette.info[400]};
        }
        .ds-type{
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
          color: ${theme.colors.palette.dark[800]};
        }
        .top-right-red-dot-container{
          position: relative;
        }
        .top-right-red-dot{
          position: absolute;
          top: 0;
          right: 0;
          display: inline-block;
          width: 8px;
          height: 8px;
          border-radius: 4px;
          background-color: ${theme.colors.palette.danger[700]};
        }
      }
    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-tree.ts":
/*!*****************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-tree.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataSourceTreeStyles: () => (/* binding */ dataSourceTreeStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataSourceTreeStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    *{
      margin: 0;
      padding: 0;
    }
    .bg{
      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)};
      background-color: ${theme.colors.palette.light[200]};
      border-top: 2px solid ${theme.colors.palette.primary[600]};
    }
    .tree-root{
      padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
      padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(5)};
    }
    .component-data-source-tree{
      position: relative;
      .collapse-button{
        position: absolute;
        left: 2px;
        z-index: 1;
      }
      .collapse-content{
        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
        position: relative;
      }
      .collapse-button:not(.root):not(.leaf){
        left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-18)};
      }
      .collapse-button.leaf{
        left: 2px;
      }
      .z-index-1 {
        z-index: 1;
      }
      .collapse-button:not(.root):before{
        content: '';
        position: absolute;
        top: 50%;
        left: -2px;
        border-top: 1px solid ${theme.colors.palette.dark[400]};
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(21)};
        transform: translateY(-50%);
      }
      .collapse-line{
        border-left: 1px solid ${theme.colors.palette.dark[400]};
        border-bottom: 1px solid ${theme.colors.palette.dark[400]};
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(22)};
        position: absolute;
        top: -1px;
        left: 0;
        z-index: 0;
      }
      .collapse-line:not(.root){
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        top: -2px;
      }
    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-view-setting-popup.ts":
/*!************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/data-view-setting-popup.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataViewSettingPopupStyles: () => (/* binding */ dataViewSettingPopupStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function dataViewSettingPopupStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .data-view-container{
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(960)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(600)};
      border: 0;
    }
    .cicle-button{
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(32)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(32)};
      border-radius: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
    }
    .domain-field-icon {
      color: ${theme.colors.palette.dark[600]};
      vertical-align: text-top;
    }
    .w-38{
      width: 38%;
    }
    .w-62{
      width: 62%;
    }
    .mr-10{
      margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
    }
    .pb-30{
      padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }
    .preview-table{
      position: relative;
      padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }
    .setting-table{
      padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      border-right-width: 2px;
      border-right-style: solid;
      border-image: linear-gradient(180deg, transparent 0%, ${theme.colors.palette.light[500]} 52.08%, transparent 100%) 1;
      border-left: 0;
    }
    .table-container{
      height : 100%;
      overflow-x: auto;
      .table-body{
        overflow-y: auto;
        overflow-x: hidden;
        width: fit-content;
      }
      .table-header{
        position: sticky;
        top: 0;
      }
      tr{
        border-top: 1px solid ${theme.colors.palette.light[400]};
      }
      tr:last-child{
        border-bottom: 1px solid ${theme.colors.palette.light[400]};
      }
      td, th{
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(86)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(32)};
        display: inline-block !important;
        border-left: 1px solid ${theme.colors.palette.light[400]};
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        padding: 6px 4px;
      }
      td{
        background-color: ${theme.colors.palette.light[200]};
      }
      th{
        background-color: ${theme.colors.palette.light[400]};
      }
      td:last-child, th:last-child{
        border-right: 1px solid ${theme.colors.palette.light[400]};
      }
    }
    .modal-body{
      height: calc(100% - ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(150)});
      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
    }
    &.modal-dialog{
      max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(960)};
    }
    .modal-header{
      .close{
        display: none;
      }
      .modal-title{
        width: 100%;
        display: flex !important;
        align-items: center !important;
      }
    }

    .jimu-nav{
      margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
    }

    .label{
      font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
      color: ${theme.colors.palette.dark[400]};
    }

    .header{
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(54)};
      padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }

    .modal-footer{
      padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
      padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
    }

    .tab-content{
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(426)};
      overflow-y: auto;
    }

    .sql-exp-warning{
      color: ${theme.colors.palette.danger[700]};
      font-size: ${theme.sizes[4]};
      max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(600)};
      .sql-exp-warning-icon{
        color: ${theme.colors.palette.danger[700]};
      }
    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/external-data-source-selector.ts":
/*!******************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/external-data-source-selector.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   externalDataSourceSelectorStyles: () => (/* binding */ externalDataSourceSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function externalDataSourceSelectorStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-external-data-source-selector{
      height: 100%;
      overflow: hidden;
      position: relative;

      .selected-ds-loading {
        margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-25)};
      }

      .added-ds-item{
        position: relative;
        cursor: pointer;
        margin: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        .ds-thumbnail{
          width:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
          height:  ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
          background-color: ${theme.colors.palette.info[400]};
        }
        .ds-type{
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
          color: ${theme.colors.dark};
        }
        .item{
          height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        }
      }

      .added-ds-container{
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(300)};
        background-color: ${theme.colors.palette.light[600]};
        box-shadow: 0 0 10px 4px ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.3)};
        position: absolute;
        right: 30px;
        bottom: 30px;
        .added-ds-items{
          max-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(500)};
          overflow-y: auto;
          overflow-x: hidden;
        }
        .small-done-btn{
          max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(100)};
        }
      }

      .selector-left{
        @media only screen and (max-width: 1100px){
          &{
            width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(160)};
          }
        }
        @media only screen and (min-width: 1100px){
          &{
            width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(200)};
          }
        }
        @media only screen and (min-width: 1300px){
          &{
            width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(260)};
          }
        }
        background-color: ${theme.colors.palette.light[400]};
        border-right: 1px solid ${theme.colors.palette.light[800]};
        .selector-left-title{
          padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(27)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
          margin: 0;
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
          color: ${theme.colors.palette.dark[600]};
        }
        .nav.nav-underline{
          border: 0;
          .nav-item{
            .nav-link{
              padding: 0;
              border: 0;
              .jimu-nav-link-wrapper{
                display: flex;
                justify-content: flex-start;
                align-items: center;
                padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(7)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
                font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
                color: ${theme.colors.palette.dark[600]};
              }
            }
          }

          .nav-item:hover{
            .nav-link{
              .jimu-nav-link-wrapper{
                color: ${theme.colors.black};
              }
            }
          }

          .nav-item.active-tab{
            background-color: ${theme.colors.palette.light[500]};
            border-left: 4px solid ${theme.colors.palette.primary[600]};
            .nav-link{
              .jimu-nav-link-wrapper{
                color: ${theme.colors.black};
                font-weight: 500;
                padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
              }
            }
          }
        }
      }

      .selector-right{
        @media only screen and (max-width: 1100px){
          &{
            width: calc(100% - ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(160)});
          }
        }
        @media only screen and (min-width: 1100px){
          &{
            width: calc(100% - ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(200)});
          }
        }
        @media only screen and (min-width: 1300px){
          &{
            width: calc(100% - ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(260)});
          }
        }
        .selector-right-header{
          padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(23)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        }
        .selector-right-body{
          height: calc(100% - 70px);
          @media only screen and (max-width: 1100px){
            &{
              padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(25)};
            }
          }
          @media only screen and (min-width: 1100px){
            &{
              padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(45)};
            }
          }
          @media only screen and (min-width: 1300px){
            &{
              padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(65)};
            }
          }
        }
        .external-data-source-url-input{
          .url-type-select{
            width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(250)};
          }
          .url-input{
            width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(500)};
          }
          .url-input-add-btn{
            height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(30)};
          }
          .url-input-label{
            font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
            color: ${theme.colors.palette.dark[400]};
            margin-bottom: 12px;
            font-weight: 500;
          }
        }

      }

    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/field-selector.ts":
/*!***************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/field-selector.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fieldSelectorStyles: () => (/* binding */ fieldSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function fieldSelectorStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-field-selector{
      font-size: ${theme.typography.fontSizeBase};
      .ds-name{
        color: ${theme.colors.black};
      }
      .ds-name-label{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};
        color: ${theme.colors.palette.dark[400]};
        font-weight: 400;
      }
      .field-data-selected{
        width: 70%;
      }

      .item-selector-search{
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        position: relative;
      }

      .field-list{
        height: calc(100% - 160px);
        overflow-y: auto;
        .field-item.field-item-selected{
          border: 2px solid ${theme.colors.palette.primary[600]};
        }
        .field-item{
          border: 1px solid transparent;
          cursor: pointer;
          background-color: ${theme.colors.palette.light[400]};
          user-select: none;
          text-align: left;
          border-radius: 0;
        }
        .field-item:hover{
          background-color: ${theme.colors.palette.light[500]};
        }
        .field-item:active.field-item:hover{
          background-color: ${theme.colors.white};
        }
      }

      .search-input{
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};
        width: 100%;
      }

    }

  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/components/main-data-and-view-selector.ts":
/*!****************************************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/components/main-data-and-view-selector.ts ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mainDataAndViewSelectorStyles: () => (/* binding */ mainDataAndViewSelectorStyles)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function mainDataAndViewSelectorStyles(props) {
    const theme = props.theme;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .component-main-data-and-view{
      .option-label{
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: 500;
        color: ${theme.colors.palette.dark[400]};
      }
    }
  `;
}


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/styles/index.ts":
/*!*******************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/styles/index.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataSourceErrorItem: () => (/* reexport safe */ _components_data_source_error_item__WEBPACK_IMPORTED_MODULE_5__.dataSourceErrorItemStyles),
/* harmony export */   DataSourceItem: () => (/* reexport safe */ _components_data_source_item__WEBPACK_IMPORTED_MODULE_4__.dataSourceItemStyles),
/* harmony export */   DataSourceList: () => (/* reexport safe */ _components_data_source_list__WEBPACK_IMPORTED_MODULE_1__.dataSourceListStyles),
/* harmony export */   DataSourceRemoveWarningPopup: () => (/* reexport safe */ _components_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_9__.dataSourceRemoveWarningPopupStyles),
/* harmony export */   DataSourceSelector: () => (/* reexport safe */ _components_data_source_selector__WEBPACK_IMPORTED_MODULE_0__.dataSourceSelectorStyles),
/* harmony export */   DataSourceTree: () => (/* reexport safe */ _components_data_source_tree__WEBPACK_IMPORTED_MODULE_2__.dataSourceTreeStyles),
/* harmony export */   DataViewSettingPopup: () => (/* reexport safe */ _components_data_view_setting_popup__WEBPACK_IMPORTED_MODULE_8__.dataViewSettingPopupStyles),
/* harmony export */   ExternalDataSourceSelector: () => (/* reexport safe */ _components_external_data_source_selector__WEBPACK_IMPORTED_MODULE_3__.externalDataSourceSelectorStyles),
/* harmony export */   FieldSelector: () => (/* reexport safe */ _components_field_selector__WEBPACK_IMPORTED_MODULE_6__.fieldSelectorStyles),
/* harmony export */   MainDataAndViewSelector: () => (/* reexport safe */ _components_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_7__.mainDataAndViewSelectorStyles)
/* harmony export */ });
/* harmony import */ var _components_data_source_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-selector.ts");
/* harmony import */ var _components_data_source_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/data-source-list */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-list.ts");
/* harmony import */ var _components_data_source_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/data-source-tree */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-tree.ts");
/* harmony import */ var _components_external_data_source_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/external-data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/external-data-source-selector.ts");
/* harmony import */ var _components_data_source_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/data-source-item */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-item.ts");
/* harmony import */ var _components_data_source_error_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/data-source-error-item */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-error-item.ts");
/* harmony import */ var _components_field_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/field-selector */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/field-selector.ts");
/* harmony import */ var _components_main_data_and_view_selector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/main-data-and-view-selector */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/main-data-and-view-selector.ts");
/* harmony import */ var _components_data_view_setting_popup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/data-view-setting-popup */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-view-setting-popup.ts");
/* harmony import */ var _components_data_source_remove_warning_popup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/data-source-remove-warning-popup */ "./jimu-ui/advanced/lib/data-source-selector/styles/components/data-source-remove-warning-popup.ts");












/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/types.ts":
/*!************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/types.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_DATA_VIEW_ID: () => (/* binding */ DEFAULT_DATA_VIEW_ID)
/* harmony export */ });
const DEFAULT_DATA_VIEW_ID = 'USE_MAIN_DATA_SOURCE';


/***/ }),

/***/ "./jimu-ui/advanced/lib/data-source-selector/utils.ts":
/*!************************************************************!*\
  !*** ./jimu-ui/advanced/lib/data-source-selector/utils.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   editDataSourceJson: () => (/* binding */ editDataSourceJson),
/* harmony export */   getAppConfig: () => (/* binding */ getAppConfig),
/* harmony export */   getDescendantDssAndViews: () => (/* binding */ getDescendantDssAndViews),
/* harmony export */   getIconFromFieldType: () => (/* reexport safe */ _components_field_selector_utils__WEBPACK_IMPORTED_MODULE_1__.getIconFromFieldType),
/* harmony export */   getOriginalDataUrl: () => (/* binding */ getOriginalDataUrl),
/* harmony export */   getOutputDssFromOriginDs: () => (/* binding */ getOutputDssFromOriginDs),
/* harmony export */   getWhetherDataSourceIsInited: () => (/* binding */ getWhetherDataSourceIsInited),
/* harmony export */   getWidgetsUsingDsOrItsDescendantDss: () => (/* binding */ getWidgetsUsingDsOrItsDescendantDss),
/* harmony export */   getWidgetsUsingDsOrItsViews: () => (/* binding */ getWidgetsUsingDsOrItsViews),
/* harmony export */   getWidgetsUsingOutputDsFromOneWidget: () => (/* binding */ getWidgetsUsingOutputDsFromOneWidget),
/* harmony export */   isFuzzyFromDsIds: () => (/* binding */ isFuzzyFromDsIds),
/* harmony export */   isFuzzySearch: () => (/* binding */ isFuzzySearch)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_field_selector_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/field-selector/utils */ "./jimu-ui/advanced/lib/data-source-selector/components/field-selector/utils.ts");


/**
 * Get widgets which are using a specific data source or data views of the data source (if the data source is main data source).
 */
function getWidgetsUsingDsOrItsViews(dsId, allWidgets, considerOutputDs = true) {
    if (!dsId || !allWidgets) {
        return [];
    }
    const widgetsUsingMainDs = getWidgetsUsingOneDs(dsId, allWidgets, considerOutputDs);
    const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
    if (!ds) {
        return widgetsUsingMainDs;
    }
    let widgetsUsingDataView = [];
    ds.getDataViews().forEach(dataView => {
        widgetsUsingDataView = widgetsUsingDataView.concat(getWidgetsUsingOneDs(dataView.id, allWidgets, considerOutputDs));
    });
    return Array.from(new Set(widgetsUsingMainDs.concat(widgetsUsingDataView)));
}
/**
 * Get widgets which are using:
 * 1. a specific data source, or,
 * 2. descendant data sources of the data source, or,
 * 3. data views of the data source (if the data source is main data source) or data views of the descendant data sources, or,
 * 4. output data sources from the data source or output data sources from the descendant data sources or output data sources from the data views
 */
function getWidgetsUsingDsOrItsDescendantDss(dsId, allWidgets) {
    if (!dsId || !allWidgets) {
        return [];
    }
    const widgetsUsingDsOrItsViewsOrItsOutputDss = getWidgetsUsingDsOrItsViews(dsId, allWidgets);
    const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
    if (!ds) {
        return widgetsUsingDsOrItsViewsOrItsOutputDss;
    }
    let widgetsUsingChildDssOrTheirViews = [];
    if (ds.isDataSourceSet) {
        ds.getChildDataSources().forEach(childDs => {
            widgetsUsingChildDssOrTheirViews = widgetsUsingChildDssOrTheirViews.concat(getWidgetsUsingDsOrItsDescendantDss(childDs.id, allWidgets));
        });
    }
    return Array.from(new Set(widgetsUsingDsOrItsViewsOrItsOutputDss.concat(widgetsUsingChildDssOrTheirViews)));
}
/**
 * Get widgets which are using one specific main data source or one specific data view.
 * If `considerOutputDs` is true, should consider widgets using output data sources from the specific data source and data views of these output data sources.
 */
function getWidgetsUsingOneDs(dsId, allWidgets, considerOutputDs = false) {
    if (!dsId || !allWidgets) {
        return [];
    }
    const widgetsDirectlyUsingDs = getWidgetsDirectlyUsingOneDs(dsId, allWidgets);
    const widgetsUsingOutputDsOrItsViews = considerOutputDs ? getWidgetsUsingOutputDssFromOneDsAndWidgetsUsingViewsOfTheseOutputDss(dsId, allWidgets) : [];
    const allWidgetsUsingOneDs = Array.from(new Set(widgetsDirectlyUsingDs.concat(widgetsUsingOutputDsOrItsViews)));
    return allWidgetsUsingOneDs.map(wId => allWidgets[wId]);
}
/**
 * Get following data source id:
 * 1. the passed data source id, and,
 * 2. data views of the data source (if the data source is main data source), and,
 * 3. descendant data sources of the data source, and,
 * 4. data views of descendant data sources
 */
// TODO: handle output ds.
function getDescendantDssAndViews(dsId) {
    var _a, _b;
    if (!dsId) {
        return [];
    }
    const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
    if (!ds) {
        return [dsId];
    }
    let ids = [dsId];
    (_a = ds.getDataViews()) === null || _a === void 0 ? void 0 : _a.forEach(dv => { ids = ids.concat(dv.id); });
    if (ds.isDataSourceSet) {
        (_b = ds.getChildDataSources()) === null || _b === void 0 ? void 0 : _b.forEach(childDs => {
            ids = ids.concat(getDescendantDssAndViews(childDs.id));
        });
    }
    return ids;
}
function isFuzzySearch(label, searchValue) {
    if (!label) {
        return false;
    }
    if (!searchValue) {
        return true;
    }
    return label.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase());
}
function isFuzzyFromDsIds(dsJson, fromDsIds, hideDs) {
    if (!dsJson || !dsJson.id) {
        return false;
    }
    if (!fromDsIds && !hideDs) {
        return true;
    }
    else if (!fromDsIds) { // has hideDs
        return !hideDs(dsJson);
    }
    else if (!hideDs) { // has fromDsIds
        return fromDsIds.includes(dsJson.id);
    }
    else { // has fromDsIds and has hideDs
        return fromDsIds.includes(dsJson.id) && !hideDs(dsJson);
    }
}
function getWidgetsDirectlyUsingOneDs(dsId, allWidgets) {
    if (!dsId || !allWidgets) {
        return [];
    }
    return getAllWidgetsArray(allWidgets)
        // eslint-disable-next-line
        .filter((w) => w && w.useDataSourcesEnabled !== false && w.useDataSources && w.useDataSources.some(d => d.dataSourceId === dsId))
        .map(w => w.id);
}
/**
 * Get widgets using:
 * 1. output data sources from one specific data source, or,
 * 2. data views of these output data sources
 */
function getWidgetsUsingOutputDssFromOneDsAndWidgetsUsingViewsOfTheseOutputDss(dsId, allWidgets) {
    if (!dsId || !allWidgets) {
        return [];
    }
    const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
    const ds = dsManager.getDataSource(dsId);
    const outputDss = getOutputDssFromOriginDs(ds);
    let widgetsUsingOutputDssOrTheirViews = [];
    let widgetsUsingOneOutputDsOrItsViews = [];
    outputDss.forEach(ds => {
        if (ds && ds.id) {
            widgetsUsingOneOutputDsOrItsViews = getWidgetsUsingDsOrItsViews(ds.id, allWidgets).map(w => w.id);
            widgetsUsingOutputDssOrTheirViews = widgetsUsingOutputDssOrTheirViews.concat(widgetsUsingOneOutputDsOrItsViews);
        }
    });
    return Array.from(new Set(widgetsUsingOutputDssOrTheirViews));
}
function getOutputDssFromOriginDs(ds) {
    if (!ds || !ds.id) {
        return [];
    }
    const appConfig = getAppConfig();
    const dataSources = appConfig && appConfig.dataSources;
    let outputDss = [];
    dataSources && Object.keys(dataSources).forEach(dsId => {
        if (dataSources[dsId] && dataSources[dsId].isOutputFromWidget && dataSources[dsId].originDataSources && dataSources[dsId].originDataSources.some(useDs => useDs.dataSourceId === ds.id)) {
            outputDss = outputDss.concat(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId));
        }
    });
    return outputDss;
}
function getAppConfig() {
    const appState = window && window.jimuConfig && window.jimuConfig.isBuilder ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appStateInBuilder : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState();
    const appConfig = appState && appState.appConfig;
    return appConfig;
}
function getAllWidgetsArray(widgets) {
    if (!widgets) {
        return [];
    }
    const w = [];
    Object.keys(widgets).forEach(wId => {
        w.push(widgets[wId]);
    });
    return w;
}
function getWhetherDataSourceIsInited(dataSources, dataSourcesInfo) {
    if (!dataSources) { // no data source
        return !!jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
    }
    if (dataSourcesInfo) {
        const appConfig = getAppConfig();
        const rootDsInfoIds = Object.keys(dataSourcesInfo).filter(dsId => dsId.split('-').length === 1).filter(dsId => { var _a; return (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.dataSources) === null || _a === void 0 ? void 0 : _a[dsId]; });
        // Root data source is removed but data source info doesn't update.
        if (rootDsInfoIds.length > Object.keys(dataSources).length) {
            return false;
        }
    }
    return Object.keys(dataSources).every(dsId => {
        var _a, _b;
        if (((_a = dataSourcesInfo[dsId]) === null || _a === void 0 ? void 0 : _a.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.CreateError) {
            return true;
        }
        else if (((_b = dataSourcesInfo[dsId]) === null || _b === void 0 ? void 0 : _b.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Created) {
            // If the data source is set, should wait util all child data sources are created.
            const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
            return (ds === null || ds === void 0 ? void 0 : ds.isDataSourceSet) ? ds.areChildDataSourcesCreated() : true;
        }
        return false;
    });
}
// Return root data source json.
function editDataSourceJson(dsJson) {
    const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsJson === null || dsJson === void 0 ? void 0 : dsJson.id);
    if (!ds || !dsJson) {
        return null;
    }
    let rootDs = ds;
    let rootDsJson = dsJson;
    while (rootDs.parentDataSource) {
        rootDsJson = rootDs.parentDataSource.getDataSourceJson().setIn(['childDataSourceJsons', rootDs.jimuChildId], rootDsJson);
        rootDs = rootDs.parentDataSource;
    }
    return makeSureIsHiddenRight(rootDsJson, dsJson);
}
function makeSureIsHiddenRight(rootDsJson, editDsJson) {
    return makeSureChildDssOfHiddenDsAreHidden(makeSureParentDsOfUnhiddenDsIsUnhidden(rootDsJson, editDsJson));
}
// Return root data source json.
function makeSureParentDsOfUnhiddenDsIsUnhidden(rootDsJson, editDsJson) {
    // If the edited data source is hidden, no need to check parent data sources.
    if (editDsJson === null || editDsJson === void 0 ? void 0 : editDsJson.isHidden) {
        return rootDsJson;
    }
    const editDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(editDsJson === null || editDsJson === void 0 ? void 0 : editDsJson.id);
    if (!editDs || !editDsJson) {
        return null;
    }
    let ds = editDs;
    let dsJson = editDsJson;
    while (ds.parentDataSource) {
        const isDsUnhidden = !dsJson.isHidden;
        ds = ds.parentDataSource;
        dsJson = findChildDsJson(rootDsJson, ds.id);
        // If ds is unhidden, the parent of the ds should also be unhidden.
        if (isDsUnhidden) {
            dsJson = dsJson.set('isHidden', false);
            rootDsJson = setChildDsJson(rootDsJson, dsJson);
        }
    }
    return rootDsJson;
}
// Return child data source json.
function findChildDsJson(rootDsJson, childDsId) {
    if (!rootDsJson) {
        return null;
    }
    if (rootDsJson.id === childDsId) {
        return rootDsJson;
    }
    const childDsJsons = Object.values(rootDsJson.childDataSourceJsons || {});
    let result = null;
    for (const dsJson of childDsJsons) {
        const res = findChildDsJson(dsJson, childDsId);
        if (res) {
            result = res;
            break;
        }
    }
    return result;
}
// Return root data source json.
function setChildDsJson(rootDsJson, childDsJson) {
    if (!rootDsJson) {
        return null;
    }
    if (rootDsJson.id === childDsJson.id) {
        return rootDsJson.merge(childDsJson);
    }
    let result = rootDsJson;
    Object.keys(rootDsJson.childDataSourceJsons || {}).forEach(childId => {
        result = result.setIn(['childDataSourceJsons', childId], setChildDsJson(rootDsJson.childDataSourceJsons[childId], childDsJson));
    });
    return result;
}
// Return root data source json.
function makeSureChildDssOfHiddenDsAreHidden(rootDsJson) {
    var _a;
    const rootDs = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(rootDsJson === null || rootDsJson === void 0 ? void 0 : rootDsJson.id);
    if (!rootDs || !rootDsJson) {
        return null;
    }
    let rightRootDsJson = rootDsJson;
    const startToHide = !!rightRootDsJson.isHidden;
    if (rootDs.isDataSourceSet && ((_a = rootDs.getChildDataSources()) === null || _a === void 0 ? void 0 : _a.length) > 0) {
        rootDs.getChildDataSources().forEach(childDs => {
            var _a;
            let childDsJson = (_a = childDs.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.merge(rightRootDsJson.getIn(['childDataSourceJsons', childDs.jimuChildId]) || {});
            if (!childDsJson) {
                return;
            }
            if (startToHide) {
                childDsJson = childDsJson.set('isHidden', true);
            }
            rightRootDsJson = rightRootDsJson.setIn(['childDataSourceJsons', childDs.jimuChildId], makeSureChildDssOfHiddenDsAreHidden(childDsJson));
        });
    }
    return rightRootDsJson;
}
/**
 * Return original data's url.
 * 1. If data source is from an item, will return item detail url,
 * else will return service url.
 * 2. When need to return service url, if the service is a hosted service, will return service url with corresponding token,
 * else will return service url without token.
 * (When need to return item detail url, will never add token to url. Because user can login in item detail page.)
 */
function getOriginalDataUrl(dsJson) {
    var _a, _b;
    if (!dsJson) {
        return null;
    }
    if (dsJson.itemId && dsJson.portalUrl) {
        return `${dsJson.portalUrl.replace(/\/$/, '')}/home/item.html?id=${dsJson.itemId}`;
    }
    else if (dsJson.url) {
        const isHosted = !!((_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance().getServerInfoByServiceUrl(dsJson.url)) === null || _a === void 0 ? void 0 : _a.owningSystemUrl);
        if (isHosted) {
            const token = (_b = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(dsJson.url)) === null || _b === void 0 ? void 0 : _b.token;
            return token ? `${dsJson.url}?token=${token}` : `${dsJson.url}`;
        }
        else {
            return `${dsJson.url}`;
        }
    }
    return null;
}
/**
 * Return all ids of the widgets which are using one specific widget's output data source.
 * E.g. ds 1 -> widget A -> output ds 1 -> widget B -> output ds 2 -> widget C -> output ds 3,
 * pass in id of widget A, will return ids of widget A, widget B and widget C.
 */
function getWidgetsUsingOutputDsFromOneWidget(widgetId) {
    var _a;
    let ids = [];
    const appConfig = getAppConfig();
    const widgets = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets;
    if (widgets) {
        const outputDss = (_a = widgets[widgetId]) === null || _a === void 0 ? void 0 : _a.outputDataSources;
        if (outputDss && outputDss.length > 0) {
            // Add source widget id
            ids = ids.concat(widgetId);
            outputDss.forEach(outputDsId => {
                Object.keys(widgets).forEach(wId => {
                    var _a, _b;
                    if ((_b = (_a = widgets[wId]) === null || _a === void 0 ? void 0 : _a.useDataSources) === null || _b === void 0 ? void 0 : _b.some(u => u.mainDataSourceId === outputDsId)) {
                        // Add id of the widget which is using source widget's output data source
                        ids = ids.concat(getWidgetsUsingOutputDsFromOneWidget(wId));
                    }
                });
            });
        }
    }
    return ids;
}
// Get icon and color by FieldType.



/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-core/data-source":
/*!****************************************!*\
  !*** external "jimu-core/data-source" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-theme":
/*!*****************************!*\
  !*** external "jimu-theme" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_theme__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/basic/item-selector":
/*!**********************************************!*\
  !*** external "jimu-ui/basic/item-selector" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_item_selector__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!***************************************************!*\
  !*** ./jimu-ui/advanced/data-source-selector.tsx ***!
  \***************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDefinitionStatus: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.AddDefinitionStatus),
/* harmony export */   AllDataSourceTypes: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.AllDataSourceTypes),
/* harmony export */   DEFAULT_DATA_VIEW_ID: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_DATA_VIEW_ID),
/* harmony export */   DataSourceErrorItem: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceErrorItem),
/* harmony export */   DataSourceItem: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceItem),
/* harmony export */   DataSourceList: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceList),
/* harmony export */   DataSourceRemoveWaringReason: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceRemoveWaringReason),
/* harmony export */   DataSourceRemoveWarningPopup: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceRemoveWarningPopup),
/* harmony export */   DataSourceSelector: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceSelector),
/* harmony export */   DataSourceTree: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataSourceTree),
/* harmony export */   DataViewPriority: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataViewPriority),
/* harmony export */   DataViewSettingPopup: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.DataViewSettingPopup),
/* harmony export */   ExternalDataSourceSelector: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.ExternalDataSourceSelector),
/* harmony export */   FieldSelector: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.FieldSelector),
/* harmony export */   FieldSelectorWithFullTextIndex: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.FieldSelectorWithFullTextIndex),
/* harmony export */   MainDataAndViewSelector: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.MainDataAndViewSelector),
/* harmony export */   _DataSourceSelector: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__._DataSourceSelector),
/* harmony export */   dataComponentsUtils: () => (/* reexport safe */ _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__.dataComponentsUtils)
/* harmony export */ });
/* harmony import */ var _lib_data_source_selector_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/data-source-selector/styles */ "./jimu-ui/advanced/lib/data-source-selector/styles/index.ts");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _lib_data_source_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/data-source-selector */ "./jimu-ui/advanced/lib/data-source-selector/index.tsx");


(0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.registerStyles)('jimu-ui/advanced/data-source-selector/', _lib_data_source_selector_styles__WEBPACK_IMPORTED_MODULE_0__);


})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQzRDO0FBQ2M7QUFDTTtBQUNOO0FBQ007QUFDNUI7QUFDN0I7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLGlEQUFJO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0NBQVEsQ0FBQywrQ0FBUSxHQUFHLG9CQUFvQix5QkFBeUI7QUFDbEc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLHlFQUFrQjtBQUNPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlFQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0lBQ0gsQ0FBQztJQUVELE9BQU8sR0FBRztBQUNaLENBQUM7QUFFRCxtQ0FBbUM7QUFDSjs7Ozs7Ozs7Ozs7O0FDOVkvQjs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGlDQUFpQyxXQUFXO1dBQzVDO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTjJEO0FBQ2hCO0FBQzNDLDBEQUFjLENBQUMsd0NBQXdDLEVBQUUsNkRBQU0sQ0FBQztBQUV0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGVzcmkvYXJjZ2lzLXJlc3QtcmVxdWVzdC9kaXN0L2VzbS9yZXF1ZXN0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGVzcmkvYXJjZ2lzLXJlc3QtcmVxdWVzdC9kaXN0L2VzbS91dGlscy9BcmNHSVNSZXF1ZXN0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZXNyaS9hcmNnaXMtcmVzdC1yZXF1ZXN0L2Rpc3QvZXNtL3V0aWxzL2VuY29kZS1mb3JtLWRhdGEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZXNyaS9hcmNnaXMtcmVzdC1yZXF1ZXN0L2Rpc3QvZXNtL3V0aWxzL2VuY29kZS1xdWVyeS1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZXNyaS9hcmNnaXMtcmVzdC1yZXF1ZXN0L2Rpc3QvZXNtL3V0aWxzL3Byb2Nlc3MtcGFyYW1zLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGVzcmkvYXJjZ2lzLXJlc3QtcmVxdWVzdC9kaXN0L2VzbS91dGlscy93YXJuLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGVzcmkvYXJjZ2lzLXJlc3QtcmVxdWVzdC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9maWxsZWQvZGF0YS9sYXllci5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL2ZpbGxlZC9kYXRhL3dpZGdldC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL2ZpbGxlZC9zdWdnZXN0ZWQvd2FybmluZy1jaXJjbGUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9lbXB0eS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL2ludmlzaWJsZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL21vcmUtaG9yaXpvbnRhbC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL3NldHRpbmcuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9hcHBsaWNhdGlvbi92aXNpYmxlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGF0YS9kYXRlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGF0YS9nbG9iZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RhdGEvbnVtYmVyLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGF0YS9zdHJpbmcuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvdXAuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvZHVwbGljYXRlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL2VkaXQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvbWludXMtY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3BsdXMtY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3BsdXMuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvcHJldmlldy5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zZWFyY2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvaW5mby5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL2RhdGEtbGF5ZXItMTYuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy9kYXRhLW1hcC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL2RhdGEtc2NlbmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy93aWRnZXQtbGluay5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvbGF5ZXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL2ZpbGxlZC9kYXRhL3dpZGdldC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvZmlsbGVkL3N1Z2dlc3RlZC93YXJuaW5nLWNpcmNsZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vZW1wdHkudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2ludmlzaWJsZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS1ob3Jpem9udGFsLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9zZXR0aW5nLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi92aXNpYmxlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kYXRhL2dsb2JlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC91cC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvZHVwbGljYXRlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvZWRpdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3BsdXMudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9wcmV2aWV3LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC9pbmZvLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1lcnJvci1pdGVtLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1pdGVtLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1saXN0L2NvbXBvbmVudHMvY29tbW9uL2RzLWl0ZW0udHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvY29tcG9uZW50cy9jb21tb24vZHMtdHlwZXMudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvY29tcG9uZW50cy9kcy1hZGRlZC1kYXRhL2RzLWVycm9yLWl0ZW0udHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvY29tcG9uZW50cy9kcy1hZGRlZC1kYXRhL2RzLWl0ZW0tdHJlZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtbGlzdC9jb21wb25lbnRzL2RzLWFkZGVkLWRhdGEvZHMtbGlzdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtbGlzdC9jb21wb25lbnRzL2RzLWFkZGVkLWRhdGEvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvY29tcG9uZW50cy9kcy13aWRnZXQtb3V0cHV0cy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtbGlzdC9jb21wb25lbnRzL2RzLXdpZGdldC1vdXRwdXRzL291dHB1dC1kcy1pdGVtLXRyZWUudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtcmVtb3ZlLXdhcm5pbmctcG9wdXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvYWRkZWQtZHMtaXRlbS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9zZXQtZHMtYnRuLWRzLWxpc3QudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2RhdGEtc291cmNlLXNlbGVjdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9kYXRhLXNvdXJjZS10cmVlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9kYXRhLXZpZXctc2V0dGluZy1wb3B1cC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZXh0ZXJuYWwtZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy91cmwtaW5wdXQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9jb21wb25lbnRzL2V4dGVybmFsLWRhdGEtc291cmNlLXNlbGVjdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9leHRlcm5hbC1kYXRhLXNvdXJjZS1zZWxlY3Rvci91dGlscy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9maWVsZC1zZWxlY3Rvci13aXRoLWZ1bGwtdGV4dC1pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3IvY29tcG9uZW50cy9jb21tb24tbGlzdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3IvY29tcG9uZW50cy9kcm9wZG93bi1saXN0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9maWVsZC1zZWxlY3Rvci9jb21wb25lbnRzL2ZpZWxkLXNlbGVjdG9yLWlubmVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvY29tcG9uZW50cy9maWVsZC1zZWxlY3Rvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3IvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL2NvbXBvbmVudHMvbWFpbi1kYXRhLWFuZC12aWV3LXNlbGVjdG9yLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9zdHlsZXMvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1lcnJvci1pdGVtLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9zdHlsZXMvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1pdGVtLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9zdHlsZXMvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1saXN0LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9zdHlsZXMvY29tcG9uZW50cy9kYXRhLXNvdXJjZS1yZW1vdmUtd2FybmluZy1wb3B1cC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3Ivc3R5bGVzL2NvbXBvbmVudHMvZGF0YS1zb3VyY2Utc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL3N0eWxlcy9jb21wb25lbnRzL2RhdGEtc291cmNlLXRyZWUudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL3N0eWxlcy9jb21wb25lbnRzL2RhdGEtdmlldy1zZXR0aW5nLXBvcHVwLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci9zdHlsZXMvY29tcG9uZW50cy9leHRlcm5hbC1kYXRhLXNvdXJjZS1zZWxlY3Rvci50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3Ivc3R5bGVzL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2RhdGEtc291cmNlLXNlbGVjdG9yL3N0eWxlcy9jb21wb25lbnRzL21haW4tZGF0YS1hbmQtdmlldy1zZWxlY3Rvci50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3Ivc3R5bGVzL2luZGV4LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3Rvci90eXBlcy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3IvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZS9kYXRhLXNvdXJjZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXRoZW1lXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpL2Jhc2ljL2l0ZW0tc2VsZWN0b3JcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3Rvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuICogQXBhY2hlLTIuMCAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZW5jb2RlRm9ybURhdGEgfSBmcm9tIFwiLi91dGlscy9lbmNvZGUtZm9ybS1kYXRhXCI7XG5pbXBvcnQgeyBlbmNvZGVRdWVyeVN0cmluZyB9IGZyb20gXCIuL3V0aWxzL2VuY29kZS1xdWVyeS1zdHJpbmdcIjtcbmltcG9ydCB7IHJlcXVpcmVzRm9ybURhdGEgfSBmcm9tIFwiLi91dGlscy9wcm9jZXNzLXBhcmFtc1wiO1xuaW1wb3J0IHsgQXJjR0lTUmVxdWVzdEVycm9yIH0gZnJvbSBcIi4vdXRpbHMvQXJjR0lTUmVxdWVzdEVycm9yXCI7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSBcIi4vdXRpbHMvd2FyblwiO1xuZXhwb3J0IHZhciBOT0RFSlNfREVGQVVMVF9SRUZFUkVSX0hFQURFUiA9IFwiQGVzcmkvYXJjZ2lzLXJlc3QtanNcIjtcbnZhciBERUZBVUxUX0FSQ0dJU19SRVFVRVNUX09QVElPTlMgPSB7XG4gICAgaHR0cE1ldGhvZDogXCJQT1NUXCIsXG4gICAgcGFyYW1zOiB7XG4gICAgICAgIGY6IFwianNvblwiLFxuICAgIH0sXG59O1xuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBhc3NlZCBpbiAqKmFsbCByZXF1ZXN0cyBhY3Jvc3MgYWxsIGBAZXNyaS9hcmNnaXMtcmVzdC1qc2AgbW9kdWxlcyoqLlxuICpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgc2V0RGVmYXVsdFJlcXVlc3RPcHRpb25zIH0gZnJvbSBcIkBlc3JpL2FyY2dpcy1yZXN0LXJlcXVlc3RcIjtcbiAqIHNldERlZmF1bHRSZXF1ZXN0T3B0aW9ucyh7XG4gKiAgIGF1dGhlbnRpY2F0aW9uOiB1c2VyU2Vzc2lvbiAvLyBhbGwgcmVxdWVzdHMgd2lsbCB1c2UgdGhpcyBzZXNzaW9uIGJ5IGRlZmF1bHRcbiAqIH0pXG4gKiBgYGBcbiAqIFlvdSBzaG91bGQgKipuZXZlcioqIHNldCBhIGRlZmF1bHQgYGF1dGhlbnRpY2F0aW9uYCB3aGVuIHlvdSBhcmUgaW4gYSBzZXJ2ZXIgc2lkZSBlbnZpcm9ubWVudCB3aGVyZSB5b3UgbWF5IGJlIGhhbmRsaW5nIHJlcXVlc3RzIGZvciBtYW55IGRpZmZlcmVudCBhdXRoZW50aWNhdGVkIHVzZXJzLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBkZWZhdWx0IG9wdGlvbnMgdG8gcGFzcyB3aXRoIGV2ZXJ5IHJlcXVlc3QuIEV4aXN0aW5nIGRlZmF1bHQgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAqIEBwYXJhbSBoaWRlV2FybmluZ3MgU2lsZW5jZSB3YXJuaW5ncyBhYm91dCBzZXR0aW5nIGRlZmF1bHQgYGF1dGhlbnRpY2F0aW9uYCBpbiBzaGFyZWQgZW52aXJvbm1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdFJlcXVlc3RPcHRpb25zKG9wdGlvbnMsIGhpZGVXYXJuaW5ncykge1xuICAgIGlmIChvcHRpb25zLmF1dGhlbnRpY2F0aW9uICYmICFoaWRlV2FybmluZ3MpIHtcbiAgICAgICAgd2FybihcIllvdSBzaG91bGQgbm90IHNldCBgYXV0aGVudGljYXRpb25gIGFzIGEgZGVmYXVsdCBpbiBhIHNoYXJlZCBlbnZpcm9ubWVudCBzdWNoIGFzIGEgd2ViIHNlcnZlciB3aGljaCB3aWxsIHByb2Nlc3MgbXVsdGlwbGUgdXNlcnMgcmVxdWVzdHMuIFlvdSBjYW4gY2FsbCBgc2V0RGVmYXVsdFJlcXVlc3RPcHRpb25zYCB3aXRoIGB0cnVlYCBhcyBhIHNlY29uZCBhcmd1bWVudCB0byBkaXNhYmxlIHRoaXMgd2FybmluZy5cIik7XG4gICAgfVxuICAgIERFRkFVTFRfQVJDR0lTX1JFUVVFU1RfT1BUSU9OUyA9IG9wdGlvbnM7XG59XG52YXIgQXJjR0lTQXV0aEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcmNHSVNBdXRoRXJyb3IsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGBBcmNHSVNBdXRoRXJyb3JgICBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlIGZyb20gdGhlIEFQSVxuICAgICAqIEBwYXJhbSBjb2RlIC0gVGhlIGVycm9yIGNvZGUgZnJvbSB0aGUgQVBJXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIG9yaWdpbmFsIHJlc3BvbnNlIGZyb20gdGhlIEFQSSB0aGF0IGNhdXNlZCB0aGUgZXJyb3JcbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIG9yaWdpbmFsIHVybCBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9yaWdpbmFsIG9wdGlvbnMgb2YgdGhlIHJlcXVlc3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmNHSVNBdXRoRXJyb3IobWVzc2FnZSwgY29kZSwgcmVzcG9uc2UsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBcIkFVVEhFTlRJQ0FUSU9OX0VSUk9SXCI7IH1cbiAgICAgICAgaWYgKGNvZGUgPT09IHZvaWQgMCkgeyBjb2RlID0gXCJBVVRIRU5USUNBVElPTl9FUlJPUl9DT0RFXCI7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSwgY29kZSwgcmVzcG9uc2UsIHVybCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiQXJjR0lTQXV0aEVycm9yXCI7XG4gICAgICAgIF90aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgY29kZSA9PT0gXCJBVVRIRU5USUNBVElPTl9FUlJPUl9DT0RFXCIgPyBtZXNzYWdlIDogY29kZSArIFwiOiBcIiArIG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXJjR0lTQXV0aEVycm9yLnByb3RvdHlwZS5yZXRyeSA9IGZ1bmN0aW9uIChnZXRTZXNzaW9uLCByZXRyeUxpbWl0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChyZXRyeUxpbWl0ID09PSB2b2lkIDApIHsgcmV0cnlMaW1pdCA9IDM7IH1cbiAgICAgICAgdmFyIHRyaWVzID0gMDtcbiAgICAgICAgdmFyIHJldHJ5UmVxdWVzdCA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGdldFNlc3Npb24oX3RoaXMudXJsLCBfdGhpcy5vcHRpb25zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld09wdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgX3RoaXMub3B0aW9ucyksIHsgYXV0aGVudGljYXRpb246IHNlc3Npb24gfSk7XG4gICAgICAgICAgICAgICAgdHJpZXMgPSB0cmllcyArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoX3RoaXMudXJsLCBuZXdPcHRpb25zKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09IFwiQXJjR0lTQXV0aEVycm9yXCIgJiYgdHJpZXMgPCByZXRyeUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5UmVxdWVzdChyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlLm5hbWUgPT09IFwiQXJjR0lTQXV0aEVycm9yXCIgJiYgdHJpZXMgPj0gcmV0cnlMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgcmV0cnlSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFyY0dJU0F1dGhFcnJvcjtcbn0oQXJjR0lTUmVxdWVzdEVycm9yKSk7XG5leHBvcnQgeyBBcmNHSVNBdXRoRXJyb3IgfTtcbi8qKlxuICogQ2hlY2tzIGZvciBlcnJvcnMgaW4gYSBKU09OIHJlc3BvbnNlIGZyb20gdGhlIEFyY0dJUyBSRVNUIEFQSS4gSWYgdGhlcmUgYXJlIG5vIGVycm9ycywgaXQgd2lsbCByZXR1cm4gdGhlIGBkYXRhYCBwYXNzZWQgaW4uIElmIHRoZXJlIGlzIGFuIGVycm9yLCBpdCB3aWxsIHRocm93IGFuIGBBcmNHSVNSZXF1ZXN0RXJyb3JgIG9yIGBBcmNHSVNBdXRoRXJyb3JgLlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSByZXNwb25zZSBKU09OIHRvIGNoZWNrIGZvciBlcnJvcnMuXG4gKiBAcGFyYW0gdXJsIFRoZSB1cmwgb2YgdGhlIG9yaWdpbmFsIHJlcXVlc3RcbiAqIEBwYXJhbSBwYXJhbXMgVGhlIHBhcmFtZXRlcnMgb2YgdGhlIG9yaWdpbmFsIHJlcXVlc3RcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBvcHRpb25zIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0XG4gKiBAcmV0dXJucyBUaGUgZGF0YSB0aGF0IHdhcyBwYXNzZWQgaW4gdGhlIGBkYXRhYCBwYXJhbWV0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9yRXJyb3JzKHJlc3BvbnNlLCB1cmwsIHBhcmFtcywgb3B0aW9ucywgb3JpZ2luYWxBdXRoRXJyb3IpIHtcbiAgICAvLyB0aGlzIGlzIGFuIGVycm9yIG1lc3NhZ2UgZnJvbSBiaWxsaW5nLmFyY2dpcy5jb20gYmFja2VuZFxuICAgIGlmIChyZXNwb25zZS5jb2RlID49IDQwMCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHJlc3BvbnNlLm1lc3NhZ2UsIGNvZGUgPSByZXNwb25zZS5jb2RlO1xuICAgICAgICB0aHJvdyBuZXcgQXJjR0lTUmVxdWVzdEVycm9yKG1lc3NhZ2UsIGNvZGUsIHJlc3BvbnNlLCB1cmwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBlcnJvciBmcm9tIEFyY0dJUyBPbmxpbmUgb3IgYW4gQXJjR0lTIFBvcnRhbCBvciBzZXJ2ZXIgaW5zdGFuY2UuXG4gICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgIHZhciBfYSA9IHJlc3BvbnNlLmVycm9yLCBtZXNzYWdlID0gX2EubWVzc2FnZSwgY29kZSA9IF9hLmNvZGUsIG1lc3NhZ2VDb2RlID0gX2EubWVzc2FnZUNvZGU7XG4gICAgICAgIHZhciBlcnJvckNvZGUgPSBtZXNzYWdlQ29kZSB8fCBjb2RlIHx8IFwiVU5LTk9XTl9FUlJPUl9DT0RFXCI7XG4gICAgICAgIGlmIChjb2RlID09PSA0OTggfHxcbiAgICAgICAgICAgIGNvZGUgPT09IDQ5OSB8fFxuICAgICAgICAgICAgbWVzc2FnZUNvZGUgPT09IFwiR1dNXzAwMDNcIiB8fFxuICAgICAgICAgICAgKGNvZGUgPT09IDQwMCAmJiBtZXNzYWdlID09PSBcIlVuYWJsZSB0byBnZW5lcmF0ZSB0b2tlbi5cIikpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEF1dGhFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG9yaWdpbmFsQXV0aEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyY0dJU0F1dGhFcnJvcihtZXNzYWdlLCBlcnJvckNvZGUsIHJlc3BvbnNlLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBBcmNHSVNSZXF1ZXN0RXJyb3IobWVzc2FnZSwgZXJyb3JDb2RlLCByZXNwb25zZSwgdXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gZXJyb3IgZnJvbSBhIHN0YXR1cyBjaGVja1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZmFpbGVkXCIgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSBcImZhaWx1cmVcIikge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGNvZGUgPSBcIlVOS05PV05fRVJST1JfQ09ERVwiO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UocmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSkubWVzc2FnZTtcbiAgICAgICAgICAgIGNvZGUgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UpLmNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZS5zdGF0dXNNZXNzYWdlIHx8IHJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFyY0dJU1JlcXVlc3RFcnJvcihtZXNzYWdlLCBjb2RlLCByZXNwb25zZSwgdXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLyoqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXJlcXVlc3QnO1xuICogLy9cbiAqIHJlcXVlc3QoJ2h0dHBzOi8vd3d3LmFyY2dpcy5jb20vc2hhcmluZy9yZXN0JylcbiAqICAgLnRoZW4ocmVzcG9uc2UpIC8vIHJlc3BvbnNlLmN1cnJlbnRWZXJzaW9uID09PSA1LjJcbiAqIC8vXG4gKiByZXF1ZXN0KCdodHRwczovL3d3dy5hcmNnaXMuY29tL3NoYXJpbmcvcmVzdCcsIHtcbiAqICAgaHR0cE1ldGhvZDogXCJHRVRcIlxuICogfSlcbiAqIC8vXG4gKiByZXF1ZXN0KCdodHRwczovL3d3dy5hcmNnaXMuY29tL3NoYXJpbmcvcmVzdC9zZWFyY2gnLCB7XG4gKiAgIHBhcmFtczogeyBxOiAncGFya3MnIH1cbiAqIH0pXG4gKiAgIC50aGVuKHJlc3BvbnNlKSAvLyByZXNwb25zZS50b3RhbCA9PiA3ODM3OVxuICogYGBgXG4gKiBHZW5lcmljIG1ldGhvZCBmb3IgbWFraW5nIEhUVFAgcmVxdWVzdHMgdG8gQXJjR0lTIFJFU1QgQVBJIGVuZHBvaW50cy5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCBvZiB0aGUgQXJjR0lTIFJFU1QgQVBJIGVuZHBvaW50LlxuICogQHBhcmFtIHJlcXVlc3RPcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHJlcXVlc3QsIGluY2x1ZGluZyBwYXJhbWV0ZXJzIHJlbGV2YW50IHRvIHRoZSBlbmRwb2ludC5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aXRoIHRoZSBkYXRhIGZyb20gdGhlIHJlc3BvbnNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdCh1cmwsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgaWYgKHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDApIHsgcmVxdWVzdE9wdGlvbnMgPSB7IHBhcmFtczogeyBmOiBcImpzb25cIiB9IH07IH1cbiAgICB2YXIgb3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHsgaHR0cE1ldGhvZDogXCJQT1NUXCIgfSwgREVGQVVMVF9BUkNHSVNfUkVRVUVTVF9PUFRJT05TKSwgcmVxdWVzdE9wdGlvbnMpLCB7XG4gICAgICAgIHBhcmFtczogX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfQVJDR0lTX1JFUVVFU1RfT1BUSU9OUy5wYXJhbXMpLCByZXF1ZXN0T3B0aW9ucy5wYXJhbXMpLFxuICAgICAgICBoZWFkZXJzOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9BUkNHSVNfUkVRVUVTVF9PUFRJT05TLmhlYWRlcnMpLCByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzKSxcbiAgICB9KTtcbiAgICB2YXIgbWlzc2luZ0dsb2JhbHMgPSBbXTtcbiAgICB2YXIgcmVjb21tZW5kZWRQYWNrYWdlcyA9IFtdO1xuICAgIC8vIGRvbid0IGNoZWNrIGZvciBhIGdsb2JhbCBmZXRjaCBpZiBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiB3YXMgcGFzc2VkIHRocm91Z2hcbiAgICBpZiAoIW9wdGlvbnMuZmV0Y2ggJiYgdHlwZW9mIGZldGNoICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIG9wdGlvbnMuZmV0Y2ggPSBmZXRjaC5iaW5kKEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtaXNzaW5nR2xvYmFscy5wdXNoKFwiYGZldGNoYFwiKTtcbiAgICAgICAgcmVjb21tZW5kZWRQYWNrYWdlcy5wdXNoKFwiYG5vZGUtZmV0Y2hgXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIFByb21pc2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbWlzc2luZ0dsb2JhbHMucHVzaChcImBQcm9taXNlYFwiKTtcbiAgICAgICAgcmVjb21tZW5kZWRQYWNrYWdlcy5wdXNoKFwiYGVzNi1wcm9taXNlYFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBGb3JtRGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBtaXNzaW5nR2xvYmFscy5wdXNoKFwiYEZvcm1EYXRhYFwiKTtcbiAgICAgICAgcmVjb21tZW5kZWRQYWNrYWdlcy5wdXNoKFwiYGlzb21vcnBoaWMtZm9ybS1kYXRhYFwiKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZldGNoIHx8XG4gICAgICAgIHR5cGVvZiBQcm9taXNlID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgIHR5cGVvZiBGb3JtRGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJgYXJjZ2lzLXJlc3QtcmVxdWVzdGAgcmVxdWlyZXMgYSBgZmV0Y2hgIGltcGxlbWVudGF0aW9uIGFuZCBnbG9iYWwgdmFyaWFibGVzIGZvciBgUHJvbWlzZWAgYW5kIGBGb3JtRGF0YWAgdG8gYmUgcHJlc2VudCBpbiB0aGUgZ2xvYmFsIHNjb3BlLiBZb3UgYXJlIG1pc3NpbmcgXCIgKyBtaXNzaW5nR2xvYmFscy5qb2luKFwiLCBcIikgKyBcIi4gV2UgcmVjb21tZW5kIGluc3RhbGxpbmcgdGhlIFwiICsgcmVjb21tZW5kZWRQYWNrYWdlcy5qb2luKFwiLCBcIikgKyBcIiBtb2R1bGVzIGF0IHRoZSByb290IG9mIHlvdXIgYXBwbGljYXRpb24gdG8gYWRkIHRoZXNlIHRvIHRoZSBnbG9iYWwgc2NvcGUuIFNlZSBodHRwczovL2JpdC5seS8yS053V2FKIGZvciBtb3JlIGluZm8uXCIpO1xuICAgIH1cbiAgICB2YXIgaHR0cE1ldGhvZCA9IG9wdGlvbnMuaHR0cE1ldGhvZCwgYXV0aGVudGljYXRpb24gPSBvcHRpb25zLmF1dGhlbnRpY2F0aW9uLCByYXdSZXNwb25zZSA9IG9wdGlvbnMucmF3UmVzcG9uc2U7XG4gICAgdmFyIHBhcmFtcyA9IF9fYXNzaWduKHsgZjogXCJqc29uXCIgfSwgb3B0aW9ucy5wYXJhbXMpO1xuICAgIHZhciBvcmlnaW5hbEF1dGhFcnJvciA9IG51bGw7XG4gICAgdmFyIGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiBodHRwTWV0aG9kLFxuICAgICAgICAvKiBlbnN1cmVzIGJlaGF2aW9yIG1pbWljcyBYTUxIdHRwUmVxdWVzdC5cbiAgICAgICAgbmVlZGVkIHRvIHN1cHBvcnQgc2VuZGluZyBJV0EgY29va2llcyAqL1xuICAgICAgICBjcmVkZW50aWFsczogb3B0aW9ucy5jcmVkZW50aWFscyB8fCBcInNhbWUtb3JpZ2luXCIsXG4gICAgfTtcbiAgICAvLyB0aGUgL29hdXRoMi9wbGF0Zm9ybVNlbGYgcm91dGUgd2lsbCBhZGQgWC1Fc3JpLUF1dGgtQ2xpZW50LUlkIGhlYWRlclxuICAgIC8vIGFuZCB0aGF0IHJlcXVlc3QgbmVlZHMgdG8gc2VuZCBjb29raWVzIGNyb3NzIGRvbWFpblxuICAgIC8vIHNvIHdlIG5lZWQgdG8gc2V0IHRoZSBjcmVkZW50aWFscyB0byBcImluY2x1ZGVcIlxuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgJiZcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzW1wiWC1Fc3JpLUF1dGgtQ2xpZW50LUlkXCJdICYmXG4gICAgICAgIHVybC5pbmRleE9mKFwiL29hdXRoMi9wbGF0Zm9ybVNlbGZcIikgPiAtMSkge1xuICAgICAgICBmZXRjaE9wdGlvbnMuY3JlZGVudGlhbHMgPSBcImluY2x1ZGVcIjtcbiAgICB9XG4gICAgcmV0dXJuIChhdXRoZW50aWNhdGlvblxuICAgICAgICA/IGF1dGhlbnRpY2F0aW9uLmdldFRva2VuKHVybCwgeyBmZXRjaDogb3B0aW9ucy5mZXRjaCB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGFwcGVuZCBvcmlnaW5hbCByZXF1ZXN0IHVybCBhbmQgcmVxdWVzdE9wdGlvbnNcbiAgICAgICAgICAgICAqIHRvIHRoZSBlcnJvciB0aHJvd24gYnkgZ2V0VG9rZW4oKVxuICAgICAgICAgICAgICogdG8gYXNzaXN0IHdpdGggcmV0cnlpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXJyLnVybCA9IHVybDtcbiAgICAgICAgICAgIGVyci5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogaWYgYW4gYXR0ZW1wdCBpcyBtYWRlIHRvIHRhbGsgdG8gYW4gdW5mZWRlcmF0ZWQgc2VydmVyXG4gICAgICAgICAgICAgKiBmaXJzdCB0cnkgdGhlIHJlcXVlc3QgYW5vbnltb3VzbHkuIGlmIGEgJ3Rva2VuIHJlcXVpcmVkJ1xuICAgICAgICAgICAgICogZXJyb3IgaXMgdGhyb3duLCB0aHJvdyB0aGUgVU5GRURFUkFURUQgZXJyb3IgdGhlbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb3JpZ2luYWxBdXRoRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiXCIpO1xuICAgICAgICB9KVxuICAgICAgICA6IFByb21pc2UucmVzb2x2ZShcIlwiKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhcmFtcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbiAmJiBhdXRoZW50aWNhdGlvbi5nZXREb21haW5DcmVkZW50aWFscykge1xuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLmNyZWRlbnRpYWxzID0gYXV0aGVudGljYXRpb24uZ2V0RG9tYWluQ3JlZGVudGlhbHModXJsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDdXN0b20gaGVhZGVycyB0byBhZGQgdG8gcmVxdWVzdC4gSVJlcXVlc3RPcHRpb25zLmhlYWRlcnMgd2l0aCBtZXJnZSBvdmVyIHJlcXVlc3RIZWFkZXJzLlxuICAgICAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnRzIHRva2VuIGZyb20gYmVpbmcgcGFzc2VkIGluIHF1ZXJ5IHBhcmFtcyB3aGVuIGhpZGVUb2tlbiBvcHRpb24gaXMgdXNlZC5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAtIHdpbmRvdyBpcyBhbHdheXMgZGVmaW5lZCBpbiBhIGJyb3dzZXIuIFRlc3QgY2FzZSBpcyBjb3ZlcmVkIGJ5IEphc21pbmUgaW4gbm9kZSB0ZXN0ICovXG4gICAgICAgICAgICBpZiAocGFyYW1zLnRva2VuICYmXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oaWRlVG9rZW4gJiZcbiAgICAgICAgICAgICAgICAvLyBTaGFyaW5nIEFQSSBkb2VzIG5vdCBzdXBwb3J0IHByZWZsaWdodCBjaGVjayByZXF1aXJlZCBieSBtb2Rlcm4gYnJvd3NlcnMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9HbG9zc2FyeS9QcmVmbGlnaHRfcmVxdWVzdFxuICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc1tcIlgtRXNyaS1BdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBwYXJhbXMudG9rZW47XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVuY29kZSB0aGUgcGFyYW1ldGVycyBpbnRvIHRoZSBxdWVyeSBzdHJpbmdcbiAgICAgICAgICAgIHZhciBxdWVyeVBhcmFtcyA9IGVuY29kZVF1ZXJ5U3RyaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAvLyBkb250IGFwcGVuZCBhICc/JyB1bmxlc3MgcGFyYW1ldGVycyBhcmUgYWN0dWFsbHkgcHJlc2VudFxuICAgICAgICAgICAgdmFyIHVybFdpdGhRdWVyeVN0cmluZyA9IHF1ZXJ5UGFyYW1zID09PSBcIlwiID8gdXJsIDogdXJsICsgXCI/XCIgKyBlbmNvZGVRdWVyeVN0cmluZyhwYXJhbXMpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gVGhpcyB3b3VsZCBleGNlZWQgdGhlIG1heGltdW0gbGVuZ3RoIGZvciBVUkxzIHNwZWNpZmllZCBieSB0aGUgY29uc3VtZXIgYW5kIHJlcXVpcmVzIFBPU1RcbiAgICAgICAgICAgIChvcHRpb25zLm1heFVybExlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHVybFdpdGhRdWVyeVN0cmluZy5sZW5ndGggPiBvcHRpb25zLm1heFVybExlbmd0aCkgfHxcbiAgICAgICAgICAgICAgICAvLyBPciBpZiB0aGUgY3VzdG9tZXIgcmVxdWlyZXMgdGhlIHRva2VuIHRvIGJlIGhpZGRlbiBhbmQgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gaGlkZGVuIGluIHRoZSBoZWFkZXIgKGZvciBicm93c2VycylcbiAgICAgICAgICAgICAgICAocGFyYW1zLnRva2VuICYmIG9wdGlvbnMuaGlkZVRva2VuKSkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBjb25zdW1lciBzcGVjaWZpZWQgYSBtYXhpbXVtIGxlbmd0aCBmb3IgVVJMc1xuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGlzIHdvdWxkIGV4Y2VlZCBpdCwgc28gdXNlIHBvc3QgaW5zdGVhZFxuICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucy5tZXRob2QgPSBcIlBPU1RcIjtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdG9rZW4gd2FzIGFscmVhZHkgYWRkZWQgYXMgYSBBdXRoIGhlYWRlciwgYWRkIHRoZSB0b2tlbiBiYWNrIHRvIGJvZHkgd2l0aCBvdGhlciBwYXJhbXMgaW5zdGVhZCBvZiBoZWFkZXJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4ubGVuZ3RoICYmIG9wdGlvbnMuaGlkZVRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy50b2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgaGVhZGVyIHRoYXQgd2FzIGFkZGVkIGJlZm9yZSB1cmwgcXVlcnkgbGVuZ3RoIHdhcyBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1tcIlgtRXNyaS1BdXRob3JpemF0aW9uXCJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGp1c3QgdXNlIEdFVFxuICAgICAgICAgICAgICAgIHVybCA9IHVybFdpdGhRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiB1cGRhdGVSZXNvdXJjZXMgY3VycmVudGx5IHJlcXVpcmVzIEZvcm1EYXRhIGV2ZW4gd2hlbiB0aGUgaW5wdXQgcGFyYW1ldGVycyBkb250IHdhcnJhbnQgaXQuXG4gICAgaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vcmVzdC91c2Vycy1ncm91cHMtYW5kLWl0ZW1zL3VwZGF0ZS1yZXNvdXJjZXMuaHRtXG4gICAgICAgIHNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9hcmNnaXMtcmVzdC1qcy9wdWxsLzUwMCBmb3IgbW9yZSBpbmZvLiAqL1xuICAgICAgICB2YXIgZm9yY2VGb3JtRGF0YSA9IG5ldyBSZWdFeHAoXCIvaXRlbXMvLisvdXBkYXRlUmVzb3VyY2VzXCIpLnRlc3QodXJsKTtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IGVuY29kZUZvcm1EYXRhKHBhcmFtcywgZm9yY2VGb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWl4aW4gaGVhZGVycyBmcm9tIHJlcXVlc3Qgb3B0aW9uc1xuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXF1ZXN0SGVhZGVycyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0ga2FybWEgcmVwb3J0cyBjb3ZlcmFnZSBvbiBicm93c2VyIHRlc3RzIG9ubHkgKi9cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgJiYgIWZldGNoT3B0aW9ucy5oZWFkZXJzLnJlZmVyZXIpIHtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLnJlZmVyZXIgPSBOT0RFSlNfREVGQVVMVF9SRUZFUkVSX0hFQURFUjtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSBibG9iIHJlc3BvbnNlcyBhcmUgZGlmZmljdWx0IHRvIG1ha2UgY3Jvc3MgcGxhdGZvcm0gd2Ugd2lsbCBqdXN0IGhhdmUgdG8gdHJ1c3QgdGhlIGlzb21vcnBoaWMgZmV0Y2ggd2lsbCBkbyBpdHMgam9iICovXG4gICAgICAgIGlmICghcmVxdWlyZXNGb3JtRGF0YShwYXJhbXMpICYmICFmb3JjZUZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9XG4gICAgICAgICAgICAgICAgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5mZXRjaCh1cmwsIGZldGNoT3B0aW9ucyk7XG4gICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIC8vIHNlcnZlciByZXNwb25kZWQgdy8gYW4gYWN0dWFsIGVycm9yICg0MDQsIDUwMCwgZXRjKVxuICAgICAgICAgICAgdmFyIHN0YXR1c18xID0gcmVzcG9uc2Uuc3RhdHVzLCBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmNHSVNSZXF1ZXN0RXJyb3Ioc3RhdHVzVGV4dCwgXCJIVFRQIFwiICsgc3RhdHVzXzEsIHJlc3BvbnNlLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAocGFyYW1zLmYpIHtcbiAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IGJsb2IgcmVzcG9uc2VzIGFyZSBkaWZmaWN1bHQgdG8gbWFrZSBjcm9zcyBwbGF0Zm9ybSB3ZSB3aWxsIGp1c3QgaGF2ZSB0byB0cnVzdCB0aGF0IGlzb21vcnBoaWMgZmV0Y2ggd2lsbCBkbyBpdHMgam9iICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoKHBhcmFtcy5mID09PSBcImpzb25cIiB8fCBwYXJhbXMuZiA9PT0gXCJnZW9qc29uXCIpICYmICFyYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gY2hlY2tGb3JFcnJvcnMoZGF0YSwgdXJsLCBwYXJhbXMsIG9wdGlvbnMsIG9yaWdpbmFsQXV0aEVycm9yKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEF1dGhFcnJvcikge1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZSByZXF1ZXN0IHdhcyBtYWRlIHRvIGFuIHVuZmVkZXJhdGVkIHNlcnZpY2UgdGhhdFxuICAgICAgICAgICAgICAgIGRpZG4ndCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uLCBhZGQgdGhlIGJhc2UgdXJsIGFuZCBhIGR1bW15IHRva2VuXG4gICAgICAgICAgICAgICAgdG8gdGhlIGxpc3Qgb2YgdHJ1c3RlZCBzZXJ2ZXJzIHRvIGF2b2lkIGFub3RoZXIgZmVkZXJhdGlvbiBjaGVja1xuICAgICAgICAgICAgICAgIGluIHRoZSBldmVudCBvZiBhIHJlcGVhdCByZXF1ZXN0ICovXG4gICAgICAgICAgICAgICAgdmFyIHRydW5jYXRlZFVybCA9IHVybFxuICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoL1xcL3Jlc3QoXFwvYWRtaW4pP1xcL3NlcnZpY2VzXFwvLylbMF07XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdXRoZW50aWNhdGlvbi5mZWRlcmF0ZWRTZXJ2ZXJzW3RydW5jYXRlZFVybF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byAyNCBob3Vyc1xuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgODY0MDAgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsQXV0aEVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LmpzLm1hcCIsIi8qIENvcHlyaWdodCAoYykgMjAxNyBFbnZpcm9ubWVudGFsIFN5c3RlbXMgUmVzZWFyY2ggSW5zdGl0dXRlLCBJbmMuXG4gKiBBcGFjaGUtMi4wICovXG4vLyBUeXBlU2NyaXB0IDIuMSBubyBsb25nZXIgYWxsb3dzIHlvdSB0byBleHRlbmQgYnVpbHQgaW4gdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEyNzkwI2lzc3VlY29tbWVudC0yNjU5ODE0NDJcbi8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuLy9cbi8vIFRoaXMgY29kZSBpcyBmcm9tIE1ETiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNDdXN0b21fRXJyb3JfVHlwZXMuXG52YXIgQXJjR0lTUmVxdWVzdEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBgQXJjR0lTUmVxdWVzdEVycm9yYCAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgZXJyb3IgbWVzc2FnZSBmcm9tIHRoZSBBUElcbiAgICAgKiBAcGFyYW0gY29kZSAtIFRoZSBlcnJvciBjb2RlIGZyb20gdGhlIEFQSVxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSBvcmlnaW5hbCByZXNwb25zZSBmcm9tIHRoZSBBUEkgdGhhdCBjYXVzZWQgdGhlIGVycm9yXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSBvcmlnaW5hbCB1cmwgb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcmlnaW5hbCBvcHRpb25zIGFuZCBwYXJhbWV0ZXJzIG9mIHRoZSByZXF1ZXN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJjR0lTUmVxdWVzdEVycm9yKG1lc3NhZ2UsIGNvZGUsIHJlc3BvbnNlLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgfHwgXCJVTktOT1dOX0VSUk9SXCI7XG4gICAgICAgIGNvZGUgPSBjb2RlIHx8IFwiVU5LTk9XTl9FUlJPUl9DT0RFXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQXJjR0lTUmVxdWVzdEVycm9yXCI7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICBjb2RlID09PSBcIlVOS05PV05fRVJST1JfQ09ERVwiID8gbWVzc2FnZSA6IGNvZGUgKyBcIjogXCIgKyBtZXNzYWdlO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBBcmNHSVNSZXF1ZXN0RXJyb3I7XG59KCkpO1xuZXhwb3J0IHsgQXJjR0lTUmVxdWVzdEVycm9yIH07XG5BcmNHSVNSZXF1ZXN0RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuQXJjR0lTUmVxdWVzdEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFyY0dJU1JlcXVlc3RFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyY0dJU1JlcXVlc3RFcnJvci5qcy5tYXAiLCIvKiBDb3B5cmlnaHQgKGMpIDIwMTcgRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuICogQXBhY2hlLTIuMCAqL1xuaW1wb3J0IHsgcHJvY2Vzc1BhcmFtcywgcmVxdWlyZXNGb3JtRGF0YSB9IGZyb20gXCIuL3Byb2Nlc3MtcGFyYW1zXCI7XG5pbXBvcnQgeyBlbmNvZGVRdWVyeVN0cmluZyB9IGZyb20gXCIuL2VuY29kZS1xdWVyeS1zdHJpbmdcIjtcbi8qKlxuICogRW5jb2RlcyBwYXJhbWV0ZXJzIGluIGEgW0Zvcm1EYXRhXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRm9ybURhdGEpIG9iamVjdCBpbiBicm93c2VycyBvciBpbiBhIFtGb3JtRGF0YV0oaHR0cHM6Ly9naXRodWIuY29tL2Zvcm0tZGF0YS9mb3JtLWRhdGEpIGluIE5vZGUuanNcbiAqXG4gKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCB0byBiZSBlbmNvZGVkLlxuICogQHJldHVybnMgVGhlIGNvbXBsZXRlIFtGb3JtRGF0YV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Zvcm1EYXRhKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVGb3JtRGF0YShwYXJhbXMsIGZvcmNlRm9ybURhdGEpIHtcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvYXJjZ2lzLXJlc3QtanMvaXNzdWVzLzQ5OSBmb3IgbW9yZSBpbmZvLlxuICAgIHZhciB1c2VGb3JtRGF0YSA9IHJlcXVpcmVzRm9ybURhdGEocGFyYW1zKSB8fCBmb3JjZUZvcm1EYXRhO1xuICAgIHZhciBuZXdQYXJhbXMgPSBwcm9jZXNzUGFyYW1zKHBhcmFtcyk7XG4gICAgaWYgKHVzZUZvcm1EYXRhKSB7XG4gICAgICAgIHZhciBmb3JtRGF0YV8xID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKG5ld1BhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmV3UGFyYW1zW2tleV0gaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLyogVG8gbmFtZSB0aGUgQmxvYjpcbiAgICAgICAgICAgICAgICAgMS4gbG9vayB0byBhbiBhbHRlcm5hdGUgcmVxdWVzdCBwYXJhbWV0ZXIgY2FsbGVkICdmaWxlTmFtZSdcbiAgICAgICAgICAgICAgICAgMi4gc2VlIGlmICduYW1lJyBoYXMgYmVlbiB0YWNrZWQgb250byB0aGUgQmxvYiBtYW51YWxseVxuICAgICAgICAgICAgICAgICAzLiBpZiBhbGwgZWxzZSBmYWlscywgdXNlIHRoZSByZXF1ZXN0IHBhcmFtZXRlclxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gbmV3UGFyYW1zW1wiZmlsZU5hbWVcIl0gfHwgbmV3UGFyYW1zW2tleV0ubmFtZSB8fCBrZXk7XG4gICAgICAgICAgICAgICAgZm9ybURhdGFfMS5hcHBlbmQoa2V5LCBuZXdQYXJhbXNba2V5XSwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIGVsc2UgaWYgKG5ld1BhcmFtc1trZXldLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICAgICAgbmV3UGFyYW1zW2tleV0uY29uc3RydWN0b3IubmFtZSA9PT0gJ1JlYWRTdHJlYW0nICYmXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogb25seSBzcGVjaWZ5IHRoZSBrbm93bkxlbmd0aCBvcHRpb24gaWYgYSB2YWxpZCB2YWx1ZSBpcyBnaXZlbi5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjYW4gdmVyaWZ5IGluIGFsbCBSRVNUIEFQSSB0aGF0IHRoZSBvcHRpb24gaXMgbmVlZCBmb3JcbiAgICAgICAgICAgICAgICAvLyBub2RlIFJlYWRTdHJlYW0sIGl0IGNhbiB0aHJvdyBhbiBlcnJvciBmb3IgdGhlIG1pc3NpbmcgZGF0YVNpemUgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHN1Y2ggY2hhbmdlIHdpbGwgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihuZXdQYXJhbXNbXCJkYXRhU2l6ZVwiXSkpIHtcbiAgICAgICAgICAgICAgICAvLyBoYXZlIHRvIGNhc3QgdGhlIGZvcm1EYXRhIHRvIGFueSBzbyB0aGF0IEkgY2FuIHVzZSB0aGUgdW5vZmZpY2lhbCBBUElcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgZm9ybS1kYXRhIGxpYnJhcnkgdG8gaGFuZGxlIE5vZGUgUmVhZFN0cmVhbS4gU2VlXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zvcm0tZGF0YS9mb3JtLWRhdGEvaXNzdWVzLzUwOFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhXzEuYXBwZW5kKGtleSwgbmV3UGFyYW1zW2tleV0sIHtcbiAgICAgICAgICAgICAgICAgICAga25vd25MZW5ndGg6IG5ld1BhcmFtc1tcImRhdGFTaXplXCJdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRGF0YV8xLmFwcGVuZChrZXksIG5ld1BhcmFtc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YV8xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVF1ZXJ5U3RyaW5nKHBhcmFtcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RlLWZvcm0tZGF0YS5qcy5tYXAiLCIvKiBDb3B5cmlnaHQgKGMpIDIwMTcgRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuICogQXBhY2hlLTIuMCAqL1xuaW1wb3J0IHsgcHJvY2Vzc1BhcmFtcyB9IGZyb20gXCIuL3Byb2Nlc3MtcGFyYW1zXCI7XG4vKipcbiAqIEVuY29kZXMga2V5cyBhbmQgcGFyYW1ldGVycyBmb3IgdXNlIGluIGEgVVJMJ3MgcXVlcnkgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBrZXkgUGFyYW1ldGVyJ3Mga2V5XG4gKiBAcGFyYW0gdmFsdWUgUGFyYW1ldGVyJ3MgdmFsdWVcbiAqIEByZXR1cm5zIFF1ZXJ5IHN0cmluZyB3aXRoIGtleSBhbmQgdmFsdWUgcGFpcnMgc2VwYXJhdGVkIGJ5IFwiJlwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVQYXJhbShrZXksIHZhbHVlKSB7XG4gICAgLy8gRm9yIGFycmF5IG9mIGFycmF5cywgcmVwZWF0IGtleT12YWx1ZSBmb3IgZWFjaCBlbGVtZW50IG9mIGNvbnRhaW5pbmcgYXJyYXlcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWVbMF0gJiYgQXJyYXkuaXNBcnJheSh2YWx1ZVswXSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAoYXJyYXlFbGVtKSB7IHJldHVybiBlbmNvZGVQYXJhbShrZXksIGFycmF5RWxlbSk7IH0pLmpvaW4oXCImXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG59XG4vKipcbiAqIEVuY29kZXMgdGhlIHBhc3NlZCBvYmplY3QgYXMgYSBxdWVyeSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHBhcmFtcyBBbiBvYmplY3QgdG8gYmUgZW5jb2RlZC5cbiAqIEByZXR1cm5zIEFuIGVuY29kZWQgcXVlcnkgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUXVlcnlTdHJpbmcocGFyYW1zKSB7XG4gICAgdmFyIG5ld1BhcmFtcyA9IHByb2Nlc3NQYXJhbXMocGFyYW1zKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobmV3UGFyYW1zKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVBhcmFtKGtleSwgbmV3UGFyYW1zW2tleV0pO1xuICAgIH0pXG4gICAgICAgIC5qb2luKFwiJlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuY29kZS1xdWVyeS1zdHJpbmcuanMubWFwIiwiLyogQ29weXJpZ2h0IChjKSAyMDE3IEVudmlyb25tZW50YWwgU3lzdGVtcyBSZXNlYXJjaCBJbnN0aXR1dGUsIEluYy5cbiAqIEFwYWNoZS0yLjAgKi9cbi8qKlxuICogQ2hlY2tzIHBhcmFtZXRlcnMgdG8gc2VlIGlmIHdlIHNob3VsZCB1c2UgRm9ybURhdGEgdG8gc2VuZCB0aGUgcmVxdWVzdFxuICogQHBhcmFtIHBhcmFtcyBUaGUgb2JqZWN0IHdob3NlIGtleXMgd2lsbCBiZSBlbmNvZGVkLlxuICogQHJldHVybiBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBGb3JtRGF0YSB3aWxsIGJlIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZXNGb3JtRGF0YShwYXJhbXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zW2tleV07XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUudG9QYXJhbSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1BhcmFtKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIFwiRGF0ZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSBcIlN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIHBhcmFtZXRlcnMgdG8gdGhlIHByb3BlciByZXByZXNlbnRhdGlvbiB0byBzZW5kIHRvIHRoZSBBcmNHSVMgUkVTVCBBUEkuXG4gKiBAcGFyYW0gcGFyYW1zIFRoZSBvYmplY3Qgd2hvc2Uga2V5cyB3aWxsIGJlIGVuY29kZWQuXG4gKiBAcmV0dXJuIEEgbmV3IG9iamVjdCB3aXRoIHByb3Blcmx5IGVuY29kZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1BhcmFtcyhwYXJhbXMpIHtcbiAgICB2YXIgbmV3UGFyYW1zID0ge307XG4gICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW2tleV07XG4gICAgICAgIGlmIChwYXJhbSAmJiBwYXJhbS50b1BhcmFtKSB7XG4gICAgICAgICAgICBwYXJhbSA9IHBhcmFtLnRvUGFyYW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmFtICYmXG4gICAgICAgICAgICBwYXJhbSAhPT0gMCAmJlxuICAgICAgICAgICAgdHlwZW9mIHBhcmFtICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHBhcmFtICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSBwYXJhbS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIC8vIHByb3Blcmx5IGVuY29kZXMgb2JqZWN0cywgYXJyYXlzIGFuZCBkYXRlcyBmb3IgYXJjZ2lzLmNvbSBhbmQgb3RoZXIgc2VydmljZXMuXG4gICAgICAgIC8vIHBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2VzcmktbGVhZmxldC9ibG9iL21hc3Rlci9zcmMvUmVxdWVzdC5qcyNMMjItTDMwXG4gICAgICAgIC8vIGFsc28gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2FyY2dpcy1yZXN0LWpzL2lzc3Vlcy8xODpcbiAgICAgICAgLy8gbnVsbCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBhcmUgZXhjbHVkZWQuIElmIHlvdSB3YW50IHRvIHNlbmQgYW4gZW1wdHkga2V5IHlvdSBuZWVkIHRvIHNlbmQgYW4gZW1wdHkgc3RyaW5nIFwiXCIuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgICAgICAgICAgLy8gQmFzZWQgb24gdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LCBjbGFzc2lmeSBhcnJheSBhcyBhbiBhcnJheSBvZiBhcnJheXMsIGFuIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgICAgICAgICAvLyB0byBiZSBzdHJpbmdpZmllZCwgb3IgYW4gYXJyYXkgb2Ygbm9uLW9iamVjdHMgdG8gYmUgY29tbWEtc2VwYXJhdGVkXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0RWxlbWVudFR5cGUgPSAoX2IgPSAoX2EgPSBwYXJhbVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnN0cnVjdG9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RWxlbWVudFR5cGUgPT09IFwiQXJyYXlcIiA/IHBhcmFtIDogLy8gcGFzcyB0aHJ1IGFycmF5IG9mIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RFbGVtZW50VHlwZSA9PT0gXCJPYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KHBhcmFtKSA6IC8vIHN0cmluZ2lmeSBhcnJheSBvZiBvYmplY3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uam9pbihcIixcIik7IC8vIGpvaW4gb3RoZXIgdHlwZXMgb2YgYXJyYXkgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJEYXRlXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiRnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0gKyBcIlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1BhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3UGFyYW1zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzcy1wYXJhbXMuanMubWFwIiwiLyogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuICogQXBhY2hlLTIuMCAqL1xuLyoqXG4gKiBNZXRob2QgdXNlZCBpbnRlcm5hbGx5IHRvIHN1cmZhY2UgbWVzc2FnZXMgdG8gZGV2ZWxvcGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSwgW21lc3NhZ2VdKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXJuLmpzLm1hcCIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xNC42MjkgOS4xNDMgMTYgMTAuMjg2IDggMTZsLTgtNS43MTQgMS4zNzEtMS4xNDNMOCAxMy43MTR6TTggMGw4IDUuNzE0LTggNS43MTUtOC01LjcxNXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTYuNjY3IDQuNjY3IDExLjMzMyAwIDE2IDQuNjY3bC00LjY2NyA0LjY2NnpNMCAxLjMzM1Y4aDYuNjY3VjEuMzMzek02LjY2NyAxNkgwVjkuMzMzaDYuNjY3ek04IDE2VjkuMzMzaDYuNjY3VjE2elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNOCAxQzQuMTUgMSAxIDQuMTUgMSA4czMuMTUgNyA3IDcgNy0zLjE1IDctNy0zLjE1LTctNy03bTEuMTY3IDExLjY2N0g2LjgzNHYtMi4zMzRoMi4zMzN6bS0yLjMzMy00LjVWMy4zMzNoMi4zMzN2NC44MzR6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk03LjUgMS41YS41LjUgMCAwIDEgMSAwdjIuOGEuNS41IDAgMCAxLTEgMHptNi4wMjguODc0YS41LjUgMCAwIDEgLjA2Mi43MDVsLTEuNDE0IDEuNjg1YS41LjUgMCAxIDEtLjc2Ni0uNjQzbDEuNDE0LTEuNjg1YS41LjUgMCAwIDEgLjcwNC0uMDYybS0xMC4zNTIuMDYyYS41LjUgMCAxIDAtLjc2Ni42NDNsMS40MTQgMS42ODVhLjUuNSAwIDAgMCAuNzY2LS42NDN6TTYuMjQ0IDEwLjZ6SDUuNDN6TS45NjEgOS44aDQuODhjLjIxMSAwIC4zNTkuMTkuMzU5LjRhMS44IDEuOCAwIDAgMCAzLjU1NS40aC44MTRhMi42IDIuNiAwIDAgMS01LjEzOSAwSC44djMuNmgxNC40di0zLjZIOS43NTVjLjAzLS4xMjkuMDQ1LS4yNjMuMDQ1LS40IDAtLjIxLjE0OC0uNC4zNTgtLjRoNC44ODFsLTIuMjY3LTMuNEgzLjIyOHptMTEuODEtNC4yYS44LjggMCAwIDEgLjY2Ni4zNTZsMi40MjkgMy42NDJhLjguOCAwIDAgMSAuMTM0LjQ0NFYxNC4yYS44LjggMCAwIDEtLjguOEguOGEuOC44IDAgMCAxLS44LS44di00LjE1OGEuOC44IDAgMCAxIC4xMzQtLjQ0NGwyLjQyOS0zLjY0MmEuOC44IDAgMCAxIC42NjUtLjM1NnpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTMuMTU0IDMuMTU0YS41MjcuNTI3IDAgMCAxIC43NDYgMGwxLjMxNyAxLjMxN0E4LjYxOCA4LjYxOCAwIDAgMSA4IDRjMi42NjcgMCA1LjY2NyAxLjMzMyA3IDQtLjY5NiAxLjM5My0xLjg0NyAyLjQyMi0zLjE2OCAzLjA4N2wxLjAxNCAxLjAxM2EuNTI3LjUyNyAwIDEgMS0uNzQ2Ljc0NmwtMS4zMTctMS4zMTdBOC42MTcgOC42MTcgMCAwIDEgOCAxMmMtMi42NjcgMC01LjY2Ny0xLjMzMy03LTQgLjY5Ni0xLjM5MyAxLjg0Ny0yLjQyMiAzLjE2OC0zLjA4N0wzLjE1NCAzLjlhLjUyNy41MjcgMCAwIDEgMC0uNzQ2bTEuNjk4IDIuNDQzQzMuNzI2IDYuMDg3IDIuNzgyIDYuODgyIDIgOGMxLjQyMiAyLjAzMyAzLjM4MiAzIDYgM2E4LjY2IDguNjYgMCAwIDAgMi4wMy0uMjI1bC0uNjc1LS42NzRBMi41IDIuNSAwIDAgMSA1LjkgNi42NDR6bTYuMjk2IDQuODA1QzEyLjI3NSA5LjkxMyAxMy4yMTggOS4xMTkgMTQgOGMtMS40MjItMi4wMzMtMy4zODItMy02LTMtLjcyNiAwLTEuNDAyLjA3NC0yLjAzLjIyNWwuNjc1LjY3NGEyLjUgMi41IDAgMCAxIDMuNDU3IDMuNDU2ek02LjUgOGMwLS4yMjEuMDQ4LS40MzEuMTM0LS42MmwxLjk4NyAxLjk4NkExLjUgMS41IDAgMCAxIDYuNSA4bS44OC0xLjM2NiAxLjk4NiAxLjk4N2ExLjUgMS41IDAgMCAwLTEuOTg3LTEuOTg3XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0yIDdhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0ybTUgMWExIDEgMCAxIDEgMiAwIDEgMSAwIDAgMS0yIDBtNiAwYTEgMSAwIDEgMSAyIDAgMSAxIDAgMCAxLTIgMFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNOS40MzguOTk0Yy4yMTMgMCAuMzk3LjE0Ni40NC4zNS4xNTEuNzIyLjI1NyAxLjM0LjMxNiAxLjg1Mi4zNzQuMTYuNzI1LjM2MiAxLjA0OC41OTlsMS43MjgtLjY3NmEuNDU1LjQ1NSAwIDAgMSAuNTU2LjE4OGwxLjQyIDIuMzk0YS40My40MyAwIDAgMS0uMDkxLjU0NyAyMS45OCAyMS45OCAwIDAgMS0xLjQ5IDEuMTk0IDUuMTcgNS4xNyAwIDAgMS0uMDA3IDEuMTgzbDEuNDY0IDEuMTE5YS40My40MyAwIDAgMSAuMTExLjU2M2wtMS40MiAyLjM5NGEuNDU0LjQ1NCAwIDAgMS0uNTMuMTk3IDIyLjQ0NSAyMi40NDUgMCAwIDEtMS44MDctLjY2Yy0uMzI1LjIzMy0uNjc5LjQzLTEuMDU1LjU4NmwtLjI2MyAxLjc5NGEuNDQ2LjQ0NiAwIDAgMS0uNDQ1LjM3Nkg2LjU3NGEuNDQ2LjQ0NiAwIDAgMS0uNDQtLjM1IDIxLjAxOSAyMS4wMTkgMCAwIDEtLjMxNy0xLjg1MyA1LjM0IDUuMzQgMCAwIDEtMS4wNDctLjU5OGwtMS43MjguNjc1YS40NTUuNDU1IDAgMCAxLS41NTYtLjE4N2wtMS40Mi0yLjM5NWEuNDMuNDMgMCAwIDEgLjA5MS0uNTQ2Yy41NjctLjQ5IDEuMDYzLS44ODggMS40OS0xLjE5NGE1LjE2NyA1LjE2NyAwIDAgMSAuMDA4LTEuMTgzTDEuMTkgNi4yNDNhLjQzLjQzIDAgMCAxLS4xMTItLjU2MmwxLjQyLTIuMzk1YS40NTUuNDU1IDAgMCAxIC41MzEtLjE5NmMuNzE5LjIzMyAxLjMyMS40NTMgMS44MDcuNjYuMzI0LS4yMzMuNjc5LS40MyAxLjA1Ni0uNTg3bC4yNjItMS43OTRBLjQ0Ni40NDYgMCAwIDEgNi42Ljk5NHptLS4zNjUgMUg2Ljk4NWwtLjI4IDEuODY2LS40NjcuMTljLS4yMzUuMDk1LS40Ni4yMS0uNjcyLjM0bC0uMjA3LjEzNi0uNDIuMjkzLS40NzYtLjE5N2MtLjMyOC0uMTM3LS43MTgtLjI4MS0xLjE2OS0uNDMzbC0uMjIxLS4wNzQtMS4wNDUgMS43MTlMMy41OSA2Ljk5OWwtLjA2LjQ3OWE0LjEyNyA0LjEyNyAwIDAgMC0uMDIxLjgxNmwuMDE0LjE0NC4wNTguNDkyLS40MTkuMjk0Yy0uMjg4LjIwMy0uNjE1LjQ1MS0uOTc5Ljc0NmwtLjE3Ny4xNDUgMS4wNDMgMS43MiAxLjg0NS0uNzAzLjQwNi4yOWMuMjA0LjE0Ni40Mi4yNzQuNjQ1LjM4NGwuMjI4LjEwMy40NzQuMTk5LjA1OS40OWMuMDQuMzM4LjEwMy43MzEuMTkgMS4xNzdsLjA0My4yMTloMi4wODhsLjI4Mi0xLjg2Ny40NjYtLjE5Yy4yMzYtLjA5NS40Ni0uMjEuNjcyLS4zNGwuMjA3LS4xMzYuNDE5LS4yOTMuNDc2LjE5OGMuMzMuMTM2LjcyLjI4IDEuMTcuNDMzbC4yMi4wNzIgMS4wNDQtMS43MTgtMS41Ni0xLjE2NS4wNi0uNDc5YTQuMTMxIDQuMTMxIDAgMCAwIC4wMi0uODE1bC0uMDEzLS4xNDQtLjA2LS40OTIuNDItLjI5NWExOC4xIDE4LjEgMCAwIDAgLjk4LS43NDZsLjE3Ni0uMTQ2LTEuMDQzLTEuNzItMS44NDQuNzA1LS40MDYtLjI5YTQuNDk2IDQuNDk2IDAgMCAwLS42NDYtLjM4NWwtLjIyOC0uMTAzLS40NzQtLjE5OS0uMDU4LS40OWMtLjAzMi0uMjctLjA4LS41NzYtLjE0LS45MTZ6bS0xLjA2NyAzYTMgMyAwIDEgMSAwIDYgMyAzIDAgMCAxIDAtNm0wIDFhMiAyIDAgMSAwIDAgNCAyIDIgMCAwIDAgMC00XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk04IDEyYy0yLjY2NyAwLTUuNjY3LTEuMzMzLTctNCAxLjMzMy0yLjY2NyA0LjMzMy00IDctNHM1LjY2NyAxLjMzMyA3IDRjLTEuMzMzIDIuNjY3LTQuMzMzIDQtNyA0bTAtN2MtMi42MTggMC00LjU3OC45NjctNiAzIDEuNDIyIDIuMDMzIDMuMzgyIDMgNiAzczQuNTc4LS45NjcgNi0zYy0xLjQyMi0yLjAzMy0zLjM4Mi0zLTYtM20wIDUuNWEyLjUgMi41IDAgMSAxIDAtNSAyLjUgMi41IDAgMCAxIDAgNW0wLTFhMS41IDEuNSAwIDEgMCAwLTMgMS41IDEuNSAwIDAgMCAwIDNcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTUuNSAxYS41LjUgMCAwIDAtLjUuNVYySDJhMSAxIDAgMCAwLTEgMXYxMWExIDEgMCAwIDAgMSAxaDEyYTEgMSAwIDAgMCAxLTFWM2ExIDEgMCAwIDAtMS0xaC0zdi0uNWEuNS41IDAgMCAwLTEgMFYySDZ2LS41YS41LjUgMCAwIDAtLjUtLjVNMTAgMy41VjNINnYuNWEuNS41IDAgMCAxLTEgMFYzSDJ2MmgxMlYzaC0zdi41YS41LjUgMCAwIDEtMSAwTTE0IDZIMnY4aDEyek01IDguNWEuNS41IDAgMCAxIC41LS41aDVhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMS0uNS0uNW0uNSAyLjVhLjUuNSAwIDAgMCAwIDFoNWEuNS41IDAgMCAwIDAtMXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiNDNUM1QzVcXFwiIGQ9XFxcIk0yLjU2IDEyLjgwMWE3LjI4NCA3LjI4NCAwIDAgMCAxMS40OCAwaC4wMDV2LS4wMDZhNy4yNyA3LjI3IDAgMCAwIDAtOC45ODh2LS4wMDZoLS4wMDRhNy4yODMgNy4yODMgMCAwIDAtMTEuNDgyIDBoLS4wMDR2LjAwNmE3LjI3IDcuMjcgMCAwIDAgMCA4Ljk4OHYuMDA2em0xLjk1LThhMTEuNSAxMS41IDAgMCAwLS40OTUgM2gtMS45OWE2LjI2IDYuMjYgMCAwIDEgMS4wNC0zem05LjAyNSAwYTYuMjYgNi4yNiAwIDAgMSAxLjA0IDNoLTEuOTlhMTEuNTAzIDExLjUwMyAwIDAgMC0uNDk1LTN6bS0xLjQ0NSA3Yy4yOTctLjk3NC40NjQtMS45ODMuNDk1LTNoMS45OWE2LjI2IDYuMjYgMCAwIDEtMS4wNCAzem0tNC4yOSAxdjEuNzE2YTMuMzI0IDMuMzI0IDAgMCAxLTEuNzgtMS43MTZ6bS0yLjIyNS0xYTEwLjMxOCAxMC4zMTggMCAwIDEtLjU2LTNINy44djN6TTguOCAxNC41MTd2LTEuNzE2aDEuNzhhMy4zMjQgMy4zMjQgMCAwIDEtMS43OCAxLjcxNm0wLTIuNzE2di0zaDIuNzg2YTEwLjMyIDEwLjMyIDAgMCAxLS41NiAzem0yLjc4Ni00SDguOHYtM2gyLjIyNWMuMzM1Ljk2Ny41MjQgMS45NzguNTYxIDNtLTIuNzg2LTRWMi4wODVjLjc5Mi4zMjIgMS40My45MzYgMS43OCAxLjcxNnptLTEtMS43MTZ2MS43MTZINi4wMmMuMzUxLS43OC45ODgtMS4zOTQgMS43OC0xLjcxNm0wIDIuNzE2djNINS4wMTRjLjAzOC0xLjAyMi4yMjctMi4wMzMuNTYxLTN6bS0zLjc4NSA0YTExLjUgMTEuNSAwIDAgMCAuNDk1IDNIMy4wNjVhNi4yNiA2LjI2IDAgMCAxLTEuMDQtM3ptLjg4MSA0Yy4xODMuNDA4LjQwNC43OTguNjYyIDEuMTYzQTYuMzI1IDYuMzI1IDAgMCAxIDMuOSAxMi44MDF6bTYuMTQ2IDEuMTYzYy4yNTgtLjM2NS40OC0uNzU1LjY2Mi0xLjE2M2guOTk2YTYuMzI2IDYuMzI2IDAgMCAxLTEuNjU4IDEuMTYzbS42NjItMTAuMTYzYTYuODY4IDYuODY4IDAgMCAwLS42NjItMS4xNjNBNi4zMjQgNi4zMjQgMCAwIDEgMTIuNyAzLjgwMXpNNS41NTggMi42MzhjLS4yNTguMzY1LS40OC43NTUtLjY2MiAxLjE2M0gzLjlhNi4zMjMgNi4zMjMgMCAwIDEgMS42Ni0xLjE2M3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIm01LjYzNSA5Ljg2IDIuMTY4LTIuMThMOCA3LjQ3MWMuMDY4LS4wNzMuMTMtLjE1MS4xODUtLjIzMy4wNTUtLjA4Mi4xMDEtLjE2OC4xMzgtLjI1OGEuNzQyLjc0MiAwIDAgMCAuMDU1LS4yODMuNzI5LjcyOSAwIDAgMC0uMjQ0LS41NTguNzg2Ljc4NiAwIDAgMC0uMjU2LS4xNTEuOS45IDAgMCAwLS4zMTItLjA1NC44MjIuODIyIDAgMCAwLS41ODMuMjE0LjkxOC45MTggMCAwIDAtLjI3Ni41NzNsLS45OTMtLjA4MmMuMDItLjI2Ny4wODItLjUwNC4xODUtLjcwOS4xMDItLjIwNS4yMzUtLjM3NS4zOTgtLjUxMi4xNjMtLjEzNy4zNTItLjI0LjU2OC0uMzExQTIuMjMgMi4yMyAwIDAgMSA3LjU2NiA1Yy4yNTMgMCAuNDg4LjAzNC43MDYuMTAyLjIxOC4wNjkuNDA5LjE3LjU3Mi4zMDQuMTYzLjEzNC4yOTEuMzA0LjM4Ni41MTIuMDk1LjIwOC4xNDIuNDUuMTQyLjczIDAgLjM2Ni0uMDguNjgxLS4yNC45NDYtLjE2LjI2NS0uMzY3LjUxOC0uNjIuNzU4bC0xLjcyNiAxLjY2NGgyLjU4NnYuODg2SDUuNjM1ek0zLjYgNi4yMyAyLjU1IDcuMjM4IDIgNi41NThsMS42ODctMS40NmguODZ2NS44MDRIMy42em04LjIzIDEuMjA0aC0uMjQ0di44ODZoLjIyOWMuMTQyIDAgLjI4Ni4wMS40MzQuMDMyLjE0Ny4wMjIuMjguMDY1LjM5OC4xMjhhLjc4Mi43ODIgMCAwIDEgLjI5Mi4yN2MuMDc2LjExNy4xMTQuMjcuMTE0LjQ1NSAwIC4xMzctLjAyNS4yNi0uMDc1LjM3M2EuODU2Ljg1NiAwIDAgMS0uMjA1LjI4Ny45ODYuOTg2IDAgMCAxLS42NTguMjVjLS4yNTMgMC0uNDUyLS4wNjYtLjYtLjE5N2ExLjA1MyAxLjA1MyAwIDAgMS0uMzA3LS41NTdsLTEuMDEuMjc4Yy4wNjQuMjQuMTU2LjQ0Ny4yNzcuNjIuMTIuMTcxLjI2NC4zMTIuNDMuNDIxLjE2NS4xMS4zNS4xOS41NTUuMjQyLjIwNS4wNTIuNDIzLjA3OC42NTUuMDc4LjI0NyAwIC40ODUtLjAzNy43MTMtLjExLjIyOS0uMDc0LjQzLS4xODQuNjAzLS4zMjguMTc0LS4xNDUuMzEyLS4zMjQuNDE0LS41MzcuMTAzLS4yMTQuMTU0LS40Ni4xNTQtLjczOCAwLS4zNi0uMDkyLS42NzItLjI3Ni0uOTM1LS4xODQtLjI2Mi0uNDU1LS40Mi0uODEyLS40NzV2LS4wMTZjLjMtLjA3Ny41MzMtLjIzNy43MDItLjQ4LjE2OC0uMjQzLjI1Mi0uNTIuMjUyLS44MzJhMS40MSAxLjQxIDAgMCAwLS41MzYtMS4xNiAxLjcxMSAxLjcxMSAwIDAgMC0uNTY4LS4yOUEyLjM0NSAyLjM0NSAwIDAgMCAxMi4wNzYgNWMtLjIwNSAwLS40MDIuMDI1LS41OTEuMDc0LS4xOS4wNDktLjM2My4xMjQtLjUyLjIyNS0uMTU4LjEwMS0uMjk1LjIzMS0uNDEuMzlhMS44MDUgMS44MDUgMCAwIDAtLjI2OC41NTdsMSAuMjc5YS45NDguOTQ4IDAgMCAxIC4zMjgtLjQ3Mi44MjcuODI3IDAgMCAxIC41MDgtLjE2OGMuMjM3IDAgLjQyOS4wNzEuNTc2LjIxM2EuNzMuNzMgMCAwIDEgLjIyLjU1LjguOCAwIDAgMS0uMDk0LjQxOC42MzguNjM4IDAgMCAxLS4yNDguMjM3IDEgMSAwIDAgMS0uMzQ3LjEwNyAzLjE1MiAzLjE1MiAwIDAgMS0uMzk4LjAyNFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTIuODkgNi4wMzJjLjE0My4wNzYuMjkuMjI2LjQ0Mi40NTJsLjU3NC0uNThjLS4yMDctLjMyOS0uNDMtLjU2MS0uNjctLjY5OEExLjU1IDEuNTUgMCAwIDAgMTIuNDU0IDVjLS4zMiAwLS42MTQuMDcxLS44ODIuMjE0YTIuMDQ4IDIuMDQ4IDAgMCAwLS42OS42MDkgMy4wNDYgMy4wNDYgMCAwIDAtLjQ1NC45NTUgNC40MyA0LjQzIDAgMCAwLS4xNjUgMS4yNDZjMCAuNDQ2LjA1NS44NTIuMTY1IDEuMjE4LjEwOS4zNjYuMjYuNjc5LjQ1My45NC4xOTQuMjYuNDI0LjQ2Mi42OTEuNjA0LjI2OC4xNDMuNTYyLjIxNC44ODIuMjE0LjMwNCAwIC41OTEtLjA4Ljg2LS4yNDIuMjctLjE2MS40OTktLjQyLjY4Ni0uNzc0bC0uNjEtLjU5N2MtLjEzNi4yNDItLjI4My40MTgtLjQ0MS41MjhhLjg0Ni44NDYgMCAwIDEtLjQ5LjE2NmMtLjIxNCAwLS40MDgtLjA1NC0uNTgyLS4xNjJhMS40NjIgMS40NjIgMCAwIDEtLjQ0OC0uNDQzIDIuMjM2IDIuMjM2IDAgMCAxLS4yOS0uNjcgMy4zMDQgMy4zMDQgMCAwIDEtLjEwMi0uODQ2YzAtLjI4NS4wMzQtLjU1MS4xMDItLjc5OS4wNjgtLjI0Ny4xNjUtLjQ2My4yOS0uNjQ5LjEyNS0uMTg1LjI3NC0uMzMuNDQ4LS40MzUuMTc0LS4xMDUuMzY4LS4xNTguNTgzLS4xNTguMTQ0IDAgLjI4OC4wMzguNDMuMTEzbS04LjQ0OC0uODg3aC0uNjM4TDIgMTAuODU1aC44MjZMMy4yIDkuNTQ4aDEuNzk4bC4zODYgMS4zMDdoLjg0M3ptLS4zNCAxLjIxLjYzOSAyLjMyMkgzLjQ1MnptMi41OS0xLjIxaDEuNjE1Yy4xNTcgMCAuMzEuMDI2LjQ2My4wNzcuMTUyLjA1LjI4OC4xMzQuNDA3LjI1LjEyLjExNS4yMTYuMjY1LjI5LjQ0Ny4wNzQuMTgzLjExMS40MDQuMTExLjY2MiAwIC4zMjItLjA2Ni41ODgtLjE5OS43OTgtLjEzMy4yMS0uMzA2LjM2LS41MjEuNDUydi4wMTZhLjg3MS44NzEgMCAwIDEgLjM2LjE0OWMuMTExLjA3OC4yMDYuMTc3LjI4NC4yOTguMDc4LjEyMS4xNC4yNjEuMTg1LjQyLjA0NS4xNTguMDY3LjMyOS4wNjcuNTEyIDAgLjMxMi0uMDQ1LjU3MS0uMTM1Ljc3OC0uMDkuMjA3LS4yMDguMzc0LS4zNTQuNWExLjMwOCAxLjMwOCAwIDAgMS0uNTA0LjI3IDIuMSAyLjEgMCAwIDEtLjU3Ny4wOEg2LjY5MXptMS40MSAyLjMyM0g3LjQzVjYuMDE2aC42MWMuMjggMCAuNDg0LjA2LjYxMS4xODIuMTI3LjEyLjE5LjMwNS4xOS41NTJhLjczMS43MzEgMCAwIDEtLjE4NC41MmMtLjEyMy4xMzItLjMwOC4xOTgtLjU1NC4xOThNNy40MyA5Ljk4NGguNjhjLjA5MyAwIC4xOTQtLjAwOC4zMDEtLjAyNGEuNjc1LjY3NSAwIDAgMCAuNTE4LS4zNjcuOTYuOTYgMCAwIDAgLjA4OC0uNDQ4YzAtLjMtLjA3MS0uNTEtLjIxNC0uNjI5LS4xNDItLjExOC0uMzY0LS4xNzctLjY2NC0uMTc3aC0uNzA5elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMi4xNDYgNC42NTNhLjQ4NS40ODUgMCAwIDEgLjcwOCAwTDggMTAuMjRsNS4xNDYtNS41ODdhLjQ4NS40ODUgMCAwIDEgLjcwOCAwIC41MzguNTM4IDAgMCAxIDAgLjczOGwtNS41IDUuOTU2YS40ODUuNDg1IDAgMCAxLS43MDggMGwtNS41LTUuOTU2YS41MzguNTM4IDAgMCAxIDAtLjczOFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTMuODU0IDExLjM0N2EuNDg2LjQ4NiAwIDAgMS0uNzA4IDBMOCA1Ljc2bC01LjE0NiA1LjU4N2EuNDg1LjQ4NSAwIDAgMS0uNzA4IDAgLjUzOC41MzggMCAwIDEgMC0uNzM4bDUuNS01Ljk1NmEuNDg1LjQ4NSAwIDAgMSAuNzA4IDBsNS41IDUuOTU2YS41MzguNTM4IDAgMCAxIDAgLjczOFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwibTguNzQ1IDggNi4xIDYuMWEuNTI3LjUyNyAwIDEgMS0uNzQ1Ljc0Nkw4IDguNzQ2bC02LjEgNi4xYS41MjcuNTI3IDAgMSAxLS43NDYtLjc0Nmw2LjEtNi4xLTYuMS02LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni0uNzQ2bDYuMSA2LjEgNi4xLTYuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2Ljc0NnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xLjUgMTFhLjUuNSAwIDAgMCAuNS0uNVYyaDguNWEuNS41IDAgMCAwIDAtMUgyYTEgMSAwIDAgMC0xIDF2OC41YS41LjUgMCAwIDAgLjUuNU01IDRoOWExIDEgMCAwIDEgMSAxdjlhMSAxIDAgMCAxLTEgMUg1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbTAgMXY5aDlWNXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExLjIyNyAxLjMxMmMtLjQwNC0uNDA0LTEuMDQ1LS40MTctMS40MzItLjAzTDIuNDkgOC41ODdsLS40OCAyLjY3NGEuNjM3LjYzNyAwIDAgMCAuNzMuNzNsMi42NzMtLjQ4IDcuMzA1LTcuMzA2Yy4zODctLjM4Ny4zNzQtMS4wMjgtLjAzLTEuNDMxem0tOC4xMTQgOS41NzUuMzItMS43ODEgNC45OTEtNC45OTIgMS40NjIgMS40NjItNC45OTIgNC45OTF6bTcuNDczLTYuMDEyIDEuNDAyLTEuNC0xLjQ2Mi0xLjQ2My0xLjQwMSAxLjQwMnpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk0xLjUgMTRhLjUuNSAwIDAgMCAwIDFoMTNhLjUuNSAwIDAgMCAwLTF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTQgOEE2IDYgMCAxIDEgMiA4YTYgNiAwIDAgMSAxMiAwbTEgMEE3IDcgMCAxIDEgMSA4YTcgNyAwIDAgMSAxNCAwTTQgOGEuNS41IDAgMCAxIC41LS41aDdhLjUuNSAwIDAgMSAwIDFoLTdBLjUuNSAwIDAgMSA0IDhcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE0IDhBNiA2IDAgMSAxIDIgOGE2IDYgMCAwIDEgMTIgMG0xIDBBNyA3IDAgMSAxIDEgOGE3IDcgMCAwIDEgMTQgME03LjUgNC41YS41LjUgMCAwIDEgMSAwdjNoM2EuNS41IDAgMCAxIDAgMWgtM3YzYS41LjUgMCAwIDEtMSAwdi0zaC0zYS41LjUgMCAwIDEgMC0xaDN6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNy41IDBhLjUuNSAwIDAgMC0uNS41VjdILjVhLjUuNSAwIDAgMCAwIDFIN3Y2LjVhLjUuNSAwIDAgMCAxIDBWOGg2LjVhLjUuNSAwIDAgMCAwLTFIOFYuNWEuNS41IDAgMCAwLS41LS41XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTMgMWEyIDIgMCAwIDEgMiAydjYuNWEuNS41IDAgMCAxLTEgMFYzYTEgMSAwIDAgMC0xLTFIM2ExIDEgMCAwIDAtMSAxdjEwYTEgMSAwIDAgMCAxIDFoNi41YS41LjUgMCAwIDEgMCAxSDNhMiAyIDAgMCAxLTItMlYzYTIgMiAwIDAgMSAyLTJ6bS0xLjg0OSAxMC4xNTFhLjUxNy41MTcgMCAwIDEgLjczIDBsMi45MjMgMi45MjNhLjUxNy41MTcgMCAwIDEtLjczLjczbC0yLjkyMy0yLjkyMmEuNTE3LjUxNyAwIDAgMSAwLS43M004IDEyYTQgNCAwIDEgMCAwLTggNCA0IDAgMCAwIDAgOG0wLTFhMyAzIDAgMSAxIDAtNiAzIDMgMCAwIDEgMCA2XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMiA2LjVhNS41IDUuNSAwIDEgMS0xMSAwIDUuNSA1LjUgMCAwIDEgMTEgMG0tMS4yNyA0LjkzNmE2LjUgNi41IDAgMSAxIC43MDctLjcwN2w0LjEzNiA0LjEzN2EuNS41IDAgMSAxLS43MDcuNzA3elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTYgNi41YS41LjUgMCAwIDEgMSAwdjZhLjUuNSAwIDAgMS0xIDB6TTkuNSA2YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgMSAwdi02YS41LjUgMCAwIDAtLjUtLjVcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMSAwSDVhMSAxIDAgMCAwLTEgMXYySC41YS41LjUgMCAwIDAgMCAxaDEuNmwuODEgMTEuMWExIDEgMCAwIDAgLjk5NS45aDguMTlhMSAxIDAgMCAwIC45OTUtLjlMMTMuOSA0aDEuNmEuNS41IDAgMCAwIDAtMUgxMlYxYTEgMSAwIDAgMC0xLTFtMCAzVjFINXYyem0xLjg5NSAxaC05Ljc5bC44IDExaDguMTl6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNOCA1LjVhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyTTYuNSA3LjVBLjUuNSAwIDAgMSA3IDdoMS41djQuNWgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEgMC0xaDFWOEg3YS41LjUgMCAwIDEtLjUtLjVcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk04IDE2QTggOCAwIDEgMSA4IDBhOCA4IDAgMCAxIDAgMTZtMC0xQTcgNyAwIDEgMCA4IDFhNyA3IDAgMCAwIDAgMTRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwibTggMCA4IDYtOCA2LTgtNnpNMS44ODcgNiA4IDEwLjgyIDE0LjExMyA2IDggMS4xOHpNLjU2MyA5IDggMTQuNzc1IDE1LjQzNyA5bC41NjMuODFMOCAxNiAwIDkuODF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtNiAxMS45NDMgNCAxLjcxMVY0LjA1N0w2IDIuMzQ2em0tMSAuMTdWMi40OTRsLTQgMS40OHY5LjYxOXptNiAxLjM5MyA0LTEuNDhWMi40MDdsLTQgMS40OHpNMCAxNVYzLjMwN0w1Ljc1IDEuMThsNC41MjggMS45MzdMMTYgMXYxMS42OTNsLTUuNzUgMi4xMjctNC41MjgtMS45Mzd6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNNy41IDRWMS4zOUM2LjQwMiAyLjEyIDUuNTY1IDIuOTkgNC45ODUgNHptMCAzLjVWNUg0LjUxMmE4LjEzIDguMTMgMCAwIDAtLjUgMi41em0wIDMuNVY4LjVINC4wMTJhOC4xMyA4LjEzIDAgMCAwIC41IDIuNXptMCAzLjYxVjEySDQuOTg1Yy41OCAxLjAxIDEuNDE3IDEuODggMi41MTUgMi42MW0yLjU0My4wODdBNy4wMTQgNy4wMTQgMCAwIDAgMTMuNzQ1IDEyaC0xLjZhOC4yNzggOC4yNzggMCAwIDEtMi4xMDIgMi42OTdNMTEuMDE1IDEySDguNXYyLjYxYzEuMDk4LS43MyAxLjkzNS0xLjYgMi41MTUtMi42MW0xLjk3NC0zLjVhOS4zMjggOS4zMjggMCAwIDEtLjQ0MSAyLjVoMS43NzhjLjM2NS0uNzY3LjU5NC0xLjYxLjY1Ni0yLjV6bS0xLjAwMSAwSDguNVYxMWgyLjk4OGE4LjEzIDguMTMgMCAwIDAgLjUtMi41bS41Ni0zLjVjLjI1NC43NzUuNDAxIDEuNjA5LjQ0MSAyLjVoMS45OTNhNi45NTcgNi45NTcgMCAwIDAtLjY1Ni0yLjV6bS0xLjA2IDBIOC41djIuNWgzLjQ4OGE4LjEzIDguMTMgMCAwIDAtLjUtMi41bS0xLjQ0NS0zLjY5N2MuOTEuNzggMS42MTEgMS42OCAyLjEwMiAyLjY5N2gxLjZhNy4wMTQgNy4wMTQgMCAwIDAtMy43MDItMi42OTdNOC41IDRoMi41MTVjLS41OC0xLjAxLTEuNDE3LTEuODgtMi41MTUtMi42MXptLS41MjcgMTJhOCA4IDAgMSAxIC4wNTUtMTYgOCA4IDAgMCAxLS4wNTUgMTZNNS45NTcgMS4zMDJBNy4wMTQgNy4wMTQgMCAwIDAgMi4yNTUgNGgxLjZhOC4yNzggOC4yNzggMCAwIDEgMi4xMDItMi42OTdNMy4wMTEgNy41Yy4wNC0uODkxLjE4Ny0xLjcyNS40NDEtMi41SDEuNjc0YTYuOTU3IDYuOTU3IDAgMCAwLS42NTYgMi41em0uNDQxIDMuNWE5LjMyOCA5LjMyOCAwIDAgMS0uNDQxLTIuNUgxLjAxOGMuMDYyLjg5LjI5MSAxLjczMy42NTYgMi41em0yLjUwNSAzLjY5N0E4LjI3OCA4LjI3OCAwIDAgMSAzLjg1NSAxMmgtMS42YTcuMDE0IDcuMDE0IDAgMCAwIDMuNzAyIDIuNjk3XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtNi4yNjIgNi45NzItLjg5My0uODkzYS41LjUgMCAwIDEgMC0uNzA3bC4wMDMtLjAwM2EuNS41IDAgMCAxIC43MDcgMGwuODkzLjg5My43MDktLjcwOWExLjAwMyAxLjAwMyAwIDAgMCAwLTEuNDE5TDQuODQ0IDEuMjk3YTEuMDAzIDEuMDAzIDAgMCAwLTEuNDE5IDBMMS4yOTcgMy40MjVhMS4wMDMgMS4wMDMgMCAwIDAgMCAxLjQxOUw0LjEzNCA3LjY4YTEuMDAzIDEuMDAzIDAgMCAwIDEuNDE5IDB6bTEuNDE5IDAgMS4zNDcgMS4zNDcuNzEtLjcxYTIuMDA2IDIuMDA2IDAgMCAxIDIuODM3IDBsMi44MzcgMi44MzhhMi4wMDYgMi4wMDYgMCAwIDEgMCAyLjgzN2wtMi4xMjggMi4xMjhhMi4wMDYgMi4wMDYgMCAwIDEtMi44MzcgMEw3LjYxIDEyLjU3NWEyLjAwNiAyLjAwNiAwIDAgMSAwLTIuODM3bC43MDktLjcxLTEuMzQ3LTEuMzQ3LS43MS43MWEyLjAwNiAyLjAwNiAwIDAgMS0yLjgzNyAwTC41ODggNS41NTJhMi4wMDYgMi4wMDYgMCAwIDEgMC0yLjgzN0wyLjcxNi41ODhhMi4wMDYgMi4wMDYgMCAwIDEgMi44MzcgMEw4LjM5IDMuNDI1YTIuMDA2IDIuMDA2IDAgMCAxIDAgMi44Mzd6bTIuMDU3IDIuMDU2LjU5OS42YS41LjUgMCAwIDEgMCAuNzA3bC0uMDAyLjAwMmEuNS41IDAgMCAxLS43MDcgMGwtLjYtLjYtLjcwOS43MWExLjAwMyAxLjAwMyAwIDAgMCAwIDEuNDE5bDIuODM3IDIuODM3YTEuMDAzIDEuMDAzIDAgMCAwIDEuNDE5IDBsMi4xMjgtMi4xMjhhMS4wMDMgMS4wMDMgMCAwIDAgMC0xLjQxOUwxMS44NjYgOC4zMmExLjAwMyAxLjAwMyAwIDAgMC0xLjQxOSAwelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL2ZpbGxlZC9kYXRhL2xheWVyLnN2ZydcblxuZXhwb3J0IGNvbnN0IExheWVyRmlsbGVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9maWxsZWQvZGF0YS93aWRnZXQuc3ZnJ1xuXG5leHBvcnQgY29uc3QgV2lkZ2V0RmlsbGVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9maWxsZWQvc3VnZ2VzdGVkL3dhcm5pbmctY2lyY2xlLnN2ZydcblxuZXhwb3J0IGNvbnN0IFdhcm5pbmdDaXJjbGVGaWxsZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL2VtcHR5LnN2ZydcblxuZXhwb3J0IGNvbnN0IEVtcHR5T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL2ludmlzaWJsZS5zdmcnXG5cbmV4cG9ydCBjb25zdCBJbnZpc2libGVPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS1ob3Jpem9udGFsLnN2ZydcblxuZXhwb3J0IGNvbnN0IE1vcmVIb3Jpem9udGFsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL3NldHRpbmcuc3ZnJ1xuXG5leHBvcnQgY29uc3QgU2V0dGluZ091dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9hcHBsaWNhdGlvbi92aXNpYmxlLnN2ZydcblxuZXhwb3J0IGNvbnN0IFZpc2libGVPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGF0YS9nbG9iZS5zdmcnXG5cbmV4cG9ydCBjb25zdCBHbG9iZU91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2ZydcblxuZXhwb3J0IGNvbnN0IERvd25PdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvdXAuc3ZnJ1xuXG5leHBvcnQgY29uc3QgVXBPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnN2ZydcblxuZXhwb3J0IGNvbnN0IENsb3NlT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9kdXBsaWNhdGUuc3ZnJ1xuXG5leHBvcnQgY29uc3QgRHVwbGljYXRlT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9lZGl0LnN2ZydcblxuZXhwb3J0IGNvbnN0IEVkaXRPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL3BsdXMuc3ZnJ1xuXG5leHBvcnQgY29uc3QgUGx1c091dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3IvcHJldmlldy5zdmcnXG5cbmV4cG9ydCBjb25zdCBQcmV2aWV3T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9zZWFyY2guc3ZnJ1xuXG5leHBvcnQgY29uc3QgU2VhcmNoT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmcnXG5cbmV4cG9ydCBjb25zdCBUcmFzaE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvaW5mby5zdmcnXG5cbmV4cG9ydCBjb25zdCBJbmZvT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgRGF0YVNvdXJjZUl0ZW0gfSBmcm9tICcuL2RhdGEtc291cmNlLWl0ZW0nXG5pbXBvcnQgeyB0eXBlIERhdGFTb3VyY2VJdGVtUHJvcHMgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuXG5pbnRlcmZhY2UgRGF0YVNvdXJjZUVycm9ySXRlbVByb3BzIGV4dGVuZHMgT21pdDxEYXRhU291cmNlSXRlbVByb3BzLFxuJ2lzUmVuYW1lSW5wdXRTaG93bicgfCAnaXNNYXBwaW5nSWNvblNob3duJyB8ICdvbk1hcHBpbmdJY29uQ2xpY2snIHwgJ29uUmVuYW1lJz4ge1xuXG59XG5cbmNsYXNzIF9EYXRhU291cmNlRXJyb3JJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxEYXRhU291cmNlRXJyb3JJdGVtUHJvcHMsIHVua25vd24+IHtcbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21wb25lbnQtZGF0YS1zb3VyY2UtZXJyb3ItaXRlbSc+XG4gICAgICAgICAgPERhdGFTb3VyY2VJdGVtIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZUVycm9ySXRlbSA9IHdpdGhTdHlsZXMoX0RhdGFTb3VyY2VFcnJvckl0ZW0sICdEYXRhU291cmNlRXJyb3JJdGVtJylcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgdHlwZSBJbnRsU2hhcGUsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIFdpZGdldEpzb24sIGpzeCwgaW5qZWN0SW50bCwgUmVhY3RSZWR1eCwgdHlwZSBJTVN0YXRlLCBjbGFzc05hbWVzLCBEYXRhU291cmNlTWFuYWdlciwgZGF0YVNvdXJjZVV0aWxzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSWNvbiwgVGV4dElucHV0LCBkZWZhdWx0TWVzc2FnZXMsIEJ1dHRvbiwgTG9hZGluZywgTG9hZGluZ1R5cGUgfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBnZXRXaWRnZXRzVXNpbmdEc09ySXRzVmlld3MsIGdldFdpZGdldHNVc2luZ0RzT3JJdHNEZXNjZW5kYW50RHNzLCBnZXRPcmlnaW5hbERhdGFVcmwgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHR5cGUgRGF0YVNvdXJjZUl0ZW1Qcm9wcyB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgRGF0YUJhZGdlIH0gZnJvbSAnamltdS11aS9iYXNpYy9pdGVtLXNlbGVjdG9yJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmltcG9ydCB7IE1vcmVIb3Jpem9udGFsT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL21vcmUtaG9yaXpvbnRhbCdcbmltcG9ydCB7IENsb3NlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9jbG9zZSdcbmltcG9ydCB7IExheWVyRmlsbGVkIH0gZnJvbSAnamltdS1pY29ucy9maWxsZWQvZGF0YS9sYXllcidcbmltcG9ydCB7IFdpZGdldEZpbGxlZCB9IGZyb20gJ2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvd2lkZ2V0J1xuaW1wb3J0IHsgVmlzaWJsZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi92aXNpYmxlJ1xuaW1wb3J0IHsgSW52aXNpYmxlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2ludmlzaWJsZSdcbmltcG9ydCB7IFByZXZpZXdPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3ByZXZpZXcnXG5pbXBvcnQgeyBJbmZvT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC9pbmZvJ1xuXG5pbnRlcmZhY2UgU3RhdGVFeHRyYVByb3BzIHtcbiAgd2lkZ2V0cz86IEltbXV0YWJsZU9iamVjdDx7IFt3aWRnZXRJZDogc3RyaW5nXTogV2lkZ2V0SnNvbiB9PlxufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBuZXdMYWJlbDogc3RyaW5nXG59XG5cbmNsYXNzIF9EYXRhU291cmNlSXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8RGF0YVNvdXJjZUl0ZW1Qcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZUV4dHJhUHJvcHMsIFN0YXRlPiB7XG4gIHJlbmFtZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld0xhYmVsOiB0aGlzLmdldExhYmVsKClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogRGF0YVNvdXJjZUl0ZW1Qcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xuICAgIGlmIChwcmV2UHJvcHMuaXNSZW5hbWVJbnB1dFNob3duICE9PSB0aGlzLnByb3BzLmlzUmVuYW1lSW5wdXRTaG93biAmJiB0aGlzLnByb3BzLmlzUmVuYW1lSW5wdXRTaG93biAmJiB0aGlzLnJlbmFtZUlucHV0KSB7XG4gICAgICB0aGlzLnJlbmFtZUlucHV0LmZvY3VzKClcbiAgICAgIHRoaXMucmVuYW1lSW5wdXQuc2VsZWN0KClcbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcy5kYXRhU291cmNlSnNvbiAhPT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG5ld0xhYmVsOiB0aGlzLmdldExhYmVsKClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgb25MYWJlbENoYW5nZSA9IGUgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3TGFiZWw6IGUudGFyZ2V0LnZhbHVlXG4gICAgfSlcbiAgfVxuXG4gIG9uTW9yZUljb25DbGljayA9IGUgPT4ge1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpXG4gICAgdGhpcy5wcm9wcy5vbk1vcmVJY29uQ2xpY2sgJiYgdGhpcy5wcm9wcy5vbk1vcmVJY29uQ2xpY2sodGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbilcbiAgfVxuXG4gIG9uQ2xvc2VJY29uQ2xpY2sgPSBlID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25DbG9zZUljb25DbGljayAmJiB0aGlzLnByb3BzLm9uQ2xvc2VJY29uQ2xpY2sodGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbilcbiAgfVxuXG4gIG9uUmVuYW1lID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0xhYmVsID0gdGhpcy5zdGF0ZS5uZXdMYWJlbC50cmltKClcbiAgICB0aGlzLnByb3BzLm9uUmVuYW1lICYmIHRoaXMucHJvcHMub25SZW5hbWUobmV3TGFiZWwpXG4gIH1cblxuICBvbkRhdGFTb3VyY2VJdGVtQ2xpY2sgPSBlID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25EYXRhU291cmNlSXRlbUNsaWNrICYmIHRoaXMucHJvcHMub25EYXRhU291cmNlSXRlbUNsaWNrKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24pXG4gIH1cblxuICBvbkRhdGFTb3VyY2VJdGVtS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0ICYmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSkge1xuICAgICAgdGhpcy5vbkRhdGFTb3VyY2VJdGVtQ2xpY2soZSlcbiAgICB9XG4gIH1cblxuICBvbk1hcHBpbmdJY29uQ2xpY2sgPSBlID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25NYXBwaW5nSWNvbkNsaWNrICYmIHRoaXMucHJvcHMub25NYXBwaW5nSWNvbkNsaWNrKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24pXG4gIH1cblxuICBvbkhpZGVJY29uQ2xpY2sgPSBlID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25Ub2dnbGVIaWRkZW4gJiYgdGhpcy5wcm9wcy5vblRvZ2dsZUhpZGRlbih0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uKVxuICB9XG5cbiAgb25DaGlsZERhdGFJY29uQ2xpY2sgPSBlID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25DaGlsZERhdGFJY29uQ2xpY2sgJiYgdGhpcy5wcm9wcy5vbkNoaWxkRGF0YUljb25DbGljayh0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uKVxuICB9XG5cbiAgb25SZWxhdGVkV2lkZ2V0c0ljb25DbGljayA9IGUgPT4ge1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpXG4gICAgdGhpcy5wcm9wcy5vblJlbGF0ZWRXaWRnZXRzSWNvbkNsaWNrICYmIHRoaXMucHJvcHMub25SZWxhdGVkV2lkZ2V0c0ljb25DbGljayh0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uKVxuICB9XG5cbiAgc3RvcFByb3BhZ2F0aW9uID0gZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIGdldFdoZXRoZXJJc1NldERzID0gKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbik6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghZHNKc29uKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0pzb24uaWQpXG4gICAgaWYgKCFkcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIGRzLmlzRGF0YVNvdXJjZVNldFxuICB9XG5cbiAgZ2V0Q2hpbGREc3NMZW5ndGggPSAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKTogbnVtYmVyID0+IHtcbiAgICBpZiAoIWRzSnNvbikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0pzb24uaWQpXG4gICAgaWYgKCFkcyB8fCAhZHMuaXNEYXRhU291cmNlU2V0KSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBkcy5nZXRDaGlsZERhdGFTb3VyY2VzKCkubGVuZ3RoXG4gIH1cblxuICBnZXRMYWJlbCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGRzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24/LmlkKVxuICAgIHJldHVybiBkcz8uZ2V0TGFiZWwoKSB8fCB0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uPy5sYWJlbCB8fCB0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uPy5zb3VyY2VMYWJlbCB8fCB0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uPy5pZCB8fCAnJ1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRzID0gZ2V0V2lkZ2V0c1VzaW5nRHNPckl0c1ZpZXdzKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24uaWQsIHRoaXMucHJvcHMud2lkZ2V0cywgZmFsc2UpXG4gICAgY29uc3QgYWxsUmVsYXRlZFdpZGdldHMgPSBnZXRXaWRnZXRzVXNpbmdEc09ySXRzRGVzY2VuZGFudERzcyh0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uLmlkLCB0aGlzLnByb3BzLndpZGdldHMpXG4gICAgY29uc3Qgb3JpZ2luYWxEYXRhVXJsID0gZ2V0T3JpZ2luYWxEYXRhVXJsKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24pXG4gICAgY29uc3QgaXNTZXREcyA9IHRoaXMuZ2V0V2hldGhlcklzU2V0RHModGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbilcbiAgICBsZXQgY2hpbGREc3NMZW5ndGhcblxuICAgIGlmIChpc1NldERzKSB7XG4gICAgICBjaGlsZERzc0xlbmd0aCA9IHRoaXMuZ2V0Q2hpbGREc3NMZW5ndGgodGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbilcbiAgICB9XG5cbiAgICBjb25zdCBkc1R5cGVTdHJpbmcgPSBkYXRhU291cmNlVXRpbHMuZ2V0RHNUeXBlU3RyaW5nKHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24udHlwZSwgdGhpcy5wcm9wcy5pbnRsKVxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpXG4gICAgY29uc3QgZHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbi5pZClcbiAgICBjb25zdCBpdGVtSW5mbyA9IGRhdGFTb3VyY2VVdGlscy5pc0l0ZW1NaXhpbihkcykgPyBkcy5nZXRJdGVtSW5mbygpIDogbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2NvbXBvbmVudC1kYXRhLXNvdXJjZS1pdGVtJyxcbiAgICAgICAgICAgIHsgJ2NvbXBvbmVudC1kYXRhLXNvdXJjZS1pdGVtLXNlbGVjdGVkLWl0ZW0nOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQsICdjdXJzb3ItcG9pbnRlcic6ICEhdGhpcy5wcm9wcy5vbkRhdGFTb3VyY2VJdGVtQ2xpY2sgfVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRhdGFTb3VyY2VJdGVtQ2xpY2t9IHRhYkluZGV4PXswfSBvbktleURvd249e3RoaXMub25EYXRhU291cmNlSXRlbUtleURvd259IHJvbGU9J29wdGlvbidcbiAgICAgICAgPlxuICAgICAgICAgIHsgdGhpcy5wcm9wcy5pc0xvYWRpbmdTaG93biAmJiA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1jb250YWluZXInPjxMb2FkaW5nIHR5cGU9e0xvYWRpbmdUeXBlLkJhcn0gLz48L2Rpdj59XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBkcy1pdGVtLWhlYWRlcic+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHctMTAwJyB0aXRsZT17ZHNUeXBlU3RyaW5nfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBmbGV4LXNocmluay0wIGRzLXRodW1ibmFpbCc+XG4gICAgICAgICAgICAgICAgPEljb24gaWNvbj17ZGF0YVNvdXJjZVV0aWxzLmdldERzSWNvbih0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uKX0gY2xhc3NOYW1lPSd0ZXh0LWRhcmsnIHNpemU9JzEyJyAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xIHRleHQtdHJ1bmNhdGUgcGwtMiBkcy10eXBlJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSBkcy10eXBlLW5hbWUnPntkc1R5cGVTdHJpbmd9PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWwtMSBmbGV4LXNocmluay0wIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZHMtYmFkZ2UnPlxuICAgICAgICAgICAgICAgIHsgIXRoaXMucHJvcHMuaXNMb2FkaW5nU2hvd24gJiYgPERhdGFCYWRnZSBpdGVtPXtpdGVtSW5mb30gaXRlbUlkPXt0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uPy5pdGVtSWR9IHBvcnRhbFVybD17dGhpcy5wcm9wcy5kYXRhU291cmNlSnNvbj8ucG9ydGFsVXJsfSB1cmw9e3RoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24/LnVybH0gLz4gfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaXNFcnJvckljb25TaG93blxuICAgICAgICAgICAgICAgICAgPyA8ZGl2IGNsYXNzTmFtZT0nbWwtMSBmbGV4LXNocmluay0wIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZHMtbW9yZSBwLTInPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3VwbG9hZEltYWdlRXJyb3InLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnVwbG9hZEltYWdlRXJyb3IgfSl9PlxuICAgICAgICAgICAgICAgICAgICAgIDxJbmZvT3V0bGluZWQgY2xhc3NOYW1lPSdhbGlnbi1iYXNlbGluZSB3YXJuaW5nLWljb24nIHNpemU9J20nIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaXNIaWRlYWJsZVxuICAgICAgICAgICAgICAgICAgPyA8QnV0dG9uIHNpemU9J3NtJyBpY29uIHR5cGU9J3RlcnRpYXJ5JyBjbGFzc05hbWU9J2ZsZXgtc2hyaW5rLTAgZHMtbW9yZSBwLTInIG9uQ2xpY2s9e3RoaXMub25IaWRlSWNvbkNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YVNvdXJjZUpzb24/LmlzSGlkZGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsaWNrVG9TaG93JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGlja1RvU2hvdyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjbGlja1RvSGlkZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2xpY2tUb0hpZGUgfSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmRhdGFTb3VyY2VKc29uPy5pc0hpZGRlbiA/IDxJbnZpc2libGVPdXRsaW5lZCBjbGFzc05hbWU9J2FsaWduLWJhc2VsaW5lJyBzaXplPSdtJyAvPiA6IDxWaXNpYmxlT3V0bGluZWQgY2xhc3NOYW1lPSdhbGlnbi1iYXNlbGluZScgc2l6ZT0nbScgLz4gfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlzTW9yZUljb25TaG93blxuICAgICAgICAgICAgICAgICAgPyA8QnV0dG9uIHNpemU9J3NtJyBpY29uIHR5cGU9J3RlcnRpYXJ5JyBjbGFzc05hbWU9J2ZsZXgtc2hyaW5rLTAgZHMtbW9yZSBwLTInIG9uQ2xpY2s9e3RoaXMub25Nb3JlSWNvbkNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcicgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdtb3JlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5tb3JlIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgICA8TW9yZUhvcml6b250YWxPdXRsaW5lZCBjbGFzc05hbWU9J2FsaWduLWJhc2VsaW5lJyBzaXplPSdtJyAvPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlzQ2xvc2VJY29uU2hvd25cbiAgICAgICAgICAgICAgICAgID8gPEJ1dHRvbiBzaXplPSdzbScgaWNvbiB0eXBlPSd0ZXJ0aWFyeScgY2xhc3NOYW1lPSdmbGV4LXNocmluay0wIGRzLW1vcmUgcC0yJyBvbkNsaWNrPXt0aGlzLm9uQ2xvc2VJY29uQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucmVtb3ZlIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VPdXRsaW5lZCBjbGFzc05hbWU9J2FsaWduLWJhc2VsaW5lIGRzLWNsb3NlLWljb24nIHNpemU9J20nIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RzLWl0ZW0tYm9keSc+XG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1JlbmFtZUlucHV0U2hvd25cbiAgICAgICAgICAgICAgICA/IDxUZXh0SW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSBwLTEgZHMtbGFiZWwgZHMtbGFiZWwtaW5wdXQnIHJlZj17biA9PiB7IHRoaXMucmVuYW1lSW5wdXQgPSBuIH19XG4gICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMub25SZW5hbWV9IG9uS2V5VXA9e3RoaXMub25SZW5hbWV9IG9uQ2hhbmdlPXt0aGlzLm9uTGFiZWxDaGFuZ2V9IHZhbHVlPXt0aGlzLnN0YXRlLm5ld0xhYmVsfSBvbkNsaWNrPXt0aGlzLnN0b3BQcm9wYWdhdGlvbn1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdHdvLWxpbmUtdHJ1bmNhdGUgZHMtbGFiZWwgdGV4dC1sZWZ0JyB0aXRsZT17bGFiZWx9PlxuICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuJywgeyAnbXQtNCc6IG9yaWdpbmFsRGF0YVVybCB8fCB0aGlzLnByb3BzLmlzTWFwcGluZ0ljb25TaG93biB9KX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlzU2V0RHNcbiAgICAgICAgICAgICAgICAgICAgPyA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknIGNsYXNzTmFtZT0nbXItNiBwLTAgZHMtY2hpbGQtZHNzJyBvbkNsaWNrPXt0aGlzLm9uQ2hpbGREYXRhSWNvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY29udGFpbkxheWVyc1dpdGhOdW0nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNvbnRhaW5MYXllcnNXaXRoTnVtIH0sIHsgbGF5ZXJOdW06IGNoaWxkRHNzTGVuZ3RoIH0pfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYXllckZpbGxlZCBzaXplPSdtJyBjbGFzc05hbWU9J21yLTEnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2FsaWduLW1pZGRsZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZERzc0xlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlzUmVsYXRlZFdpZGdldHNTaG93blxuICAgICAgICAgICAgICAgICAgICA/IDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXJ0aWFyeScgY2xhc3NOYW1lPSdwLTAgZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSBmbGV4LXJvdyBkcy1yZWxhdGVkLXdpZGdldHMnIG9uQ2xpY2s9e3RoaXMub25SZWxhdGVkV2lkZ2V0c0ljb25DbGlja31cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncmVsYXRlZFdpZGdldHNXaXRoTnVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5yZWxhdGVkV2lkZ2V0c1dpdGhOdW1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0bHlOdW06IHJlbGF0ZWRXaWRnZXRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxOdW06IGFsbFJlbGF0ZWRXaWRnZXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxXaWRnZXRGaWxsZWQgc2l6ZT0nbScgY2xhc3NOYW1lPSdtci0xJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdhbGlnbi1taWRkbGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YCR7cmVsYXRlZFdpZGdldHMubGVuZ3RofSAvICR7YWxsUmVsYXRlZFdpZGdldHMubGVuZ3RofWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxEYXRhVXJsXG4gICAgICAgICAgICAgICAgICA/IDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nIGljb24gdHlwZT0ndGVydGlhcnknIGNsYXNzTmFtZT0nZHMtb3JpZ2luLWxhYmVsJyBocmVmPXtvcmlnaW5hbERhdGFVcmx9IHRhcmdldD0nX2JsYW5rJyBvbkNsaWNrPXt0aGlzLnN0b3BQcm9wYWdhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzb3VyY2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNvdXJjZSB9LCB7IGRpcmVjdGx5TnVtOiByZWxhdGVkV2lkZ2V0cy5sZW5ndGgsIHRvdGFsTnVtOiBhbGxSZWxhdGVkV2lkZ2V0cy5sZW5ndGggfSl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQcmV2aWV3T3V0bGluZWQgY2xhc3NOYW1lPSdtLTAnIHNpemU9J20nIC8+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IERhdGFTb3VyY2VJdGVtUHJvcHMpOiBTdGF0ZUV4dHJhUHJvcHMgPT4ge1xuICBjb25zdCBhcHBTdGF0ZSA9IHdpbmRvdz8uamltdUNvbmZpZz8uaXNCdWlsZGVyID8gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgOiBzdGF0ZVxuICBpZiAob3duUHJvcHMuaXNSZWxhdGVkV2lkZ2V0c1Nob3duKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZGdldHM6IGFwcFN0YXRlPy5hcHBDb25maWc/LndpZGdldHNcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuZXhwb3J0IGNvbnN0IERhdGFTb3VyY2VJdGVtID0gUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlRXh0cmFQcm9wcywgdW5rbm93biwgRGF0YVNvdXJjZUl0ZW1Qcm9wcz4obWFwU3RhdGVUb1Byb3BzKShpbmplY3RJbnRsKHdpdGhTdHlsZXMoX0RhdGFTb3VyY2VJdGVtLCAnRGF0YVNvdXJjZUl0ZW0nKSkpXG4iLCJpbXBvcnQge1xuICBSZWFjdCwgdHlwZSBEYXRhU291cmNlLCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEludGxTaGFwZSwgY2xhc3NOYW1lcywgdHlwZSBVc2VEYXRhU291cmNlLCB0eXBlIFdpZGdldEpzb24sIGdldEFwcFN0b3JlLCBMYXlvdXRJdGVtVHlwZSxcbiAgRGF0YVNvdXJjZU1hbmFnZXIsIEltbXV0YWJsZSwgQ09OU1RBTlRTLCBkYXRhU291cmNlVXRpbHNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQnV0dG9uLCBJY29uIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IHNlYXJjaFV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBpbnRsOiBJbnRsU2hhcGVcbiAgZHM6IERhdGFTb3VyY2VcbiAgd2lkZ2V0SWQ/OiBzdHJpbmdcbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBpc011bHRpcGxlPzogYm9vbGVhblxuICBvbkNoYW5nZT86ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB2b2lkXG4gIG9uQ2xpY2tEaXNhYmxlZERzSXRlbT86ICgpID0+IHZvaWRcbiAgZGlzYWJsZVNlbGVjdGlvbj86IGJvb2xlYW5cbiAgZGlzYWJsZVJlbW92ZT86IGJvb2xlYW5cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERzSXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIHVua25vd24+IHtcbiAgZ2V0V2hldGhlclNlbGVjdGVkID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuc29tZSh1c2VEcyA9PiB7XG4gICAgICBjb25zdCBkc0lkID0gdXNlRHM/Lm1haW5EYXRhU291cmNlSWQgfHwgdXNlRHM/LmRhdGFTb3VyY2VJZFxuICAgICAgcmV0dXJuIGRzSWQgPT09IHRoaXMucHJvcHMuZHMuZ2V0TWFpbkRhdGFTb3VyY2UoKS5pZFxuICAgIH0pXG4gIH1cblxuICBnZXRQYXJlbnRXaWRnZXQgPSAod2lkZ2V0SWQ6IHN0cmluZyk6IFdpZGdldEpzb24gPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZ1xuICAgIGlmICghY29uZmlnIHx8ICF3aWRnZXRJZCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCB3aWRnZXRzID0gY29uZmlnLndpZGdldHMgPz8gSW1tdXRhYmxlKHt9KVxuICAgIGNvbnN0IHBhc3NEYXRhU291cmNlVG9DaGlsZHJlbldpZGdldHM6IFdpZGdldEpzb25bXSA9IChPYmplY3QudmFsdWVzKHdpZGdldHMpKS5maWx0ZXIodyA9PiB3LnVzZURhdGFTb3VyY2VzICYmIHcubGF5b3V0cyAmJiB3Lm1hbmlmZXN0LnByb3BlcnRpZXM/LnBhc3NEYXRhU291cmNlVG9DaGlsZHJlbilcblxuICAgIGlmIChwYXNzRGF0YVNvdXJjZVRvQ2hpbGRyZW5XaWRnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBsZXQgY2hpbGRXaWRnZXRzID0gW11cbiAgICBjb25zdCBwYXJlbnRXaWRnZXQgPSBwYXNzRGF0YVNvdXJjZVRvQ2hpbGRyZW5XaWRnZXRzLmZpbmQodyA9PiB7XG4gICAgICBjaGlsZFdpZGdldHMgPSBzZWFyY2hVdGlscy5nZXRDaGlsZHJlbkNvbnRlbnRzKGNvbmZpZywgdy5pZCwgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LCB0cnVlKVxuICAgICAgcmV0dXJuIGNoaWxkV2lkZ2V0cyAmJiBjaGlsZFdpZGdldHMuc29tZShjVyA9PiBjVy5pZCA9PT0gd2lkZ2V0SWQpXG4gICAgfSkgfHwgbnVsbFxuXG4gICAgcmV0dXJuIHBhcmVudFdpZGdldFxuICB9XG5cbiAgZ2V0VXNlRHNXaXRob3V0RmllbGRzID0gKHVzZURzOiBVc2VEYXRhU291cmNlKTogVXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgaWYgKCF1c2VEcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCB1c2VEc1dpdGhvdXRGaWVsZHMgPSB7fVxuICAgIE9iamVjdC5rZXlzKHVzZURzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoa2V5ICE9PSAnZmllbGRzJykge1xuICAgICAgICB1c2VEc1dpdGhvdXRGaWVsZHNba2V5XSA9IHVzZURzW2tleV1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZ2V0VXNlRHMgPSAoKTogVXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgbGV0IHVzZURzOiBVc2VEYXRhU291cmNlID0ge1xuICAgICAgZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRzLmlkLFxuICAgICAgbWFpbkRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kcy5pZFxuICAgIH1cbiAgICAvLyBUT0RPOiBjYW4gaGF2ZSBncmFuZHBhcmVudD9cbiAgICBjb25zdCBwYXJlbnRXaWRnZXQ6IFdpZGdldEpzb24gPSB0aGlzLmdldFBhcmVudFdpZGdldCh0aGlzLnByb3BzLndpZGdldElkKVxuICAgIGNvbnN0IHBhcmVudFdpZGdldFVzZURzczogVXNlRGF0YVNvdXJjZVtdID0gcGFyZW50V2lkZ2V0Py51c2VEYXRhU291cmNlcyB8fCBbXVxuICAgIGNvbnN0IHVzZURzSW5QYXJlbnRXaWRnZXQ6IFVzZURhdGFTb3VyY2UgPSBwYXJlbnRXaWRnZXRVc2VEc3MuZmluZCh1ID0+IHtcbiAgICAgIGNvbnN0IGRzT2JqID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHUuZGF0YVNvdXJjZUlkKVxuICAgICAgY29uc3QgbWFpbkRzT2JqID0gZHNPYmogJiYgZHNPYmouZ2V0TWFpbkRhdGFTb3VyY2UoKVxuICAgICAgcmV0dXJuIG1haW5Ec09iaiAmJiBtYWluRHNPYmouaWQgPT09IHVzZURzLm1haW5EYXRhU291cmNlSWRcbiAgICB9KVxuICAgIGlmICh1c2VEc0luUGFyZW50V2lkZ2V0KSB7IC8vIHVzZSBkYXRhIHNvdXJjZSBpcyBvbmUgb2YgcGFyZW50IHdpZGdldCdzIHVzZSBkYXRhIHNvdXJjZXNcbiAgICAgIHVzZURzID0gdGhpcy5nZXRVc2VEc1dpdGhvdXRGaWVsZHModXNlRHNJblBhcmVudFdpZGdldCkgLy8ga2VlcCBzYW1lIHZpZXcgd2l0aCBwYXJlbnQgd2lkZ2V0XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJvb3REcyA9IHRoaXMucHJvcHMuZHMuZ2V0Um9vdERhdGFTb3VyY2UgJiYgdGhpcy5wcm9wcy5kcy5nZXRSb290RGF0YVNvdXJjZSgpXG4gICAgICBpZiAocm9vdERzKSB7XG4gICAgICAgIHVzZURzLnJvb3REYXRhU291cmNlSWQgPSByb290RHMuaWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5kcy5nZXREYXRhU291cmNlSnNvbigpLmlzT3V0cHV0RnJvbVdpZGdldCkge1xuICAgICAgLy8gSWYgb3V0cHV0IGRhdGEgc291cmNlLCB3aWRnZXRzIHNob3VsZCB1c2Ugb3V0cHV0IHZpZXcsIGlzdGVhZCBvZiB0aGUgbWFpbiBkYXRhIHNvdXJjZS5cbiAgICAgIHVzZURzLm1haW5EYXRhU291cmNlSWQgPSB0aGlzLnByb3BzLmRzLmdldE1haW5EYXRhU291cmNlKCkuaWRcbiAgICAgIHVzZURzLmRhdGFTb3VyY2VJZCA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQodXNlRHMubWFpbkRhdGFTb3VyY2VJZCwgQ09OU1RBTlRTLk9VVFBVVF9EQVRBX1ZJRVdfSUQpXG4gICAgICB1c2VEcy5kYXRhVmlld0lkID0gQ09OU1RBTlRTLk9VVFBVVF9EQVRBX1ZJRVdfSURcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlRHNcbiAgfVxuXG4gIGdldERzTGFiZWwgPSAoZHM6IERhdGFTb3VyY2UpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghZHMpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICBjb25zdCBsYWJlbCA9IGRzLmdldExhYmVsKClcbiAgICByZXR1cm4gbGFiZWwgfHwgZHMuaWRcbiAgfVxuXG4gIG9uSXRlbUNsaWNrID0gZSA9PiB7XG4gICAgaWYgKHRoaXMuZ2V0V2hldGhlclNlbGVjdGVkKCkpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVSZW1vdmUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLm9uRHNSZW1vdmVkKHRoaXMuZ2V0VXNlRHMoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkNsaWNrRGlzYWJsZWREc0l0ZW0pIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2tEaXNhYmxlZERzSXRlbSgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLm9uRHNTZWxlY3RlZCh0aGlzLmdldFVzZURzKCkpXG4gICAgfVxuICB9XG5cbiAgb25Ec1NlbGVjdGVkID0gKHNlbGVjdGVkRHM6IFVzZURhdGFTb3VyY2UpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkRHMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdXG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzIHx8ICF0aGlzLnByb3BzLmlzTXVsdGlwbGUpIHtcbiAgICAgIHVzZURhdGFTb3VyY2VzID0gW3NlbGVjdGVkRHNdXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pLmNvbmNhdChzZWxlY3RlZERzKVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlICYmIHRoaXMucHJvcHMub25DaGFuZ2UodXNlRGF0YVNvdXJjZXMpXG4gIH1cblxuICBvbkRzUmVtb3ZlZCA9IChyZW1vdmVkRHM6IFVzZURhdGFTb3VyY2UpID0+IHtcbiAgICBpZiAoIXJlbW92ZWREcyB8fCAhdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWREc0pzb25zID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcy5maWx0ZXIodXNlRHMgPT4gdXNlRHM/Lm1haW5EYXRhU291cmNlSWQgIT09IHJlbW92ZWREcy5tYWluRGF0YVNvdXJjZUlkKVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKHNlbGVjdGVkRHNKc29ucy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZHMgfHwgIXRoaXMucHJvcHMuZHMuZ2V0RGF0YVNvdXJjZUpzb24oKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5nZXRXaGV0aGVyU2VsZWN0ZWQoKVxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZXREc0xhYmVsKHRoaXMucHJvcHMuZHMpXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b24gdHlwZT0ndGVydGlhcnknIG9uQ2xpY2s9e3RoaXMub25JdGVtQ2xpY2t9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZHMtaXRlbSB0ZXh0LWxlZnQnLCB7ICdkcy1pdGVtLXNlbGVjdGVkJzogaXNTZWxlY3RlZCwgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX1cbiAgICAgICAgYXJpYS1jaGVja2VkPXtpc1NlbGVjdGVkfSBhcmlhLWxhYmVsPXtsYWJlbH0gdGl0bGU9e2xhYmVsfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7ICdpdGVtLWFjdGl2ZS1pY29uJzogaXNTZWxlY3RlZCB9LCB7ICdkLW5vbmUnOiAhaXNTZWxlY3RlZCB9KX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIGl0ZW0tYWN0aXZlLWljb24tY29udGFpbmVyJz48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHctMTAwIGl0ZW0nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgZmxleC1zaHJpbmstMCBkcy10aHVtYm5haWwnIHRpdGxlPXtkYXRhU291cmNlVXRpbHMuZ2V0RHNUeXBlU3RyaW5nKHRoaXMucHJvcHMuZHM/LnR5cGUsIHRoaXMucHJvcHMuaW50bCl9PlxuICAgICAgICAgICAgPEljb24gaWNvbj17ZGF0YVNvdXJjZVV0aWxzLmdldERzSWNvbih0aGlzLnByb3BzLmRzLmdldERhdGFTb3VyY2VKc29uKCkpfSBjbGFzc05hbWU9J3RleHQtZGFyayBtLTAnIHNpemU9JzEyJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWdyb3ctMSB0ZXh0LXRydW5jYXRlIHBsLTIgZHMtdHlwZSc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSBkcy10eXBlLW5hbWUnPlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IFJlYWN0LCB0eXBlIEludGxTaGFwZSwgdHlwZSBJbW11dGFibGVBcnJheSwgSW1tdXRhYmxlLCB0eXBlIEFsbERhdGFTb3VyY2VUeXBlcywgZGF0YVNvdXJjZVV0aWxzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU2VsZWN0LCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBnZXRTb3J0ZWRMYWJlbHMgfSBmcm9tICcuLi8uLi91dGlscydcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdG9Vc2VUeXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPlxuICBzZWxlY3RlZFR5cGVzOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+XG4gIGhpZGVBbGxPcHRpb25PZlR5cGVEcm9wZG93bjogYm9vbGVhblxuICBpbnRsOiBJbnRsU2hhcGVcbiAgb25UeXBlU2VsZWN0ZWQ6ICh0eXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPikgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEc1R5cGVzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgdW5rbm93bj4ge1xuICBfX3VubW91bnQgPSBmYWxzZVxuXG4gIGdldFdoZXRoZXJEaXNhYmxlU2VsZWN0aW9uVHlwZSA9ICh0eXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0eXBlcy5sZW5ndGggPD0gMVxuICB9XG5cbiAgb25UeXBlU2VsZWN0ZWQgPSBlID0+IHtcbiAgICBjb25zdCB0ID0gZS50YXJnZXQudmFsdWUgYXMgQWxsRGF0YVNvdXJjZVR5cGVzIHwgJ0FsbCdcbiAgICBsZXQgdHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgICBpZiAodCA9PT0gJ0FsbCcpIHtcbiAgICAgIHR5cGVzID0gbnVsbFxuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlcyA9IEltbXV0YWJsZShbdF0pXG4gICAgfVxuICAgIHRoaXMucHJvcHMub25UeXBlU2VsZWN0ZWQodHlwZXMpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHR5cGVzID0gdGhpcy5wcm9wcy50b1VzZVR5cGVzXG4gICAgICA/IEltbXV0YWJsZShBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5wcm9wcy50b1VzZVR5cGVzLmFzTXV0YWJsZSgpKSkpXG4gICAgICA6IEltbXV0YWJsZShbXSlcbiAgICBjb25zdCBoaWRlQWxsID0gdGhpcy5wcm9wcy5oaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd25cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgdG8tdXNlLXR5cGVzJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21yLTIgdy0yNSB0ZXh0LXRydW5jYXRlJyB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3R5cGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnR5cGUgfSl9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndHlwZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMudHlwZSB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLmdldFdoZXRoZXJEaXNhYmxlU2VsZWN0aW9uVHlwZSh0eXBlcylcbiAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9J3R5cGVzLXNlbGVjdGVkIHRleHQtdHJ1bmNhdGUgbXItMScgdGl0bGU9e2RhdGFTb3VyY2VVdGlscy5nZXREc1R5cGVTdHJpbmcodHlwZXNbMF0sIHRoaXMucHJvcHMuaW50bCl9PlxuICAgICAgICAgICAgICB7ZGF0YVNvdXJjZVV0aWxzLmdldERzVHlwZVN0cmluZyh0eXBlc1swXSwgdGhpcy5wcm9wcy5pbnRsKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOiA8U2VsZWN0XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnNlbGVjdGVkVHlwZXM/LlswXSB8fCAnQWxsJ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25UeXBlU2VsZWN0ZWR9IGNsYXNzTmFtZT0nZmxleC1zaHJpbmstMCB0by11c2UtZHAnXG4gICAgICAgICAgICAgIGJ1dHRvblByb3BzPXt7IGNsYXNzTmFtZTogJ3RleHQtdHJ1bmNhdGUgaC0xMDAnIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnZXRTb3J0ZWRMYWJlbHModHlwZXMuYXNNdXRhYmxlKCkpLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIHZhbHVlPXt0fSBrZXk9e3R9PntkYXRhU291cmNlVXRpbHMuZ2V0RHNUeXBlU3RyaW5nKHQgYXMgQWxsRGF0YVNvdXJjZVR5cGVzLCB0aGlzLnByb3BzLmludGwpfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICFoaWRlQWxsICYmIHR5cGVzICYmIHR5cGVzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdBbGwnPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnYWxsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hbGwgfSl9PC9vcHRpb24+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IFJlYWN0LCB0eXBlIEltbXV0YWJsZUFycmF5LCBnZXRBcHBTdG9yZSwgdHlwZSBJbnRsU2hhcGUsIGNsYXNzTmFtZXMsIHR5cGUgVXNlRGF0YVNvdXJjZSwgZGF0YVNvdXJjZVV0aWxzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2ppbXUtdWknXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGRzSWQ6IHN0cmluZ1xuICBpbnRsOiBJbnRsU2hhcGVcbiAgd2lkZ2V0SWQ/OiBzdHJpbmdcbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBpc011bHRpcGxlPzogYm9vbGVhblxuICBvbkNoYW5nZT86ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB2b2lkXG4gIGRpc2FibGVTZWxlY3Rpb24/OiBib29sZWFuXG4gIGRpc2FibGVSZW1vdmU/OiBib29sZWFuXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEc0Vycm9ySXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIHVua25vd24+IHtcbiAgZ2V0V2hldGhlclNlbGVjdGVkID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuc29tZSh1c2VEcyA9PiB7XG4gICAgICBjb25zdCBkc0lkID0gdXNlRHM/Lm1haW5EYXRhU291cmNlSWQgfHwgdXNlRHM/LmRhdGFTb3VyY2VJZFxuICAgICAgcmV0dXJuIGRzSWQgPT09IHRoaXMucHJvcHMuZHNJZFxuICAgIH0pXG4gIH1cblxuICBnZXRVc2VEcyA9ICgpOiBVc2VEYXRhU291cmNlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRzSWQsXG4gICAgICBtYWluRGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRzSWRcbiAgICB9XG4gIH1cblxuICBvbkl0ZW1DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5nZXRXaGV0aGVyU2VsZWN0ZWQoKSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVJlbW92ZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRoaXMub25Ec1JlbW92ZWQodGhpcy5nZXRVc2VEcygpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5vbkRzU2VsZWN0ZWQodGhpcy5nZXRVc2VEcygpKVxuICAgIH1cbiAgfVxuXG4gIG9uRHNTZWxlY3RlZCA9IChzZWxlY3RlZERzOiBVc2VEYXRhU291cmNlKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZERzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXVxuICAgIGlmICghdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyB8fCAhdGhpcy5wcm9wcy5pc011bHRpcGxlKSB7XG4gICAgICB1c2VEYXRhU291cmNlcyA9IFtzZWxlY3RlZERzXVxuICAgIH0gZWxzZSB7XG4gICAgICB1c2VEYXRhU291cmNlcyA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoc2VsZWN0ZWREcylcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKHVzZURhdGFTb3VyY2VzKVxuICB9XG5cbiAgb25Ec1JlbW92ZWQgPSAocmVtb3ZlZERzOiBVc2VEYXRhU291cmNlKSA9PiB7XG4gICAgaWYgKCFyZW1vdmVkRHMgfHwgIXRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkRHNKc29ucyA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuZmlsdGVyKHVzZURzID0+IHVzZURzPy5kYXRhU291cmNlSWQgIT09IHJlbW92ZWREcy5kYXRhU291cmNlSWQpXG5cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlICYmIHRoaXMucHJvcHMub25DaGFuZ2Uoc2VsZWN0ZWREc0pzb25zLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5kc0lkKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5nZXRXaGV0aGVyU2VsZWN0ZWQoKVxuICAgIGNvbnN0IHN0YXRlID0gZ2V0QXBwU3RvcmUoKSAmJiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKClcbiAgICBjb25zdCBkYXRhU291cmNlcyA9IHN0YXRlICYmIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyICYmIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyLmFwcENvbmZpZyAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWcuZGF0YVNvdXJjZXNcbiAgICBjb25zdCBkc0pzb24gPSBkYXRhU291cmNlcyAmJiBkYXRhU291cmNlc1t0aGlzLnByb3BzLmRzSWRdXG4gICAgaWYgKCFkc0pzb24pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IGxhYmVsID0gZHNKc29uLmxhYmVsIHx8IGRzSnNvbi5zb3VyY2VMYWJlbCB8fCBkc0pzb24uaWQgfHwgJydcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLm9uSXRlbUNsaWNrfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2RzLWl0ZW0gZHMtZXJyb3ItaXRlbScsIHsgJ2RzLWl0ZW0tc2VsZWN0ZWQnOiBpc1NlbGVjdGVkLCBbdGhpcy5wcm9wcy5jbGFzc05hbWVdOiAhIXRoaXMucHJvcHMuY2xhc3NOYW1lIH0pfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgdy0xMDAgaXRlbSc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBmbGV4LXNocmluay0wIGRzLXRodW1ibmFpbCc+XG4gICAgICAgICAgICA8SWNvbiBpY29uPXtkYXRhU291cmNlVXRpbHMuZ2V0RHNJY29uKGRzSnNvbil9IGNsYXNzTmFtZT0ndGV4dC1kYXJrJyBzaXplPScxMicgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSBwbC0yIGRzLXR5cGUnPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUgZHMtdHlwZS1uYW1lJyB0aXRsZT17bGFiZWx9PlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IHR5cGUgRGF0YVNvdXJjZSwgUmVhY3QsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgSW50bFNoYXBlLCB0eXBlIFVzZURhdGFTb3VyY2UsIGRhdGFTb3VyY2VVdGlscyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEljb24gfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgRGF0YVNvdXJjZUl0ZW0gZnJvbSAnLi4vY29tbW9uL2RzLWl0ZW0nXG5pbXBvcnQgeyBEYXRhU291cmNlVHJlZSB9IGZyb20gJy4uLy4uLy4uL2RhdGEtc291cmNlLXRyZWUnXG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGluQWxsVG9Vc2VEc3M6IChkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+KSA9PiBib29sZWFuXG4gIGlzT3BlbjogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBkczogRGF0YVNvdXJjZVxuICAvKipcbiAgICogQWxsIFt0by11c2UgZGF0YSBzb3VyY2VzXSguLi9kcy1hZGQtZGF0YS50c3gpLlxuICAgKiBVc2UgdGhlIGFycmF5IHRvIGdldCB3aGV0aGVyIGEgZGF0YSBzb3VyY2UgY2FuIGJlIGxpc3QgaGVyZSBhbmQgc2VsZWN0LlxuICAgKi9cbiAgYWxsVG9Vc2VEc3M6IERhdGFTb3VyY2VbXVxuICBpbnRsOiBJbnRsU2hhcGVcbiAgd2lkZ2V0SWQ6IHN0cmluZ1xuICBpc011bHRpcGxlOiBib29sZWFuXG4gIGlzU2VhcmNoaW5nOiBib29sZWFuXG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBkaXNhYmxlU2VsZWN0aW9uOiBib29sZWFuXG4gIGRpc2FibGVSZW1vdmU6IGJvb2xlYW5cbiAgb25DaGFuZ2U6ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB2b2lkXG4gIG9uQ2xpY2tEaXNhYmxlZERzSXRlbT86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHNJdGVtVHJlZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluQWxsVG9Vc2VEc3M6IGRzID0+IHRoaXMucHJvcHMuYWxsVG9Vc2VEc3Muc29tZShkID0+IGQuaWQgPT09IGRzLmlkKSxcbiAgICAgIGlzT3BlbjogdGhpcy5wcm9wcy5pc1NlYXJjaGluZ1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMuYWxsVG9Vc2VEc3MgIT09IHRoaXMucHJvcHMuYWxsVG9Vc2VEc3MpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpbkFsbFRvVXNlRHNzOiBkcyA9PiB0aGlzLnByb3BzLmFsbFRvVXNlRHNzLnNvbWUoZCA9PiBkLmlkID09PSBkcy5pZClcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmlzU2VhcmNoaW5nICE9PSBwcmV2UHJvcHMuaXNTZWFyY2hpbmcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IHRoaXMucHJvcHMuaXNTZWFyY2hpbmcgfSlcbiAgICB9XG4gIH1cblxuICByZW5kZXJEc0l0ZW0gPSAoZHM6IERhdGFTb3VyY2UpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPERhdGFTb3VyY2VJdGVtXG4gICAgICAgIHVzZURhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzfSBkcz17ZHN9IHdpZGdldElkPXt0aGlzLnByb3BzLndpZGdldElkfVxuICAgICAgICBrZXk9e2RzLmlkfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfSBjbGFzc05hbWU9J3ctMTAwJ1xuICAgICAgICBvbkNsaWNrRGlzYWJsZWREc0l0ZW09e3RoaXMucHJvcHMub25DbGlja0Rpc2FibGVkRHNJdGVtfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXJEc0xhYmVsID0gKGxhYmVsOiBzdHJpbmcsIGRhdGFTb3VyY2U6IERhdGFTb3VyY2UsIGlzUm9vdFRyZWU6IGJvb2xlYW4pID0+IHtcbiAgICAvKipcbiAgICAgKiBJZiBpcyByb290IG5vZGUsIHVzZSByb290IGRzIHRvIGdldCBpY29uLCBlbHNlLCB1c2UgY3VycmVudCBjaGlsZCBkcyB0byBnZXQgaWNvbi5cbiAgICAgKi9cbiAgICBjb25zdCBkcyA9IGlzUm9vdFRyZWUgPyB0aGlzLnByb3BzLmRzIDogZGF0YVNvdXJjZVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IHctMTAwJyB0aXRsZT17bGFiZWx9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGZsZXgtc2hyaW5rLTAgZHMtdGh1bWJuYWlsJyB0aXRsZT17ZGF0YVNvdXJjZVV0aWxzLmdldERzVHlwZVN0cmluZyhkcz8udHlwZSwgdGhpcy5wcm9wcy5pbnRsKX0+XG4gICAgICAgICAgPEljb24gaWNvbj17ZGF0YVNvdXJjZVV0aWxzLmdldERzSWNvbihkcz8uZ2V0RGF0YVNvdXJjZUpzb24oKSl9IGNsYXNzTmFtZT0ndGV4dC1kYXJrJyBzaXplPScxMicgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWdyb3ctMSB0ZXh0LXRydW5jYXRlIHBsLTIgZHMtdHlwZSc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUgZHMtdHlwZS1uYW1lJz5cbiAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDaGlsZERhdGFTb3VyY2VzID0gKGRzOiBEYXRhU291cmNlKTogRGF0YVNvdXJjZVtdID0+IHtcbiAgICBpZiAoZHM/LmlzRGF0YVNvdXJjZVNldCkge1xuICAgICAgcmV0dXJuIGRzLmdldENoaWxkRGF0YVNvdXJjZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCA9IChkczogRGF0YVNvdXJjZSk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGRzPy5nZXRMYWJlbCgpIHx8IGRzPy5pZFxuICB9XG5cbiAgdG9nZ2xlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46ICF0aGlzLnN0YXRlLmlzT3BlbiB9KVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZHMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYi00Jz5cbiAgICAgICAgPERhdGFTb3VyY2VUcmVlXG4gICAgICAgICAgZGF0YVNvdXJjZT17dGhpcy5wcm9wcy5kc31cbiAgICAgICAgICB1c2VEYXRhU291cmNlcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlc31cbiAgICAgICAgICBpc05vZGVTZWxlY3RhYmxlPXt0aGlzLnN0YXRlLmluQWxsVG9Vc2VEc3N9XG4gICAgICAgICAgcmVuZGVyU2VsZWN0YWJsZU5vZGU9e3RoaXMucmVuZGVyRHNJdGVtfVxuICAgICAgICAgIHJlbmRlclVuc2VsZWN0YWJsZU5vZGU9e3RoaXMucmVuZGVyRHNMYWJlbH1cbiAgICAgICAgICB1c2VEZWZhdWx0QmFja2dyb3VuZFxuICAgICAgICAgIGdldENoaWxkRGF0YVNvdXJjZXM9e3RoaXMuZ2V0Q2hpbGREYXRhU291cmNlc31cbiAgICAgICAgICBnZXRMYWJlbD17dGhpcy5nZXRMYWJlbH1cbiAgICAgICAgICAvLyBBZnRlciBjbGVhcmluZyBzZWFyY2ggdmFsdWUsIG5lZWQgdG8gZ28gYmFjayB0byBzdGF0dXMgYmVmb3JlIHNlYXJjaGluZy5cbiAgICAgICAgICBpc09wZW49e3RoaXMucHJvcHMuaXNTZWFyY2hpbmcgPyB0aGlzLnN0YXRlLmlzT3BlbiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICB0b2dnbGU9e3RoaXMucHJvcHMuaXNTZWFyY2hpbmcgPyB0aGlzLnRvZ2dsZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgdHlwZSBEYXRhU291cmNlLCBSZWFjdCwgdHlwZSBJbW11dGFibGVBcnJheSwgdHlwZSBJbnRsU2hhcGUsIERhdGFTb3VyY2VNYW5hZ2VyLCBkYXRhU291cmNlVXRpbHMsIHR5cGUgVXNlRGF0YVNvdXJjZSB9IGZyb20gJ2ppbXUtY29yZSdcblxuaW1wb3J0IERhdGFTb3VyY2VFcnJvckl0ZW0gZnJvbSAnLi9kcy1lcnJvci1pdGVtJ1xuaW1wb3J0IERzSXRlbVRyZWUgZnJvbSAnLi9kcy1pdGVtLXRyZWUnXG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGlzVHlwZURyb3Bkb3duT3BlbjogYm9vbGVhblxuICBzZWxlY3RlZEVycm9yRHNzOiBzdHJpbmdbXVxufVxuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBpbnRsOiBJbnRsU2hhcGVcbiAgcm9vdERzczogRGF0YVNvdXJjZVtdXG4gIGFsbFRvVXNlRHNzOiBEYXRhU291cmNlW11cbiAgd2lkZ2V0SWQ6IHN0cmluZ1xuICBzaG93RXJyb3JEc3M6IGJvb2xlYW5cbiAgdXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XG4gIGlzTXVsdGlwbGU6IGJvb2xlYW5cbiAgaXNTZWFyY2hpbmc6IGJvb2xlYW5cbiAgZGlzYWJsZVNlbGVjdGlvbjogYm9vbGVhblxuICBkaXNhYmxlUmVtb3ZlOiBib29sZWFuXG4gIG9uQ2hhbmdlOiAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4gdm9pZFxuICBvbkNsaWNrRGlzYWJsZWREc0l0ZW0/OiAoKSA9PiB2b2lkXG4gIGNoYW5nZUhhc0Vycm9yU2VsZWN0ZWREc3M6IChoYXNFcnJvckRzczogYm9vbGVhbikgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEc0xpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBkc01hbmFnZXI6IERhdGFTb3VyY2VNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzVHlwZURyb3Bkb3duT3BlbjogZmFsc2UsXG4gICAgICBzZWxlY3RlZEVycm9yRHNzOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dFcnJvckRzcykge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRFcnJvckRzcyA9IHRoaXMuZ2V0U2VsZWN0ZWRFcnJvckRzcygpXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRFcnJvckRzcyB9KVxuICAgICAgaWYgKHNlbGVjdGVkRXJyb3JEc3MgJiYgc2VsZWN0ZWRFcnJvckRzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMucHJvcHMuY2hhbmdlSGFzRXJyb3JTZWxlY3RlZERzcyAmJiB0aGlzLnByb3BzLmNoYW5nZUhhc0Vycm9yU2VsZWN0ZWREc3ModHJ1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuY2hhbmdlSGFzRXJyb3JTZWxlY3RlZERzcyAmJiB0aGlzLnByb3BzLmNoYW5nZUhhc0Vycm9yU2VsZWN0ZWREc3MoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd0Vycm9yRHNzKSB7XG4gICAgICBpZiAoKCF0aGlzLnN0YXRlLnNlbGVjdGVkRXJyb3JEc3MgfHwgdGhpcy5zdGF0ZS5zZWxlY3RlZEVycm9yRHNzLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgKCFwcmV2UHJvcHMudXNlRGF0YVNvdXJjZXMgfHwgcHJldlByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggIT09IDApKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkRXJyb3JEc3MgPSB0aGlzLmdldFNlbGVjdGVkRXJyb3JEc3MoKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRFcnJvckRzcyB9KVxuICAgICAgICBpZiAoc2VsZWN0ZWRFcnJvckRzcyAmJiBzZWxlY3RlZEVycm9yRHNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmNoYW5nZUhhc0Vycm9yU2VsZWN0ZWREc3MgJiYgdGhpcy5wcm9wcy5jaGFuZ2VIYXNFcnJvclNlbGVjdGVkRHNzKHRydWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VIYXNFcnJvclNlbGVjdGVkRHNzICYmIHRoaXMucHJvcHMuY2hhbmdlSGFzRXJyb3JTZWxlY3RlZERzcyhmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFdoZXRoZXJTaG93U2luZ2xlRHNzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnJvb3REc3MgJiYgdGhpcy5wcm9wcy5yb290RHNzLmxlbmd0aCA+IDBcbiAgfVxuXG4gIGdldFNlbGVjdGVkRXJyb3JEc3MgPSAoKTogc3RyaW5nW10gPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzXG4gICAgICA/IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuYXNNdXRhYmxlKCkuZmlsdGVyKHVzZURzID0+IHtcbiAgICAgICAgcmV0dXJuICEodGhpcy5kc01hbmFnZXIgJiYgdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZSh1c2VEcz8ubWFpbkRhdGFTb3VyY2VJZCkpXG4gICAgICB9KS5tYXAodXNlRHMgPT4gdXNlRHMubWFpbkRhdGFTb3VyY2VJZClcbiAgICAgIDogbnVsbFxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2RzLWxpc3QgcHgtNCBwdC0xJyByb2xlPSdsaXN0Ym94Jz5cblxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3JEc3MgJiYgdGhpcy5zdGF0ZS5zZWxlY3RlZEVycm9yRHNzICYmXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEVycm9yRHNzLm1hcChkc0lkID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxEYXRhU291cmNlRXJyb3JJdGVtXG4gICAgICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9IGRzSWQ9e2RzSWR9IGtleT17ZHNJZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfSBkaXNhYmxlU2VsZWN0aW9uPXt0aGlzLnByb3BzLmRpc2FibGVTZWxlY3Rpb259IGRpc2FibGVSZW1vdmU9e3RoaXMucHJvcHMuZGlzYWJsZVJlbW92ZX1cbiAgICAgICAgICAgICAgICBpbnRsPXt0aGlzLnByb3BzLmludGx9IGNsYXNzTmFtZT0nbWItNCBtbC01JyB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMuZ2V0V2hldGhlclNob3dTaW5nbGVEc3MoKSAmJlxuICAgICAgICAgIGRhdGFTb3VyY2VVdGlscy5nZXRTb3J0ZWRBcnJheUJ5TGFiZWwodGhpcy5wcm9wcy5yb290RHNzKS5tYXAoZHMgPT4ge1xuICAgICAgICAgICAgaWYgKGRzICYmIGRzLmlkKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPERzSXRlbVRyZWVcbiAgICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzfSBkcz17ZHN9XG4gICAgICAgICAgICAgICAgICBrZXk9e2RzLmlkfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfSBhbGxUb1VzZURzcz17dGhpcy5wcm9wcy5hbGxUb1VzZURzc31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfVxuICAgICAgICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH0gaXNTZWFyY2hpbmc9e3RoaXMucHJvcHMuaXNTZWFyY2hpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrRGlzYWJsZWREc0l0ZW09e3RoaXMucHJvcHMub25DbGlja0Rpc2FibGVkRHNJdGVtfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG11bHRpbGluZS10ZXJuYXJ5ICovXG5pbXBvcnQgeyB0eXBlIERhdGFTb3VyY2UsIFJlYWN0LCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEludGxTaGFwZSwgRGF0YVNvdXJjZU1hbmFnZXIsIGdldEFwcFN0b3JlLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBEYXRhU291cmNlSnNvbiwgdHlwZSBVc2VEYXRhU291cmNlLCB0eXBlIElNRGF0YVNvdXJjZUpzb24sIHR5cGUgQWxsRGF0YVNvdXJjZVR5cGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IERzTGlzdCBmcm9tICcuL2RzLWxpc3QnXG5pbXBvcnQgeyBnZXRXaGV0aGVyVXNlRGF0YVNvdXJjZSwgZ2V0VG9Vc2VDaGlsZERzcywgZ2V0QWRkZWREYXRhVHlwZXMsIGdldEFsbFRvVXNlUm9vdERzcywgZ2V0QWxsVG9Vc2VEc3MsIERhdGFTb3VyY2VUYWIgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IGlzRnV6enlTZWFyY2gsIGlzRnV6enlGcm9tRHNJZHMgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscydcblxuaW1wb3J0IHsgRW1wdHlPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vZW1wdHknXG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHRvVXNlUm9vdERzczogRGF0YVNvdXJjZVtdXG4gIHRvVXNlQ2hpbGREc3M6IHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfVxuICBoYXNFcnJvclNlbGVjdGVkRHNzOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGlzRGF0YVNvdXJjZUluaXRlZDogYm9vbGVhblxuICBkYXRhU291cmNlczogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VKc29uIH0+XG4gIHR5cGVzOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+XG4gIHNlbGVjdGVkVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgaW50bDogSW50bFNoYXBlXG4gIHNlYXJjaFZhbHVlOiBzdHJpbmdcbiAgd2lkZ2V0SWQ6IHN0cmluZ1xuICBpc011bHRpcGxlOiBib29sZWFuXG4gIGhpZGVUeXBlRHJvcGRvd246IGJvb2xlYW5cbiAgaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duOiBib29sZWFuXG4gIGZyb21Sb290RHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz5cbiAgZnJvbURzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+XG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBkaXNhYmxlU2VsZWN0aW9uOiBib29sZWFuXG4gIGRpc2FibGVSZW1vdmU6IGJvb2xlYW5cbiAgaGlkZURzOiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiBib29sZWFuXG4gIHJlbW92ZURhdGFUYWI6ICh0YWI6IERhdGFTb3VyY2VUYWIpID0+IHZvaWRcbiAgYWRkRGF0YVRhYjogKHRhYjogRGF0YVNvdXJjZVRhYikgPT4gdm9pZFxuICBvbkNoYW5nZTogKHVzZURhdGFTb3VyY2VzOiBVc2VEYXRhU291cmNlW10pID0+IHZvaWRcbiAgb25DbGlja0Rpc2FibGVkRHNJdGVtPzogKCkgPT4gdm9pZFxufVxuXG4vKipcbiAqIFByZXBhcmUgYWxsIG5lZWRlZCBkYXRhIGluIHRoZSBjb21wb25lbnQsIGluY2x1ZGluZyB0by11c2Ugcm9vdCBkYXRhIHNvdXJjZXMsIHRvLXVzZSBjaGlsZCBkYXRhIHNvdXJjZXMgKGluY2x1ZGluZyBkZXNjZW5kYW50IGRhdGEgc291cmNlcykuXG4gKiAqKlRvLXVzZSBkYXRhIHNvdXJjZSoqIG1lYW5zIHRoZSBkYXRhIHNvdXJjZSBtZWV0cyBhbGwgb2YgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFuZCBpdCBjYW4gYmUgbGlzdCBoZXJlOlxuICogMS4gdHlwZSBvZiB0aGUgZGF0YSBzb3VyY2UgaXMgaW4gYHNlbGVjdGVkVHlwZXNgIGFycmF5IChpZiB0aGVyZSBpcyBgc2VsZWN0ZWRUeXBlc2ApLCBvciwgaW4gYHR5cGVzYCBhcnJheVxuICogMi4gbGFiZWwgb2YgdGhlIGRhdGEgc291cmNlIG1hdGNoZXMgdGhlIGBzZWFyY2hWYWx1ZWAgKGlmIHRoZXJlIGlzIGBzZWFyY2hWYWx1ZWApXG4gKiAzLiBwYXJlbnQgZGF0YSBzb3VyY2Ugb2YgdGhlIGRhdGEgc291cmNlIGlzIGluIGBmcm9tUm9vdERzSWRzYCBhcnJheSAoaWYgdGhlcmUgaXMgYGZyb21Sb290RHNJZHNgKVxuICogNC4gdGhlIGRhdGEgc291cmNlIGlzIGluIGBmcm9tRHNJZHNgIGFycmF5IChpZiB0aGVyZSBpcyBgZnJvbURzSWRzYClcbiAqXG4gKiBUaGUgcmVhc29ucyB3aHkgcHJlcGFyZSB0aGUgbmVlZGVkIGRhdGEgaGVyZSByYXRoZXIgdGhhbiBpbiB0aGUgY29tcG9uZW50IHdoaWNoIHVzZSB0aGUgZGF0YSBkaXJlY3RseTpcbiAqIDEuIGNhbiBub3Qga25vdyB3aGV0aGVyIHRvIHNob3cgdGhlIGVtcHR5IGljb24gdXRpbCB3ZSBnZXQgYWxsIHRoZSBuZWVkZWQgZGF0YSwgdGhhdCBpcyB0byBzYXksXG4gKiAgICB0aGUgZW1wdHkgaWNvbiBzaG91bGQgc2hvdyBvbmx5IHdoZW4gdGhlcmUgaXNuJ3QgYW55IGRhdGEgY2FuIGJlIGxpc3RcbiAqIDIuIHRoZXJlIGFyZSBtdWx0aWxwbGUgY29uZGl0aW9ucyAoc2VlIGFib3ZlKSB0byBkZWNpZGUgd2hldGhlciBhIGRhdGEgc291cmNlIGNhbiBiZSBsaXN0IGhlcmUsXG4gKiAgICBwcmVwYXJpbmcgZGF0YSBiZWZvcmUgdXNlIGl0IGNhbiBwcmV2ZW50IGZyb20gZXhlY3V0aW5nIHRoZXNlIGxvZ2ljIG11bHRpcGxlIHRpbWVzXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YVNvdXJjZUFkZGVkRGF0YSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIF9fdW5tb3VudCA9IGZhbHNlXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0b1VzZVJvb3REc3M6IG51bGwsXG4gICAgICB0b1VzZUNoaWxkRHNzOiBudWxsLFxuICAgICAgaGFzRXJyb3JTZWxlY3RlZERzczogdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEYXRhU291cmNlSW5pdGVkKSB7XG4gICAgICB0aGlzLmluaXREYXRhKClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RhdGFTb3VyY2VJbml0ZWQpIHtcbiAgICAgIGlmIChwcmV2UHJvcHMuc2VsZWN0ZWRUeXBlcyAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZFR5cGVzIHx8IHByZXZQcm9wcy5mcm9tUm9vdERzSWRzICE9PSB0aGlzLnByb3BzLmZyb21Sb290RHNJZHMgfHxcbiAgICAgICAgcHJldlByb3BzLmZyb21Ec0lkcyAhPT0gdGhpcy5wcm9wcy5mcm9tRHNJZHMgfHwgcHJldlByb3BzLnNlYXJjaFZhbHVlICE9PSB0aGlzLnByb3BzLnNlYXJjaFZhbHVlIHx8XG4gICAgICAgIHByZXZQcm9wcy5kYXRhU291cmNlcyAhPT0gdGhpcy5wcm9wcy5kYXRhU291cmNlcykge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZFR5cGVzKSB7IC8vIHdoZW4gc2VsZWN0IGEgdHlwZSwgZGF0YSBzb3VyY2VzIHdpdGggc2VsZWN0ZWQgdHlwZSB3aWxsIGJlIGluIHRoZSBsaXN0XG4gICAgICAgICAgdGhpcy5zZXRUb1VzZURhdGFTb3VyY2VzKHRoaXMucHJvcHMuc2VsZWN0ZWRUeXBlcywgdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLCB0aGlzLnByb3BzLmZyb21Ec0lkcywgdGhpcy5wcm9wcy5oaWRlRHMsIHRoaXMucHJvcHMuc2VhcmNoVmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRUb1VzZURhdGFTb3VyY2VzKHRoaXMucHJvcHMudHlwZXMsIHRoaXMucHJvcHMuZnJvbVJvb3REc0lkcywgdGhpcy5wcm9wcy5mcm9tRHNJZHMsIHRoaXMucHJvcHMuaGlkZURzLCB0aGlzLnByb3BzLnNlYXJjaFZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2UHJvcHMudHlwZXMgIT09IHRoaXMucHJvcHMudHlwZXMgfHwgIXByZXZQcm9wcy5pc0RhdGFTb3VyY2VJbml0ZWQgfHwgcHJldlByb3BzLmRhdGFTb3VyY2VzICE9PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VzKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS50b1VzZVJvb3REc3MgIT09IHByZXZTdGF0ZS50b1VzZVJvb3REc3MgfHwgdGhpcy5zdGF0ZS50b1VzZUNoaWxkRHNzICE9PSBwcmV2U3RhdGUudG9Vc2VDaGlsZERzcykge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0V2hldGhlclNob3dMaXN0KCkpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnJlbW92ZURhdGFUYWIoRGF0YVNvdXJjZVRhYi5BZGRlZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmFkZERhdGFUYWIoRGF0YVNvdXJjZVRhYi5BZGRlZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIGluaXREYXRhID0gKCkgPT4ge1xuICAgIC8vIHdoZW4gaW5pdCBkYXRhLCBhbGwgdHlwZXMgb2YgZGF0YSBzb3VyY2VzIHdpbGwgYmUgaW4gdGhlIGxpc3RcbiAgICB0aGlzLnNldFRvVXNlRGF0YVNvdXJjZXModGhpcy5wcm9wcy5zZWxlY3RlZFR5cGVzIHx8IHRoaXMucHJvcHMudHlwZXMsIHRoaXMucHJvcHMuZnJvbVJvb3REc0lkcywgdGhpcy5wcm9wcy5mcm9tRHNJZHMsIHRoaXMucHJvcHMuaGlkZURzLCB0aGlzLnByb3BzLnNlYXJjaFZhbHVlKVxuICB9XG5cbiAgc2V0SGFzRXJyb3JEc3MgPSAoaGFzRXJyb3JEc3M6IGJvb2xlYW4pID0+IHsgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yU2VsZWN0ZWREc3M6IGhhc0Vycm9yRHNzIH0pIH1cblxuICBzZXRUb1VzZURhdGFTb3VyY2VzID0gKHRvVXNlVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz4sIGZyb21Sb290RHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sIGZyb21Ec0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPixcbiAgICBoaWRlRHM6IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IGJvb2xlYW4sIHNlYXJjaFZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB0b1VzZVJvb3REc3MgPSB0aGlzLmdldFRvVXNlUm9vdERzcyh0b1VzZVR5cGVzLCBmcm9tUm9vdERzSWRzLCBmcm9tRHNJZHMsIGhpZGVEcywgc2VhcmNoVmFsdWUpXG5cbiAgICB0aGlzLmdldFRvVXNlQ2hpbGREc3ModG9Vc2VUeXBlcywgZnJvbVJvb3REc0lkcywgZnJvbURzSWRzLCBoaWRlRHMsIHNlYXJjaFZhbHVlKS50aGVuKHRvVXNlQ2hpbGREc3MgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0b1VzZVJvb3REc3MsXG4gICAgICAgICAgdG9Vc2VDaGlsZERzc1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBnZXRSb290RHNzID0gKCk6IERhdGFTb3VyY2VbXSA9PiB7XG4gICAgcmV0dXJuIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0Q29uZmlndXJlZERhdGFTb3VyY2VzKCkuZmlsdGVyKGRzID0+IGRzICYmIGRzLmlkICYmIGRzLmdldERhdGFTb3VyY2VKc29uKCkgJiYgIWRzLnBhcmVudERhdGFTb3VyY2UpXG4gIH1cblxuICBnZXRUb1VzZVJvb3REc3MgPSAodG9Vc2VUeXBlczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiwgZnJvbVJvb3REc0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiwgZnJvbURzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+LFxuICAgIGhpZGVEczogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gYm9vbGVhbiwgc2VhcmNoVmFsdWU6IHN0cmluZyk6IERhdGFTb3VyY2VbXSA9PiB7XG4gICAgLy8gaWYgb25seSBuZWVkIHRvIGxpc3QgY2hpbGQgZGF0YSBzb3VyY2VzIGZyb20gc29tZSByb290IGRhdGEgc291cmNlcywgcmV0dXJuIGFuIGVtcHR5IGFycmF5XG4gICAgcmV0dXJuIGZyb21Sb290RHNJZHNcbiAgICAgID8gW11cbiAgICAgIDogRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRDb25maWd1cmVkRGF0YVNvdXJjZXMoKS5maWx0ZXIoZHMgPT5cbiAgICAgICAgZHMgJiYgIWRzLnBhcmVudERhdGFTb3VyY2UgJiYgdGhpcy5wcm9wcy5kYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmRhdGFTb3VyY2VzW2RzLmlkXSAmJlxuICAgICAgZ2V0V2hldGhlclVzZURhdGFTb3VyY2UoZHMuZ2V0RGF0YVNvdXJjZUpzb24oKSwgdG9Vc2VUeXBlcykgJiYgdGhpcy5pc1ZhbGlkKGRzLCBmcm9tRHNJZHMsIGhpZGVEcywgc2VhcmNoVmFsdWUpXG4gICAgICApXG4gIH1cblxuICBnZXRUb1VzZUNoaWxkRHNzID0gYXN5bmMgKHRvVXNlVHlwZXM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sIGZyb21Sb290RHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sIGZyb21Ec0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPixcbiAgICBoaWRlRHM6IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IGJvb2xlYW4sIHNlYXJjaFZhbHVlOiBzdHJpbmcpOiBQcm9taXNlPHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfT4gPT4ge1xuICAgIGxldCByb290RHNzOiBEYXRhU291cmNlW11cbiAgICBpZiAoZnJvbVJvb3REc0lkcykge1xuICAgICAgcm9vdERzcyA9IGZyb21Sb290RHNJZHMuYXNNdXRhYmxlKCkubWFwKGRzSWQgPT4gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpKVxuICAgIH0gZWxzZSB7XG4gICAgICByb290RHNzID0gdGhpcy5nZXRSb290RHNzKClcbiAgICB9XG4gICAgcmV0dXJuIGdldFRvVXNlQ2hpbGREc3Mocm9vdERzcywgdG9Vc2VUeXBlcykudGhlbih0b1VzZUNoaWxkRHNzID0+IHtcbiAgICAgIGNvbnN0IHJlYWxUb1VzZUNoaWxkRHNzID0ge31cbiAgICAgIE9iamVjdC5rZXlzKHRvVXNlQ2hpbGREc3MpLmZvckVhY2gocm9vdERzSWQgPT4ge1xuICAgICAgICBpZiAodG9Vc2VDaGlsZERzc1tyb290RHNJZF0uc29tZShkcyA9PiB0aGlzLmlzVmFsaWQoZHMsIGZyb21Ec0lkcywgaGlkZURzLCBzZWFyY2hWYWx1ZSkpKSB7XG4gICAgICAgICAgcmVhbFRvVXNlQ2hpbGREc3Nbcm9vdERzSWRdID0gdG9Vc2VDaGlsZERzc1tyb290RHNJZF0uZmlsdGVyKGRzID0+IHRoaXMuaXNWYWxpZChkcywgZnJvbURzSWRzLCBoaWRlRHMsIHNlYXJjaFZhbHVlKSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZWFsVG9Vc2VDaGlsZERzc1xuICAgIH0pXG4gIH1cblxuICBpc1ZhbGlkID0gKGRzOiBEYXRhU291cmNlLCBmcm9tRHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sXG4gICAgaGlkZURzOiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiBib29sZWFuLCBzZWFyY2hWYWx1ZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGRzICYmIGRzLmdldERhdGFTb3VyY2VKc29uKCkgJiYgIWRzLmdldERhdGFTb3VyY2VKc29uKCkuaXNPdXRwdXRGcm9tV2lkZ2V0ICYmICFkcy5pc0RhdGFWaWV3ICYmICFkcy5pc0xvY2FsICYmICFkcy5nZXREYXRhU291cmNlSnNvbigpLmlzSGlkZGVuICYmXG4gICAgICBpc0Z1enp5U2VhcmNoKGRzLmdldExhYmVsKCksIHNlYXJjaFZhbHVlKSAmJiBpc0Z1enp5RnJvbURzSWRzKGRzLmdldERhdGFTb3VyY2VKc29uKCksIGZyb21Ec0lkcywgaGlkZURzKVxuICB9XG5cbiAgZ2V0V2hldGhlclNob3dMaXN0ID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLmdldFdoZXRoZXJTaG93Um9vdERzcygpIHx8IHRoaXMuZ2V0V2hldGhlclNob3dDaGlsZERzcygpIHx8ICEhKHRoaXMuc3RhdGUuaGFzRXJyb3JTZWxlY3RlZERzcyAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzKVxuICB9XG5cbiAgZ2V0V2hldGhlclNob3dSb290RHNzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnRvVXNlUm9vdERzcyAmJiB0aGlzLnN0YXRlLnRvVXNlUm9vdERzcy5sZW5ndGggPiAwXG4gIH1cblxuICBnZXRXaGV0aGVyU2hvd0NoaWxkRHNzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnRvVXNlQ2hpbGREc3MgJiYgT2JqZWN0LmtleXModGhpcy5zdGF0ZS50b1VzZUNoaWxkRHNzKS5sZW5ndGggPiAwXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHR5cGVzID0gZ2V0QWRkZWREYXRhVHlwZXModGhpcy5wcm9wcy50eXBlcylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZHMtYWRkZWQtZGF0YSBoLTEwMCB3LTEwMCc+XG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlcyAmJiB0eXBlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPSdoLTEwMCc+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFdoZXRoZXJTaG93TGlzdCgpXG4gICAgICAgICAgICAgICAgICA/IDxEc0xpc3RcbiAgICAgICAgICAgICAgICAgICAgcm9vdERzcz17Z2V0QWxsVG9Vc2VSb290RHNzKHRoaXMuc3RhdGUudG9Vc2VSb290RHNzLCB0aGlzLnN0YXRlLnRvVXNlQ2hpbGREc3MpfVxuICAgICAgICAgICAgICAgICAgICBhbGxUb1VzZURzcz17Z2V0QWxsVG9Vc2VEc3ModGhpcy5zdGF0ZS50b1VzZVJvb3REc3MsIHRoaXMuc3RhdGUudG9Vc2VDaGlsZERzcyl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfSBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9IGNoYW5nZUhhc0Vycm9yU2VsZWN0ZWREc3M9e3RoaXMuc2V0SGFzRXJyb3JEc3N9XG4gICAgICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzfSBzaG93RXJyb3JEc3NcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfSBkaXNhYmxlU2VsZWN0aW9uPXt0aGlzLnByb3BzLmRpc2FibGVTZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH0gd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9IGlzU2VhcmNoaW5nPXshIXRoaXMucHJvcHMuc2VhcmNoVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tEaXNhYmxlZERzSXRlbT17dGhpcy5wcm9wcy5vbkNsaWNrRGlzYWJsZWREc0l0ZW19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgOiA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpPy5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnICYmIHRoaXMucHJvcHMuaXNEYXRhU291cmNlSW5pdGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZW1wdHktcGxhY2Vob2xkZXIgdy0xMDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZW1wdHktcGxhY2Vob2xkZXItaWNvbic+PEVtcHR5T3V0bGluZWQgc2l6ZT17NDh9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2VtcHR5LXBsYWNlaG9sZGVyLXRleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19odG1sOiBgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbm9BZGRlZERhdGFTb3VyY2VDYW5CZVVzZWQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm5vQWRkZWREYXRhU291cmNlQ2FuQmVVc2VkIH0pfTxici8+JHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncGxlYXNlQWRkRGF0YScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucGxlYXNlQWRkRGF0YSB9KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+IDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ25vU2VsZWN0ZWRUeXBlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5ub1NlbGVjdGVkVHlwZSB9KVxuICAgICAgICB9XG5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbXVsdGlsaW5lLXRlcm5hcnkgKi9cbmltcG9ydCB7IHR5cGUgRGF0YVNvdXJjZSwgUmVhY3QsIGdldEFwcFN0b3JlLCB0eXBlIElNV2lkZ2V0SnNvbiwgYXBwQ29uZmlnVXRpbHMsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgSW50bFNoYXBlLCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgRGF0YVNvdXJjZUpzb24sIHR5cGUgVXNlRGF0YVNvdXJjZSwgdHlwZSBJTURhdGFTb3VyY2VKc29uLCB0eXBlIEFsbERhdGFTb3VyY2VUeXBlcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5cbmltcG9ydCB7IGdldFdoZXRoZXJVc2VEYXRhU291cmNlLCBnZXRUb1VzZUNoaWxkRHNzLCBnZXRPdXRwdXRUeXBlcywgZ2V0QWxsVG9Vc2VSb290RHNzLCBnZXRBbGxUb1VzZURzcywgRGF0YVNvdXJjZVRhYiB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuaW1wb3J0IHsgaXNGdXp6eVNlYXJjaCwgaXNGdXp6eUZyb21Ec0lkcywgZ2V0V2lkZ2V0c1VzaW5nT3V0cHV0RHNGcm9tT25lV2lkZ2V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMnXG5pbXBvcnQgT3V0cHV0RHNUcmVlIGZyb20gJy4vb3V0cHV0LWRzLWl0ZW0tdHJlZSdcblxuaW1wb3J0IHsgRW1wdHlPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vZW1wdHknXG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHRvVXNlUm9vdERzczogeyBbd2lkZ2V0SWQ6IHN0cmluZ106IERhdGFTb3VyY2VbXSB9XG4gIHRvVXNlQ2hpbGREc3M6IHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfVxuICB0b1VzZVdpZGdldHM6IElNV2lkZ2V0SnNvbltdXG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGlzRGF0YVNvdXJjZUluaXRlZDogYm9vbGVhblxuICBkYXRhU291cmNlczogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VKc29uIH0+XG4gIHR5cGVzOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+XG4gIHNlbGVjdGVkVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgaW50bDogSW50bFNoYXBlXG4gIHNlYXJjaFZhbHVlOiBzdHJpbmdcbiAgd2lkZ2V0SWQ6IHN0cmluZ1xuICBpc011bHRpcGxlOiBib29sZWFuXG4gIGhpZGVUeXBlRHJvcGRvd246IGJvb2xlYW5cbiAgaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duOiBib29sZWFuXG4gIGZyb21Ec0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBmcm9tUm9vdERzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+XG4gIGVuYWJsZVRvU2VsZWN0T3V0cHV0RHNGcm9tU2VsZjogYm9vbGVhblxuICB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbiAgZGlzYWJsZVNlbGVjdGlvbjogYm9vbGVhblxuICBkaXNhYmxlUmVtb3ZlOiBib29sZWFuXG4gIGhpZGVEczogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gYm9vbGVhblxuICByZW1vdmVEYXRhVGFiOiAodGFiOiBEYXRhU291cmNlVGFiKSA9PiB2b2lkXG4gIGFkZERhdGFUYWI6ICh0YWI6IERhdGFTb3VyY2VUYWIpID0+IHZvaWRcbiAgb25DaGFuZ2U6ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFTb3VyY2VXaWRnZXRPdXRwdXRzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgX191bm1vdW50ID0gZmFsc2VcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvVXNlUm9vdERzczogbnVsbCxcbiAgICAgIHRvVXNlQ2hpbGREc3M6IG51bGwsXG4gICAgICB0b1VzZVdpZGdldHM6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIGlmICh0aGlzLnByb3BzLmlzRGF0YVNvdXJjZUluaXRlZCkge1xuICAgICAgdGhpcy5pbml0RGF0YSgpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNEYXRhU291cmNlSW5pdGVkKSB7XG4gICAgICBpZiAocHJldlByb3BzLnNlbGVjdGVkVHlwZXMgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRUeXBlcyB8fCBwcmV2UHJvcHMuZnJvbVJvb3REc0lkcyAhPT0gdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzIHx8XG4gICAgICAgIHByZXZQcm9wcy5mcm9tRHNJZHMgIT09IHRoaXMucHJvcHMuZnJvbURzSWRzIHx8IHByZXZQcm9wcy5zZWFyY2hWYWx1ZSAhPT0gdGhpcy5wcm9wcy5zZWFyY2hWYWx1ZSB8fFxuICAgICAgICBwcmV2UHJvcHMuZGF0YVNvdXJjZXMgIT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4Y2x1ZGUgb3V0cHV0IGRhdGEgc291cmNlcyBnZW5lcmF0ZWQgYnkgdGhpcyB3aWRnZXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBleGNsdWRlV2lkZ2V0SWQgPSB0aGlzLnByb3BzLmVuYWJsZVRvU2VsZWN0T3V0cHV0RHNGcm9tU2VsZiA/IG51bGwgOiB0aGlzLnByb3BzLndpZGdldElkXG4gICAgICAgIGNvbnN0IHR5cGVzID0gdGhpcy5wcm9wcy5zZWxlY3RlZFR5cGVzIHx8IHRoaXMucHJvcHMudHlwZXNcbiAgICAgICAgdGhpcy5zZXRUb1VzZURhdGFTb3VyY2VzKHR5cGVzLCB0aGlzLnByb3BzLmZyb21Sb290RHNJZHMsIHRoaXMucHJvcHMuZnJvbURzSWRzLCB0aGlzLnByb3BzLmhpZGVEcywgdGhpcy5wcm9wcy5zZWFyY2hWYWx1ZSwgZXhjbHVkZVdpZGdldElkKVxuICAgICAgfVxuXG4gICAgICBpZiAocHJldlByb3BzLnR5cGVzICE9PSB0aGlzLnByb3BzLnR5cGVzIHx8ICFwcmV2UHJvcHMuaXNEYXRhU291cmNlSW5pdGVkIHx8IHByZXZQcm9wcy5kYXRhU291cmNlcyAhPT0gdGhpcy5wcm9wcy5kYXRhU291cmNlcykge1xuICAgICAgICB0aGlzLmluaXREYXRhKClcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUudG9Vc2VSb290RHNzICE9PSBwcmV2U3RhdGUudG9Vc2VSb290RHNzIHx8IHRoaXMuc3RhdGUudG9Vc2VDaGlsZERzcyAhPT0gcHJldlN0YXRlLnRvVXNlQ2hpbGREc3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldFdoZXRoZXJTaG93TGlzdCgpKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5yZW1vdmVEYXRhVGFiKERhdGFTb3VyY2VUYWIuT3V0cHV0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJvcHMuYWRkRGF0YVRhYihEYXRhU291cmNlVGFiLk91dHB1dClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIGluaXREYXRhID0gKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIEV4Y2x1ZGUgb3V0cHV0IGRhdGEgc291cmNlcyBnZW5lcmF0ZWQgYnkgdGhpcyB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3QgZXhjbHVkZVdpZGdldElkID0gdGhpcy5wcm9wcy5lbmFibGVUb1NlbGVjdE91dHB1dERzRnJvbVNlbGYgPyBudWxsIDogdGhpcy5wcm9wcy53aWRnZXRJZFxuICAgIHRoaXMuc2V0VG9Vc2VEYXRhU291cmNlcyh0aGlzLnByb3BzLnNlbGVjdGVkVHlwZXMgfHwgdGhpcy5wcm9wcy50eXBlcywgdGhpcy5wcm9wcy5mcm9tUm9vdERzSWRzLCB0aGlzLnByb3BzLmZyb21Ec0lkcywgdGhpcy5wcm9wcy5oaWRlRHMsIHRoaXMucHJvcHMuc2VhcmNoVmFsdWUsIGV4Y2x1ZGVXaWRnZXRJZClcbiAgfVxuXG4gIHNldFRvVXNlRGF0YVNvdXJjZXMgPSAodXNlZFR5cGVzOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+LCBmcm9tUm9vdERzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+LCBmcm9tRHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sXG4gICAgaGlkZURzOiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiBib29sZWFuLCBzZWFyY2hWYWx1ZTogc3RyaW5nLCB3aWRnZXRJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdG9Vc2VSb290RHNzID0gdGhpcy5nZXRUb1VzZVJvb3REc3ModXNlZFR5cGVzLCBmcm9tUm9vdERzSWRzLCBmcm9tRHNJZHMsIGhpZGVEcywgc2VhcmNoVmFsdWUsIHdpZGdldElkKVxuXG4gICAgdGhpcy5nZXRUb1VzZUNoaWxkRHNzKHVzZWRUeXBlcywgZnJvbVJvb3REc0lkcywgZnJvbURzSWRzLCBoaWRlRHMsIHNlYXJjaFZhbHVlKS50aGVuKHRvVXNlQ2hpbGREc3MgPT4ge1xuICAgICAgY29uc3QgdG9Vc2VXaWRnZXRzID0gdGhpcy5nZXRUb1VzZVdpZGdldHModG9Vc2VSb290RHNzLCB0b1VzZUNoaWxkRHNzKVxuICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0b1VzZVJvb3REc3MsXG4gICAgICAgICAgdG9Vc2VDaGlsZERzcyxcbiAgICAgICAgICB0b1VzZVdpZGdldHNcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZ2V0Um9vdERzcyA9ICgpOiB7IFt3aWRnZXRJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0gPT4ge1xuICAgIGNvbnN0IHJvb3REc3MgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFdpZGdldEdlbmVyYXRlZERhdGFTb3VyY2VzKClcbiAgICBPYmplY3Qua2V5cyhyb290RHNzKS5mb3JFYWNoKHdJZCA9PiB7XG4gICAgICByb290RHNzW3dJZF0gPSByb290RHNzW3dJZF0uZmlsdGVyKGRzID0+IGRzICYmIGRzLmlkICYmIGRzLmdldERhdGFTb3VyY2VKc29uKCkpXG4gICAgfSlcblxuICAgIHJldHVybiByb290RHNzXG4gIH1cblxuICBnZXRUb1VzZVdpZGdldHMgPSAodG9Vc2VSb290RHNzOiB7IFt3aWRnZXRJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0sIHRvVXNlQ2hpbGREc3M6IHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfSk6IElNV2lkZ2V0SnNvbltdID0+IHtcbiAgICByZXR1cm4gYXBwQ29uZmlnVXRpbHMuZ2V0QWxsV2lkZ2V0cyhnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcpLmZpbHRlcih3SnNvbiA9PlxuICAgICAgdG9Vc2VSb290RHNzW3dKc29uLmlkXSB8fFxuICAgICAgKHRoaXMuZ2V0Um9vdERzcygpW3dKc29uLmlkXSAmJiB0aGlzLmdldFJvb3REc3MoKVt3SnNvbi5pZF0uc29tZShyb290RHMgPT4gISF0b1VzZUNoaWxkRHNzW3Jvb3REcy5pZF0pKVxuICAgIClcbiAgfVxuXG4gIGdldFRvVXNlUm9vdERzcyA9ICh1c2VkVHlwZXM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sIGZyb21Sb290RHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sIGZyb21Ec0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPixcbiAgICBoaWRlRHM6IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IGJvb2xlYW4sIHNlYXJjaFZhbHVlOiBzdHJpbmcsIGV4Y2x1ZGVXaWRnZXRJZDogc3RyaW5nKTogeyBbd2lkZ2V0SWQ6IHN0cmluZ106IERhdGFTb3VyY2VbXSB9ID0+IHtcbiAgICBjb25zdCB0b1VzZVJvb3REc3M6IHsgW3dpZGdldElkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfSA9IHt9XG5cbiAgICAvLyBpZiBvbmx5IG5lZWQgdG8gbGlzdCBjaGlsZCBkYXRhIHNvdXJjZXMgZnJvbSBzb21lIHJvb3QgZGF0YSBzb3VyY2VzLCByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgaWYgKGZyb21Sb290RHNJZHMpIHtcbiAgICAgIHJldHVybiB0b1VzZVJvb3REc3NcbiAgICB9XG5cbiAgICBjb25zdCB3aWRnZXRPdXRwdXRSb290RHNzOiB7IFt3aWRnZXRJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0gPSB0aGlzLmdldFJvb3REc3MoKVxuICAgIE9iamVjdC5rZXlzKHdpZGdldE91dHB1dFJvb3REc3MpLmZvckVhY2god0lkID0+IHtcbiAgICAgIGNvbnN0IGRzczogRGF0YVNvdXJjZVtdID0gd2lkZ2V0T3V0cHV0Um9vdERzc1t3SWRdLmZpbHRlcihkcyA9PlxuICAgICAgICBkcyAmJiAhZHMucGFyZW50RGF0YVNvdXJjZSAmJiB0aGlzLnByb3BzLmRhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuZGF0YVNvdXJjZXNbZHMuaWRdICYmXG4gICAgICAgIGdldFdoZXRoZXJVc2VEYXRhU291cmNlKGRzLmdldERhdGFTb3VyY2VKc29uKCksIHVzZWRUeXBlcykgJiYgdGhpcy5pc1ZhbGlkKGRzLCBmcm9tRHNJZHMsIGhpZGVEcywgc2VhcmNoVmFsdWUpXG4gICAgICApXG4gICAgICBpZiAoZHNzICYmIGRzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghdG9Vc2VSb290RHNzW3dJZF0pIHtcbiAgICAgICAgICB0b1VzZVJvb3REc3Nbd0lkXSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgdG9Vc2VSb290RHNzW3dJZF0gPSB0b1VzZVJvb3REc3Nbd0lkXS5jb25jYXQoZHNzKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBhbGxFeGNsdWRlV2lkZ2V0SWRzID0gZ2V0V2lkZ2V0c1VzaW5nT3V0cHV0RHNGcm9tT25lV2lkZ2V0KGV4Y2x1ZGVXaWRnZXRJZClcblxuICAgIE9iamVjdC5rZXlzKHRvVXNlUm9vdERzcykuZm9yRWFjaCh3SWQgPT4ge1xuICAgICAgLy8gSWYgbm8gb3V0cHV0IGRhdGEgc291cmNlcyBjYW4gYmUgdXNlZCwgb3IsIGN1cnJlbnQgd2lkZ2V0IHNob3VsZCBiZSBleGNsdWRlZCwgZGVsZXRlIGl0LlxuICAgICAgaWYgKHRvVXNlUm9vdERzc1t3SWRdLmxlbmd0aCA9PT0gMCB8fCBhbGxFeGNsdWRlV2lkZ2V0SWRzLnNvbWUoZXhjbHVkZVdJZCA9PiBleGNsdWRlV0lkID09PSB3SWQpKSB7XG4gICAgICAgIGRlbGV0ZSB0b1VzZVJvb3REc3Nbd0lkXVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gdG9Vc2VSb290RHNzXG4gIH1cblxuICBnZXRUb1VzZUNoaWxkRHNzID0gYXN5bmMgKHVzZWRUeXBlczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiwgZnJvbVJvb3REc0lkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiwgZnJvbURzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+LFxuICAgIGhpZGVEczogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gYm9vbGVhbiwgc2VhcmNoVmFsdWU6IHN0cmluZyk6IFByb21pc2U8eyBbcm9vdERzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VbXSB9PiA9PiB7XG4gICAgbGV0IHJvb3REc3M6IERhdGFTb3VyY2VbXSA9IFtdXG5cbiAgICBpZiAoZnJvbVJvb3REc0lkcykge1xuICAgICAgcm9vdERzcyA9IGZyb21Sb290RHNJZHMuYXNNdXRhYmxlKCkubWFwKGRzSWQgPT4gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB3aWRnZXRPdXRwdXRSb290RHNzOiB7IFt3aWRnZXRJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0gPSB0aGlzLmdldFJvb3REc3MoKVxuICAgICAgT2JqZWN0LmtleXMod2lkZ2V0T3V0cHV0Um9vdERzcykuZm9yRWFjaCh3SWQgPT4ge1xuICAgICAgICByb290RHNzID0gcm9vdERzcy5jb25jYXQod2lkZ2V0T3V0cHV0Um9vdERzc1t3SWRdKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0VG9Vc2VDaGlsZERzcyhyb290RHNzLCB1c2VkVHlwZXMpLnRoZW4odG9Vc2VDaGlsZERzcyA9PiB7XG4gICAgICBjb25zdCByZWFsVG9Vc2VDaGlsZERzcyA9IHt9XG4gICAgICBPYmplY3Qua2V5cyh0b1VzZUNoaWxkRHNzKS5mb3JFYWNoKHJvb3REc0lkID0+IHtcbiAgICAgICAgaWYgKHRvVXNlQ2hpbGREc3Nbcm9vdERzSWRdLnNvbWUoZHMgPT4gdGhpcy5pc1ZhbGlkKGRzLCBmcm9tRHNJZHMsIGhpZGVEcywgc2VhcmNoVmFsdWUpKSkge1xuICAgICAgICAgIHJlYWxUb1VzZUNoaWxkRHNzW3Jvb3REc0lkXSA9IHRvVXNlQ2hpbGREc3Nbcm9vdERzSWRdLmZpbHRlcihkcyA9PiB0aGlzLmlzVmFsaWQoZHMsIGZyb21Ec0lkcywgaGlkZURzLCBzZWFyY2hWYWx1ZSkpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVhbFRvVXNlQ2hpbGREc3NcbiAgICB9KVxuICB9XG5cbiAgZ2V0VG9Vc2VDaGlsZERzc0J5V2lkZ2V0SWQgPSAod0lkOiBzdHJpbmcpOiB7IFtyb290RHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0gPT4ge1xuICAgIGNvbnN0IHRvVXNlRHNzOiB7IFtyb290RHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0gPSB7fVxuICAgIHRoaXMuZ2V0Um9vdERzcygpW3dJZF0uZm9yRWFjaChyb290RHMgPT4ge1xuICAgICAgaWYgKCF0b1VzZURzc1tyb290RHMuaWRdKSB7XG4gICAgICAgIHRvVXNlRHNzW3Jvb3REcy5pZF0gPSBbXVxuICAgICAgfVxuICAgICAgdG9Vc2VEc3Nbcm9vdERzLmlkXSA9IHRoaXMuc3RhdGUudG9Vc2VDaGlsZERzc1tyb290RHMuaWRdXG4gICAgICAgID8gdG9Vc2VEc3Nbcm9vdERzLmlkXS5jb25jYXQodGhpcy5zdGF0ZS50b1VzZUNoaWxkRHNzW3Jvb3REcy5pZF0pXG4gICAgICAgIDogdG9Vc2VEc3Nbcm9vdERzLmlkXVxuICAgIH0pXG5cbiAgICBPYmplY3Qua2V5cyh0b1VzZURzcykuZm9yRWFjaChyb290SWQgPT4ge1xuICAgICAgaWYgKHRvVXNlRHNzW3Jvb3RJZF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0b1VzZURzc1tyb290SWRdXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB0b1VzZURzc1xuICB9XG5cbiAgaXNWYWxpZCA9IChkczogRGF0YVNvdXJjZSwgZnJvbURzSWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+LFxuICAgIGhpZGVEczogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gYm9vbGVhbiwgc2VhcmNoVmFsdWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBkcyAmJiBkcy5nZXREYXRhU291cmNlSnNvbigpICYmIGRzLmdldERhdGFTb3VyY2VKc29uKCkuaXNPdXRwdXRGcm9tV2lkZ2V0ICYmICFkcy5pc0RhdGFWaWV3ICYmICFkcy5pc0xvY2FsICYmICFkcy5nZXREYXRhU291cmNlSnNvbigpLmlzSGlkZGVuICYmXG4gICAgICBpc0Z1enp5U2VhcmNoKGRzLmdldExhYmVsKCksIHNlYXJjaFZhbHVlKSAmJiBpc0Z1enp5RnJvbURzSWRzKGRzLmdldERhdGFTb3VyY2VKc29uKCksIGZyb21Ec0lkcywgaGlkZURzKVxuICB9XG5cbiAgZ2V0V2hldGhlclNob3dMaXN0ID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLmdldFdoZXRoZXJTaG93Um9vdERzcygpIHx8IHRoaXMuZ2V0V2hldGhlclNob3dDaGlsZERzcygpXG4gIH1cblxuICBnZXRXaGV0aGVyU2hvd1Jvb3REc3MgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudG9Vc2VSb290RHNzICYmIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUudG9Vc2VSb290RHNzKS5sZW5ndGggPiAwXG4gIH1cblxuICBnZXRXaGV0aGVyU2hvd0NoaWxkRHNzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnRvVXNlQ2hpbGREc3MgJiYgT2JqZWN0LmtleXModGhpcy5zdGF0ZS50b1VzZUNoaWxkRHNzKS5sZW5ndGggPiAwXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50b1VzZUNoaWxkRHNzIHx8ICF0aGlzLnN0YXRlLnRvVXNlUm9vdERzcyB8fCAhdGhpcy5zdGF0ZS50b1VzZVdpZGdldHMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgdHlwZXMgPSBnZXRPdXRwdXRUeXBlcyh0aGlzLnByb3BzLnR5cGVzKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdkcy13aWRnZXQtb3V0cHV0cyBoLTEwMCB3LTEwMCc+XG5cbiAgICAgICAge1xuICAgICAgICAgIHR5cGVzICYmIHR5cGVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9J2gtMTAwJz5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0V2hldGhlclNob3dMaXN0KClcbiAgICAgICAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9J2RzLWxpc3QgcHgtNCBwdC0xJyByb2xlPSdsaXN0Ym94Jz5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudG9Vc2VXaWRnZXRzLm1hcCh3ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxPdXRwdXREc1RyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3cuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0SnNvbj17d31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxUb1VzZURzcz17Z2V0QWxsVG9Vc2VEc3ModGhpcy5zdGF0ZS50b1VzZVJvb3REc3Nbdy5pZF0sIHRoaXMuZ2V0VG9Vc2VDaGlsZERzc0J5V2lkZ2V0SWQody5pZCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFRvVXNlUm9vdERzcz17Z2V0QWxsVG9Vc2VSb290RHNzKHRoaXMuc3RhdGUudG9Vc2VSb290RHNzW3cuaWRdLCB0aGlzLmdldFRvVXNlQ2hpbGREc3NCeVdpZGdldElkKHcuaWQpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlc30gaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH0gd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VhcmNoaW5nPXshIXRoaXMucHJvcHMuc2VhcmNoVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA6IDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcgJiYgdGhpcy5wcm9wcy5pc0RhdGFTb3VyY2VJbml0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZW1wdHktcGxhY2Vob2xkZXIgdy0xMDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VtcHR5LXBsYWNlaG9sZGVyLWljb24nPjxFbXB0eU91dGxpbmVkIHNpemU9ezQ4fSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2VtcHR5LXBsYWNlaG9sZGVyLXRleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGAke3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdub1dpZGdldE91dHB1dENhbkJlVXNlZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMubm9XaWRnZXRPdXRwdXRDYW5CZVVzZWQgfSl9PGJyLz4ke3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdwbGVhc2VBZGREYXRhJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5wbGVhc2VBZGREYXRhIH0pfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj4gOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbm9TZWxlY3RlZFR5cGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm5vU2VsZWN0ZWRUeXBlIH0pXG4gICAgICAgIH1cblxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyB0eXBlIERhdGFTb3VyY2UsIFJlYWN0LCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEludGxTaGFwZSwgdHlwZSBVc2VEYXRhU291cmNlLCB0eXBlIElNV2lkZ2V0SnNvbiwgRGF0YVNvdXJjZU1hbmFnZXIsIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgQ09OU1RBTlRTIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2ppbXUtdWknXG5cbmltcG9ydCBEYXRhU291cmNlSXRlbSBmcm9tICcuLi9jb21tb24vZHMtaXRlbSdcbmltcG9ydCB7IERhdGFTb3VyY2VUcmVlIH0gZnJvbSAnLi4vLi4vLi4vZGF0YS1zb3VyY2UtdHJlZSdcblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaXNOb2RlU2VsZWN0YWJsZTogKG5vZGVKc29uOiBJTURhdGFTb3VyY2VKc29uIHwgSU1XaWRnZXRKc29uKSA9PiBib29sZWFuXG4gIGlzT3BlbjogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB3aWRnZXRKc29uOiBJTVdpZGdldEpzb25cbiAgLyoqXG4gICAqIEFsbCB0byBbdG8tdXNlIGRhdGEgc291cmNlc10oLi4vZHMtYWRkLWRhdGEudHN4KS4sIGluY2x1ZGluZyBjaGlsZCBkYXRhIHNvdXJjZXMgYW5kIHBhcmVudCBkYXRhIHNvdXJjZXMuXG4gICAqL1xuICBhbGxUb1VzZURzczogRGF0YVNvdXJjZVtdXG4gIC8qKlxuICAgKiBBbGwgdG8gdXNlIHJvb3QgZGF0YSBzb3VyY2VzIChzZWUgW3RvLXVzZSBkYXRhIHNvdXJjZXNdKC4uL2RzLWFkZC1kYXRhLnRzeCkgZm9yIG1vcmUgZGV0YWlscyksIHdoaWNoIGRvZXNuJ3QgaGF2ZSBwYXJlbnQgZGF0YSBzb3VyY2UsXG4gICAqIGluY2x1ZGluZyAtXG4gICAqIDEuIHRoZSByb290IGRhdGEgc291cmNlIGlzIHRvIHVzZSBkYXRhIHNvdXJjZSwgb3IsXG4gICAqIDIuIHRoZSByb29yIGRhdGEgc291cmNlIGNvbnRhaW5zIGRlc2NlbmRhbnQgZGF0YSBzb3VyY2Ugd2hpY2ggaXMgdG8gdXNlIGRhdGEgc291cmNlLlxuICAgKi9cbiAgYWxsVG9Vc2VSb290RHNzOiBEYXRhU291cmNlW11cbiAgaW50bDogSW50bFNoYXBlXG4gIHdpZGdldElkOiBzdHJpbmdcbiAgaXNNdWx0aXBsZTogYm9vbGVhblxuICBpc1NlYXJjaGluZzogYm9vbGVhblxuICB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbiAgZGlzYWJsZVNlbGVjdGlvbjogYm9vbGVhblxuICBkaXNhYmxlUmVtb3ZlOiBib29sZWFuXG4gIG9uQ2hhbmdlOiAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPdXRwdXREc0l0ZW1UcmVlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNOb2RlU2VsZWN0YWJsZTogKG5vZGVKc29uOiBJTURhdGFTb3VyY2VKc29uIHwgSU1XaWRnZXRKc29uKSA9PiB0aGlzLnByb3BzLmFsbFRvVXNlRHNzLnNvbWUoZCA9PiBkLmlkID09PSBub2RlSnNvbi5pZCksXG4gICAgICBpc09wZW46IHRoaXMucHJvcHMuaXNTZWFyY2hpbmdcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZiAocHJldlByb3BzLmFsbFRvVXNlRHNzICE9PSB0aGlzLnByb3BzLmFsbFRvVXNlRHNzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNOb2RlU2VsZWN0YWJsZTogKG5vZGVKc29uOiBJTURhdGFTb3VyY2VKc29uIHwgSU1XaWRnZXRKc29uKSA9PiB0aGlzLnByb3BzLmFsbFRvVXNlRHNzLnNvbWUoZCA9PiBkLmlkID09PSBub2RlSnNvbi5pZClcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmlzU2VhcmNoaW5nICE9PSBwcmV2UHJvcHMuaXNTZWFyY2hpbmcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IHRoaXMucHJvcHMuaXNTZWFyY2hpbmcgfSlcbiAgICB9XG4gIH1cblxuICBnZXRSb290Tm9kZSA9IChub2RlSnNvbjogSU1XaWRnZXRKc29uKTogSU1EYXRhU291cmNlSnNvbiB8IElNV2lkZ2V0SnNvbiA9PiB7XG4gICAgaWYgKG5vZGVKc29uLm1hbmlmZXN0LnByb3BlcnRpZXM/LmNhbkdlbmVyYXRlTXVsdGlwbGVPdXRwdXREYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuIG5vZGVKc29uXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZXMobm9kZUpzb24pWzBdXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2hpbGROb2RlcyA9IChub2RlSnNvbjogSU1EYXRhU291cmNlSnNvbiB8IElNV2lkZ2V0SnNvbik6IElNRGF0YVNvdXJjZUpzb25bXSA9PiB7XG4gICAgY29uc3QgaXNXaWRnZXROb2RlID0gKG5vZGVKc29uIGFzIElNV2lkZ2V0SnNvbikubWFuaWZlc3RcbiAgICBpZiAoaXNXaWRnZXROb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5hbGxUb1VzZVJvb3REc3MubWFwKGQgPT4gZC5nZXREYXRhU291cmNlSnNvbigpKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShub2RlSnNvbi5pZClcbiAgICAgIGlmIChkcz8uaXNEYXRhU291cmNlU2V0KSB7XG4gICAgICAgIHJldHVybiBkcy5nZXRDaGlsZERhdGFTb3VyY2VzKCkubWFwKGQgPT4gZC5nZXREYXRhU291cmNlSnNvbigpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFiZWwgPSAobm9kZUpzb246IElNRGF0YVNvdXJjZUpzb24gfCBJTVdpZGdldEpzb24pOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBub2RlSnNvbi5sYWJlbFxuICB9XG5cbiAgcmVuZGVyVW5zZWxlY3RhYmxlTm9kZSA9IChsYWJlbDogc3RyaW5nLCB3aWRnZXRKc29uOiBJTVdpZGdldEpzb24pID0+IHtcbiAgICBjb25zdCBpY29uID0gdHlwZW9mIHdpZGdldEpzb24uaWNvbiA9PT0gJ3N0cmluZycgPyB3aWRnZXRKc29uLmljb24gOiAod2lkZ2V0SnNvbi5pY29uICYmIHdpZGdldEpzb24uaWNvbi5zdmcpXG4gICAgY29uc3QgY29sb3IgPSB0eXBlb2Ygd2lkZ2V0SnNvbi5pY29uID09PSAnc3RyaW5nJyA/IG51bGwgOiAod2lkZ2V0SnNvbi5pY29uICYmIHdpZGdldEpzb24uaWNvbi5wcm9wZXJ0aWVzICYmIHdpZGdldEpzb24uaWNvbi5wcm9wZXJ0aWVzLmNvbG9yKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IHctMTAwJyB0aXRsZT17bGFiZWx9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGZsZXgtc2hyaW5rLTAgZHMtdGh1bWJuYWlsJz5cbiAgICAgICAgICA8SWNvbiBpY29uPXtpY29ufSBjb2xvcj17Y29sb3J9IHNpemU9JzEyJyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xIHRleHQtdHJ1bmNhdGUgcGwtMiBkcy10eXBlJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSBkcy10eXBlLW5hbWUnPlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlclNlbGVjdGFibGVOb2RlID0gKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4ge1xuICAgIGlmICghZHNKc29uKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBsZXQgZHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UoZHNKc29uLmlkKVxuICAgIGlmIChkcy5nZXREYXRhU291cmNlSnNvbigpLmlzT3V0cHV0RnJvbVdpZGdldCkge1xuICAgICAgZHMgPSBkcy5nZXRNYWluRGF0YVNvdXJjZSgpLmdldERhdGFWaWV3KENPTlNUQU5UUy5PVVRQVVRfREFUQV9WSUVXX0lEKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPERhdGFTb3VyY2VJdGVtXG4gICAgICAgIHVzZURhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzfSBkcz17ZHN9IHdpZGdldElkPXt0aGlzLnByb3BzLndpZGdldElkfVxuICAgICAgICBrZXk9e2RzLmlkfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfSBjbGFzc05hbWU9J3ctMTAwJ1xuICAgICAgLz5cbiAgICApXG4gIH1cblxuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy53aWRnZXRKc29uIHx8ICF0aGlzLnByb3BzLmFsbFRvVXNlUm9vdERzcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTQnPlxuICAgICAgICA8RGF0YVNvdXJjZVRyZWVcbiAgICAgICAgICBkYXRhU291cmNlPXt0aGlzLmdldFJvb3ROb2RlKHRoaXMucHJvcHMud2lkZ2V0SnNvbil9XG4gICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9XG4gICAgICAgICAgaXNOb2RlU2VsZWN0YWJsZT17dGhpcy5zdGF0ZS5pc05vZGVTZWxlY3RhYmxlfVxuICAgICAgICAgIHJlbmRlclNlbGVjdGFibGVOb2RlPXt0aGlzLnJlbmRlclNlbGVjdGFibGVOb2RlfVxuICAgICAgICAgIHJlbmRlclVuc2VsZWN0YWJsZU5vZGU9e3RoaXMucmVuZGVyVW5zZWxlY3RhYmxlTm9kZX1cbiAgICAgICAgICB1c2VEZWZhdWx0QmFja2dyb3VuZFxuICAgICAgICAgIGdldENoaWxkRGF0YVNvdXJjZXM9e3RoaXMuZ2V0Q2hpbGROb2Rlc31cbiAgICAgICAgICBnZXRMYWJlbD17dGhpcy5nZXRMYWJlbH1cbiAgICAgICAgICAvLyBBZnRlciBjbGVhcmluZyBzZWFyY2ggdmFsdWUsIG5lZWQgdG8gZ28gYmFjayB0byBzdGF0dXMgYmVmb3JlIHNlYXJjaGluZy5cbiAgICAgICAgICBpc09wZW49e3RoaXMucHJvcHMuaXNTZWFyY2hpbmcgPyB0aGlzLnN0YXRlLmlzT3BlbiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICB0b2dnbGU9e3RoaXMucHJvcHMuaXNTZWFyY2hpbmcgPyB0aGlzLnRvZ2dsZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCBnZXRBcHBTdG9yZSwgdHlwZSBJTURhdGFTb3VyY2VKc29uLCB0eXBlIEludGxTaGFwZSwgaW5qZWN0SW50bCwgRGF0YVNvdXJjZU1hbmFnZXIsIGNsYXNzTmFtZXMsIG1vZHVsZUxvYWRlcixcbiAgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlTWVzc2FnZXMsIHR5cGUgSU1TdGF0ZSwgUmVhY3RSZWR1eCwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgRGF0YVNvdXJjZUpzb24sIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgQWxsRGF0YVNvdXJjZVR5cGVzLCBjc3MsIFNpZ25JbkVycm9yQ29kZVxufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBUYWJzLCBUYWIsIE1vZGFsLCBUZXh0SW5wdXQsIGRlZmF1bHRNZXNzYWdlcywgUGFuZWxIZWFkZXIsIEJ1dHRvbiwgQWxlcnQgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmltcG9ydCB7IEV4dGVybmFsRGF0YVNvdXJjZVNlbGVjdG9yIH0gZnJvbSAnLi4vZXh0ZXJuYWwtZGF0YS1zb3VyY2Utc2VsZWN0b3InXG5pbXBvcnQgRHNXaWRnZXRPdXRwdXRzIGZyb20gJy4vY29tcG9uZW50cy9kcy13aWRnZXQtb3V0cHV0cydcbmltcG9ydCBEc0FkZGVkRGF0YSBmcm9tICcuL2NvbXBvbmVudHMvZHMtYWRkZWQtZGF0YSdcbmltcG9ydCB7IHR5cGUgRGF0YVNvdXJjZUxpc3RQcm9wcyB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgRGF0YVNvdXJjZVRhYiwgZ2V0RGVmYXVsdFNlbGVjdGVkVHlwZXMgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IERzVHlwZXMgZnJvbSAnLi9jb21wb25lbnRzL2NvbW1vbi9kcy10eXBlcydcbmltcG9ydCB7IEFkZERhdGFFcnJvckNvZGUgfSBmcm9tICcuLi9leHRlcm5hbC1kYXRhLXNvdXJjZS1zZWxlY3Rvci91dGlscydcblxuaW1wb3J0IHsgUGx1c091dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvcGx1cydcbmltcG9ydCB7IFNlYXJjaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoJ1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc0V4dGVybmFsRHNTaG93bjogYm9vbGVhblxuICBnZXRBcHBDb25maWdBY3Rpb246IGFueVxuICBzZWFyY2hWYWx1ZTogc3RyaW5nXG4gIGRhdGFUYWJzOiBEYXRhU291cmNlVGFiW11cbiAgYWN0aXZlVGFiOiBEYXRhU291cmNlVGFiXG4gIHNlbGVjdGVkVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgZXJyb3JNc2c6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxuICBvbkNsaWNrRGlzYWJsZWREc0l0ZW0/OiAoKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTdGF0ZUV4dHJhUHJvcHMge1xuICBkYXRhU291cmNlczogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VKc29uIH0+XG59XG5cbmNsYXNzIF9EYXRhU291cmNlTGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8RGF0YVNvdXJjZUxpc3RQcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZUV4dHJhUHJvcHMsIFN0YXRlPiB7XG4gIGV4dGVybmFsRHNTdHlsZSA9IHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIG1heFdpZHRoOiAnNTAwMHB4JywgbWFyZ2luOiAwIH1cbiAgX191bm1vdW50ID0gZmFsc2VcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgY29uc3QgZGF0YVRhYnMgPSBbRGF0YVNvdXJjZVRhYi5BZGRlZCwgRGF0YVNvdXJjZVRhYi5PdXRwdXRdLmZpbHRlcih0ID0+ICF0aGlzLnByb3BzLmhpZGVUYWJzPy5pbmNsdWRlcyh0KSlcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNFeHRlcm5hbERzU2hvd246IGZhbHNlLFxuICAgICAgZ2V0QXBwQ29uZmlnQWN0aW9uOiBudWxsLFxuICAgICAgc2VhcmNoVmFsdWU6ICcnLFxuICAgICAgZGF0YVRhYnMsXG4gICAgICBhY3RpdmVUYWI6IGRhdGFUYWJzWzBdLFxuICAgICAgc2VsZWN0ZWRUeXBlczogZ2V0RGVmYXVsdFNlbGVjdGVkVHlwZXModGhpcy5wcm9wcy50eXBlcywgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcywgdGhpcy5wcm9wcy5oaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd24pLFxuICAgICAgZXJyb3JNc2c6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIG1vZHVsZUxvYWRlci5sb2FkTW9kdWxlKCdqaW11LWZvci1idWlsZGVyJykudGhlbihKaW11Rm9yQnVpbGRlciA9PiB7XG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbjogSmltdUZvckJ1aWxkZXIuZ2V0QXBwQ29uZmlnQWN0aW9uXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBEYXRhU291cmNlTGlzdFByb3BzICYgRXh0cmFQcm9wcyAmIFN0YXRlRXh0cmFQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMudHlwZXMgIT09IHRoaXMucHJvcHMudHlwZXMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRUeXBlKGdldERlZmF1bHRTZWxlY3RlZFR5cGVzKHRoaXMucHJvcHMudHlwZXMsIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duKSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXG4gIH1cblxuICBzaG93RXh0ZXJuYWxEcyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNFeHRlcm5hbERzU2hvd246IHRydWUgfSlcbiAgfVxuXG4gIGFkZERhdGFUYWIgPSAodGFiOiBEYXRhU291cmNlVGFiKSA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmhpZGVUYWJzICYmICF0aGlzLnN0YXRlLmRhdGFUYWJzLnNvbWUodCA9PiB0ID09PSB0YWIpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZGF0YVRhYnM6IHRoaXMuc3RhdGUuZGF0YVRhYnMuY29uY2F0KHRhYikgfSlcbiAgICB9XG4gIH1cblxuICByZW1vdmVEYXRhVGFiID0gKHRhYjogRGF0YVNvdXJjZVRhYikgPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5oaWRlVGFicyAmJiB0aGlzLnN0YXRlLmRhdGFUYWJzLnNvbWUodCA9PiB0ID09PSB0YWIpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZGF0YVRhYnM6IHRoaXMuc3RhdGUuZGF0YVRhYnMuZmlsdGVyKHQgPT4gdCAhPT0gdGFiKSB9KVxuICAgIH1cbiAgfVxuXG4gIG9uQWN0aXZlVGFiQ2hhbmdlID0gKHRhYjogRGF0YVNvdXJjZVRhYikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVUYWI6IHRhYiB9KVxuICB9XG5cbiAgb25TZWxlY3REYXRhRmluaXNoZWQgPSAoZHNKc29uczogSU1EYXRhU291cmNlSnNvbltdKSA9PiB7XG4gICAgaWYgKCFkc0pzb25zKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNFeHRlcm5hbERzU2hvd246IGZhbHNlIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuZ2V0QXBwQ29uZmlnQWN0aW9uKSB7XG4gICAgICBjb25zdCBnZXRBcHBDb25maWdBY3Rpb24gPSB0aGlzLnN0YXRlLmdldEFwcENvbmZpZ0FjdGlvblxuICAgICAgZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYWRkRGF0YVNvdXJjZXMoZHNKc29ucykuZXhlYygpXG5cbiAgICAgIFByb21pc2UuYWxsKGRzSnNvbnMubWFwKGRzSnNvbiA9PiBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZURhdGFTb3VyY2UoZHNKc29uKSkpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvVXBwZXJDYXNlKCk/LmluY2x1ZGVzKEFkZERhdGFFcnJvckNvZGUuV2ViTWFwVW5zdXBwb3J0ZWRWZXJzaW9uKSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvck1zZzogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FkZERhdGFFcnJvclVuc3VwcG9ydGVkTWFwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGREYXRhRXJyb3JVbnN1cHBvcnRlZE1hcCB9KSB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIGNhbmNlbGUgdGhlIHNpZ24gaW4sIHNob3VsZG4ndCBzaG93IGVycm9yLlxuICAgICAgICAgIGlmIChlcnI/LmNvZGUgIT09IFNpZ25JbkVycm9yQ29kZS5TaWduSW5DYW5jZWxlZCkge1xuICAgICAgICAgICAgaWYgKGVycj8uaXNTaWduSW5FcnJvcikge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JNc2c6IGVyci5tZXNzYWdlMSB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yTXNnOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW52YWxpZFJlc291cmNlSXRlbScsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLmludmFsaWRSZXNvdXJjZUl0ZW0gfSkgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yTXNnOiBudWxsIH0pXG4gICAgICAgIH0sIDUwMDApXG4gICAgICB9KVxuXG4gICAgICB0aGlzLnByb3BzLmNoYW5nZUluaXRTdGF0dXMgJiYgdGhpcy5wcm9wcy5jaGFuZ2VJbml0U3RhdHVzKGZhbHNlKVxuXG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRXh0ZXJuYWxEc1Nob3duOiBmYWxzZSxcbiAgICAgICAgICBhY3RpdmVUYWI6IHRoaXMuc3RhdGUuZGF0YVRhYnMuc29tZSh0ID0+IHQgPT09IERhdGFTb3VyY2VUYWIuQWRkZWQpID8gRGF0YVNvdXJjZVRhYi5BZGRlZCA6IHRoaXMuc3RhdGUuYWN0aXZlVGFiXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbiBub3QgbG9hZCBqaW11LWZvci1idWlsZGVyJylcbiAgICB9XG4gIH1cblxuICBvblNlbGVjdERhdGFDYW5jZWxlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNFeHRlcm5hbERzU2hvd246IGZhbHNlIH0pXG4gIH1cblxuICBvblRvZ2dsZUV4dGVybmFsRHMgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzRXh0ZXJuYWxEc1Nob3duOiAhdGhpcy5zdGF0ZS5pc0V4dGVybmFsRHNTaG93biB9KVxuICB9XG5cbiAgb25TZWFyY2hWYWx1ZUNoYW5nZSA9IGUgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hWYWx1ZTogZS50YXJnZXQudmFsdWUgfSlcbiAgfVxuXG4gIHNldFNlbGVjdGVkVHlwZSA9ICh0eXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFR5cGVzOiB0eXBlcyB9KVxuICB9XG5cbiAgRXh0ZXJuYWxEcyA9IDxFeHRlcm5hbERhdGFTb3VyY2VTZWxlY3RvclxuICAgIHBvcnRhbFVybD17Z2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybH0gb25DYW5jZWw9e3RoaXMub25TZWxlY3REYXRhQ2FuY2VsZWR9XG4gICAgb25GaW5pc2g9e3RoaXMub25TZWxlY3REYXRhRmluaXNoZWR9IGlzTXVsdGlwbGUgdHlwZXM9e3RoaXMucHJvcHMudHlwZXN9XG4gIC8+XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIURhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IG9ubHlVc2VBZGRlZDogYm9vbGVhbiA9IHRoaXMuc3RhdGUuZGF0YVRhYnMubGVuZ3RoID09PSAxICYmIHRoaXMuc3RhdGUuZGF0YVRhYnNbMF0gPT09IERhdGFTb3VyY2VUYWIuQWRkZWRcbiAgICBjb25zdCBvbmx5VXNlT3V0cHV0OiBib29sZWFuID0gdGhpcy5zdGF0ZS5kYXRhVGFicy5sZW5ndGggPT09IDEgJiYgdGhpcy5zdGF0ZS5kYXRhVGFic1swXSA9PT0gRGF0YVNvdXJjZVRhYi5PdXRwdXRcbiAgICBjb25zdCBBZGRlZERhdGEgPSAoXG4gICAgICA8RHNBZGRlZERhdGFcbiAgICAgICAgdHlwZXM9e3RoaXMucHJvcHMudHlwZXN9IHNlbGVjdGVkVHlwZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRUeXBlc30gaXNEYXRhU291cmNlSW5pdGVkPXt0aGlzLnByb3BzLmlzRGF0YVNvdXJjZUluaXRlZH1cbiAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfSBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9XG4gICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgIGZyb21Sb290RHNJZHM9e3RoaXMucHJvcHMuZnJvbVJvb3REc0lkc30gaGlkZVR5cGVEcm9wZG93bj17dGhpcy5wcm9wcy5oaWRlVHlwZURyb3Bkb3dufSB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH1cbiAgICAgICAgc2VhcmNoVmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNoVmFsdWV9IGZyb21Ec0lkcz17dGhpcy5wcm9wcy5mcm9tRHNJZHN9IGRhdGFTb3VyY2VzPXt0aGlzLnByb3BzLmRhdGFTb3VyY2VzfVxuICAgICAgICBoaWRlRHM9e3RoaXMucHJvcHMuaGlkZURzfSByZW1vdmVEYXRhVGFiPXt0aGlzLnJlbW92ZURhdGFUYWJ9IGFkZERhdGFUYWI9e3RoaXMuYWRkRGF0YVRhYn1cbiAgICAgICAgaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duPXt0aGlzLnByb3BzLmhpZGVBbGxPcHRpb25PZlR5cGVEcm9wZG93bn1cbiAgICAgICAgb25DbGlja0Rpc2FibGVkRHNJdGVtPXt0aGlzLnByb3BzLm9uQ2xpY2tEaXNhYmxlZERzSXRlbX1cbiAgICAgIC8+XG4gICAgKVxuICAgIGNvbnN0IFdpZGdldE91dHB1dCA9IChcbiAgICAgIDxEc1dpZGdldE91dHB1dHNcbiAgICAgICAgdHlwZXM9e3RoaXMucHJvcHMudHlwZXN9IHNlbGVjdGVkVHlwZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRUeXBlc30gaXNEYXRhU291cmNlSW5pdGVkPXt0aGlzLnByb3BzLmlzRGF0YVNvdXJjZUluaXRlZH1cbiAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXN9IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfSBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9XG4gICAgICAgIGRpc2FibGVTZWxlY3Rpb249e3RoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbn0gZGlzYWJsZVJlbW92ZT17dGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgIGZyb21Sb290RHNJZHM9e3RoaXMucHJvcHMuZnJvbVJvb3REc0lkc30gaGlkZVR5cGVEcm9wZG93bj17dGhpcy5wcm9wcy5oaWRlVHlwZURyb3Bkb3dufSBzZWFyY2hWYWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2hWYWx1ZX1cbiAgICAgICAgZGF0YVNvdXJjZXM9e3RoaXMucHJvcHMuZGF0YVNvdXJjZXN9IHdpZGdldElkPXt0aGlzLnByb3BzLndpZGdldElkfSBmcm9tRHNJZHM9e3RoaXMucHJvcHMuZnJvbURzSWRzfVxuICAgICAgICBoaWRlRHM9e3RoaXMucHJvcHMuaGlkZURzfSBlbmFibGVUb1NlbGVjdE91dHB1dERzRnJvbVNlbGY9e3RoaXMucHJvcHMuZW5hYmxlVG9TZWxlY3RPdXRwdXREc0Zyb21TZWxmfVxuICAgICAgICByZW1vdmVEYXRhVGFiPXt0aGlzLnJlbW92ZURhdGFUYWJ9IGFkZERhdGFUYWI9e3RoaXMuYWRkRGF0YVRhYn0gaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duPXt0aGlzLnByb3BzLmhpZGVBbGxPcHRpb25PZlR5cGVEcm9wZG93bn1cbiAgICAgIC8+XG4gICAgKVxuICAgIGNvbnN0IERzVGFicyA9IChcbiAgICAgIDxUYWJzIHR5cGU9J3BpbGxzJyBmaWxsIGNsYXNzTmFtZT0nZGF0YS10YWJzJyB2YWx1ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJ9IG9uQ2hhbmdlPXt0aGlzLm9uQWN0aXZlVGFiQ2hhbmdlfT5cbiAgICAgICAgPFRhYiBpZD17RGF0YVNvdXJjZVRhYi5BZGRlZH0gdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGRlZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuYWRkZWQgfSl9PlxuICAgICAgICAgIHtBZGRlZERhdGF9XG4gICAgICAgIDwvVGFiPlxuICAgICAgICA8VGFiIGlkPXtEYXRhU291cmNlVGFiLk91dHB1dH0gdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdvdXRwdXRzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5vdXRwdXRzIH0pfT5cbiAgICAgICAgICB7V2lkZ2V0T3V0cHV0fVxuICAgICAgICA8L1RhYj5cbiAgICAgIDwvVGFicz5cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyBbdGhpcy5wcm9wcy5jbGFzc05hbWVdOiAhIXRoaXMucHJvcHMuY2xhc3NOYW1lIH0pfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbXBvbmVudC1kYXRhLXNvdXJjZS1saXN0IGgtMTAwIHctMTAwJz5cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5oaWRlSGVhZGVyICYmXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2RzLWxpc3QtaGVhZGVyIGppbXUtd2lkZ2V0LXNldHRpbmctLWhlYWRlciBkLWZsZXggcHgtNCBweS0wJ1xuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2V0RGF0YVNvdXJjZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc2V0RGF0YVNvdXJjZSB9KX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQYW5lbEhlYWRlclxuICAgICAgICAgICAgICAgICAgbGV2ZWw9ezF9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3B5LTQnXG4gICAgICAgICAgICAgICAgICBzaG93Q2xvc2U9eyEhdGhpcy5wcm9wcy5vbkNsb3NlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLnByb3BzLm9uQ2xvc2VDbGlja31cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2V0RGF0YVNvdXJjZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc2V0RGF0YVNvdXJjZSB9KX0+XG4gICAgICAgICAgICAgICAgPC9QYW5lbEhlYWRlcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIHB4LTQgbWItNCBzZWFyY2gnPlxuICAgICAgICAgICAgPFRleHRJbnB1dFxuICAgICAgICAgICAgICBwcmVmaXg9e1xuICAgICAgICAgICAgICAgIDxTZWFyY2hPdXRsaW5lZCBzaXplPSdtJyBjbGFzc05hbWU9J3NlYXJjaC1pY29uJyAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFZhbHVlfSBvbkNoYW5nZT17dGhpcy5vblNlYXJjaFZhbHVlQ2hhbmdlfSBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCdcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWFyY2gnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVNZXNzYWdlcy5zZWFyY2ggfSl9XG4gICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBweC00Jz5cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5oaWRlVHlwZURyb3Bkb3duICYmIHRoaXMucHJvcHMudHlwZXM/Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RzLXR5cGVzIG15LTQnPlxuICAgICAgICAgICAgICAgIDxEc1R5cGVzXG4gICAgICAgICAgICAgICAgICB0b1VzZVR5cGVzPXt0aGlzLnByb3BzLnR5cGVzfSBvblR5cGVTZWxlY3RlZD17dGhpcy5zZXRTZWxlY3RlZFR5cGV9IHNlbGVjdGVkVHlwZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRUeXBlc31cbiAgICAgICAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH0gaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3duPXt0aGlzLnByb3BzLmhpZGVBbGxPcHRpb25PZlR5cGVEcm9wZG93bn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgZHMtbGlzdC1jb250YWluZXInPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RzLWxpc3QtdGFicyBoLTEwMCc+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbmx5VXNlQWRkZWRcbiAgICAgICAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9J2gtMTAwJz5cbiAgICAgICAgICAgICAgICAgICAge0FkZGVkRGF0YX1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Qtbm9uZScgPntXaWRnZXRPdXRwdXR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9J2gtMTAwJz5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG9ubHlVc2VPdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9J2gtMTAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge1dpZGdldE91dHB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Qtbm9uZScgPntBZGRlZERhdGF9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDogRHNUYWJzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAoIXRoaXMucHJvcHMuZGlzYWJsZUFkZERhdGEgJiYgIXRoaXMucHJvcHMuaGlkZUFkZERhdGFCdXR0b24pICYmXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSd0ZXJ0aWFyeScgY2xhc3NOYW1lPScgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBweC00IGRzLWFkZC1kYXRhIHRleHQtbGVmdCBqaW11LW91dGxpbmUtaW5zaWRlJyBvbkNsaWNrPXt0aGlzLnNob3dFeHRlcm5hbERzfVxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGROZXdEYXRhJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGROZXdEYXRhIH0pfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhZGQtZGF0YS1pY29uLWNvbnRhaW5lciBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgbXItMic+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzT3V0bGluZWQgc2l6ZT0ncycgY2xhc3NOYW1lPSdhZGQtZGF0YS1pY29uIG0tMCcgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUgZmxleC1ncm93LTEnPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FkZE5ld0RhdGEnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmFkZE5ld0RhdGEgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHtcbiAgICAgICAgICAgICF0aGlzLnByb3BzLmlzRGF0YVNvdXJjZUluaXRlZFxuICAgICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmlzRXh0ZXJuYWxEc1Nob3duXG4gICAgICAgICAgICA/IDxNb2RhbFxuICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUuaXNFeHRlcm5hbERzU2hvd259IHN0eWxlPXt0aGlzLmV4dGVybmFsRHNTdHlsZX0gdG9nZ2xlPXt0aGlzLm9uVG9nZ2xlRXh0ZXJuYWxEc30gY29udGVudENsYXNzTmFtZT0naC0xMDAnXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nd2lkZ2V0LWRzLXNldHRpbmctYWRkLWRhdGEtcG9wdXAnIGtleWJvYXJkPXtmYWxzZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuRXh0ZXJuYWxEc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICAgICAgOiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5lcnJvck1zZyAmJiA8QWxlcnQgY2xhc3NOYW1lPSd3LTEwMCcgY3NzPXtjc3NgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDQwcHg7YH0gY2xvc2FibGUgZm9ybT0nYmFzaWMnIG9uQ2xvc2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IGVycm9yTXNnOiBudWxsIH0pIH19IG9wZW4gdGV4dD17dGhpcy5zdGF0ZS5lcnJvck1zZ30gdHlwZT0nd2FybmluZycgd2l0aEljb24gLz5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSk6IFN0YXRlRXh0cmFQcm9wcyA9PiB7XG4gIHJldHVybiB7XG4gICAgZGF0YVNvdXJjZXM6IHdpbmRvdz8uamltdUNvbmZpZz8uaXNCdWlsZGVyID8gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8uZGF0YVNvdXJjZXMgOiBzdGF0ZS5hcHBDb25maWc/LmRhdGFTb3VyY2VzXG4gIH1cbn1cbmV4cG9ydCBjb25zdCBEYXRhU291cmNlTGlzdCA9IHdpdGhTdHlsZXMoUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlRXh0cmFQcm9wcywgdW5rbm93biwgRGF0YVNvdXJjZUxpc3RQcm9wcz4obWFwU3RhdGVUb1Byb3BzKShpbmplY3RJbnRsPCdpbnRsJywgRGF0YVNvdXJjZUxpc3RQcm9wcyAmIEV4dHJhUHJvcHM+KF9EYXRhU291cmNlTGlzdCkpLCAnRGF0YVNvdXJjZUxpc3QnKVxuIiwiaW1wb3J0IHsgdHlwZSBEYXRhU291cmNlLCB0eXBlIElNRGF0YVNvdXJjZUpzb24sIHR5cGUgSW1tdXRhYmxlQXJyYXksIEltbXV0YWJsZSwgRGF0YVNvdXJjZU1hbmFnZXIsIHR5cGUgVXNlRGF0YVNvdXJjZSwgdHlwZSBBbGxEYXRhU291cmNlVHlwZXMgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZUdldFRvVXNlRHNzIChwYXJlbnREczogRGF0YVNvdXJjZSwgdG9Vc2VEc3M6IERhdGFTb3VyY2VbXSwgdG9Vc2VUeXBlczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPikge1xuICBpZiAoIXBhcmVudERzLmlzRGF0YVNvdXJjZVNldCkge1xuICAgIHJldHVyblxuICB9XG4gIHBhcmVudERzLmdldENoaWxkRGF0YVNvdXJjZXMoKS5mb3JFYWNoKChkczogRGF0YVNvdXJjZSkgPT4ge1xuICAgIGlmICghZHMgfHwgIWRzLmdldERhdGFTb3VyY2VKc29uKCkgfHwgIWRzLmlkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGdldFdoZXRoZXJVc2VEYXRhU291cmNlKGRzLmdldERhdGFTb3VyY2VKc29uKCksIHRvVXNlVHlwZXMpKSB7XG4gICAgICB0b1VzZURzcy5wdXNoKGRzKVxuICAgIH1cbiAgICB0cmF2ZXJzZUdldFRvVXNlRHNzKGRzLCB0b1VzZURzcywgdG9Vc2VUeXBlcylcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdoZXRoZXJVc2VEYXRhU291cmNlIChkc0pzb246IElNRGF0YVNvdXJjZUpzb24sIHRvVXNlVHlwZXM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4pOiBib29sZWFuIHtcbiAgaWYgKCFkc0pzb24pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdG9Vc2VUeXBlcy5zb21lKGN1ckRzVHlwZSA9PiBkc0pzb24udHlwZSAmJiAoY3VyRHNUeXBlID09PSBkc0pzb24udHlwZSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb1VzZUNoaWxkRHNzIChyb290RHNzOiBEYXRhU291cmNlW10sIHRvVXNlVHlwZXM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4pOiBQcm9taXNlPHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfT4ge1xuICBjb25zdCB0b1VzZURzcyA9IHt9XG5cbiAgaWYgKHRvVXNlVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0b1VzZURzcylcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGwocm9vdERzcy5maWx0ZXIocm9vdERzID0+IHJvb3REcyAmJiByb290RHMuaWQgJiYgIXJvb3REcy5nZXREYXRhU291cmNlSnNvbigpLmlzSGlkZGVuICYmIHJvb3REcy5pc0RhdGFTb3VyY2VTZXQgJiYgIXJvb3REcy5pc0RhdGFWaWV3ICYmICFyb290RHMuaXNMb2NhbCkubWFwKHJvb3REcyA9PiB7XG4gICAgaWYgKCF0b1VzZURzc1tyb290RHMuaWRdKSB7XG4gICAgICB0b1VzZURzc1tyb290RHMuaWRdID0gW11cbiAgICB9XG5cbiAgICB0cmF2ZXJzZUdldFRvVXNlRHNzKHJvb3REcywgdG9Vc2VEc3Nbcm9vdERzLmlkXSwgdG9Vc2VUeXBlcylcbiAgICByZXR1cm4gdG9Vc2VEc3Nbcm9vdERzLmlkXVxuICB9KSkudGhlbigoKSA9PiB7XG4gICAgT2JqZWN0LmtleXModG9Vc2VEc3MpLmZvckVhY2gocm9vdElkID0+IHtcbiAgICAgIGlmICh0b1VzZURzc1tyb290SWRdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdG9Vc2VEc3Nbcm9vdElkXVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gdG9Vc2VEc3NcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNvcnRlZExhYmVscyAobGFiZWxzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIGxhYmVscy5zb3J0KChsMSwgbDIpID0+IGwxPy5sb2NhbGVDb21wYXJlKGwyKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkZGVkRGF0YVR5cGVzICh0eXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPik6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz4ge1xuICBpZiAoIXR5cGVzKSB7XG4gICAgcmV0dXJuIEltbXV0YWJsZShbXSlcbiAgfVxuXG4gIHJldHVybiB0eXBlcy5maWx0ZXIodCA9PiAhIXQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdXRwdXRUeXBlcyAodHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz4pOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+IHtcbiAgaWYgKCF0eXBlcykge1xuICAgIHJldHVybiBJbW11dGFibGUoW10pXG4gIH1cblxuICByZXR1cm4gdHlwZXMuZmlsdGVyKHQgPT4gISF0KVxufVxuXG4vKipcbiAqIFJldHVybiBhbGwgcm9vdCBkYXRhIHNvdXJjZXMsIHdoaWNoIHNlbGYgaXMgW3RvLXVzZSBkYXRhIHNvdXJjZXNdKC4vY29tcG9uZW50cy9kcy1hZGRlZC1kYXRhLnRzeCkgb3Igd2hpY2ggY29udGFpbnMgdG8tdXNlIGNoaWxkIGRhdGEgc291cmNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFRvVXNlUm9vdERzcyAodG9Vc2VSb290RHNzOiBEYXRhU291cmNlW10sIHRvVXNlQ2hpbGREc3M6IHsgW3Jvb3REc0lkOiBzdHJpbmddOiBEYXRhU291cmNlW10gfSk6IERhdGFTb3VyY2VbXSB7XG4gIGxldCBhbGxUb1VzZVJvb3REc3MgPSB0b1VzZVJvb3REc3MgfHwgW11cbiAgdG9Vc2VDaGlsZERzcyAmJiBPYmplY3Qua2V5cyh0b1VzZUNoaWxkRHNzKS5mb3JFYWNoKHJvb3REc0lkID0+IHtcbiAgICBpZiAoIWFsbFRvVXNlUm9vdERzcy5zb21lKGRzID0+IGRzLmlkID09PSByb290RHNJZCkpIHtcbiAgICAgIGNvbnN0IHJvb3REcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShyb290RHNJZClcbiAgICAgIGlmIChyb290RHMpIHtcbiAgICAgICAgYWxsVG9Vc2VSb290RHNzID0gYWxsVG9Vc2VSb290RHNzLmNvbmNhdChyb290RHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBhbGxUb1VzZVJvb3REc3Ncbn1cblxuLyoqXG4gKiBSZXR1cm4gYWxsIFt0by11c2UgZGF0YSBzb3VyY2VzXSguL2NvbXBvbmVudHMvZHMtYWRkZWQtZGF0YS50c3gpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsVG9Vc2VEc3MgKHRvVXNlUm9vdERzczogRGF0YVNvdXJjZVtdLCB0b1VzZUNoaWxkRHNzOiB7IFtyb290RHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZVtdIH0pOiBEYXRhU291cmNlW10ge1xuICBsZXQgYWxsVG9Vc2VSb290RHNzID0gdG9Vc2VSb290RHNzIHx8IFtdXG4gIHRvVXNlQ2hpbGREc3MgJiYgT2JqZWN0LnZhbHVlcyh0b1VzZUNoaWxkRHNzKS5mb3JFYWNoKGRzcyA9PiB7XG4gICAgaWYgKGRzcyAmJiBkc3MubGVuZ3RoID4gMCkge1xuICAgICAgYWxsVG9Vc2VSb290RHNzID0gYWxsVG9Vc2VSb290RHNzLmNvbmNhdChkc3MpXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBhbGxUb1VzZVJvb3REc3Ncbn1cblxuZXhwb3J0IGVudW0gRGF0YVNvdXJjZVRhYiB7XG4gIEFkZGVkID0gJ0FEREVEJywgLy8gdXNlciBhZGRlZCBkYXRhXG4gIE91dHB1dCA9ICdPVVRQVVQnIC8vIHdpZGdldHMgb3V0cHV0IGRhdGFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRTZWxlY3RlZFR5cGVzICh0eXBlczogSW1tdXRhYmxlQXJyYXk8QWxsRGF0YVNvdXJjZVR5cGVzPiwgdXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+LCBoaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd246IGJvb2xlYW4pOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+IHtcbiAgaWYgKCFoaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd24pIHtcbiAgICAvLyBVc2UgYEFsbGAgYXMgZGVmYXVsdC5cbiAgICByZXR1cm4gbnVsbFxuICB9IGVsc2Uge1xuICAgIGlmICh1c2VEYXRhU291cmNlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmlyc3RTZWxlY3RlZERzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHVzZURhdGFTb3VyY2VzWzBdPy5kYXRhU291cmNlSWQpXG4gICAgICBjb25zdCBmaXJzdFNlbGVjdGVkRHNUeXBlID0gZmlyc3RTZWxlY3RlZERzPy50eXBlIGFzIEFsbERhdGFTb3VyY2VUeXBlc1xuICAgICAgcmV0dXJuIGZpcnN0U2VsZWN0ZWREc1R5cGUgJiYgdHlwZXM/LmluY2x1ZGVzKGZpcnN0U2VsZWN0ZWREc1R5cGUpID8gSW1tdXRhYmxlKFtmaXJzdFNlbGVjdGVkRHNUeXBlXSkgOiAodHlwZXM/LlswXSA/IEltbXV0YWJsZShbdHlwZXNbMF1dKSA6IG51bGwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0eXBlcz8uWzBdID8gSW1tdXRhYmxlKFt0eXBlc1swXV0pIDogbnVsbFxuICAgIH1cbiAgfVxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCB0eXBlIElNV2lkZ2V0SnNvbiwgdHlwZSBJbnRsU2hhcGUsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIFdpZGdldEpzb24sIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11Q29yZU1lc3NhZ2VzLFxuICBEYXRhU291cmNlTWFuYWdlciwgaW5qZWN0SW50bCwgY2xhc3NOYW1lcywgUmVhY3RSZWR1eCwgdHlwZSBJTVN0YXRlLCBtb2R1bGVMb2FkZXIsIHR5cGUgRGF0YVZpZXdKc29uLCBJbW11dGFibGUsIGdldEFwcFN0b3JlLCB0eXBlIElNUHJveHlKc29uXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgQnV0dG9uLCBNb2RhbCwgTW9kYWxIZWFkZXIsIE1vZGFsQm9keSwgQ2hlY2tib3gsIExhYmVsLCBJY29uLCBNb2RhbEZvb3RlciwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IHsgZ2V0V2lkZ2V0c1VzaW5nRHNPckl0c0Rlc2NlbmRhbnREc3MsIGVkaXREYXRhU291cmNlSnNvbiB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZW51bSBEYXRhU291cmNlUmVtb3ZlV2FyaW5nUmVhc29uIHtcbiAgLyoqXG4gICAqIERhdGEgc291cmNlIGlzIHJlbW92ZWQuXG4gICAqL1xuICBEYXRhU291cmNlUmVtb3ZlZCA9ICdEQVRBX1NPVVJDRV9SRU1PVkVEJyxcbiAgLyoqXG4gICAqIFNvdXJjZSB3aWRnZXQgb2Ygb3V0cHV0IGRhdGEgc291cmNlIGlzIHJlbW92ZWQuXG4gICAqL1xuICBTb3VyY2VXaWRnZXRSZW1vdmVkID0gJ1NPVVJDRV9XSURHRVRfUkVNT1ZFRCdcbn1cblxuaW50ZXJmYWNlIERhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUHJvcHMge1xuICAvKipcbiAgICogUmVhc29ucyB3aHkgbmVlZCB0byBzaG93IHRoZSB3YXJuaW5nIHBvcHVwLlxuICAgKi9cbiAgcmVhc29uOiBEYXRhU291cmNlUmVtb3ZlV2FyaW5nUmVhc29uXG4gIC8qKlxuICAgKiBJZiBgZGF0YVNvdXJjZUlkYCBpcyBwYXNzZWQgaW4sIHdpbGwgbGlzdCBhbGwgd2lkZ2V0cyByZWxhdGVkIHRvIHRoZSBkYXRhIHNvdXJjZSBhbmQgaWdub3JlIGB3aWRnZXRJZGAuXG4gICAqIE11c3QgcGFzcyBpbiBvbmUgb2YgYGRhdGFTb3VyY2VJZGAgYW5kIGB3aWRnZXRJZGAuXG4gICAqL1xuICBkYXRhU291cmNlSWQ/OiBzdHJpbmdcbiAgLyoqXG4gICAqIElmIGB3aWRnZXRJZGAgaXMgcGFzc2VkIGluLCB3aWxsIGxpc3QgYWxsIHdpZGdldHMgcmVsYXRlZCB0byBvdXRwdXQgZGF0YSBzb3VyY2VzIG9mIHRoZSB3aWRnZXQuXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBwcm9wcyBjYW4gYmUgc3VwZXJzZWRlZCBieSBgZGF0YVNvdXJjZUlkYC5cbiAgICogTXVzdCBwYXNzIGluIG9uZSBvZiBgZGF0YVNvdXJjZUlkYCBhbmQgYHdpZGdldElkYC5cbiAgICovXG4gIHdpZGdldElkPzogc3RyaW5nXG4gIC8qKlxuICAgKiBMYWJlbCBvZiB0aGUgcmVtb3ZlZCBkYXRhIHNvdXJjZS9zb3VyY2Ugd2lkZ2V0LlxuICAgKiBJZiBkbyBub3QgcGFzcyBpbiB0aGUgcHJvcHMsIHdpbGwgdXNlIGRhdGEgc291cmNlIGxhYmVsIG9yIHdpZGdldCBsYWJlbC5cbiAgICovXG4gIGxhYmVsPzogc3RyaW5nXG4gIGlzT3BlbjogYm9vbGVhblxuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgdG9nZ2xlOiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBXaWxsIGNhbGwgdGhpcyBmdW5jdGlvbiBhZnRlciByZW1vdmluZyBkYXRhIHNvdXJjZS9zb3VyY2Ugd2lkZ2V0IGFuZCByZWxhdGVkIHdpZGdldHMuXG4gICAqL1xuICBhZnRlclJlbW92ZT86ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIFdpbGwgY2FsbCB0aGlzIGZ1bmN0aW9uIGJlZm9yZSByZW1vdmluZyBkYXRhIHNvdXJjZS9zb3VyY2Ugd2lkZ2V0IGFuZCByZWxhdGVkIHdpZGdldHMuXG4gICAqL1xuICBiZWZvcmVSZW1vdmU/OiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBXaWxsIGNhbGwgdGhpcyBmdW5jdGlvbiBpZiBjYW5jZWwgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqL1xuICBvbkNhbmNlbD86ICgpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIEV4dHJhUHJvcHMge1xuICBpbnRsOiBJbnRsU2hhcGVcbn1cblxuaW50ZXJmYWNlIFN0YXRlVG9Qcm9wcyB7XG4gIHdpZGdldHM6IEltbXV0YWJsZU9iamVjdDx7IFt3aWRnZXRJZDogc3RyaW5nXTogV2lkZ2V0SnNvbiB9PlxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzZWxlY3RlZFdpZGdldHM6IHN0cmluZ1tdXG4gIGdldEFwcENvbmZpZ0FjdGlvbjogYW55XG4gIHByb3h5U2V0dGluZ1V0aWxzOiBhbnlcbn1cblxuY2xhc3MgX0RhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUG9wdXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PERhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUHJvcHMgJiBFeHRyYVByb3BzICYgU3RhdGVUb1Byb3BzLCBTdGF0ZT4ge1xuICBfX3VubW91bnQgPSBmYWxzZVxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2VsZWN0ZWRXaWRnZXRzOiBbXSxcbiAgICAgIGdldEFwcENvbmZpZ0FjdGlvbjogbnVsbCxcbiAgICAgIHByb3h5U2V0dGluZ1V0aWxzOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gZmFsc2VcbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBtb2R1bGVMb2FkZXIubG9hZE1vZHVsZSgnamltdS1mb3ItYnVpbGRlcicpLFxuICAgICAgbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJyldXG4gICAgKS50aGVuKHJlcyA9PiB7XG4gICAgICBjb25zdCBbeyBnZXRBcHBDb25maWdBY3Rpb24gfSwgeyBwcm94eVNldHRpbmdVdGlscyB9XSA9IHJlc1xuICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBnZXRBcHBDb25maWdBY3Rpb24sXG4gICAgICAgICAgcHJveHlTZXR0aW5nVXRpbHNcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuICYmICF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgdGhpcy5wcm9wcy50b2dnbGUoKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hlY2tib3hCdG5DbGljayA9IChzZWxlY3RlZCwgZSkgPT4ge1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLnNlbGVjdGVkV2lkZ2V0cy5pbmRleE9mKHNlbGVjdGVkKVxuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRXaWRnZXRzLnB1c2goc2VsZWN0ZWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRXaWRnZXRzLnNwbGljZShpbmRleCwgMSlcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkV2lkZ2V0czogWy4uLnRoaXMuc3RhdGUuc2VsZWN0ZWRXaWRnZXRzXSB9KVxuICB9XG5cbiAgb25SZW1vdmUgPSBhc3luYyAoZSkgPT4ge1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5nZXRBcHBDb25maWdBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMuYmVmb3JlUmVtb3ZlICYmIHRoaXMucHJvcHMuYmVmb3JlUmVtb3ZlKClcblxuICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5zdGF0ZS5nZXRBcHBDb25maWdBY3Rpb24oKVxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZFdpZGdldHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkV2lkZ2V0cy5mb3JFYWNoKCh3aWRnZXRJZCwgaSkgPT4ge1xuICAgICAgICAgIGFjdGlvbi5yZW1vdmVXaWRnZXQod2lkZ2V0SWQpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkge1xuICAgICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZClcbiAgICAgICAgaWYgKGRzPy5pc0RhdGFWaWV3KSB7XG4gICAgICAgICAgY29uc3QgZHNKc29uID0gZHMuZ2V0RGF0YVNvdXJjZUpzb24oKVxuICAgICAgICAgIGNvbnN0IGRhdGFWaWV3SWQgPSBkcy5kYXRhVmlld0lkXG4gICAgICAgICAgbGV0IGRhdGFWaWV3czogSW1tdXRhYmxlT2JqZWN0PHsgW2R2SWQ6IHN0cmluZ106IERhdGFWaWV3SnNvbiB9PiA9IGRzSnNvbi5kYXRhVmlld3MgfHwgSW1tdXRhYmxlKHt9IGFzIHsgW2R2SWQ6IHN0cmluZ106IERhdGFWaWV3SnNvbiB9KVxuICAgICAgICAgIGRhdGFWaWV3cyA9IGRhdGFWaWV3cy53aXRob3V0KGRhdGFWaWV3SWQpXG4gICAgICAgICAgY29uc3Qgcm9vdERzSnNvbiA9IGVkaXREYXRhU291cmNlSnNvbihkc0pzb24uc2V0SW4oWydkYXRhVmlld3MnXSwgZGF0YVZpZXdzKSlcbiAgICAgICAgICBhY3Rpb24uZWRpdERhdGFTb3VyY2Uocm9vdERzSnNvbikuZXhlYygpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXBwUHJveGllcyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnLmFwcFByb3hpZXNcbiAgICAgICAgICBsZXQgbmVlZFByb3h5RGF0YVNvdXJjZXNGcm9tQ3VycmVudERhdGFTb3VyY2UgPSB7fVxuICAgICAgICAgIGNvbnN0IHRvRGVsZXRlUHJveHlJZHMgPSBbXSAvLyBwcm94eSBpZFxuICAgICAgICAgIGNvbnN0IHRvRGVsZXRlUHJveHlKc29uSWQgPSBbXSAvLyBhcHAgcHJveHkganNvbiBpZCwgc29tdGhpbmcgbGlrZSBgYXBwUHJveHlfMWAsIGl0IGlzIGlkIGluIGV4YiBhcHAgY29uZmlnJ3MgYGFwcFJveGllc2BcbiAgICAgICAgICBsZXQgZXhpc3RpbmdQcm94eUpzb246IElNUHJveHlKc29uXG4gICAgICAgICAgbmVlZFByb3h5RGF0YVNvdXJjZXNGcm9tQ3VycmVudERhdGFTb3VyY2UgPSB0aGlzLnN0YXRlLnByb3h5U2V0dGluZ1V0aWxzPy50cmF2ZXJzZVRvR2V0TmVlZFByb3h5RGF0YVNvdXJjZXMgPyBhd2FpdCB0aGlzLnN0YXRlLnByb3h5U2V0dGluZ1V0aWxzLnRyYXZlcnNlVG9HZXROZWVkUHJveHlEYXRhU291cmNlcyhkcykgOiB7fVxuICAgICAgICAgIE9iamVjdC5rZXlzKG5lZWRQcm94eURhdGFTb3VyY2VzRnJvbUN1cnJlbnREYXRhU291cmNlKS5mb3JFYWNoKHNvdXJjZVVybCA9PiB7XG4gICAgICAgICAgICBleGlzdGluZ1Byb3h5SnNvbiA9IHRoaXMuc3RhdGUucHJveHlTZXR0aW5nVXRpbHM/LmdldFByb3h5SnNvbkZyb21Tb3VyY2VVcmwoc291cmNlVXJsLCBhcHBQcm94aWVzKVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nUHJveHlKc29uKSB7XG4gICAgICAgICAgICAgIHRvRGVsZXRlUHJveHlKc29uSWQucHVzaChleGlzdGluZ1Byb3h5SnNvbi5pZClcbiAgICAgICAgICAgICAgdG9EZWxldGVQcm94eUlkcy5wdXNoKGV4aXN0aW5nUHJveHlKc29uLnByb3h5SWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBhY3Rpb24ucmVtb3ZlRGF0YVNvdXJjZSh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkuZXhlYygpXG4gICAgICAgICAgdGhpcy5zdGF0ZS5wcm94eVNldHRpbmdVdGlscz8uZGVsZXRlUHJveGllcyh0b0RlbGV0ZVByb3h5SWRzLCBhY3Rpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5zdGF0ZS5nZXRBcHBDb25maWdBY3Rpb24oKVxuICAgICAgICAgICAgdG9EZWxldGVQcm94eUpzb25JZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgYWN0aW9uLnJlbW92ZUFwcFByb3h5KGlkKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGFjdGlvbi5leGVjKClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb24ucmVtb3ZlV2lkZ2V0KHRoaXMucHJvcHMud2lkZ2V0SWQpXG4gICAgICAgIGFjdGlvbi5leGVjKClcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcy5hZnRlclJlbW92ZSAmJiB0aGlzLnByb3BzLmFmdGVyUmVtb3ZlKClcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKGUpID0+IHtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKVxuICAgIHRoaXMucHJvcHMub25DYW5jZWwgJiYgdGhpcy5wcm9wcy5vbkNhbmNlbCgpXG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBzdG9wUHJvcGFnYXRpb24gPSBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucmVhc29uIHx8ICghdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgJiYgIXRoaXMucHJvcHMud2lkZ2V0SWQpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGRzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKVxuICAgIGNvbnN0IHdpZGdldEpzb24gPSB0aGlzLnByb3BzLndpZGdldHM/Llt0aGlzLnByb3BzLndpZGdldElkXVxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5wcm9wcy5sYWJlbCB8fCAodGhpcy5wcm9wcy5kYXRhU291cmNlSWQgPyAoZHM/LmdldExhYmVsKCkgfHwgdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpIDogKHdpZGdldEpzb24/LmxhYmVsIHx8IHRoaXMucHJvcHMud2lkZ2V0SWQpKVxuXG4gICAgbGV0IHJlbGF0ZWRXaWRnZXRzOiBJTVdpZGdldEpzb25bXSA9IFtdXG4gICAgaWYgKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSB7XG4gICAgICByZWxhdGVkV2lkZ2V0cyA9IGdldFdpZGdldHNVc2luZ0RzT3JJdHNEZXNjZW5kYW50RHNzKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB0aGlzLnByb3BzLndpZGdldHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG91dHB1dERhdGFTb3VyY2VJZHMgPSB3aWRnZXRKc29uPy5vdXRwdXREYXRhU291cmNlc1xuICAgICAgaWYgKG91dHB1dERhdGFTb3VyY2VJZHM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3V0cHV0RGF0YVNvdXJjZUlkcy5mb3JFYWNoKG91dHB1dERzSWQgPT4ge1xuICAgICAgICAgIGNvbnN0IHdpZGdldHNSZWxhdGVkVG9PdXRwdXQgPSBnZXRXaWRnZXRzVXNpbmdEc09ySXRzRGVzY2VuZGFudERzcyhvdXRwdXREc0lkLCB0aGlzLnByb3BzLndpZGdldHMpXG4gICAgICAgICAgd2lkZ2V0c1JlbGF0ZWRUb091dHB1dC5mb3JFYWNoKHcgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZWxhdGVkV2lkZ2V0cy5zb21lKHJ3ID0+IHcuaWQgPT09IHJ3LmlkKSkge1xuICAgICAgICAgICAgICByZWxhdGVkV2lkZ2V0cyA9IHJlbGF0ZWRXaWRnZXRzLmNvbmNhdCh3KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVyU3RyaW5nID0gdGhpcy5wcm9wcy5yZWFzb24gPT09IERhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb24uRGF0YVNvdXJjZVJlbW92ZWRcbiAgICAgID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZURhdGFTb3VyY2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlbW92ZURhdGFTb3VyY2UgfSlcbiAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ291dHB1dERhdGFXaWxsQmVSZW1vdmVkVG9nZXRoZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLm91dHB1dERhdGFXaWxsQmVSZW1vdmVkVG9nZXRoZXIgfSlcbiAgICBjb25zdCB3YXJuaW5nU3RyaW5nID0gdGhpcy5wcm9wcy5yZWFzb24gPT09IERhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb24uRGF0YVNvdXJjZVJlbW92ZWRcbiAgICAgID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZURhdGFXYXJuaW5nVGlwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5yZW1vdmVEYXRhV2FybmluZ1RpcCB9KVxuICAgICAgOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVtb3ZlU291cmNlV2lkZ2V0V2FybmluZ1RpcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucmVtb3ZlU291cmNlV2lkZ2V0V2FybmluZ1RpcCB9LCB7IHdpZGdldE5hbWU6IGxhYmVsIH0pXG4gICAgY29uc3QgYWZmZWN0ZWRXaWRnZXRzU3RyaW5nID0gdGhpcy5wcm9wcy5yZWFzb24gPT09IERhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb24uRGF0YVNvdXJjZVJlbW92ZWRcbiAgICAgID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZURhdGFBZmZlY3RlZFdpZGdldHMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlbW92ZURhdGFBZmZlY3RlZFdpZGdldHMgfSlcbiAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZVNvdXJjZVdpZGdldEFmZmVjdGVkV2lkZ2V0cycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucmVtb3ZlU291cmNlV2lkZ2V0QWZmZWN0ZWRXaWRnZXRzIH0pXG4gICAgY29uc3QgcmVtb3ZlQnV0dG9uU3RyaW5nID0gdGhpcy5wcm9wcy5yZWFzb24gPT09IERhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb24uRGF0YVNvdXJjZVJlbW92ZWRcbiAgICAgID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZURhdGFTb3VyY2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlbW92ZURhdGFTb3VyY2UgfSlcbiAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RlbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLmRlbGV0ZSB9KVxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvblN0cmluZyA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjYW5jZWwnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVNZXNzYWdlcy5jYW5jZWwgfSlcbiAgICBjb25zdCByZWxhdGVkV2lkZ2V0c1N0cmluZyA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdyZWxhdGVkV2lkZ2V0cycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucmVsYXRlZFdpZGdldHMgfSlcblxuICAgIGNvbnN0IHJlbW92ZURlc2NJZCA9IGAke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfS1kZXNjYFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbFxuICAgICAgICBpc09wZW49e3RoaXMucHJvcHMuaXNPcGVufVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2JnLWxpZ2h0LTMwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4nLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RvcFByb3BhZ2F0aW9ufSByb2xlPSdkaWFsb2cnIGFyaWEtbGFiZWw9e2hlYWRlclN0cmluZ30gYXJpYS1kZXNjcmliZWRieT17cmVtb3ZlRGVzY0lkfVxuICAgICAgPlxuICAgICAgICA8TW9kYWxIZWFkZXIgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYm9yZGVyLWNvbG9yLWdyYXktMzAwIHB5LTQgZm9udC0xNiBmb250LWRhcmstNjAwJyBvbkNsaWNrPXt0aGlzLnN0b3BQcm9wYWdhdGlvbn0gdG9nZ2xlPXt0aGlzLnByb3BzLnRvZ2dsZX0gdGl0bGU9e2hlYWRlclN0cmluZ30+XG4gICAgICAgICAge2hlYWRlclN0cmluZ31cbiAgICAgICAgPC9Nb2RhbEhlYWRlcj5cblxuICAgICAgICA8TW9kYWxCb2R5IG9uQ2xpY2s9e3RoaXMuc3RvcFByb3BhZ2F0aW9ufSBpZD17cmVtb3ZlRGVzY0lkfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHgtMiBweS0wJz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nZm9udC0xMyBmb250LWRhcmstNjAwJyBkYXRhLXRlc3RpZD0nY29uZmlybURlbGV0ZU1lc3NhZ2UnPlxuICAgICAgICAgICAgICB7d2FybmluZ1N0cmluZ31cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlYXNvbiA9PT0gRGF0YVNvdXJjZVJlbW92ZVdhcmluZ1JlYXNvbi5EYXRhU291cmNlUmVtb3ZlZFxuICAgICAgICAgICAgICAgID8gPHAgY2xhc3NOYW1lPSdmb250LTE0IGZvbnQtZGFyay04MDAgbXQtNCc+XG4gICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9J3JlbGF0ZWQtb3V0cHV0cyBweC0yIHB5LTQnPlxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXRKc29uPy5vdXRwdXREYXRhU291cmNlcz8ubWFwKG91dHB1dERzSWQgPT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9udC0xMyBmb250LWRhcmstODAwIG91dHB1dC1kcy1sYWJlbCcga2V5PXtvdXRwdXREc0lkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2Uob3V0cHV0RHNJZCk/LmdldExhYmVsKCkgfHwgb3V0cHV0RHNJZH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J2ZvbnQtMTMgZm9udC1kYXJrLTYwMCBtdC00Jz5cbiAgICAgICAgICAgICAge2FmZmVjdGVkV2lkZ2V0c1N0cmluZ31cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPGRpdiByb2xlPSdncm91cCcgYXJpYS1sYWJlbD17cmVsYXRlZFdpZGdldHNTdHJpbmd9PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2ZvbnQtMTQgZm9udC1kYXJrLTQwMCBtdC00Jz5cbiAgICAgICAgICAgICAgICB7cmVsYXRlZFdpZGdldHNTdHJpbmd9XG4gICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRlZC13aWRnZXRzIHB4LTIgcHktNCc+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFdpZGdldHMubWFwKCh3OiBJTVdpZGdldEpzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodyAmJiB3LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwga2V5PXt3LmlkfSBjbGFzc05hbWU9J2QtZmxleCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IGNsYXNzTmFtZT0nbXItMiBmb250LTEzJyBvbkNsaWNrPXtlID0+IHsgdGhpcy5vbkNoZWNrYm94QnRuQ2xpY2sody5pZCwgZSkgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zZWxlY3RlZFdpZGdldHMuaW5jbHVkZXMody5pZCl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17dy5pY29ufSBzaXplPScxNicgY2xhc3NOYW1lPSdtci0xIGZvbnQtZGFyay04MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3cubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nZm9udC0xMyBmb250LWRhcmstNjAwIG10LTIgbWItMCc+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaG93VG9SZW1vdmVXaWRnZXRzVGlwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5ob3dUb1JlbW92ZVdpZGdldHNUaXAgfSl9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Nb2RhbEJvZHk+XG5cbiAgICAgICAgPE1vZGFsRm9vdGVyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBtdDEwJz5cbiAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ncHJpbWFyeScgY2xhc3NOYW1lPSdtci0yJyBvbkNsaWNrPXt0aGlzLm9uUmVtb3ZlfSBhcmlhLWxhYmVsPXtyZW1vdmVCdXR0b25TdHJpbmd9PlxuICAgICAgICAgICAgICB7cmVtb3ZlQnV0dG9uU3RyaW5nfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uIHR5cGU9J2RlZmF1bHQnIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9IGFyaWEtbGFiZWw9e2NhbmNlbEJ1dHRvblN0cmluZ30+XG4gICAgICAgICAgICAgIHtjYW5jZWxCdXR0b25TdHJpbmd9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cbiAgICAgIDwvTW9kYWw+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IERhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUHJvcHMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICB3aWRnZXRzOiBzdGF0ZT8uYXBwQ29udGV4dD8uaXNCdWlsZGVyID8gc3RhdGU/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWc/LndpZGdldHMgOiBzdGF0ZT8uYXBwQ29uZmlnPy53aWRnZXRzXG4gIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgX19EYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwID0gUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9Qcm9wcywgdW5rbm93biwgRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQcm9wcz4obWFwU3RhdGVUb1Byb3BzKShfRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cClcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwID0gd2l0aFN0eWxlcyhpbmplY3RJbnRsPCdpbnRsJywgRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQcm9wcyAmIEV4dHJhUHJvcHM+KF9fRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cCksICdEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwJylcbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsIGpzeCwgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCB0eXBlIEludGxTaGFwZSwgRGF0YVNvdXJjZU1hbmFnZXIsIGNsYXNzTmFtZXMsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgRGF0YVZpZXdKc29uLCB0eXBlIElNRGF0YVZpZXdKc29uLCBJbW11dGFibGUsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LFxuICBDT05TVEFOVFMsIG1vZHVsZUxvYWRlciwgdHlwZSBJTURhdGFTb3VyY2VKc29uLCBnZXRBcHBTdG9yZSwgRGF0YVNvdXJjZVN0YXR1cywgZGF0YVNvdXJjZVV0aWxzLCB0eXBlIERhdGFTb3VyY2Vcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSWNvbiwgQnV0dG9uLCBkZWZhdWx0TWVzc2FnZXMsIERyb3Bkb3duLCBNdWx0aVNlbGVjdCwgdHlwZSBNdWx0aVNlbGVjdEl0ZW0sIENoZWNrYm94LCBEcm9wZG93bkl0ZW0sIERyb3Bkb3duQnV0dG9uLCBEcm9wZG93bk1lbnUsIExvYWRpbmcsIExvYWRpbmdUeXBlIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IHsgZWRpdERhdGFTb3VyY2VKc29uLCBnZXRBcHBDb25maWcgfSBmcm9tICcuLi8uLi8uLi91dGlscydcbmltcG9ydCB7IERhdGFWaWV3U2V0dGluZ1BvcHVwIH0gZnJvbSAnLi4vLi4vZGF0YS12aWV3LXNldHRpbmctcG9wdXAnXG5cbmltcG9ydCB7IENsb3NlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9jbG9zZSdcbmltcG9ydCB7IFBsdXNPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3BsdXMnXG5pbXBvcnQgeyBTZXR0aW5nT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL3NldHRpbmcnXG5pbXBvcnQgeyBERUZBVUxUX0RBVEFfVklFV19JRCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuXG5jb25zdCBDUkVBVEVfQV9WSUVXX0JVVFRPTiA9ICdjcmVhdGVfYV92aWV3J1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBtYWluRGF0YVNvdXJjZUlkOiBzdHJpbmdcbiAgLyoqXG4gICAqIFNlbGVjdGVkIGRhdGEgdmlld3MuXG4gICAqL1xuICBkYXRhVmlld3M6IEltbXV0YWJsZUFycmF5PERhdGFWaWV3SnNvbj5cbiAgaW50bDogSW50bFNoYXBlXG4gIERlZmF1bHREYXRhVmlldzogSU1EYXRhVmlld0pzb25cbiAgcm9vdERhdGFTb3VyY2VJZDogc3RyaW5nXG4gIGlubmVyUmVmPzogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PlxuICBpc011bHRpcGxlPzogYm9vbGVhblxuICBpc011bHRpcGxlRGF0YVZpZXc/OiBib29sZWFuXG4gIGRpc2FibGVEYXRhU291cmNlTGlzdD86IGJvb2xlYW5cbiAgZGlzYWJsZURhdGFWaWV3PzogYm9vbGVhblxuICBoaWRlQ3JlYXRlVmlld0J1dHRvbj86IGJvb2xlYW5cbiAgaGlkZURhdGFWaWV3PzogYm9vbGVhbiB8ICgoZGF0YVZpZXdKc29uOiBJTURhdGFWaWV3SnNvbiwgbWFpbkRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiBib29sZWFuKVxuICBoaWRlUmVtb3ZlPzogYm9vbGVhblxuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgb25DaGFuZ2U/OiAobWFpbkRhdGFTb3VyY2VJZDogc3RyaW5nLCBkYXRhVmlld3M6IEltbXV0YWJsZUFycmF5PERhdGFWaWV3SnNvbj4pID0+IHZvaWRcbiAgb25SZW1vdmU/OiAobWFpbkRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ2xpY2s/OiAobWFpbkRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGlzVmlld1NldHRpbmdPcGVuOiBib29sZWFuXG4gIGlzVmlld1NlbGVjdE9wZW46IGJvb2xlYW5cbiAgc2V0dGluZ0RhdGFWaWV3OiBJTURhdGFWaWV3SnNvbiAvLyBkYXRhIHZpZXcgd2hpY2ggaXMgb3BlbiBpbiBkYXRhIHZpZXcgc2V0dGluZyBwb3B1cFxuICBnZXRBcHBDb25maWdBY3Rpb246IGFueVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHNJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcyAmIHsgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgfSwgU3RhdGU+IHtcbiAgX191bm1vdW50ID0gZmFsc2VcbiAgdGFnRGl2ID0geyB0YWc6ICdkaXYnIH1cbiAgd2lkdGhGb3JEcm9wZG93bkl0ZW0gPSB7IHdpZHRoOiAnY2FsYygxMDAlIC0gMzBweCknIH1cbiAgd2lkdGhGb3JEcm9wZG93bkl0ZW1MYWJlbCA9IHsgd2lkdGg6ICdjYWxjKDEwMCUgLSA0MHB4KScgfVxuICB3aWR0aEZvck11bHRpRHJvcGRvd25JdGVtTGFiZWwgPSB7IHdpZHRoOiAnY2FsYygxMDAlIC0gNjBweCknIH1cblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNWaWV3U2V0dGluZ09wZW46IGZhbHNlLFxuICAgICAgaXNWaWV3U2VsZWN0T3BlbjogZmFsc2UsXG4gICAgICBzZXR0aW5nRGF0YVZpZXc6IG51bGwsXG4gICAgICBnZXRBcHBDb25maWdBY3Rpb246IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIG1vZHVsZUxvYWRlci5sb2FkTW9kdWxlKCdqaW11LWZvci1idWlsZGVyJykudGhlbihKaW11Rm9yQnVpbGRlciA9PiB7XG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbjogSmltdUZvckJ1aWxkZXIuZ2V0QXBwQ29uZmlnQWN0aW9uXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIG9uUmVtb3ZlID0gZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IHsgb25SZW1vdmUgfSA9IHRoaXMucHJvcHNcbiAgICBvblJlbW92ZSAmJiBvblJlbW92ZSh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlSWQpXG4gIH1cblxuICBvbkRhdGFWaWV3Q2hhbmdlID0gKGRhdGFWaWV3SWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghZGF0YVZpZXdJZCB8fCBkYXRhVmlld0lkID09PSBDUkVBVEVfQV9WSUVXX0JVVFRPTikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYWxsRGF0YVZpZXdzID0gdGhpcy5nZXRBbGxEYXRhVmlld3MoKVxuICAgIGNvbnN0IGNoYW5nZWREYXRhVmlldyA9IGFsbERhdGFWaWV3c1tkYXRhVmlld0lkXVxuICAgIGNvbnN0IG5ld0RhdGFWaWV3cyA9IEltbXV0YWJsZShbY2hhbmdlZERhdGFWaWV3LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSldKVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlSWQsIG5ld0RhdGFWaWV3cylcbiAgfVxuXG4gIG9uRGF0YVZpZXdLZXlEb3duID0gKGRhdGFWaWV3SWQ6IHN0cmluZywgZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0ICYmIChldnQua2V5ID09PSAnRW50ZXInIHx8IGV2dC5rZXkgPT09ICcgJykpIHtcbiAgICAgIHRoaXMub25EYXRhVmlld0NoYW5nZShkYXRhVmlld0lkKVxuICAgIH1cbiAgfVxuXG4gIG9uTXVsdGlEYXRhVmlld0NoYW5nZSA9IChlLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gQ1JFQVRFX0FfVklFV19CVVRUT04pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBhbGxEYXRhVmlld3MgPSB0aGlzLmdldEFsbERhdGFWaWV3cygpXG4gICAgY29uc3QgY2hhbmdlZERhdGFWaWV3ID0gYWxsRGF0YVZpZXdzW3ZhbHVlXVxuICAgIGNvbnN0IGRhdGFWaWV3cyA9IHRoaXMucHJvcHMuZGF0YVZpZXdzIHx8IEltbXV0YWJsZShbXSlcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5wcm9wcy5kYXRhVmlld3MgJiYgdGhpcy5wcm9wcy5kYXRhVmlld3MuZmluZCh2ID0+IHYuaWQgPT09IGNoYW5nZWREYXRhVmlldy5pZClcbiAgICBjb25zdCBuZXdEYXRhVmlld3MgPSBpc1NlbGVjdGVkID8gZGF0YVZpZXdzLmZpbHRlcih2ID0+IHYuaWQgIT09IGNoYW5nZWREYXRhVmlldy5pZCkgOiBkYXRhVmlld3MuY29uY2F0KGNoYW5nZWREYXRhVmlldylcblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZUlkLCBuZXdEYXRhVmlld3MpXG4gIH1cblxuICBmb3JtYXRNZXNzYWdlID0gKGlkOiBzdHJpbmcsIHZhbHVlcz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRNZXNzYWdlcylcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBtZXNzYWdlc1tpZF0gfSwgdmFsdWVzKVxuICB9XG5cbiAgZ2V0RHNMYWJlbCA9IChkYXRhU291cmNlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgZHNPYmogPSB0aGlzLmdldERzT2JqKGRhdGFTb3VyY2VJZClcbiAgICBjb25zdCBsYWJlbCA9IGRzT2JqICYmIGRzT2JqLmdldExhYmVsKClcbiAgICByZXR1cm4gbGFiZWwgfHwgdGhpcy5mb3JtYXRNZXNzYWdlKCdub25lJylcbiAgfVxuXG4gIGdldFdoZXRoZXJJdGVtRXJyb3IgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHJvb3REYXRhU291cmNlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IHJvb3REb05vdEhhdmVUaGVDaGlsZCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uZGF0YVNvdXJjZXNJbmZvPy5bcm9vdERhdGFTb3VyY2VJZF0/Lmluc3RhbmNlU3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkNyZWF0ZWQgJiYgIWdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uZGF0YVNvdXJjZXNJbmZvPy5bZGF0YVNvdXJjZUlkXT8uaW5zdGFuY2VTdGF0dXNcbiAgICAvLyBtYXkgZG8gbm90IGhhdmUgcm9vdCBkcyBpZFxuICAgIGNvbnN0IHJvb3RDcmVhdGVkRXJyb3IgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmRhdGFTb3VyY2VzSW5mbz8uW3Jvb3REYXRhU291cmNlSWRdPy5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVFcnJvclxuICAgIGNvbnN0IGRzSWRWYWxpZCA9IHR5cGVvZiBkYXRhU291cmNlSWQgPT09ICdzdHJpbmcnICYmIGRhdGFTb3VyY2VJZCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAvLyBtdXN0IGhhdmUgZHMgaWRcbiAgICBjb25zdCBkc0NyZWF0ZWRFcnJvciA9ICFkc0lkVmFsaWQgfHwgZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyPy5kYXRhU291cmNlc0luZm8/LltkYXRhU291cmNlSWRdPy5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVFcnJvclxuICAgIHJldHVybiByb290RG9Ob3RIYXZlVGhlQ2hpbGQgfHwgcm9vdENyZWF0ZWRFcnJvciB8fCBkc0NyZWF0ZWRFcnJvclxuICB9XG5cbiAgZ2V0QWxsRGF0YVZpZXdzID0gKCk6IEltbXV0YWJsZU9iamVjdDx7IFtkdklkOiBzdHJpbmddOiBEYXRhVmlld0pzb24gfT4gPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZUlkKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBjb25zdCBkc09iaiA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlSWQpXG4gICAgaWYgKGRzT2JqPy5pc0RhdGFTb3VyY2VTZXQpIHsgLy8gY2FuIG5vdCBjcmVhdGUgZGF0YSB2aWV3IGZvciBzZXQgZGF0YSBzb3VyY2VcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgZGF0YVNvdXJjZUpzb24gPSBkc09iaiAmJiBkc09iai5nZXREYXRhU291cmNlSnNvbigpXG4gICAgbGV0IGRhdGFWaWV3cyA9IGRhdGFTb3VyY2VKc29uPy5kYXRhVmlld3MgfHwgKEltbXV0YWJsZSh7fSkgYXMgSW1tdXRhYmxlT2JqZWN0PHsgW2R2SWQ6IHN0cmluZ106IERhdGFWaWV3SnNvbiB9PilcblxuICAgIC8vIEFkZCBkZWZhdWx0IHZpZXcsIGl0IGlzIGFjdHVhbGx5IG1haW4gZGF0YSBzb3VyY2UuXG4gICAgZGF0YVZpZXdzID0gZGF0YVZpZXdzXG4gICAgICAuc2V0KFxuICAgICAgICB0aGlzLnByb3BzLkRlZmF1bHREYXRhVmlldy5pZCxcbiAgICAgICAgZGF0YVNvdXJjZUpzb24/LnF1ZXJ5ID8gZGF0YVNvdXJjZUpzb24ucXVlcnkubWVyZ2UodGhpcy5wcm9wcy5EZWZhdWx0RGF0YVZpZXcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KSkgOiB0aGlzLnByb3BzLkRlZmF1bHREYXRhVmlld1xuICAgICAgKVxuXG4gICAgLy8gQWRkIHNlbGVjdGlvbiB2aWV3LlxuICAgIGNvbnN0IHNlbGVjdGlvbkRhdGFWaWV3OiBEYXRhVmlld0pzb24gPSB7XG4gICAgICBpZDogQ09OU1RBTlRTLlNFTEVDVElPTl9EQVRBX1ZJRVdfSUQsXG4gICAgICBsYWJlbDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlbGVjdGlvbkRhdGFWaWV3JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZWxlY3Rpb25EYXRhVmlldyB9KVxuICAgIH1cbiAgICBkYXRhVmlld3MgPSBkYXRhVmlld3Muc2V0KENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lELCBzZWxlY3Rpb25EYXRhVmlldylcblxuICAgIC8vIENhbiBub3Qgc2VsZWN0IHRoaXMgdmlldywgaXQgaXMgYW4gaW50ZXJuYWwgdmlldywgaXQgaXMgdXNlZCBhcyBkZWZhdWx0IHNlbGVjdGlvbiB3aGVuIGFjdHVhbGx5IG5vIHJlY29yZCBpcyBzZWxlY3RlZC5cbiAgICBkYXRhVmlld3MgPSBkYXRhVmlld3Mud2l0aG91dChDT05TVEFOVFMuREFUQV9WSUVXX0lEX0ZPUl9OT19TRUxFQ1RJT04pXG4gICAgLy8gTm8gbmVlZCB0byBzZWxlY3QgdGhpcyB2aWV3LCBpdCBpcyB1c2VkIGJ5IGRlZmF1bHQgd2hlbiBzZWxlY3QgYSBvdXRwdXQgZGF0YSBzb3VyY2UuXG4gICAgZGF0YVZpZXdzID0gZGF0YVZpZXdzLndpdGhvdXQoQ09OU1RBTlRTLk9VVFBVVF9EQVRBX1ZJRVdfSUQpXG5cbiAgICBjb25zdCBoaWRlRGF0YVZpZXcgPSB0eXBlb2YgdGhpcy5wcm9wcy5oaWRlRGF0YVZpZXcgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3BzLmhpZGVEYXRhVmlldyA6IG51bGxcbiAgICBoaWRlRGF0YVZpZXcgJiYgT2JqZWN0LnZhbHVlcyhkYXRhVmlld3MpLmZvckVhY2goZHYgPT4ge1xuICAgICAgaWYgKGhpZGVEYXRhVmlldyhkdiwgdGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZUlkKSkge1xuICAgICAgICBkYXRhVmlld3MgPSBkYXRhVmlld3Mud2l0aG91dChkdi5pZClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIGRhdGFWaWV3c1xuICB9XG5cbiAgZ2V0TXVsdGlTZWxlY3RJdGVtcyA9IChkYXRhVmlld3M6IEltbXV0YWJsZU9iamVjdDx7IFtkdklkOiBzdHJpbmddOiBEYXRhVmlld0pzb24gfT4pOiBJbW11dGFibGVBcnJheTxNdWx0aVNlbGVjdEl0ZW0+ID0+IHtcbiAgICBpZiAoIXRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2VJZCkge1xuICAgICAgcmV0dXJuIEltbXV0YWJsZShbXSlcbiAgICB9XG4gICAgY29uc3QgcmVzID0gW11cbiAgICBpZiAoZGF0YVZpZXdzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkYXRhVmlld3MpLmZvckVhY2godklkID0+IHtcbiAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiB2SWQsXG4gICAgICAgICAgbGFiZWw6IGRhdGFWaWV3c1t2SWRdLmxhYmVsLFxuICAgICAgICAgIHJlbmRlcjogKGl0ZW0sIHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LXN0YXJ0IHctMTAwJz5cbiAgICAgICAgICAgICAgICA8Q2hlY2tib3ggY2hlY2tlZD17dGhpcy5nZXRTZWxlY3RlZFZhbHVlRm9yTXV0aVNlbGVjdCgpLmluY2x1ZGVzKGl0ZW0udmFsdWUpfSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtbC0yIHRleHQtdHJ1bmNhdGUnIHN0eWxlPXt0aGlzLndpZHRoRm9yTXVsdGlEcm9wZG93bkl0ZW1MYWJlbH0gdGl0bGU9e2RhdGFWaWV3c1t2SWRdLmxhYmVsfT57ZGF0YVZpZXdzW3ZJZF0ubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRXaGV0aGVyQWxsb3dUb0NoYW5nZVZpZXdTZXR0aW5nKHZJZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSd0ZXJ0aWFyeScgc2l6ZT0nc20nIGNsYXNzTmFtZT0ncHgtMiBweS0wJyBvbkNsaWNrPXtlID0+IHsgdGhpcy5vbkRhdGFWaWV3Q2xpY2soZSwgZGF0YVZpZXdzW3ZJZF0pIH19IHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2V0dGluZ3MnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNldHRpbmdzIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ091dGxpbmVkIHNpemU9J3MnIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgYWxsb3dUb0NyZWF0ZVZpZXcgPSB0aGlzLmdldFdoZXRoZXJBbGxvd1RvQ3JlYXRlVmlldygpXG4gICAgaWYgKGFsbG93VG9DcmVhdGVWaWV3KSB7XG4gICAgICByZXMucHVzaCh7XG4gICAgICAgIHZhbHVlOiBDUkVBVEVfQV9WSUVXX0JVVFRPTixcbiAgICAgICAgcmVuZGVyOiAoKSA9PiB0aGlzLmdldENyZWF0ZVZpZXdCdXR0b24oKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gSW1tdXRhYmxlKHJlcylcbiAgfVxuXG4gIGdldENyZWF0ZVZpZXdCdXR0b24gPSAoKSA9PiB7IC8vIGNhbm5vdCBwdXQgYSBidXR0b24gaW50byBhbm90aGVyIGJ1dHRvbiAoZHJvcGRvd24gaXRlbSksIHNvIHVzZSBkaXYgaGVyZVxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uIHR5cGU9J3RlcnRpYXJ5JyBzaXplPSdzbScgb25DbGljaz17dGhpcy5vbkNyZWF0ZVZpZXdDbGlja30gY2xhc3NOYW1lPSdwLTAgbWItMSB3LTEwMCB0ZXh0LWxlZnQnPlxuICAgICAgICA8UGx1c091dGxpbmVkIHNpemU9J3MnIGNsYXNzTmFtZT0nbXItMScgLz5cbiAgICAgICAgPHNwYW4+e3RoaXMuZm9ybWF0TWVzc2FnZSgnY3JlYXRlQVZpZXcnKX08L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjcmVhdGUtdmlldy1idXR0b24tYm9yZGVyJz48L2Rpdj5cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGdldFNlbGVjdGVkVmFsdWVGb3JTaW5nbGVTZWxlY3QgPSAoKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhVmlld3MgJiYgdGhpcy5wcm9wcy5kYXRhVmlld3MubGVuZ3RoID4gMCA/IHRoaXMucHJvcHMuZGF0YVZpZXdzWzBdPy5pZCA6IHRoaXMucHJvcHMuRGVmYXVsdERhdGFWaWV3LmlkXG4gIH1cblxuICBnZXRTZWxlY3RlZFZhbHVlRm9yTXV0aVNlbGVjdCA9ICgpOiBJbW11dGFibGVBcnJheTxzdHJpbmc+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhVmlld3MgJiYgdGhpcy5wcm9wcy5kYXRhVmlld3MubGVuZ3RoID4gMCA/IHRoaXMucHJvcHMuZGF0YVZpZXdzLm1hcCh2ID0+IHYuaWQpIDogSW1tdXRhYmxlKFt0aGlzLnByb3BzLkRlZmF1bHREYXRhVmlldy5pZF0pXG4gIH1cblxuICBnZXRNdWx0aVNlbGVjdFNlbGVjdGVkU3RyaW5nID0gKHZhbHVlczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyA9PiB7XG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TWVzc2FnZSgnbnVtU2VsZWN0ZWQnLCB7IG51bWJlcjogdmFsdWVzLmxlbmd0aCB9KVxuICAgIH1cbiAgfVxuXG4gIG9uRGF0YVZpZXdDbGljayA9IChlLCBkYXRhVmlldzogSU1EYXRhVmlld0pzb24pID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2V0dGluZ0RhdGFWaWV3OiBkYXRhVmlld1xuICAgIH0pXG4gICAgdGhpcy50b2dnbGVWaWV3U2V0dGluZygpXG4gIH1cblxuICBvbkNyZWF0ZVZpZXdDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNldHRpbmdEYXRhVmlldzogbnVsbFxuICAgIH0pXG4gICAgdGhpcy50b2dnbGVWaWV3U2V0dGluZygpXG4gIH1cblxuICBvbkNyZWF0ZVZpZXdLZXlEb3duID0gZXZ0ID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgJiYgKGV2dC5rZXkgPT09ICdFbnRlcicgfHwgZXZ0LmtleSA9PT0gJyAnKSkge1xuICAgICAgdGhpcy5vbkNyZWF0ZVZpZXdDbGljaygpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlVmlld1NldHRpbmcgPSAoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBpc1ZpZXdTZXR0aW5nT3BlbjogIXRoaXMuc3RhdGUuaXNWaWV3U2V0dGluZ09wZW4gfSkgfVxuXG4gIHRvZ2dsZVZpZXdTZWxlY3QgPSAoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBpc1ZpZXdTZWxlY3RPcGVuOiAhdGhpcy5zdGF0ZS5pc1ZpZXdTZWxlY3RPcGVuIH0pIH1cblxuICBzdG9wUHJvcGFnYXRpb24gPSBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgb25EYXRhVmlld1NldHRpbmdBcHBseSA9IChkYXRhVmlldzogSU1EYXRhVmlld0pzb24pID0+IHtcbiAgICBpZiAoZGF0YVZpZXcuaWQgPT09IHRoaXMucHJvcHMuRGVmYXVsdERhdGFWaWV3LmlkKSB7XG4gICAgICB0aGlzLmVkaXRRdWVyeShkYXRhVmlldylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lZGl0RGF0YVZpZXcoZGF0YVZpZXcpXG4gICAgfVxuICB9XG5cbiAgZWRpdFF1ZXJ5ID0gKGRhdGFWaWV3OiBJTURhdGFWaWV3SnNvbikgPT4ge1xuICAgIGlmICghZGF0YVZpZXcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGdldEFwcENvbmZpZ0FjdGlvbiA9IHRoaXMuc3RhdGUuZ2V0QXBwQ29uZmlnQWN0aW9uXG4gICAgaWYgKCFnZXRBcHBDb25maWdBY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGRzT2JqID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2VJZClcbiAgICBjb25zdCBkc0pzb24gPSBkc09iaiAmJiBkc09iai5nZXREYXRhU291cmNlSnNvbigpXG4gICAgaWYgKCFkc0pzb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHJvb3REc0pzb24gPSBlZGl0RGF0YVNvdXJjZUpzb24oXG4gICAgICBkc0pzb24uc2V0SW4oXG4gICAgICAgIFsncXVlcnknXSxcbiAgICAgICAgZHNKc29uPy5xdWVyeVxuICAgICAgICAgID8gZHNKc29uLnF1ZXJ5Lm1lcmdlKGRhdGFWaWV3LndpdGhvdXQoJ2lkJykud2l0aG91dCgnbGFiZWwnKS5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICAgICAgICAgIDogZGF0YVZpZXcuc2V0KCdpZCcsICdkZWZhdWx0Jykuc2V0KCdsYWJlbCcsIGRzT2JqLmdldExhYmVsKCkpXG4gICAgICApXG4gICAgKVxuXG4gICAgZ2V0QXBwQ29uZmlnQWN0aW9uKCkuZWRpdERhdGFTb3VyY2Uocm9vdERzSnNvbikuZXhlYygpXG4gICAgZHNPYmouYWRkU291cmNlVmVyc2lvbigpXG4gICAgdGhpcy50b2dnbGVWaWV3U2V0dGluZygpXG4gIH1cblxuICBlZGl0RGF0YVZpZXcgPSAoZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uKSA9PiB7XG4gICAgaWYgKCFkYXRhVmlldykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0QXBwQ29uZmlnQWN0aW9uID0gdGhpcy5zdGF0ZS5nZXRBcHBDb25maWdBY3Rpb25cbiAgICBpZiAoIWdldEFwcENvbmZpZ0FjdGlvbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgZHNPYmogPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZUlkKVxuICAgIGNvbnN0IGRzSnNvbiA9IGRzT2JqICYmIGRzT2JqLmdldERhdGFTb3VyY2VKc29uKClcbiAgICBsZXQgZGF0YVZpZXdzOiBJbW11dGFibGVPYmplY3Q8eyBbZHZJZDogc3RyaW5nXTogRGF0YVZpZXdKc29uIH0+ID0gZHNKc29uLmRhdGFWaWV3cyB8fCBJbW11dGFibGUoe30gYXMgeyBbZHZJZDogc3RyaW5nXTogRGF0YVZpZXdKc29uIH0pXG4gICAgZGF0YVZpZXdzID0gZGF0YVZpZXdzLnNldChkYXRhVmlldy5pZCwgZGF0YVZpZXcpXG4gICAgY29uc3Qgcm9vdERzSnNvbiA9IGVkaXREYXRhU291cmNlSnNvbihkc0pzb24uc2V0SW4oWydkYXRhVmlld3MnXSwgZGF0YVZpZXdzKSlcbiAgICBnZXRBcHBDb25maWdBY3Rpb24oKS5lZGl0RGF0YVNvdXJjZShyb290RHNKc29uKS5leGVjKClcbiAgICBpZiAoIWRzT2JqLmdldERhdGFWaWV3KGRhdGFWaWV3Py5pZCkpIHtcbiAgICAgIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlRGF0YVNvdXJjZShkc0pzb24sIGRhdGFWaWV3LmlkKS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZXR0aW5nRGF0YVZpZXc6IGRhdGFWaWV3IH0pXG4gICAgICAgICAgdGhpcy50b2dnbGVWaWV3U2V0dGluZygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZXR0aW5nRGF0YVZpZXc6IGRhdGFWaWV3IH0pXG4gICAgICBkc09iai5hZGRTb3VyY2VWZXJzaW9uKClcbiAgICAgIHRoaXMudG9nZ2xlVmlld1NldHRpbmcoKVxuICAgIH1cbiAgfVxuXG4gIGdldFdoZXRoZXJBbGxvd1RvQ3JlYXRlVmlldyA9ICgpOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRlQ3JlYXRlVmlld0J1dHRvbikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IGRzT2JqID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2VJZClcbiAgICByZXR1cm4gZHNPYmogJiYgIWRzT2JqLmlzRGF0YVNvdXJjZVNldCAmJiAhZHNPYmouZ2V0RGF0YVNvdXJjZUpzb24oKS5pc091dHB1dEZyb21XaWRnZXRcbiAgfVxuXG4gIGdldFdoZXRoZXJBbGxvd1RvQ2hhbmdlVmlld1NldHRpbmcgPSAodklkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBpc1NlbGVjdGlvblZpZXcgPSB2SWQgPT09IENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lEXG4gICAgaWYgKGlzU2VsZWN0aW9uVmlldykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IG1haW5EcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlSWQpXG4gICAgaWYgKG1haW5Ecz8uZ2V0RGF0YVNvdXJjZUpzb24oKT8uaXNPdXRwdXRGcm9tV2lkZ2V0KSB7XG4gICAgICAvLyBJZiBpcyBvdXRwdXQgZGF0YSBzb3VyY2UsIHNob3VsZG4ndCBhbGxvdyB0byBjaGFuZ2UgZGF0YSB2aWV3IHNldHRpbmcuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DbGljayAmJiB0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZUlkKVxuICB9XG5cbiAgb25LZXlEb3duID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCAmJiAoZXZ0LmtleSA9PT0gJ0VudGVyJyB8fCBldnQua2V5ID09PSAnICcpKSB7XG4gICAgICB0aGlzLm9uQ2xpY2soKVxuICAgIH1cbiAgfVxuXG4gIGFmdGVyUmVtb3ZlRGF0YVZpZXcgPSAoZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGF0YVZpZXdzPy5zb21lKHYgPT4gdi5pZCA9PT0gZGF0YVZpZXcuaWQpKSB7XG4gICAgICB0aGlzLm9uRGF0YVZpZXdDaGFuZ2UoREVGQVVMVF9EQVRBX1ZJRVdfSUQpXG4gICAgfVxuICB9XG5cbiAgZ2V0RHNPYmogPSAobWFpbkRzSWQ6IHN0cmluZyk6IERhdGFTb3VyY2UgPT4ge1xuICAgIGxldCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShtYWluRHNJZClcbiAgICBpZiAoZHM/LmdldERhdGFTb3VyY2VKc29uKCk/LmlzT3V0cHV0RnJvbVdpZGdldCkge1xuICAgICAgZHMgPSBkcy5nZXRNYWluRGF0YVNvdXJjZSgpLmdldERhdGFWaWV3KENPTlNUQU5UUy5PVVRQVVRfREFUQV9WSUVXX0lEKVxuICAgIH1cbiAgICByZXR1cm4gZHNcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgbWFpbkRhdGFTb3VyY2VJZCA9IHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2VJZFxuICAgIGlmICghbWFpbkRhdGFTb3VyY2VJZCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgY29uc3QgZHNPYmogPSB0aGlzLmdldERzT2JqKG1haW5EYXRhU291cmNlSWQpXG4gICAgY29uc3QgZGF0YVNvdXJjZUpzb246IElNRGF0YVNvdXJjZUpzb24gPSBkc09iaj8uZ2V0RGF0YVNvdXJjZUpzb24oKVxuICAgIGNvbnN0IHJvb3REYXRhU291cmNlSWQgPSB0aGlzLnByb3BzLnJvb3REYXRhU291cmNlSWQgfHwgbWFpbkRhdGFTb3VyY2VJZFxuICAgIGNvbnN0IGlzRGF0YUluQ29uZmlnID0gZ2V0QXBwQ29uZmlnKCk/LmRhdGFTb3VyY2VzPy5bcm9vdERhdGFTb3VyY2VJZF1cbiAgICBjb25zdCBpc0RhdGFFcnJvciA9IHRoaXMuZ2V0V2hldGhlckl0ZW1FcnJvcihtYWluRGF0YVNvdXJjZUlkLCByb290RGF0YVNvdXJjZUlkKVxuICAgIC8vIGRhdGEgc291cmNlIGlzIG5vdCBjcmVhdGVkLCBkYXRhIHNvdXJjZSBleGlzdHMgaW4gY29uZmlnIGFuZCBkYXRhIHNvdXJjZSBpcyBub3QgZXJyb3IuXG4gICAgY29uc3QgaXNMb2FkaW5nU2hvd24gPSAhZHNPYmogJiYgaXNEYXRhSW5Db25maWcgJiYgIWlzRGF0YUVycm9yXG4gICAgY29uc3QgZGF0YVZpZXdzID0gdGhpcy5nZXRBbGxEYXRhVmlld3MoKVxuICAgIGNvbnN0IGFsbG93VG9TZWxlY3RNdWx0aXBsZURhdGFWaWV3cyA9ICh0aGlzLnByb3BzLmlzTXVsdGlwbGUgJiYgdHlwZW9mIHRoaXMucHJvcHMuaXNNdWx0aXBsZURhdGFWaWV3ICE9PSAnYm9vbGVhbicpIHx8IHRoaXMucHJvcHMuaXNNdWx0aXBsZURhdGFWaWV3XG4gICAgY29uc3QgY2xvc2VJY29uQ29tcG9uZW50ID0gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBpY29uIHNpemU9J3NtJyB0eXBlPSd0ZXJ0aWFyeScgdGl0bGU9e3RoaXMuZm9ybWF0TWVzc2FnZSgncmVtb3ZlJyl9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25SZW1vdmV9IGNsYXNzTmFtZT0nZHMtaXRlbS1jbG9zZSdcbiAgICAgID5cbiAgICAgICAgPENsb3NlT3V0bGluZWQgc2l6ZT0ncycgLz5cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgICBjb25zdCBhbGxvd1RvQ3JlYXRlVmlldyA9IHRoaXMuZ2V0V2hldGhlckFsbG93VG9DcmVhdGVWaWV3KClcbiAgICBjb25zdCBzaG93RGF0YVZpZXdEcm9wZG93biA9IHRoaXMucHJvcHMuaGlkZURhdGFWaWV3ICE9PSB0cnVlXG4gICAgY29uc3QgZHNMYWJlbCA9IHRoaXMuZ2V0RHNMYWJlbChtYWluRGF0YVNvdXJjZUlkKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgPyBgdy0xMDAgYWRkZWQtZHMtaXRlbSAke3RoaXMucHJvcHMuY2xhc3NOYW1lfWAgOiAndy0xMDAgYWRkZWQtZHMtaXRlbSd9ID5cbiAgICAgICAgeyBpc0xvYWRpbmdTaG93biAmJiA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1jb250YWluZXInPjxMb2FkaW5nIHR5cGU9e0xvYWRpbmdUeXBlLkJhcn0gLz48L2Rpdj59XG4gICAgICAgIHtcbiAgICAgICAgICBpc0xvYWRpbmdTaG93biAmJiA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1wbGFjZWhvbGRlcic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmlyc3QtbGluZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTIgcGItMSc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmaXJzdC1saW5lLWxlZnQgbXItMic+PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmaXJzdC1saW5lLXJpZ2h0IGZsZXgtZ3Jvdy0xJz48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NlY29uZC1saW5lIHctMTAwJz48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgIWlzTG9hZGluZ1Nob3duICYmXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZHMtaXRlbScsIHtcbiAgICAgICAgICAgICAgICAnZHMtZXJyb3ItaXRlbSc6IGlzRGF0YUVycm9yLFxuICAgICAgICAgICAgICAgICdkaXNhYmxlLWN1cnNvcic6IHRoaXMucHJvcHMuZGlzYWJsZURhdGFTb3VyY2VMaXN0XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgICAgIHJvbGU9J21lbnVpdGVtJ1xuICAgICAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICAgICAgcmVmPXt0aGlzLnByb3BzLmlubmVyUmVmfVxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtkc0xhYmVsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciB3LTEwMCBpdGVtJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGZsZXgtc2hyaW5rLTAgZHMtdGh1bWJuYWlsJz5cbiAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e2RhdGFTb3VyY2VVdGlscy5nZXREc0ljb24oZGF0YVNvdXJjZUpzb24pfSBjbGFzc05hbWU9J3RleHQtZGFyaycgc2l6ZT0nMTInIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xIHRleHQtdHJ1bmNhdGUgcGwtMiBkcy10eXBlJz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXRydW5jYXRlIGRzLXR5cGUtbmFtZScgdGl0bGU9e2RzTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICB7ZHNMYWJlbH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmhpZGVSZW1vdmUgJiYgY2xvc2VJY29uQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2hvd0RhdGFWaWV3RHJvcGRvd24gJiYgZGF0YVZpZXdzICYmIE9iamVjdC5rZXlzKGRhdGFWaWV3cykubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2R2LXNlbGVjdC1jb250YWluZXInPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgIWFsbG93VG9TZWxlY3RNdWx0aXBsZURhdGFWaWV3c1xuICAgICAgICAgICAgICAgICAgICAgICAgPyA8RHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1aWQgYWN0aXZlSWNvbiBhdXRvV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdG9wUHJvcGFnYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5pc1ZpZXdTZWxlY3RPcGVufSB0b2dnbGU9e3RoaXMudG9nZ2xlVmlld1NlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZURhdGFWaWV3IHx8IGlzRGF0YUVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlbGVjdEFEYXRhVmlldycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbUNoZWNrTW9kZT0nc2luZ2xlQ2hlY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRJbnNpZGVOb2Rlc0FjY2Vzc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duQnV0dG9uIG9uQ2xpY2s9e3RoaXMudG9nZ2xlVmlld1NlbGVjdH0gdHlwZT0ndGVydGlhcnknIGNsYXNzTmFtZT0nZGF0YS12aWV3LWRyb3Bkb3duLW1lbnUtYnV0dG9uJyBzaXplPSdzbScgYXJyb3c9eyF0aGlzLnByb3BzLmRpc2FibGVEYXRhVmlld30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkYXRhVmlld3NbdGhpcy5nZXRTZWxlY3RlZFZhbHVlRm9yU2luZ2xlU2VsZWN0KCldPy5sYWJlbCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGRhdGFWaWV3cykubWFwKCh2LCBpKSA9PiA8RHJvcGRvd25JdGVtIGtleT17aX0gdGFnPSdkaXYnIHRhYkluZGV4PXswfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25EYXRhVmlld0NoYW5nZSh2LmlkKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLm9uRGF0YVZpZXdLZXlEb3duKHYuaWQsIGUpIH19IGFjdGl2ZT17dGhpcy5nZXRTZWxlY3RlZFZhbHVlRm9yU2luZ2xlU2VsZWN0KCkgPT09IHYuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt0aGlzLndpZHRoRm9yRHJvcGRvd25JdGVtfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUnIHRpdGxlPXt2LmxhYmVsfSBzdHlsZT17dGhpcy53aWR0aEZvckRyb3Bkb3duSXRlbUxhYmVsfT57di5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNWaWV3U2VsZWN0T3BlbiAmJiB0aGlzLmdldFdoZXRoZXJBbGxvd1RvQ2hhbmdlVmlld1NldHRpbmcodi5pZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ndGVydGlhcnknIHNpemU9J3NtJyBpY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ncHgtMiBzZXR0aW5ncy1pY29uIHB5LTAnIG9uQ2xpY2s9e2UgPT4geyB0aGlzLm9uRGF0YVZpZXdDbGljayhlLCB2KSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NldHRpbmdzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZXR0aW5ncyB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdPdXRsaW5lZCBzaXplPSdzJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25JdGVtPilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YWxsb3dUb0NyZWF0ZVZpZXcgJiYgPERyb3Bkb3duSXRlbSB0YWc9J2Rpdicgb25LZXlEb3duPXt0aGlzLm9uQ3JlYXRlVmlld0tleURvd259IGNsYXNzTmFtZT0nY3JlYXRlLXZpZXctYnV0dG9uJz57dGhpcy5nZXRDcmVhdGVWaWV3QnV0dG9uKCl9PC9Ecm9wZG93bkl0ZW0+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd24+XG4gICAgICAgICAgICAgICAgICAgICAgICA6IDxNdWx0aVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVpZCBpdGVtcz17dGhpcy5nZXRNdWx0aVNlbGVjdEl0ZW1zKGRhdGFWaWV3cyl9IG9uQ2xpY2tJdGVtPXt0aGlzLm9uTXVsdGlEYXRhVmlld0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt0aGlzLmdldFNlbGVjdGVkVmFsdWVGb3JNdXRpU2VsZWN0KCl9IGFyaWEtbGFiZWw9e3RoaXMuZm9ybWF0TWVzc2FnZSgnc2VsZWN0QURhdGFWaWV3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblByb3BzPXt7IC4uLnRoaXMudGFnRGl2LCBkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlRGF0YVZpZXcgfHwgaXNEYXRhRXJyb3IsIGFycm93OiAhdGhpcy5wcm9wcy5kaXNhYmxlRGF0YVZpZXcgfX0gZGlzcGxheUJ5VmFsdWVzPXt0aGlzLmdldE11bHRpU2VsZWN0U2VsZWN0ZWRTdHJpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtUHJvcHM9e3RoaXMudGFnRGl2fSBzaXplPSdzbScgYXV0b1dpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgYWxsb3dUb0NyZWF0ZVZpZXcgJiZcbiAgICAgICAgICAgIDxEYXRhVmlld1NldHRpbmdQb3B1cFxuICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUuaXNWaWV3U2V0dGluZ09wZW59XG4gICAgICAgICAgICAgIHRvZ2dsZT17dGhpcy50b2dnbGVWaWV3U2V0dGluZ31cbiAgICAgICAgICAgICAgb25BcHBseT17dGhpcy5vbkRhdGFWaWV3U2V0dGluZ0FwcGx5fVxuICAgICAgICAgICAgICBvbkR1cGxpY2F0ZT17dGhpcy5vbkRhdGFWaWV3U2V0dGluZ0FwcGx5fVxuICAgICAgICAgICAgICBhZnRlclJlbW92ZT17dGhpcy5hZnRlclJlbW92ZURhdGFWaWV3fVxuICAgICAgICAgICAgICBtYWluRGF0YVNvdXJjZT17ZHNPYmp9XG4gICAgICAgICAgICAgIGRhdGFWaWV3PXt0aGlzLnN0YXRlLnNldHRpbmdEYXRhVmlld31cbiAgICAgICAgICAgICAgZGlzYWJsZUR1cGxpY2F0ZT17IXRoaXMuc3RhdGUuc2V0dGluZ0RhdGFWaWV3IHx8IHRoaXMuc3RhdGUuc2V0dGluZ0RhdGFWaWV3Py5pZCA9PT0gdGhpcy5wcm9wcy5EZWZhdWx0RGF0YVZpZXcuaWR9XG4gICAgICAgICAgICAgIGRpc2FibGVSZW1vdmU9eyF0aGlzLnN0YXRlLnNldHRpbmdEYXRhVmlldyB8fCB0aGlzLnN0YXRlLnNldHRpbmdEYXRhVmlldz8uaWQgPT09IHRoaXMucHJvcHMuRGVmYXVsdERhdGFWaWV3LmlkfVxuICAgICAgICAgICAgICBkaXNhYmxlUmVuYW1lPXt0aGlzLnN0YXRlLnNldHRpbmdEYXRhVmlldz8uaWQgPT09IHRoaXMucHJvcHMuRGVmYXVsdERhdGFWaWV3LmlkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LCB0eXBlIERhdGFTb3VyY2VKc29uLCB1cmxVdGlscywgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBqc3gsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIEltbXV0YWJsZUFycmF5LCBtb2R1bGVMb2FkZXIsIGxvZGFzaCwgdHlwZSBBbGxEYXRhU291cmNlVHlwZXMsIHR5cGUgRGF0YVNvdXJjZSxcbiAgdHlwZSBJbnRsU2hhcGUsIHR5cGUgRGF0YVNvdXJjZUluZm8sIHR5cGUgVXNlRGF0YVNvdXJjZSwgSW1tdXRhYmxlLCB0eXBlIERhdGFWaWV3SnNvbiwgdHlwZSBJTVVzZURhdGFTb3VyY2UsIERhdGFTb3VyY2VNYW5hZ2VyLCB0eXBlIElNRGF0YVZpZXdKc29uLCBDT05TVEFOVFMsIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgRGF0YVNvdXJjZVN0YXR1c1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIExpbmsgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnamltdS10aGVtZSdcblxuaW1wb3J0IHsgREVGQVVMVF9EQVRBX1ZJRVdfSUQgfSBmcm9tICcuLi8uLi8uLi90eXBlcydcbmltcG9ydCB7IGdldFdoZXRoZXJEYXRhU291cmNlSXNJbml0ZWQgfSBmcm9tICcuLi8uLi8uLi91dGlscydcbmltcG9ydCB7IERhdGFTb3VyY2VMaXN0IH0gZnJvbSAnLi4vLi4vZGF0YS1zb3VyY2UtbGlzdCdcbmltcG9ydCBEc0l0ZW0gZnJvbSAnLi9hZGRlZC1kcy1pdGVtJ1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc0RhdGFTb3VyY2VJbml0ZWQ6IGJvb2xlYW5cbiAgbW9kYWxUeXBlOiAnbm9uZScgfCAnZHMnXG4gIFNpZGVQb3BwZXJcbn1cblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgd2lkZ2V0SWQ/OiBzdHJpbmdcbiAgZnJvbVJvb3REc0lkcz86IEltbXV0YWJsZUFycmF5PHN0cmluZz5cbiAgYnV0dG9uTGFiZWw/OiBzdHJpbmdcbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBpc011bHRpcGxlPzogYm9vbGVhblxuICBpc011bHRpcGxlRGF0YVZpZXc/OiBib29sZWFuXG4gIGNsb3NlRGF0YVNvdXJjZUxpc3RPbkNoYW5nZT86IGJvb2xlYW5cbiAgZnJvbURzSWRzPzogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBoaWRlRHM/OiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiBib29sZWFuXG4gIGhpZGVUYWJzPzogSW1tdXRhYmxlQXJyYXk8J0FEREVEJyB8ICdPVVRQVVQnPlxuICBoaWRlSGVhZGVyPzogYm9vbGVhblxuICBoaWRlVHlwZURyb3Bkb3duPzogYm9vbGVhblxuICBoaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd24/OiBib29sZWFuXG4gIGRpc2FibGVBZGREYXRhPzogYm9vbGVhblxuICBoaWRlQWRkRGF0YUJ1dHRvbj86IGJvb2xlYW5cbiAgZGlzYWJsZURhdGFTb3VyY2VMaXN0PzogYm9vbGVhblxuICBkaXNhYmxlRGF0YVZpZXc/OiBib29sZWFuXG4gIGhpZGVDcmVhdGVWaWV3QnV0dG9uPzogYm9vbGVhblxuICBlbmFibGVUb1NlbGVjdE91dHB1dERzRnJvbVNlbGY/OiBib29sZWFuXG4gIGhpZGVEYXRhVmlldz86IGJvb2xlYW4gfCAoKGRhdGFWaWV3SnNvbjogSU1EYXRhVmlld0pzb24sIG1haW5EYXRhU291cmNlSWQ6IHN0cmluZykgPT4gYm9vbGVhbilcbiAgb25DaGFuZ2U/OiAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4gdm9pZFxuICBvbkNsaWNrRGlzYWJsZWREc0l0ZW0/OiAoKSA9PiB2b2lkXG4gIGRpc2FibGVTZWxlY3Rpb24/OiAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4gYm9vbGVhblxuICBkaXNhYmxlUmVtb3ZlPzogKHVzZURhdGFTb3VyY2VzOiBVc2VEYXRhU291cmNlW10pID0+IGJvb2xlYW5cbiAgJ2FyaWEtZGVzY3JpYmVkYnknPzogc3RyaW5nXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xuICBzaWRlUG9wcGVyVHJpZ2dlcj86IEhUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXVxufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG4gIGludGw6IEludGxTaGFwZVxufVxuXG5pbnRlcmZhY2UgU3RhdGVFeHRyYVByb3BzIHtcbiAgZGF0YVNvdXJjZXM6IEltbXV0YWJsZU9iamVjdDx7IFtkc0lkOiBzdHJpbmddOiBEYXRhU291cmNlSnNvbiB9PlxuICBkYXRhU291cmNlc0luZm86IEltbXV0YWJsZU9iamVjdDx7IFtkc0lkOiBzdHJpbmddOiBEYXRhU291cmNlSW5mbyB9PlxufVxuXG5jbGFzcyBfU2V0RHNCdG5Ec0xpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzICYgRXh0cmFQcm9wcyAmIFN0YXRlRXh0cmFQcm9wcywgU3RhdGU+IHtcbiAgX191bm1vdW50ID0gZmFsc2VcbiAgRGVmYXVsdERhdGFWaWV3OiBJTURhdGFWaWV3SnNvbiA9IEltbXV0YWJsZSh7XG4gICAgaWQ6IERFRkFVTFRfREFUQV9WSUVXX0lELFxuICAgIGxhYmVsOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZGVmYXVsdCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZGVmYXVsdCB9KVxuICB9KVxuXG4gIHNpZGVQb3BwZXJUcmlnZ2VyID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpXG4gIGJhY2tUb0ZvY3VzTm9kZSA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRWxlbWVudD4oKVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGF0YVNvdXJjZUluaXRlZDogZ2V0V2hldGhlckRhdGFTb3VyY2VJc0luaXRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VzLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VzSW5mbyksXG4gICAgICBtb2RhbFR5cGU6ICdub25lJyxcbiAgICAgIFNpZGVQb3BwZXI6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuICAgIG1vZHVsZUxvYWRlci5sb2FkTW9kdWxlKCdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cycpLnRoZW4oU2V0dGluZ0NvbXBvbmVudHMgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBTaWRlUG9wcGVyOiBTZXR0aW5nQ29tcG9uZW50cy5TaWRlUG9wcGVyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZUV4dHJhUHJvcHMpIHtcbiAgICBpZiAoIWxvZGFzaC5pc0RlZXBFcXVhbCh0aGlzLnByb3BzLmRhdGFTb3VyY2VzLCBwcmV2UHJvcHMuZGF0YVNvdXJjZXMpIHx8ICFsb2Rhc2guaXNEZWVwRXF1YWwodGhpcy5wcm9wcy5kYXRhU291cmNlc0luZm8sIHByZXZQcm9wcy5kYXRhU291cmNlc0luZm8pKSB7XG4gICAgICBjb25zdCBpc0luaXRlZCA9IGdldFdoZXRoZXJEYXRhU291cmNlSXNJbml0ZWQodGhpcy5wcm9wcy5kYXRhU291cmNlcywgdGhpcy5wcm9wcy5kYXRhU291cmNlc0luZm8pXG4gICAgICB0aGlzLmNoYW5nZUluaXRTdGF0dXMoaXNJbml0ZWQpXG4gICAgICBpZiAoIWlzSW5pdGVkKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGF0YVNvdXJjZXNJbmZvICYmIE9iamVjdC5rZXlzKHRoaXMucHJvcHMuZGF0YVNvdXJjZXNJbmZvKS5mb3JFYWNoKGRzSWQgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmdldElzTG9hZGluZyhkc0lkKSkge1xuICAgICAgICAgICAgdGhpcy53YWl0Rm9yQ2hpbGREYXRhU291cmNlc1JlYWR5KGRzSWQpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmNoYW5nZUluaXRTdGF0dXMoZ2V0V2hldGhlckRhdGFTb3VyY2VJc0luaXRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VzLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VzSW5mbykpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjaGFuZ2VJbml0U3RhdHVzID0gKGlzSW5pdGVkOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzRGF0YVNvdXJjZUluaXRlZDogaXNJbml0ZWQgfSlcbiAgfVxuXG4gIHdhaXRGb3JDaGlsZERhdGFTb3VyY2VzUmVhZHkgKGRzSWQ6IHN0cmluZyk6IFByb21pc2U8RGF0YVNvdXJjZT4ge1xuICAgIGNvbnN0IGRzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpXG4gICAgaWYgKGRzPy5pc0RhdGFTb3VyY2VTZXQgJiYgIWRzLmFyZUNoaWxkRGF0YVNvdXJjZXNDcmVhdGVkKCkpIHtcbiAgICAgIHJldHVybiBkcy5jaGlsZERhdGFTb3VyY2VzUmVhZHkoKS50aGVuKCgpID0+IGRzKS5jYXRjaChlcnIgPT4gZHMpXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZHMpXG4gIH1cblxuICBnZXRJc0xvYWRpbmcgPSAoZHNJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZHNJbmZvID0gdGhpcy5wcm9wcy5kYXRhU291cmNlc0luZm8/Lltkc0lkXVxuICAgIC8vIE5vIGRhdGEgc291cmNlIGluZm8gbWVhbnMgdGhlIGRhdGEgc291cmNlIGlzIHJlbW92ZWQuXG4gICAgaWYgKCFkc0luZm8pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoZHNJbmZvLmluc3RhbmNlU3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkNyZWF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKGRzSW5mby5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVkKSB7XG4gICAgICAvLyBJZiB0aGUgZGF0YSBzb3VyY2UgaXMgc2V0LCBzaG91bGQgd2FpdCB1dGlsIGFsbCBjaGlsZCBkYXRhIHNvdXJjZXMgYXJlIGNyZWF0ZWQuXG4gICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICAgICAgcmV0dXJuIGRzPy5pc0RhdGFTb3VyY2VTZXQgPyAhZHMuYXJlQ2hpbGREYXRhU291cmNlc0NyZWF0ZWQoKSA6IGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBkaXNhYmxlU2VsZWN0aW9uID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyB8fCBJbW11dGFibGUoW10pXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlU2VsZWN0aW9uKHVzZURhdGFTb3VyY2VzLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBkaXNhYmxlUmVtb3ZlID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVSZW1vdmUpIHtcbiAgICAgIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyB8fCBJbW11dGFibGUoW10pXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlUmVtb3ZlKHVzZURhdGFTb3VyY2VzLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBvbk1vZGFsQ2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsVHlwZTogJ25vbmUnIH0pXG4gIH1cblxuICBvbk1haW5Ec0NoYW5nZWQgPSAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4ge1xuICAgIGlmICghdXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UgJiYgdGhpcy5wcm9wcy5vbkNoYW5nZSh1c2VEYXRhU291cmNlcylcblxuICAgIGlmICh0aGlzLnByb3BzLmNsb3NlRGF0YVNvdXJjZUxpc3RPbkNoYW5nZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsVHlwZTogJ25vbmUnIH0pXG4gICAgfVxuICB9XG5cbiAgb25NYWluRHNSZW1vdmVkID0gKG1haW5EYXRhU291cmNlSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghbWFpbkRhdGFTb3VyY2VJZCB8fCAhdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdXNlRGF0YVNvdXJjZXMgPSB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmZpbHRlcih1c2VEcyA9PiB1c2VEcz8ubWFpbkRhdGFTb3VyY2VJZCArICcnICE9PSBtYWluRGF0YVNvdXJjZUlkKVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKHVzZURhdGFTb3VyY2VzLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkpXG4gIH1cblxuICBvbkRhdGFWaWV3Q2hhbmdlZCA9IChtYWluRGF0YVNvdXJjZUlkOiBzdHJpbmcsIGRhdGFWaWV3czogSW1tdXRhYmxlQXJyYXk8RGF0YVZpZXdKc29uPikgPT4ge1xuICAgIGlmICghbWFpbkRhdGFTb3VyY2VJZCB8fCAhdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzVXNlRHM6IElNVXNlRGF0YVNvdXJjZSA9IEltbXV0YWJsZSh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmZpbmQodSA9PiB1Lm1haW5EYXRhU291cmNlSWQgPT09IG1haW5EYXRhU291cmNlSWQpIHx8XG4gICAgICB7IGRhdGFTb3VyY2VJZDogbWFpbkRhdGFTb3VyY2VJZCwgbWFpbkRhdGFTb3VyY2VJZCB9KVxuICAgIGNvbnN0IG5ld1VzZURhdGFTb3VyY2VzID0gZGF0YVZpZXdzLm1hcCh2ID0+IHtcbiAgICAgIGlmICh2LmlkID09PSBERUZBVUxUX0RBVEFfVklFV19JRCkge1xuICAgICAgICBjb25zdCBtYWluRHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UobWFpbkRhdGFTb3VyY2VJZClcbiAgICAgICAgaWYgKG1haW5Ecz8uZ2V0RGF0YVNvdXJjZUpzb24oKT8uaXNPdXRwdXRGcm9tV2lkZ2V0KSB7XG4gICAgICAgICAgLy8gSWYgb3V0cHV0IGRhdGEgc291cmNlLCBzaG91bGQgdXNlIG91dHB1dCB2aWV3LCBpc3RlYWQgb2YgdGhlIG1haW4gZGF0YSBzb3VyY2UuXG4gICAgICAgICAgY29uc3QgZHNJZCA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQobWFpbkRhdGFTb3VyY2VJZCwgQ09OU1RBTlRTLk9VVFBVVF9EQVRBX1ZJRVdfSUQpXG4gICAgICAgICAgY29uc3QgZGF0YVZpZXdJZCA9IENPTlNUQU5UUy5PVVRQVVRfREFUQV9WSUVXX0lEXG4gICAgICAgICAgcmV0dXJuIHByZXZpb3VzVXNlRHMuc2V0KCdkYXRhU291cmNlSWQnLCBkc0lkKS5zZXQoJ2RhdGFWaWV3SWQnLCBkYXRhVmlld0lkKS5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZpb3VzVXNlRHMud2l0aG91dCgnZGF0YVZpZXdJZCcpLnNldCgnZGF0YVNvdXJjZUlkJywgbWFpbkRhdGFTb3VyY2VJZCkuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJldmlvdXNVc2VEcy5zZXQoJ2RhdGFWaWV3SWQnLCB2LmlkKVxuICAgICAgICAgIC5zZXQoJ2RhdGFTb3VyY2VJZCcsIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQobWFpbkRhdGFTb3VyY2VJZCwgdi5pZCkpLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcy5maWx0ZXIodXNlRHMgPT4gdXNlRHM/Lm1haW5EYXRhU291cmNlSWQgIT09IG1haW5EYXRhU291cmNlSWQpLmNvbmNhdChuZXdVc2VEYXRhU291cmNlcylcblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UgJiYgdGhpcy5wcm9wcy5vbkNoYW5nZSh1c2VEYXRhU291cmNlcy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICB9XG5cbiAgdG9nZ2xlRHNMaXN0ID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5kaXNhYmxlRGF0YVNvdXJjZUxpc3QpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbFR5cGU6IHRoaXMuc3RhdGUubW9kYWxUeXBlID09PSAnZHMnID8gJ25vbmUnIDogJ2RzJyB9KVxuICAgIH1cbiAgfVxuXG4gIGdldFdoZXRoZXJTaG93UGxhY2Vob2xkZXIgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gSWYgdGhlcmUgaXMgc29tZSB1c2UgZGF0YSBzb3VyY2Ugd2hpY2ggaXMgbm90IGNyZWF0ZWQsIHNob3VsZCBzaG93IGFkZCBkYXRhIHBsYWNlaG9sZGVyIHRvIGFsbG93IHVzZXIgdG8gY2hhbmdlIGRhdGEgc291cmNlLlxuICAgIGlmICh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzPy5zb21lKHVzZURzID0+ICFEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodXNlRHMuZGF0YVNvdXJjZUlkKSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyB8fCBJbW11dGFibGUoW10pXG4gICAgICByZXR1cm4gIXRoaXMucHJvcHMuZGlzYWJsZVNlbGVjdGlvbih1c2VEYXRhU291cmNlcy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pc011bHRpcGxlIHx8ICghdGhpcy5wcm9wcy5pc011bHRpcGxlICYmICghdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyB8fCB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmZpbHRlcih1c2VEcyA9PiAhIXVzZURzKS5sZW5ndGggPT09IDApKVxuICB9XG5cbiAgZ3JvdXBVc2VEc3NCeU1haW5EYXRhU291cmNlID0gKHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPik6IHsgW21haW5EYXRhU291cmNlSWQ6IHN0cmluZ106IEltbXV0YWJsZUFycmF5PERhdGFWaWV3SnNvbj4gfSA9PiB7XG4gICAgaWYgKCF1c2VEYXRhU291cmNlcyB8fCB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgcmVzID0ge31cbiAgICB1c2VEYXRhU291cmNlcy5mb3JFYWNoKHUgPT4ge1xuICAgICAgaWYgKCFyZXNbdS5tYWluRGF0YVNvdXJjZUlkXSkge1xuICAgICAgICByZXNbdS5tYWluRGF0YVNvdXJjZUlkXSA9IEltbXV0YWJsZShbXSlcbiAgICAgIH1cbiAgICAgIGlmICh1LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lEKSB7IC8vIHNlbGVjdGlvbiBkYXRhIHZpZXdcbiAgICAgICAgcmVzW3UubWFpbkRhdGFTb3VyY2VJZF0gPSByZXNbdS5tYWluRGF0YVNvdXJjZUlkXS5jb25jYXQoe1xuICAgICAgICAgIGlkOiBDT05TVEFOVFMuU0VMRUNUSU9OX0RBVEFfVklFV19JRCxcbiAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlbGVjdGlvbkRhdGFWaWV3JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZWxlY3Rpb25EYXRhVmlldyB9KVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmICh1LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5PVVRQVVRfREFUQV9WSUVXX0lEKSB7IC8vIG91dHB1dCBkYXRhIHZpZXdcbiAgICAgICAgcmVzW3UubWFpbkRhdGFTb3VyY2VJZF0gPSByZXNbdS5tYWluRGF0YVNvdXJjZUlkXS5jb25jYXQodGhpcy5EZWZhdWx0RGF0YVZpZXcpXG4gICAgICB9IGVsc2UgaWYgKHUuZGF0YVZpZXdJZCkgeyAvLyB1c2VyIGFkZGVkIGRhdGEgdmlld3NcbiAgICAgICAgY29uc3QgZHNPYmogPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodS5tYWluRGF0YVNvdXJjZUlkKVxuICAgICAgICBjb25zdCBkYXRhU291cmNlSnNvbiA9IGRzT2JqICYmIGRzT2JqLmdldERhdGFTb3VyY2VKc29uKClcbiAgICAgICAgY29uc3QgZGF0YVZpZXdzID0gZGF0YVNvdXJjZUpzb24gJiYgZGF0YVNvdXJjZUpzb24uZGF0YVZpZXdzXG4gICAgICAgIGlmIChkYXRhVmlld3M/Llt1LmRhdGFWaWV3SWRdKSB7XG4gICAgICAgICAgcmVzW3UubWFpbkRhdGFTb3VyY2VJZF0gPSByZXNbdS5tYWluRGF0YVNvdXJjZUlkXS5jb25jYXQoZGF0YVZpZXdzW3UuZGF0YVZpZXdJZF0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIGRlZmF1bHQgZGF0YSB2aWV3IChtYWluIGRhdGEgc291cmNlKVxuICAgICAgICByZXNbdS5tYWluRGF0YVNvdXJjZUlkXSA9IHJlc1t1Lm1haW5EYXRhU291cmNlSWRdLmNvbmNhdCh0aGlzLkRlZmF1bHREYXRhVmlldylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc1xuICB9XG5cbiAgb25Ec0l0ZW1DbGljayA9IChtYWluRHNJZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy50b2dnbGVEc0xpc3QoKVxuICB9XG5cbiAgZ2V0SXNEc0xpc3RPcGVuID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLm1vZGFsVHlwZSA9PT0gJ2RzJyAmJiAhdXJsVXRpbHMuZ2V0QXBwSWRQYWdlSWRGcm9tVXJsKCkucGFnZUlkXG4gIH1cblxuICBvblNlbGVjdERhdGFLZXlEb3duID0gZXZ0ID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgJiYgKGV2dC5rZXkgPT09ICdFbnRlcicgfHwgZXZ0LmtleSA9PT0gJyAnKSkge1xuICAgICAgdGhpcy50b2dnbGVEc0xpc3QoKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgU2lkZVBvcHBlciA9IHRoaXMuc3RhdGUuU2lkZVBvcHBlclxuICAgIGNvbnN0IHNob3dQbGFjZWhvbGRlciA9IHRoaXMuZ2V0V2hldGhlclNob3dQbGFjZWhvbGRlcigpXG4gICAgY29uc3QgZ3JvdXBlZFVzZURzcyA9IHRoaXMuZ3JvdXBVc2VEc3NCeU1haW5EYXRhU291cmNlKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMpXG4gICAgY29uc3Qgc2VsZWN0RGF0YUxhYmVsID0gdGhpcy5wcm9wcy5idXR0b25MYWJlbCB8fCB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2V0RGF0YVNvdXJjZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc2V0RGF0YVNvdXJjZSB9KVxuICAgIGNvbnN0IGdyb3VwZWRVc2VEc3NMZW5ndGggPSBncm91cGVkVXNlRHNzID8gT2JqZWN0LmtleXMoZ3JvdXBlZFVzZURzcykubGVuZ3RoIDogMFxuICAgIGNvbnN0IHNpZGVQb3BwZXJUcmlnZ2VyOiBIVE1MRWxlbWVudFtdID0gW11cbiAgICBjb25zdCBhcmlhTGFiZWwgPSB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10gfHwgdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RhdGEnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRhdGEgfSlcblxuICAgIGlmICh0aGlzLnNpZGVQb3BwZXJUcmlnZ2VyLmN1cnJlbnQpIHtcbiAgICAgIHNpZGVQb3BwZXJUcmlnZ2VyLnB1c2godGhpcy5zaWRlUG9wcGVyVHJpZ2dlci5jdXJyZW50KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnNpZGVQb3BwZXJUcmlnZ2VyKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLnNpZGVQb3BwZXJUcmlnZ2VyKSkge1xuICAgICAgICBzaWRlUG9wcGVyVHJpZ2dlci5wdXNoKC4uLnRoaXMucHJvcHMuc2lkZVBvcHBlclRyaWdnZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaWRlUG9wcGVyVHJpZ2dlci5wdXNoKHRoaXMucHJvcHMuc2lkZVBvcHBlclRyaWdnZXIpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCcgcmVmPXt0aGlzLnNpZGVQb3BwZXJUcmlnZ2VyfSByb2xlPSdtZW51JyBhcmlhLWxhYmVsPXthcmlhTGFiZWx9PlxuICAgICAgICB7XG4gICAgICAgICAgZ3JvdXBlZFVzZURzcyAmJiBPYmplY3Qua2V5cyhncm91cGVkVXNlRHNzKS5zb3J0KChkMSwgZDIpID0+IGQxPy5sb2NhbGVDb21wYXJlKGQyKSlcbiAgICAgICAgICAgIC5tYXAoKG1haW5EYXRhU291cmNlSWQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtYWluRGF0YVNvdXJjZUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxEc0l0ZW1cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH0gbWFpbkRhdGFTb3VyY2VJZD17bWFpbkRhdGFTb3VyY2VJZH0gb25SZW1vdmU9e3RoaXMub25NYWluRHNSZW1vdmVkfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVSZW1vdmU9e3RoaXMuZGlzYWJsZVJlbW92ZSgpfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gZGlzYWJsZURhdGFTb3VyY2VMaXN0PXt0aGlzLnByb3BzLmRpc2FibGVEYXRhU291cmNlTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkRzSXRlbUNsaWNrfSBjbGFzc05hbWU9eyhzaG93UGxhY2Vob2xkZXIgfHwgaW5kZXggIT09IGdyb3VwZWRVc2VEc3NMZW5ndGggLSAxKSAmJiAnbWItNCd9IG9uQ2hhbmdlPXt0aGlzLm9uRGF0YVZpZXdDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGF0YVZpZXc9e3RoaXMucHJvcHMuZGlzYWJsZURhdGFWaWV3fSBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9IHJvb3REYXRhU291cmNlSWQ9e3RoaXMucHJvcHMudXNlRGF0YVNvdXJjZXM/LmZpbmQodSA9PiB1Lm1haW5EYXRhU291cmNlSWQgPT09IG1haW5EYXRhU291cmNlSWQpPy5yb290RGF0YVNvdXJjZUlkfVxuICAgICAgICAgICAgICAgICAgICBkYXRhVmlld3M9e2dyb3VwZWRVc2VEc3NbbWFpbkRhdGFTb3VyY2VJZF19IERlZmF1bHREYXRhVmlldz17dGhpcy5EZWZhdWx0RGF0YVZpZXd9IGhpZGVEYXRhVmlldz17dGhpcy5wcm9wcy5oaWRlRGF0YVZpZXd9XG4gICAgICAgICAgICAgICAgICAgIGlzTXVsdGlwbGVEYXRhVmlldz17dGhpcy5wcm9wcy5pc011bHRpcGxlRGF0YVZpZXd9IGhpZGVDcmVhdGVWaWV3QnV0dG9uPXt0aGlzLnByb3BzLmhpZGVDcmVhdGVWaWV3QnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICBpbm5lclJlZj17IXNob3dQbGFjZWhvbGRlciAmJiBpbmRleCA9PT0gZ3JvdXBlZFVzZURzc0xlbmd0aCAtIDEgJiYgKHRoaXMuYmFja1RvRm9jdXNOb2RlIGFzIFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD4pfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgU2lkZVBvcHBlciAmJiA8U2lkZVBvcHBlciBpc09wZW49e3RoaXMuZ2V0SXNEc0xpc3RPcGVuKCl9IHBvc2l0aW9uPSdyaWdodCcgdHJpZ2dlcj17c2lkZVBvcHBlclRyaWdnZXJ9XG4gICAgICAgICAgICB0b2dnbGU9e3RoaXMudG9nZ2xlRHNMaXN0fSB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH0gYmFja1RvRm9jdXNOb2RlPXt0aGlzLmJhY2tUb0ZvY3VzTm9kZS5jdXJyZW50fVxuICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaGlkZUhlYWRlciA/IG51bGwgOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2V0RGF0YVNvdXJjZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc2V0RGF0YVNvdXJjZSB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctbGlnaHQtMzAwIGgtMTAwIHctMTAwJz5cbiAgICAgICAgICAgICAgPERhdGFTb3VyY2VMaXN0XG4gICAgICAgICAgICAgICAgdHlwZXM9e3RoaXMucHJvcHMudHlwZXN9IG9uQ2hhbmdlPXt0aGlzLm9uTWFpbkRzQ2hhbmdlZH0gY2hhbmdlSW5pdFN0YXR1cz17dGhpcy5jaGFuZ2VJbml0U3RhdHVzfSBoaWRlRHM9e3RoaXMucHJvcHMuaGlkZURzfVxuICAgICAgICAgICAgICAgIG9uQ2xvc2VDbGljaz17dGhpcy5vbk1vZGFsQ2xvc2V9IGlzTXVsdGlwbGU9e3RoaXMucHJvcHMuaXNNdWx0aXBsZX0gZnJvbURzSWRzPXt0aGlzLnByb3BzLmZyb21Ec0lkc31cbiAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlc30gaXNEYXRhU291cmNlSW5pdGVkPXt0aGlzLnN0YXRlLmlzRGF0YVNvdXJjZUluaXRlZH0gd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZVNlbGVjdGlvbj17dGhpcy5kaXNhYmxlU2VsZWN0aW9uKCl9IGRpc2FibGVSZW1vdmU9e3RoaXMuZGlzYWJsZVJlbW92ZSgpfSBmcm9tUm9vdERzSWRzPXt0aGlzLnByb3BzLmZyb21Sb290RHNJZHN9XG4gICAgICAgICAgICAgICAgaGlkZUhlYWRlcj17dHJ1ZX0gaGlkZVR5cGVEcm9wZG93bj17dGhpcy5wcm9wcy5oaWRlVHlwZURyb3Bkb3dufSBoaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd249e3RoaXMucHJvcHMuaGlkZUFsbE9wdGlvbk9mVHlwZURyb3Bkb3dufSBkaXNhYmxlQWRkRGF0YT17dGhpcy5wcm9wcy5kaXNhYmxlQWRkRGF0YX0gaGlkZUFkZERhdGFCdXR0b249e3RoaXMucHJvcHMuaGlkZUFkZERhdGFCdXR0b259XG4gICAgICAgICAgICAgICAgZW5hYmxlVG9TZWxlY3RPdXRwdXREc0Zyb21TZWxmPXt0aGlzLnByb3BzLmVuYWJsZVRvU2VsZWN0T3V0cHV0RHNGcm9tU2VsZn0gaGlkZVRhYnM9e3RoaXMucHJvcHMuaGlkZVRhYnN9XG4gICAgICAgICAgICAgICAgb25DbGlja0Rpc2FibGVkRHNJdGVtPXt0aGlzLnByb3BzLm9uQ2xpY2tEaXNhYmxlZERzSXRlbX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU2lkZVBvcHBlcj5cbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICBzaG93UGxhY2Vob2xkZXIgJiZcbiAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT0nZHMtc2VsZWN0b3ItYnV0dG9uIHctMTAwIG10LTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyIHB4LTInIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRHNMaXN0fVxuICAgICAgICAgICAgICB0aXRsZT17c2VsZWN0RGF0YUxhYmVsfSBhcmlhLWxhYmVsPXtzZWxlY3REYXRhTGFiZWx9IG9uS2V5RG93bj17dGhpcy5vblNlbGVjdERhdGFLZXlEb3dufSBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J119XG4gICAgICAgICAgICAgIGlubmVyUmVmPXt0aGlzLmJhY2tUb0ZvY3VzTm9kZSBhcyBSZWFjdC5SZWZPYmplY3Q8SFRNTEJ1dHRvbkVsZW1lbnQ+fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSBmb250LXdlaWdodC01MDAnPlxuICAgICAgICAgICAgICAgIHtzZWxlY3REYXRhTGFiZWx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShfU2V0RHNCdG5Ec0xpc3QpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LCB0eXBlIERhdGFTb3VyY2VKc29uLCBqc3gsIHR5cGUgSU1TdGF0ZSwgdHlwZSBJbW11dGFibGVPYmplY3QsIGluamVjdEludGwsIHR5cGUgSW50bFNoYXBlLCBSZWFjdFJlZHV4LFxuICB0eXBlIERhdGFTb3VyY2VJbmZvLCBjbGFzc05hbWVzLCB0eXBlIFVzZURhdGFTb3VyY2UsIHR5cGUgSU1EYXRhVmlld0pzb24sIERhdGFTb3VyY2VNYW5hZ2VyXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuaW1wb3J0IHsgU3dpdGNoLCBkZWZhdWx0TWVzc2FnZXMsIExhYmVsIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IHsgdHlwZSBEYXRhU291cmNlTGlzdFByb3BzIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgU2V0RHNCdG5Ec0xpc3QgZnJvbSAnLi9jb21wb25lbnRzL3NldC1kcy1idG4tZHMtbGlzdCdcblxuLyoqXG4gKiBUaGUgRGF0YVNvdXJjZVNlbGVjdG9yIGNvbXBvbmVudCBwcm9wcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRhU291cmNlU2VsZWN0b3JQcm9wcyBleHRlbmRzIE9taXQ8RGF0YVNvdXJjZUxpc3RQcm9wcyxcbidpc0RhdGFTb3VyY2VJbml0ZWQnIHwgJ29uQ2xvc2VDbGljaycgfCAnY2hhbmdlSW5pdFN0YXR1cycgfCAnZGlzYWJsZVNlbGVjdGlvbicgfCAnZGlzYWJsZVJlbW92ZSc+IHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3VwcG9ydCBtdWx0aXBsZSBzZWxlY3Rpb24gb2YgZGF0YSB2aWV3cy5cbiAgICpcbiAgICogT25seSBhbGxvdyB0byBzZWxlY3Qgc2luZ2xlIGRhdGEgc291cmNlIGl0ZW0gYW5kIHNpbmdsZSBkYXRhIHZpZXcgYnkgZGVmYXVsdC5cbiAgICogVG8gYWxsb3cgdG8gc2VsZWN0IG11bHRpcGxlIGRhdGEgc291cmNlIGl0ZW1zIGFuZCBtdWx0aXBsZSBkYXRhIHZpZXdzIGZvciBlYWNoIHNlbGVjdGVkIGRhdGEgc291cmNlIGl0ZW0sIHBsZWFzZSBwYXNzIGluIGBpc011bHRpcGxlPXRydWVgLlxuICAgKiBUbyBhbGxvdyB0byBzZWxlY3Qgc2luZ2xlIGRhdGEgc291cmNlIGl0ZW0gYW5kIG11bHRpcGxlIGRhdGEgdmlld3MgZm9yIHRoZSBzZWxlY3RlZCBzb3VyY2UgaXRlbSwgcGxlYXNlIHBhc3MgaW4gYGlzTXVsdGlwbGVEYXRhVmlldz10cnVlYC5cbiAgICogVG8gYWxsb3cgdG8gc2VsZWN0IG11bHRpcGxlIGRhdGEgc291cmNlIGl0ZW1zIGFuZCBzaW5nbGUgZGF0YSB2aWV3IGZvciBlYWNoIHNlbGVjdGVkIGRhdGEgc291cmNlIGl0ZW0sIHBsZWFzZSBwYXNzIGluIGBpc011bHRpcGxlPXRydWVgIGFuZCBgaXNNdWx0aXBsZURhdGFWaWV3PWZhbHNlYC5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGlzTXVsdGlwbGVEYXRhVmlldz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIExhYmVsIG9mIHRoZSBidXR0b24gd2hpY2ggY2FuIHRyaWdnZXIgZGF0YSBzb3VyY2Ugc2VsZWN0b3IgcG9wdXAuXG4gICAqXG4gICAqIEBkZWZhdWx0IFNlbGVjdCBkYXRhXG4gICAqL1xuICBidXR0b25MYWJlbD86IHN0cmluZ1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gZW5hYmxlIGRhdGEgc291cmNlIHVzZS5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVzZURhdGFTb3VyY2VzRW5hYmxlZD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIHNob3cgdG9nZ2xlIGRhdGEgYnV0dG9uLCB3aWxsIGhpZGUgdG9nZ2xlIGRhdGEgYnV0dG9uIGlmIHRoZSB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgbXVzdFVzZURhdGFTb3VyY2U/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0byBzaG93IGRhdGEgc291cmNlIGxpc3QgcGFuZWwgYWZ0ZXIgY2xpY2tpbmcgYSBzZWxlY3RlZCBkYXRhIHNvdXJjZS5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVEYXRhU291cmNlTGlzdD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHRvIHNlbGVjdCBkYXRhIHZpZXcsXG4gICAqIHRoZSBwcm9wcyB3aWxsIG1ha2UgZGF0YSB2aWV3IGRyb3Bkb3duIGRpc2FibGVkLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZURhdGFWaWV3PzogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gaGlkZSB0aGUgZGF0YSB2aWV3IGRyb3Bkb3duL3NvbWUgZGF0YSB2aWV3cy5cbiAgICogSWYgdGhlIHByb3BzIGlzIHRydWUsIHdpbGwgbWFrZSB0aGUgZW50aXJlIGRhdGEgdmlldyBkcm9wZG93biBoaWRkZW4uXG4gICAqIElmIHRoZSBwcm9wcyBpcyBhIGZ1bmN0aW9uLCB3aWxsIGNhbGwgaXQgdG8gZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIGhpZGUgc29tZSBpdGVtcyBvZiB0aGUgZGF0YSB2aWV3IGRyb3Bkb3duLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IC1cbiAgICogMS4gSWQgb2YgZGVmYXVsdCB2aWV3IGlzIGBERUZBVUxUX0RBVEFfVklFV19JRGAsIHlvdSBjYW4gaW1wb3J0IGl0IGZyb20gYGppbXUtdWkvYWR2YW5jZWQvZGF0YS1zb3VyY2Utc2VsZWN0b3JgLlxuICAgKiAyLiBJZCBvZiBzZWxlY3Rpb24gdmlldyBpcyBgQ09OU1RBTlRTLlNFTEVDVElPTl9EQVRBX1ZJRVdfSURgLCB5b3UgY2FuIGltcG9ydCBgQ09OU1RBTlRTYCBmcm9tIGBqaW11LWNvcmVgLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaGlkZURhdGFWaWV3PzogYm9vbGVhbiB8ICgoZGF0YVZpZXdKc29uOiBJTURhdGFWaWV3SnNvbiwgbWFpbkRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiBib29sZWFuKVxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gaGlkZSB0aGUgJ2NyZWF0ZSBhIHZpZXcnIGJ1dHRvbiBhdCB0aGUgYm90dG9tIG9mIGRhdGEgdmlldyBkcm9wZG93bi5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGhpZGVDcmVhdGVWaWV3QnV0dG9uPzogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gY2xvc2UgZGF0YSBzb3VyY2UgbGlzdCBwYW5lbCBhZnRlciBzZWxlY3RlZCBkYXRhIHNvdXJjZXMgYXJlIGNoYW5nZWQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjbG9zZURhdGFTb3VyY2VMaXN0T25DaGFuZ2U/OiBib29sZWFuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB3aGVuIHRvZ2dsZSBkYXRhIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKi9cbiAgb25Ub2dnbGVVc2VEYXRhRW5hYmxlZD86ICh1c2VEYXRhU291cmNlc0VuYWJsZWQ6IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIEJlZm9yZSBzZWxlY3RpbmcsIHRoZSBjb21wb25lbnQgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIHRvIGNoZWNrIGlmIGl0IGNhbiBjb250aW51ZSBzZWxlY3RpbmcuXG4gICAqL1xuICBkaXNhYmxlU2VsZWN0aW9uPzogKHVzZURhdGFTb3VyY2VzOiBVc2VEYXRhU291cmNlW10pID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIEJlZm9yZSByZW1vdmUsIHRoZSBjb21wb25lbnQgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIHRvIGNoZWNrIGlmIGl0IGNhbiBjb250aW51ZSByZW1vdmluZy5cbiAgICovXG4gIGRpc2FibGVSZW1vdmU/OiAodXNlRGF0YVNvdXJjZXM6IFVzZURhdGFTb3VyY2VbXSkgPT4gYm9vbGVhblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBPbmx5IHVzZWQgYnkgdGhlbWUuXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIFRoZSBsYWJlbCB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2UuXG4gICAqL1xuICAnYXJpYS1sYWJlbCc/OiBzdHJpbmdcbiAgLyoqXG4gICAqIGBhcmlhLWRlc2NyaWJlZGJ5YCBpcyB1c2VkIHRvIGluZGljYXRlIHRoZSBJRHMgb2YgdGhlIGVsZW1lbnRzIHRoYXQgZGVzY3JpYmUgdGhlIGNvbXBvbmVudC5cbiAgICogSXQgaXMgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG4gICAqL1xuICAnYXJpYS1kZXNjcmliZWRieSc/OiBzdHJpbmdcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogVGhlIGNhbGxiYWNrIHByb3AgaXMgY2FsbGVkIHdoZW4gY2xpY2tpbmcgYW4gdW5zZWxlY3RhYmxlIGRhdGEgc291cmNlIGl0ZW0uXG4gICAqIE9ubHkgdXNlZCBieSBtYXAgc2V0dGluZy5cbiAgICovXG4gIG9uQ2xpY2tEaXNhYmxlZERzSXRlbT86ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogVGhlIHByb3AgaXMgcGFzc2VkIGFzICd0cmlnZ2VyJyBwcm9wIG9mIFNpZGVQb3BwZXIuXG4gICAqIE9ubHkgdXNlZCBieSBtYXAgc2V0dGluZy5cbiAgICovXG4gIHNpZGVQb3BwZXJUcmlnZ2VyPzogSFRNTEVsZW1lbnQgfCBIVE1MRWxlbWVudFtdXG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5pbnRlcmZhY2UgU3RhdGVFeHRyYVByb3BzIHtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRhdGFTb3VyY2VzOiBJbW11dGFibGVPYmplY3Q8eyBbZHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZUpzb24gfT5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRhdGFTb3VyY2VzSW5mbzogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VJbmZvIH0+XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpbnRsOiBJbnRsU2hhcGVcbn1cblxuLyoqXG4gKiBUaGUgYERhdGFTb3VyY2VTZWxlY3RvcmAgY29tcG9uZW50IGFsbG93cyBhbiBFeHBlcmllbmNlIGF1dGhvciB0byBzZWxlY3QgYSBkYXRhIHNvdXJjZSBmb3Igd2lkZ2V0cy4gVGhpcyBpcyB1c3VhbGx5IHVzZWQgaW4gYSBzZXR0aW5ncyBwYW5lbC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgRGF0YVNvdXJjZVNlbGVjdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3RvcidcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX0RhdGFTb3VyY2VTZWxlY3RvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8RGF0YVNvdXJjZVNlbGVjdG9yUHJvcHMgJiBTdGF0ZUV4dHJhUHJvcHMgJiBFeHRyYVByb3BzLCB1bmtub3duPiB7XG4gIG9uVG9nZ2xlVXNlRGF0YUVuYWJsZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblRvZ2dsZVVzZURhdGFFbmFibGVkICYmIHRoaXMucHJvcHMub25Ub2dnbGVVc2VEYXRhRW5hYmxlZCghdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc0VuYWJsZWQpXG4gIH1cblxuICBvbkNoYW5nZSA9ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKHVzZURhdGFTb3VyY2VzKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIURhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHsgb25DaGFuZ2UsIC4uLm90aGVyUHJvcHMgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwJywgeyBbdGhpcy5wcm9wcy5jbGFzc05hbWVdOiAhIXRoaXMucHJvcHMuY2xhc3NOYW1lIH0pfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbXBvbmVudC1kYXRhLXNvdXJjZS1zZWxlY3Rvcic+XG4gICAgICAgICAge1xuICAgICAgICAgICAgIXRoaXMucHJvcHMubXVzdFVzZURhdGFTb3VyY2UgJiZcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyJywgeyAnbWItNCc6IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNFbmFibGVkIH0pfT5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0ndy03NSBkLWlubGluZS1ibG9jayBmb250LWRhcmstNjAwIHNldHRpbmctdGV4dC1sZXZlbC0zJyBmb3I9J2RhdGEtc291cmNlLXNlbGVjdG9yLWNvbm5lY3QtdG8tZGF0YS1zd2l0Y2gnPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY29ubmVjdFRvRGF0YScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY29ubmVjdFRvRGF0YSB9KX1cbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgPFN3aXRjaCBjaGVja2VkPXshIXRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNFbmFibGVkfSBvbkNoYW5nZT17dGhpcy5vblRvZ2dsZVVzZURhdGFFbmFibGVkfVxuICAgICAgICAgICAgICAgIGlkPSdkYXRhLXNvdXJjZS1zZWxlY3Rvci1jb25uZWN0LXRvLWRhdGEtc3dpdGNoJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICh0aGlzLnByb3BzLm11c3RVc2VEYXRhU291cmNlIHx8IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNFbmFibGVkKSAmJlxuICAgICAgICAgICAgICA8U2V0RHNCdG5Ec0xpc3RcbiAgICAgICAgICAgICAgICB0eXBlcz17dGhpcy5wcm9wcy50eXBlc30gey4uLm90aGVyUHJvcHN9IG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgY2xvc2VEYXRhU291cmNlTGlzdE9uQ2hhbmdlPXt0aGlzLnByb3BzLmNsb3NlRGF0YVNvdXJjZUxpc3RPbkNoYW5nZX0gZnJvbURzSWRzPXt0aGlzLnByb3BzLmZyb21Ec0lkc31cbiAgICAgICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy53aWRnZXRJZH0gaXNNdWx0aXBsZURhdGFWaWV3PXt0aGlzLnByb3BzLmlzTXVsdGlwbGVEYXRhVmlld31cbiAgICAgICAgICAgICAgICBvbkNsaWNrRGlzYWJsZWREc0l0ZW09e3RoaXMucHJvcHMub25DbGlja0Rpc2FibGVkRHNJdGVtfSBzaWRlUG9wcGVyVHJpZ2dlcj17dGhpcy5wcm9wcy5zaWRlUG9wcGVyVHJpZ2dlcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IF9EYXRhU291cmNlU2VsZWN0b3JXaXRoU3R5bGUgPSBpbmplY3RJbnRsKHdpdGhTdHlsZXMoX0RhdGFTb3VyY2VTZWxlY3RvciwgJ0RhdGFTb3VyY2VTZWxlY3RvcicpKVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJTVN0YXRlKTogU3RhdGVFeHRyYVByb3BzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhU291cmNlczogd2luZG93Py5qaW11Q29uZmlnPy5pc0J1aWxkZXIgPyBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5kYXRhU291cmNlcyA6IHN0YXRlLmFwcENvbmZpZz8uZGF0YVNvdXJjZXMsXG4gICAgZGF0YVNvdXJjZXNJbmZvOiB3aW5kb3c/LmppbXVDb25maWc/LmlzQnVpbGRlciA/IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5kYXRhU291cmNlc0luZm8gOiBzdGF0ZS5kYXRhU291cmNlc0luZm9cbiAgfVxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgYWxsb3dzIGFuIEV4cGVyaWVuY2UgYXV0aG9yIHRvIHNlbGVjdCBhIGRhdGEgc291cmNlIGZvciB3aWRnZXRzLiBUaGlzIGlzIHVzdWFsbHkgdXNlZCBpbiBhIHNldHRpbmdzIHBhbmVsLlxuICovXG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZVNlbGVjdG9yID0gUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlRXh0cmFQcm9wcywgdW5rbm93biwgRGF0YVNvdXJjZVNlbGVjdG9yUHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoX0RhdGFTb3VyY2VTZWxlY3RvcldpdGhTdHlsZSlcbiIsImltcG9ydCB7IHR5cGUgRGF0YVNvdXJjZSwgUmVhY3QsIHR5cGUgSW50bFNoYXBlLCBpbmplY3RJbnRsLCBjbGFzc05hbWVzLCBsb2Rhc2gsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgVXNlRGF0YVNvdXJjZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xuXG5pbXBvcnQgeyBCdXR0b24sIEljb24sIENvbGxhcHNlLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgSWNvbk1pbnVzIGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9taW51cy1jaXJjbGUuc3ZnJ1xuaW1wb3J0IEljb25BZGQgZnJvbSAnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3BsdXMtY2lyY2xlLnN2ZydcblxuY29uc3QgRklSU1RfTk9ERV9JTl9DT0xMQVBTRSA9ICdmaXJzdF9ub2RlX2luX2NvbGxhcHNlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTb3VyY2VUcmVlUHJvcHMge1xuICAvKipcbiAgICogUm9vdCBkYXRhIHNvdXJjZSBvZiB0aGUgdHJlZS5cbiAgICovXG4gIGRhdGFTb3VyY2U6IFBhcnRpYWw8RGF0YVNvdXJjZT5cbiAgLyoqXG4gICAqIERhdGEgc291cmNlcyB1c2VkIGJ5IHdpZGdldHMvY29tcG9uZW50cy5cbiAgICogSWYgZG8gbm90IHBhc3MgaW4gYGlzT3BlbmAgKHRoZSBjb21wb25lbnQgaXMgdW5jb250cm9sbGVkKSwgbm9kZXMgb24gdGhlIHBhdGggdG8gdGhlc2UgZGF0YSBzb3VyY2VzIHdpbGwgYmUgb3BlbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAqL1xuICB1c2VEYXRhU291cmNlcz86IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGVyZSB3aWxsIGJlIGEgZGVmYXVsdCBiYWNrZ3JvdW5kIHdoZW4gdGhlIHRyZWUgaXMgb3Blbi5cbiAgICovXG4gIHVzZURlZmF1bHRCYWNrZ3JvdW5kPzogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciB0byBvcGVuIHRoZSB0cmVlLlxuICAgKi9cbiAgaXNPcGVuPzogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciB0byBvcGVuIHRoZSB0cmVlIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBkZWZhdWx0T3Blbj86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybiBjaGlsZCBkYXRhIHNvdXJjZXMgb2YgdGhlIGRhdGEgc291cmNlLlxuICAgKi9cbiAgZ2V0Q2hpbGREYXRhU291cmNlczogKGRhdGFTb3VyY2U6IFBhcnRpYWw8RGF0YVNvdXJjZT4pID0+IEFycmF5PFBhcnRpYWw8RGF0YVNvdXJjZT4+XG4gIC8qKlxuICAgKiBSZXR1cm4gbGFiZWwgb2YgdGhlIGRhdGEgc291cmNlLlxuICAgKi9cbiAgZ2V0TGFiZWw6IChkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+KSA9PiBzdHJpbmdcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSBub2RlIGNhbiBiZSBzZWxlY3RlZC5cbiAgICovXG4gIGlzTm9kZVNlbGVjdGFibGU6IChkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+KSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBXaWxsIHVzZSB0aGUgbWV0aG9kIHRvIHJlbmRlciBldmVyeSBzZWxlY3RhYmxlIG5vZGUgb2YgdGhlIHRyZWUuXG4gICAqL1xuICByZW5kZXJTZWxlY3RhYmxlTm9kZT86IChkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+KSA9PiBSZWFjdC5SZWFjdE5vZGVcbiAgLyoqXG4gICAqIFdpbGwgdXNlIHRoZSBtZXRob2QgdG8gcmVuZGVyIGV2ZXJ5IHVuc2VsZWN0YWJsZSBub2RlIG9mIHRoZSB0cmVlLlxuICAgKi9cbiAgcmVuZGVyVW5zZWxlY3RhYmxlTm9kZT86IChsYWJlbDogc3RyaW5nLCBkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+LCBpc1Jvb3RUcmVlOiBib29sZWFuKSA9PiBSZWFjdC5SZWFjdE5vZGVcbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgdHJlZS5cbiAgICogVXNlZCBvbmx5IHdoZW4gcGFzcyBpbiBgaXNPcGVuYC5cbiAgICogSWYgZG8gbm90IHBhc3MgaW4gYGlzT3BlbmAsIHRoZSBjb21wb25lbnQgaXMgdW5jb250cm9sbGVkLlxuICAgKi9cbiAgdG9nZ2xlPzogKCkgPT4gdm9pZFxuICAvKipcbiAgICogQ2xhc3NOYW1lIHRvIHRoZSB0cmVlLlxuICAgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIC8qKlxuICAgKiBAaWdub3JlIG9ubHkgdXNlZCB0byB1cGRhdGUgY29sbGFwc2UgbGluZS5cbiAgICovXG4gIGRyYXdDb2xsYXBzZUxpbmU/OiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBAaWdub3JlIG9ubHkgdXNlZCB0byBjb25jYXQgbGFiZWxzLlxuICAgKi9cbiAgbGFiZWw/OiBzdHJpbmdcbiAgLyoqXG4gICAqIEBpZ25vcmUgb25seSB1c2VkIHRvIGdldCB3aGV0aGVyIGlzIHJvb3Qgbm9kZS5cbiAgICovXG4gIGlzQ2hpbGRUcmVlPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc09wZW46IGJvb2xlYW5cbiAgLy8gaWYgY2FsbCBsYXN0IG5vZGUgb2YgY29sbGFwc2UgYXMgQSwgdGhlIG51bWJlciBpcyBoZWlnaHQgb2YgdGhlIGZpcnN0IG5vZGUgb2YgQVxuICBoZWlnaHRPZkZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlOiBudW1iZXIgLy8gcHhcbiAgLy8gaWYgY2FsbCBsYXN0IG5vZGUgb2YgY29sbGFwc2UgYXMgQSwgdGhlIG51bWJlciA9IGhlaWdodCBvZiBjb2xsYXBzZSAtIGhlaWdodCBvZiBBXG4gIGhlaWdodE9mQ29sbGFwc2VFeGNlcHRGb3JMYXN0Tm9kZTogbnVtYmVyIC8vIHB4XG59XG5cbmNsYXNzIF9EYXRhU291cmNlVHJlZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8RGF0YVNvdXJjZVRyZWVQcm9wcyAmIEV4dHJhUHJvcHMsIFN0YXRlPiB7XG4gIF9fdW5tb3VudGVkID0gZmFsc2VcblxuICBsYXN0Tm9kZUluQ29sbGFwc2VSZWY6IEhUTUxFbGVtZW50XG4gIGNvbGxhcHNlUmVmOiBIVE1MRWxlbWVudFxuICByb290UmVmOiBIVE1MRWxlbWVudFxuICBpbnRlcnNlY3Rpb25PYnNlcnZlcjogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuOiB0eXBlb2YgdGhpcy5wcm9wcy5kZWZhdWx0T3BlbiA9PT0gJ2Jvb2xlYW4nID8gdGhpcy5wcm9wcy5kZWZhdWx0T3BlbiA6IHRoaXMuZ2V0TmVlZEF1dG9PcGVuKHRoaXMucHJvcHMuZGF0YVNvdXJjZSksXG4gICAgICBoZWlnaHRPZkZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlOiAwLFxuICAgICAgaGVpZ2h0T2ZDb2xsYXBzZUV4Y2VwdEZvckxhc3ROb2RlOiAwXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbMF1cbiAgICAgIC8qKlxuICAgICAgICogSWYgdGhlIGNvbXBvbmVudCBpcyBub3QgaW4gdmlld3BvcnQsIHRoZSBwb3NpdGlvbiBvZiBET01zIG1heSBub3QgY29ycmVjdCwgd2hpY2ggY2F1c2VzIHRoZSBjb2xsYXBzZSBsaW5lIGlzIG5vdCBjb3JyZWN0LlxuICAgICAgICogV2hlbiB0aGUgY29tcG9uZW50IGFwcGVhcnMgaW4gdmlld3BvcnQsIGRyYXcgdGhlIGNvbGxhcHNlIGxpbmUgYWdhaW4uXG4gICAgICAgKi9cbiAgICAgIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgdGhpcy5kcmF3Q29sbGFwc2VMaW5lKClcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnJvb3RSZWYpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogRGF0YVNvdXJjZVRyZWVQcm9wcyAmIEV4dHJhUHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc05vZGVTZWxlY3RhYmxlICE9PSBwcmV2UHJvcHMuaXNOb2RlU2VsZWN0YWJsZSB8fCB0aGlzLnByb3BzLmdldENoaWxkRGF0YVNvdXJjZXModGhpcy5wcm9wcy5kYXRhU291cmNlKS5sZW5ndGggIT09IHByZXZQcm9wcy5nZXRDaGlsZERhdGFTb3VyY2VzKHByZXZQcm9wcy5kYXRhU291cmNlKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZHJhd0NvbGxhcHNlTGluZSgpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ZWQgPSB0cnVlXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5kaXNjb25uZWN0KClcbiAgfVxuXG4gIGdldE5lZWRBdXRvT3BlbiA9IChkYXRhU291cmNlOiBQYXJ0aWFsPERhdGFTb3VyY2U+KTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzIHx8ICFkYXRhU291cmNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy51c2VEYXRhU291cmNlcy5zb21lKHUgPT4gdT8ubWFpbkRhdGFTb3VyY2VJZCA9PT0gZGF0YVNvdXJjZS5pZCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGREc3MgPSB0aGlzLnByb3BzLmdldENoaWxkRGF0YVNvdXJjZXMoZGF0YVNvdXJjZSlcbiAgICBpZiAoY2hpbGREc3Muc29tZShjRHMgPT4gdGhpcy5nZXROZWVkQXV0b09wZW4oY0RzKSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICB0b2dnbGVDaGlsZERzcyA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuaXNPcGVuID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMucHJvcHMudG9nZ2xlICYmIHRoaXMucHJvcHMudG9nZ2xlKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuIH0pXG4gICAgfVxuICB9XG5cbiAgZHJhd0NvbGxhcHNlTGluZSA9ICgpID0+IHtcbiAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29sbGFwc2VSZWYgJiYgdGhpcy5sYXN0Tm9kZUluQ29sbGFwc2VSZWYpIHtcbiAgICAgICAgY29uc3QgZmlyc3ROb2RlT2ZMYXN0Tm9kZUluQ29sbGFwc2UgPSB0aGlzLmxhc3ROb2RlSW5Db2xsYXBzZVJlZi5xdWVyeVNlbGVjdG9yKGAuJHtGSVJTVF9OT0RFX0lOX0NPTExBUFNFfWApIHx8IHRoaXMubGFzdE5vZGVJbkNvbGxhcHNlUmVmXG4gICAgICAgIGNvbnN0IHBhZGRpbmdUb3BPZkxhc3ROb2RlSW5Db2xsYXBzZSA9IHdpbmRvdyAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmxhc3ROb2RlSW5Db2xsYXBzZVJlZik/LnBhZGRpbmdUb3BcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcE51bU9mTGFzdE5vZGVJbkNvbGxhcHNlID0gcGFkZGluZ1RvcE9mTGFzdE5vZGVJbkNvbGxhcHNlID8gcGFyc2VGbG9hdChwYWRkaW5nVG9wT2ZMYXN0Tm9kZUluQ29sbGFwc2UpICsgMiA6IDBcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcEZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlID0gd2luZG93ICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlKT8ucGFkZGluZ1RvcFxuICAgICAgICBjb25zdCBwYWRkaW5nVG9wTnVtT2ZGaXJzdE5vZGVPZkxhc3ROb2RlSW5Db2xsYXBzZSA9IHBhZGRpbmdUb3BGaXJzdE5vZGVPZkxhc3ROb2RlSW5Db2xsYXBzZSA/IHBhcnNlRmxvYXQocGFkZGluZ1RvcEZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlKSA6IDBcbiAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudGVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBoZWlnaHRPZkNvbGxhcHNlRXhjZXB0Rm9yTGFzdE5vZGU6IHRoaXMuY29sbGFwc2VSZWYub2Zmc2V0SGVpZ2h0IC0gdGhpcy5sYXN0Tm9kZUluQ29sbGFwc2VSZWYub2Zmc2V0SGVpZ2h0ICsgcGFkZGluZ1RvcE51bU9mTGFzdE5vZGVJbkNvbGxhcHNlLFxuICAgICAgICAgICAgaGVpZ2h0T2ZGaXJzdE5vZGVPZkxhc3ROb2RlSW5Db2xsYXBzZTogKGZpcnN0Tm9kZU9mTGFzdE5vZGVJbkNvbGxhcHNlIGFzIEhUTUxFbGVtZW50KS5vZmZzZXRIZWlnaHQgLSBwYWRkaW5nVG9wTnVtT2ZGaXJzdE5vZGVPZkxhc3ROb2RlSW5Db2xsYXBzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuZHJhd0NvbGxhcHNlTGluZSAmJiB0aGlzLnByb3BzLmRyYXdDb2xsYXBzZUxpbmUoKVxuICAgIH0pXG4gIH1cblxuICAvLyBSZXR1cm4gY2hpbGQgZGF0YSBzb3VyY2VzIHdoaWNoIGFyZSBzZWxlY3RhYmxlLlxuICBnZXRTZWxlY3RhYmxlQ2hpbGROb2RlcyA9IChkczogUGFydGlhbDxEYXRhU291cmNlPik6IEFycmF5PFBhcnRpYWw8RGF0YVNvdXJjZT4+ID0+IHtcbiAgICBpZiAoIWRzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgY2hpbGREc3MgPSB0aGlzLnByb3BzLmdldENoaWxkRGF0YVNvdXJjZXMoZHMpIHx8IFtdXG4gICAgY29uc3QgY2hpbGROb2RlcyA9IGNoaWxkRHNzLmZpbHRlcihkID0+IHRoaXMucHJvcHMuaXNOb2RlU2VsZWN0YWJsZShkKSlcblxuICAgIHJldHVybiBjaGlsZE5vZGVzXG4gIH1cblxuICAvLyBSZXR1cm4gYWxsIGNoaWxkIG5vZGVzLCB3aGljaCBzZWxmIGlzIHNlbGVjdGFibGUgb3Igd2hpY2ggY29udGFucyBzZWxlY3RhYmxlIGRlc2NlbmRhbnQgbm9kZS5cbiAgZ2V0Q2hpbGROb2RlcyA9IChkczogUGFydGlhbDxEYXRhU291cmNlPik6IEFycmF5PFBhcnRpYWw8RGF0YVNvdXJjZT4+ID0+IHtcbiAgICBpZiAoIWRzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgY2hpbGREc3MgPSB0aGlzLnByb3BzLmdldENoaWxkRGF0YVNvdXJjZXMoZHMpIHx8IFtdXG4gICAgY29uc3QgY2hpbGROb2RlcyA9IGNoaWxkRHNzLmZpbHRlcihkID0+IHRoaXMucHJvcHMuaXNOb2RlU2VsZWN0YWJsZShkKSB8fCB0aGlzLmdldENoaWxkTm9kZXMoZCkubGVuZ3RoID4gMClcblxuICAgIHJldHVybiBjaGlsZE5vZGVzXG4gIH1cblxuICBnZXRMYWJlbCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHBhcmVudERzTGFiZWwgPSB0aGlzLnByb3BzLmdldExhYmVsKHRoaXMucHJvcHMuZGF0YVNvdXJjZSkgfHwgdGhpcy5wcm9wcy5kYXRhU291cmNlLmlkXG4gICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWwgPyBgJHt0aGlzLnByb3BzLmxhYmVsfSAvICR7cGFyZW50RHNMYWJlbH1gIDogcGFyZW50RHNMYWJlbFxuICB9XG5cbiAgZ2V0SGlkZUxpbmVTdHlsZSA9ICgpOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaGVpZ2h0OiBgJHt0aGlzLnN0YXRlLmhlaWdodE9mQ29sbGFwc2VFeGNlcHRGb3JMYXN0Tm9kZSArIHRoaXMuc3RhdGUuaGVpZ2h0T2ZGaXJzdE5vZGVPZkxhc3ROb2RlSW5Db2xsYXBzZSAvIDJ9cHhgXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIG9uZSBub2RlIEEgaXMgdW5zZWxlY3RhYmxlIGFuZCBpdCBoYXMgb25seSBvbmUgY2hpbGQgbm9kZSBBMSBhbmQgdGhlIGNoaWxkIG5vZGUgQTEgaXMgdW5zZWxlY3RhYmxlLFxuICAgKiB0aGUgbm9kZSBBIHNob3VsZCBqb2luIGl0J3MgY2hpbGQgbm9kZSBBMSBhbmQgcmVuZGVyIGFzIG9uZSB1bnNlbGVjdGFibGUgbm9kZSAobGFiZWwgaXMgYEEgLyBBMWApLlxuICAgKi9cbiAgZ2V0V2hldGhlclVuc2VsZWN0YWJsZVBhcmVudEFuZENoaWxkTm9kZUNhbkpvaW4gPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgaXNDdXJyZW50Tm9kZVNlbGVjdGFibGUgPSB0aGlzLnByb3BzLmlzTm9kZVNlbGVjdGFibGUodGhpcy5wcm9wcy5kYXRhU291cmNlKVxuICAgIGlmIChpc0N1cnJlbnROb2RlU2VsZWN0YWJsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLmdldENoaWxkTm9kZXModGhpcy5wcm9wcy5kYXRhU291cmNlKVxuICAgICAgY29uc3Qgc2VsZWN0YWJsZUNoaWxkTm9kZXMgPSB0aGlzLmdldFNlbGVjdGFibGVDaGlsZE5vZGVzKHRoaXMucHJvcHMuZGF0YVNvdXJjZSlcbiAgICAgIGNvbnN0IGhhc1NlbGVjdGFibGVDaGlsZE5vZGVzID0gc2VsZWN0YWJsZUNoaWxkTm9kZXMubGVuZ3RoID4gMFxuICAgICAgcmV0dXJuICFoYXNTZWxlY3RhYmxlQ2hpbGROb2RlcyAmJiBjaGlsZE5vZGVzLmxlbmd0aCA9PT0gMVxuICAgIH1cbiAgfVxuXG4gIGdldElzT3BlbiA9ICgpOiBib29sZWFuID0+IHtcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuaXNPcGVuID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmlzT3BlblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pc09wZW5cbiAgICB9XG4gIH1cblxuICBnZXRSZW5kZXJDb250ZW50ID0gKGlzUm9vdFRyZWU6IGJvb2xlYW4sIGlzQ2hpbGRUcmVlVGhlUmVhbFJvb3RUcmVlOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmRhdGFTb3VyY2UpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLmdldENoaWxkTm9kZXModGhpcy5wcm9wcy5kYXRhU291cmNlKVxuICAgIGNvbnN0IGhhc0NoaWxkTm9kZXMgPSBjaGlsZE5vZGVzLmxlbmd0aCA+IDBcbiAgICBjb25zdCBpc1Jvb3ROb2RlU2VsZWN0YWJsZSA9IHRoaXMucHJvcHMuaXNOb2RlU2VsZWN0YWJsZSh0aGlzLnByb3BzLmRhdGFTb3VyY2UpXG5cbiAgICBpZiAoIWlzUm9vdE5vZGVTZWxlY3RhYmxlICYmICFoYXNDaGlsZE5vZGVzKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGFibGVDaGlsZE5vZGVzID0gdGhpcy5nZXRTZWxlY3RhYmxlQ2hpbGROb2Rlcyh0aGlzLnByb3BzLmRhdGFTb3VyY2UpXG4gICAgY29uc3QgaGFzU2VsZWN0YWJsZUNoaWxkTm9kZXMgPSBzZWxlY3RhYmxlQ2hpbGROb2Rlcy5sZW5ndGggPiAwXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmdldExhYmVsKClcbiAgICBjb25zdCBjYW5VbnNlbGVjdGFibGVQYXJlbnRBbmRDaGlsZE5vZGVKb2luID0gdGhpcy5nZXRXaGV0aGVyVW5zZWxlY3RhYmxlUGFyZW50QW5kQ2hpbGROb2RlQ2FuSm9pbigpXG5cbiAgICBjb25zdCBEc0l0ZW1zID0gY2hpbGROb2Rlcy5tYXAoKGRzLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGRzICYmIGRzLmlkKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAga2V5PXtkcy5pZH0gcmVmPXtuID0+IHsgaW5kZXggPT09IGNoaWxkTm9kZXMubGVuZ3RoIC0gMSA/IHRoaXMubGFzdE5vZGVJbkNvbGxhcHNlUmVmID0gbiA6IHVuZGVmaW5lZCB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ3B0LTQnOiBpbmRleCAhPT0gMCB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuZ2V0Q2hpbGREYXRhU291cmNlcyhkcykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gPERhdGFTb3VyY2VUcmVlXG4gICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc30gZGF0YVNvdXJjZT17ZHN9IGxhYmVsPXtjYW5VbnNlbGVjdGFibGVQYXJlbnRBbmRDaGlsZE5vZGVKb2luID8gbGFiZWwgOiAnJ30gZHJhd0NvbGxhcHNlTGluZT17dGhpcy5kcmF3Q29sbGFwc2VMaW5lfVxuICAgICAgICAgICAgICAgICAgaXNDaGlsZFRyZWU9eyFpc0NoaWxkVHJlZVRoZVJlYWxSb290VHJlZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2NvbGxhcHNlLWJ1dHRvbiBsZWFmJyl9IC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciB3LTEwMCB6LWluZGV4LTEnKX0gcm9sZT0nb3B0aW9uJyBhcmlhLXNlbGVjdGVkPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzPy5zb21lKHUgPT4gdT8ubWFpbkRhdGFTb3VyY2VJZCA9PT0gZHMuaWQpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucmVuZGVyU2VsZWN0YWJsZU5vZGUgJiYgdGhpcy5wcm9wcy5yZW5kZXJTZWxlY3RhYmxlTm9kZShkcyl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9KVxuXG4gICAgaWYgKGhhc1NlbGVjdGFibGVDaGlsZE5vZGVzIHx8IGlzUm9vdE5vZGVTZWxlY3RhYmxlIHx8ICFjYW5VbnNlbGVjdGFibGVQYXJlbnRBbmRDaGlsZE5vZGVKb2luKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHJvbGU9J2dyb3VwJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY29sbGFwc2UtYnV0dG9uJywgeyByb290OiAhdGhpcy5wcm9wcy5pc0NoaWxkVHJlZSB9KX0+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBoYXNDaGlsZE5vZGVzICYmXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5JyBpY29uIHNpemU9J3NtJyBvbkNsaWNrPXt0aGlzLnRvZ2dsZUNoaWxkRHNzfSBjbGFzc05hbWU9J3ctMTAgcHgtMCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGppbXUtb3V0bGluZS1pbnNpZGUnXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldElzT3BlbigpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjb2xsYXBzZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY29sbGFwc2UgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2V4cGFuZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZXhwYW5kIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJc09wZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY29sbGFwc2UnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNvbGxhcHNlIH0pfS4gJHt0aGlzLnByb3BzLmdldExhYmVsKHRoaXMucHJvcHMuZGF0YVNvdXJjZSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZXhwYW5kJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5leHBhbmQgfSl9LiAke3RoaXMucHJvcHMuZ2V0TGFiZWwodGhpcy5wcm9wcy5kYXRhU291cmNlKX1gXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17dGhpcy5nZXRJc09wZW4oKSA/IEljb25NaW51cyA6IEljb25BZGR9IHNpemU9JzEyJyAvPlxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHctMTAwIHotaW5kZXgtMSAke0ZJUlNUX05PREVfSU5fQ09MTEFQU0V9YH0gcm9sZT17aXNSb290Tm9kZVNlbGVjdGFibGUgPyAnb3B0aW9uJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgYXJpYS1zZWxlY3RlZD17aXNSb290Tm9kZVNlbGVjdGFibGUgPyB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzPy5zb21lKHUgPT4gdT8ubWFpbkRhdGFTb3VyY2VJZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlLmlkKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzUm9vdE5vZGVTZWxlY3RhYmxlXG4gICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMucmVuZGVyU2VsZWN0YWJsZU5vZGUgJiYgdGhpcy5wcm9wcy5yZW5kZXJTZWxlY3RhYmxlTm9kZSh0aGlzLnByb3BzLmRhdGFTb3VyY2UpXG4gICAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMucmVuZGVyVW5zZWxlY3RhYmxlTm9kZSAmJiB0aGlzLnByb3BzLnJlbmRlclVuc2VsZWN0YWJsZU5vZGUobGFiZWwsIHRoaXMucHJvcHMuZGF0YVNvdXJjZSwgaXNSb290VHJlZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge1xuICAgICAgICAgICAgaGFzQ2hpbGROb2RlcyAmJlxuICAgICAgICAgICAgICA8Q29sbGFwc2VcbiAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuZ2V0SXNPcGVuKCl9IGNsYXNzTmFtZT0nY29sbGFwc2UtY29udGVudCcgaW5uZXJSZWY9e24gPT4geyB0aGlzLmNvbGxhcHNlUmVmID0gbiB9fVxuICAgICAgICAgICAgICAgIG9uRW50ZXJpbmc9e3RoaXMuZHJhd0NvbGxhcHNlTGluZX0gb25FeGl0aW5nPXt0aGlzLmRyYXdDb2xsYXBzZUxpbmV9XG4gICAgICAgICAgICAgICAgb25FbnRlcmVkPXt0aGlzLmRyYXdDb2xsYXBzZUxpbmV9IG9uRXhpdGVkPXt0aGlzLmRyYXdDb2xsYXBzZUxpbmV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBEc0l0ZW1zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdjb2xsYXBzZS1saW5lJywgeyByb290OiAhdGhpcy5wcm9wcy5pc0NoaWxkVHJlZSB9KX0gc3R5bGU9e3RoaXMuZ2V0SGlkZUxpbmVTdHlsZSgpfSAvPlxuICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXNDaGlsZE5vZGVzKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiByb2xlPSdncm91cCc+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIERzSXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIHJvb3Qgbm9kZSBpcyB1bnNlbGVjdGFibGUgYW5kIGl0IGhhcyBvbmx5IG9uZSBjaGlsZCBub2RlIGFuZCB0aGUgY2hpbGQgbm9kZSBpcyB1bnNlbGVjdGFibGUsXG4gICAqIHRoZSByb290IG5vZGUgc2hvdWxkIGpvaW4gaXQncyBjaGlsZCBub2RlIGFuZCByZW5kZXIgYXMgb25lIHVuc2VsZWN0YWJsZSBub2RlIChsYWJlbCBpcyBgJHtyb290IG5vZGUncyBsYWJlbH0gLyAke2NoaWxkIG5vZGUncyBsYWJlbH1gKS5cbiAgICogVGhlbiB0aGUgY2hpbGQgbm9kZSB3aWxsIGJlY29tZSByb290IG5vZGUuXG4gICAqL1xuICBnZXRXaGV0aGVyQ2hpbGRUcmVlSXNUaGVSZWFsUm9vdFRyZWUgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgY2FuVW5zZWxlY3RhYmxlUGFyZW50QW5kQ2hpbGROb2RlSm9pbiA9IHRoaXMuZ2V0V2hldGhlclVuc2VsZWN0YWJsZVBhcmVudEFuZENoaWxkTm9kZUNhbkpvaW4oKVxuICAgIGNvbnN0IGlzQ2hpbGRUcmVlVGhlUmVhbFJvb3RUcmVlID0gIXRoaXMucHJvcHMuaXNDaGlsZFRyZWUgJiYgY2FuVW5zZWxlY3RhYmxlUGFyZW50QW5kQ2hpbGROb2RlSm9pblxuICAgIHJldHVybiBpc0NoaWxkVHJlZVRoZVJlYWxSb290VHJlZVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBpc0NoaWxkVHJlZVRoZVJlYWxSb290VHJlZSA9IHRoaXMuZ2V0V2hldGhlckNoaWxkVHJlZUlzVGhlUmVhbFJvb3RUcmVlKClcbiAgICBjb25zdCBpc1Jvb3RUcmVlID0gIXRoaXMucHJvcHMuaXNDaGlsZFRyZWUgJiYgIWlzQ2hpbGRUcmVlVGhlUmVhbFJvb3RUcmVlXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsIHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX0gcmVmPXtuID0+IHsgdGhpcy5yb290UmVmID0gbiB9fT5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY29tcG9uZW50LWRhdGEtc291cmNlLXRyZWUnLCB7XG4gICAgICAgICAgYmc6IHRoaXMucHJvcHMudXNlRGVmYXVsdEJhY2tncm91bmQgJiYgaXNSb290VHJlZSAmJiB0aGlzLmdldElzT3BlbigpICYmIHRoaXMuZ2V0Q2hpbGROb2Rlcyh0aGlzLnByb3BzLmRhdGFTb3VyY2UpLmxlbmd0aCA+IDAsXG4gICAgICAgICAgJ3RyZWUtcm9vdCc6IGlzUm9vdFRyZWVcbiAgICAgICAgfSl9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5nZXRSZW5kZXJDb250ZW50KGlzUm9vdFRyZWUsIGlzQ2hpbGRUcmVlVGhlUmVhbFJvb3RUcmVlKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBkYXRhIHNvdXJjZSB0cmVlIGhhcyB0d28ga2luZHMgb2Ygbm9kZSwgc2VsZWN0YWJsZSBub2RlIGFuZCB1bnNlbGVjdGFibGUgbm9kZS5cbiAqIFNlbGVjdGFibGUgbm9kZSBtZWFucyB0aGUgbm9kZSBjYW4gYmUgc2VsZWN0ZWQgYW5kIHVuc2VsZWN0YWJsZSBub2RlIG1lYW5zIHRoZSBub2RlIGNhbiBub3QgYmUgc2VsZWN0ZWQuXG4gKiBUaGUgcnVsZXMgdG8gZ2VuZXJhdGUgdW5zZWxlY3RhYmxlIG5vZGU6XG4gKiAxLiBJZiBub2RlIEEgY2FuIG5vdCBiZSBzZWxlY3RlZCBhbmQgYWxsIGRlc2NlbmRhbnQgbm9kZXMgb2YgQSBjYW4gbm90IGJlIHNlbGVjdGVkLCB0aGUgc3VidHJlZSB1c2luZyBBIGFzIHJvb3Qgbm9kZSB3aWxsIGJlIGhpZGRlbi5cbiAqIDIuIElmIG5vZGUgQSBjYW4gbm90IGJlIHNlbGVjdGVkIGFuZCBzb21lIGRlc2NlbmRhbnQgbm9kZXMgb2YgQSBjYW4gYmUgc2VsZWN0ZWQsIEEgd2lsbCBvbmx5IHJlbmRlciBhcyBhIGxhYmVsLlxuICogMy4gSWYgbm9kZSBBIGNhbiBub3QgYmUgc2VsZWN0ZWQsIEEncyBjaGlsZCBub2RlIEExIGFsc28gY2FuIG5vdCBiZSBzZWxlY3RlZCBhbmQgQTEncyBjaGlsZCBub2RlIEExMSBjYW4gYmUgc2VsZWN0ZWQsXG4gKiAgICBBMTEncyBwYXJlbnQgbm9kZSB3aWxsIGJlIGEgdW5zZWxlY3RhYmxlIG5vZGUgYW5kIHRoZSBsYWJlbCB3aWxsIGJlIGBBIC8gQTExYC5cbiAqL1xuZXhwb3J0IGNvbnN0IERhdGFTb3VyY2VUcmVlID0gaW5qZWN0SW50bCh3aXRoU3R5bGVzKF9EYXRhU291cmNlVHJlZSwgJ0RhdGFTb3VyY2VUcmVlJykpXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LCBqc3gsIHR5cGUgSU1EYXRhVmlld0pzb24sIHR5cGUgSU1Vc2VEYXRhU291cmNlLCB0eXBlIERhdGFTb3VyY2UsIHR5cGUgSW50bFNoYXBlLCBJbW11dGFibGUsIHR5cGUgSU1TcWxFeHByZXNzaW9uLCB0eXBlIE9yZGVyQnlPcHRpb24sIGxvZGFzaCwgU3FsRXhwcmVzc2lvbk1vZGUsXG4gIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11Q29yZU1lc3NhZ2VzLCBpbmplY3RJbnRsLCBjbGFzc05hbWVzLCBtb2R1bGVMb2FkZXIsIENPTlNUQU5UUywgRGF0YVNvdXJjZU1hbmFnZXIsIHR5cGUgSU1TdGF0ZSwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgRGF0YVJlY29yZCxcbiAgdHlwZSBXaWRnZXRKc29uLCBSZWFjdFJlZHV4LCB0eXBlIERhdGFWaWV3SnNvbiwgdHlwZSBRdWVyeVBhcmFtcywgdHlwZSBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCB0eXBlIEZlYXR1cmVMYXllclF1ZXJ5UGFyYW1zLCBRdWVyeVNjb3BlLCB0eXBlIERhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMsIGNhbmNlbGFibGVQcm9taXNlLCBkYXRhU291cmNlVXRpbHNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHtcbiAgVGV4dElucHV0LCBNb2RhbCwgTW9kYWxIZWFkZXIsIE1vZGFsQm9keSwgVGFicywgVGFiLCBkZWZhdWx0TWVzc2FnZXMgYXMgamltdVVJTWVzc2FnZXMsIE1vZGFsRm9vdGVyLCBCdXR0b24sIE51bWVyaWNJbnB1dCxcbiAgU3dpdGNoLCBMaW5rLCBMb2FkaW5nLCBMb2FkaW5nVHlwZSwgTGFiZWwsIHR5cGUgVmFsaWRpdHlSZXN1bHRcbn0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IERhdGFTb3VyY2VSZW1vdmVXYXJpbmdSZWFzb24sIERhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUG9wdXAgfSBmcm9tICcuL2RhdGEtc291cmNlLXJlbW92ZS13YXJuaW5nLXBvcHVwJ1xuaW1wb3J0IHsgZ2V0V2lkZ2V0c1VzaW5nRHNPckl0c0Rlc2NlbmRhbnREc3MsIGVkaXREYXRhU291cmNlSnNvbiB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdHlwZSBBYnN0cmFjdFF1ZXJpYWJsZURhdGFTb3VyY2UgfSBmcm9tICdqaW11LWNvcmUvZGF0YS1zb3VyY2UnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcblxuaW1wb3J0IHsgV2FybmluZ0NpcmNsZUZpbGxlZCB9IGZyb20gJ2ppbXUtaWNvbnMvZmlsbGVkL3N1Z2dlc3RlZC93YXJuaW5nLWNpcmNsZSdcbmltcG9ydCB7IEVkaXRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2VkaXQnXG5pbXBvcnQgeyBEdXBsaWNhdGVPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2R1cGxpY2F0ZSdcbmltcG9ydCB7IFRyYXNoT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci90cmFzaCdcbmltcG9ydCB7IEdsb2JlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RhdGEvZ2xvYmUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVZpZXdTZXR0aW5nUG9wdXBQcm9wcyB7XG4gIG1haW5EYXRhU291cmNlOiBEYXRhU291cmNlXG4gIGRhdGFWaWV3OiBJTURhdGFWaWV3SnNvblxuICBpc09wZW46IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgaXMgc2V0dGluZyBtYWluIGRhdGEgc291cmNlIG9yIGRhdGEgdmlldy5cbiAgICovXG4gIGlzU2V0dGluZ01haW5EYXRhU291cmNlPzogYm9vbGVhblxuICBkaXNhYmxlUmVuYW1lPzogYm9vbGVhblxuICBkaXNhYmxlRHVwbGljYXRlPzogYm9vbGVhblxuICBkaXNhYmxlUmVtb3ZlPzogYm9vbGVhblxuICAvKipcbiAgICogSWYgdGhlcmUgaXMgbm8gZGF0YSB2aWV3LCB3aWxsIGNyZWF0ZSBhIG5ldyBkYXRhIHZpZXcgdXNpbmcgdGhpcyB2YWx1ZSBhcyBkYXRhIHZpZXcgaWQuXG4gICAqL1xuICBuZXdEYXRhVmlld0lkPzogc3RyaW5nXG4gIC8qKlxuICAgKiBJZiB0aGVyZSBpcyBubyBkYXRhIHZpZXcsIHdpbGwgY3JlYXRlIGEgbmV3IGRhdGEgdmlldyB1c2luZyB0aGlzIHZhbHVlIGFzIGRhdGEgdmlldyBsYWJlbC5cbiAgICovXG4gIG5ld0RhdGFWaWV3TGFiZWw/OiBzdHJpbmdcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHRvZ2dsZTogKCkgPT4gdm9pZFxuICBvbkFwcGx5OiAoZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uKSA9PiB2b2lkXG4gIG9uRHVwbGljYXRlPzogKGRhdGFWaWV3OiBJTURhdGFWaWV3SnNvbikgPT4gdm9pZFxuICAvKipcbiAgICogV2lsbCBjYWxsIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgcmVtb3ZpbmcgZGF0YSB2aWV3LlxuICAgKi9cbiAgYWZ0ZXJSZW1vdmU/OiAoZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlXG59XG5cbmludGVyZmFjZSBTdGF0ZVRvUHJvcHMge1xuICB3aWRnZXRzOiBJbW11dGFibGVPYmplY3Q8eyBbd2lkZ2V0SWQ6IHN0cmluZ106IFdpZGdldEpzb24gfT5cbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uXG4gIHByZXZpZXdUYWJsZVJlY29yZHM6IERhdGFSZWNvcmRbXVxuICBwYWdpbmF0aW9uOiBRdWVyeVBhcmFtcyAvLyBvbmx5IHVzZSBwYWdlIGFuZCBwYWdlU2l6ZVxuICBpc1RpdGxlSW5wdXRTaG93bjogYm9vbGVhblxuICBpc1JlbW92ZVdhcm5pbmdPcGVuOiBib29sZWFuXG4gIGlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZDogYm9vbGVhblxuICBpc0xvY2FsRGF0YVNvdXJjZUxvYWRlZDogYm9vbGVhblxuICBTcWxFeHByZXNzaW9uQnVpbGRlcjogYW55XG4gIFNvcnQ6IGFueVxuICBnZXRBcHBDb25maWdBY3Rpb246IGFueVxuICBpc1NxbEV4cHJlc3Npb25WYWxpZDogYW55XG59XG5cbmNvbnN0IE1JTl9SRUNPUkRfQ09VTlQgPSAxXG5jb25zdCBERUZBVUxUX1JFQ09SRF9DT1VOVCA9IDEwMFxuY29uc3QgTUlOX1BBR0VfU0laRSA9IDFcbmNvbnN0IExPQ0FMX0xPQURfUFJFRklYID0gJ0RBVEFfVklFV19TRVRUSU5HJ1xuY29uc3QgUFJFVklFV19UQUJMRV9QQUdFX1NJWkUgPSAxNVxuXG5jbGFzcyBfRGF0YVZpZXdTZXR0aW5nUG9wdXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PERhdGFWaWV3U2V0dGluZ1BvcHVwUHJvcHMgJiBFeHRyYVByb3BzICYgU3RhdGVUb1Byb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgY291bnQgPSAtMVxuXG4gIHRpdGxlSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTElucHV0RWxlbWVudD4oKVxuICBlZGl0QnV0dG9uID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxCdXR0b25FbGVtZW50PigpXG4gIF9fdW5tb3VudCA9IGZhbHNlXG4gIGxhc3RTY3JvbGxUb3AgPSAwIC8vIHVzZWQgdG8gZ2V0IHNjcm9sbCBkaXJlY3Rpb25cbiAgbGFzdFRpbWVUb2dnbGVUaWxlSW5wdXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICBwZW5kaW5nTG9hZExvY2FsRHNQcm9taXNlOiBjYW5jZWxhYmxlUHJvbWlzZS5DYW5jZWxhYmxlUHJvbWlzZTx2b2lkPiA9IG51bGxcbiAgcHJldmlvdXNMYWJlbCA9ICcnXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgX0RhdGFWaWV3U2V0dGluZ1BvcHVwLmNvdW50KytcblxuICAgIGNvbnN0IGRhdGFWaWV3ID0gdGhpcy5wcm9wcy5kYXRhVmlldyB8fCB0aGlzLmdldE5ld0RhdGFWaWV3KHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2UpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGFWaWV3LFxuICAgICAgcHJldmlld1RhYmxlUmVjb3JkczogW10sXG4gICAgICBpc1RpdGxlSW5wdXRTaG93bjogZmFsc2UsXG4gICAgICBpc1JlbW92ZVdhcm5pbmdPcGVuOiBmYWxzZSxcbiAgICAgIGlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZDogZmFsc2UsXG4gICAgICBpc0xvY2FsRGF0YVNvdXJjZUxvYWRlZDogZmFsc2UsXG4gICAgICBTcWxFeHByZXNzaW9uQnVpbGRlcjogbnVsbCxcbiAgICAgIFNvcnQ6IG51bGwsXG4gICAgICBnZXRBcHBDb25maWdBY3Rpb246IG51bGwsXG4gICAgICBpc1NxbEV4cHJlc3Npb25WYWxpZDogbnVsbCxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgcGFnZVNpemU6IHR5cGVvZiBkYXRhVmlldz8ubWF4aW11bSA9PT0gJ251bWJlcicgPyBNYXRoLm1pbihkYXRhVmlldy5tYXhpbXVtLCBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRSkgOiBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtdWkvYWR2YW5jZWQvc3FsLWV4cHJlc3Npb24tYnVpbGRlcicpLFxuICAgICAgbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtdWkvYmFzaWMvc3FsLWV4cHJlc3Npb24tcnVudGltZScpLFxuICAgICAgbW9kdWxlTG9hZGVyLmxvYWRNb2R1bGUoJ2ppbXUtZm9yLWJ1aWxkZXInKVxuICAgIF0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBbc3FsQnVpbGRlciwgeyBpc1NxbEV4cHJlc3Npb25WYWxpZCB9LCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9XSA9IHJlc1xuICAgICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBTcWxFeHByZXNzaW9uQnVpbGRlcjogc3FsQnVpbGRlci5TcWxFeHByZXNzaW9uQnVpbGRlcixcbiAgICAgICAgICAgIFNvcnQ6IHNxbEJ1aWxkZXIuU29ydCxcbiAgICAgICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbixcbiAgICAgICAgICAgIGlzU3FsRXhwcmVzc2lvblZhbGlkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xuICAgICAgdGhpcy5zZXRMb2NhbERhdGFTb3VyY2UoKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBEYXRhVmlld1NldHRpbmdQb3B1cFByb3BzICYgRXh0cmFQcm9wcyAmIFN0YXRlVG9Qcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xuICAgIC8vIHdoZW4gcHJvcHMnIGRhdGEgdmlldyBjaGFuZ2VzLCBuZWVkIHRvIHJlc2V0IHF1ZXJ5IHBhcmFtcyBhbmQgc3RhdGUncyBkYXRhIHZpZXdcbiAgICBpZiAoIWxvZGFzaC5pc0RlZXBFcXVhbChwcmV2UHJvcHMuZGF0YVZpZXcsIHRoaXMucHJvcHMuZGF0YVZpZXcpKSB7XG4gICAgICB0aGlzLmluaXRQYWdpbmF0aW9uKClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRhVmlldzogdGhpcy5wcm9wcy5kYXRhVmlldyB8fCB0aGlzLmdldE5ld0RhdGFWaWV3KHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2UpXG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAoZG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3I/LignLm1vZGFsLmppbXUtb3V0bGluZS1pbnNpZGUuc2hvdycpIGFzIEhUTUxFbGVtZW50KT8uZm9jdXMoKVxuICAgICAgfSlcbiAgICB9IGVsc2UgeyAvLyBvdGhlciBvcGVyYXRpb25zIGFib3V0IGxvY2FsIGRhdGEgc291cmNlIHNob3VsZCB3YWl0IHV0aWwgc3RhdGUncyBkYXRhIHZpZXcgaXMgdXBkYXRlZFxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuKSB7XG4gICAgICAgIC8vIHdoZW4gbWFpbiBkYXRhIHNvdXJjZSBvciBzdGF0ZSdzIGRhdGEgdmlldyBjaGFuZ2VzLCBjaGFuZ2Ugc3RhdHVzIHRvIGxvYWRpbmcgYW5kIHNldCBsb2NhbCBkYXRhIHNvdXJjZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMuZ2V0TG9jYWxEYXRhU291cmNlKCkgfHxcbiAgICAgICAgICBwcmV2UHJvcHMubWFpbkRhdGFTb3VyY2UgIT09IHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2UgfHxcbiAgICAgICAgICAhbG9kYXNoLmlzRGVlcEVxdWFsKHByZXZTdGF0ZS5kYXRhVmlldz8ud2l0aG91dCgnbGFiZWwnKSwgdGhpcy5zdGF0ZS5kYXRhVmlldz8ud2l0aG91dCgnbGFiZWwnKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zZXRMb2NhbERhdGFTb3VyY2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiBxdWVyeSBwYXJhbXMgb3IgbG9jYWwgZGF0YSBzb3VyY2UgY2hhbmdlcywgY2hhbmdlIHN0YXR1cyB0byBsb2FkaW5nIGFuZCBsb2FkIHJlY29yZHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFsb2Rhc2guaXNEZWVwRXF1YWwocHJldlN0YXRlLnBhZ2luYXRpb24sIHRoaXMuc3RhdGUucGFnaW5hdGlvbikgfHxcbiAgICAgICAgICAoIXByZXZTdGF0ZS5pc0xvY2FsRGF0YVNvdXJjZUNyZWF0ZWQgJiYgdGhpcy5zdGF0ZS5pc0xvY2FsRGF0YVNvdXJjZUNyZWF0ZWQpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMubG9hZExvY2FsRGF0YVNvdXJjZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldlN0YXRlLmRhdGFWaWV3Py5tYXhpbXVtICE9PSB0aGlzLnN0YXRlLmRhdGFWaWV3Py5tYXhpbXVtKSB7XG4gICAgICB0aGlzLmluaXRQYWdpbmF0aW9uKClcbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmlzT3BlbiAmJiAhdGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgIHRoaXMuZGVzdHJveUxvY2FsRGF0YVNvdXJjZSgpXG4gICAgfVxuXG4gICAgaWYgKHByZXZTdGF0ZS5pc1RpdGxlSW5wdXRTaG93biAhPT0gdGhpcy5zdGF0ZS5pc1RpdGxlSW5wdXRTaG93bikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNUaXRsZUlucHV0U2hvd24gJiYgdGhpcy50aXRsZUlucHV0LmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy50aXRsZUlucHV0LmN1cnJlbnQuZm9jdXMoKVxuICAgICAgICB0aGlzLnRpdGxlSW5wdXQuY3VycmVudC5zZWxlY3QoKVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5pc1RpdGxlSW5wdXRTaG93biAmJiB0aGlzLmVkaXRCdXR0b24uY3VycmVudCkge1xuICAgICAgICB0aGlzLmVkaXRCdXR0b24uY3VycmVudC5mb2N1cygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxuXG4gICAgdGhpcy5kZXN0cm95TG9jYWxEYXRhU291cmNlKClcbiAgICB0aGlzLnBlbmRpbmdMb2FkTG9jYWxEc1Byb21pc2U/LmNhbmNlbCgpXG4gIH1cblxuICBnZXRMb2NhbERhdGFTb3VyY2UgPSAoKSA9PiB7XG4gICAgcmV0dXJuIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh0aGlzLmdldExvY2FsRGF0YVNvdXJjZUlkKCkpXG4gIH1cblxuICBkZXN0cm95TG9jYWxEYXRhU291cmNlICgpIHtcbiAgICBpZiAodGhpcy5nZXRMb2NhbERhdGFTb3VyY2UoKSkge1xuICAgICAgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95RGF0YVNvdXJjZSh0aGlzLmdldExvY2FsRGF0YVNvdXJjZSgpLmlkKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAvLyBSZXNldCBsb2NhbCBkYXRhIHNvdXJjZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZDogZmFsc2UsXG4gICAgICAgIGlzTG9jYWxEYXRhU291cmNlTG9hZGVkOiBmYWxzZSxcbiAgICAgICAgcHJldmlld1RhYmxlUmVjb3JkczogW10sXG4gICAgICAgIGRhdGFWaWV3OiB0aGlzLnByb3BzLmRhdGFWaWV3IHx8IHRoaXMuZ2V0TmV3RGF0YVZpZXcodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZSlcbiAgICAgIH0pXG4gICAgICB0aGlzLmluaXRQYWdpbmF0aW9uKClcbiAgICB9XG4gIH1cblxuICBpbml0UGFnaW5hdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgcGFnZVNpemU6IHR5cGVvZiB0aGlzLnN0YXRlLmRhdGFWaWV3Lm1heGltdW0gPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5zdGF0ZS5kYXRhVmlldy5tYXhpbXVtLCBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRSkgOiBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZXRRdWVyeVBhcmFtcyA9ICgpID0+IHtcbiAgICBjb25zdCBkYXRhVmlldyA9IHRoaXMuc3RhdGUuZGF0YVZpZXdcbiAgICBjb25zdCBtYXhQYWdlID0gdHlwZW9mIGRhdGFWaWV3Py5tYXhpbXVtID09PSAnbnVtYmVyJ1xuICAgICAgPyAoZGF0YVZpZXcubWF4aW11bSA8PSBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRSA/IDEgOiBNYXRoLmNlaWwoZGF0YVZpZXcubWF4aW11bSAvIFBSRVZJRVdfVEFCTEVfUEFHRV9TSVpFKSlcbiAgICAgIDogbnVsbFxuICAgIGNvbnN0IHBhZ2VTaXplID0gdHlwZW9mIGRhdGFWaWV3Py5tYXhpbXVtID09PSAnbnVtYmVyJ1xuICAgICAgPyBNYXRoLm1pbihkYXRhVmlldy5tYXhpbXVtLCBQUkVWSUVXX1RBQkxFX1BBR0VfU0laRSlcbiAgICAgIDogUFJFVklFV19UQUJMRV9QQUdFX1NJWkVcbiAgICBsZXQgcGFnZSA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbi5wYWdlXG4gICAgaWYgKG1heFBhZ2UpIHtcbiAgICAgIGlmIChwYWdlICsgMSA8PSBtYXhQYWdlKSB7XG4gICAgICAgIHBhZ2UgKz0gMVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYWdlICs9IDFcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2VTaXplXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHNldExvY2FsRGF0YVNvdXJjZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2NhbERhdGFTb3VyY2VDcmVhdGVkOiBmYWxzZSB9KVxuICAgIGNvbnN0IGRhdGFWaWV3ID0gdGhpcy5zdGF0ZS5kYXRhVmlldz8uc2V0KCdvcmRlckJ5JywgdGhpcy5zdGF0ZS5kYXRhVmlldz8ub3JkZXJCeT8uZmlsdGVyKG9yZGVyQnlPcHRpb25zID0+ICEhb3JkZXJCeU9wdGlvbnMuamltdUZpZWxkTmFtZSkpXG4gICAgY29uc3QgZHNKc29uID0gdGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZS5nZXREYXRhU291cmNlSnNvbigpLnNldCgnaWQnLCB0aGlzLmdldExvY2FsRGF0YVNvdXJjZUlkKCkpXG4gICAgICAuc2V0KCdxdWVyeScsIGRhdGFWaWV3KVxuICAgICAgLnNldCgnaXNIaWRkZW4nLCB0cnVlKVxuICAgICAgLndpdGhvdXQoJ2RhdGFWaWV3cycpXG5cbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZSh0aGlzLmdldExvY2FsRGF0YVNvdXJjZUlkKCkpXG4gICAgaWYgKCFkcykge1xuICAgICAgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVEYXRhU291cmNlKHsgaWQ6IGRzSnNvbi5pZCwgZGF0YVNvdXJjZUpzb246IGRzSnNvbiwgbGF5ZXI6ICh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlIGFzIGFueSk/LmxheWVyIH0gYXMgRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucylcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5fX3VubW91bnQgJiYgdGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvY2FsRGF0YVNvdXJjZUNyZWF0ZWQ6IHRydWUgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUHJldmlldyB0YWJsZSBlcnJvcjogJywgZXJyKVxuICAgICAgICAgIGlmICghdGhpcy5fX3VubW91bnQgJiYgdGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvY2FsRGF0YVNvdXJjZUNyZWF0ZWQ6IHRydWUgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlRGF0YVNvdXJjZUJ5RGF0YVNvdXJjZUpzb24oZHMsIGRzSnNvbilcbiAgICAgIGxvZGFzaC5kZWZlcigoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5fX3VubW91bnQgJiYgdGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgbG9hZExvY2FsRGF0YVNvdXJjZSA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuZ2V0TG9jYWxEYXRhU291cmNlKCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnBlbmRpbmdMb2FkTG9jYWxEc1Byb21pc2UpIHtcbiAgICAgIHRoaXMucGVuZGluZ0xvYWRMb2NhbERzUHJvbWlzZS5jYW5jZWwoKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvY2FsRGF0YVNvdXJjZUxvYWRlZDogZmFsc2UgfSlcbiAgICBsZXQgcXVlcnk6IEZlYXR1cmVMYXllclF1ZXJ5UGFyYW1zID0geyAuLi57IHBhZ2U6IDEsIHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2luYXRpb24ucGFnZSAqIHRoaXMuc3RhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZSB9LCBvdXRGaWVsZHM6IFsnKiddIH1cblxuICAgIC8vIGlmIG5vdCBzZXR0aW5nIG1haW4gZGF0YSBzb3VyY2UsIG5lZWQgdG8gbWVyZ2UgbWFpbiBkYXRhIHNvdXJjZSBxdWVyeSBhbmQgbG9jYWwgcXVlcnlcbiAgICBpZiAoIXRoaXMucHJvcHMuaXNTZXR0aW5nTWFpbkRhdGFTb3VyY2UpIHtcbiAgICAgIGNvbnN0IG1haW5Ec1F1ZXJ5OiBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcyA9ICh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpLmdldENvbmZpZ1F1ZXJ5UGFyYW1zKCkgfHwge31cbiAgICAgIC8vIG9yZGVyIGJ5IGZpZWxkcyBvZiBtYWluIGRhdGEgc291cmNlIHNob3VsZCBub3QgYWZmZWN0IGRhdGEgdmlld3NcbiAgICAgIGRlbGV0ZSBtYWluRHNRdWVyeS5vcmRlckJ5RmllbGRzXG4gICAgICBxdWVyeSA9ICh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpLm1lcmdlUXVlcnlQYXJhbXMobWFpbkRzUXVlcnksIHF1ZXJ5KVxuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0xvYWRMb2NhbERzUHJvbWlzZSA9IGNhbmNlbGFibGVQcm9taXNlLmNhbmNlbGFibGUoKHRoaXMuZ2V0TG9jYWxEYXRhU291cmNlKCkgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSkubG9hZChxdWVyeSwgeyB3aWRnZXRJZDogdGhpcy5nZXRMb2NhbERhdGFTb3VyY2VJZCgpLCBzY29wZTogUXVlcnlTY29wZS5JbkNvbmZpZ1ZpZXcgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCAmJiB0aGlzLnByb3BzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9jYWxEYXRhU291cmNlTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgICBwcmV2aWV3VGFibGVSZWNvcmRzOiAodGhpcy5nZXRMb2NhbERhdGFTb3VyY2UoKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKT8uZ2V0UmVjb3Jkc0J5UGFnZSgxLCB0aGlzLnN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemUgKiB0aGlzLnN0YXRlLnBhZ2luYXRpb24ucGFnZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdMb2FkTG9jYWxEc1Byb21pc2UgPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ByZXZpZXcgdGFibGUgZXJyb3I6ICcsIGVycilcbiAgICAgICAgICBpZiAoIXRoaXMuX191bm1vdW50ICYmIHRoaXMucHJvcHMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2NhbERhdGFTb3VyY2VMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICAgIHByZXZpZXdUYWJsZVJlY29yZHM6IFtdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9hZExvY2FsRHNQcm9taXNlID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIGdldExvY2FsRGF0YVNvdXJjZUlkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtMT0NBTF9MT0FEX1BSRUZJWH0tJHtfRGF0YVZpZXdTZXR0aW5nUG9wdXAuY291bnR9YFxuICB9XG5cbiAgZ2V0VXNlRGF0YVNvdXJjZSA9IChkYXRhU291cmNlOiBEYXRhU291cmNlKTogSU1Vc2VEYXRhU291cmNlID0+IHtcbiAgICBpZiAoIWRhdGFTb3VyY2UpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3Qgcm9vdERzID0gZGF0YVNvdXJjZS5nZXRSb290RGF0YVNvdXJjZSgpXG4gICAgY29uc3QgbWFpbkRzID0gZGF0YVNvdXJjZS5nZXRNYWluRGF0YVNvdXJjZSgpXG4gICAgcmV0dXJuIEltbXV0YWJsZSh7XG4gICAgICBkYXRhU291cmNlSWQ6IGRhdGFTb3VyY2UuaWQsXG4gICAgICByb290RGF0YVNvdXJjZUlkOiByb290RHMgJiYgcm9vdERzLmlkLFxuICAgICAgbWFpbkRhdGFTb3VyY2VJZDogbWFpbkRzICYmIG1haW5Ecy5pZFxuICAgIH0pXG4gIH1cblxuICBnZXROZXdEYXRhVmlldyA9IChkYXRhU291cmNlOiBEYXRhU291cmNlKTogSU1EYXRhVmlld0pzb24gPT4ge1xuICAgIGlmICghZGF0YVNvdXJjZSkge1xuICAgICAgcmV0dXJuIEltbXV0YWJsZSh7fSkgYXMgSU1EYXRhVmlld0pzb25cbiAgICB9XG5cbiAgICBjb25zdCBkc0pzb24gPSBkYXRhU291cmNlLmdldERhdGFTb3VyY2VKc29uKClcbiAgICBjb25zdCBkYXRhVmlld0lkcyA9IGRzSnNvbj8uZGF0YVZpZXdzID8gT2JqZWN0LmtleXMoZHNKc29uLmRhdGFWaWV3cykgOiBudWxsXG4gICAgY29uc3QgbmV4dFZpZXdJbmRleCA9IGRhdGFWaWV3SWRzICYmIGRhdGFWaWV3SWRzLm1hcChpZCA9PiBpZC5zcGxpdCgnXycpWzFdKS5maWx0ZXIoc3BsaXRlZElkID0+IHRoaXMuaXNOdW1lcmljKHNwbGl0ZWRJZCkpLmxlbmd0aCA+IDBcbiAgICAgID8gTWF0aC5tYXguYXBwbHkobnVsbCwgZGF0YVZpZXdJZHMubWFwKGlkID0+IGlkLnNwbGl0KCdfJylbMV0pLmZpbHRlcihzcGxpdGVkSWQgPT4gdGhpcy5pc051bWVyaWMoc3BsaXRlZElkKSkpICsgMVxuICAgICAgOiAxXG5cbiAgICByZXR1cm4gSW1tdXRhYmxlKHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLm5ld0RhdGFWaWV3SWQgfHwgYGRhdGFWaWV3XyR7bmV4dFZpZXdJbmRleH1gLFxuICAgICAgbGFiZWw6IHRoaXMucHJvcHMubmV3RGF0YVZpZXdMYWJlbCB8fCBgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZGF0YVZpZXcnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMuZGF0YVZpZXcgfSl9ICR7bmV4dFZpZXdJbmRleH1gXG4gICAgfSlcbiAgfVxuXG4gIGdldFByZXZpZXdUYWJsZSA9IChkczogRGF0YVNvdXJjZSwgcmVjb3JkczogRGF0YVJlY29yZFtdLCBsYWJlbDogc3RyaW5nKTogUmVhY3QuUmVhY3ROb2RlID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBkcz8uZ2V0U2NoZW1hKClcbiAgICBjb25zdCBmaWVsZHMgPSBzY2hlbWE/LmZpZWxkc1xuXG4gICAgaWYgKCFyZWNvcmRzIHx8ICFmaWVsZHMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3Qgc29ydGVkRmllbGRzID0gT2JqZWN0LnZhbHVlcyhmaWVsZHMpLnNvcnQoKGYxLCBmMikgPT4gZjEubmFtZT8ubG9jYWxlQ29tcGFyZShmMi5uYW1lKSlcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLWNvbnRhaW5lciBtci0yJyBvblNjcm9sbD17dGhpcy5vblNjcm9sbH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0YWJsZS1oZWFkZXInPlxuICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgIDxjYXB0aW9uIGNsYXNzTmFtZT0nc3Itb25seSc+e2xhYmVsfTwvY2FwdGlvbj5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT0nZC1mbGV4Jz5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzb3J0ZWRGaWVsZHMubWFwKChmLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0RvbWFpbkZpZWxkID0gISEoZHMgJiYgZGF0YVNvdXJjZVV0aWxzLmdldENvZGVkVmFsdWVMaXN0Rm9yQ29kZWRWYWx1ZU9yU3VidHlwZUZpZWxkKChkcyBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKS5nZXRMYXllckRlZmluaXRpb24oKSwgZi5qaW11TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8dGgga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgeyBpc0RvbWFpbkZpZWxkICYmIDxHbG9iZU91dGxpbmVkIGNsYXNzTmFtZT0nbXItMSBkb21haW4tZmllbGQtaWNvbicgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkb21haW5GaWVsZCcsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5kb21haW5GaWVsZCB9KX0gLz4gfVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPXtmLmFsaWFzIHx8IGYubmFtZX0+e2YuYWxpYXMgfHwgZi5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLWJvZHknPlxuICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlY29yZHMubWFwKChyLCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9J2QtZmxleCcga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRGaWVsZHMubWFwKChmLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByLmdldEZvcm1hdHRlZEZpZWxkVmFsdWUoZi5qaW11TmFtZSwgdGhpcy5wcm9wcy5pbnRsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDx0ZCBrZXk9e2luZGV4fSB0aXRsZT17dmFsdWV9Pnt2YWx1ZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgaXNOdW1lcmljID0gKG46IGFueSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobilcbiAgfVxuXG4gIG9uU2Nyb2xsID0gZSA9PiB7XG4gICAgY29uc3QgY2xpZW50SGVpZ2h0ID0gZS50YXJnZXQuY2xpZW50SGVpZ2h0XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gZS50YXJnZXQuc2Nyb2xsSGVpZ2h0XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wXG4gICAgY29uc3QgaXNCb3R0b20gPSBzY3JvbGxIZWlnaHQgLSAoY2xpZW50SGVpZ2h0ICsgc2Nyb2xsVG9wKSA8PSAxMFxuICAgIGNvbnN0IGlzU2Nyb2xsRG93biA9IHNjcm9sbFRvcCA+IHRoaXMubGFzdFNjcm9sbFRvcFxuICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcCA8PSAwID8gMCA6IHNjcm9sbFRvcFxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZCAmJiB0aGlzLnN0YXRlLmlzTG9jYWxEYXRhU291cmNlTG9hZGVkICYmIGlzQm90dG9tICYmIGlzU2Nyb2xsRG93bikge1xuICAgICAgdGhpcy5zZXRRdWVyeVBhcmFtcygpXG4gICAgfVxuICB9XG5cbiAgb25EdXBsaWNhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9uRHVwbGljYXRlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgbmV3RGF0YVZpZXcgPSB0aGlzLmdldE5ld0RhdGFWaWV3KHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2UpXG4gICAgbmV3RGF0YVZpZXcgPSB0aGlzLnN0YXRlLmRhdGFWaWV3ID8gdGhpcy5zdGF0ZS5kYXRhVmlldy5tZXJnZShuZXdEYXRhVmlldy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pKSA6IG5ld0RhdGFWaWV3XG4gICAgaWYgKHRoaXMuc3RhdGUuZGF0YVZpZXc/LmxhYmVsKSB7XG4gICAgICBuZXdEYXRhVmlldyA9IG5ld0RhdGFWaWV3LnNldCgnbGFiZWwnLCB0aGlzLmdldER1cGxpY2F0ZUxhYmVsKHRoaXMuc3RhdGUuZGF0YVZpZXcubGFiZWwpKVxuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25EdXBsaWNhdGUobmV3RGF0YVZpZXcpXG4gIH1cblxuICBnZXREdXBsaWNhdGVMYWJlbCAobGFiZWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY29weSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjb3B5JywgZGVmYXVsdE1lc3NhZ2U6IGppbXVVSU1lc3NhZ2VzLmNvcHkgfSk/LnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICBsZXQgbmV3TGFiZWwgPSBgJHtsYWJlbH0gJHtjb3B5fWA7IGxldCBudW0gPSAxXG4gICAgd2hpbGUgKFxuICAgICAgdGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZS5nZXREYXRhU291cmNlSnNvbigpLmRhdGFWaWV3cyAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZS5nZXREYXRhU291cmNlSnNvbigpLmRhdGFWaWV3cykuZmluZChpZCA9PiB0aGlzLnByb3BzLm1haW5EYXRhU291cmNlLmdldERhdGFTb3VyY2VKc29uKCkuZGF0YVZpZXdzW2lkXT8ubGFiZWwgPT09IG5ld0xhYmVsKVxuICAgICkge1xuICAgICAgbnVtKytcbiAgICAgIG5ld0xhYmVsID0gYCR7bGFiZWx9ICR7Y29weX0gJHtudW19YFxuICAgIH1cblxuICAgIHJldHVybiBuZXdMYWJlbFxuICB9XG5cbiAgb25SZW1vdmUgPSBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgZHNJZCA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZT8uaWQsIHRoaXMucHJvcHMuZGF0YVZpZXc/LmlkKVxuICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRzID0gZ2V0V2lkZ2V0c1VzaW5nRHNPckl0c0Rlc2NlbmRhbnREc3MoZHNJZCwgdGhpcy5wcm9wcy53aWRnZXRzKVxuXG4gICAgaWYgKHJlbGF0ZWRXaWRnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZ2V0QXBwQ29uZmlnQWN0aW9uKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRGF0YVZpZXcodGhpcy5wcm9wcy5kYXRhVmlldz8uaWQpXG4gICAgICAgIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveURhdGFTb3VyY2UoZHNJZClcbiAgICAgIH1cbiAgICAgIHRoaXMuYWZ0ZXJSZW1vdmUoKVxuICAgICAgdGhpcy5wcm9wcy50b2dnbGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNSZW1vdmVXYXJuaW5nT3BlbjogdHJ1ZSB9LCAoKSA9PiB7IHRoaXMucHJvcHMudG9nZ2xlKCkgfSlcbiAgICB9XG4gIH1cblxuICBhZnRlclJlbW92ZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmFmdGVyUmVtb3ZlICYmIHRoaXMucHJvcHMuYWZ0ZXJSZW1vdmUodGhpcy5wcm9wcy5kYXRhVmlldylcbiAgfVxuXG4gIHJlbW92ZURhdGFWaWV3ID0gKGRhdGFWaWV3SWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghZGF0YVZpZXdJZCB8fCAhdGhpcy5zdGF0ZS5nZXRBcHBDb25maWdBY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGRzSnNvbiA9IHRoaXMucHJvcHMubWFpbkRhdGFTb3VyY2U/LmdldERhdGFTb3VyY2VKc29uKClcbiAgICBsZXQgZGF0YVZpZXdzOiBJbW11dGFibGVPYmplY3Q8eyBbZHZJZDogc3RyaW5nXTogRGF0YVZpZXdKc29uIH0+ID0gZHNKc29uLmRhdGFWaWV3cyB8fCBJbW11dGFibGUoe30gYXMgeyBbZHZJZDogc3RyaW5nXTogRGF0YVZpZXdKc29uIH0pXG4gICAgZGF0YVZpZXdzID0gZGF0YVZpZXdzLndpdGhvdXQoZGF0YVZpZXdJZClcbiAgICBjb25zdCByb290RHNKc29uID0gZWRpdERhdGFTb3VyY2VKc29uKGRzSnNvbi5zZXRJbihbJ2RhdGFWaWV3cyddLCBkYXRhVmlld3MpKVxuICAgIHRoaXMuc3RhdGUuZ2V0QXBwQ29uZmlnQWN0aW9uKCkuZWRpdERhdGFTb3VyY2Uocm9vdERzSnNvbikuZXhlYygpXG4gIH1cblxuICBvbkxhYmVsQ2hhbmdlID0gZSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VMYWJlbChlLnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGNoYW5nZUxhYmVsID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uID0gdGhpcy5zdGF0ZS5kYXRhVmlld1xuICAgIGRhdGFWaWV3ID0gZGF0YVZpZXcuc2V0KCdsYWJlbCcsIHZhbHVlKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGFWaWV3IH0pXG4gIH1cblxuICBjaGVja0xhYmVsT25BY2NlcHQgPSAodmFsdWU6IHN0cmluZyk6IFZhbGlkaXR5UmVzdWx0ID0+IHtcbiAgICBjb25zdCByZXMgPSB0aGlzLmNoZWNrTGFiZWwodmFsdWUpXG4gICAgaWYgKCFyZXMudmFsaWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlTGFiZWwodGhpcy5wcmV2aW91c0xhYmVsKVxuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICBjaGVja0xhYmVsT25DaGFuZ2UgPSAodmFsdWU6IHN0cmluZyk6IFZhbGlkaXR5UmVzdWx0ID0+IHtcbiAgICByZXR1cm4gdGhpcy5jaGVja0xhYmVsKHZhbHVlKVxuICB9XG5cbiAgY2hlY2tMYWJlbCA9ICh2YWx1ZTogc3RyaW5nKTogVmFsaWRpdHlSZXN1bHQgPT4ge1xuICAgIGNvbnN0IGlzTGFiZWxDaGFuZ2VkID0gdmFsdWUgIT09IHRoaXMucHJvcHMuZGF0YVZpZXc/LmxhYmVsXG4gICAgaWYgKGlzTGFiZWxDaGFuZ2VkICYmICghdmFsdWUgfHwgdGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZT8uZ2V0RGF0YVZpZXdzKCk/LnNvbWUodiA9PiB2LmdldExhYmVsKCkgPT09IHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbXNnOiB2YWx1ZSAmJiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZHVwbGljYXRlZExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVVSU1lc3NhZ2VzLmR1cGxpY2F0ZWRMYWJlbCB9KSB9XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlIH1cbiAgfVxuXG4gIG9uU3FsRXhwckJ1aWxkZXJDaGFuZ2UgPSAoc3FsRXhwck9iajogSU1TcWxFeHByZXNzaW9uKSA9PiB7XG4gICAgbGV0IGRhdGFWaWV3OiBJTURhdGFWaWV3SnNvbiA9IHRoaXMuc3RhdGUuZGF0YVZpZXdcbiAgICBkYXRhVmlldyA9IGRhdGFWaWV3LnNldCgnd2hlcmUnLCBzcWxFeHByT2JqKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGFWaWV3IH0pXG4gIH1cblxuICBvblNvcnRDaGFuZ2UgPSAoc29ydERhdGE6IE9yZGVyQnlPcHRpb25bXSwgaW5kZXg/OiBudW1iZXIpID0+IHtcbiAgICBsZXQgZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uID0gdGhpcy5zdGF0ZS5kYXRhVmlld1xuICAgIGRhdGFWaWV3ID0gZGF0YVZpZXcuc2V0KCdvcmRlckJ5Jywgc29ydERhdGEpXG5cbiAgICB0aGlzLnNldFN0YXRlKHsgZGF0YVZpZXcgfSlcbiAgfVxuXG4gIG9uUGFnZVNpemVDaGFuZ2UgPSAodmFsdWU6IG51bWJlciB8IHN0cmluZykgPT4ge1xuICAgIGxldCBkYXRhVmlldzogSU1EYXRhVmlld0pzb24gPSB0aGlzLnN0YXRlLmRhdGFWaWV3XG4gICAgY29uc3QgbnVtYmVyVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gcGFyc2VJbnQodmFsdWUpIDogdmFsdWVcbiAgICBpZiAobnVtYmVyVmFsdWUgJiYgbnVtYmVyVmFsdWUgPj0gTUlOX1BBR0VfU0laRSkge1xuICAgICAgZGF0YVZpZXcgPSBkYXRhVmlldy5zZXQoJ3BhZ2VTaXplJywgbnVtYmVyVmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFWaWV3ID0gZGF0YVZpZXcud2l0aG91dCgncGFnZVNpemUnKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRhVmlldyB9KVxuICB9XG5cbiAgb25Ub2dnbGVNYXhpbXVtID0gKGUsIGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBsZXQgZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uID0gdGhpcy5zdGF0ZS5kYXRhVmlld1xuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICBkYXRhVmlldyA9IGRhdGFWaWV3LnNldCgnbWF4aW11bScsIERFRkFVTFRfUkVDT1JEX0NPVU5UKVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhVmlldyA9IGRhdGFWaWV3LndpdGhvdXQoJ21heGltdW0nKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRhVmlldyB9KVxuICB9XG5cbiAgb25NYXhpbXVtQ2hhbmdlID0gKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpID0+IHtcbiAgICBsZXQgZGF0YVZpZXc6IElNRGF0YVZpZXdKc29uID0gdGhpcy5zdGF0ZS5kYXRhVmlld1xuICAgIGNvbnN0IG51bWJlclZhbHVlID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KHZhbHVlKSA6IHZhbHVlXG4gICAgaWYgKG51bWJlclZhbHVlICYmIG51bWJlclZhbHVlID49IE1JTl9SRUNPUkRfQ09VTlQpIHtcbiAgICAgIGRhdGFWaWV3ID0gZGF0YVZpZXcuc2V0KCdtYXhpbXVtJywgbnVtYmVyVmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFWaWV3ID0gZGF0YVZpZXcuc2V0KCdtYXhpbXVtJywgREVGQVVMVF9SRUNPUkRfQ09VTlQpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGFWaWV3IH0pXG4gIH1cblxuICBvbkFwcGx5ID0gKCkgPT4ge1xuICAgIGxldCBkYXRhVmlldyA9IHRoaXMuc3RhdGUuZGF0YVZpZXdcbiAgICBkYXRhVmlldyA9IGRhdGFWaWV3Py5zZXQoJ29yZGVyQnknLCBkYXRhVmlldz8ub3JkZXJCeT8uZmlsdGVyKG9yZGVyQnlPcHRpb25zID0+ICEhb3JkZXJCeU9wdGlvbnMuamltdUZpZWxkTmFtZSkpXG4gICAgdGhpcy5wcm9wcy5vbkFwcGx5KGRhdGFWaWV3KVxuICB9XG5cbiAgdG9nZ2xlVGl0bGVJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAvKipcbiAgICAgKiBQcmVzc2luZyB0YWIgb24gZWRpdCBidXR0b24gd2lsbCB0cmlnZ2VyIEtleVVwIGV2ZW50IG9mIHRpdGxlIGlucHV0LCB3aGljaCBjYXVzZXMgdG9nZ2xlIHR3aWNlIHF1aWNrbHkuXG4gICAgICogQ2FuIG5vdCBmaXggdGhlIGlzc3VlIGJ5IHN0b3BwaW5nIHByb3BhZ2F0aW9uIG9mIGVkaXQgYnV0dG9uLlxuICAgICAqL1xuICAgIGlmICh0aW1lIC0gdGhpcy5sYXN0VGltZVRvZ2dsZVRpbGVJbnB1dCA+IDUwMCkge1xuICAgICAgdGhpcy5wcmV2aW91c0xhYmVsID0gdGhpcy5zdGF0ZS5kYXRhVmlldz8ubGFiZWxcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1RpdGxlSW5wdXRTaG93bjogIXRoaXMuc3RhdGUuaXNUaXRsZUlucHV0U2hvd24gfSlcbiAgICAgIHRoaXMubGFzdFRpbWVUb2dnbGVUaWxlSW5wdXQgPSB0aW1lXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlUmVtb3ZlV2FybmluZyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNSZW1vdmVXYXJuaW5nT3BlbjogIXRoaXMuc3RhdGUuaXNSZW1vdmVXYXJuaW5nT3BlbiB9KVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoISh0aGlzLnByb3BzLm1haW5EYXRhU291cmNlIGFzIEFic3RyYWN0UXVlcmlhYmxlRGF0YVNvdXJjZSkucXVlcnkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IGRhdGFWaWV3ID0gdGhpcy5zdGF0ZS5kYXRhVmlld1xuICAgIGNvbnN0IGRhdGFWaWV3RHNJZCA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZT8uaWQsIHRoaXMucHJvcHMuZGF0YVZpZXc/LmlkKVxuICAgIGNvbnN0IFNxbEV4cHJlc3Npb25CdWlsZGVyID0gdGhpcy5zdGF0ZS5TcWxFeHByZXNzaW9uQnVpbGRlclxuICAgIGNvbnN0IFNvcnQgPSB0aGlzLnN0YXRlLlNvcnRcbiAgICBjb25zdCBpc1NxbFZhbGlkID0gIXRoaXMuc3RhdGUuaXNTcWxFeHByZXNzaW9uVmFsaWQgfHwgdGhpcy5zdGF0ZS5pc1NxbEV4cHJlc3Npb25WYWxpZChkYXRhVmlldz8ud2hlcmUpXG5cbiAgICBjb25zdCBlZGl0ID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2VkaXQnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMuZWRpdCB9KVxuICAgIGNvbnN0IGR1cGxpY2F0ZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkdXBsaWNhdGUnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMuZHVwbGljYXRlIH0pXG4gICAgY29uc3QgcmVtb3ZlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RlbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLmRlbGV0ZSB9KVxuICAgIGNvbnN0IGFwcGx5ID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FwcGx5Q2hhbmdlcycsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5hcHBseUNoYW5nZXMgfSlcbiAgICBjb25zdCBjYW5jZWwgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2FuY2VsJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVDb3JlTWVzc2FnZXMuY2FuY2VsIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPE1vZGFsXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX0gaXNPcGVuPXt0aGlzLnByb3BzLmlzT3Blbn0gY2VudGVyZWQgdG9nZ2xlPXt0aGlzLnByb3BzLnRvZ2dsZX1cbiAgICAgICAgICByZXR1cm5mb2N1c2FmdGVyY2xvc2U9J3RydWUnIGNvbnRlbnRDbGFzc05hbWU9J2RhdGEtdmlldy1jb250YWluZXInIGJhY2tkcm9wPSdzdGF0aWMnIGtleWJvYXJkPXtmYWxzZX0gYXJpYS1sYWJlbD17dGhpcy5zdGF0ZS5kYXRhVmlldz8ubGFiZWx9XG4gICAgICAgID5cbiAgICAgICAgICA8TW9kYWxIZWFkZXIgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIGhlYWRlcic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSc+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kaXNhYmxlUmVuYW1lXG4gICAgICAgICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHByLTQnPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1RpdGxlSW5wdXRTaG93blxuICAgICAgICAgICAgICAgICAgICAgICAgPyA8VGV4dElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmxleC1ncm93LTEnIHZhbHVlPXtkYXRhVmlldz8ubGFiZWx9IG9uQ2hhbmdlPXt0aGlzLm9uTGFiZWxDaGFuZ2V9IHJlZj17dGhpcy50aXRsZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMudG9nZ2xlVGl0bGVJbnB1dH0gb25LZXlVcD17dGhpcy50b2dnbGVUaXRsZUlucHV0fSBjaGVja1ZhbGlkaXR5T25DaGFuZ2U9e3RoaXMuY2hlY2tMYWJlbE9uQ2hhbmdlfSBjaGVja1ZhbGlkaXR5T25BY2NlcHQ9e3RoaXMuY2hlY2tMYWJlbE9uQWNjZXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUnPntkYXRhVmlldz8ubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmxleC1zaHJpbmstMCBtbC0yIGppbXUtb3V0bGluZS1pbnNpZGUnIHR5cGU9J3RlcnRpYXJ5JyBzaXplPSdzbScgaWNvbiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVRpdGxlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2VkaXR9IGFyaWEtbGFiZWw9e2VkaXR9IHJlZj17dGhpcy5lZGl0QnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPEVkaXRPdXRsaW5lZCBzaXplPSdtJyAvPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZScgdGl0bGU9e2RhdGFWaWV3Py5sYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgIHtkYXRhVmlldz8ubGFiZWx9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1zaHJpbmstMCc+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kaXNhYmxlRHVwbGljYXRlICYmIHRoaXMucHJvcHMuZGF0YVZpZXcgJiZcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4LXNocmluay0wIGNpY2xlLWJ1dHRvbiBtci00JyB0eXBlPSdkZWZhdWx0JyBzaXplPSdzbScgaWNvbiBvbkNsaWNrPXt0aGlzLm9uRHVwbGljYXRlfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZHVwbGljYXRlfSBhcmlhLWxhYmVsPXtkdXBsaWNhdGV9IGRpc2FibGVkPXshaXNTcWxWYWxpZH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPER1cGxpY2F0ZU91dGxpbmVkIHNpemU9J20nIC8+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuZGlzYWJsZVJlbW92ZSAmJiB0aGlzLnByb3BzLmRhdGFWaWV3ICYmXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmxleC1zaHJpbmstMCBjaWNsZS1idXR0b24nIHR5cGU9J2RlZmF1bHQnIHNpemU9J3NtJyBpY29uIG9uQ2xpY2s9e3RoaXMub25SZW1vdmV9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtyZW1vdmV9IGFyaWEtbGFiZWw9e3JlbW92ZX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRyYXNoT3V0bGluZWQgc2l6ZT0nbScgLz5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L01vZGFsSGVhZGVyPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGFWaWV3XG4gICAgICAgICAgICAgID8gPE1vZGFsQm9keSBjbGFzc05hbWU9J2QtZmxleCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMzggaC0xMDAgZmxleC1zaHJpbmstMCBzZXR0aW5nLXRhYmxlJz5cbiAgICAgICAgICAgICAgICAgIDxUYWJzIHR5cGU9J3VuZGVybGluZScgZmlsbCBjbGFzc05hbWU9J2gtMTAwJyBkZWZhdWx0VmFsdWU9J2ZpbHRlcic+XG4gICAgICAgICAgICAgICAgICAgIDxUYWIgaWQ9J2ZpbHRlcicgY2xhc3NOYW1lPSd2aWV3LXRhYicgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdmaWx0ZXInLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMuZmlsdGVyIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTcWxFeHByZXNzaW9uQnVpbGRlciAmJiA8U3FsRXhwcmVzc2lvbkJ1aWxkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZT17dGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT17U3FsRXhwcmVzc2lvbk1vZGUuU2ltcGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uPXtkYXRhVmlldy53aGVyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25TcWxFeHByQnVpbGRlckNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTY29wZT17dGhpcy5wcm9wcy5pc1NldHRpbmdNYWluRGF0YVNvdXJjZSAmJiBRdWVyeVNjb3BlLkluUmVtb3RlQ29uZmlnVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L1RhYj5cbiAgICAgICAgICAgICAgICAgICAgPFRhYiBpZD0nc29ydCcgY2xhc3NOYW1lPSd2aWV3LXRhYicgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzb3J0JywgZGVmYXVsdE1lc3NhZ2U6IGppbXVVSU1lc3NhZ2VzLnNvcnQgfSl9PlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNvcnQgJiYgPFNvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Tb3J0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZGF0YVZpZXcub3JkZXJCeSB8fCBJbW11dGFibGUoW10pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlPXt0aGlzLmdldFVzZURhdGFTb3VyY2UodGhpcy5wcm9wcy5tYWluRGF0YVNvdXJjZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICAgICAgICAgIDxUYWIgaWQ9J3JlY29yZHMnIGNsYXNzTmFtZT0ndmlldy10YWInIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVjb3JkcycsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5yZWNvcmRzIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNzcz17eyBwYWRkaW5nUmlnaHQ6IDIsIHBhZGRpbmdUb3A6IDIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZm9yPSdkYXRhLXZpZXctc2V0dGluZy1wYWdlLXNpemUtaW5wdXQnIGNsYXNzTmFtZT0nbGFiZWwnPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncGFnZVNpemUnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMucGFnZVNpemUgfSl9PC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE51bWVyaWNJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJyB2YWx1ZT17ZGF0YVZpZXcucGFnZVNpemUgfHwgQ09OU1RBTlRTLkRFRkFVTFRfUVVFUllfUEFHRV9TSVpFfSBvbkFjY2VwdFZhbHVlPXt0aGlzLm9uUGFnZVNpemVDaGFuZ2V9IHNob3dIYW5kbGVycz17ZmFsc2V9IHByZWNpc2lvbj17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49e01JTl9QQUdFX1NJWkV9IGlkPSdkYXRhLXZpZXctc2V0dGluZy1wYWdlLXNpemUtaW5wdXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gbWItMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmb3I9J2RhdGEtdmlldy1zZXR0aW5nLW1heC1yZWNvcmRzJyBjbGFzc05hbWU9J2xhYmVsJz57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ21heGltdW0nLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMubWF4aW11bSB9KX08L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U3dpdGNoIGlkPSdkYXRhLXZpZXctc2V0dGluZy1tYXgtcmVjb3JkcycgY2hlY2tlZD17dHlwZW9mIGRhdGFWaWV3Lm1heGltdW0gPT09ICdudW1iZXInfSBvbkNoYW5nZT17dGhpcy5vblRvZ2dsZU1heGltdW19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGRhdGFWaWV3Lm1heGltdW0gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi00Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmb3I9J2RhdGEtdmlldy1zZXR0aW5nLW1heC1yZWNvcmRzLWhpbnQnIGNsYXNzTmFtZT0nbGFiZWwnPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbWF4aW11bUxpbWl0YXRpb25XYXJuaW5nJywgZGVmYXVsdE1lc3NhZ2U6IGppbXVVSU1lc3NhZ2VzLm1heGltdW1MaW1pdGF0aW9uV2FybmluZyB9KX08L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89J2h0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS12aWV3cy1sYXllcnMtRmVhdHVyZUxheWVyVmlldy5odG1sI21heGltdW1OdW1iZXJPZkZlYXR1cmVzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J21sLTIgamltdS1vdXRsaW5lLWluc2lkZScgdGFyZ2V0PSdfYmxhbmsnIGlkPSdkYXRhLXZpZXctc2V0dGluZy1tYXgtcmVjb3Jkcy1oaW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RldGFpbHMnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMuZGV0YWlscyB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGRhdGFWaWV3Lm1heGltdW0gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi00Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmb3I9J2RhdGEtdmlldy1zZXR0aW5nLW1heC1yZWNvcmRzLW51bScgY2xhc3NOYW1lPSdsYWJlbCc+e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdtYXhpbXVtUmVjb3JkQ291bnQnLCBkZWZhdWx0TWVzc2FnZTogamltdVVJTWVzc2FnZXMubWF4aW11bVJlY29yZENvdW50IH0pfTwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TnVtZXJpY0lucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJyB2YWx1ZT17ZGF0YVZpZXcubWF4aW11bX0gb25BY2NlcHRWYWx1ZT17dGhpcy5vbk1heGltdW1DaGFuZ2V9IHByZWNpc2lvbj17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPXtNSU5fUkVDT1JEX0NPVU5UfSBzaG93SGFuZGxlcnM9e2ZhbHNlfSBpZD0nZGF0YS12aWV3LXNldHRpbmctbWF4LXJlY29yZHMtbnVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICAgICAgICA8L1RhYnM+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy02MiBoLTEwMCBmbGV4LWdyb3ctMSBwcmV2aWV3LXRhYmxlJz5cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQcmV2aWV3VGFibGUodGhpcy5nZXRMb2NhbERhdGFTb3VyY2UoKSwgdGhpcy5zdGF0ZS5wcmV2aWV3VGFibGVSZWNvcmRzLCB0aGlzLnByb3BzLmRhdGFWaWV3Py5sYWJlbClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgKCF0aGlzLnN0YXRlLmlzTG9jYWxEYXRhU291cmNlQ3JlYXRlZCB8fCAhdGhpcy5zdGF0ZS5pc0xvY2FsRGF0YVNvdXJjZUxvYWRlZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZyB0eXBlPXtMb2FkaW5nVHlwZS5QcmltYXJ5fSAvPlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L01vZGFsQm9keT5cbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICAgIDxNb2RhbEZvb3RlciBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBwYi0zMCc+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgIWlzU3FsVmFsaWQgJiZcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcWwtZXhwLXdhcm5pbmcgdGV4dC10cnVuY2F0ZScgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzcWxFeHBySW5jb21wbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5zcWxFeHBySW5jb21wbGV0ZSB9KX0+XG4gICAgICAgICAgICAgICAgICAgIDxXYXJuaW5nQ2lyY2xlRmlsbGVkIHNpemU9J2wnIGNsYXNzTmFtZT0nc3FsLWV4cC13YXJuaW5nLWljb24gbXItMicgLz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzcWxFeHBySW5jb21wbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiBqaW11VUlNZXNzYWdlcy5zcWxFeHBySW5jb21wbGV0ZSB9KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSdtci0xMCcgdHlwZT0ncHJpbWFyeScgb25DbGljaz17dGhpcy5vbkFwcGx5fSBkaXNhYmxlZD17IWlzU3FsVmFsaWR9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2FwcGx5fSBhcmlhLWxhYmVsPXthcHBseX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHthcHBseX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0nZGVmYXVsdCcgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGV9IHRpdGxlPXtjYW5jZWx9IGFyaWEtbGFiZWw9e2NhbmNlbH0+XG4gICAgICAgICAgICAgICAge2NhbmNlbH1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L01vZGFsRm9vdGVyPlxuICAgICAgICA8L01vZGFsPlxuXG4gICAgICAgIDxEYXRhU291cmNlUmVtb3ZlV2FybmluZ1BvcHVwXG4gICAgICAgICAgZGF0YVNvdXJjZUlkPXtkYXRhVmlld0RzSWR9IGlzT3Blbj17dGhpcy5zdGF0ZS5pc1JlbW92ZVdhcm5pbmdPcGVufSBhZnRlclJlbW92ZT17dGhpcy5hZnRlclJlbW92ZX1cbiAgICAgICAgICB0b2dnbGU9e3RoaXMudG9nZ2xlUmVtb3ZlV2FybmluZ30gcmVhc29uPXtEYXRhU291cmNlUmVtb3ZlV2FyaW5nUmVhc29uLkRhdGFTb3VyY2VSZW1vdmVkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IERhdGFWaWV3U2V0dGluZ1BvcHVwUHJvcHMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICB3aWRnZXRzOiBzdGF0ZT8uYXBwQ29udGV4dD8uaXNCdWlsZGVyID8gc3RhdGU/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWc/LndpZGdldHMgOiBzdGF0ZT8uYXBwQ29uZmlnPy53aWRnZXRzXG4gIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgX19EYXRhVmlld1NldHRpbmdQb3B1cCA9IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvUHJvcHMsIHVua25vd24sIERhdGFWaWV3U2V0dGluZ1BvcHVwUHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoX0RhdGFWaWV3U2V0dGluZ1BvcHVwKVxuZXhwb3J0IGNvbnN0IERhdGFWaWV3U2V0dGluZ1BvcHVwID0gd2l0aFN0eWxlcyhpbmplY3RJbnRsPCdpbnRsJywgRGF0YVZpZXdTZXR0aW5nUG9wdXBQcm9wcyAmIEV4dHJhUHJvcHM+KF9fRGF0YVZpZXdTZXR0aW5nUG9wdXApLCAnRGF0YVZpZXdTZXR0aW5nUG9wdXAnKVxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgdHlwZSBJbnRsU2hhcGUsIGRhdGFTb3VyY2VVdGlscywgbW9kdWxlTG9hZGVyLCBTaWduSW5FcnJvckNvZGUsIFN1cHBvcnRlZFNlcnZlclR5cGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQnV0dG9uLCBUZXh0SW5wdXQsIFNlbGVjdCwgZGVmYXVsdE1lc3NhZ2VzLCBMaW5rIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IHsgZ2V0RHNKc29uRnJvbVNlcnZpY2UsIGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUgfSBmcm9tICcuLi91dGlscydcblxuaW50ZXJmYWNlIERhdGFTb3VyY2VVcmxUeXBlIHtcbiAgbGFiZWw6IHN0cmluZ1xufVxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlXG4gIGdldERzSWQ6ICgpID0+IHN0cmluZ1xuICB0b2dnbGVMb2FkZWRTdGF0dXM6IChsb2FkZWQ6IGJvb2xlYW4pID0+IHZvaWRcbiAgdG9nZ2xlVG9hc3RTdGF0dXM6IChpc09wZW46IGJvb2xlYW4sIGVycm9yTXNnOiBzdHJpbmcpID0+IHZvaWRcbiAgb25BZGRlZDogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbiwgbGFiZWw6IHN0cmluZykgPT4gdm9pZFxufVxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgdXJsOiBzdHJpbmdcbiAgc2VsZWN0ZWREYXRhU291cmNlVXJsVHlwZTogRGF0YVNvdXJjZVVybFR5cGVcbiAgc2VsZWN0RGF0YUhlbHBVcmw6IHN0cmluZ1xufVxuXG5sZXQgc2VsZWN0RGF0YUhlbHBVcmxQcm9taXNlOiBQcm9taXNlPHN0cmluZz4gPSBudWxsXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgX191bm1vdW50ZWQgPSBmYWxzZVxuICBkYXRhU291cmNlVXJsVHlwZXM6IERhdGFTb3VyY2VVcmxUeXBlW10gPSBbe1xuICAgIGxhYmVsOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnYW5BcmNHSVNTZXJ2ZXJXZWJTZXJ2aWNlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hbkFyY0dJU1NlcnZlcldlYlNlcnZpY2UgfSlcbiAgfS8qICwge1xuICAgIGxhYmVsOiAnT3RoZXIgdHlwZXMnXG4gIH0gKi9dXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkRGF0YVNvdXJjZVVybFR5cGU6IHRoaXMuZGF0YVNvdXJjZVVybFR5cGVzWzBdLFxuICAgICAgdXJsOiAnJyxcbiAgICAgIHNlbGVjdERhdGFIZWxwVXJsOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ZWQgPSBmYWxzZVxuICAgIGlmICghc2VsZWN0RGF0YUhlbHBVcmxQcm9taXNlKSB7XG4gICAgICBzZWxlY3REYXRhSGVscFVybFByb21pc2UgPSBtb2R1bGVMb2FkZXIubG9hZE1vZHVsZSgnamltdS1mb3ItYnVpbGRlcicpXG4gICAgICAgIC50aGVuKG1vZHVsZSA9PiBtb2R1bGUuaGVscFV0aWxzKVxuICAgICAgICAudGhlbihoZWxwVXRpbHMgPT4gaGVscFV0aWxzLmdldEJ1aWxkQXBwc0hlbHBMaW5rKCdzZWxlY3QtZGF0YScpKVxuICAgIH1cbiAgICBzZWxlY3REYXRhSGVscFVybFByb21pc2UudGhlbih1cmwgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudGVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdERhdGFIZWxwVXJsOiB1cmxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ZWQgPSB0cnVlXG4gIH1cblxuICBvblVybFR5cGVzQ2xpY2tlZCA9IGUgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZERhdGFTb3VyY2VVcmxUeXBlOiBlLnRhcmdldC52YWx1ZSB9KVxuICB9XG5cbiAgb25JbnB1dFVybCA9IGUgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXJsOiBlLnRhcmdldC52YWx1ZVxuICAgIH0pXG4gIH1cblxuICBvbkFkZGVkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLnVybCkge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5zdGF0ZS51cmwuc3BsaXQoJz8nKVswXVxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMudG9nZ2xlTG9hZGVkU3RhdHVzKGZhbHNlKVxuXG4gICAgICByZXR1cm4gZ2V0RHNKc29uRnJvbVNlcnZpY2UodXJsLCB0aGlzLnByb3BzLmdldERzSWQoKSkudGhlbihyZXMgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uQWRkZWQocmVzLmRzSnNvbiwgcmVzLmxhYmVsKVxuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZUxvYWRlZFN0YXR1cyh0cnVlKVxuICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgIC8vIElmIGNhbmNlbGUgdGhlIHNpZ24gaW4sIHNob3VsZG4ndCBzaG93IGVycm9yLlxuICAgICAgICBsZXQgZXJyb3JNc2cgPSAnJ1xuICAgICAgICBpZiAoZXJyPy5jb2RlICE9PSBTaWduSW5FcnJvckNvZGUuU2lnbkluQ2FuY2VsZWQpIHtcbiAgICAgICAgICBpZiAoZXJyPy5pc1NpZ25JbkVycm9yKSB7XG4gICAgICAgICAgICBlcnJvck1zZyA9IGVyci5tZXNzYWdlMlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvck1zZyA9IGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUoZXJyLCB0aGlzLnByb3BzLmludGwpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVycm9yTXNnICYmIHRoaXMucHJvcHMudG9nZ2xlVG9hc3RTdGF0dXModHJ1ZSwgZXJyb3JNc2cpXG4gICAgICAgIHRoaXMucHJvcHMudG9nZ2xlTG9hZGVkU3RhdHVzKHRydWUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNoZWNrU2VydmljZVVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgIGxldCBpc1N1cHBvcnRlZCA9IGZhbHNlXG4gICAgaWYgKFxuICAgICAgKC9eaHR0cHM6XFwvXFwvLy50ZXN0KHVybCkgfHwgL15cXC9cXC8vLnRlc3QodXJsKSkgJiYgZGF0YVNvdXJjZVV0aWxzLmlzU3VwcG9ydGVkQXJjR0lTU2VydmljZSh1cmwsIFtTdXBwb3J0ZWRTZXJ2ZXJUeXBlcy5GZWF0dXJlU2VydmljZSwgU3VwcG9ydGVkU2VydmVyVHlwZXMuTWFwU2VydmljZSwgU3VwcG9ydGVkU2VydmVyVHlwZXMuU2NlbmVTZXJ2aWNlXSkpIHtcbiAgICAgIGlzU3VwcG9ydGVkID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4geyB2YWxpZDogaXNTdXBwb3J0ZWQgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBhZGQgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnYWRkJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGQgfSlcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2V4dGVybmFsLWRhdGEtc291cmNlLXVybC1pbnB1dCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC00IG1sLTInPlxuICAgICAgICAgIDxoNSBjbGFzc05hbWU9J3VybC1pbnB1dC1sYWJlbCc+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlcnZpY2VUeXBlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZXJ2aWNlVHlwZSB9KX1cbiAgICAgICAgICA8L2g1PlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlbGVjdGVkRGF0YVNvdXJjZVVybFR5cGUubGFiZWx9IHRpdGxlPXt0aGlzLnN0YXRlLnNlbGVjdGVkRGF0YVNvdXJjZVVybFR5cGUubGFiZWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybFR5cGVzQ2xpY2tlZH0gY2xhc3NOYW1lPSd1cmwtdHlwZS1zZWxlY3QnXG4gICAgICAgICAgICBidXR0b25Qcm9wcz17e1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICd0ZXh0LXRydW5jYXRlJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVVybFR5cGVzLm1hcCgodDogRGF0YVNvdXJjZVVybFR5cGUpID0+IDxvcHRpb24ga2V5PXt0LmxhYmVsfSB2YWx1ZT17dC5sYWJlbH0+e3QubGFiZWx9PC9vcHRpb24+KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtNSBtbC0yJz5cbiAgICAgICAgICA8aDUgY2xhc3NOYW1lPSd1cmwtaW5wdXQtbGFiZWwnPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICd1cmwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnVybCB9KX1cbiAgICAgICAgICA8L2g1PlxuICAgICAgICAgIDxUZXh0SW5wdXQgY2hlY2tWYWxpZGl0eU9uQ2hhbmdlPXt0aGlzLmNoZWNrU2VydmljZVVybH0gcGxhY2Vob2xkZXI9J1VSTCcgb25DaGFuZ2U9e3RoaXMub25JbnB1dFVybH0gY2xhc3NOYW1lPSd1cmwtaW5wdXQnIHZhbHVlPXt0aGlzLnN0YXRlLnVybH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbXQtMiBoaW50LWxhYmVsJz5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGREYXRhQnlVcmxIaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGREYXRhQnlVcmxIaW50IH0pfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdERhdGFIZWxwVXJsICYmIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89e3RoaXMuc3RhdGUuc2VsZWN0RGF0YUhlbHBVcmx9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtbC0yIGZvbnQtc2l6ZS0xMicgdGFyZ2V0PSdfYmxhbmsnXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RldGFpbHMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRldGFpbHMgfSl9XG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J210LTQgbWwtMic+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLm9uQWRkZWR9IHR5cGU9J3ByaW1hcnknIGRpc2FibGVkPXshdGhpcy5jaGVja1NlcnZpY2VVcmwodGhpcy5zdGF0ZS51cmwpLnZhbGlkfSBjbGFzc05hbWU9J3VybC1pbnB1dC1hZGQtYnRuIHB4LTQnXG4gICAgICAgICAgICB0aXRsZT17YWRkfSBhcmlhLWxhYmVsPXthZGR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2FkZH1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgY2xhc3NOYW1lcywgSW1tdXRhYmxlLCBqc3gsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlTWVzc2FnZXMsIEFsbERhdGFTb3VyY2VUeXBlcyxcbiAgdHlwZSBJbW11dGFibGVBcnJheSwgYXBwQ29uZmlnVXRpbHMsIGdldEFwcFN0b3JlLCB1dWlkdjEsIHR5cGUgSW50bFNoYXBlLCBpbmplY3RJbnRsLCB0eXBlIERhdGFTb3VyY2UsIERhdGFTb3VyY2VNYW5hZ2VyLCBkYXRhU291cmNlVXRpbHMsIFNpZ25JbkVycm9yQ29kZVxufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBOYXYsIE5hdkl0ZW0sIE5hdkxpbmssIEJ1dHRvbiwgZGVmYXVsdE1lc3NhZ2VzLCBJY29uLCBUb2FzdCwgVG9hc3RUeXBlLCBMb2FkaW5nLCBMb2FkaW5nVHlwZSB9IGZyb20gJ2ppbXUtdWknXG5cbmltcG9ydCB7IEl0ZW1UeXBlcywgdHlwZSBJSXRlbVdpdGhQb3J0YWxVcmwsIEl0ZW1TZWxlY3RvciB9IGZyb20gJ2ppbXUtdWkvYmFzaWMvaXRlbS1zZWxlY3RvcidcblxuLy8gaW1wb3J0IEFwcERhdGEgZnJvbSAnLi9hcHAtZGF0YSc7XG5pbXBvcnQgVXJsSW5wdXQgZnJvbSAnLi9jb21wb25lbnRzL3VybC1pbnB1dCdcbmltcG9ydCB7XG4gIHRyYXZlcnNlVW5oaWRlUGFyZW50RHMsIHRyYXZlcnNlSGlkZUNoaWxkRHMsIEFkZERhdGFFcnJvckNvZGUsIGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUsIGdldERzSnNvbkZyb21TZXJ2aWNlXG59IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBEYXRhU291cmNlVHJlZSB9IGZyb20gJy4uL2RhdGEtc291cmNlLXRyZWUnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcblxuaW1wb3J0IHsgQ2xvc2VPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlJ1xuaW1wb3J0IHsgVmlzaWJsZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9hcHBsaWNhdGlvbi92aXNpYmxlJ1xuaW1wb3J0IHsgSW52aXNpYmxlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2ludmlzaWJsZSdcbmltcG9ydCB7IERvd25PdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvZG93bidcbmltcG9ydCB7IFVwT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwJ1xuaW1wb3J0IHsgZGF0YVNvdXJjZUpzb25DcmVhdG9yIH0gZnJvbSAnamltdS1jb3JlL2RhdGEtc291cmNlJ1xuXG5lbnVtIFRhYlR5cGVzIHtcbiAgV2ViTWFwID0gJ1dlYiBNYXAnLFxuICBXZWJTY2VuZSA9ICdXZWIgU2NlbmUnLFxuICBMYXllcnMgPSAnTGF5ZXJzJyxcbiAgVXJsID0gJ1VSTCdcbn1cblxuY29uc3QgVGFiVHlwZVRvSXRlbVR5cGUgPSB7XG4gIFtUYWJUeXBlcy5XZWJNYXBdOiBJdGVtVHlwZXMuV2ViTWFwLFxuICBbVGFiVHlwZXMuV2ViU2NlbmVdOiBJdGVtVHlwZXMuV2ViU2NlbmUsXG4gIFtUYWJUeXBlcy5MYXllcnNdOiBbSXRlbVR5cGVzLkZlYXR1cmVTZXJ2aWNlLCBJdGVtVHlwZXMuTWFwU2VydmljZSwgSXRlbVR5cGVzLlNjZW5lU2VydmljZSwgSXRlbVR5cGVzLkZlYXR1cmVDb2xsZWN0aW9uLCBJdGVtVHlwZXMuR3JvdXBMYXllcl1cbn1cblxuY29uc3QgRHNUeXBlVG9JdGVtVHlwZSA9IHtcbiAgW0FsbERhdGFTb3VyY2VUeXBlcy5XZWJNYXBdOiBJdGVtVHlwZXMuV2ViTWFwLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lXTogSXRlbVR5cGVzLldlYlNjZW5lLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllcl06IFtJdGVtVHlwZXMuV2ViTWFwLCBJdGVtVHlwZXMuV2ViU2NlbmUsIEl0ZW1UeXBlcy5GZWF0dXJlU2VydmljZSwgSXRlbVR5cGVzLk1hcFNlcnZpY2UsIEl0ZW1UeXBlcy5GZWF0dXJlQ29sbGVjdGlvbl0sXG4gIFtBbGxEYXRhU291cmNlVHlwZXMuU2NlbmVMYXllcl06IFtJdGVtVHlwZXMuV2ViU2NlbmUsIEl0ZW1UeXBlcy5TY2VuZVNlcnZpY2VdLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLkdyb3VwTGF5ZXJdOiBbSXRlbVR5cGVzLldlYk1hcCwgSXRlbVR5cGVzLldlYlNjZW5lLCBJdGVtVHlwZXMuTWFwU2VydmljZSwgSXRlbVR5cGVzLkZlYXR1cmVDb2xsZWN0aW9uLCBJdGVtVHlwZXMuR3JvdXBMYXllcl0sXG4gIFtBbGxEYXRhU291cmNlVHlwZXMuRmVhdHVyZVNlcnZpY2VdOiBJdGVtVHlwZXMuRmVhdHVyZVNlcnZpY2UsXG4gIFtBbGxEYXRhU291cmNlVHlwZXMuTWFwU2VydmljZV06IEl0ZW1UeXBlcy5NYXBTZXJ2aWNlLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLlNjZW5lU2VydmljZV06IEl0ZW1UeXBlcy5TY2VuZVNlcnZpY2Vcbn1cblxuY29uc3QgRHNUeXBlVG9UYWJUeXBlID0ge1xuICBbQWxsRGF0YVNvdXJjZVR5cGVzLldlYk1hcF06IFRhYlR5cGVzLldlYk1hcCxcbiAgW0FsbERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZV06IFRhYlR5cGVzLldlYlNjZW5lLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllcl06IFtUYWJUeXBlcy5XZWJNYXAsIFRhYlR5cGVzLldlYlNjZW5lLCBUYWJUeXBlcy5MYXllcnMsIFRhYlR5cGVzLlVybF0sXG4gIFtBbGxEYXRhU291cmNlVHlwZXMuU2NlbmVMYXllcl06IFtUYWJUeXBlcy5XZWJTY2VuZSwgVGFiVHlwZXMuTGF5ZXJzLCBUYWJUeXBlcy5VcmxdLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLkdyb3VwTGF5ZXJdOiBbVGFiVHlwZXMuV2ViTWFwLCBUYWJUeXBlcy5XZWJTY2VuZSwgVGFiVHlwZXMuTGF5ZXJzLCBUYWJUeXBlcy5VcmxdLFxuICBbQWxsRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVTZXJ2aWNlXTogW1RhYlR5cGVzLkxheWVycywgVGFiVHlwZXMuVXJsXSxcbiAgW0FsbERhdGFTb3VyY2VUeXBlcy5NYXBTZXJ2aWNlXTogW1RhYlR5cGVzLkxheWVycywgVGFiVHlwZXMuVXJsXSwgLy8gSWYgaXQgaXMgbWFwIHNlcnZpY2UsIHNob3VsZCBub3Qgc2hvdyB3ZWJtYXAgYW5kIHdlYnNjZW5lIHRhYnMsIHNlZSBpc3N1ZSAjOTA4My5cbiAgW0FsbERhdGFTb3VyY2VUeXBlcy5TY2VuZVNlcnZpY2VdOiBbVGFiVHlwZXMuTGF5ZXJzLCBUYWJUeXBlcy5VcmxdXG59XG5cbmNvbnN0IFRhYkljb24gPSB7XG4gIFtUYWJUeXBlcy5XZWJNYXBdOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9kYXRhLW1hcC5zdmcnKSxcbiAgW1RhYlR5cGVzLldlYlNjZW5lXTogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvZGF0YS1zY2VuZS5zdmcnKSxcbiAgW1RhYlR5cGVzLkxheWVyc106IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2RhdGEtbGF5ZXItMTYuc3ZnJyksXG4gIFtUYWJUeXBlcy5VcmxdOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy93aWRnZXQtbGluay5zdmcnKVxufVxuXG4vKipcbiAqIFRoZSBFeHRlcm5hbERhdGFTb3VyY2VTZWxlY3RvciBwcm9wc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEV4dGVybmFsRGF0YVNvdXJjZVNlbGVjdG9yUHJvcHMge1xuICBwb3J0YWxVcmw6IHN0cmluZ1xuICBpc011bHRpcGxlPzogYm9vbGVhblxuICB0eXBlcz86IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz5cbiAgb25TZWxlY3Q/OiAoZHNKc29uczogSU1EYXRhU291cmNlSnNvbltdKSA9PiB2b2lkXG4gIG9uUmVtb3ZlPzogKGRzSnNvbnM6IElNRGF0YVNvdXJjZUpzb25bXSkgPT4gdm9pZFxuICBvbkNhbmNlbD86ICgpID0+IHZvaWRcbiAgb25GaW5pc2g/OiAoZHNKc29uczogSU1EYXRhU291cmNlSnNvbltdKSA9PiB2b2lkXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzZWxlY3RlZERzczogSU1EYXRhU291cmNlSnNvbltdXG4gIHNlbGVjdGVkRHNzTGFiZWxzOiBBcnJheTx7IGlkOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcgfT5cbiAgc2VsZWN0ZWRJdGVtczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBwYXJ0U2VsZWN0ZWRJdGVtczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiAvLyBvbmUgaXRlbSBtYXkgY29udGFpbiBtdWx0aXBsZSBkYXRhIHNvdXJjZXMsIGl0ZW1zIGluIHRoZSBhcnJheSBtZWFuIHRoYXQgc29tZSBvZiBkYXRhIHNvdXJjZXMgaW4gdGhlIGl0ZW0gYXJlIHNlbGVjdGVkXG4gIGFjdGl2ZVRhYjogVGFiVHlwZXNcbiAgaXNMb2FkZWQ6IGJvb2xlYW5cbiAgbG9hZGVkU2VsZWN0ZWREc3NWZXJzaW9uOiBudW1iZXIgLy8gd29uJ3QgY3JlYXRlIGRhdGEgc291cmNlIHRyZWUgYmVmb3JlIG9wZW5pbmcgc2VsZWN0ZWQgZGF0YSBzb3VyY2UgY29sbGFwc2VcbiAgaXNUb2FzdE9wZW46IGJvb2xlYW5cbiAgaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW46IGJvb2xlYW5cbiAgZXJyb3JNc2c6IHN0cmluZ1xuICBzZWFyY2hWYWx1ZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXG4gIGludGw/OiBJbnRsU2hhcGVcbn1cblxuY2xhc3MgX0V4dGVybmFsRGF0YVNvdXJjZVNlbGVjdG9yIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxFeHRlcm5hbERhdGFTb3VyY2VTZWxlY3RvclByb3BzICYgRXh0cmFQcm9wcywgU3RhdGU+IHtcbiAgbGVmdE1lbnVSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD5cbiAgY2xvc2VCdG5SZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MQnV0dG9uRWxlbWVudD5cbiAgZG9uZUJ0blJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PlxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xuICBsb2FkaW5nSXRlbU51bWJlcjogbnVtYmVyID0gMFxuICB0YWJMYWJlbCA9IHtcbiAgICBbVGFiVHlwZXMuV2ViTWFwXTogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3dlYk1hcCcsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLndlYk1hcCB9KSxcbiAgICBbVGFiVHlwZXMuV2ViU2NlbmVdOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnd2ViU2NlbmUnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVNZXNzYWdlcy53ZWJTY2VuZSB9KSxcbiAgICBbVGFiVHlwZXMuTGF5ZXJzXTogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2xheWVycycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMubGF5ZXJzIH0pLFxuICAgIFtUYWJUeXBlcy5VcmxdOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAndXJsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy51cmwgfSlcbiAgfVxuXG4gIF9fdW5tb3VudCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5sZWZ0TWVudVJlZiA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKVxuICAgIHRoaXMuY2xvc2VCdG5SZWYgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KClcbiAgICB0aGlzLmRvbmVCdG5SZWYgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KClcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2VhcmNoVmFsdWU6ICcnLFxuICAgICAgc2VsZWN0ZWREc3M6IFtdLFxuICAgICAgc2VsZWN0ZWRJdGVtczogSW1tdXRhYmxlKFtdKSxcbiAgICAgIHBhcnRTZWxlY3RlZEl0ZW1zOiBJbW11dGFibGUoW10pLFxuICAgICAgc2VsZWN0ZWREc3NMYWJlbHM6IFtdLFxuICAgICAgYWN0aXZlVGFiOiB0aGlzLnByb3BzLnR5cGVzICYmIHRoaXMuZ2V0VGFiVHlwZUZyb21Ec1R5cGUodGhpcy5wcm9wcy50eXBlc1swXSkgPyB0aGlzLmdldFRhYlR5cGVGcm9tRHNUeXBlKHRoaXMucHJvcHMudHlwZXNbMF0pWzBdIDogVGFiVHlwZXMuV2ViTWFwLFxuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc1RvYXN0T3BlbjogZmFsc2UsXG4gICAgICBpc1NlbGVjdGVkRGF0YUNvbGxhcHNlT3BlbjogZmFsc2UsXG4gICAgICBsb2FkZWRTZWxlY3RlZERzc1ZlcnNpb246IDAsXG4gICAgICBlcnJvck1zZzogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICAvLyBGb2N1cyB0aGUgY2xvc2UgYnV0dG9uIG9uIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2VCdG5SZWYuY3VycmVudD8uZm9jdXMoKVxuICAgIH0sIDUwMClcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcbiAgfVxuXG4gIGdldFRhYlR5cGVGcm9tRHNUeXBlID0gKGRzVHlwZTogQWxsRGF0YVNvdXJjZVR5cGVzKTogVGFiVHlwZXNbXSA9PiB7XG4gICAgaWYgKCFkc1R5cGUpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShEc1R5cGVUb1RhYlR5cGVbZHNUeXBlXSkgPyBEc1R5cGVUb1RhYlR5cGVbZHNUeXBlXSA6IFtEc1R5cGVUb1RhYlR5cGVbZHNUeXBlXV1cbiAgfVxuXG4gIGdldFRhYkljb24gPSAodGFiOiBUYWJUeXBlcyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCF0YWIpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHJldHVybiBUYWJJY29uW3RhYl1cbiAgfVxuXG4gIGdldFRhYkxhYmVsID0gKHRhYjogVGFiVHlwZXMpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghdGFiKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy50YWJMYWJlbFt0YWJdXG4gIH1cblxuICBnZXRFbGVtZW50UG9zaXRpb24gPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH0gPT4ge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgbGV0IHggPSBlbGVtZW50Lm9mZnNldExlZnRcbiAgICBsZXQgeSA9IGVsZW1lbnQub2Zmc2V0VG9wXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50XG5cbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICB4ICs9IHBhcmVudC5vZmZzZXRMZWZ0XG4gICAgICB5ICs9IHBhcmVudC5vZmZzZXRUb3BcblxuICAgICAgcGFyZW50ID0gcGFyZW50Lm9mZnNldFBhcmVudCBhcyBIVE1MRWxlbWVudFxuICAgIH1cblxuICAgIHJldHVybiB7IHgsIHkgfVxuICB9XG5cbiAgZ2V0Q29uZmlnRHNJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGFwcFN0YXRlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpXG4gICAgY29uc3QgYXBwQ29uZmlnID0gYXBwU3RhdGUgJiYgYXBwU3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgYXBwU3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuYXBwQ29uZmlnXG4gICAgcmV0dXJuIGFwcENvbmZpZ1V0aWxzLmdldFVuaXF1ZUlkKGFwcENvbmZpZywgJ2RhdGFTb3VyY2UnKVxuICB9XG5cbiAgZ2V0TmV4dERzSWQgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIXRoaXMuZGF0YVNvdXJjZUlkKSB7XG4gICAgICB0aGlzLmRhdGFTb3VyY2VJZCA9IHRoaXMuZ2V0Q29uZmlnRHNJZCgpXG4gICAgICByZXR1cm4gdGhpcy5kYXRhU291cmNlSWRcbiAgICB9XG4gICAgY29uc3QgY3VycmVudE5hbWUgPSB0aGlzLmRhdGFTb3VyY2VJZC5zcGxpdCgnXycpXG4gICAgY29uc3QgaWQgPSBjdXJyZW50TmFtZVsxXSA/IHBhcnNlSW50KGN1cnJlbnROYW1lWzFdKSArIDEgOiB1dWlkdjEoKVxuICAgIGNvbnN0IG5hbWUgPSBjdXJyZW50TmFtZVswXSB8fCAnZGF0YVNvdXJjZSdcbiAgICB0aGlzLmRhdGFTb3VyY2VJZCA9IGAke25hbWV9XyR7aWR9YFxuICAgIHJldHVybiB0aGlzLmRhdGFTb3VyY2VJZFxuICB9XG5cbiAgb25JdGVtQWRkZWQgPSBhc3luYyAoYWxsU2VsZWN0ZWRJdGVtczogSUl0ZW1XaXRoUG9ydGFsVXJsW10sIGxhdGVzdFNlbGVjdGVkSXRlbTogSUl0ZW1XaXRoUG9ydGFsVXJsKSA9PiB7XG4gICAgY29uc3QgZHNJZCA9IHRoaXMuZ2V0TmV4dERzSWQoKVxuICAgIHRyeSB7XG4gICAgICBhbGxTZWxlY3RlZEl0ZW1zID0gYWxsU2VsZWN0ZWRJdGVtcyB8fCBbXVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkSXRlbXM6IEltbXV0YWJsZShhbGxTZWxlY3RlZEl0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaWQpKSxcbiAgICAgICAgcGFydFNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMuZmlsdGVyKGlkID0+ICFhbGxTZWxlY3RlZEl0ZW1zLnNvbWUoc2VsZWN0ZWRJdGVtID0+IHNlbGVjdGVkSXRlbS5pZCA9PT0gaWQpKVxuICAgICAgfSlcblxuICAgICAgLy8gU2hvdyBsb2FkaW5nLlxuICAgICAgdGhpcy50b2dnbGVMb2FkZWRTdGF0dXMoZmFsc2UpXG5cbiAgICAgIGNvbnN0IGRzSnNvbiA9IGF3YWl0IHRoaXMuZ2V0RHNKc29uRnJvbUl0ZW1PclNlcnZpY2UoZHNJZCwgbGF0ZXN0U2VsZWN0ZWRJdGVtKVxuXG4gICAgICAvLyBIaWRlIGxvYWRpbmcuXG4gICAgICB0aGlzLnRvZ2dsZUxvYWRlZFN0YXR1cyh0cnVlKVxuXG4gICAgICB0aGlzLm9uRHNKc29uQWRkZWQoZHNKc29uLCBsYXRlc3RTZWxlY3RlZEl0ZW0udGl0bGUpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgIC8vIEhpZGUgbG9hZGluZy5cbiAgICAgICAgdGhpcy50b2dnbGVMb2FkZWRTdGF0dXModHJ1ZSlcblxuICAgICAgICAvLyBTaG93IGVycm9yIHdhcm5pbmcuXG4gICAgICAgIHRoaXMudG9nZ2xlVG9hc3RTdGF0dXModHJ1ZSwgZ2V0RXJyb3JUZXh0RnJvbUVycm9yQ29kZShBZGREYXRhRXJyb3JDb2RlLkl0ZW1JbmFjY2Vzc2libGUsIHRoaXMucHJvcHMuaW50bCkpXG5cbiAgICAgICAgLy8gUmVzZXQgc2VsZWN0ZWQgaXRlbXMuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRJdGVtcy5maWx0ZXIoaWQgPT4gaWQgIT09IGxhdGVzdFNlbGVjdGVkSXRlbS5pZCksXG4gICAgICAgICAgcGFydFNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMuZmlsdGVyKGlkID0+IGlkICE9PSBsYXRlc3RTZWxlY3RlZEl0ZW0uaWQpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhZGQgZGF0YS4gJywgbGF0ZXN0U2VsZWN0ZWRJdGVtLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgZ2V0RHNKc29uRnJvbUl0ZW1PclNlcnZpY2UgPSBhc3luYyAoZHNJZDogc3RyaW5nLCBpdGVtOiBJSXRlbVdpdGhQb3J0YWxVcmwpOiBQcm9taXNlPElNRGF0YVNvdXJjZUpzb24+ID0+IHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgaXRlbSBpcyBmcm9tIGEgc2luZ2xlIGxheWVyICh1cmwgZW5kcyB1cCB3aXRoIGxheWVyIGlkKSwgd2UgbmVlZCB0byBnZXQgZGF0YSBzb3VyY2UgdHlwZSBieSBsYXllciBkZWZpbml0aW9uLlxuICAgICAqIEZvciBleGFtcGxlLCBncm91cCBsYXllciBvZiBhIG1hcCBzZXJ2aWNlIGNhbiBub3QgYmUgaWRlbnRpZmllZCBieSBpdGVtIG9yIHVybCwgbmVlZCBgdHlwZWAgb2YgbGF5ZXJEZWZpbml0aW9uLlxuICAgICAqL1xuICAgIGlmIChpdGVtLnVybCAmJiBkYXRhU291cmNlVXRpbHMuaXNTdXBwb3J0ZWRTaW5nbGVBcmNHSVNMYXllclNlcnZpY2UoaXRlbS51cmwpKSB7XG4gICAgICByZXR1cm4gZ2V0RHNKc29uRnJvbVNlcnZpY2UoaXRlbS51cmwsIGRzSWQsIGl0ZW0ucG9ydGFsVXJsLCBpdGVtLmlkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtLnRpdGxlID8gcmVzLmRzSnNvbj8uc2V0KCdzb3VyY2VMYWJlbCcsIGl0ZW0udGl0bGUpIDogcmVzLmRzSnNvblxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGFTb3VyY2VKc29uQ3JlYXRvci5jcmVhdGVEYXRhU291cmNlSnNvbkJ5SXRlbUluZm8oZHNJZCwgaXRlbSwgaXRlbS5wb3J0YWxVcmwpXG4gICAgfVxuICB9XG5cbiAgb25JdGVtUmVtb3ZlZCA9IChhbGxTZWxlY3RlZEl0ZW1zOiBJSXRlbVdpdGhQb3J0YWxVcmxbXSwgbGF0ZXN0UmVtb3ZlZEl0ZW06IElJdGVtV2l0aFBvcnRhbFVybCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0ZWRJdGVtczogSW1tdXRhYmxlKGFsbFNlbGVjdGVkSXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5pZCkpLFxuICAgICAgcGFydFNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMuZmlsdGVyKGlkID0+IGlkICE9PSBsYXRlc3RSZW1vdmVkSXRlbS5pZClcbiAgICB9KVxuICAgIHRoaXMub25Ec0pzb25SZW1vdmVkKGxhdGVzdFJlbW92ZWRJdGVtLmlkLCBudWxsKVxuICB9XG5cbiAgb25Ec0pzb25BZGRlZCA9IGFzeW5jIChkc0pzb246IElNRGF0YVNvdXJjZUpzb24sIGxhYmVsOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFkc0pzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUoQWRkRGF0YUVycm9yQ29kZS5EYXRhVHlwZUlzTm90U3VwcG9ydGVkLCB0aGlzLnByb3BzLmludGwpKVxuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkRHNzOiB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLmNvbmNhdChkc0pzb24pLFxuICAgICAgICBzZWxlY3RlZERzc0xhYmVsczogdGhpcy5zdGF0ZS5zZWxlY3RlZERzc0xhYmVscy5jb25jYXQoeyBpZDogZHNKc29uLmlkLCBsYWJlbCB9KVxuICAgICAgfSlcbiAgICAgIGF3YWl0IHRoaXMuY2hlY2tTY2VuZUxheWVyKGRzSnNvbilcblxuICAgICAgLy8gSWYgc2VsZWN0ZWQgZGF0YSBzb3VyY2UgY29sbGFwc2UgaXMgb3BlbiwgbmVlZCB0byBjcmVhdGUgZGF0YSBzb3VyY2UgdG8gc2hvdyB0aGUgZGF0YSBzb3VyY2UgdHJlZS5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzU2VsZWN0ZWREYXRhQ29sbGFwc2VPcGVuKSB7XG4gICAgICAgIGNvbnN0IGRzID0gYXdhaXQgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVEYXRhU291cmNlKGRzSnNvbilcbiAgICAgICAgdGhpcy5jaGVja0NyZWF0ZWREc3MoW2RzXSlcbiAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkZWRTZWxlY3RlZERzc1ZlcnNpb246IHRoaXMuc3RhdGUubG9hZGVkU2VsZWN0ZWREc3NWZXJzaW9uICsgMSB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3QgJiYgdGhpcy5wcm9wcy5vblNlbGVjdChbZHNKc29uXSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZU9mRXJyb3JEcyhkc0pzb24pXG5cbiAgICAgIGlmICghdGhpcy5fX3VubW91bnQpIHtcbiAgICAgICAgLy8gU2hvdyBlcnJvciB3YXJuaW5nLlxuICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b1VwcGVyQ2FzZSgpPy5pbmNsdWRlcyhBZGREYXRhRXJyb3JDb2RlLldlYk1hcFVuc3VwcG9ydGVkVmVyc2lvbikpIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZVRvYXN0U3RhdHVzKHRydWUsIGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUoQWRkRGF0YUVycm9yQ29kZS5XZWJNYXBVbnN1cHBvcnRlZFZlcnNpb24sIHRoaXMucHJvcHMuaW50bCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgY2FuY2VsZSB0aGUgc2lnbiBpbiwgc2hvdWxkbid0IHNob3cgZXJyb3IuXG4gICAgICAgICAgaWYgKGVycj8uY29kZSAhPT0gU2lnbkluRXJyb3JDb2RlLlNpZ25JbkNhbmNlbGVkKSB7XG4gICAgICAgICAgICBpZiAoZXJyPy5pc1NpZ25JbkVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMudG9nZ2xlVG9hc3RTdGF0dXModHJ1ZSwgZXJyLm1lc3NhZ2UxKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50b2dnbGVUb2FzdFN0YXR1cyh0cnVlLCBnZXRFcnJvclRleHRGcm9tRXJyb3JDb2RlKEFkZERhdGFFcnJvckNvZGUuSXRlbUluYWNjZXNzaWJsZSwgdGhpcy5wcm9wcy5pbnRsKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWRlIGRvbnV0IGxvYWRpbmcgYW5kIHJlc2V0IHNlbGVjdGVkIGRhdGEgc291cmNlcyBhbmQgaXRlbXMuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvYWRlZFNlbGVjdGVkRHNzVmVyc2lvbjogdGhpcy5zdGF0ZS5sb2FkZWRTZWxlY3RlZERzc1ZlcnNpb24gKyAxLFxuICAgICAgICAgIHNlbGVjdGVkRHNzOiB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLmZpbHRlcihkID0+IGQuaWQgIT09IGRzSnNvbj8uaWQpLFxuICAgICAgICAgIHNlbGVjdGVkRHNzTGFiZWxzOiB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzTGFiZWxzLmZpbHRlcihkID0+IGQuaWQgIT09IGRzSnNvbj8uaWQpLFxuICAgICAgICAgIHNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRJdGVtcy5maWx0ZXIoaWQgPT4gaWQgIT09IGRzSnNvbj8uaXRlbUlkKSxcbiAgICAgICAgICBwYXJ0U2VsZWN0ZWRJdGVtczogdGhpcy5zdGF0ZS5wYXJ0U2VsZWN0ZWRJdGVtcy5maWx0ZXIoaWQgPT4gaWQgIT09IGRzSnNvbj8uaXRlbUlkKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBkYXRhIHNvdXJjZS4gJywgZHNKc29uLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgY2xlYXJDYWNoZU9mRXJyb3JEcyA9IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IHtcbiAgICAvLyBDbGVhciBjYWNoZSBvZiB0aGUgZXJyb3IgZGF0YSBzb3VyY2UuXG4gICAgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95RGF0YVNvdXJjZShkc0pzb24/LmlkKVxuICAgIGlmICghdGhpcy5fX3VubW91bnQpIHtcbiAgICAgIHRoaXMub25Ec0pzb25SZW1vdmVkKGRzSnNvbj8uaXRlbUlkLCBkc0pzb24/LmlkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBkYXRhIHNvdXJjZSBpcyBzY2VuZSBsYXllciwgbmVlZCB0byBjcmVhdGUgc2NlbmUgbGF5ZXIgZGF0YSBzb3VyY2UgdG8gY2hlY2sgd2hldGhlciBpdCBoYXMgYXNzb2NpYXRlZCBsYXllciBvciBub3QuXG4gICAqIElmIHRoZSBzY2VuZSBsYXllciBkb3Nlbid0IGhhdmUgYXNzb2NpYXRlZCBsYXllciwgd2Ugd29uJ3QgYWxsb3cgdG8gYWRkIGl0LlxuICAgKi9cbiAgY2hlY2tTY2VuZUxheWVyID0gYXN5bmMgKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4ge1xuICAgIGNvbnN0IGlzU2NlbmVMYXllciA9IGRzSnNvbj8udHlwZSA9PT0gQWxsRGF0YVNvdXJjZVR5cGVzLlNjZW5lTGF5ZXJcbiAgICBpZiAoIWRzSnNvbiB8fCAhaXNTY2VuZUxheWVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy50b2dnbGVMb2FkZWRTdGF0dXMoZmFsc2UpXG4gICAgICBjb25zdCBkcyA9IGF3YWl0IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlRGF0YVNvdXJjZShkc0pzb24pXG4gICAgICB0aGlzLmNoZWNrQ3JlYXRlZERzcyhbZHNdKVxuICAgICAgdGhpcy50b2dnbGVMb2FkZWRTdGF0dXModHJ1ZSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZU9mRXJyb3JEcyhkc0pzb24pXG5cbiAgICAgIGlmICghdGhpcy5fX3VubW91bnQpIHtcbiAgICAgICAgLy8gSGlkZSBsb2FkaW5nLlxuICAgICAgICB0aGlzLnRvZ2dsZUxvYWRlZFN0YXR1cyh0cnVlKVxuXG4gICAgICAgIC8vIFNob3cgZXJyb3Igd2FybmluZy5cbiAgICAgICAgdGhpcy50b2dnbGVUb2FzdFN0YXR1cyh0cnVlLCBnZXRFcnJvclRleHRGcm9tRXJyb3JDb2RlKEFkZERhdGFFcnJvckNvZGUuU2NlbmVMYXllcldpdGhvdXRBc3NvY2lhdGVkTGF5ZXIsIHRoaXMucHJvcHMuaW50bCkpXG5cbiAgICAgICAgLy8gUmVzZXQgc2VsZWN0ZWQgZGF0YSBzb3VyY2VzIGFuZCBpdGVtcy5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0ZWREc3M6IHRoaXMuc3RhdGUuc2VsZWN0ZWREc3MuZmlsdGVyKGQgPT4gZC5pZCAhPT0gZHNKc29uLmlkKSxcbiAgICAgICAgICBzZWxlY3RlZERzc0xhYmVsczogdGhpcy5zdGF0ZS5zZWxlY3RlZERzc0xhYmVscy5maWx0ZXIoZCA9PiBkLmlkICE9PSBkc0pzb24uaWQpLFxuICAgICAgICAgIHNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRJdGVtcy5maWx0ZXIoaWQgPT4gaWQgIT09IGRzSnNvbi5pdGVtSWQpLFxuICAgICAgICAgIHBhcnRTZWxlY3RlZEl0ZW1zOiB0aGlzLnN0YXRlLnBhcnRTZWxlY3RlZEl0ZW1zLmZpbHRlcihpZCA9PiBpZCAhPT0gZHNKc29uLml0ZW1JZClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBjcmVhdGVkIGRhdGEgc291cmNlIGlzIHN0aWxsIHNlbGVjdGVkLlxuICBjaGVja0NyZWF0ZWREc3MgPSAoZHNzOiBEYXRhU291cmNlW10pID0+IHtcbiAgICBkc3M/LmZvckVhY2goZHMgPT4ge1xuICAgICAgLy8gSWYgdGhlIGNyZWF0ZWQgZGF0YSBzb3VyY2UgaXMgdW5zZWxlY3RlZCBub3csIHdpbGwgZGVzdHJveSBpdC5cbiAgICAgIGlmIChkcyAmJiAhdGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5zb21lKGRzSnNvbiA9PiBkc0pzb24uaWQgPT09IGRzLmlkICYmICghZHMuZ2V0RGF0YVNvdXJjZUpzb24oKS5pdGVtSWQgfHwgZHNKc29uLml0ZW1JZCA9PT0gZHMuZ2V0RGF0YVNvdXJjZUpzb24oKS5pdGVtSWQpKSkge1xuICAgICAgICBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lEYXRhU291cmNlKGRzLmlkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogSWYgY2xpY2sgY2xvc2UgaWNvbiB0byByZW1vdmUgc2VsZWN0ZWQgZGF0YSBzb3VyY2UsIHdpbGwgcmVtb3ZlIGJ5IGRhdGEgc291cmNlIGlkLlxuICAgKiBJZiBjbGljayBhbiBpdGVtIGNhcmQgdG8gcmVtb3ZlIHNlbGVjdGVkIGRhdGEsIHNob3VsZCBwYXNzIGByZW1vdmVCeUl0ZW1JZCA9IHRydWVgIGFuZCByZW1vdmUgZGF0YSBieSBpdGVtIGlkLlxuICAgKi9cbiAgb25Ec0pzb25SZW1vdmVkID0gKGl0ZW1JZDogc3RyaW5nLCBkc0lkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWl0ZW1JZCAmJiAhZHNJZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlRHNKc29ucyA9IGl0ZW1JZFxuICAgICAgPyB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLmZpbHRlcihkc0pzb24gPT4gZHNKc29uLml0ZW1JZCA9PT0gaXRlbUlkKVxuICAgICAgOiBbdGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5maW5kKGRzSnNvbiA9PiBkc0pzb24uaWQgPT09IGRzSWQpXS5maWx0ZXIoZHNKc29uID0+IGRzSnNvbilcblxuICAgIGlmIChyZW1vdmVEc0pzb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlbW92ZURzSnNvbnMuZm9yRWFjaChkc0pzb24gPT4geyBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lEYXRhU291cmNlKGRzSnNvbi5pZCkgfSlcbiAgICAgIGNvbnN0IHNlbGVjdGVkRHNzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5maWx0ZXIoc2VsZWN0ZWREcyA9PiBpdGVtSWQgPyBzZWxlY3RlZERzLml0ZW1JZCAhPT0gaXRlbUlkIDogc2VsZWN0ZWREcy5pZCAhPT0gZHNJZClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZERzcyxcbiAgICAgICAgc2VsZWN0ZWREc3NMYWJlbHM6IHRoaXMuc3RhdGUuc2VsZWN0ZWREc3NMYWJlbHMuZmlsdGVyKGQgPT4gc2VsZWN0ZWREc3Muc29tZShzZWxlY3RlZERzID0+IHNlbGVjdGVkRHMuaWQgPT09IGQuaWQpKSxcbiAgICAgICAgc2VsZWN0ZWRJdGVtczogdGhpcy5zdGF0ZS5zZWxlY3RlZEl0ZW1zLmZpbHRlcihpZCA9PiBpZCAhPT0gaXRlbUlkKSxcbiAgICAgICAgcGFydFNlbGVjdGVkSXRlbXM6IHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMuZmlsdGVyKGlkID0+IGlkICE9PSBpdGVtSWQpLFxuICAgICAgICBpc1NlbGVjdGVkRGF0YUNvbGxhcHNlT3Blbjogc2VsZWN0ZWREc3MubGVuZ3RoID09PSAwID8gZmFsc2UgOiB0aGlzLnN0YXRlLmlzU2VsZWN0ZWREYXRhQ29sbGFwc2VPcGVuXG4gICAgICB9KVxuICAgICAgdGhpcy5wcm9wcy5vblJlbW92ZSAmJiB0aGlzLnByb3BzLm9uUmVtb3ZlKHJlbW92ZURzSnNvbnMpXG4gICAgfVxuICB9XG5cbiAgb25Ec0pzb25DaGFuZ2UgPSAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiB7XG4gICAgY29uc3QgY2hhbmdlZERzSW5kZXggPSB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLmZpbmRJbmRleChkID0+IGQuaWQgPT09IGRzSnNvbi5pZClcbiAgICBjb25zdCBzZWxlY3RlZERzc0NvcHkgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLnNsaWNlKClcbiAgICBzZWxlY3RlZERzc0NvcHkuc3BsaWNlKGNoYW5nZWREc0luZGV4LCAxLCBkc0pzb24pXG5cbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0pzb24uaWQpXG4gICAgaWYgKGRzKSB7XG4gICAgICBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZURhdGFTb3VyY2VCeURhdGFTb3VyY2VKc29uKGRzLCBkc0pzb24pXG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlZEl0ZW0gPSB0aGlzLnN0YXRlLnNlbGVjdGVkSXRlbXMuY29uY2F0KHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMpLmZpbmQoaWQgPT4gaWQgPT09IGRzSnNvbj8uaXRlbUlkKVxuICAgIGxldCBzZWxlY3RlZEl0ZW1zID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEl0ZW1zXG4gICAgbGV0IHBhcnRTZWxlY3RlZEl0ZW1zID0gdGhpcy5zdGF0ZS5wYXJ0U2VsZWN0ZWRJdGVtc1xuXG4gICAgaWYgKGNoYW5nZWRJdGVtKSB7XG4gICAgICBjb25zdCBpc1BhcnRTZWxlY3RlZCA9IHRoaXMuZ2V0V2hldGhlcklzUGFydFNlbGVjdGVkKGRzSnNvbilcbiAgICAgIGlmIChpc1BhcnRTZWxlY3RlZCkge1xuICAgICAgICBzZWxlY3RlZEl0ZW1zID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEl0ZW1zLmZpbHRlcihpZCA9PiBkc0pzb24uaXRlbUlkICYmIGlkICE9PSBkc0pzb24uaXRlbUlkKVxuICAgICAgICBwYXJ0U2VsZWN0ZWRJdGVtcyA9IHRoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXMuY29uY2F0KGNoYW5nZWRJdGVtKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJdGVtcy5jb25jYXQoY2hhbmdlZEl0ZW0pXG4gICAgICAgIHBhcnRTZWxlY3RlZEl0ZW1zID0gdGhpcy5zdGF0ZS5wYXJ0U2VsZWN0ZWRJdGVtcy5maWx0ZXIoaWQgPT4gZHNKc29uLml0ZW1JZCAmJiBpZCAhPT0gZHNKc29uLml0ZW1JZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGVkRHNzOiBzZWxlY3RlZERzc0NvcHksXG4gICAgICBzZWxlY3RlZEl0ZW1zLFxuICAgICAgcGFydFNlbGVjdGVkSXRlbXNcbiAgICB9KVxuICB9XG5cbiAgZ2V0V2hldGhlcklzUGFydFNlbGVjdGVkID0gKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbik6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc1BhcnRTZWxlY3RlZCA9IGZhbHNlXG4gICAgaWYgKGRzSnNvbj8uY2hpbGREYXRhU291cmNlSnNvbnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgT2JqZWN0LnZhbHVlcyhkc0pzb24uY2hpbGREYXRhU291cmNlSnNvbnMpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmdldFdoZXRoZXJJc1BhcnRTZWxlY3RlZChPYmplY3QudmFsdWVzKGRzSnNvbi5jaGlsZERhdGFTb3VyY2VKc29ucylbaV0pKSB7XG4gICAgICAgICAgaXNQYXJ0U2VsZWN0ZWQgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpc1BhcnRTZWxlY3RlZCA9IGRzSnNvbi5pc0hpZGRlblxuICAgIH1cbiAgICByZXR1cm4gaXNQYXJ0U2VsZWN0ZWRcbiAgfVxuXG4gIHRvZ2dsZVNlbGVjdGVkRGF0YUNvbGxhcHNlID0gKCkgPT4ge1xuICAgIC8vIElmIHNlbGVjdGVkIGRhdGEgc291cmNlIGNvbGxhcHNlIGlzIGNsb3NlZCwgY3JlYXRlIGRhdGEgc291cmNlLlxuICAgIGlmICghdGhpcy5zdGF0ZS5pc1NlbGVjdGVkRGF0YUNvbGxhcHNlT3Blbikge1xuICAgICAgdGhpcy5jcmVhdGVTZWxlY3RlZERzcygpXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1NlbGVjdGVkRGF0YUNvbGxhcHNlT3BlbjogIXRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW4gfSlcbiAgfVxuXG4gIGNyZWF0ZVNlbGVjdGVkRHNzID0gKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IG5lZWRUb0NyZWF0ZURzcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWREc3MuZmlsdGVyKGRzSnNvbiA9PiAhRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSnNvbi5pZCkpXG4gICAgLy8gSWYgdGhlcmUgYXJlIHNvbWUgc2VsZWN0ZWQgZGF0YSBzb3VyY2VzIG5vdCBjcmVhdGVkLCB3aWxsIGNyZWF0ZSB0aGVtIGZpcnN0IGFuZCB0aGVuIG9wZW4gdGhlIGNvbGxhcHNlLlxuICAgIGlmIChuZWVkVG9DcmVhdGVEc3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChcbiAgICAgICAgbmVlZFRvQ3JlYXRlRHNzLm1hcChkc0pzb24gPT5cbiAgICAgICAgICBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZURhdGFTb3VyY2UoZHNKc29uKS50aGVuKGRzID0+IGRzLmlzRGF0YVNvdXJjZVNldCA/IGRzLmNoaWxkRGF0YVNvdXJjZXNSZWFkeSgpLnRoZW4oKCkgPT4gZHMpIDogZHMpLnRoZW4oZHMgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkU2VsZWN0ZWREc3NWZXJzaW9uOiB0aGlzLnN0YXRlLmxvYWRlZFNlbGVjdGVkRHNzVmVyc2lvbiArIDEgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICkudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBjcmVhdGVkUmVzID0gcmVzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJykgYXMgQXJyYXk8UHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDxEYXRhU291cmNlPj5cbiAgICAgICAgY29uc3QgY3JlYXRlZERzcyA9IGNyZWF0ZWRSZXMubWFwKHIgPT4gci52YWx1ZSlcbiAgICAgICAgY29uc3QgZmFpbGVkUmVzID0gcmVzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAncmVqZWN0ZWQnKSBhcyBQcm9taXNlUmVqZWN0ZWRSZXN1bHRbXVxuICAgICAgICBpZiAoZmFpbGVkUmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmYWlsZWREc3MgPSBuZWVkVG9DcmVhdGVEc3MuZmlsdGVyKG5lZWRUb0NyZWF0ZURzID0+ICFjcmVhdGVkRHNzLnNvbWUoY3JlYXRlZERzID0+IGNyZWF0ZWREcy5pZCA9PT0gbmVlZFRvQ3JlYXRlRHMuaWQpKVxuICAgICAgICAgIGZhaWxlZERzcy5mb3JFYWNoKGZhaWxlZERzID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZU9mRXJyb3JEcyhmYWlsZWREcylcbiAgICAgICAgICB9KVxuICAgICAgICAgIGlmIChmYWlsZWRSZXMuc29tZShyID0+IHIucmVhc29uPy5tZXNzYWdlPy50b1VwcGVyQ2FzZSgpPy5pbmNsdWRlcyhBZGREYXRhRXJyb3JDb2RlLldlYk1hcFVuc3VwcG9ydGVkVmVyc2lvbikpKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVRvYXN0U3RhdHVzKHRydWUsIGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUoQWRkRGF0YUVycm9yQ29kZS5XZWJNYXBVbnN1cHBvcnRlZFZlcnNpb24sIHRoaXMucHJvcHMuaW50bCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGNhbmNlbGUgdGhlIHNpZ24gaW4sIHNob3VsZG4ndCBzaG93IGVycm9yLlxuICAgICAgICAgICAgaWYgKCFmYWlsZWRSZXMuc29tZShyID0+IHIucmVhc29uPy5jb2RlID09PSBTaWduSW5FcnJvckNvZGUuU2lnbkluQ2FuY2VsZWQpKSB7XG4gICAgICAgICAgICAgIGlmIChmYWlsZWRSZXMuc29tZShyID0+IHIucmVhc29uPy5pc1NpZ25JbkVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlVG9hc3RTdGF0dXModHJ1ZSwgZmFpbGVkUmVzLmZpbmQociA9PiByLnJlYXNvbj8uaXNTaWduSW5FcnJvcik/LnJlYXNvbj8ubWVzc2FnZTEpXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVUb2FzdFN0YXR1cyh0cnVlLCBnZXRFcnJvclRleHRGcm9tRXJyb3JDb2RlKEFkZERhdGFFcnJvckNvZGUuSXRlbUluYWNjZXNzaWJsZSwgdGhpcy5wcm9wcy5pbnRsKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ3JlYXRlZERzcyhjcmVhdGVkRHNzKVxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGFyZSBuZXdseSBzZWxlY3RlZCBkYXRhIHNvdXJjZXMuXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlbGVjdGVkRHNzKClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cbiAgfVxuXG4gIG9uRmluaXNoID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25GaW5pc2ggJiYgdGhpcy5wcm9wcy5vbkZpbmlzaCh0aGlzLnN0YXRlLnNlbGVjdGVkRHNzKVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5mb3JFYWNoKGRzSnNvbiA9PiB7IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveURhdGFTb3VyY2UoZHNKc29uLmlkKSB9KVxuICAgIC8vIFJlc2V0IGBzZWxlY3RlZERzc2AgdG8gbGV0IGBjaGVja0NyZWF0ZWREc3NgIGdldCB0aGUgbGF0ZXN0IHNlbGVjdGVkIGRhdGEgc291cmNlcy5cbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWREc3M6IFtdIH0sICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25DYW5jZWwgJiYgdGhpcy5wcm9wcy5vbkNhbmNlbCgpXG4gICAgfSlcbiAgfVxuXG4gIG9uQWN0aXZlVGFiQ2hhbmdlID0gKHRhYjogVGFiVHlwZXMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiOiB0YWIgfSlcbiAgfVxuXG4gIHRvZ2dsZUxvYWRlZFN0YXR1cyA9IChpc0xvYWRlZDogYm9vbGVhbikgPT4ge1xuICAgIGlmIChpc0xvYWRlZCkgeyAvLyBvbmUgaXRlbSBpcyBsb2FkZWRcbiAgICAgIHRoaXMubG9hZGluZ0l0ZW1OdW1iZXIgLT0gMSAvLyBudW1iZXIgb2YgbG9hZGluZyBpdGVtcyBtaW51cyBvbmVcbiAgICB9IGVsc2UgeyAvLyBhIG5ldyBpdGVtIGlzIGxvYWRpbmdcbiAgICAgIHRoaXMubG9hZGluZ0l0ZW1OdW1iZXIgKz0gMSAvLyBudW1iZXIgb2YgbG9hZGluZyBpdGVtcyBwbHVzIG9uZVxuICAgIH1cbiAgICBpZiAodGhpcy5sb2FkaW5nSXRlbU51bWJlciA+IDApIHsgLy8gb25lIG9yIG1vcmUgaXRlbXMgYXJlIGxvYWRpbmdcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRlZDogZmFsc2UgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGVkOiB0cnVlIH0pIC8vIG5vIGl0ZW1zIGFyZSBsb2FkaW5nXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlVG9hc3RTdGF0dXMgPSAoaXNUb2FzdE9wZW46IGJvb2xlYW4sIGVycm9yTXNnOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaXNUb2FzdE9wZW4pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1RvYXN0T3BlbiwgZXJyb3JNc2cgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX191bm1vdW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNUb2FzdE9wZW46IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvck1zZzogbnVsbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNUb2FzdE9wZW4sIGVycm9yTXNnIH0pXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlSGlkZURhdGEgPSAocm9vdERzSnNvbjogSU1EYXRhU291cmNlSnNvbiwgZGF0YVNvdXJjZT86IERhdGFTb3VyY2UpID0+IHtcbiAgICBpZiAoIXJvb3REc0pzb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChkYXRhU291cmNlICYmIGRhdGFTb3VyY2UuZ2V0RGF0YVNvdXJjZUpzb24oKS5pc0hpZGRlbikge1xuICAgICAgdGhpcy5vbkRzSnNvbkNoYW5nZSh0cmF2ZXJzZVVuaGlkZVBhcmVudERzKGRhdGFTb3VyY2UpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGF0YVNvdXJjZSAmJiBkYXRhU291cmNlLmlkICE9PSByb290RHNKc29uLmlkKSB7XG4gICAgICAgIHRoaXMub25Ec0pzb25DaGFuZ2UodHJhdmVyc2VIaWRlQ2hpbGREcyhkYXRhU291cmNlKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9ubHkgY2FuIHJlbW92ZSBhIHJvb3QgZGF0YSBhbmQgY2FuIG5vdCB0b2dnbGUgdG8gc2hvdyBhbmQgaGlkZSBpdC5cbiAgICAgICAgLy8gU28gdG8gdG9nZ2xlIGEgcm9vdCBkYXRhIGlzIGFjdHVhbGx5IHRvIHJlbW92ZSBpdC5cbiAgICAgICAgdGhpcy5vbkRzSnNvblJlbW92ZWQocm9vdERzSnNvbi5pdGVtSWQsIHJvb3REc0pzb24uaWQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgU2VsZWN0ZWREYXRhU291cmNlSXRlbSA9ICh7IHJvb3REc0pzb24sIGRzSnNvbiwgcm9vdERzTGFiZWwgfTogeyByb290RHNKc29uOiBJTURhdGFTb3VyY2VKc29uLCBkc0pzb246IElNRGF0YVNvdXJjZUpzb24sIHJvb3REc0xhYmVsPzogc3RyaW5nIH0pID0+IHtcbiAgICBjb25zdCBkYXRhU291cmNlID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSnNvbi5pZClcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FkZGVkLWRzLWl0ZW0nPlxuICAgICAgICB7XG4gICAgICAgICAgIWRhdGFTb3VyY2UgJiYgPExvYWRpbmcgdHlwZT17TG9hZGluZ1R5cGUuRG9udXR9IHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSd3LTI1IHNlbGVjdGVkLWRzLWxvYWRpbmcnIC8+XG4gICAgICAgIH1cbiAgICAgICAgPERhdGFTb3VyY2VUcmVlXG4gICAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZSB8fCBkc0pzb259IGlzTm9kZVNlbGVjdGFibGU9eygpID0+IHRydWV9IHJlbmRlclNlbGVjdGFibGVOb2RlPXtkcyA9PiB0aGlzLnJlbmRlckRhdGFJdGVtKGRzLCByb290RHNKc29uLCByb290RHNMYWJlbCl9XG4gICAgICAgICAgZ2V0Q2hpbGREYXRhU291cmNlcz17dGhpcy5nZXRDaGlsZERhdGFTb3VyY2VzfSBnZXRMYWJlbD17dGhpcy5nZXREYXRhU291cmNlTGFiZWx9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDaGlsZERhdGFTb3VyY2VzID0gKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpOiBEYXRhU291cmNlW10gPT4ge1xuICAgIGlmICghZGF0YVNvdXJjZSB8fCAhZGF0YVNvdXJjZS5pc0RhdGFTb3VyY2VTZXQpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhU291cmNlLmdldENoaWxkRGF0YVNvdXJjZXMoKVxuICB9XG5cbiAgZ2V0RGF0YVNvdXJjZUxhYmVsID0gKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBkYXRhU291cmNlPy5nZXRMYWJlbCA/IGRhdGFTb3VyY2UuZ2V0TGFiZWwoKSB8fCBkYXRhU291cmNlLmlkIDogbnVsbFxuICB9XG5cbiAgZ2V0SXRlbVR5cGVzID0gKGRzVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz4sIHRhYlR5cGU6IFRhYlR5cGVzKTogSXRlbVR5cGVzIHwgSW1tdXRhYmxlQXJyYXk8SXRlbVR5cGVzPiA9PiB7XG4gICAgY29uc3QgaXRlbVR5cGVzRnJvbVRhYlR5cGUgPSBUYWJUeXBlVG9JdGVtVHlwZVt0YWJUeXBlXVxuICAgIGlmICghZHNUeXBlcyB8fCBkc1R5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbVR5cGVzRnJvbVRhYlR5cGUpID8gSW1tdXRhYmxlKGl0ZW1UeXBlc0Zyb21UYWJUeXBlKSA6IGl0ZW1UeXBlc0Zyb21UYWJUeXBlXG4gICAgfSBlbHNlIHsgLy8gU2hvdWxkIGpvaW4gaXRlbSB0eXBlcyBnZW5lcmF0ZWQgZnJvbSBkYXRhIHNvdXJjZSB0eXBlcyBhbmQgaXRlbSB0eXBlcyBnZW5lcmF0ZWQgZnJvbSBjdXJyZW50IHRhYiB0eXBlLlxuICAgICAgY29uc3QgaXRlbVR5cGVzRnJvbURzVHlwZSA9IEFycmF5LmZyb20obmV3IFNldChkc1R5cGVzLmFzTXV0YWJsZSgpLnJlZHVjZSgoaXRlbVR5cGVzLCBkc1R5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW1UeXBlcy5jb25jYXQoRHNUeXBlVG9JdGVtVHlwZVtkc1R5cGVdKVxuICAgICAgfSwgW10pKSlcbiAgICAgIGxldCBmaW5hbEl0ZW1UeXBlczogSXRlbVR5cGVzW10gPSBbXVxuICAgICAgaXRlbVR5cGVzRnJvbURzVHlwZS5mb3JFYWNoKGl0ZW1UeXBlID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbVR5cGVzRnJvbVRhYlR5cGUpID8gaXRlbVR5cGVzRnJvbVRhYlR5cGUuc29tZSh0ID0+IHQgPT09IGl0ZW1UeXBlKSA6IGl0ZW1UeXBlID09PSBpdGVtVHlwZXNGcm9tVGFiVHlwZSkge1xuICAgICAgICAgIGZpbmFsSXRlbVR5cGVzID0gZmluYWxJdGVtVHlwZXMuY29uY2F0KGl0ZW1UeXBlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIEltbXV0YWJsZShmaW5hbEl0ZW1UeXBlcylcbiAgICB9XG4gIH1cblxuICBnZXRXaGV0aGVySGlkZVNpbmdsZUxheWVyID0gKGRzVHlwZXM6IEltbXV0YWJsZUFycmF5PEFsbERhdGFTb3VyY2VUeXBlcz4sIHRhYlR5cGU6IFRhYlR5cGVzKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKGRzVHlwZXMgJiYgdGFiVHlwZSA9PT0gVGFiVHlwZXMuTGF5ZXJzKSB7XG4gICAgICAvLyBJZiBhbGxvdyB0byBzZWxlY3Qgc2luZ2xlIGZlYXR1cmUgbGF5ZXIgb3Igc2luZ2xlIHNjZW5lIGxheWVyLCBzaG91bGQgbm90IGhpZGUgc2luZ2xlIGxheWVyIGl0ZW1zLlxuICAgICAgcmV0dXJuICFkc1R5cGVzLnNvbWUodCA9PiB0ID09PSBBbGxEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyIHx8IHQgPT09IEFsbERhdGFTb3VyY2VUeXBlcy5TY2VuZUxheWVyKVxuICAgIH1cbiAgICAvLyBTaG93IHNpbmdsZSBsYXllciBpdGVtcyBieSBkZWZhdWx0LlxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyRGF0YUl0ZW0gPSAoZHM6IFBhcnRpYWw8RGF0YVNvdXJjZT4sIHJvb3REc0pzb246IElNRGF0YVNvdXJjZUpzb24sIHJvb3REc0xhYmVsPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFkcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkc0pzb246IElNRGF0YVNvdXJjZUpzb24gPSBkcy5nZXREYXRhU291cmNlSnNvbiA/IGRzLmdldERhdGFTb3VyY2VKc29uKCkgOiBkcyBhcyBJTURhdGFTb3VyY2VKc29uXG4gICAgY29uc3QgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkcy5pZClcbiAgICBjb25zdCBpc1Jvb3REcyA9IGRzLmlkID09PSByb290RHNKc29uPy5pZFxuICAgIGNvbnN0IGwgPSBpc1Jvb3REcyAmJiByb290RHNMYWJlbCA/IHJvb3REc0xhYmVsIDogdGhpcy5nZXREYXRhU291cmNlTGFiZWwoZGF0YVNvdXJjZSkgfHwgZHMuaWRcbiAgICBjb25zdCBjbGlja1RvU2hvd09ySGlkZSA9IGRzSnNvbi5pc0hpZGRlblxuICAgICAgPyB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xpY2tUb1Nob3cnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNsaWNrVG9TaG93IH0pXG4gICAgICA6IChcbiAgICAgICAgICBkYXRhU291cmNlPy5wYXJlbnREYXRhU291cmNlXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjbGlja1RvSGlkZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2xpY2tUb0hpZGUgfSlcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3JlbW92ZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMucmVtb3ZlIH0pXG4gICAgICAgIClcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgaXRlbSc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGZsZXgtZ3Jvdy0xIHRleHQtdHJ1bmNhdGUnIHRpdGxlPXtkYXRhU291cmNlVXRpbHMuZ2V0RHNUeXBlU3RyaW5nKGRzSnNvbj8udHlwZSwgdGhpcy5wcm9wcy5pbnRsKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBmbGV4LXNocmluay0wIGRzLXRodW1ibmFpbCc+XG4gICAgICAgICAgICA8SWNvbiBpY29uPXtkYXRhU291cmNlVXRpbHMuZ2V0RHNJY29uKGRzSnNvbil9IGNsYXNzTmFtZT0ndGV4dC1kYXJrJyBzaXplPScxMicgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSBwbC0yIGRzLXR5cGUnIHRpdGxlPXtsfT5cbiAgICAgICAgICAgIHtsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZmxleC1zaHJpbmstMCc+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknIHNpemU9J3NtJyBpY29uIG9uQ2xpY2s9eygpID0+IHsgdGhpcy50b2dnbGVIaWRlRGF0YShyb290RHNKc29uLCBkYXRhU291cmNlKSB9fVxuICAgICAgICAgICAgdGl0bGU9e2NsaWNrVG9TaG93T3JIaWRlfSBhcmlhLWxhYmVsPXtjbGlja1RvU2hvd09ySGlkZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZHNKc29uLmlzSGlkZGVuID8gPEludmlzaWJsZU91dGxpbmVkIHNpemU9J3MnIC8+IDogZGF0YVNvdXJjZT8ucGFyZW50RGF0YVNvdXJjZSA/IDxWaXNpYmxlT3V0bGluZWQgc2l6ZT0ncycgLz4gOiA8Q2xvc2VPdXRsaW5lZCBzaXplPSdzJyAvPn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRSb290RHNMYWJlbCA9IChyb290RHNKc29uOiBJTURhdGFTb3VyY2VKc29uKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RlZERzc0xhYmVscy5maW5kKGQgPT4gZC5pZCA9PT0gcm9vdERzSnNvbj8uaWQpPy5sYWJlbCB8fCByb290RHNKc29uPy5pZFxuICB9XG5cbiAgc2V0U2VhcmNoVmFsdWUgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hWYWx1ZTogdmFsdWUgfSlcbiAgfVxuXG4gIG9uS2V5RG93biA9IGUgPT4ge1xuICAgIC8qKlxuICAgICAqIEZpc3QgdGltZSBjbGljayBlc2MsIGRvbmUgYnV0dG9uIGZvY3VzLCB0aGUgc2Vjb25kIHRpbWUgY2xpY2sgZXNjLCBjbG9zZSBidXR0b24gZm9jdXMuXG4gICAgICovXG4gICAgaWYgKGUua2V5ID09PSAnRXNjJyB8fCBlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcy5jbG9zZUJ0blJlZi5jdXJyZW50ICYmIGUudGFyZ2V0ICE9PSB0aGlzLmRvbmVCdG5SZWYuY3VycmVudCkge1xuICAgICAgICAvLyBJZiBoYXZlIHRoZSBkb25lIGJ1dHRvbiwgZm9jdXMgaXQuXG4gICAgICAgIGlmICh0aGlzLmRvbmVCdG5SZWYuY3VycmVudCkge1xuICAgICAgICAgIHRoaXMuZG9uZUJ0blJlZi5jdXJyZW50LmZvY3VzKClcbiAgICAgICAgfSBlbHNlIHsgLy8gT3IgZm9jdXMgdGhlIGNsb3NlIGJ1dHRvbi5cbiAgICAgICAgICB0aGlzLmNsb3NlQnRuUmVmLmN1cnJlbnQ/LmZvY3VzKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gdGhpcy5kb25lQnRuUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZUJ0blJlZi5jdXJyZW50Py5mb2N1cygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uQ2FuY2VsKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IFNlbGVjdGVkRGF0YVNvdXJjZUl0ZW0gPSB0aGlzLlNlbGVjdGVkRGF0YVNvdXJjZUl0ZW1cblxuICAgIGxldCB0YWJzOiBUYWJUeXBlc1tdID0gW11cbiAgICBpZiAodGhpcy5wcm9wcy50eXBlcykge1xuICAgICAgLy8gVG8gbWFrZSBzdXJlIHRhYiBvcmRlciBpcyB0aGUgc2FtZS5cbiAgICAgIGNvbnN0IHVzZWRUYWJzID0gQXJyYXkuZnJvbShuZXcgU2V0KEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIHRoaXMucHJvcHMudHlwZXMubWFwKHQgPT4gdGhpcy5nZXRUYWJUeXBlRnJvbURzVHlwZSh0KSkuZmlsdGVyKHQgPT4gISF0KSkpKVxuICAgICAgdGFicyA9IE9iamVjdC52YWx1ZXMoVGFiVHlwZXMpLmZpbHRlcih0ID0+IHVzZWRUYWJzLmluY2x1ZGVzKHQpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0YWJzID0gT2JqZWN0LnZhbHVlcyhUYWJUeXBlcylcbiAgICB9XG5cbiAgICBpZiAodGFicz8ubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgY29uc3QgY2xvc2UgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xvc2UnLCBkZWZhdWx0TWVzc2FnZTogamltdUNvcmVNZXNzYWdlcy5jbG9zZSB9KVxuICAgIGNvbnN0IGRvd25VcCA9IHRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW4gPyB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZG93bicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZG93biB9KSA6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICd1cCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMudXAgfSlcbiAgICBjb25zdCBkb25lID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RvbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRvbmUgfSlcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2gtMTAwJywgeyBbdGhpcy5wcm9wcy5jbGFzc05hbWVdOiAhIXRoaXMucHJvcHMuY2xhc3NOYW1lIH0pfSBvbktleURvd249e3RoaXMub25LZXlEb3dufT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGNvbXBvbmVudC1leHRlcm5hbC1kYXRhLXNvdXJjZS1zZWxlY3Rvcic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBmbGV4LXdyYXAgYWxpZ24taXRlbXMtc3RyZXRjaCB3LTEwMCBoLTEwMCc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0b3ItbGVmdCcgcmVmPXt0aGlzLmxlZnRNZW51UmVmfT5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0nc2VsZWN0b3ItbGVmdC10aXRsZScgcm9sZT0naGVhZGluZyc+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuaXNNdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWxlY3REYXRhJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZWxlY3REYXRhIH0pXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FkZERhdGEnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmFkZERhdGEgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvaDM+XG5cbiAgICAgICAgICAgICAgPE5hdiB1bmRlcmxpbmUgdmVydGljYWwgcmlnaHQgY2xhc3NOYW1lPSdzZWxlY3Rvci1sZWZ0LXRhYnMnPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhYnMubWFwKHRhYiA9PlxuICAgICAgICAgICAgICAgICAgICA8TmF2SXRlbSBrZXk9e3RhYn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBtYi0yJywgeyAnYWN0aXZlLXRhYic6IHRoaXMuc3RhdGUuYWN0aXZlVGFiID09PSB0YWIgfSl9PlxuICAgICAgICAgICAgICAgICAgICAgIDxOYXZMaW5rIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vbkFjdGl2ZVRhYkNoYW5nZSh0YWIpIH19IGNsYXNzTmFtZT0nZC1mbGV4Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e3RoaXMuZ2V0VGFiSWNvbih0YWIpfSBzaXplPScxNicgY2xhc3NOYW1lPSdtci0yIGZsZXgtc2hyaW5rLTAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSB0ZXh0LWxlZnQnIHRpdGxlPXt0aGlzLmdldFRhYkxhYmVsKHRhYil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRUYWJMYWJlbCh0YWIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L05hdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0b3ItcmlnaHQgaC0xMDAnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0b3ItcmlnaHQtaGVhZGVyIHctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kJz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9J3RlcnRpYXJ5JyBzaXplPSdzbScgaWNvbiBjbGFzc05hbWU9J2Nsb3NlLWljb24nIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9IHRpdGxlPXtjbG9zZX0gYXJpYS1sYWJlbD17Y2xvc2V9IHJlZj17dGhpcy5jbG9zZUJ0blJlZn0+XG4gICAgICAgICAgICAgICAgICA8Q2xvc2VPdXRsaW5lZCBzaXplPSdsJyAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0b3ItcmlnaHQtYm9keSB3LTEwMCc+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFicy5tYXAoKHQsIGkpID0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdpbm5lci1pdGVtLXNlbGVjdG9yLWNvbnRhaW5lciBoLTEwMCB3LTEwMCcsIHsgJ2Qtbm9uZSc6IHQgIT09IHRoaXMuc3RhdGUuYWN0aXZlVGFiIH0pfSBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPT09IFRhYlR5cGVzLlVybFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IDxVcmxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkZWQ9e3RoaXMub25Ec0pzb25BZGRlZH0gZ2V0RHNJZD17dGhpcy5nZXROZXh0RHNJZH0gaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0b2dnbGVMb2FkZWRTdGF0dXM9e3RoaXMudG9nZ2xlTG9hZGVkU3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVRvYXN0U3RhdHVzPXt0aGlzLnRvZ2dsZVRvYXN0U3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IDxJdGVtU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtVHlwZT17dGhpcy5nZXRJdGVtVHlwZXModGhpcy5wcm9wcy50eXBlcywgdCl9IHBvcnRhbFVybD17dGhpcy5wcm9wcy5wb3J0YWxVcmx9IGlzTXVsdGlwbGU9e3RoaXMucHJvcHMuaXNNdWx0aXBsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17dGhpcy5vbkl0ZW1BZGRlZH0gb25SZW1vdmU9e3RoaXMub25JdGVtUmVtb3ZlZH0gZGV0YWlsUmVmZXJlbmNlPXt0aGlzLmxlZnRNZW51UmVmfSBzZWxlY3RlZEl0ZW1zPXt0aGlzLnN0YXRlLnNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydFNlbGVjdGVkSXRlbXM9e3RoaXMuc3RhdGUucGFydFNlbGVjdGVkSXRlbXN9IGhpZGVTaW5nbGVMYXllcj17dGhpcy5nZXRXaGV0aGVySGlkZVNpbmdsZUxheWVyKHRoaXMucHJvcHMudHlwZXMsIHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERzcyAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkRHNzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FkZGVkLWRzLWNvbnRhaW5lciBweS00Jz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBweC00Jz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdtci0yJz57dGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21yLTInPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VsZWN0ZWQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNlbGVjdGVkIH0pfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5JyBzaXplPSdzbScgaWNvbiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdGVkRGF0YUNvbGxhcHNlfVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtkb3duVXB9IGFyaWEtbGFiZWw9e2Rvd25VcH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyA8RG93bk91dGxpbmVkIHNpemU9J3MnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogPFVwT3V0bGluZWQgc2l6ZT0ncycgLz5cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc21hbGwtZG9uZS1idG4nPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW4gJiZcbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMub25GaW5pc2h9IHR5cGU9J3ByaW1hcnknIGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSB3LTEwMCcgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2RvbmV9IGFyaWEtbGFiZWw9e2RvbmV9IHJlZj17dGhpcy5kb25lQnRuUmVmfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb25lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW4gJiZcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhZGRlZC1kcy1pdGVtcyc+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERzcy5tYXAoKGRzSnNvbiwgaSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdGVkRGF0YVNvdXJjZUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9IHJvb3REc0pzb249e2RzSnNvbn0gZHNKc29uPXtkc0pzb259IHJvb3REc0xhYmVsPXt0aGlzLmdldFJvb3REc0xhYmVsKGRzSnNvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNTZWxlY3RlZERhdGFDb2xsYXBzZU9wZW4gJiZcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdiaWctZG9uZS1idG4gdy0xMDAgcHgtNCc+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5vbkZpbmlzaH0gdHlwZT0ncHJpbWFyeScgY2xhc3NOYW1lPSd0ZXh0LXRydW5jYXRlIHctMTAwJyBkaXNhYmxlZD17IXRoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2RvbmV9IGFyaWEtbGFiZWw9e2RvbmV9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9uZX1cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNMb2FkZWQgJiYgPExvYWRpbmcgdHlwZT17TG9hZGluZ1R5cGUuUHJpbWFyeX0gLz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxUb2FzdCB0ZXh0PXt0aGlzLnN0YXRlLmVycm9yTXNnfSB0eXBlPXtUb2FzdFR5cGUuRXJyb3J9IG9wZW49e3RoaXMuc3RhdGUuaXNUb2FzdE9wZW59Lz5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRXh0ZXJuYWxEYXRhU291cmNlU2VsZWN0b3IgPSBpbmplY3RJbnRsPG51bGwsIEV4dGVybmFsRGF0YVNvdXJjZVNlbGVjdG9yUHJvcHM+KHdpdGhTdHlsZXMoX0V4dGVybmFsRGF0YVNvdXJjZVNlbGVjdG9yLCAnRXh0ZXJuYWxEYXRhU291cmNlU2VsZWN0b3InKSlcbiIsImltcG9ydCB7XG4gIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgZGF0YVNvdXJjZVV0aWxzLCB0eXBlIFNlcnZpY2VEZWZpbml0aW9uLFxuICBTZXJ2aWNlTWFuYWdlciwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlTWVzc2FnZXMsIHR5cGUgSW50bFNoYXBlLCByZXF1ZXN0VXRpbHMsIHR5cGUgRGF0YVNvdXJjZSwgZXNyaVxufSBmcm9tICdqaW11LWNvcmUnXG5cbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBlZGl0RGF0YVNvdXJjZUpzb24gfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IGRhdGFTb3VyY2VKc29uQ3JlYXRvciB9IGZyb20gJ2ppbXUtY29yZS9kYXRhLXNvdXJjZSdcblxuZXhwb3J0IGVudW0gQWRkRGF0YUVycm9yQ29kZSB7XG4gIERhdGFUeXBlSXNOb3RTdXBwb3J0ZWQgPSAnREFUQV9UWVBFX0lTX05PVF9TVVBQT1JURURfWUVUJyxcbiAgSXRlbUluYWNjZXNzaWJsZSA9ICdJVEVNX0lOQUNDRVNTSUJMRScsXG4gIFNjZW5lTGF5ZXJXaXRob3V0QXNzb2NpYXRlZExheWVyID0gJ1NDRU5FX0xBWUVSX1dJVEhPVVRfQVNTT0NJQVRFRF9MQVlFUicsXG4gIFdlYk1hcFVuc3VwcG9ydGVkVmVyc2lvbiA9ICdXRUJNQVA6VU5TVVBQT1JURUQtVkVSU0lPTidcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yVGV4dEZyb21FcnJvckNvZGUgKGVycm9yQ29kZTogQWRkRGF0YUVycm9yQ29kZSwgaW50bDogSW50bFNoYXBlKTogc3RyaW5nIHtcbiAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICBjYXNlIEFkZERhdGFFcnJvckNvZGUuRGF0YVR5cGVJc05vdFN1cHBvcnRlZDpcbiAgICAgIHJldHVybiBpbnRsPy5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGREYXRhRXJyb3JOb3RTdXBwb3J0ZWQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmFkZERhdGFFcnJvck5vdFN1cHBvcnRlZCB9KVxuICAgIGNhc2UgQWRkRGF0YUVycm9yQ29kZS5TY2VuZUxheWVyV2l0aG91dEFzc29jaWF0ZWRMYXllcjpcbiAgICAgIHJldHVybiBpbnRsPy5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdhZGREYXRhRXJyb3JJbnZhbGlkU2NlbmVMYXllcicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuYWRkRGF0YUVycm9ySW52YWxpZFNjZW5lTGF5ZXIgfSlcbiAgICBjYXNlIEFkZERhdGFFcnJvckNvZGUuV2ViTWFwVW5zdXBwb3J0ZWRWZXJzaW9uOlxuICAgICAgcmV0dXJuIGludGw/LmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2FkZERhdGFFcnJvclVuc3VwcG9ydGVkTWFwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5hZGREYXRhRXJyb3JVbnN1cHBvcnRlZE1hcCB9KVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gaW50bD8uZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW52YWxpZFJlc291cmNlSXRlbScsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZU1lc3NhZ2VzLmludmFsaWRSZXNvdXJjZUl0ZW0gfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHNKc29uRnJvbVNlcnZpY2UgKHVybDogc3RyaW5nLCBkc0lkOiBzdHJpbmcsIHBvcnRhbFVybD86IHN0cmluZywgaXRlbUlkPzogc3RyaW5nKTogUHJvbWlzZTx7IGRzSnNvbjogSU1EYXRhU291cmNlSnNvbiwgbGFiZWw6IHN0cmluZyB9PiB7XG4gIGlmICghdXJsIHx8ICFkc0lkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEFkZERhdGFFcnJvckNvZGUuSXRlbUluYWNjZXNzaWJsZSlcbiAgfVxuXG4gIHVybCA9IHVybC5yZXBsYWNlKC9eaHR0cDovLCAnaHR0cHM6JylcbiAgcmV0dXJuIHJlcXVlc3RVdGlscy5yZXF1ZXN0V3JhcHBlcih1cmwsIHNlc3Npb24gPT4ge1xuICAgIHJldHVybiBlc3JpLnJlc3RSZXF1ZXN0LnJlcXVlc3QodXJsLCB7XG4gICAgICBhdXRoZW50aWNhdGlvbjogc2Vzc2lvbixcbiAgICAgIGh0dHBNZXRob2Q6ICdHRVQnXG4gICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICByZXR1cm4gU2VydmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mZXRjaFNlcnZpY2VJbmZvKHVybClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBjb25zdCBzZXJ2aWNlRGVmaW5pdGlvbjogU2VydmljZURlZmluaXRpb24gPSByZXMuZGVmaW5pdGlvblxuXG4gICAgICAgICAgaWYgKCFzZXJ2aWNlRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEFkZERhdGFFcnJvckNvZGUuSXRlbUluYWNjZXNzaWJsZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZHNKc29uOiBJTURhdGFTb3VyY2VKc29uID0gZGF0YVNvdXJjZUpzb25DcmVhdG9yLmNyZWF0ZURhdGFTb3VyY2VKc29uQnlMYXllckRlZmluaXRpb24oZHNJZCwgc2VydmljZURlZmluaXRpb24sIHVybClcbiAgICAgICAgICBkc0pzb24gPSBhZGRJdGVtSW5mb1RvRHNKc29uKGRzSnNvbiwgcG9ydGFsVXJsLCBpdGVtSWQpXG5cbiAgICAgICAgICByZXR1cm4geyBkc0pzb24sIGxhYmVsOiBzZXJ2aWNlRGVmaW5pdGlvbi5uYW1lIHx8IGRhdGFTb3VyY2VVdGlscy5nZXRMYWJlbEZyb21BcmNHSVNTZXJ2aWNlVXJsKHVybCkgfVxuICAgICAgICB9KVxuICAgIH0pXG4gIH0sIDEpXG59XG5cbmZ1bmN0aW9uIGFkZEl0ZW1JbmZvVG9Ec0pzb24gKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbiwgcG9ydGFsVXJsPzogc3RyaW5nLCBpdGVtSWQ/OiBzdHJpbmcpOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgaWYgKCFkc0pzb24pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHBvcnRhbFVybCkge1xuICAgIGRzSnNvbiA9IGRzSnNvbi5zZXQoJ3BvcnRhbFVybCcsIHBvcnRhbFVybClcbiAgfVxuICBpZiAoaXRlbUlkKSB7XG4gICAgZHNKc29uID0gZHNKc29uLnNldCgnaXRlbUlkJywgaXRlbUlkKVxuICB9XG4gIHJldHVybiBkc0pzb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlSGlkZUNoaWxkRHMgKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgaWYgKCFkYXRhU291cmNlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBkc0pzb24gPSBkYXRhU291cmNlLmdldERhdGFTb3VyY2VKc29uKClcbiAgZHNKc29uID0gZHNKc29uLnNldCgnaXNIaWRkZW4nLCB0cnVlKVxuICByZXR1cm4gZWRpdERhdGFTb3VyY2VKc29uKGRzSnNvbilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlVW5oaWRlUGFyZW50RHMgKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgaWYgKCFkYXRhU291cmNlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBkc0pzb24gPSBkYXRhU291cmNlLmdldERhdGFTb3VyY2VKc29uKClcbiAgZHNKc29uID0gZHNKc29uLnNldCgnaXNIaWRkZW4nLCBmYWxzZSlcbiAgcmV0dXJuIGVkaXREYXRhU291cmNlSnNvbihkc0pzb24pXG59XG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcywgcG9saXNoZWQsIHR5cGUgSU1GaWVsZFNjaGVtYSwgdHlwZSBEYXRhU291cmNlLCBJbW11dGFibGUsIFJlYWN0UmVkdXgsIHR5cGUgSU1TdGF0ZSwgcmVxdWVzdFV0aWxzLCB0eXBlIEZlYXR1cmVMYXllckRhdGFTb3VyY2UsIEppbXVGaWVsZFR5cGUsIERhdGFTb3VyY2VNYW5hZ2VyLCBFc3JpRmllbGRUeXBlLCBob29rcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEZpZWxkU2VsZWN0b3IsIHR5cGUgRmllbGRTZWxlY3RvclByb3BzIH0gZnJvbSAnLi9maWVsZC1zZWxlY3RvcidcbmltcG9ydCAqIGFzIHJlc3RSZXF1ZXN0IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXJlcXVlc3QnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuY29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSA9IFJlYWN0XG5cbmV4cG9ydCBlbnVtIEFkZERlZmluaXRpb25TdGF0dXMge1xuICBTdWNjZXNzID0gJ1NVQ0NFU1MnLFxuICBFcnJvciA9ICdFUlJPUidcbn1cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgRmllbGRTZWxlY3RvclByb3BzIHtcbiAgd2lkZ2V0SWQ6IHN0cmluZ1xuICBhZGREZWZpbml0aW9uU3RhdHVzQ2hhbmdlPzogKHN0YXR1czogQWRkRGVmaW5pdGlvblN0YXR1cykgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgRmllbGRTZWxlY3RvcldpdGhGdWxsVGV4dEluZGV4ID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICBjb25zdCBoYWRVcGRhdGVEZWZhdWx0SW5kZXhlcyA9IHVzZVJlZjxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgYXBwSWQgPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4gc3RhdGU/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBJZClcbiAgY29uc3QgbmxzID0gaG9va3MudXNlVHJhbnNsYXRpb24oZGVmYXVsdE1lc3NhZ2VzKVxuXG4gIGNvbnN0IHsgd2lkZ2V0SWQsIHVzZURhdGFTb3VyY2VzLCBzZWxlY3RlZEZpZWxkcywgYWRkRGVmaW5pdGlvblN0YXR1c0NoYW5nZSwgb25DaGFuZ2UgfSA9IHByb3BzXG4gIGNvbnN0IFtzaG93TG9hZGluZywgc2V0U2hvd0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFthbGxTZWxlY3RlZEZpZWxkcywgc2V0QWxsU2VsZWN0ZWRGaWVsZHNdID0gdXNlU3RhdGUobnVsbCBhcyBJTUZpZWxkU2NoZW1hW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWhhZFVwZGF0ZURlZmF1bHRJbmRleGVzLmN1cnJlbnQgJiYgc2VsZWN0ZWRGaWVsZHMpIHtcbiAgICAgIGNvbnN0IG5ld1NlbGVjdGVkRmllbGRzID0gZ2V0RmllbGRTY2hlbWEoc2VsZWN0ZWRGaWVsZHMgYXMgYW55KVxuICAgICAgc2V0QWxsU2VsZWN0ZWRGaWVsZHMobmV3U2VsZWN0ZWRGaWVsZHMpXG4gICAgICBoYWRVcGRhdGVEZWZhdWx0SW5kZXhlcy5jdXJyZW50ID0gdHJ1ZVxuICAgICAgYWRkSW5kZXhlc0ZvckRzKG5ld1NlbGVjdGVkRmllbGRzKVxuICAgIH1cbiAgfSwgW3NlbGVjdGVkRmllbGRzXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhZGRJbmRleGVzRm9yRHMoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgZ2V0RmllbGRTY2hlbWEgPSAoc2VsZWN0ZWRGaWVsZHM6IHN0cmluZ1tdKTogSU1GaWVsZFNjaGVtYVtdID0+IHtcbiAgICBjb25zdCBkcyA9IGdldERzKClcbiAgICBpZiAoIWRzIHx8ICFzZWxlY3RlZEZpZWxkcykgcmV0dXJuIFtdXG4gICAgY29uc3QgZmllbGRzID0gZHM/LmdldFNjaGVtYSgpPy5maWVsZHMgfHwge31cbiAgICBjb25zdCBmaWVsZFNjaGVtYSA9IFtdIGFzIElNRmllbGRTY2hlbWFbXVxuICAgIGZvciAoY29uc3QgamltdU5hbWUgaW4gZmllbGRzKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRGaWVsZHMuaW5jbHVkZXMoZmllbGRzW2ppbXVOYW1lXS5uYW1lKSkge1xuICAgICAgICBmaWVsZFNjaGVtYS5wdXNoKEltbXV0YWJsZShmaWVsZHNbamltdU5hbWVdKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkU2NoZW1hXG4gIH1cblxuICBjb25zdCBnZXRDdXJyZW50U2VydmljZUluZGV4ZXMgPSBhc3luYyAoKTogUHJvbWlzZTxhbnlbXT4gPT4ge1xuICAgIGNvbnN0IGRzID0gZ2V0RHMoKVxuICAgIGNvbnN0IGRzVXJsID0gZHMuZ2V0RGF0YVNvdXJjZUpzb24oKS51cmxcbiAgICByZXR1cm4gcmVxdWVzdFV0aWxzLnJlcXVlc3RXcmFwcGVyKGRzVXJsLCBhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgcmV0dXJuIHJlc3RSZXF1ZXN0LnJlcXVlc3QoZHNVcmwsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgZjogJ2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0aW9uOiBzZXNzaW9uLFxuICAgICAgICBodHRwTWV0aG9kOiAnR0VUJ1xuICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBpbmRleGVzID0gcmVzPy5pbmRleGVzIHx8IFtdXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5kZXhlcylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IG9uRmllbGRDaGFuZ2UgPSBob29rcy51c2VFdmVudENhbGxiYWNrKChhbGxTZWxlY3RlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdLCBkczogRGF0YVNvdXJjZSwgaXNTZWxlY3RlZEZyb21SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0OiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgc2V0QWxsU2VsZWN0ZWRGaWVsZHMoYWxsU2VsZWN0ZWRGaWVsZHMpXG4gICAgb25DaGFuZ2UgJiYgb25DaGFuZ2UoYWxsU2VsZWN0ZWRGaWVsZHMsIGRzLCBpc1NlbGVjdGVkRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHQpXG4gIH0pXG5cbiAgY29uc3QgYWRkVG9EZWZpbml0aW9uRm9yRHMgPSBhc3luYyAoZmllbGRzOiBJTUZpZWxkU2NoZW1hW10sIGRzOiBEYXRhU291cmNlKSA9PiB7XG4gICAgaWYgKCFmaWVsZHMgfHwgZmllbGRzPy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IGRzVXJsID0gZHMuZ2V0RGF0YVNvdXJjZUpzb24oKS51cmxcbiAgICBjb25zdCBpbmRleGVzID0gZ2V0aW5kZXhlc0J5RmllbGQoZmllbGRzKVxuXG4gICAgaWYgKCFpbmRleGVzIHx8IGluZGV4ZXM/Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlXG5cbiAgICBzZXRTaG93TG9hZGluZyh0cnVlKVxuICAgIGF3YWl0IHJlcXVlc3RVdGlscy5yZXF1ZXN0V3JhcHBlcihkc1VybCwgYXN5bmMgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBhZG1pblVybFJlZ0V4cCA9IC9yZXN0XFwvc2VydmljZXMvZ1xuICAgICAgbGV0IGFkZFRvRGVmaW5pdGlvblVybCA9IGAke2RzVXJsfS9hZGRUb0RlZmluaXRpb25gXG4gICAgICBhZGRUb0RlZmluaXRpb25VcmwgPSBhZGRUb0RlZmluaXRpb25VcmwucmVwbGFjZShhZG1pblVybFJlZ0V4cCwgJ3Jlc3QvYWRtaW4vc2VydmljZXMnKVxuICAgICAgYXdhaXQgcmVzdFJlcXVlc3QucmVxdWVzdChhZGRUb0RlZmluaXRpb25VcmwsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgZjogJ2pzb24nLFxuICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgIGFkZFRvRGVmaW5pdGlvbjogeyBpbmRleGVzOiBpbmRleGVzIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRpb246IHNlc3Npb24sXG4gICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJ1xuICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzPy5lcnJvcikge1xuICAgICAgICAgIGFkZERlZmluaXRpb25TdGF0dXNDaGFuZ2UgJiYgYWRkRGVmaW5pdGlvblN0YXR1c0NoYW5nZShBZGREZWZpbml0aW9uU3RhdHVzLkVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZERlZmluaXRpb25TdGF0dXNDaGFuZ2UgJiYgYWRkRGVmaW5pdGlvblN0YXR1c0NoYW5nZShBZGREZWZpbml0aW9uU3RhdHVzLlN1Y2Nlc3MpXG4gICAgICAgICAgdXBkYXRlRHNEZWZpbml0aW9uKGluZGV4ZXMpXG4gICAgICAgIH1cbiAgICAgICAgc2V0U2hvd0xvYWRpbmcoZmFsc2UpXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBhZGREZWZpbml0aW9uU3RhdHVzQ2hhbmdlICYmIGFkZERlZmluaXRpb25TdGF0dXNDaGFuZ2UoQWRkRGVmaW5pdGlvblN0YXR1cy5FcnJvcilcbiAgICAgICAgc2V0U2hvd0xvYWRpbmcoZmFsc2UpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjb25zdCB1cGRhdGVEc0RlZmluaXRpb24gPSBhc3luYyAobmV3SW5kZXhlczogYW55W10gPSBbXSkgPT4ge1xuICAgIGNvbnN0IGRzID0gZ2V0RHMoKVxuICAgIGNvbnN0IGRlZmluaXRpb24gPSBkcy5nZXRMYXllckRlZmluaXRpb24oKVxuICAgIGxldCBpbmRleGVzID0gZGVmaW5pdGlvbj8uaW5kZXhlcyB8fCBbXVxuICAgIGluZGV4ZXMgPSBpbmRleGVzLmNvbmNhdChuZXdJbmRleGVzKVxuICAgIGNvbnN0IG5ld0RlZmluaXRpb24gPSB7XG4gICAgICAuLi5kZWZpbml0aW9uLFxuICAgICAgaW5kZXhlc1xuICAgIH1cbiAgICBkcy5zZXRMYXllckRlZmluaXRpb24obmV3RGVmaW5pdGlvbilcbiAgfVxuXG4gIGNvbnN0IGdldEN1cnJlbnREc0luZGV4ZXNGaWVsZCA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZ1tdPiA9PiB7XG4gICAgbGV0IGluZGV4ZXNGaWVsZCA9IFtdXG4gICAgcmV0dXJuIGdldEN1cnJlbnRTZXJ2aWNlSW5kZXhlcygpLnRoZW4oaW5kZXhlcyA9PiB7XG4gICAgICBpbmRleGVzPy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5maWVsZHMgJiYgaXRlbT8uaW5kZXhUeXBlID09PSAnRnVsbFRleHQnKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudEZpZWxkcyA9IGl0ZW0uZmllbGRzPy5zcGxpdCgnLCAnKSB8fCBbXVxuICAgICAgICAgIGluZGV4ZXNGaWVsZCA9IGluZGV4ZXNGaWVsZC5jb25jYXQoY3VycmVudEZpZWxkcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5kZXhlc0ZpZWxkKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBnZXRTaG91bGRBZGRJbmRleEZpZWxkcyA9IGFzeW5jIChmaWVsZHM6IElNRmllbGRTY2hlbWFbXSkgPT4ge1xuICAgIGlmICghZmllbGRzKSByZXR1cm4gW11cbiAgICByZXR1cm4gZ2V0Q3VycmVudERzSW5kZXhlc0ZpZWxkKCkudGhlbihpbmRleGVzRmllbGQgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkQWRkSW5kZXhGaWVsZHMgPSBmaWVsZHMuZmlsdGVyKGZpZWxkID0+ICFpbmRleGVzRmllbGQ/LmluY2x1ZGVzKGZpZWxkLm5hbWUpKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzaG91bGRBZGRJbmRleEZpZWxkcylcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgZ2V0aW5kZXhlc0J5RmllbGQgPSAoYWxsU2VsZWN0ZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSk6IGFueVtdID0+IHtcbiAgICBjb25zdCBpbmRleGVzID0gW11cbiAgICBhbGxTZWxlY3RlZEZpZWxkcy5mb3JFYWNoKGZpZWxkcyA9PiB7XG4gICAgICBpZiAoZmllbGRzLmVzcmlUeXBlICE9PSBFc3JpRmllbGRUeXBlLkdsb2JhbElEICYmIGZpZWxkcy50eXBlID09PSBKaW11RmllbGRUeXBlLlN0cmluZykge1xuICAgICAgICBpbmRleGVzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IGBleGItJHthcHBJZH0tJHt3aWRnZXRJZH0tJHtmaWVsZHMubmFtZX1gLFxuICAgICAgICAgIGZpZWxkczogYCR7ZmllbGRzLm5hbWV9YFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgY29uc3QgdG90YWxJbmRleCA9IHtcbiAgICAgIG5hbWU6IGBleGItJHthcHBJZH0tJHt3aWRnZXRJZH0tJHthbGxTZWxlY3RlZEZpZWxkcz8uWzBdPy5uYW1lfWAsXG4gICAgICBmaWVsZHM6IGFsbFNlbGVjdGVkRmllbGRzPy5tYXAoZmllbGQgPT4gZmllbGQubmFtZSk/LmpvaW4oJywgJyksXG4gICAgICBpbmRleFR5cGU6ICdGdWxsVGV4dCdcbiAgICB9XG4gICAgaW5kZXhlcy5wdXNoKHRvdGFsSW5kZXgpXG4gICAgcmV0dXJuIGluZGV4ZXNcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZURyb3Bkb3duID0gKGlzT3BlbjogYm9vbGVhbikgPT4ge1xuICAgIGlmIChpc09wZW4pIHJldHVybiBmYWxzZVxuICAgIGFkZEluZGV4ZXNGb3JEcygpXG4gIH1cblxuICBjb25zdCBnZXREcyA9ICgpOiBGZWF0dXJlTGF5ZXJEYXRhU291cmNlID0+IHtcbiAgICBjb25zdCBkc0lkID0gdXNlRGF0YVNvdXJjZXNbMF0/LmRhdGFTb3VyY2VJZFxuICAgIGNvbnN0IGRzTWFuYWdlciA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgICByZXR1cm4gZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UoZHNJZCkgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxuICB9XG5cbiAgY29uc3QgYWRkSW5kZXhlc0ZvckRzID0gYXN5bmMgKHNlbGVjdGVkRmllbGRzPzogSU1GaWVsZFNjaGVtYVtdKSA9PiB7XG4gICAgY29uc3QgZHMgPSBnZXREcygpXG4gICAgY29uc3Qgc3VwcG9ydHNGdWxsVGV4dFNlYXJjaCA9IChkcz8uZ2V0TGF5ZXJEZWZpbml0aW9uKCk/LmFkdmFuY2VkUXVlcnlDYXBhYmlsaXRpZXMgYXMgYW55KT8uc3VwcG9ydHNGdWxsVGV4dFNlYXJjaFxuXG4gICAgaWYgKHN1cHBvcnRzRnVsbFRleHRTZWFyY2gpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RlZEZpZWxkcyA9IHNlbGVjdGVkRmllbGRzIHx8IGFsbFNlbGVjdGVkRmllbGRzXG4gICAgICBjb25zdCBmaWVsZHMgPSBhd2FpdCBnZXRTaG91bGRBZGRJbmRleEZpZWxkcyhjdXJyZW50U2VsZWN0ZWRGaWVsZHMpXG4gICAgICBhZGRUb0RlZmluaXRpb25Gb3JEcyhmaWVsZHMsIGRzKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IFNUWUxFID0gY3NzYFxuICAgIC5sb2FkaW5nIHtcbiAgICAgIG1hcmdpbi10b3A6ICR7cG9saXNoZWQucmVtKDYpfTtcbiAgICAgIGNvbG9yOiB2YXIoLS1kYXJrLTQwMCk7XG4gICAgICBhbGlnblxuICAgIH1cbiAgICAubG9hZGluZy1tc2cge1xuICAgICAgbWFyZ2luLWxlZnQ6ICR7cG9saXNoZWQucmVtKDEwKX07XG4gICAgfVxuICAgIC5sb2FkaW5nLWljb24tY29uIHtcbiAgICAgIEBrZXlmcmFtZXMgbG9hZGluZyB7XG4gICAgICAgIDAlIHt0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfTtcbiAgICAgICAgMTAwJSB7dHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKX07XG4gICAgICB9XG4gICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgIG1pbi13aWR0aDogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWRhcmstMzAwKTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LTUwMCk7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYW5pbWF0aW9uOmxvYWRpbmcgMnMgaW5maW5pdGUgbGluZWFyO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG4gIGBcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdmaWVsZC1zZWxlY3Rvci13aXRoLWZ1bGwtdGV4dC1pbmRleC1jb24gdy0xMDAnIGNzcz17U1RZTEV9PlxuICAgICAgPEZpZWxkU2VsZWN0b3Igey4uLnByb3BzfSBvbkNoYW5nZT17b25GaWVsZENoYW5nZX0gdG9nZ2xlPXt0b2dnbGVEcm9wZG93bn0vPlxuICAgICAge3Nob3dMb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPSdsb2FkaW5nIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1pY29uLWNvbicvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1tc2cnPlxuICAgICAgICAgIHtubHMoJ2NyZWF0aW5nSW5kZXhlcycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgRmllbGRTY2hlbWEsIHR5cGUgSU1GaWVsZFNjaGVtYSwgdHlwZSBEYXRhU291cmNlLCBjbGFzc05hbWVzLCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCB0eXBlIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbiB9IGZyb20gJ2ppbXUtdWknXG5cbmltcG9ydCB7IGdldEljb25Gcm9tRmllbGRUeXBlLCBOT19TRUxFQ1RJT05fSUQgfSBmcm9tICcuLi91dGlscydcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG4gIGZpZWxkczogSW1tdXRhYmxlT2JqZWN0PHsgW2ppbXVOYW1lOiBzdHJpbmddOiBGaWVsZFNjaGVtYSB9PlxuICBkczogRGF0YVNvdXJjZVxuICBzZWxlY3RlZEZpZWxkcz86IEltbXV0YWJsZUFycmF5PHN0cmluZz5cbiAgaXNNdWx0aXBsZT86IGJvb2xlYW5cbiAgb25GaWVsZENsaWNrOiAoY2xpY2tlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGlzT3BlbjogYm9vbGVhblxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25MaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzT3BlbjogZmFsc2VcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMucHJvcHMuZmllbGRzXG4gICAgaWYgKCFmaWVsZHMgfHwgIXRoaXMucHJvcHMuZHMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IG5vU2VsZWN0aW9uSWQgPSBmaWVsZHNbTk9fU0VMRUNUSU9OX0lEXSA/IFtOT19TRUxFQ1RJT05fSURdIDogW11cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZpZWxkLWxpc3QgcHgtNCcgcm9sZT0nbWVudSc+XG4gICAgICAgIHtcbiAgICAgICAgICBmaWVsZHMgJiYgbm9TZWxlY3Rpb25JZC5jb25jYXQoT2JqZWN0LmtleXMoZmllbGRzKS5maWx0ZXIoZmllbGRJZCA9PiBmaWVsZElkICE9PSBOT19TRUxFQ1RJT05fSUQpKS5tYXAoZmllbGRJZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpY29uQW5kQ29sb3IgPSBnZXRJY29uRnJvbUZpZWxkVHlwZShmaWVsZHNbZmllbGRJZF0udHlwZSwgdGhpcy5wcm9wcy50aGVtZSwgdGhpcy5wcm9wcy5pbnRsKVxuICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMgJiYgKHRoaXMucHJvcHMuaXNNdWx0aXBsZVxuICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMuc29tZShuYW1lID0+IG5hbWUgPT09IGZpZWxkSWQpXG4gICAgICAgICAgICAgIDogZmllbGRJZCA9PT0gdGhpcy5wcm9wcy5zZWxlY3RlZEZpZWxkc1swXSlcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZmllbGRzW2ZpZWxkSWRdLmFsaWFzIHx8IGZpZWxkc1tmaWVsZElkXS5uYW1lXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgcm9sZT17YG1lbnVpdGVtJHt0aGlzLnByb3BzLmlzTXVsdGlwbGUgPyAnY2hlY2tib3gnIDogJ3JhZGlvJ31gfSB0aXRsZT17bGFiZWx9IGFyaWEtY2hlY2tlZD17aXNTZWxlY3RlZH0gYXJpYS1sYWJlbD17YCR7aWNvbkFuZENvbG9yPy50aXRsZX0gJHtsYWJlbH1gfVxuICAgICAgICAgICAgICAgIGtleT17ZmllbGRJZH0gb25DbGljaz17KCkgPT4geyB0aGlzLnByb3BzLm9uRmllbGRDbGljayhbZmllbGRzW2ZpZWxkSWRdXSkgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ZpZWxkLWl0ZW0gbXQtMiBweS0xIHB4LTIgZC1mbGV4IHctMTAwIGFsaWduLWl0ZW1zLWNlbnRlcicsIHtcbiAgICAgICAgICAgICAgICAgICdmaWVsZC1pdGVtLXNlbGVjdGVkJzogaXNTZWxlY3RlZFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2ljb25BbmRDb2xvciAmJiA8SWNvbiBpY29uPXtpY29uQW5kQ29sb3IuaWNvbn0gY29sb3I9e2ljb25BbmRDb2xvci5jb2xvcn0gY2xhc3NOYW1lPSdtci0yIGZsZXgtc2hyaW5rLTAnIHNpemU9ezE2fSAvPn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgdGV4dC10cnVuY2F0ZSc+XG4gICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgRmllbGRTY2hlbWEsIHR5cGUgSU1GaWVsZFNjaGVtYSwgdHlwZSBEYXRhU291cmNlLCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCB0eXBlIENsYXVzZVZhbHVlUGFpciwgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBJY29uLCB0eXBlIFNlbGVjdFByb3BzLCBBZHZhbmNlZFNlbGVjdCwgdHlwZSBBZHZhbmNlZFNlbGVjdEl0ZW0gfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBnZXRJY29uRnJvbUZpZWxkVHlwZSwgTk9fU0VMRUNUSU9OX0lEIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xuICBmaWVsZHM6IEltbXV0YWJsZU9iamVjdDx7IFtqaW11TmFtZTogc3RyaW5nXTogRmllbGRTY2hlbWEgfT5cbiAgZHM6IERhdGFTb3VyY2VcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgZHJvcGRvd25Qcm9wcz86IFNlbGVjdFByb3BzXG4gIHNlbGVjdGVkRmllbGRzPzogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBpc011bHRpcGxlPzogYm9vbGVhblxuICB1c2VNdWx0aURyb3Bkb3duQm90dG9tVG9vbHM/OiBib29sZWFuXG4gIGlzU2VhcmNoSW5wdXRIaWRkZW4/OiBib29sZWFuXG4gIG9uRmllbGRDbGljazogKGNsaWNrZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSkgPT4gdm9pZFxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0b2dnbGluZyB0aGUgc2VsZWN0IG1lbnUuXG4gICAqL1xuICB0b2dnbGU/OiAoaXNPcGVuPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aXBsZURyb3Bkb3duTGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcbiAgZHJvcGRvd25Qcm9wcyA9IHtcbiAgICBhdXRvV2lkdGg6IHRydWVcbiAgfVxuXG4gIHdpZHRoRm9yRHJvcGRvd25JdGVtID0geyB3aWR0aDogJ2NhbGMoMTAwJSAtIDIwcHgpJyB9XG4gIHdpZHRoRm9yRHJvcGRvd25JdGVtTGFiZWwgPSB7IHdpZHRoOiAnY2FsYygxMDAlIC0gMTBweCknIH1cblxuICBvbkNoYW5nZSA9IChzZWxlY3RlZEZpZWxkUGFpcnM6IENsYXVzZVZhbHVlUGFpcltdKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY29uc3QgcHJldlNlbGVjdGVkRmllbGRzID0gKHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHM/LmFzTXV0YWJsZSgpIHx8IFtdKSBhcyBzdHJpbmdbXVxuICAgIGNvbnN0IHNlbGVjdGVkRmllbGRzID0gKHNlbGVjdGVkRmllbGRQYWlycz8ubWFwKHAgPT4gcC52YWx1ZSkgfHwgW10pIGFzIHN0cmluZ1tdXG4gICAgbGV0IGxvbmdlclNlbGVjdGVkID0gc2VsZWN0ZWRGaWVsZHNcbiAgICBsZXQgc2hvcnRlclNlbGVjdGVkID0gcHJldlNlbGVjdGVkRmllbGRzXG4gICAgaWYgKHByZXZTZWxlY3RlZEZpZWxkcy5sZW5ndGggPiBzZWxlY3RlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIGxvbmdlclNlbGVjdGVkID0gcHJldlNlbGVjdGVkRmllbGRzXG4gICAgICBzaG9ydGVyU2VsZWN0ZWQgPSBzZWxlY3RlZEZpZWxkc1xuICAgIH1cbiAgICBjb25zdCBjbGlja2VkRmllbGRzID0gbG9uZ2VyU2VsZWN0ZWQuZmlsdGVyKGxKaW11TmFtZSA9PiAhc2hvcnRlclNlbGVjdGVkLnNvbWUoc0ppbXVOYW1lID0+IHNKaW11TmFtZSA9PT0gbEppbXVOYW1lKSlcbiAgICB0aGlzLnByb3BzLm9uRmllbGRDbGljayhjbGlja2VkRmllbGRzLm1hcChmID0+IHRoaXMucHJvcHMuZmllbGRzW2ZdKSlcbiAgfVxuXG4gIGdldEZpZWxkcyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5maWVsZHMpIHtcbiAgICAgIGNvbnN0IHJlcyA9IFtdXG4gICAgICBjb25zdCBub1NlbGVjdGlvbklkID0gdGhpcy5wcm9wcy5maWVsZHNbTk9fU0VMRUNUSU9OX0lEXSA/IFtOT19TRUxFQ1RJT05fSURdIDogW11cbiAgICAgIG5vU2VsZWN0aW9uSWQuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucHJvcHMuZmllbGRzKS5maWx0ZXIoZmllbGRJZCA9PiBmaWVsZElkICE9PSBOT19TRUxFQ1RJT05fSUQpKS5mb3JFYWNoKGZpZWxkSWQgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZEl0ZW0gPSB0aGlzLmdldEZpZWxkSXRlbShmaWVsZElkKVxuICAgICAgICByZXMucHVzaChmaWVsZEl0ZW0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGdldFNlbGVjdGVkRmllbGRzID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmZpZWxkcyAmJiB0aGlzLnByb3BzLnNlbGVjdGVkRmllbGRzKSB7XG4gICAgICBjb25zdCByZXM6IEFkdmFuY2VkU2VsZWN0SXRlbVtdID0gW11cbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMuZmlsdGVyKGZpZWxkSWQgPT4gISF0aGlzLnByb3BzLmZpZWxkc1tmaWVsZElkXSkuZm9yRWFjaChmaWVsZElkID0+IHtcbiAgICAgICAgY29uc3QgZmllbGRJdGVtID0gdGhpcy5nZXRGaWVsZEl0ZW0oZmllbGRJZClcbiAgICAgICAgcmVzLnB1c2goZmllbGRJdGVtKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNcbiAgICB9XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBnZXRGaWVsZEl0ZW0gPSAoZmllbGRJZCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5wcm9wcy5maWVsZHNbZmllbGRJZF0/LmFsaWFzIHx8IHRoaXMucHJvcHMuZmllbGRzW2ZpZWxkSWRdPy5uYW1lXG4gICAgY29uc3QgaWNvbkFuZENvbG9yID0gZ2V0SWNvbkZyb21GaWVsZFR5cGUodGhpcy5wcm9wcy5maWVsZHNbZmllbGRJZF0/LnR5cGUsIHRoaXMucHJvcHMudGhlbWUsIHRoaXMucHJvcHMuaW50bClcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGZpZWxkSWQsXG4gICAgICBsYWJlbCxcbiAgICAgIHJlbmRlcjogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LXN0YXJ0IGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3RoaXMud2lkdGhGb3JEcm9wZG93bkl0ZW19IGFyaWEtbGFiZWw9e2Ake2ljb25BbmRDb2xvcj8udGl0bGV9ICR7bGFiZWx9YH0+XG4gICAgICAgICAgICB7aWNvbkFuZENvbG9yICYmIDxJY29uIGljb249e2ljb25BbmRDb2xvci5pY29ufSBjb2xvcj17aWNvbkFuZENvbG9yLmNvbG9yfSBjbGFzc05hbWU9J2QtaW5saW5lLWJsb2NrIG1yLTInIHNpemU9ezE2fSAvPn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXRydW5jYXRlJyBzdHlsZT17dGhpcy53aWR0aEZvckRyb3Bkb3duSXRlbUxhYmVsfSB0aXRsZT17bGFiZWx9PntsYWJlbH08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUFkdmFuY2VkU2VsZWN0ID0gKGlzT3BlbjogYm9vbGVhbikgPT4ge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlICYmIHRoaXMucHJvcHMudG9nZ2xlKGlzT3BlbilcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmZpZWxkcyB8fCAhdGhpcy5wcm9wcy5kcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkcm9wZG93blByb3BzID0gdGhpcy5wcm9wcy5kcm9wZG93blByb3BzID8geyAuLi50aGlzLnByb3BzLmRyb3Bkb3duUHJvcHMsIC4uLnRoaXMuZHJvcGRvd25Qcm9wcyB9IDogdGhpcy5kcm9wZG93blByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxBZHZhbmNlZFNlbGVjdFxuICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgIHsuLi5kcm9wZG93blByb3BzfSBmbHVpZFxuICAgICAgICAgIHN0YXRpY1ZhbHVlcz17dGhpcy5nZXRGaWVsZHMoKX1cbiAgICAgICAgICBzb3J0VmFsdWVzQnlMYWJlbD17ZmFsc2V9XG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZXM9e3RoaXMuZ2V0U2VsZWN0ZWRGaWVsZHMoKX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9XG4gICAgICAgICAgaGlkZVNlYXJjaElucHV0PXt0aGlzLnByb3BzLmlzU2VhcmNoSW5wdXRIaWRkZW59XG4gICAgICAgICAgaGlkZUJvdHRvbVRvb2xzPXshdGhpcy5wcm9wcy51c2VNdWx0aURyb3Bkb3duQm90dG9tVG9vbHN9XG4gICAgICAgICAgaXNFbXB0eU9wdGlvbkhpZGRlbj17dHJ1ZX1cbiAgICAgICAgICB0aXRsZT17YCR7dGhpcy5nZXRTZWxlY3RlZEZpZWxkcygpLm1hcChmaWVsZCA9PiBmaWVsZC5sYWJlbCkudG9TdHJpbmcoKX1gfVxuICAgICAgICAgIHRvZ2dsZT17dGhpcy50b2dnbGVBZHZhbmNlZFNlbGVjdH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwganN4LCB0eXBlIEZpZWxkU2NoZW1hLCB0eXBlIElNRmllbGRTY2hlbWEsIHR5cGUgRGF0YVNvdXJjZSwgdHlwZSBJbW11dGFibGVBcnJheSwgdHlwZSBJbW11dGFibGVPYmplY3QsIEltbXV0YWJsZSwgdHlwZSBJTVVzZURhdGFTb3VyY2UsIERhdGFTb3VyY2VNYW5hZ2VyLFxuICBjbGFzc05hbWVzLCB0eXBlIEludGxTaGFwZSwgaW5qZWN0SW50bCwgZGVmYXVsdE1lc3NhZ2VzIGFzIGppbXVDb3JlRGVmYXVsdE1lc3NhZ2VzLCB0eXBlIEppbXVGaWVsZFR5cGUsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgdHlwZSBVc2VEYXRhU291cmNlLCBDT05TVEFOVFNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgVGV4dElucHV0LCB0eXBlIFNlbGVjdFByb3BzIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IENvbW1vbkxpc3QgZnJvbSAnLi9jb21tb24tbGlzdCdcbmltcG9ydCBEcm9wZG93bkxpc3QgZnJvbSAnLi9kcm9wZG93bi1saXN0J1xuaW1wb3J0IHsgTWFpbkRhdGFBbmRWaWV3U2VsZWN0b3IgfSBmcm9tICcuLi8uLi9tYWluLWRhdGEtYW5kLXZpZXctc2VsZWN0b3InXG5pbXBvcnQgeyBOT19TRUxFQ1RJT05fSUQgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHdpdGhTdHlsZXMsIHdpdGhUaGVtZSB9IGZyb20gJ2ppbXUtdGhlbWUnXG5cbmltcG9ydCB7IFNlYXJjaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoJ1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzZWxlY3RlZERzOiBEYXRhU291cmNlXG4gIGlzRnJvbVJlcGVhdGVkRHM6IGJvb2xlYW5cbiAgc2VhcmNoVmFsdWU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRmllbGRTZWxlY3RvcklubmVyUHJvcHMge1xuICBkYXRhU291cmNlczogRGF0YVNvdXJjZVtdXG4gIHR5cGVzPzogSW1tdXRhYmxlQXJyYXk8SmltdUZpZWxkVHlwZT5cbiAgc2VsZWN0ZWRGaWVsZHM/OiBJbW11dGFibGVBcnJheTxzdHJpbmc+IHwgSW1tdXRhYmxlT2JqZWN0PHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogc3RyaW5nW10gfT5cbiAgaGlkZGVuRmllbGRzPzogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiB8IEltbXV0YWJsZU9iamVjdDx7IFtkYXRhU291cmNlSWQ6IHN0cmluZ106IHN0cmluZ1tdIH0+XG4gIGlzRGF0YVNvdXJjZURyb3BEb3duSGlkZGVuPzogYm9vbGVhblxuICBpc1NlYXJjaElucHV0SGlkZGVuPzogYm9vbGVhblxuICB1c2VNdWx0aURyb3Bkb3duQm90dG9tVG9vbHM/OiBib29sZWFuXG4gIGlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dD86IGJvb2xlYW5cbiAgdXNlRHJvcGRvd24/OiBib29sZWFuXG4gIHVzZURlZmF1bHQ/OiBib29sZWFuXG4gIGlzTXVsdGlwbGU/OiBib29sZWFuXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIGRyb3Bkb3duUHJvcHM/OiBTZWxlY3RQcm9wc1xuICB3aWRnZXRJZD86IHN0cmluZ1xuICB1c2VTZWxlY3Rpb25EYXRhVmlldz86IGJvb2xlYW5cbiAgdXNlUG9wdWxhdGVkRGF0YVZpZXc/OiBib29sZWFuXG4gIG5vU2VsZWN0aW9uSXRlbT86IHsgbmFtZTogc3RyaW5nIH1cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllc1xuICBvbkNoYW5nZT86IChhbGxTZWxlY3RlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdLCBkczogRGF0YVNvdXJjZSwgaXNTZWxlY3RlZEZyb21SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0OiBib29sZWFuKSA9PiB2b2lkXG4gIHVzZUtleVVwRXZlbnQ/OiBib29sZWFuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRvZ2dsaW5nIHRoZSBzZWxlY3QgbWVudS5cbiAgICovXG4gIHRvZ2dsZT86IChpc09wZW4/OiBib29sZWFuKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG59XG5cbi8qKlxuICogVGhlIGBGaWVsZFNlbGVjdG9yYCBjb21wb25lbnQgYWxsb3dzIHVzZXJzIHRvIHNlbGVjdCBmaWVsZHMgZnJvbSBhIGRhdGEgc291cmNlLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBGaWVsZFNlbGVjdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3RvcidcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgX0ZpZWxkU2VsZWN0b3JJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8RmllbGRTZWxlY3RvcklubmVyUHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZERzOiB0aGlzLmdldERlZmF1bHRTZWxlY3RlZERzKHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMpLFxuICAgICAgc2VhcmNoVmFsdWU6ICcnLFxuICAgICAgaXNGcm9tUmVwZWF0ZWREczogISF0aGlzLnByb3BzLmlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VEZWZhdWx0ICYmICF0aGlzLnByb3BzLnNlbGVjdGVkRmllbGRzKSB7XG4gICAgICBjb25zdCBkZWZhdWx0U2VsZWN0ZWRGaWVsZCA9IE9iamVjdC52YWx1ZXModGhpcy5nZXRWYWxpZEZpZWxkcyh0aGlzLnN0YXRlLnNlbGVjdGVkRHMpID8/IHt9KVswXVxuICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZEZpZWxkKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoW2RlZmF1bHRTZWxlY3RlZEZpZWxkXSwgdGhpcy5zdGF0ZS5zZWxlY3RlZERzLCB0aGlzLnN0YXRlLmlzRnJvbVJlcGVhdGVkRHMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEZpZWxkU2VsZWN0b3JJbm5lclByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKSB7XG4gICAgaWYgKCF0aGlzLmdldFdoZXRoZXJBcnJheUlzU2hhbGxvd0VxdWFsKHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHByZXZQcm9wcy5kYXRhU291cmNlcykgfHwgdGhpcy5wcm9wcy5zZWxlY3RlZEZpZWxkcyAhPT0gcHJldlByb3BzLnNlbGVjdGVkRmllbGRzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWREczogdGhpcy5nZXREZWZhdWx0U2VsZWN0ZWREcyh0aGlzLnByb3BzLmRhdGFTb3VyY2VzLCB0aGlzLnByb3BzLnNlbGVjdGVkRmllbGRzKSB9KVxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy51c2VEZWZhdWx0ICYmICF0aGlzLnByb3BzLnNlbGVjdGVkRmllbGRzICYmIHByZXZTdGF0ZS5zZWxlY3RlZERzICE9PSB0aGlzLnN0YXRlLnNlbGVjdGVkRHMpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRTZWxlY3RlZEZpZWxkID0gT2JqZWN0LnZhbHVlcyh0aGlzLmdldFZhbGlkRmllbGRzKHRoaXMuc3RhdGUuc2VsZWN0ZWREcykgPz8ge30pWzBdXG4gICAgICBpZiAoZGVmYXVsdFNlbGVjdGVkRmllbGQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShbZGVmYXVsdFNlbGVjdGVkRmllbGRdLCB0aGlzLnN0YXRlLnNlbGVjdGVkRHMsIHRoaXMuc3RhdGUuaXNGcm9tUmVwZWF0ZWREcylcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcy5pc1NlbGVjdGVkRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHQgIT09IHRoaXMucHJvcHMuaXNTZWxlY3RlZEZyb21SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNGcm9tUmVwZWF0ZWREczogISF0aGlzLnByb3BzLmlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dCB9KVxuICAgIH1cbiAgfVxuXG4gIGdldFdoZXRoZXJBcnJheUlzU2hhbGxvd0VxdWFsID0gKGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSk6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc0VxdWFsID0gZmFsc2VcbiAgICBpZiAoYXJyMSAmJiBhcnIyICYmIGFycjEubGVuZ3RoID09PSBhcnIyLmxlbmd0aCkge1xuICAgICAgaXNFcXVhbCA9ICFhcnIxLnNvbWUoKHYsIGkpID0+IHYgIT09IGFycjJbaV0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRXF1YWxcbiAgfVxuXG4gIGdldERlZmF1bHRTZWxlY3RlZERzID0gKGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIHNlbGVjdGVkRmllbGRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+IHwgSW1tdXRhYmxlT2JqZWN0PHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogc3RyaW5nW10gfT4pOiBEYXRhU291cmNlID0+IHtcbiAgICAvKipcbiAgICAgKiBJZiBkb24ndCBoYXZlIHNlbGVjdGVkIGZpZWxkcyBhbmQgdXNlIGRhdGEgc291cmNlIGRyb3Bkb3duLCB3aWxsIG5vdCBzZXQgc2VsZWN0ZWQgZGF0YSBzb3VyY2UuXG4gICAgICogVGhlIHJlYXNvbiBpcyB0aGF0LFxuICAgICAqIHNvbWUgcnVuIHRpbWUgZGF0YSB2aWV3cyAoc3VjaCBhcyBkYXRhIHZpZXcgZm9yIHBvcHVsYXRlZCBmZWF0dXJlcykgd2lsbCBiZSBhZGRlZCBhdXRvbWF0aWNhbGx5IGlmIHVzZSBkYXRhIHNvdXJjZSBkcm9wZG93bixcbiAgICAgKiBhbmQgd2lsbCBnZXQgdGhlIGRlZmF1bHQgc2VsZWN0ZWQgZGF0YSBzb3VyY2UgYW5kIGRhdGEgdmlldyBmcm9tIGNhbGxiYWNrIG9mIGRhdGEgc291cmNlIGRyb3Bkb3duLFxuICAgICAqIHRoZSBkZWZhdWx0IHNlbGVjdGVkIGRhdGEgdmlldyB3aWxsIGhvbm9yIGBkZWZhdWx0RGF0YVZpZXdQcmlvcml0eWAgb2YgdGhlIGRhdGEgc291cmNlIGRyb3Bkb3duIChgTWFpbkRhdGFBbmRWaWV3U2VsZWN0b3JgKS5cbiAgICAgKi9cbiAgICBjb25zdCBoYXNTZWxlY3RlZEZpZWxkcyA9IHRoaXMuaGFzU2VsZWN0ZWRGaWVsZHMoKVxuICAgIGNvbnN0IHNlbGVjdGVkRHMgPSAoaGFzU2VsZWN0ZWRGaWVsZHMgfHwgdGhpcy5wcm9wcy5pc0RhdGFTb3VyY2VEcm9wRG93bkhpZGRlbikgPyB0aGlzLmdldERzRnJvbVNlbGVjdGVkRmllbGRzQW5kVXNlRHNzKGRhdGFTb3VyY2VzLCBzZWxlY3RlZEZpZWxkcykgOiBudWxsXG4gICAgcmV0dXJuIHNlbGVjdGVkRHNcbiAgfVxuXG4gIGhhc1NlbGVjdGVkRmllbGRzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RlZEZpZWxkcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RlZEZpZWxkcy5sZW5ndGggPiAwXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zZWxlY3RlZEZpZWxkcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMpLmV2ZXJ5KHMgPT4gcyAmJiBzLmxlbmd0aCA+IDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBoYXZlIHNlbGVjdGVkIGZpZWxkcyxcbiAgICovXG4gIGdldERzRnJvbVNlbGVjdGVkRmllbGRzQW5kVXNlRHNzID0gKGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIHNlbGVjdGVkRmllbGRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+IHwgSW1tdXRhYmxlT2JqZWN0PHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogc3RyaW5nW10gfT4pOiBEYXRhU291cmNlID0+IHtcbiAgICBsZXQgZHNcbiAgICBpZiAoc2VsZWN0ZWRGaWVsZHMgJiYgZGF0YVNvdXJjZXMpIHsgLy8gc2VsZWN0ZWQgZmllbGRzIGFyZSBwYXNzZWQgdG8gcHJvcHNcbiAgICAgIC8vIGdldCBzZWxlY3RlZCBkYXRhIHNvdXJjZSBmcm9tIHNlbGVjdGVkIGZpZWxkc1xuICAgICAgY29uc3QgYXJlRnJvbU11bHRpcGxlRGF0YVNvdXJjZXMgPSB0aGlzLmdldEFyZUZyb21NdWx0aXBsZURzcyhkYXRhU291cmNlcywgc2VsZWN0ZWRGaWVsZHMpXG4gICAgICBpZiAoYXJlRnJvbU11bHRpcGxlRGF0YVNvdXJjZXMpIHtcbiAgICAgICAgY29uc3QgZHNJZCA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMpWzBdXG4gICAgICAgIGNvbnN0IGlzU2VsZWN0aW9uRGF0YVZpZXcgPSBkc0lkLnNwbGl0KCctJykucmV2ZXJzZSgpWzBdID09PSBDT05TVEFOVFMuU0VMRUNUSU9OX0RBVEFfVklFV19JRFxuICAgICAgICBpZiAoaXNTZWxlY3Rpb25EYXRhVmlldykge1xuICAgICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpXG4gICAgICAgICAgY29uc3QgbWFpbkRzID0gZGF0YVZpZXcgJiYgZGF0YVZpZXcuZ2V0TWFpbkRhdGFTb3VyY2UoKVxuICAgICAgICAgIGNvbnN0IG1haW5Ec0lkID0gbWFpbkRzICYmIG1haW5Ecy5pZFxuICAgICAgICAgIGRzID0gdGhpcy5wcm9wcy5kYXRhU291cmNlcy5zb21lKGRzID0+IGRzICYmIGRzLmdldE1haW5EYXRhU291cmNlKCkuaWQgPT09IG1haW5Ec0lkKVxuICAgICAgICAgICAgPyBkYXRhVmlld1xuICAgICAgICAgICAgOiBudWxsXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHMgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2VzLmZpbmQoZHMgPT4gZHMgJiYgZHMuaWQgPT09IGRzSWQpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRzID0gZGF0YVNvdXJjZXNbMF1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2VzKSB7IC8vIHNlbGVjdGVkIGZpZWxkcyBhcmUgbm90IHBhc3NlZCB0byBwcm9wc1xuICAgICAgLy8gdXNlIHRoZSBmaXJzdCBvbmUgb2YgZGF0YSBzb3VyY2VzIGFzIHNlbGVjdGVkIGRhdGEgc291cmNlXG4gICAgICBkcyA9IGRhdGFTb3VyY2VzWzBdXG4gICAgfVxuICAgIHJldHVybiBkc1xuICB9XG5cbiAgZ2V0QXJlRnJvbU11bHRpcGxlRHNzID0gKGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10sIHNlbGVjdGVkRmllbGRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+IHwgSW1tdXRhYmxlT2JqZWN0PHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogc3RyaW5nW10gfT4pOiBib29sZWFuID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkRmllbGRzKSB7XG4gICAgICByZXR1cm4gZGF0YVNvdXJjZXM/Lmxlbmd0aCA+IDFcbiAgICB9XG4gICAgcmV0dXJuICFBcnJheS5pc0FycmF5KHNlbGVjdGVkRmllbGRzKVxuICB9XG5cbiAgZ2V0RHNMYWJlbCA9IChkczogSW1tdXRhYmxlT2JqZWN0PERhdGFTb3VyY2U+IHwgRGF0YVNvdXJjZSk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFkcyB8fCAhZHMuZ2V0RGF0YVNvdXJjZUpzb24oKSkge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuXG4gICAgcmV0dXJuIGRzLmdldExhYmVsKCkgfHwgZHMuaWQgfHwgJydcbiAgfVxuXG4gIGdldFNlbGVjdGVkRmllbGRzSmltdU5hbWUgPSAoc2VsZWN0ZWREczogRGF0YVNvdXJjZSwgZGF0YVNvdXJjZXM6IERhdGFTb3VyY2VbXSwgc2VsZWN0ZWRGaWVsZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4gfCBJbW11dGFibGVPYmplY3Q8eyBbZGF0YVNvdXJjZUlkOiBzdHJpbmddOiBzdHJpbmdbXSB9PiwgaXNNdWx0aXBsZTogYm9vbGVhbik6IEltbXV0YWJsZUFycmF5PHN0cmluZz4gPT4ge1xuICAgIGlmICghc2VsZWN0ZWREcyB8fCAhc2VsZWN0ZWREcy5pZCB8fCAhc2VsZWN0ZWRGaWVsZHMpIHtcbiAgICAgIHJldHVybiBJbW11dGFibGUoW10pXG4gICAgfVxuXG4gICAgY29uc3QgYXJlRnJvbU11bHRpcGxlRGF0YVNvdXJjZXMgPSB0aGlzLmdldEFyZUZyb21NdWx0aXBsZURzcyhkYXRhU291cmNlcywgc2VsZWN0ZWRGaWVsZHMpXG4gICAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlIGRhdGEgc291cmNlcywgZ2V0IHNlbGVjdGVkIGZpZWxkIGFycmF5IGJ5IGRhdGEgc291cmNlIGlkLlxuICAgIGNvbnN0IGZpZWxkcyA9IGFyZUZyb21NdWx0aXBsZURhdGFTb3VyY2VzID8gSW1tdXRhYmxlKChzZWxlY3RlZEZpZWxkcyBhcyBJbW11dGFibGVPYmplY3Q8eyBbZGF0YVNvdXJjZUlkOiBzdHJpbmddOiBzdHJpbmdbXSB9Pilbc2VsZWN0ZWREcy5pZF0pIDogc2VsZWN0ZWRGaWVsZHMgYXMgSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICAgIGlmICghZmllbGRzKSB7XG4gICAgICByZXR1cm4gSW1tdXRhYmxlKFtdKVxuICAgIH1cblxuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICByZXR1cm4gZmllbGRzXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZHMuc2xpY2UoMCwgMSlcbiAgICB9XG4gIH1cblxuICBnZXRTZWxlY3RlZFVzZURhdGFTb3VyY2UgPSAoKTogSU1Vc2VEYXRhU291cmNlID0+IHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWREcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0VXNlRGF0YVNvdXJjZXMoW3RoaXMuc3RhdGUuc2VsZWN0ZWREc10pWzBdXG4gIH1cblxuICBnZXRXaGV0aGVySmltdU5hbWVJc0luSGlkZGVuRmllbGRzID0gKGppbXVOYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBsZXQgaXNJbkhpZGRlbkZpZWxkcyA9IGZhbHNlXG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuRmllbGRzKSB7XG4gICAgICBjb25zdCBhcmVGcm9tTXVsdGlwbGVEYXRhU291cmNlcyA9IHRoaXMuZ2V0QXJlRnJvbU11bHRpcGxlRHNzKHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMpXG4gICAgICBsZXQgaGlkZGVuRmllbGRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+ID0gSW1tdXRhYmxlKFtdKVxuICAgICAgaWYgKGFyZUZyb21NdWx0aXBsZURhdGFTb3VyY2VzKSB7XG4gICAgICAgIGhpZGRlbkZpZWxkcyA9ICh0aGlzLnByb3BzLmhpZGRlbkZpZWxkcyBhcyBJbW11dGFibGVPYmplY3Q8eyBbZGF0YVNvdXJjZUlkOiBzdHJpbmddOiBzdHJpbmdbXSB9PilbdGhpcy5zdGF0ZS5zZWxlY3RlZERzPy5pZF1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGRlbkZpZWxkcyA9IHRoaXMucHJvcHMuaGlkZGVuRmllbGRzIGFzIEltbXV0YWJsZUFycmF5PHN0cmluZz5cbiAgICAgIH1cbiAgICAgIGlzSW5IaWRkZW5GaWVsZHMgPSBoaWRkZW5GaWVsZHMuc29tZShmID0+IGYgPT09IGppbXVOYW1lKVxuICAgIH1cbiAgICByZXR1cm4gaXNJbkhpZGRlbkZpZWxkc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmaWVsZHMgd2hpY2ggYXJlIC1cbiAgICogMS4gbWFjdGggdHlwZXMgaW4gcHJvcHNcbiAgICogMi4gbm90IGluIGhpZGRlbiBmaWVsZHMgaW4gcHJvcHNcbiAgICogMy4gbWF0Y2ggc2VhcmNoIHZhbHVlc1xuICAgKi9cbiAgZ2V0VmFsaWRGaWVsZHMgPSAoZHM6IERhdGFTb3VyY2UpOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU5hbWU6IHN0cmluZ106IEZpZWxkU2NoZW1hIH0+ID0+IHtcbiAgICBjb25zdCBhbGxGaWVsZHMgPSB0aGlzLmdldEFsbEZpZWxkcyhkcylcbiAgICBpZiAoIWFsbEZpZWxkcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBsZXQgZmllbGRzOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU5hbWU6IHN0cmluZ106IEZpZWxkU2NoZW1hIH0+XG4gICAgaWYgKCF0aGlzLnByb3BzLnR5cGVzICYmICF0aGlzLnByb3BzLmhpZGRlbkZpZWxkcyAmJiAhdGhpcy5zdGF0ZS5zZWFyY2hWYWx1ZSkge1xuICAgICAgZmllbGRzID0gYWxsRmllbGRzXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU5hbWU6IHN0cmluZ106IEZpZWxkU2NoZW1hIH0+ID0gSW1tdXRhYmxlKHt9KSBhcyBJbW11dGFibGVPYmplY3Q8eyBbamltdU5hbWU6IHN0cmluZ106IEZpZWxkU2NoZW1hIH0+XG4gICAgICBsZXQgdHlwZTogSmltdUZpZWxkVHlwZVxuICAgICAgbGV0IG5hbWU6IHN0cmluZ1xuICAgICAgT2JqZWN0LmtleXMoYWxsRmllbGRzKS5mb3JFYWNoKGppbXVOYW1lID0+IHtcbiAgICAgICAgdHlwZSA9IGFsbEZpZWxkc1tqaW11TmFtZV0udHlwZVxuICAgICAgICBuYW1lID0gYWxsRmllbGRzW2ppbXVOYW1lXS5hbGlhcyB8fCBhbGxGaWVsZHNbamltdU5hbWVdLm5hbWVcbiAgICAgICAgY29uc3QgaXNJblR5cGVzID0gIXRoaXMucHJvcHMudHlwZXMgfHwgKHR5cGUgJiYgdGhpcy5wcm9wcy50eXBlcyAmJiB0aGlzLnByb3BzLnR5cGVzLnNvbWUodCA9PiB0ID09PSB0eXBlKSlcbiAgICAgICAgY29uc3QgaXNJbkhpZGRlbkZpZWxkcyA9IHRoaXMuZ2V0V2hldGhlckppbXVOYW1lSXNJbkhpZGRlbkZpZWxkcyhqaW11TmFtZSlcbiAgICAgICAgY29uc3QgaXNNYXRjaGluZ1NlYXJjaFZhbHVlID0gIXRoaXMuc3RhdGUuc2VhcmNoVmFsdWUgfHwgKHRoaXMuc3RhdGUuc2VhcmNoVmFsdWUgJiYgbmFtZSAmJiBuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zdGF0ZS5zZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgaWYgKGlzSW5UeXBlcyAmJiAhaXNJbkhpZGRlbkZpZWxkcyAmJiBpc01hdGNoaW5nU2VhcmNoVmFsdWUpIHtcbiAgICAgICAgICBmID0gZi5zZXRJbihbamltdU5hbWVdLCBhbGxGaWVsZHNbamltdU5hbWVdKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBmaWVsZHMgPSBmXG4gICAgfVxuXG4gICAgaWYgKGZpZWxkcyAmJiB0aGlzLnByb3BzLm5vU2VsZWN0aW9uSXRlbSkge1xuICAgICAgZmllbGRzID0gZmllbGRzLnNldChOT19TRUxFQ1RJT05fSUQsIHRoaXMuZ2V0Tm9TZWxlY3Rpb25JdGVtKCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkc1xuICB9XG5cbiAgZ2V0QWxsRmllbGRzIChkczogRGF0YVNvdXJjZSk6IEltbXV0YWJsZU9iamVjdDx7IFtqaW11TmFtZTogc3RyaW5nXTogRmllbGRTY2hlbWEgfT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmllbGRKaW11TmFtZXMgPSBkcz8uZ2V0U2VsZWN0ZWRGaWVsZHMoKVxuICAgIGNvbnN0IGZpZWxkcyA9IGRzPy5nZXRTY2hlbWEoKT8uZmllbGRzXG4gICAgY29uc3QgdG9CZVJlbW92ZWRGaWVsZEppbXVOYW1lcyA9IGZpZWxkcyA/IE9iamVjdC5rZXlzKGZpZWxkcykuZmlsdGVyKGppbXVOYW1lID0+ICFzZWxlY3RlZEZpZWxkSmltdU5hbWVzLmluY2x1ZGVzKGppbXVOYW1lKSkgOiBbXVxuICAgIHJldHVybiBmaWVsZHM/LndpdGhvdXQoLi4udG9CZVJlbW92ZWRGaWVsZEppbXVOYW1lcylcbiAgfVxuXG4gIGdldE5vU2VsZWN0aW9uSXRlbSA9ICgpID0+IChJbW11dGFibGUoeyAuLi50aGlzLnByb3BzLm5vU2VsZWN0aW9uSXRlbSwgamltdU5hbWU6IE5PX1NFTEVDVElPTl9JRCB9KSlcblxuICBnZXRVc2VEYXRhU291cmNlcyA9IChkYXRhU291cmNlczogRGF0YVNvdXJjZVtdKTogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4gPT4ge1xuICAgIGlmICghZGF0YVNvdXJjZXMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGxldCB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4gPSBJbW11dGFibGUoW10pXG4gICAgZGF0YVNvdXJjZXMuZm9yRWFjaChkID0+IHtcbiAgICAgIGlmIChkKSB7XG4gICAgICAgIHVzZURhdGFTb3VyY2VzID0gdXNlRGF0YVNvdXJjZXMuY29uY2F0KHtcbiAgICAgICAgICBkYXRhU291cmNlSWQ6IGQuaWQsXG4gICAgICAgICAgbWFpbkRhdGFTb3VyY2VJZDogZC5nZXRNYWluRGF0YVNvdXJjZSgpLmlkLFxuICAgICAgICAgIGRhdGFWaWV3SWQ6IGQuZGF0YVZpZXdJZCxcbiAgICAgICAgICByb290RGF0YVNvdXJjZUlkOiBkLmdldFJvb3REYXRhU291cmNlKCk/LmlkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdXNlRGF0YVNvdXJjZXNcbiAgfVxuXG4gIG9uU2VsZWN0ZWRVc2VEc0NoYW5nZSA9ICh1c2VEYXRhU291cmNlOiBJTVVzZURhdGFTb3VyY2UsIGlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodXNlRGF0YVNvdXJjZS5kYXRhU291cmNlSWQpXG4gICAgLy8gdXBkYXRlIHN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3RlZERzLFxuICAgICAgaXNGcm9tUmVwZWF0ZWREczogaXNTZWxlY3RlZEZyb21SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0XG4gICAgfSlcblxuICAgIC8vIGNoYW5nZSB0aGUgc2VsZWN0ZWQgZmllbGRzIGlmIHNlbGVjdGVkIHVzZSBkYXRhIHNvdXJjZSBpcyBjaGFuZ2VkXG4gICAgaWYgKHRoaXMuaGFzU2VsZWN0ZWRGaWVsZHMoKSkge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRGaWVsZEppbXVOYW1lcyA9IHRoaXMuZ2V0U2VsZWN0ZWRGaWVsZHNKaW11TmFtZSh0aGlzLnN0YXRlLnNlbGVjdGVkRHMsIHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMsIHRoaXMucHJvcHMuaXNNdWx0aXBsZSlcbiAgICAgIGNvbnN0IHNlbGVjdGVkRmllbGRzID0gc2VsZWN0ZWRGaWVsZEppbXVOYW1lcy5tYXAoamltdU5hbWUgPT4gc2VsZWN0ZWREcyAmJiB0aGlzLmdldEFsbEZpZWxkcyhzZWxlY3RlZERzKT8uW2ppbXVOYW1lXSkuZmlsdGVyKGYgPT4gISFmKVxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKHNlbGVjdGVkRmllbGRzLmFzTXV0YWJsZSgpLCBzZWxlY3RlZERzLCBpc1NlbGVjdGVkRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHQpXG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hDaGFuZ2UgPSBlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VhcmNoVmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gIH1cblxuICBvblNlbGVjdGVkRmllbGRzQ2hhbmdlID0gKGNsaWNrZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSkgPT4ge1xuICAgIGlmIChjbGlja2VkRmllbGRzLnNvbWUoZiA9PiBmPy5qaW11TmFtZSA9PT0gTk9fU0VMRUNUSU9OX0lEKSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKFtdLCB0aGlzLnN0YXRlLnNlbGVjdGVkRHMsIHRoaXMuc3RhdGUuaXNGcm9tUmVwZWF0ZWREcylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHByZXZTZWxlY3RlZEZpZWxkc0ppbXVOYW1lOiBzdHJpbmdbXSA9IHRoaXMuZ2V0U2VsZWN0ZWRGaWVsZHNKaW11TmFtZSh0aGlzLnN0YXRlLnNlbGVjdGVkRHMsIHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMsIHRoaXMucHJvcHMuaXNNdWx0aXBsZSkuYXNNdXRhYmxlKClcbiAgICBjb25zdCBmaWVsZHM6IEltbXV0YWJsZU9iamVjdDx7IFtqaW11TmFtZTogc3RyaW5nXTogRmllbGRTY2hlbWEgfT4gPSB0aGlzLmdldEFsbEZpZWxkcyh0aGlzLnN0YXRlLnNlbGVjdGVkRHMpXG4gICAgbGV0IGN1cnJlbnRTZWxlY3RlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdID0gcHJldlNlbGVjdGVkRmllbGRzSmltdU5hbWUubWFwKGppbXVOYW1lID0+IGZpZWxkcz8uW2ppbXVOYW1lXSkuZmlsdGVyKGYgPT4gZilcblxuICAgIGNsaWNrZWRGaWVsZHMuZm9yRWFjaChjbGlja2VkRmllbGQgPT4ge1xuICAgICAgaWYgKCFjbGlja2VkRmllbGQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAocHJldlNlbGVjdGVkRmllbGRzSmltdU5hbWUuc29tZShzZWxlY3RlZEZpZWxkSmltdU5hbWUgPT4gc2VsZWN0ZWRGaWVsZEppbXVOYW1lID09PSBjbGlja2VkRmllbGQuamltdU5hbWUpKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICBjdXJyZW50U2VsZWN0ZWRGaWVsZHMgPSBjdXJyZW50U2VsZWN0ZWRGaWVsZHMuZmlsdGVyKHNlbGVjdGVkRmllbGQgPT4gc2VsZWN0ZWRGaWVsZC5qaW11TmFtZSAhPT0gY2xpY2tlZEZpZWxkLmppbXVOYW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRTZWxlY3RlZEZpZWxkcyA9IFtdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICBjdXJyZW50U2VsZWN0ZWRGaWVsZHMgPSBjdXJyZW50U2VsZWN0ZWRGaWVsZHMuY29uY2F0KGNsaWNrZWRGaWVsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50U2VsZWN0ZWRGaWVsZHMgPSBbY2xpY2tlZEZpZWxkXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UgJiYgdGhpcy5wcm9wcy5vbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRGaWVsZHMsIHRoaXMuc3RhdGUuc2VsZWN0ZWREcywgdGhpcy5zdGF0ZS5pc0Zyb21SZXBlYXRlZERzKVxuICB9XG5cbiAgdG9nZ2xlRHJvcGRvd24gPSAoaXNPcGVuOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGUgJiYgdGhpcy5wcm9wcy50b2dnbGUoaXNPcGVuKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvdXJjZXMgfHwgdGhpcy5wcm9wcy5kYXRhU291cmNlcy5maWx0ZXIoZHMgPT4gISFkcykubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIGRhdGEgc291cmNlcycpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkRmllbGRzID0gdGhpcy5nZXRWYWxpZEZpZWxkcyh0aGlzLnN0YXRlLnNlbGVjdGVkRHMpXG4gICAgY29uc3Qgc2VsZWN0ZWRGaWVsZHNKaW11TmFtZSA9IHRoaXMuZ2V0U2VsZWN0ZWRGaWVsZHNKaW11TmFtZSh0aGlzLnN0YXRlLnNlbGVjdGVkRHMsIHRoaXMucHJvcHMuZGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuc2VsZWN0ZWRGaWVsZHMsIHRoaXMucHJvcHMuaXNNdWx0aXBsZSlcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSBpcyBhbiBpdGVtIHRvIGluZGljYXRlIHRoYXQgbm8gZmllbGRzIGlzIHNlbGVjdGVkICh0aGlzLnByb3BzLm5vU2VsZWN0aW9uSXRlbSkgYW5kIHRoZXJlIGlzIHJlYWxseSBubyBzZWxlY3RlZCBmaWVsZHMsXG4gICAgICogbWFrZSB0aGUgaXRlbSBzZWxlY3RlZCBpbiBVSS5cbiAgICAgKi9cbiAgICBjb25zdCBzZWxlY3RlZEZpZWxkc0ZvclVJID0gdGhpcy5wcm9wcy5ub1NlbGVjdGlvbkl0ZW0gJiYgc2VsZWN0ZWRGaWVsZHNKaW11TmFtZS5sZW5ndGggPT09IDAgPyBJbW11dGFibGUoW3RoaXMuZ2V0Tm9TZWxlY3Rpb25JdGVtKCkuamltdU5hbWVdKSA6IHNlbGVjdGVkRmllbGRzSmltdU5hbWVcbiAgICBjb25zdCBkcm9wZG93blByb3BzID0geyAuLi50aGlzLnByb3BzLmRyb3Bkb3duUHJvcHMsIHVzZUtleVVwRXZlbnQ6IHRoaXMucHJvcHMudXNlS2V5VXBFdmVudCwgJ2FyaWEtbGFiZWwnOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10gfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAnLCB7IFt0aGlzLnByb3BzLmNsYXNzTmFtZV06ICEhdGhpcy5wcm9wcy5jbGFzc05hbWUgfSl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21wb25lbnQtZmllbGQtc2VsZWN0b3Igdy0xMDAgaC0xMDAnPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNEYXRhU291cmNlRHJvcERvd25IaWRkZW5cbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9J2RzLW5hbWUgcC00IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgIDxNYWluRGF0YUFuZFZpZXdTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9IHVzZURhdGFTb3VyY2VzPXt0aGlzLmdldFVzZURhdGFTb3VyY2VzKHRoaXMucHJvcHMuZGF0YVNvdXJjZXMpfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25TZWxlY3RlZFVzZURzQ2hhbmdlfSB1c2VTZWxlY3Rpb25EYXRhVmlldz17dGhpcy5wcm9wcy51c2VTZWxlY3Rpb25EYXRhVmlld30gdXNlUG9wdWxhdGVkRGF0YVZpZXc9e3RoaXMucHJvcHMudXNlUG9wdWxhdGVkRGF0YVZpZXd9XG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFVzZURhdGFTb3VyY2U9e3RoaXMuZ2V0U2VsZWN0ZWRVc2VEYXRhU291cmNlKCl9IGlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dD17dGhpcy5zdGF0ZS5pc0Zyb21SZXBlYXRlZERzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cblxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIHVzZSBkcm9wZG93biwgZG8gbm90IHNob3cvaGlkZSBzZWFyY2ggaW5wdXQgaGVyZS4gRG8gaXQgaW5zaWRlIGRyb3Bkb3duIGxpc3QuXG4gICAgICAgICAgICB0aGlzLnByb3BzLmlzU2VhcmNoSW5wdXRIaWRkZW4gfHwgdGhpcy5wcm9wcy51c2VEcm9wZG93blxuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT0nZC1pbmxpbmUtYmxvY2sgdy0xMDAgcHgtNCBtYi0yIGl0ZW0tc2VsZWN0b3Itc2VhcmNoJz5cbiAgICAgICAgICAgICAgICA8VGV4dElucHV0XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlYXJjaCcsIGRlZmF1bHRNZXNzYWdlOiBqaW11Q29yZURlZmF1bHRNZXNzYWdlcy5zZWFyY2ggfSl9IG9uQ2hhbmdlPXt0aGlzLm9uU2VhcmNoQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdkLWlubGluZS1ibG9jayBzZWFyY2gtaW5wdXQnIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFZhbHVlfVxuICAgICAgICAgICAgICAgICAgcHJlZml4PXs8U2VhcmNoT3V0bGluZWQgY29sb3I9e3RoaXMucHJvcHMudGhlbWUuY29sb3JzLmRhcmt9IC8+fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cblxuICAgICAgICAgIHtcbiAgICAgICAgICAgICF0aGlzLnByb3BzLnVzZURyb3Bkb3duXG4gICAgICAgICAgICAgID8gPENvbW1vbkxpc3RcbiAgICAgICAgICAgICAgICBkcz17dGhpcy5zdGF0ZS5zZWxlY3RlZERzfSBmaWVsZHM9e3ZhbGlkRmllbGRzfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzPXtzZWxlY3RlZEZpZWxkc0ZvclVJfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgaXNNdWx0aXBsZT17dGhpcy5wcm9wcy5pc011bHRpcGxlfSBvbkZpZWxkQ2xpY2s9e3RoaXMub25TZWxlY3RlZEZpZWxkc0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDogPERyb3Bkb3duTGlzdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfSBkcz17dGhpcy5zdGF0ZS5zZWxlY3RlZERzfSBmaWVsZHM9e3ZhbGlkRmllbGRzfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzPXtzZWxlY3RlZEZpZWxkc0ZvclVJfSBpc011bHRpcGxlPXt0aGlzLnByb3BzLmlzTXVsdGlwbGV9IGlzU2VhcmNoSW5wdXRIaWRkZW49e3RoaXMucHJvcHMuaXNTZWFyY2hJbnB1dEhpZGRlbn1cbiAgICAgICAgICAgICAgICBvbkZpZWxkQ2xpY2s9e3RoaXMub25TZWxlY3RlZEZpZWxkc0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGRyb3Bkb3duUHJvcHM9e2Ryb3Bkb3duUHJvcHN9XG4gICAgICAgICAgICAgICAgdXNlTXVsdGlEcm9wZG93bkJvdHRvbVRvb2xzPXt0aGlzLnByb3BzLnVzZU11bHRpRHJvcGRvd25Cb3R0b21Ub29sc30gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxuICAgICAgICAgICAgICAgIHRvZ2dsZT17dGhpcy5wcm9wcy50b2dnbGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRmllbGRTZWxlY3RvcklubmVyID0gd2l0aFN0eWxlcyh3aXRoVGhlbWUoaW5qZWN0SW50bDwnaW50bCcsIEZpZWxkU2VsZWN0b3JJbm5lclByb3BzICYgRXh0cmFQcm9wcz4oX0ZpZWxkU2VsZWN0b3JJbm5lcikpLCAnRmllbGRTZWxlY3RvcicpXG4iLCJpbXBvcnQge1xuICBSZWFjdCwgdHlwZSBJTUZpZWxkU2NoZW1hLCB0eXBlIERhdGFTb3VyY2UsIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCBNdWx0aXBsZURhdGFTb3VyY2VDb21wb25lbnQsIHR5cGUgSmltdUZpZWxkVHlwZSxcbiAgdHlwZSBVc2VEYXRhU291cmNlLFxuICBEYXRhU291cmNlQ29tcG9uZW50XG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHR5cGUgU2VsZWN0UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQgeyBGaWVsZFNlbGVjdG9ySW5uZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3ItaW5uZXInXG5cbi8qKlxuICogVGhlIEZpZWxkU2VsZWN0b3IgY29tcG9uZW50IHByb3BzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkU2VsZWN0b3JQcm9wcyB7XG4gIC8qKlxuICAgKiBEYXRhIHNvdXJjZXMgb25seSBzdXBwb3J0cyBmZWF0dXJlIGxheWVyLlxuICAgKiBJZiB5b3VyIGRhdGEgc291cmNlIGlzIGluaXRpYWxpemVkLCBwbGVhc2UgdXNlIGBkYXRhU291cmNlc2AsIG9yIHVzZSBgdXNlRGF0YVNvdXJjZXNgLlxuICAgKi9cbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZGF0YVNvdXJjZXM/OiBEYXRhU291cmNlW11cbiAgLyoqXG4gICAqIEZpZWxkIHR5cGUuXG4gICAqIElmIGB0eXBlc2AgaXMgbm90IGRlZmluZWQsIHdpbGwgbGlzdCBhbGwgdHlwZXMgb2YgZmllbGRzLlxuICAgKi9cbiAgdHlwZXM/OiBJbW11dGFibGVBcnJheTxKaW11RmllbGRUeXBlPlxuICAvKipcbiAgICogU2VsZWN0ZWQgZmllbGRzLCB1c2Ugb2JqZWN0IHdoZW4gc2VsZWN0ZWQgZmllbGRzIGFyZSBmcm9tIG11bHRpcGxlIGRhdGEgc291cmNlcy5cbiAgICovXG4gIHNlbGVjdGVkRmllbGRzPzogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPiB8IEltbXV0YWJsZU9iamVjdDx7IFtkYXRhU291cmNlSWQ6IHN0cmluZ106IHN0cmluZ1tdIH0+XG4gIC8qKlxuICAgKiBGaWVsZHMgd2hpY2ggc2hvdWxkIGJlIGhpZGRlbiwgdXNlIG9iamVjdCB3aGVuIHNlbGVjdGVkIGZpZWxkcyBhcmUgZnJvbSBtdWx0aXBsZSBkYXRhIHNvdXJjZXMuXG4gICAqL1xuICBoaWRkZW5GaWVsZHM/OiBJbW11dGFibGVBcnJheTxzdHJpbmc+IHwgSW1tdXRhYmxlT2JqZWN0PHsgW2RhdGFTb3VyY2VJZDogc3RyaW5nXTogc3RyaW5nW10gfT5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGhpZGUgdGhlIGRhdGEgc291cmNlIGRyb3Bkb3duLCB0aGUgZHJvcGRvd24gaXMgdXNlZCB0byBjaGFuZ2UgdGhlIGRhdGEgc291cmNlIHdoZW4gbXVsdGlwbGUgZGF0YSBzb3VyY2VzIGFyZSBwYXNzZWQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBpc0RhdGFTb3VyY2VEcm9wRG93bkhpZGRlbj86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGhpZGUgdGhlIHNlYXJjaCBpbnB1dCwgdGhlIGlucHV0IGlzIHVzZWQgdG8gZmlsdGVyIGZpZWxkcy5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGlzU2VhcmNoSW5wdXRIaWRkZW4/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0b29scyBpbiB0aGUgYm90dG9tIG9mIG11bHRpLXNlbGVjdCBkcm9wZG93bi5cbiAgICogUGxlYXNlIG5vdGUgdGhlIHByb3BzIHdvcmtzIG9ubHkgd2hlbiBib3RoIG9mIGB1c2VEcm9wZG93bmAgYW5kIGBpc011bHRpcGxlYCBhcmUgdHJ1ZS5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVzZU11bHRpRHJvcGRvd25Cb3R0b21Ub29scz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgc2VsZWN0ZWQgZmllbGRzIGFyZSBmcm9tIHJlcGVhdGVkIGRhdGEgc291cmNlIGNvbnRleHQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBpc1NlbGVjdGVkRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHQ/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0byB1c2UgZHJvcGRvd24gdG8gc2hvdyB0aGUgZmllbGQgbGlzdC4gSWYgdHJ1ZSwgaXQgd2lsbCBzaG93IGRyb3Bkb3duLCBvdGhlcndpc2UgaXQgd2lsbCBub3QgdXNlIGRyb3Bkb3duLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdXNlRHJvcGRvd24/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0byB1c2UgYSBkZWZhdWx0IGZpZWxkIGFzIHNlbGVjdGVkLiBJZiB0cnVlLCB3aWxsIGNhbGwgYG9uQ2hhbmdlYCBpZiBkYXRhIHNvdXJjZSBjaGFuZ2VzIGFuZCBubyBgc2VsZWN0ZWRGaWVsZHNgLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdXNlRGVmYXVsdD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIHN1cHBvcnQgbXVsdGlwbGUgc2VsZWN0aW9uLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNNdWx0aXBsZT86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFBsYWNlaG9sZGVyIGZvciBkcm9wZG93biwgaWYgYHVzZURyb3Bkb3duYCBpcyB0cnVlLlxuICAgKi9cbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgLyoqXG4gICAqIERyb3Bkb3duIHByb3BzLCBpZiBgdXNlRHJvcGRvd25gIGlzIHRydWUuXG4gICAqL1xuICBkcm9wZG93blByb3BzPzogU2VsZWN0UHJvcHNcbiAgLyoqXG4gICAqIFVzZSB3aWRnZXQgaWQgdG8gZ2V0IHdpZGdldCBjb250ZXh0LCBlLmcuLCB3aGV0aGVyIHdpZGdldCBpcyBpbiByZXBlYXRlZCBkYXRhIHNvdXJjZSBjb250ZXh0LlxuICAgKi9cbiAgd2lkZ2V0SWQ/OiBzdHJpbmdcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gdXNlIHNlbGVjdGlvbiBkYXRhIHZpZXcuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB1c2VTZWxlY3Rpb25EYXRhVmlldz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gdXNlIHBvcHVsYXRlZCBkYXRhIHZpZXcuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB1c2VQb3B1bGF0ZWREYXRhVmlldz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIElmIHRoZXJlIGlzIG5vIHNlbGVjdGVkIGZpZWxkcywgd2lsbCBoaWdobGlnaHQgb3Igc2VsZWN0IHRoaXMgaXRlbS5cbiAgICogSWYgY2xpY2sgdGhpcyBpdGVtLCB3aWxsIGNsZWFyIGFsbCBzZWxlY3RlZCBmaWVsZHMuXG4gICAqL1xuICBub1NlbGVjdGlvbkl0ZW0/OiB7IG5hbWU6IHN0cmluZyB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllc1xuICAvKipcbiAgICogQ2FsbGJhY2sgd2hlbiBzZWxlY3RlZCBmaWVsZHMgY2hhbmdlLlxuICAgKi9cbiAgb25DaGFuZ2U/OiAoYWxsU2VsZWN0ZWRGaWVsZHM6IElNRmllbGRTY2hlbWFbXSwgZHM6IERhdGFTb3VyY2UsIGlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dDogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogV2hldGhlciBwYXNzIGB1c2VLZXlVcEV2ZW50YCB0byB0aGUgQWR2YW5jZVNlbGVjdFxuICAgKi9cbiAgdXNlS2V5VXBFdmVudD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIGFyaWEtbGFiZWwgdXNlZCBmb3IgdGhlIHNjcmVlbiByZWFkZXJcbiAgICovXG4gICdhcmlhLWxhYmVsJz86IHN0cmluZ1xuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0b2dnbGluZyB0aGUgc2VsZWN0IG1lbnUuXG4gICAqL1xuICB0b2dnbGU/OiAoaXNPcGVuPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRvIHNlbGVjdCBmaWVsZCBmcm9tIGEgZGF0YSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWVsZFNlbGVjdG9yIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxGaWVsZFNlbGVjdG9yUHJvcHMsIHVua25vd24+IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHVzZURhdGFTb3VyY2VzLCBkYXRhU291cmNlcywgLi4ub3RoZXJQcm9wcyB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChkYXRhU291cmNlcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZpZWxkU2VsZWN0b3JJbm5lciB7Li4udGhpcy5wcm9wcyBhcyBGaWVsZFNlbGVjdG9yUHJvcHMgJiB7IGRhdGFTb3VyY2VzOiBEYXRhU291cmNlW10gfX0gLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHVzZURhdGFTb3VyY2VzPy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RGF0YVNvdXJjZUNvbXBvbmVudCB1c2VEYXRhU291cmNlPXt1c2VEYXRhU291cmNlc1swXX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIChkcywgaW5mbykgPT4gPEZpZWxkU2VsZWN0b3JJbm5lciB7Li4ub3RoZXJQcm9wc30gZGF0YVNvdXJjZXM9e1tkc119IC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9EYXRhU291cmNlQ29tcG9uZW50PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNdWx0aXBsZURhdGFTb3VyY2VDb21wb25lbnQgdXNlRGF0YVNvdXJjZXM9e3VzZURhdGFTb3VyY2VzfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgKGRzcywgaW5mb3MpID0+IDxGaWVsZFNlbGVjdG9ySW5uZXIgey4uLm90aGVyUHJvcHN9IGRhdGFTb3VyY2VzPXtkc3MgJiYgT2JqZWN0LnZhbHVlcyhkc3MpfSAvPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvTXVsdGlwbGVEYXRhU291cmNlQ29tcG9uZW50PlxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBKaW11RmllbGRUeXBlLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcblxuaW1wb3J0IG51bWJlckZpZWxkSWNvbiBmcm9tICdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kYXRhL251bWJlci5zdmcnXG5pbXBvcnQgc3RyaW5nRmllbGRJY29uIGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RhdGEvc3RyaW5nLnN2ZydcbmltcG9ydCBkYXRlRmllbGRJY29uIGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RhdGEvZGF0ZS5zdmcnXG5cbmV4cG9ydCBjb25zdCBOT19TRUxFQ1RJT05fSUQgPSAnQ0xJQ0tfTUVfVE9fQ0xFQVJfU0VMRUNUSU9OJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbkZyb21GaWVsZFR5cGUgKHR5cGU6IEppbXVGaWVsZFR5cGUsIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzLCBpbnRsPzogSW50bFNoYXBlKSB7XG4gIGlmICghdHlwZSB8fCAhdGhlbWUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgZmllbGRUeXBlVG9UaXRpbGUgPSBpbnRsICYmIHtcbiAgICBbSmltdUZpZWxkVHlwZS5OdW1iZXJdOiBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ251bWJlckZpZWxkJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5udW1iZXJGaWVsZCB9KSxcbiAgICBbSmltdUZpZWxkVHlwZS5TdHJpbmddOiBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3N0cmluZ0ZpZWxkJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdHJpbmdGaWVsZCB9KSxcbiAgICBbSmltdUZpZWxkVHlwZS5EYXRlXTogaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdkYXRlRmllbGQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRhdGVGaWVsZCB9KVxuICB9XG4gIGNvbnN0IGZpZWxkVHlwZVRvSWNvbiA9IHtcbiAgICBbSmltdUZpZWxkVHlwZS5OdW1iZXJdOiBudW1iZXJGaWVsZEljb24sXG4gICAgW0ppbXVGaWVsZFR5cGUuU3RyaW5nXTogc3RyaW5nRmllbGRJY29uLFxuICAgIFtKaW11RmllbGRUeXBlLkRhdGVdOiBkYXRlRmllbGRJY29uXG4gIH1cbiAgY29uc3QgZmllbGRUeXBlVG9JY29uQ29sb3IgPSB7XG4gICAgW0ppbXVGaWVsZFR5cGUuTnVtYmVyXTogdGhlbWUuY29sb3JzLmluZm8sXG4gICAgW0ppbXVGaWVsZFR5cGUuU3RyaW5nXTogdGhlbWUuY29sb3JzLnN1Y2Nlc3MsXG4gICAgW0ppbXVGaWVsZFR5cGUuRGF0ZV06IHRoZW1lLmNvbG9ycy53YXJuaW5nXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGljb246IGZpZWxkVHlwZVRvSWNvblt0eXBlXSxcbiAgICBjb2xvcjogZmllbGRUeXBlVG9JY29uQ29sb3JbdHlwZV0sXG4gICAgdGl0bGU6IGZpZWxkVHlwZVRvVGl0aWxlPy5bdHlwZV1cbiAgfVxufVxuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCwgdHlwZSBJbW11dGFibGVBcnJheSwgSW1tdXRhYmxlLCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBVc2VEYXRhU291cmNlLCB0eXBlIElNVXNlRGF0YVNvdXJjZSwgdHlwZSBJbnRsU2hhcGUsIENPTlNUQU5UUywganN4LCBpbmplY3RJbnRsLCB0eXBlIEJyb3dzZXJTaXplTW9kZSwgdHlwZSBJTVN0YXRlLCBSZWFjdFJlZHV4LFxuICBnZXRBcHBTdG9yZSwgTGF5b3V0SXRlbVR5cGUsIGNsYXNzTmFtZXNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU2VsZWN0LCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnamltdS10aGVtZSdcblxuZXhwb3J0IGVudW0gRGF0YVZpZXdQcmlvcml0eSB7XG4gIC8qKlxuICAgKiBwb3B1bGF0ZWQgZGF0YSB2aWV3ID4gY29tbW9uIGRhdGEgdmlldyAoYWthIHVzZXIgYWRkZWQgZGF0YSB2aWV3KSA+IHNlbGVjdGlvbiBkYXRhIHZpZXcgPiBkZWZhdWx0IGRhdGEgdmlldyAoYWthIG1haW4gZGF0YSBzb3VyY2UpXG4gICAqL1xuICBGaXJzdCA9ICdQT1BVTEFURURfVklFV19TRUxFQ1RJT05fREVGQVVMVCcsIC8vIGRlZmF1bHQgcHJpb3JpdHlcbiAgLyoqXG4gICAqIGNvbW1vbiBkYXRhIHZpZXcgPiBkZWZhdWx0IGRhdGEgdmlldyA+IHNlbGVjdGlvbiBkYXRhIHZpZXcgPiBwb3B1bGF0ZWQgZGF0YSB2aWV3XG4gICAqL1xuICBTZWNvbmQgPSAnVklFV19ERUZBVUxUX1NFTEVDVElPTl9QT1BVTEFURUQnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFpbkRhdGFBbmRWaWV3U2VsZWN0b3JQcm9wcyB7XG4gIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxuICBzZWxlY3RlZFVzZURhdGFTb3VyY2U/OiBJTVVzZURhdGFTb3VyY2VcbiAgLyoqXG4gICAqIFdoZXRoZXIgc2VsZWN0ZWQgdXNlIGRhdGEgc291cmNlIGlzIGZyb20gcmVwZWF0ZWQgZGF0YSBzb3VyY2UgY29udGV4dC5cbiAgICovXG4gIGlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dD86IGJvb2xlYW5cbiAgb25DaGFuZ2U6ICh1c2VEYXRhU291cmNlOiBJTVVzZURhdGFTb3VyY2UsIGlzRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHQ6IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFVzZSB3aWRnZXQgaWQgdG8gZ2V0IHdpZGdldCBjb250ZXh0LCBlLmcuIHdoZXRoZXIgd2lkZ2V0IGlzIGluIHJlcGVhdGVkIGRhdGEgc291cmNlIGNvbnRleHQuXG4gICAqL1xuICB3aWRnZXRJZD86IHN0cmluZ1xuICAvKipcbiAgICogVGhlIHByaW9yaXR5IG9mIGRlZmF1bHQgc2VsZWN0ZWQgZGF0YSB2aWV3IGlmIG5vIGBzZWxlY3RlZFVzZURhdGFTb3VyY2VgLlxuICAgKi9cbiAgZGVmYXVsdERhdGFWaWV3UHJpb3JpdHk/OiBEYXRhVmlld1ByaW9yaXR5XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSBzZWxlY3Rpb24gZGF0YSB2aWV3LlxuICAgKi9cbiAgdXNlU2VsZWN0aW9uRGF0YVZpZXc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSBwb3B1bGF0ZWQgZGF0YSB2aWV3LlxuICAgKi9cbiAgdXNlUG9wdWxhdGVkRGF0YVZpZXc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGhpZGUgdGhlIHNlbGVjdCBjb21wb25lbnQgd2hpY2ggaXMgdG8gc2VsZWN0IG1haW4gZGF0YSBzb3VyY2UuXG4gICAqL1xuICBoaWRlTWFpbkRhdGFTb3VyY2VTZWxlY3Q/OiBib29sZWFuXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZVxufVxuXG5pbnRlcmZhY2UgU3RhdGVUb1Byb3BzIHtcbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbn1cblxuY29uc3QgREVGQVVMVF9EQVRBX1ZJRVdfSUQgPSAnVVNFX01BSU5fREFUQV9TT1VSQ0UnXG5cbmNsYXNzIF9NYWluRGF0YUFuZFZpZXdTZWxlY3RvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TWFpbkRhdGFBbmRWaWV3U2VsZWN0b3JQcm9wcyAmIEV4dHJhUHJvcHMgJiBTdGF0ZVRvUHJvcHMsIHVua25vd24+IHtcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RlZFVzZURhdGFTb3VyY2UpIHtcbiAgICAgIGNvbnN0IHRlbXBTZWxlY3RVc2VEcyA9IHRoaXMuZ2V0T25lRGVmYXVsdFVzZURzKHRoaXMucHJvcHMud2lkZ2V0SWQsIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMsIHRoaXMucHJvcHMuYnJvd3NlclNpemVNb2RlKVxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShcbiAgICAgICAgdGhpcy5nZXRSZWFsVXNlRGF0YVNvdXJjZXModGVtcFNlbGVjdFVzZURzLCB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzKSxcbiAgICAgICAgdGVtcFNlbGVjdFVzZURzPy5kYXRhVmlld0lkID09PSBDT05TVEFOVFMuUkVQRUFUX0NPTlRFWFRfREFUQV9WSUVXX0lEXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IE1haW5EYXRhQW5kVmlld1NlbGVjdG9yUHJvcHMgJiBFeHRyYVByb3BzICYgU3RhdGVUb1Byb3BzKSB7XG4gICAgaWYgKFxuICAgICAgKHByZXZQcm9wcy53aWRnZXRJZCAhPT0gdGhpcy5wcm9wcy53aWRnZXRJZCB8fCAhdGhpcy5nZXRXaGV0aGVyVXNlRHNJc1NoYWxsb3dFcXVhbChwcmV2UHJvcHMudXNlRGF0YVNvdXJjZXMsIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMpIHx8XG4gICAgICAgIHByZXZQcm9wcy5icm93c2VyU2l6ZU1vZGUgIT09IHRoaXMucHJvcHMuYnJvd3NlclNpemVNb2RlKSB8fFxuICAgICAgLy8gZG8gbm90IGFsbG93IHRvIGhhdmUgbm8gc2VsZWN0ZWQgZGF0YSBzb3VyY2VcbiAgICAgICF0aGlzLnByb3BzLnNlbGVjdGVkVXNlRGF0YVNvdXJjZVxuICAgICkge1xuICAgICAgY29uc3QgdGVtcFNlbGVjdFVzZURzID0gdGhpcy5nZXRPbmVEZWZhdWx0VXNlRHModGhpcy5wcm9wcy53aWRnZXRJZCwgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcywgdGhpcy5wcm9wcy5icm93c2VyU2l6ZU1vZGUpXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKFxuICAgICAgICB0aGlzLmdldFJlYWxVc2VEYXRhU291cmNlcyh0ZW1wU2VsZWN0VXNlRHMsIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMpLFxuICAgICAgICB0ZW1wU2VsZWN0VXNlRHM/LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5SRVBFQVRfQ09OVEVYVF9EQVRBX1ZJRVdfSURcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRXaGV0aGVyVXNlRHNJc1NoYWxsb3dFcXVhbCA9ICh1MTogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4sIHUyOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPik6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc0VxdWFsID0gZmFsc2VcbiAgICBpZiAodTEgJiYgdTIgJiYgdTEubGVuZ3RoID09PSB1Mi5sZW5ndGgpIHtcbiAgICAgIGlzRXF1YWwgPSAhdTEuc29tZSgodiwgaSkgPT4gdi5kYXRhU291cmNlSWQgIT09IHUyW2ldLmRhdGFTb3VyY2VJZClcbiAgICB9XG5cbiAgICByZXR1cm4gaXNFcXVhbFxuICB9XG5cbiAgaXNQb3B1bGF0ZWRWaWV3ID0gKHU6IElNVXNlRGF0YVNvdXJjZSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiB1Py5kYXRhVmlld0lkID09PSBDT05TVEFOVFMuUkVQRUFUX0NPTlRFWFRfREFUQV9WSUVXX0lEXG4gIH1cblxuICBpc1NlbGVjdGlvblZpZXcgPSAodTogSU1Vc2VEYXRhU291cmNlKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIHU/LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lEXG4gIH1cblxuICBpc0RlZmF1bHRWaWV3ID0gKHU6IElNVXNlRGF0YVNvdXJjZSk6IGJvb2xlYW4gPT4geyAvLyBkZWZhbHV0IHZpZXcgaXMgdGhlIG1haW4gZGF0YSBzb3VyY2VcbiAgICByZXR1cm4gdT8uZGF0YVZpZXdJZCA9PT0gREVGQVVMVF9EQVRBX1ZJRVdfSUQgfHwgdT8uZGF0YVZpZXdJZCA9PT0gQ09OU1RBTlRTLk9VVFBVVF9EQVRBX1ZJRVdfSURcbiAgfVxuXG4gIGlzQ29tbW9uVmlldyA9ICh1OiBJTVVzZURhdGFTb3VyY2UpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdT8uZGF0YVZpZXdJZCAmJiAhdGhpcy5pc1BvcHVsYXRlZFZpZXcodSkgJiYgIXRoaXMuaXNTZWxlY3Rpb25WaWV3KHUpICYmICF0aGlzLmlzRGVmYXVsdFZpZXcodSlcbiAgfVxuXG4gIGdldE9uZURlZmF1bHRVc2VEcyA9ICh3aWRnZXRJZDogc3RyaW5nLCBhbGxVc2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4sIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogSU1Vc2VEYXRhU291cmNlID0+IHtcbiAgICBjb25zdCBncm91cGVkVXNlRHNzID0gdGhpcy5ncm91cFVzZURhdGFTb3VyY2VzQnlNYWluRHNBbmRBZGRBdXRvVmlld3Mod2lkZ2V0SWQsIGFsbFVzZURhdGFTb3VyY2VzLCBicm93c2VyU2l6ZU1vZGUpXG4gICAgbGV0IHByaW9yaXR5OiBBcnJheTwodTogSU1Vc2VEYXRhU291cmNlKSA9PiBib29sZWFuPiA9IFtdXG5cbiAgICBpZiAodGhpcy5wcm9wcy5kZWZhdWx0RGF0YVZpZXdQcmlvcml0eSA9PT0gRGF0YVZpZXdQcmlvcml0eS5TZWNvbmQpIHtcbiAgICAgIHByaW9yaXR5ID0gW3RoaXMuaXNDb21tb25WaWV3LCB0aGlzLmlzRGVmYXVsdFZpZXcsIHRoaXMuaXNTZWxlY3Rpb25WaWV3LCB0aGlzLmlzUG9wdWxhdGVkVmlld11cbiAgICB9IGVsc2Uge1xuICAgICAgcHJpb3JpdHkgPSBbdGhpcy5pc1BvcHVsYXRlZFZpZXcsIHRoaXMuaXNDb21tb25WaWV3LCB0aGlzLmlzU2VsZWN0aW9uVmlldywgdGhpcy5pc0RlZmF1bHRWaWV3XVxuICAgIH1cblxuICAgIGNvbnN0IHVzZURzc0Zyb21SYW5kb21NYWluRHM6IElNVXNlRGF0YVNvdXJjZVtdID0gT2JqZWN0LnZhbHVlcyhncm91cGVkVXNlRHNzKS5maW5kKHVzZURzcyA9PiB1c2VEc3Muc29tZSh1ID0+IHByaW9yaXR5WzBdKHUpKSkgfHxcbiAgICAgIE9iamVjdC52YWx1ZXMoZ3JvdXBlZFVzZURzcykuZmluZCh1c2VEc3MgPT4gdXNlRHNzLnNvbWUodSA9PiBwcmlvcml0eVsxXSh1KSkpIHx8XG4gICAgICBPYmplY3QudmFsdWVzKGdyb3VwZWRVc2VEc3MpLmZpbmQodXNlRHNzID0+IHVzZURzcy5zb21lKHUgPT4gcHJpb3JpdHlbMl0odSkpKSB8fFxuICAgICAgT2JqZWN0LnZhbHVlcyhncm91cGVkVXNlRHNzKS5maW5kKHVzZURzcyA9PiB1c2VEc3Muc29tZSh1ID0+IHByaW9yaXR5WzNdKHUpKSkgfHxcbiAgICAgIE9iamVjdC52YWx1ZXMoZ3JvdXBlZFVzZURzcylbMF1cbiAgICBjb25zdCBkZWZhdWx0U2VsZWN0ZWRVc2VEczogSU1Vc2VEYXRhU291cmNlID0gdXNlRHNzRnJvbVJhbmRvbU1haW5Ec1xuICAgICAgPyAoXG4gICAgICAgICAgdXNlRHNzRnJvbVJhbmRvbU1haW5Ecy5maW5kKHUgPT4gcHJpb3JpdHlbMF0odSkpIHx8XG4gICAgICB1c2VEc3NGcm9tUmFuZG9tTWFpbkRzLmZpbmQodSA9PiBwcmlvcml0eVsxXSh1KSkgfHxcbiAgICAgIHVzZURzc0Zyb21SYW5kb21NYWluRHMuZmluZCh1ID0+IHByaW9yaXR5WzJdKHUpKSB8fFxuICAgICAgdXNlRHNzRnJvbVJhbmRvbU1haW5Ecy5maW5kKHUgPT4gcHJpb3JpdHlbM10odSkpIHx8XG4gICAgICB1c2VEc3NGcm9tUmFuZG9tTWFpbkRzWzBdXG4gICAgICAgIClcbiAgICAgIDogbnVsbFxuXG4gICAgcmV0dXJuIGRlZmF1bHRTZWxlY3RlZFVzZURzXG4gIH1cblxuICBnZXRTZWxlY3RlZFVzZURzRnJvbVByb3BzID0gKHdpZGdldElkOiBzdHJpbmcsIHNlbGVjdGVkVXNlRGF0YVNvdXJjZTogSU1Vc2VEYXRhU291cmNlLCBhbGxVc2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4sXG4gICAgaXNTZWxlY3RlZEZyb21SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0OiBib29sZWFuLCBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSk6IElNVXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgY29uc3QgZ3JvdXBlZFVzZURzcyA9IHRoaXMuZ3JvdXBVc2VEYXRhU291cmNlc0J5TWFpbkRzQW5kQWRkQXV0b1ZpZXdzKHdpZGdldElkLCBhbGxVc2VEYXRhU291cmNlcywgYnJvd3NlclNpemVNb2RlKVxuICAgIGNvbnN0IGRlZmF1bHRTZWxlY3RlZFVzZURzID0gdGhpcy5nZXRPbmVEZWZhdWx0VXNlRHMod2lkZ2V0SWQsIGFsbFVzZURhdGFTb3VyY2VzLCBicm93c2VyU2l6ZU1vZGUpXG4gICAgY29uc3QgdGVtcFNlbGVjdFVzZURzID0gc2VsZWN0ZWRVc2VEYXRhU291cmNlXG4gICAgICA/IChcbiAgICAgICAgICBpc1NlbGVjdGVkRnJvbVJlcGVhdGVkRGF0YVNvdXJjZUNvbnRleHRcbiAgICAgICAgICAgID8gZ3JvdXBlZFVzZURzc1tzZWxlY3RlZFVzZURhdGFTb3VyY2UubWFpbkRhdGFTb3VyY2VJZF0/LmZpbmQodSA9PiB1LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5SRVBFQVRfQ09OVEVYVF9EQVRBX1ZJRVdfSUQpXG4gICAgICAgICAgICA6IChzZWxlY3RlZFVzZURhdGFTb3VyY2UuZGF0YVZpZXdJZCA/IHNlbGVjdGVkVXNlRGF0YVNvdXJjZSA6IGdyb3VwZWRVc2VEc3Nbc2VsZWN0ZWRVc2VEYXRhU291cmNlLm1haW5EYXRhU291cmNlSWRdPy5maW5kKHUgPT4gdS5kYXRhVmlld0lkID09PSBERUZBVUxUX0RBVEFfVklFV19JRCkpXG4gICAgICAgIClcbiAgICAgIDogZGVmYXVsdFNlbGVjdGVkVXNlRHNcblxuICAgIHJldHVybiB0ZW1wU2VsZWN0VXNlRHNcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGlzIGluIHJlcGVhdGVkIGRhdGEgc291cmNlIGNvbnRleHQuXG4gICAqIFNvbWUgd2lkZ2V0cyBjYW4gcHJvdmlkZSByZXBlYXRlZCBkYXRhIHNvdXJjZSBjb250ZXh0LCBzdWNoIGFzIGxpc3Qgd2lkZ2V0LlxuICAgKiBJZiB3aWRnZXRzIGFyZSBpbiBzdWNoIGEgd2lkZ2V0LCB0aGV5IHdpbGwgaGF2ZSBhIHJlcGVhdGVkIGRhdGEgc291cmNlIGNvbnRleHQuXG4gICAqL1xuICBnZXRXaGV0aGVyVXNlUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dCA9ICh3aWRnZXRJZDogc3RyaW5nLCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzOiBJTVVzZURhdGFTb3VyY2VbXSwgYWxsVXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+LFxuICAgIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gd2luZG93Py5qaW11Q29uZmlnPy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcgOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcENvbmZpZ1xuICAgIGlmICghY29uZmlnIHx8ICF3aWRnZXRJZCB8fCAhdXNlRGF0YVNvdXJjZXNXaXRoU2FtZU1haW5EcyB8fCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzLmxlbmd0aCA9PT0gMCB8fCAhYWxsVXNlRGF0YVNvdXJjZXMgfHwgIWJyb3dzZXJTaXplTW9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFdpZGdldElkID0gc2VhcmNoVXRpbHMuZ2V0UGFyZW50V2lkZ2V0SWRPZkNvbnRlbnQoY29uZmlnLCB3aWRnZXRJZCwgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LCBicm93c2VyU2l6ZU1vZGUpXG4gICAgY29uc3QgcGFyZW50V2lkZ2V0SnNvbiA9IGNvbmZpZy53aWRnZXRzW3BhcmVudFdpZGdldElkXVxuICAgIGNvbnN0IGlzSW5SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0ID0gcGFyZW50V2lkZ2V0SnNvbiAmJiBwYXJlbnRXaWRnZXRKc29uLm1hbmlmZXN0LnByb3BlcnRpZXM/LmNhblByb3ZpZGVSZXBlYXREYXRhU291cmNlXG5cbiAgICBsZXQgaGF2ZVNhbWVVc2VEYXRhU291cmNlcyA9IGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZWFsVXNlRGF0YVNvdXJjZSA9IHRoaXMuZ2V0UmVhbFVzZURhdGFTb3VyY2VzKHVzZURhdGFTb3VyY2VzV2l0aFNhbWVNYWluRHNbaV0sIGFsbFVzZURhdGFTb3VyY2VzKVxuICAgICAgaGF2ZVNhbWVVc2VEYXRhU291cmNlcyA9IHBhcmVudFdpZGdldEpzb24/LnVzZURhdGFTb3VyY2VzICYmIHBhcmVudFdpZGdldEpzb24udXNlRGF0YVNvdXJjZXNcbiAgICAgICAgLnNvbWUocGFyZW50VSA9PiByZWFsVXNlRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUlkID09PSBwYXJlbnRVLmRhdGFTb3VyY2VJZClcblxuICAgICAgaWYgKGhhdmVTYW1lVXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzSW5SZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0ICYmIGhhdmVTYW1lVXNlRGF0YVNvdXJjZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHcm91cCB1c2UgZGF0YSBzb3VyY2VzIGJ5IG1haW4gZGF0YSBpZCBhbmQgYWRkIGF1dG8gYWRkZWQgZGF0YSB2aWV3cyAoc3VjaCBhcyBzZWxlY3Rpb24gZGF0YSB2aWV3IGFuZCBwb3B1bGF0ZWQgZGF0YSB2aWV3KSBmb3IgZWFjaCBtYWluIGRhdGEgc291cmNlLlxuICAgKi9cbiAgZ3JvdXBVc2VEYXRhU291cmNlc0J5TWFpbkRzQW5kQWRkQXV0b1ZpZXdzID0gKHdpZGdldElkOiBzdHJpbmcsIGFsbFVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPiwgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGUpOiB7IFttYWluRHNJZDogc3RyaW5nXTogSU1Vc2VEYXRhU291cmNlW10gfSA9PiB7XG4gICAgaWYgKCFicm93c2VyU2l6ZU1vZGUgfHwgIWFsbFVzZURhdGFTb3VyY2VzIHx8IGFsbFVzZURhdGFTb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHt9XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBlZFVzZURzczogeyBbbWFpbkRzSWQ6IHN0cmluZ106IElNVXNlRGF0YVNvdXJjZVtdIH0gPSB7fVxuICAgIGFsbFVzZURhdGFTb3VyY2VzLmZvckVhY2godSA9PiB7XG4gICAgICBpZiAoIWdyb3VwZWRVc2VEc3NbdS5tYWluRGF0YVNvdXJjZUlkXSkge1xuICAgICAgICBncm91cGVkVXNlRHNzW3UubWFpbkRhdGFTb3VyY2VJZF0gPSBbXVxuICAgICAgfVxuICAgICAgaWYgKCFncm91cGVkVXNlRHNzW3UubWFpbkRhdGFTb3VyY2VJZF0uc29tZSh2ID0+IHYuZGF0YVNvdXJjZUlkID09PSB1LmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgICAgY29uc3QgaXNNYWluRHM6IGJvb2xlYW4gPSAhdS5kYXRhVmlld0lkICYmIHUuZGF0YVNvdXJjZUlkID09PSB1Lm1haW5EYXRhU291cmNlSWRcbiAgICAgICAgaWYgKGlzTWFpbkRzKSB7IC8vIGFkZCBhIHRlbXBvcmFyeSBkYXRhIHZpZXcgZm9yIG1haW4gZGF0YSBzb3VyY2VcbiAgICAgICAgICBjb25zdCBkZWZhbHVsdERhdGFWaWV3OiBJTVVzZURhdGFTb3VyY2UgPSB1LnNldCgnZGF0YVNvdXJjZUlkJywgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhVmlld0RhdGFTb3VyY2VJZCh1Lm1haW5EYXRhU291cmNlSWQsIERFRkFVTFRfREFUQV9WSUVXX0lEKSlcbiAgICAgICAgICAgIC5zZXQoJ2RhdGFWaWV3SWQnLCBERUZBVUxUX0RBVEFfVklFV19JRClcbiAgICAgICAgICBncm91cGVkVXNlRHNzW3UubWFpbkRhdGFTb3VyY2VJZF0gPSBncm91cGVkVXNlRHNzW3UubWFpbkRhdGFTb3VyY2VJZF0uY29uY2F0KGRlZmFsdWx0RGF0YVZpZXcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXBlZFVzZURzc1t1Lm1haW5EYXRhU291cmNlSWRdID0gZ3JvdXBlZFVzZURzc1t1Lm1haW5EYXRhU291cmNlSWRdLmNvbmNhdCh1KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIE9iamVjdC5rZXlzKGdyb3VwZWRVc2VEc3MpLmZvckVhY2gobWFpbkRhdGFTb3VyY2VJZCA9PiB7XG4gICAgICAvLyBhZGQgYXV0byBhZGRlZCBkYXRhIHZpZXdzXG4gICAgICBncm91cGVkVXNlRHNzW21haW5EYXRhU291cmNlSWRdID0gZ3JvdXBlZFVzZURzc1ttYWluRGF0YVNvdXJjZUlkXVxuICAgICAgICAuY29uY2F0KHRoaXMuZ2V0QXV0b0FkZGVkRGF0YVZpZXdzKHdpZGdldElkLCBncm91cGVkVXNlRHNzW21haW5EYXRhU291cmNlSWRdLCBhbGxVc2VEYXRhU291cmNlcywgYnJvd3NlclNpemVNb2RlKSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGdyb3VwZWRVc2VEc3NcbiAgfVxuXG4gIGdldEF1dG9BZGRlZERhdGFWaWV3cyA9ICh3aWRnZXRJZDogc3RyaW5nLCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzOiBJTVVzZURhdGFTb3VyY2VbXSwgYWxsVXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+LFxuICAgIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogSU1Vc2VEYXRhU291cmNlW10gPT4ge1xuICAgIGlmICghdXNlRGF0YVNvdXJjZXNXaXRoU2FtZU1haW5EcyB8fCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzLmxlbmd0aCA9PT0gMCB8fCAhYnJvd3NlclNpemVNb2RlKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBjb25zdCBtYWluRHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UodXNlRGF0YVNvdXJjZXNXaXRoU2FtZU1haW5Ec1swXS5tYWluRGF0YVNvdXJjZUlkKVxuICAgIC8qKlxuICAgICAqIFdoZW4gc2VsZWN0aW5nIG1haW4gZGF0YSBzb3VyY2VzIGFuZCBkYXRhIHZpZXdzLCBhbGwgZGF0YSBzb3VyY2VzIGFuZCBzZWxlY3Rpb24gdmlld3MgYXJlIGNyZWF0ZWQuXG4gICAgICogQnV0IHNldCBkYXRhIHNvdXJjZSAoc3VjaCBhcyB3ZWJtYXAgZGF0YSBzb3VyY2UpIGRvZXMgbm90IHN1cHBvcnQgdG8gY3JlYXRlIHZpZXdzLCByZXR1cm4gYW4gZW1wdHkgYXJyYXkuXG4gICAgICovXG4gICAgY29uc3QgY2FuQ3JlYXRlVmlld3MgPSBtYWluRHMgJiYgIW1haW5Ecy5pc0RhdGFTb3VyY2VTZXRcbiAgICBpZiAoIWNhbkNyZWF0ZVZpZXdzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBsZXQgZGVmYXVsdERhdGFWaWV3cyA9IFtdXG5cbiAgICBpZiAodGhpcy5wcm9wcy51c2VTZWxlY3Rpb25EYXRhVmlldykge1xuICAgICAgaWYgKCF1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzLnNvbWUodSA9PiB1LmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lEKSkgeyAvLyBJZiB1c2luZyBzZWxlY3Rpb24gZGF0YSB2aWV3LCBkbyBub3QgZHVwbGljYXRlIGl0LlxuICAgICAgICBjb25zdCBzZWxlY3Rpb25WaWV3OiBJTVVzZURhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzWzBdXG4gICAgICAgICAgLnNldCgnZGF0YVNvdXJjZUlkJywgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhVmlld0RhdGFTb3VyY2VJZCh1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzWzBdLm1haW5EYXRhU291cmNlSWQsIENPTlNUQU5UUy5TRUxFQ1RJT05fREFUQV9WSUVXX0lEKSlcbiAgICAgICAgICAuc2V0KCdkYXRhVmlld0lkJywgQ09OU1RBTlRTLlNFTEVDVElPTl9EQVRBX1ZJRVdfSUQpXG4gICAgICAgIGRlZmF1bHREYXRhVmlld3MgPSBkZWZhdWx0RGF0YVZpZXdzLmNvbmNhdChzZWxlY3Rpb25WaWV3KVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy51c2VQb3B1bGF0ZWREYXRhVmlldyAmJiB0aGlzLmdldFdoZXRoZXJVc2VSZXBlYXRlZERhdGFTb3VyY2VDb250ZXh0KHdpZGdldElkLCB1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzLCBhbGxVc2VEYXRhU291cmNlcywgYnJvd3NlclNpemVNb2RlKSkge1xuICAgICAgY29uc3QgcmVwZWF0Q29udGV4dFZpZXc6IElNVXNlRGF0YVNvdXJjZSA9IHVzZURhdGFTb3VyY2VzV2l0aFNhbWVNYWluRHNbMF1cbiAgICAgICAgLnNldCgnZGF0YVNvdXJjZUlkJywgRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhVmlld0RhdGFTb3VyY2VJZCh1c2VEYXRhU291cmNlc1dpdGhTYW1lTWFpbkRzWzBdLm1haW5EYXRhU291cmNlSWQsIENPTlNUQU5UUy5SRVBFQVRfQ09OVEVYVF9EQVRBX1ZJRVdfSUQpKVxuICAgICAgICAuc2V0KCdkYXRhVmlld0lkJywgQ09OU1RBTlRTLlJFUEVBVF9DT05URVhUX0RBVEFfVklFV19JRClcbiAgICAgIGRlZmF1bHREYXRhVmlld3MgPSBkZWZhdWx0RGF0YVZpZXdzLmNvbmNhdChyZXBlYXRDb250ZXh0VmlldylcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdERhdGFWaWV3c1xuICB9XG5cbiAgZ2V0RHNMYWJlbCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgZGF0YVZpZXdJZD86IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKGRhdGFWaWV3SWQgJiYgZGF0YVZpZXdJZCA9PT0gQ09OU1RBTlRTLlNFTEVDVElPTl9EQVRBX1ZJRVdfSUQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VsZWN0aW9uRGF0YVZpZXcnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNlbGVjdGlvbkRhdGFWaWV3IH0pXG4gICAgfVxuICAgIGlmIChkYXRhVmlld0lkICYmIGRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5SRVBFQVRfQ09OVEVYVF9EQVRBX1ZJRVdfSUQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncG9wdWxhdGVkRGF0YVZpZXcnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnBvcHVsYXRlZERhdGFWaWV3IH0pXG4gICAgfVxuICAgIGlmIChkYXRhVmlld0lkICYmIChkYXRhVmlld0lkID09PSBERUZBVUxUX0RBVEFfVklFV19JRCB8fCBkYXRhVmlld0lkID09PSBDT05TVEFOVFMuT1VUUFVUX0RBVEFfVklFV19JRCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZGVmYXVsdCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZGVmYXVsdCB9KVxuICAgIH1cbiAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpXG4gICAgaWYgKGRzKSB7XG4gICAgICByZXR1cm4gZHMuZ2V0TGFiZWwoKSB8fCBkcy5pZFxuICAgIH1cbiAgICByZXR1cm4gZGF0YVNvdXJjZUlkXG4gIH1cblxuICBnZXRSZWFsVXNlRGF0YVNvdXJjZXMgPSAodGVtcFNlbGVjdFVzZURzOiBJTVVzZURhdGFTb3VyY2UsIGFsbFVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPik6IElNVXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgaWYgKCF0ZW1wU2VsZWN0VXNlRHMpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKHRlbXBTZWxlY3RVc2VEcy5kYXRhVmlld0lkID09PSBERUZBVUxUX0RBVEFfVklFV19JRCkge1xuICAgICAgcmV0dXJuIHRlbXBTZWxlY3RVc2VEc1xuICAgICAgICAuc2V0KCdkYXRhU291cmNlSWQnLCB0ZW1wU2VsZWN0VXNlRHMubWFpbkRhdGFTb3VyY2VJZClcbiAgICAgICAgLndpdGhvdXQoJ2RhdGFWaWV3SWQnKVxuICAgIH0gZWxzZSBpZiAodGVtcFNlbGVjdFVzZURzLmRhdGFWaWV3SWQgPT09IENPTlNUQU5UUy5SRVBFQVRfQ09OVEVYVF9EQVRBX1ZJRVdfSUQpIHtcbiAgICAgIGNvbnN0IHVzZURzSGFzU2FtZU1haW5Ec0FzU2VsZWN0ZWRVc2VEcyA9IGFsbFVzZURhdGFTb3VyY2VzLmZpbmQodSA9PiB1Lm1haW5EYXRhU291cmNlSWQgPT09IHRlbXBTZWxlY3RVc2VEcy5tYWluRGF0YVNvdXJjZUlkKVxuICAgICAgcmV0dXJuIHVzZURzSGFzU2FtZU1haW5Ec0FzU2VsZWN0ZWRVc2VEcyAmJiBJbW11dGFibGUodXNlRHNIYXNTYW1lTWFpbkRzQXNTZWxlY3RlZFVzZURzKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGVtcFNlbGVjdFVzZURzXG4gICAgfVxuICB9XG5cbiAgb25NYWluRGF0YUNoYW5nZSA9IGUgPT4ge1xuICAgIGNvbnN0IG1haW5EYXRhU291cmNlSWQgPSBlLnRhcmdldC52YWx1ZVxuICAgIGlmIChtYWluRGF0YVNvdXJjZUlkICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVXNlRGF0YVNvdXJjZS5tYWluRGF0YVNvdXJjZUlkKSB7XG4gICAgICBjb25zdCB1c2VEcyA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuZmluZCh1ID0+IHUubWFpbkRhdGFTb3VyY2VJZCA9PT0gbWFpbkRhdGFTb3VyY2VJZCkgfHwgeyBkYXRhU291cmNlSWQ6IG1haW5EYXRhU291cmNlSWQsIG1haW5EYXRhU291cmNlSWQgfVxuICAgICAgY29uc3QgdGVtcFNlbGVjdFVzZURzID0gdGhpcy5nZXRPbmVEZWZhdWx0VXNlRHModGhpcy5wcm9wcy53aWRnZXRJZCwgSW1tdXRhYmxlKFt1c2VEc10pLCB0aGlzLnByb3BzLmJyb3dzZXJTaXplTW9kZSlcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoXG4gICAgICAgIHRoaXMuZ2V0UmVhbFVzZURhdGFTb3VyY2VzKHRlbXBTZWxlY3RVc2VEcywgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyksXG4gICAgICAgIHRlbXBTZWxlY3RVc2VEcz8uZGF0YVZpZXdJZCA9PT0gQ09OU1RBTlRTLlJFUEVBVF9DT05URVhUX0RBVEFfVklFV19JRFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIG9uRGF0YVZpZXdDaGFuZ2UgPSBlID0+IHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0ZWRVc2VEYXRhU291cmNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgZGF0YVZpZXdJZCA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgdGVtcFNlbGVjdFVzZURzID0gdGhpcy5wcm9wcy5zZWxlY3RlZFVzZURhdGFTb3VyY2VcbiAgICAgIC5zZXQoJ2RhdGFTb3VyY2VJZCcsIERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVZpZXdEYXRhU291cmNlSWQodGhpcy5wcm9wcy5zZWxlY3RlZFVzZURhdGFTb3VyY2UubWFpbkRhdGFTb3VyY2VJZCwgZGF0YVZpZXdJZCkpXG4gICAgICAuc2V0KCdkYXRhVmlld0lkJywgZGF0YVZpZXdJZClcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKFxuICAgICAgdGhpcy5nZXRSZWFsVXNlRGF0YVNvdXJjZXModGVtcFNlbGVjdFVzZURzLCB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzKSxcbiAgICAgIHRlbXBTZWxlY3RVc2VEcz8uZGF0YVZpZXdJZCA9PT0gQ09OU1RBTlRTLlJFUEVBVF9DT05URVhUX0RBVEFfVklFV19JRFxuICAgIClcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwZWRVc2VEc3MgPSB0aGlzLmdyb3VwVXNlRGF0YVNvdXJjZXNCeU1haW5Ec0FuZEFkZEF1dG9WaWV3cyh0aGlzLnByb3BzLndpZGdldElkLCB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLCB0aGlzLnByb3BzLmJyb3dzZXJTaXplTW9kZSlcbiAgICBjb25zdCB0ZW1wU2VsZWN0VXNlRHMgPSB0aGlzLmdldFNlbGVjdGVkVXNlRHNGcm9tUHJvcHModGhpcy5wcm9wcy53aWRnZXRJZCwgdGhpcy5wcm9wcy5zZWxlY3RlZFVzZURhdGFTb3VyY2UsIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMsXG4gICAgICB0aGlzLnByb3BzLmlzU2VsZWN0ZWRGcm9tUmVwZWF0ZWREYXRhU291cmNlQ29udGV4dCwgdGhpcy5wcm9wcy5icm93c2VyU2l6ZU1vZGUpXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCcsIHsgW3RoaXMucHJvcHMuY2xhc3NOYW1lXTogISF0aGlzLnByb3BzLmNsYXNzTmFtZSB9KX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21wb25lbnQtbWFpbi1kYXRhLWFuZC12aWV3JyByb2xlPSdncm91cCcgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2RhdGEnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRhdGEgfSl9PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgICF0aGlzLnByb3BzLmhpZGVNYWluRGF0YVNvdXJjZVNlbGVjdCAmJlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIHRleHQtdHJ1bmNhdGUgbWItMyBvcHRpb24tbGFiZWwgbWItMic+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZGF0YScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZGF0YSB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgICB7XG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5oaWRlTWFpbkRhdGFTb3VyY2VTZWxlY3QgJiZcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWdyb3ctMSc+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3RlbXBTZWxlY3RVc2VEcz8ubWFpbkRhdGFTb3VyY2VJZH0gY2xhc3NOYW1lPSdqaW11LW91dGxpbmUtaW5zaWRlJyBvbkNoYW5nZT17dGhpcy5vbk1haW5EYXRhQ2hhbmdlfSBzaXplPSdzbSc+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZ3JvdXBlZFVzZURzcykuc29ydCgoZDEsIGQyKSA9PiBkMT8ubG9jYWxlQ29tcGFyZShkMikpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKG1haW5EYXRhU291cmNlSWQsIGkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17bWFpbkRhdGFTb3VyY2VJZH0ga2V5PXtpfSB0aXRsZT17dGhpcy5nZXREc0xhYmVsKG1haW5EYXRhU291cmNlSWQpfT48ZGl2IGNsYXNzTmFtZT0ndGV4dC10cnVuY2F0ZSc+e3RoaXMuZ2V0RHNMYWJlbChtYWluRGF0YVNvdXJjZUlkKX08L2Rpdj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ZsZXgtZ3Jvdy0xJywgeyAnbXQtMic6ICF0aGlzLnByb3BzLmhpZGVNYWluRGF0YVNvdXJjZVNlbGVjdCB9KX0+XG4gICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0ZW1wU2VsZWN0VXNlRHM/LmRhdGFWaWV3SWR9IGNsYXNzTmFtZT0namltdS1vdXRsaW5lLWluc2lkZScgb25DaGFuZ2U9e3RoaXMub25EYXRhVmlld0NoYW5nZX0gc2l6ZT0nc20nPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3JvdXBlZFVzZURzc1t0ZW1wU2VsZWN0VXNlRHM/Lm1haW5EYXRhU291cmNlSWRdPy5zb3J0KCh1MSwgdTIpID0+IHUxPy5kYXRhU291cmNlSWQ/LmxvY2FsZUNvbXBhcmUodTI/LmRhdGFTb3VyY2VJZCkpXG4gICAgICAgICAgICAgICAgICAubWFwKCh1LCBpKSA9PlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXt1LmRhdGFWaWV3SWR9IGtleT17aX0gdGl0bGU9e3RoaXMuZ2V0RHNMYWJlbCh1LmRhdGFTb3VyY2VJZCwgdS5kYXRhVmlld0lkKX0+PGRpdiBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUnPnt0aGlzLmdldERzTGFiZWwodS5kYXRhU291cmNlSWQsIHUuZGF0YVZpZXdJZCl9PC9kaXY+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBNYWluRGF0YUFuZFZpZXdTZWxlY3RvclByb3BzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgYnJvd3NlclNpemVNb2RlOiBzdGF0ZT8uYXBwQ29udGV4dD8uaXNCdWlsZGVyID8gc3RhdGU/LmFwcFN0YXRlSW5CdWlsZGVyPy5icm93c2VyU2l6ZU1vZGUgOiBzdGF0ZT8uYnJvd3NlclNpemVNb2RlXG4gIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgX19NYWluRGF0YUFuZFZpZXdTZWxlY3RvciA9IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvUHJvcHMsIHVua25vd24sIE1haW5EYXRhQW5kVmlld1NlbGVjdG9yUHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoX01haW5EYXRhQW5kVmlld1NlbGVjdG9yKVxuZXhwb3J0IGNvbnN0IE1haW5EYXRhQW5kVmlld1NlbGVjdG9yID0gaW5qZWN0SW50bCh3aXRoU3R5bGVzKF9fTWFpbkRhdGFBbmRWaWV3U2VsZWN0b3IsICdNYWluRGF0YUFuZFZpZXdTZWxlY3RvcicpKVxuIiwiaW1wb3J0IHsgQWxsRGF0YVNvdXJjZVR5cGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgREVGQVVMVF9EQVRBX1ZJRVdfSUQgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0ICogYXMgZGF0YUNvbXBvbmVudHNVdGlscyBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZGF0YS1zb3VyY2Utc2VsZWN0b3InXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtbGlzdCdcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9leHRlcm5hbC1kYXRhLXNvdXJjZS1zZWxlY3RvcidcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXNvdXJjZS1pdGVtJ1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2RhdGEtc291cmNlLXRyZWUnXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtZXJyb3ItaXRlbSdcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9maWVsZC1zZWxlY3RvcidcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9maWVsZC1zZWxlY3Rvci13aXRoLWZ1bGwtdGV4dC1pbmRleCdcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9tYWluLWRhdGEtYW5kLXZpZXctc2VsZWN0b3InXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZGF0YS12aWV3LXNldHRpbmctcG9wdXAnXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZGF0YS1zb3VyY2UtcmVtb3ZlLXdhcm5pbmctcG9wdXAnXG5leHBvcnQgeyBkYXRhQ29tcG9uZW50c1V0aWxzLCBERUZBVUxUX0RBVEFfVklFV19JRCB9XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGRlcHJlY2F0ZWRcbiAqIEFsbCBkYXRhIHNvdXJjZSB0eXBlcywgaW5jbHVkaW5nIHR5cGVzIGZyb20gamltdS1jb3JlIGFuZCBqaW11LWFyY2dpcy5cbiAqIFNob3VsZCBiZSBpbXBvcnRlZCBmcm9tIGppbXUtY29yZS5cbiAqL1xuZXhwb3J0IHsgQWxsRGF0YVNvdXJjZVR5cGVzIH1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZGF0YVNvdXJjZUVycm9ySXRlbVN0eWxlcyAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgPSBwcm9wcy50aGVtZVxuXG4gIHJldHVybiBjc3NgXG4gICAgLmNvbXBvbmVudC1kYXRhLXNvdXJjZS1lcnJvci1pdGVte1xuICAgICAgLmNvbXBvbmVudC1kYXRhLXNvdXJjZS1pdGVte1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs0MDBdfTtcbiAgICAgICAgKjpub3QoLmRzLWJhZGdlIHN2ZywgLmRzLWNsb3NlLWljb24pe1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX0gIWltcG9ydGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kcy1vcmlnaW4tbGFiZWx7XG4gICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC5kcy1pdGVtLWhlYWRlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs1MDBdfTtcbiAgICAgICAgfVxuICAgICAgICAuZHMtdGh1bWJuYWlse1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbODAwXX07XG4gICAgICAgIH1cbiAgICAgICAgLmRzLWNsb3NlLWljb257XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfSAhaW1wb3J0YW50O1xuICAgICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSgxNCl9O1xuICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMTQpfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCBwb2xpc2hlZCwgdHlwZSBTZXJpYWxpemVkU3R5bGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZGF0YVNvdXJjZUl0ZW1TdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIC5jb21wb25lbnQtZGF0YS1zb3VyY2UtaXRlbXtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNTAwXX07XG4gICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEyKX07XG4gICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgJjpob3ZlcntcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs2MDBdfTtcbiAgICAgIH1cbiAgICAgIC5mb250LWRhcmstNjAwe1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzYwMF19ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAubG9hZGluZy1jb250YWluZXJ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cbiAgICAgIC5kcy1pdGVtLWhlYWRlcntcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzgpfTtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzcwMF19O1xuICAgICAgfVxuICAgICAgLmRzLWl0ZW0tYm9keXtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgcGFkZGluZzogMTRweCAxMHB4IDZweCAxMHB4O1xuICAgICAgfVxuICAgICAgLnR3by1saW5lLXRydW5jYXRle1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcbiAgICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbiAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsO1xuICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICB9XG4gICAgICAuZHMtbW9yZXtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgtOCl9O1xuICAgICAgfVxuICAgICAgLmRzLWxhYmVse1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG4gICAgICB9XG4gICAgICAuZHMtdHlwZXtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzgwMF19O1xuICAgICAgICBtYXgtd2lkdGg6ICR7cG9saXNoZWQucmVtKDEwMCl9O1xuICAgICAgfVxuICAgICAgLmRzLXRodW1ibmFpbHtcbiAgICAgICAgd2lkdGg6ICAke3BvbGlzaGVkLnJlbSgxOCl9O1xuICAgICAgICBoZWlnaHQ6ICAke3BvbGlzaGVkLnJlbSgxOCl9O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmluZm9bNDAwXX07XG4gICAgICB9XG4gICAgICAuZHMtcmVsYXRlZC13aWRnZXRzLCAuZHMtY2hpbGQtZHNze1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgICB9XG4gICAgICAud2FybmluZy1pY29uLCAud2FybmluZy1pY29uPip7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls3MDBdfTtcbiAgICAgICAgZmlsbDogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYW5nZXJbNzAwXX07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmNvbXBvbmVudC1kYXRhLXNvdXJjZS1pdGVtLmNvbXBvbmVudC1kYXRhLXNvdXJjZS1pdGVtLXNlbGVjdGVkLWl0ZW17XG4gICAgICBib3JkZXI6ICR7cG9saXNoZWQucmVtKDIpfSBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICB9XG5cbiAgICAuY3Vyc29yLXBvaW50ZXJ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZGF0YVNvdXJjZUxpc3RTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIC5jb21wb25lbnQtZGF0YS1zb3VyY2UtbGlzdHtcbiAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LmZvbnRTaXplQmFzZX07XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgICAuZGF0YS10YWJzIC50YWItY29udGVudCAudGFiLXBhbmUge1xuICAgICAgICBwYWRkaW5nLXRvcDogMTZweDtcbiAgICAgIH1cblxuICAgICAgLnNlYXJjaHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgLnNlYXJjaC1pbnB1dHtcbiAgICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICB9XG4gICAgICAuc2VhcmNoLWljb257XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNjAwXX07XG4gICAgICB9XG5cbiAgICAgIC5lbXB0eS1wbGFjZWhvbGRlcntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgLmVtcHR5LXBsYWNlaG9sZGVyLXRleHQsIC5lbXB0eS1wbGFjZWhvbGRlci1pY29ue1xuICAgICAgICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC5lbXB0eS1wbGFjZWhvbGRlci10ZXh0e1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNCl9O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIC5lbXB0eS1wbGFjZWhvbGRlci1pY29ue1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs4MDBdfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuamltdS10YWJ7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgLnRhYi1jb250ZW50e1xuICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gNDBweCk7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYi1wYW5le1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC5qaW11LW5hdi5uYXYtcGlsbHN7XG4gICAgICAgICAgICBtYXJnaW46IDAgJHtwb2xpc2hlZC5yZW0oMTYpfSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmRzLWxpc3QtY29udGFpbmVye1xuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDEyMHB4KTtcbiAgICAgIH1cblxuICAgICAgLmRzLWxpc3R7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuZHMtbGlzdC1oZWFkZXJ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuXG4gICAgICAuZHMtYWRkLWRhdGF7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDQwKX07XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzcwMF19O1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs4MDBdfTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAmOmhvdmVye1xuICAgICAgICAgIC5hZGQtZGF0YS1pY29uLWNvbnRhaW5lcntcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs4MDBdfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs4MDBdfTtcbiAgICAgICAgfVxuICAgICAgICAuYWRkLWRhdGEtaWNvbi1jb250YWluZXJ7XG4gICAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDIwKX07XG4gICAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdfTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICB9XG4gICAgICAgIC5hZGQtZGF0YS1pY29ue1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5kcy1saXN0LWNsb3Nle1xuICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5kcy13aWRnZXQtYmFja3tcbiAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDgwKX07XG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuXG4gICAgICAuZHMtdHlwZXN7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LmZvbnRTaXplQmFzZX07XG4gICAgICB9XG5cbiAgICAgIC5kcy13aWRnZXQtb3V0cHV0c3tcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgIH1cblxuICAgICAgLmRzLWFkZGVkLWRhdGF7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG5cbiAgICAgIC50by11c2UtdHlwZXN7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICAgIC50eXBlcy1zZWxlY3RlZHtcbiAgICAgICAgICBtYXgtd2lkdGg6ICR7cG9saXNoZWQucmVtKDE1MCl9O1xuICAgICAgICB9XG4gICAgICAgIC50by11c2UtZHB7XG4gICAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDEyMCl9O1xuICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMjYpfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuZHMtdGh1bWJuYWlse1xuICAgICAgICB3aWR0aDogICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgIGhlaWdodDogICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuaW5mb1s0MDBdfTtcbiAgICAgIH1cbiAgICAgIC5kcy10eXBle1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG4gICAgICB9XG4gICAgICAuZHMtaXRlbS5kcy1lcnJvci1pdGVte1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs0MDBdfTtcbiAgICAgICAgKntcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLmRzLXRodW1ibmFpbHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnNlY29uZGFyeVs4MDBdfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmRzLWl0ZW17XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGxlZnQ6IC0ycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgLml0ZW17XG4gICAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgyNil9O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzUwMF19O1xuICAgICAgICAgIHBhZGRpbmctbGVmdDogMDtcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICB9XG4gICAgICAgIC5pdGVtLWFjdGl2ZS1pY29ue1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IC0xcHg7XG4gICAgICAgICAgcmlnaHQ6IC0xcHg7XG4gICAgICAgICAgLml0ZW0tYWN0aXZlLWljb24tY29udGFpbmVye1xuICAgICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgICAgICBib3JkZXItdG9wOiAke3BvbGlzaGVkLnJlbSgxMil9ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdfSBzb2xpZDtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAke3BvbGlzaGVkLnJlbSgxMil9IHRyYW5zcGFyZW50IHNvbGlkO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuZHMtaXRlbS5kcy1pdGVtLXNlbGVjdGVke1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXX07XG4gICAgICB9XG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cFN0eWxlcyAocHJvcHMpOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMgPSBwcm9wcy50aGVtZVxuXG4gIHJldHVybiBjc3NgXG4gICAgJi5tb2RhbC1kaWFsb2d7XG4gICAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcbiAgICAgIHRvcDogNTAlICFpbXBvcnRhbnQ7XG4gICAgICBsZWZ0OiA1MCUgIWltcG9ydGFudDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogNDgwcHg7XG4gICAgfVxuICAgIC5tb2RhbC1jb250ZW50e1xuICAgICAgYm9yZGVyOiAwO1xuICAgIH1cbiAgICAubW9kYWwtaGVhZGVyLCAubW9kYWwtYm9keXtcbiAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XG4gICAgfVxuICAgIC5tb2RhbC1mb290ZXJ7XG4gICAgICBwYWRkaW5nLXRvcDogMDtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICAuZm9udC0xNntcbiAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICB9XG4gICAgLmZvbnQtMTR7XG4gICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgfVxuICAgIC5mb250LTEze1xuICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgIH1cbiAgICAuZm9udC1kYXJrLTgwMHtcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX07XG4gICAgfVxuICAgIC5mb250LWRhcmstNjAwe1xuICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICB9XG4gICAgLnJlbGF0ZWQtd2lkZ2V0c3tcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgxNjApfTtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFsyMDBdfTtcbiAgICB9XG4gICAgLnJlbGF0ZWQtb3V0cHV0c3tcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWF4LWhlaWdodDogJHtwb2xpc2hlZC5yZW0oODApfTtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFsyMDBdfTtcbiAgICAgIGRpdi5vdXRwdXQtZHMtbGFiZWwrZGl2Lm91dHB1dC1kcy1sYWJlbHtcbiAgICAgICAgbWFyZ2luLXRvcDogJHtwb2xpc2hlZC5yZW0oOCl9O1xuICAgICAgfVxuICAgIH1cbiAgYFxufVxuIiwiaW1wb3J0IHsgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBjc3MsIHBvbGlzaGVkLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMgfSBmcm9tICdqaW11LWNvcmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhU291cmNlU2VsZWN0b3JTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIC5jb21wb25lbnQtZGF0YS1zb3VyY2Utc2VsZWN0b3J7XG4gICAgICAuZm9udC1kYXJrLTYwMHtcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICAgIH1cbiAgICAgIC5mb250LXdlaWdodC01MDB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG4gICAgICAuYWRkZWQtZHMtaXRlbXtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAubG9hZGluZy1jb250YWluZXJ7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC5sb2FkaW5nLXBsYWNlaG9sZGVye1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNTAwXX07XG4gICAgICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgICAuZmlyc3QtbGluZXtcbiAgICAgICAgICAgIC5maXJzdC1saW5lLWxlZnR7XG4gICAgICAgICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSgxOCl9O1xuICAgICAgICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDE4KX07XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNjAwXX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZmlyc3QtbGluZS1yaWdodHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzYwMF19O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAuc2Vjb25kLWxpbmV7XG4gICAgICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzYwMF19O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmRhdGEtdmlldy1kcm9wZG93bi1tZW51LWJ1dHRvbntcbiAgICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbMjAwXX07XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB9XG4gICAgICAuZHYtc2VsZWN0LWNvbnRhaW5lcntcbiAgICAgICAgbWFyZ2luLXRvcDogJHtwb2xpc2hlZC5yZW0oMTIpfTtcbiAgICAgICAgLmppbXUtZHJvcGRvd24tYnV0dG9ue1xuICAgICAgICAgIC5zZXR0aW5ncy1pY29ue1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5jcmVhdGUtdmlldy1idXR0b257XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgICAgICBwYWRkaW5nLXRvcDogOHB4O1xuICAgICAgICAuY3JlYXRlLXZpZXctYnV0dG9uLWJvcmRlcntcbiAgICAgICAgICB3aWR0aDogOTAlO1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuZHMtc2VsZWN0b3ItYnV0dG9ue1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDQwKX07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg0MCl9O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzEwMF19O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAke3BvbGlzaGVkLnJlbSgyKX07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdfTtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNCl9O1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICY6aG92ZXJ7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs4MDBdfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmRzLWl0ZW0uZHMtZXJyb3ItaXRlbXtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbNDAwXX07XG4gICAgICAgICp7XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIC5kcy10aHVtYm5haWx7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbODAwXX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5kcy1pdGVte1xuICAgICAgICAmOm5vdCg6Zmlyc3Qtb2YtdHlwZSkge1xuICAgICAgICAgIG1hcmdpbi10b3A6ICR7cG9saXNoZWQucmVtKDgpfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDgpfSAke3BvbGlzaGVkLnJlbSgxMCl9ICR7cG9saXNoZWQucmVtKDEwKX0gJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbNTAwXX07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgICAgICAmOmhvdmVye1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNjAwXX07XG4gICAgICAgIH1cblxuICAgICAgICAubXItMzB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgzMCl9O1xuICAgICAgICB9XG5cbiAgICAgICAgJi5kaXNhYmxlLWN1cnNvcntcbiAgICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAuZHMtaXRlbS1jbG9zZXtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAke3BvbGlzaGVkLnJlbSg1KX07XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAtNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRzLWl0ZW0tZmlsdGVye1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuZHMtaXRlbS1zb3J0e1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6ICR7cG9saXNoZWQucmVtKDUpfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kcy10aHVtYm5haWx7XG4gICAgICAgICAgd2lkdGg6ICAke3BvbGlzaGVkLnJlbSgxOCl9O1xuICAgICAgICAgIGhlaWdodDogICR7cG9saXNoZWQucmVtKDE4KX07XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5pbmZvWzQwMF19O1xuICAgICAgICB9XG4gICAgICAgIC5kcy10eXBle1xuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTQpfTtcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzgwMF19O1xuICAgICAgICB9XG4gICAgICAgIC50b3AtcmlnaHQtcmVkLWRvdC1jb250YWluZXJ7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG4gICAgICAgIC50b3AtcmlnaHQtcmVkLWRvdHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls3MDBdfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICBgXG59XG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGNzcywgdHlwZSBTZXJpYWxpemVkU3R5bGVzLCBwb2xpc2hlZCB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFTb3VyY2VUcmVlU3R5bGVzIChwcm9wcyk6IFNlcmlhbGl6ZWRTdHlsZXMge1xuICBjb25zdCB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcyA9IHByb3BzLnRoZW1lXG5cbiAgcmV0dXJuIGNzc2BcbiAgICAqe1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG4gICAgLmJne1xuICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oMTYpfSAke3BvbGlzaGVkLnJlbSgyKX07XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzIwMF19O1xuICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs2MDBdfTtcbiAgICB9XG4gICAgLnRyZWUtcm9vdHtcbiAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMjApfTtcbiAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDUpfTtcbiAgICB9XG4gICAgLmNvbXBvbmVudC1kYXRhLXNvdXJjZS10cmVle1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgLmNvbGxhcHNlLWJ1dHRvbntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAycHg7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG4gICAgICAuY29sbGFwc2UtY29udGVudHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xuICAgICAgICBwYWRkaW5nLXRvcDogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlLWJ1dHRvbjpub3QoLnJvb3QpOm5vdCgubGVhZil7XG4gICAgICAgIGxlZnQ6ICR7cG9saXNoZWQucmVtKC0xOCl9O1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlLWJ1dHRvbi5sZWFme1xuICAgICAgICBsZWZ0OiAycHg7XG4gICAgICB9XG4gICAgICAuei1pbmRleC0xIHtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgIH1cbiAgICAgIC5jb2xsYXBzZS1idXR0b246bm90KC5yb290KTpiZWZvcmV7XG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICBsZWZ0OiAtMnB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMjEpfTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlLWxpbmV7XG4gICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMjIpfTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IC0xcHg7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICB9XG4gICAgICAuY29sbGFwc2UtbGluZTpub3QoLnJvb3Qpe1xuICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMjApfTtcbiAgICAgICAgdG9wOiAtMnB4O1xuICAgICAgfVxuICAgIH1cblxuICBgXG59XG4iLCJpbXBvcnQgeyB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGNzcywgdHlwZSBTZXJpYWxpemVkU3R5bGVzLCBwb2xpc2hlZCB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFWaWV3U2V0dGluZ1BvcHVwU3R5bGVzIChwcm9wcyk6IFNlcmlhbGl6ZWRTdHlsZXMge1xuICBjb25zdCB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcyA9IHByb3BzLnRoZW1lXG5cbiAgcmV0dXJuIGNzc2BcbiAgICAuZGF0YS12aWV3LWNvbnRhaW5lcntcbiAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg5NjApfTtcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNjAwKX07XG4gICAgICBib3JkZXI6IDA7XG4gICAgfVxuICAgIC5jaWNsZS1idXR0b257XG4gICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMzIpfTtcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzIpfTtcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR7cG9saXNoZWQucmVtKDE2KX07XG4gICAgfVxuICAgIC5kb21haW4tZmllbGQtaWNvbiB7XG4gICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzYwMF19O1xuICAgICAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wO1xuICAgIH1cbiAgICAudy0zOHtcbiAgICAgIHdpZHRoOiAzOCU7XG4gICAgfVxuICAgIC53LTYye1xuICAgICAgd2lkdGg6IDYyJTtcbiAgICB9XG4gICAgLm1yLTEwe1xuICAgICAgbWFyZ2luLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgIH1cbiAgICAucGItMzB7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICB9XG4gICAgLnByZXZpZXctdGFibGV7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgfVxuICAgIC5zZXR0aW5nLXRhYmxle1xuICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgIGJvcmRlci1yaWdodC13aWR0aDogMnB4O1xuICAgICAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcbiAgICAgIGJvcmRlci1pbWFnZTogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgdHJhbnNwYXJlbnQgMCUsICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNTAwXX0gNTIuMDglLCB0cmFuc3BhcmVudCAxMDAlKSAxO1xuICAgICAgYm9yZGVyLWxlZnQ6IDA7XG4gICAgfVxuICAgIC50YWJsZS1jb250YWluZXJ7XG4gICAgICBoZWlnaHQgOiAxMDAlO1xuICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgIC50YWJsZS1ib2R5e1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgIH1cbiAgICAgIC50YWJsZS1oZWFkZXJ7XG4gICAgICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgICAgIHRvcDogMDtcbiAgICAgIH1cbiAgICAgIHRye1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcbiAgICAgIH1cbiAgICAgIHRyOmxhc3QtY2hpbGR7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgfVxuICAgICAgdGQsIHRoe1xuICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oODYpfTtcbiAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgzMil9O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgcGFkZGluZzogNnB4IDRweDtcbiAgICAgIH1cbiAgICAgIHRke1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzIwMF19O1xuICAgICAgfVxuICAgICAgdGh7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XG4gICAgICB9XG4gICAgICB0ZDpsYXN0LWNoaWxkLCB0aDpsYXN0LWNoaWxke1xuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgfVxuICAgIH1cbiAgICAubW9kYWwtYm9keXtcbiAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gJHtwb2xpc2hlZC5yZW0oMTUwKX0pO1xuICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxNCl9O1xuICAgIH1cbiAgICAmLm1vZGFsLWRpYWxvZ3tcbiAgICAgIG1heC13aWR0aDogJHtwb2xpc2hlZC5yZW0oOTYwKX07XG4gICAgfVxuICAgIC5tb2RhbC1oZWFkZXJ7XG4gICAgICAuY2xvc2V7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAubW9kYWwtdGl0bGV7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuamltdS1uYXZ7XG4gICAgICBtYXJnaW4tYm90dG9tOiAke3BvbGlzaGVkLnJlbSgyMCl9O1xuICAgIH1cblxuICAgIC5sYWJlbHtcbiAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgfVxuXG4gICAgLmhlYWRlcntcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNTQpfTtcbiAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlcntcbiAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDMwKX07XG4gICAgfVxuXG4gICAgLnRhYi1jb250ZW50e1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg0MjYpfTtcbiAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgfVxuXG4gICAgLnNxbC1leHAtd2FybmluZ3tcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls3MDBdfTtcbiAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS5zaXplc1s0XX07XG4gICAgICBtYXgtd2lkdGg6ICR7cG9saXNoZWQucmVtKDYwMCl9O1xuICAgICAgLnNxbC1leHAtd2FybmluZy1pY29ue1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYW5nZXJbNzAwXX07XG4gICAgICB9XG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCBwb2xpc2hlZCwgdHlwZSBTZXJpYWxpemVkU3R5bGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZXJuYWxEYXRhU291cmNlU2VsZWN0b3JTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIC5jb21wb25lbnQtZXh0ZXJuYWwtZGF0YS1zb3VyY2Utc2VsZWN0b3J7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAuc2VsZWN0ZWQtZHMtbG9hZGluZyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke3BvbGlzaGVkLnJlbSgtMjUpfTtcbiAgICAgIH1cblxuICAgICAgLmFkZGVkLWRzLWl0ZW17XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBtYXJnaW46ICR7cG9saXNoZWQucmVtKDE2KX0gJHtwb2xpc2hlZC5yZW0oOCl9ICR7cG9saXNoZWQucmVtKDE2KX0gJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgLmRzLXRodW1ibmFpbHtcbiAgICAgICAgICB3aWR0aDogICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgICAgaGVpZ2h0OiAgJHtwb2xpc2hlZC5yZW0oMjYpfTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmluZm9bNDAwXX07XG4gICAgICAgIH1cbiAgICAgICAgLmRzLXR5cGV7XG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5kYXJrfTtcbiAgICAgICAgfVxuICAgICAgICAuaXRlbXtcbiAgICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmFkZGVkLWRzLWNvbnRhaW5lcntcbiAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDMwMCl9O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzYwMF19O1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMTBweCA0cHggJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy53aGl0ZSwgMC4zKX07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgcmlnaHQ6IDMwcHg7XG4gICAgICAgIGJvdHRvbTogMzBweDtcbiAgICAgICAgLmFkZGVkLWRzLWl0ZW1ze1xuICAgICAgICAgIG1heC1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDUwMCl9O1xuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICAgIC5zbWFsbC1kb25lLWJ0bntcbiAgICAgICAgICBtYXgtd2lkdGg6ICR7cG9saXNoZWQucmVtKDEwMCl9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3Rvci1sZWZ0e1xuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDExMDBweCl7XG4gICAgICAgICAgJntcbiAgICAgICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSgxNjApfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMTAwcHgpe1xuICAgICAgICAgICZ7XG4gICAgICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMjAwKX07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTMwMHB4KXtcbiAgICAgICAgICAme1xuICAgICAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDI2MCl9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuICAgICAgICAuc2VsZWN0b3ItbGVmdC10aXRsZXtcbiAgICAgICAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSgyMCl9ICR7cG9saXNoZWQucmVtKDIwKX0gJHtwb2xpc2hlZC5yZW0oMjcpfSAke3BvbGlzaGVkLnJlbSgyMCl9O1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDIwKX07XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICAgICAgfVxuICAgICAgICAubmF2Lm5hdi11bmRlcmxpbmV7XG4gICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgIC5uYXYtaXRlbXtcbiAgICAgICAgICAgIC5uYXYtbGlua3tcbiAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgICAgICAuamltdS1uYXYtbGluay13cmFwcGVye1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oNyl9ICR7cG9saXNoZWQucmVtKDIwKX07XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNil9O1xuICAgICAgICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNjAwXX07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubmF2LWl0ZW06aG92ZXJ7XG4gICAgICAgICAgICAubmF2LWxpbmt7XG4gICAgICAgICAgICAgIC5qaW11LW5hdi1saW5rLXdyYXBwZXJ7XG4gICAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC5uYXYtaXRlbS5hY3RpdmUtdGFie1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs1MDBdfTtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzYwMF19O1xuICAgICAgICAgICAgLm5hdi1saW5re1xuICAgICAgICAgICAgICAuamltdS1uYXYtbGluay13cmFwcGVye1xuICAgICAgICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDE2KX07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLnNlbGVjdG9yLXJpZ2h0e1xuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDExMDBweCl7XG4gICAgICAgICAgJntcbiAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAke3BvbGlzaGVkLnJlbSgxNjApfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTEwMHB4KXtcbiAgICAgICAgICAme1xuICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtICR7cG9saXNoZWQucmVtKDIwMCl9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMzAwcHgpe1xuICAgICAgICAgICZ7XG4gICAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gJHtwb2xpc2hlZC5yZW0oMjYwKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuc2VsZWN0b3ItcmlnaHQtaGVhZGVye1xuICAgICAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDIzKX0gJHtwb2xpc2hlZC5yZW0oMjApfSAke3BvbGlzaGVkLnJlbSgxMil9ICR7cG9saXNoZWQucmVtKDIwKX07XG4gICAgICAgIH1cbiAgICAgICAgLnNlbGVjdG9yLXJpZ2h0LWJvZHl7XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA3MHB4KTtcbiAgICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDExMDBweCl7XG4gICAgICAgICAgICAme1xuICAgICAgICAgICAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSgxMCl9ICR7cG9saXNoZWQucmVtKDI1KX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTEwMHB4KXtcbiAgICAgICAgICAgICZ7XG4gICAgICAgICAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDEwKX0gJHtwb2xpc2hlZC5yZW0oNDUpfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMzAwcHgpe1xuICAgICAgICAgICAgJntcbiAgICAgICAgICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oMTApfSAke3BvbGlzaGVkLnJlbSg2NSl9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuZXh0ZXJuYWwtZGF0YS1zb3VyY2UtdXJsLWlucHV0e1xuICAgICAgICAgIC51cmwtdHlwZS1zZWxlY3R7XG4gICAgICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oMjUwKX07XG4gICAgICAgICAgfVxuICAgICAgICAgIC51cmwtaW5wdXR7XG4gICAgICAgICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oNTAwKX07XG4gICAgICAgICAgfVxuICAgICAgICAgIC51cmwtaW5wdXQtYWRkLWJ0bntcbiAgICAgICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzApfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnVybC1pbnB1dC1sYWJlbHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNDAwXX07XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IGNzcywgcG9saXNoZWQsIHR5cGUgU2VyaWFsaXplZFN0eWxlcyB9IGZyb20gJ2ppbXUtY29yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGZpZWxkU2VsZWN0b3JTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWVcbiAgcmV0dXJuIGNzc2BcbiAgICAuY29tcG9uZW50LWZpZWxkLXNlbGVjdG9ye1xuICAgICAgZm9udC1zaXplOiAke3RoZW1lLnR5cG9ncmFwaHkuZm9udFNpemVCYXNlfTtcbiAgICAgIC5kcy1uYW1le1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMuYmxhY2t9O1xuICAgICAgfVxuICAgICAgLmRzLW5hbWUtbGFiZWx7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTQpfTtcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIH1cbiAgICAgIC5maWVsZC1kYXRhLXNlbGVjdGVke1xuICAgICAgICB3aWR0aDogNzAlO1xuICAgICAgfVxuXG4gICAgICAuaXRlbS1zZWxlY3Rvci1zZWFyY2h7XG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMjYpfTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuXG4gICAgICAuZmllbGQtbGlzdHtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxNjBweCk7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIC5maWVsZC1pdGVtLmZpZWxkLWl0ZW0tc2VsZWN0ZWR7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzYwMF19O1xuICAgICAgICB9XG4gICAgICAgIC5maWVsZC1pdGVte1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICAgICAgfVxuICAgICAgICAuZmllbGQtaXRlbTpob3ZlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgICAgICB9XG4gICAgICAgIC5maWVsZC1pdGVtOmFjdGl2ZS5maWVsZC1pdGVtOmhvdmVye1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLndoaXRlfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuc2VhcmNoLWlucHV0e1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuXG4gICAgfVxuXG4gIGBcbn1cbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCBwb2xpc2hlZCwgdHlwZSBTZXJpYWxpemVkU3R5bGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gbWFpbkRhdGFBbmRWaWV3U2VsZWN0b3JTdHlsZXMgKHByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzID0gcHJvcHMudGhlbWVcblxuICByZXR1cm4gY3NzYFxuICAgIC5jb21wb25lbnQtbWFpbi1kYXRhLWFuZC12aWV3e1xuICAgICAgLm9wdGlvbi1sYWJlbHtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgfVxuICAgIH1cbiAgYFxufVxuIiwiZXhwb3J0IHsgZGF0YVNvdXJjZVNlbGVjdG9yU3R5bGVzIGFzIERhdGFTb3VyY2VTZWxlY3RvciB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXNvdXJjZS1zZWxlY3RvcidcbmV4cG9ydCB7IGRhdGFTb3VyY2VMaXN0U3R5bGVzIGFzIERhdGFTb3VyY2VMaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL2RhdGEtc291cmNlLWxpc3QnXG5leHBvcnQgeyBkYXRhU291cmNlVHJlZVN0eWxlcyBhcyBEYXRhU291cmNlVHJlZSB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXNvdXJjZS10cmVlJ1xuZXhwb3J0IHsgZXh0ZXJuYWxEYXRhU291cmNlU2VsZWN0b3JTdHlsZXMgYXMgRXh0ZXJuYWxEYXRhU291cmNlU2VsZWN0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvZXh0ZXJuYWwtZGF0YS1zb3VyY2Utc2VsZWN0b3InXG5leHBvcnQgeyBkYXRhU291cmNlSXRlbVN0eWxlcyBhcyBEYXRhU291cmNlSXRlbSB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXNvdXJjZS1pdGVtJ1xuZXhwb3J0IHsgZGF0YVNvdXJjZUVycm9ySXRlbVN0eWxlcyBhcyBEYXRhU291cmNlRXJyb3JJdGVtIH0gZnJvbSAnLi9jb21wb25lbnRzL2RhdGEtc291cmNlLWVycm9yLWl0ZW0nXG5leHBvcnQgeyBmaWVsZFNlbGVjdG9yU3R5bGVzIGFzIEZpZWxkU2VsZWN0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvZmllbGQtc2VsZWN0b3InXG5leHBvcnQgeyBtYWluRGF0YUFuZFZpZXdTZWxlY3RvclN0eWxlcyBhcyBNYWluRGF0YUFuZFZpZXdTZWxlY3RvciB9IGZyb20gJy4vY29tcG9uZW50cy9tYWluLWRhdGEtYW5kLXZpZXctc2VsZWN0b3InXG5leHBvcnQgeyBkYXRhVmlld1NldHRpbmdQb3B1cFN0eWxlcyBhcyBEYXRhVmlld1NldHRpbmdQb3B1cCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXZpZXctc2V0dGluZy1wb3B1cCdcbmV4cG9ydCB7IGRhdGFTb3VyY2VSZW1vdmVXYXJuaW5nUG9wdXBTdHlsZXMgYXMgRGF0YVNvdXJjZVJlbW92ZVdhcm5pbmdQb3B1cCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhLXNvdXJjZS1yZW1vdmUtd2FybmluZy1wb3B1cCdcbiIsImltcG9ydCB7IHR5cGUgQWxsRGF0YVNvdXJjZVR5cGVzLCB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIFVzZURhdGFTb3VyY2UsIHR5cGUgSU1EYXRhU291cmNlSnNvbiB9IGZyb20gJ2ppbXUtY29yZSdcblxuLyoqXG4gKiBUaGUgRGF0YVNvdXJjZUxpc3QgY29tcG9uZW50IHByb3BzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTb3VyY2VMaXN0UHJvcHMge1xuICAvKipcbiAgICogSWYgYHRydWVgLCBkYXRhIHNvdXJjZXMgYXJlIGluaXRlZC5cbiAgICovXG4gIGlzRGF0YVNvdXJjZUluaXRlZDogYm9vbGVhblxuICAvKipcbiAgICogU3VwcG9ydGVkIGRhdGEgc291cmNlIHR5cGVzLlxuICAgKiBgQWxsRGF0YVNvdXJjZVR5cGVzYCBpcyB1bmlvbiBvZiBgRGF0YVNvdXJjZVR5cGVzYCAqKihzZWUgYGppbXUtY29yZWAgQVBJIGRvY3VtZW50YXRpb24pKiogYW5kIGBBcmNHSVNEYXRhU291cmNlVHlwZXNgICoqKHNlZSBgamltdS1hcmNnaXNgIEFQSSBkb2N1bWVudGF0aW9uKSoqLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBBbGxEYXRhU291cmNlVHlwZXMgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL2RhdGEtc291cmNlLXNlbGVjdG9yJ1xuICAgKiBgYGBcbiAgICovXG4gIHR5cGVzOiBJbW11dGFibGVBcnJheTxBbGxEYXRhU291cmNlVHlwZXM+XG4gIC8qKlxuICAgKiBNdXN0IHBhc3MgYHdpZGdldElkYCB0byB1c2UgcGFyZW50IHdpZGdldCdzIGRhdGEgdmlldyBieSBkZWZhdWx0IHdoZW4gdXNpbmcgdGhlIHNhbWUgZGF0YSBzb3VyY2UgYXMgcGFyZW50IHdpZGdldC5cbiAgICovXG4gIHdpZGdldElkPzogc3RyaW5nXG4gIC8qKlxuICAgKiBPbmx5IGxpc3QgY2hpbGQgZGF0YSBzb3VyY2VzIGdlbmVyYXRlZCBieSB0aGVzZSByb290IGRhdGEgc291cmNlcy5cbiAgICovXG4gIGZyb21Sb290RHNJZHM/OiBJbW11dGFibGVBcnJheTxzdHJpbmc+XG4gIC8qKlxuICAgKiBPbmx5IGxpc3QgdGhlc2UgZGF0YSBzb3VyY2VzLlxuICAgKi9cbiAgZnJvbURzSWRzPzogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICAvKipcbiAgICogV2hldGhlciB0byBoaWRlIHRoZSBkYXRhIHNvdXJjZSBpbiB0aGUgbGlzdC5cbiAgICovXG4gIGhpZGVEcz86IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFNlbGVjdGVkIGRhdGEgc291cmNlcy5cbiAgICovXG4gIHVzZURhdGFTb3VyY2VzPzogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gaGlkZSBoZWFkZXIgb2YgdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGhpZGVIZWFkZXI/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGhpZGUgZHJvcGRvd24gdGhhdCBpcyB1c2VkIHRvIGZpbHRlciB0aGUgbGlzdCBieSBkYXRhIHNvdXJjZSB0eXBlLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaGlkZVR5cGVEcm9wZG93bj86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gaGlkZSBgQWxsYCBvcHRpb2luIG9mIHR5cGUgZHJvcGRvd24uIFdvcmtzIG9ubHkgd2hlbiBgaGlkZVR5cGVEcm9wZG93bmAgaXMgbm90IHRydWUuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBoaWRlQWxsT3B0aW9uT2ZUeXBlRHJvcGRvd24/OiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGhpZGUgdGhlIGFkZCBkYXRhIGJ1dHRvbiBhdCBib3R0b20uXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBoaWRlQWRkRGF0YUJ1dHRvbj86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gaGlkZSB0aGUgYWRkIGRhdGEgYnV0dG9uIGF0IGJvdHRvbS5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGRpc2FibGVBZGREYXRhPzogYm9vbGVhblxuICAvKipcbiAgICogSGlkZSBzb21lIG9mIHRoZSB0YWJzLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IGlmIHBhc3MgaW4gYGhpZGVUYWJzYCwgd29uJ3QgY2FsY3VsYXRlIHdoaWNoIHRhYnMgbmVlZCB0byBiZSBkaXNwbGF5ZWQgYXV0b21hdGljYWxseSwgd2lsbCBvbmx5IHNob3cgdGFicyB0aGF0IGFyZSBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAgKi9cbiAgaGlkZVRhYnM/OiBJbW11dGFibGVBcnJheTwnQURERUQnIHwgJ09VVFBVVCc+XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN1cHBvcnQgbXVsdGlwbGUgc2VsZWN0aW9uLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNNdWx0aXBsZT86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEJlZm9yZSBzZWxlY3RpbmcgdGhlIGNvbXBvbmVudCwgdGhpcyB3aWxsIGNoZWNrIHRoZSB2YXJpYWJsZSB0byBtYWtlIHN1cmUgaXQgY2FuIGNvbnRpbnVlIHNlbGVjdGluZy5cbiAgICovXG4gIGRpc2FibGVTZWxlY3Rpb24/OiBib29sZWFuXG4gIC8qKlxuICAgKiBCZWZvcmUgcmVtb3ZpbmcgdGhlIGNvbXBvbmVudCwgdGhpcyB3aWxsIGNoZWNrIHRoZSB2YXJpYWJsZSB0byBtYWtlIHN1cmUgaXQgY2FuIGNvbnRpbnVlIHJlbW92aW5nLlxuICAgKi9cbiAgZGlzYWJsZVJlbW92ZT86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEFsbG93IHRvIHNlbGVjdCBvdXRwdXQgZGF0YSBzb3VyY2VzIHdoaWNoIGFyZSBnZW5lcmF0ZWQgYnkgY3VycmVudCB3aWRnZXQgaXRzZWxmLlxuICAgKiBEbyBub3QgYWxsb3cgd2lkZ2V0cyB0byBzZWxlY3QgdGhlc2UgZGF0YSBzb3VyY2VzIGJ5IGRlZmF1bHQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBlbmFibGVUb1NlbGVjdE91dHB1dERzRnJvbVNlbGY/OiBib29sZWFuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB3aGVuIHNlbGVjdGVkIGRhdGEgc291cmNlcyBhcmUgY2hhbmdlZC5cbiAgICovXG4gIG9uQ2hhbmdlPzogKHVzZURhdGFTb3VyY2VzOiBVc2VEYXRhU291cmNlW10pID0+IHZvaWRcbiAgLyoqXG4gICAqIENhbGxiYWNrIHdoZW4gY2xvc2UgaWNvbiBpcyBjbGlja2VkLlxuICAgKi9cbiAgb25DbG9zZUNsaWNrPzogKCkgPT4gdm9pZFxuICAvKipcbiAgICogQ2hhbmdlIGRhdGEgc291cmNlIGluaXQgc3RhdHVzLCBpdCB3aWxsIGJlIG5lY2Vzc2FyeSBpZiB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIGFkZCBuZXcgZGF0YSBzb3VyY2UgaW4gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoYW5nZUluaXRTdGF0dXM/OiAoaXNJbml0aWFsaXplZDogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogb25seSB1c2VkIGJ5IHRoZW1lLlxuICAgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTb3VyY2VJdGVtUHJvcHMge1xuICBkYXRhU291cmNlSnNvbjogSU1EYXRhU291cmNlSnNvblxuICBpc01vcmVJY29uU2hvd24/OiBib29sZWFuXG4gIGlzQ2xvc2VJY29uU2hvd24/OiBib29sZWFuXG4gIGlzUmVuYW1lSW5wdXRTaG93bj86IGJvb2xlYW5cbiAgaXNSZWxhdGVkV2lkZ2V0c1Nob3duPzogYm9vbGVhblxuICBpc01hcHBpbmdJY29uU2hvd24/OiBib29sZWFuXG4gIGlzRXJyb3JJY29uU2hvd24/OiBib29sZWFuXG4gIGlzU2VsZWN0ZWQ/OiBib29sZWFuXG4gIGlzSGlkZWFibGU/OiBib29sZWFuXG4gIGlzTG9hZGluZ1Nob3duPzogYm9vbGVhblxuICBvbkRhdGFTb3VyY2VJdGVtQ2xpY2s/OiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiB2b2lkXG4gIG9uTWFwcGluZ0ljb25DbGljaz86IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IHZvaWRcbiAgb25DbG9zZUljb25DbGljaz86IChkc0pzb246IElNRGF0YVNvdXJjZUpzb24pID0+IHZvaWRcbiAgb25Nb3JlSWNvbkNsaWNrPzogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gdm9pZFxuICBvblJlbmFtZT86IChkc0xhYmVsOiBzdHJpbmcpID0+IHZvaWRcbiAgb25Ub2dnbGVIaWRkZW4/OiAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKSA9PiB2b2lkXG4gIG9uQ2hpbGREYXRhSWNvbkNsaWNrPzogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gdm9pZFxuICBvblJlbGF0ZWRXaWRnZXRzSWNvbkNsaWNrPzogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gdm9pZFxuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfREFUQV9WSUVXX0lEID0gJ1VTRV9NQUlOX0RBVEFfU09VUkNFJ1xuIiwiaW1wb3J0IHtcbiAgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgV2lkZ2V0SnNvbiwgdHlwZSBJTVdpZGdldEpzb24sIHR5cGUgSU1EYXRhU291cmNlSnNvbiwgRGF0YVNvdXJjZU1hbmFnZXIsIHR5cGUgRGF0YVNvdXJjZSwgdHlwZSBJTUFwcENvbmZpZyxcbiAgZ2V0QXBwU3RvcmUsIHR5cGUgRGF0YVNvdXJjZUluZm8sIERhdGFTb3VyY2VTdGF0dXMsIHR5cGUgSW1tdXRhYmxlQXJyYXksIFNlc3Npb25NYW5hZ2VyLCBTZXJ2aWNlTWFuYWdlciwgdHlwZSBEYXRhU291cmNlSnNvblxufSBmcm9tICdqaW11LWNvcmUnXG5cbmltcG9ydCB7IGdldEljb25Gcm9tRmllbGRUeXBlIH0gZnJvbSAnLi9jb21wb25lbnRzL2ZpZWxkLXNlbGVjdG9yL3V0aWxzJ1xuXG4vKipcbiAqIEdldCB3aWRnZXRzIHdoaWNoIGFyZSB1c2luZyBhIHNwZWNpZmljIGRhdGEgc291cmNlIG9yIGRhdGEgdmlld3Mgb2YgdGhlIGRhdGEgc291cmNlIChpZiB0aGUgZGF0YSBzb3VyY2UgaXMgbWFpbiBkYXRhIHNvdXJjZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzVXNpbmdEc09ySXRzVmlld3MgKGRzSWQ6IHN0cmluZywgYWxsV2lkZ2V0czogSW1tdXRhYmxlT2JqZWN0PHsgW3dpZGdldElkOiBzdHJpbmddOiBXaWRnZXRKc29uIH0+LCBjb25zaWRlck91dHB1dERzOiBib29sZWFuID0gdHJ1ZSk6IElNV2lkZ2V0SnNvbltdIHtcbiAgaWYgKCFkc0lkIHx8ICFhbGxXaWRnZXRzKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb25zdCB3aWRnZXRzVXNpbmdNYWluRHMgPSBnZXRXaWRnZXRzVXNpbmdPbmVEcyhkc0lkLCBhbGxXaWRnZXRzLCBjb25zaWRlck91dHB1dERzKVxuICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuXG4gIGlmICghZHMpIHtcbiAgICByZXR1cm4gd2lkZ2V0c1VzaW5nTWFpbkRzXG4gIH1cblxuICBsZXQgd2lkZ2V0c1VzaW5nRGF0YVZpZXcgPSBbXVxuICBkcy5nZXREYXRhVmlld3MoKS5mb3JFYWNoKGRhdGFWaWV3ID0+IHtcbiAgICB3aWRnZXRzVXNpbmdEYXRhVmlldyA9IHdpZGdldHNVc2luZ0RhdGFWaWV3LmNvbmNhdChnZXRXaWRnZXRzVXNpbmdPbmVEcyhkYXRhVmlldy5pZCwgYWxsV2lkZ2V0cywgY29uc2lkZXJPdXRwdXREcykpXG4gIH0pXG5cbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh3aWRnZXRzVXNpbmdNYWluRHMuY29uY2F0KHdpZGdldHNVc2luZ0RhdGFWaWV3KSkpXG59XG5cbi8qKlxuICogR2V0IHdpZGdldHMgd2hpY2ggYXJlIHVzaW5nOlxuICogMS4gYSBzcGVjaWZpYyBkYXRhIHNvdXJjZSwgb3IsXG4gKiAyLiBkZXNjZW5kYW50IGRhdGEgc291cmNlcyBvZiB0aGUgZGF0YSBzb3VyY2UsIG9yLFxuICogMy4gZGF0YSB2aWV3cyBvZiB0aGUgZGF0YSBzb3VyY2UgKGlmIHRoZSBkYXRhIHNvdXJjZSBpcyBtYWluIGRhdGEgc291cmNlKSBvciBkYXRhIHZpZXdzIG9mIHRoZSBkZXNjZW5kYW50IGRhdGEgc291cmNlcywgb3IsXG4gKiA0LiBvdXRwdXQgZGF0YSBzb3VyY2VzIGZyb20gdGhlIGRhdGEgc291cmNlIG9yIG91dHB1dCBkYXRhIHNvdXJjZXMgZnJvbSB0aGUgZGVzY2VuZGFudCBkYXRhIHNvdXJjZXMgb3Igb3V0cHV0IGRhdGEgc291cmNlcyBmcm9tIHRoZSBkYXRhIHZpZXdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzVXNpbmdEc09ySXRzRGVzY2VuZGFudERzcyAoZHNJZDogc3RyaW5nLCBhbGxXaWRnZXRzOiBJbW11dGFibGVPYmplY3Q8eyBbd2lkZ2V0SWQ6IHN0cmluZ106IFdpZGdldEpzb24gfT4pOiBJTVdpZGdldEpzb25bXSB7XG4gIGlmICghZHNJZCB8fCAhYWxsV2lkZ2V0cykge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgY29uc3Qgd2lkZ2V0c1VzaW5nRHNPckl0c1ZpZXdzT3JJdHNPdXRwdXREc3MgPSBnZXRXaWRnZXRzVXNpbmdEc09ySXRzVmlld3MoZHNJZCwgYWxsV2lkZ2V0cylcbiAgY29uc3QgZHMgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UoZHNJZClcblxuICBpZiAoIWRzKSB7XG4gICAgcmV0dXJuIHdpZGdldHNVc2luZ0RzT3JJdHNWaWV3c09ySXRzT3V0cHV0RHNzXG4gIH1cblxuICBsZXQgd2lkZ2V0c1VzaW5nQ2hpbGREc3NPclRoZWlyVmlld3MgPSBbXVxuXG4gIGlmIChkcy5pc0RhdGFTb3VyY2VTZXQpIHtcbiAgICBkcy5nZXRDaGlsZERhdGFTb3VyY2VzKCkuZm9yRWFjaChjaGlsZERzID0+IHtcbiAgICAgIHdpZGdldHNVc2luZ0NoaWxkRHNzT3JUaGVpclZpZXdzID0gd2lkZ2V0c1VzaW5nQ2hpbGREc3NPclRoZWlyVmlld3MuY29uY2F0KGdldFdpZGdldHNVc2luZ0RzT3JJdHNEZXNjZW5kYW50RHNzKGNoaWxkRHMuaWQsIGFsbFdpZGdldHMpKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHdpZGdldHNVc2luZ0RzT3JJdHNWaWV3c09ySXRzT3V0cHV0RHNzLmNvbmNhdCh3aWRnZXRzVXNpbmdDaGlsZERzc09yVGhlaXJWaWV3cykpKVxufVxuXG4vKipcbiAqIEdldCB3aWRnZXRzIHdoaWNoIGFyZSB1c2luZyBvbmUgc3BlY2lmaWMgbWFpbiBkYXRhIHNvdXJjZSBvciBvbmUgc3BlY2lmaWMgZGF0YSB2aWV3LlxuICogSWYgYGNvbnNpZGVyT3V0cHV0RHNgIGlzIHRydWUsIHNob3VsZCBjb25zaWRlciB3aWRnZXRzIHVzaW5nIG91dHB1dCBkYXRhIHNvdXJjZXMgZnJvbSB0aGUgc3BlY2lmaWMgZGF0YSBzb3VyY2UgYW5kIGRhdGEgdmlld3Mgb2YgdGhlc2Ugb3V0cHV0IGRhdGEgc291cmNlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0V2lkZ2V0c1VzaW5nT25lRHMgKGRzSWQ6IHN0cmluZywgYWxsV2lkZ2V0czogSW1tdXRhYmxlT2JqZWN0PHsgW3dpZGdldElkOiBzdHJpbmddOiBXaWRnZXRKc29uIH0+LCBjb25zaWRlck91dHB1dERzOiBib29sZWFuID0gZmFsc2UpOiBJTVdpZGdldEpzb25bXSB7XG4gIGlmICghZHNJZCB8fCAhYWxsV2lkZ2V0cykge1xuICAgIHJldHVybiBbXVxuICB9XG4gIGNvbnN0IHdpZGdldHNEaXJlY3RseVVzaW5nRHMgPSBnZXRXaWRnZXRzRGlyZWN0bHlVc2luZ09uZURzKGRzSWQsIGFsbFdpZGdldHMpXG4gIGNvbnN0IHdpZGdldHNVc2luZ091dHB1dERzT3JJdHNWaWV3cyA9IGNvbnNpZGVyT3V0cHV0RHMgPyBnZXRXaWRnZXRzVXNpbmdPdXRwdXREc3NGcm9tT25lRHNBbmRXaWRnZXRzVXNpbmdWaWV3c09mVGhlc2VPdXRwdXREc3MoZHNJZCwgYWxsV2lkZ2V0cykgOiBbXVxuICBjb25zdCBhbGxXaWRnZXRzVXNpbmdPbmVEcyA9IEFycmF5LmZyb20obmV3IFNldCh3aWRnZXRzRGlyZWN0bHlVc2luZ0RzLmNvbmNhdCh3aWRnZXRzVXNpbmdPdXRwdXREc09ySXRzVmlld3MpKSlcblxuICByZXR1cm4gYWxsV2lkZ2V0c1VzaW5nT25lRHMubWFwKHdJZCA9PiBhbGxXaWRnZXRzW3dJZF0pXG59XG4vKipcbiAqIEdldCBmb2xsb3dpbmcgZGF0YSBzb3VyY2UgaWQ6XG4gKiAxLiB0aGUgcGFzc2VkIGRhdGEgc291cmNlIGlkLCBhbmQsXG4gKiAyLiBkYXRhIHZpZXdzIG9mIHRoZSBkYXRhIHNvdXJjZSAoaWYgdGhlIGRhdGEgc291cmNlIGlzIG1haW4gZGF0YSBzb3VyY2UpLCBhbmQsXG4gKiAzLiBkZXNjZW5kYW50IGRhdGEgc291cmNlcyBvZiB0aGUgZGF0YSBzb3VyY2UsIGFuZCxcbiAqIDQuIGRhdGEgdmlld3Mgb2YgZGVzY2VuZGFudCBkYXRhIHNvdXJjZXNcbiAqL1xuLy8gVE9ETzogaGFuZGxlIG91dHB1dCBkcy5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXNjZW5kYW50RHNzQW5kVmlld3MgKGRzSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgaWYgKCFkc0lkKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICBpZiAoIWRzKSB7XG4gICAgcmV0dXJuIFtkc0lkXVxuICB9XG5cbiAgbGV0IGlkcyA9IFtkc0lkXVxuXG4gIGRzLmdldERhdGFWaWV3cygpPy5mb3JFYWNoKGR2ID0+IHsgaWRzID0gaWRzLmNvbmNhdChkdi5pZCkgfSlcbiAgaWYgKGRzLmlzRGF0YVNvdXJjZVNldCkge1xuICAgIGRzLmdldENoaWxkRGF0YVNvdXJjZXMoKT8uZm9yRWFjaChjaGlsZERzID0+IHtcbiAgICAgIGlkcyA9IGlkcy5jb25jYXQoZ2V0RGVzY2VuZGFudERzc0FuZFZpZXdzKGNoaWxkRHMuaWQpKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gaWRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1enp5U2VhcmNoIChsYWJlbDogc3RyaW5nLCBzZWFyY2hWYWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICghbGFiZWwpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAoIXNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gbGFiZWwudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWx1ZS50b0xvY2FsZUxvd2VyQ2FzZSgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdXp6eUZyb21Ec0lkcyAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uLCBmcm9tRHNJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz4sXG4gIGhpZGVEczogKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbikgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuICBpZiAoIWRzSnNvbiB8fCAhZHNKc29uLmlkKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgaWYgKCFmcm9tRHNJZHMgJiYgIWhpZGVEcykge1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoIWZyb21Ec0lkcykgeyAvLyBoYXMgaGlkZURzXG4gICAgcmV0dXJuICFoaWRlRHMoZHNKc29uKVxuICB9IGVsc2UgaWYgKCFoaWRlRHMpIHsgLy8gaGFzIGZyb21Ec0lkc1xuICAgIHJldHVybiBmcm9tRHNJZHMuaW5jbHVkZXMoZHNKc29uLmlkKVxuICB9IGVsc2UgeyAvLyBoYXMgZnJvbURzSWRzIGFuZCBoYXMgaGlkZURzXG4gICAgcmV0dXJuIGZyb21Ec0lkcy5pbmNsdWRlcyhkc0pzb24uaWQpICYmICFoaWRlRHMoZHNKc29uKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFdpZGdldHNEaXJlY3RseVVzaW5nT25lRHMgKGRzSWQ6IHN0cmluZywgYWxsV2lkZ2V0czogSW1tdXRhYmxlT2JqZWN0PHsgW3dpZGdldElkOiBzdHJpbmddOiBXaWRnZXRKc29uIH0+KTogc3RyaW5nW10ge1xuICBpZiAoIWRzSWQgfHwgIWFsbFdpZGdldHMpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICByZXR1cm4gZ2V0QWxsV2lkZ2V0c0FycmF5KGFsbFdpZGdldHMpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgLmZpbHRlcigodzogSU1XaWRnZXRKc29uKSA9PiB3ICYmIHcudXNlRGF0YVNvdXJjZXNFbmFibGVkICE9PSBmYWxzZSAmJiB3LnVzZURhdGFTb3VyY2VzICYmIHcudXNlRGF0YVNvdXJjZXMuc29tZShkID0+IGQuZGF0YVNvdXJjZUlkID09PSBkc0lkKSlcbiAgICAubWFwKHcgPT4gdy5pZClcbn1cblxuLyoqXG4gKiBHZXQgd2lkZ2V0cyB1c2luZzpcbiAqIDEuIG91dHB1dCBkYXRhIHNvdXJjZXMgZnJvbSBvbmUgc3BlY2lmaWMgZGF0YSBzb3VyY2UsIG9yLFxuICogMi4gZGF0YSB2aWV3cyBvZiB0aGVzZSBvdXRwdXQgZGF0YSBzb3VyY2VzXG4gKi9cbmZ1bmN0aW9uIGdldFdpZGdldHNVc2luZ091dHB1dERzc0Zyb21PbmVEc0FuZFdpZGdldHNVc2luZ1ZpZXdzT2ZUaGVzZU91dHB1dERzcyAoZHNJZDogc3RyaW5nLCBhbGxXaWRnZXRzOiBJbW11dGFibGVPYmplY3Q8eyBbd2lkZ2V0SWQ6IHN0cmluZ106IFdpZGdldEpzb24gfT4pOiBzdHJpbmdbXSB7XG4gIGlmICghZHNJZCB8fCAhYWxsV2lkZ2V0cykge1xuICAgIHJldHVybiBbXVxuICB9XG4gIGNvbnN0IGRzTWFuYWdlciA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgY29uc3QgZHMgPSBkc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICBjb25zdCBvdXRwdXREc3MgPSBnZXRPdXRwdXREc3NGcm9tT3JpZ2luRHMoZHMpXG5cbiAgbGV0IHdpZGdldHNVc2luZ091dHB1dERzc09yVGhlaXJWaWV3czogc3RyaW5nW10gPSBbXVxuICBsZXQgd2lkZ2V0c1VzaW5nT25lT3V0cHV0RHNPckl0c1ZpZXdzOiBzdHJpbmdbXSA9IFtdXG5cbiAgb3V0cHV0RHNzLmZvckVhY2goZHMgPT4ge1xuICAgIGlmIChkcyAmJiBkcy5pZCkge1xuICAgICAgd2lkZ2V0c1VzaW5nT25lT3V0cHV0RHNPckl0c1ZpZXdzID0gZ2V0V2lkZ2V0c1VzaW5nRHNPckl0c1ZpZXdzKGRzLmlkLCBhbGxXaWRnZXRzKS5tYXAodyA9PiB3LmlkKVxuICAgICAgd2lkZ2V0c1VzaW5nT3V0cHV0RHNzT3JUaGVpclZpZXdzID0gd2lkZ2V0c1VzaW5nT3V0cHV0RHNzT3JUaGVpclZpZXdzLmNvbmNhdCh3aWRnZXRzVXNpbmdPbmVPdXRwdXREc09ySXRzVmlld3MpXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQod2lkZ2V0c1VzaW5nT3V0cHV0RHNzT3JUaGVpclZpZXdzKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dHB1dERzc0Zyb21PcmlnaW5EcyAoZHM6IERhdGFTb3VyY2UpOiBEYXRhU291cmNlW10ge1xuICBpZiAoIWRzIHx8ICFkcy5pZCkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcENvbmZpZygpXG4gIGNvbnN0IGRhdGFTb3VyY2VzID0gYXBwQ29uZmlnICYmIGFwcENvbmZpZy5kYXRhU291cmNlc1xuXG4gIGxldCBvdXRwdXREc3M6IERhdGFTb3VyY2VbXSA9IFtdXG5cbiAgZGF0YVNvdXJjZXMgJiYgT2JqZWN0LmtleXMoZGF0YVNvdXJjZXMpLmZvckVhY2goZHNJZCA9PiB7XG4gICAgaWYgKGRhdGFTb3VyY2VzW2RzSWRdICYmIGRhdGFTb3VyY2VzW2RzSWRdLmlzT3V0cHV0RnJvbVdpZGdldCAmJiBkYXRhU291cmNlc1tkc0lkXS5vcmlnaW5EYXRhU291cmNlcyAmJiBkYXRhU291cmNlc1tkc0lkXS5vcmlnaW5EYXRhU291cmNlcy5zb21lKHVzZURzID0+IHVzZURzLmRhdGFTb3VyY2VJZCA9PT0gZHMuaWQpKSB7XG4gICAgICBvdXRwdXREc3MgPSBvdXRwdXREc3MuY29uY2F0KERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKSlcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIG91dHB1dERzc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwQ29uZmlnICgpOiBJTUFwcENvbmZpZyB7XG4gIGNvbnN0IGFwcFN0YXRlID0gd2luZG93ICYmIHdpbmRvdy5qaW11Q29uZmlnICYmIHdpbmRvdy5qaW11Q29uZmlnLmlzQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlciA6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKVxuICBjb25zdCBhcHBDb25maWcgPSBhcHBTdGF0ZSAmJiBhcHBTdGF0ZS5hcHBDb25maWdcblxuICByZXR1cm4gYXBwQ29uZmlnXG59XG5cbmZ1bmN0aW9uIGdldEFsbFdpZGdldHNBcnJheSAod2lkZ2V0czogSW1tdXRhYmxlT2JqZWN0PHsgW3dpZGdldElkOiBzdHJpbmddOiBXaWRnZXRKc29uIH0+KTogSU1XaWRnZXRKc29uW10ge1xuICBpZiAoIXdpZGdldHMpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbnN0IHcgPSBbXVxuICBPYmplY3Qua2V5cyh3aWRnZXRzKS5mb3JFYWNoKHdJZCA9PiB7XG4gICAgdy5wdXNoKHdpZGdldHNbd0lkXSlcbiAgfSlcblxuICByZXR1cm4gd1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2hldGhlckRhdGFTb3VyY2VJc0luaXRlZCAoZGF0YVNvdXJjZXM6IEltbXV0YWJsZU9iamVjdDx7IFtkc0lkOiBzdHJpbmddOiBEYXRhU291cmNlSnNvbiB9PiwgZGF0YVNvdXJjZXNJbmZvOiBJbW11dGFibGVPYmplY3Q8eyBbZHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZUluZm8gfT4pOiBib29sZWFuIHtcbiAgaWYgKCFkYXRhU291cmNlcykgeyAvLyBubyBkYXRhIHNvdXJjZVxuICAgIHJldHVybiAhIURhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgfVxuICBpZiAoZGF0YVNvdXJjZXNJbmZvKSB7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnKClcbiAgICBjb25zdCByb290RHNJbmZvSWRzID0gT2JqZWN0LmtleXMoZGF0YVNvdXJjZXNJbmZvKS5maWx0ZXIoZHNJZCA9PiBkc0lkLnNwbGl0KCctJykubGVuZ3RoID09PSAxKS5maWx0ZXIoZHNJZCA9PiBhcHBDb25maWc/LmRhdGFTb3VyY2VzPy5bZHNJZF0pXG4gICAgLy8gUm9vdCBkYXRhIHNvdXJjZSBpcyByZW1vdmVkIGJ1dCBkYXRhIHNvdXJjZSBpbmZvIGRvZXNuJ3QgdXBkYXRlLlxuICAgIGlmIChyb290RHNJbmZvSWRzLmxlbmd0aCA+IE9iamVjdC5rZXlzKGRhdGFTb3VyY2VzKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YVNvdXJjZXMpLmV2ZXJ5KGRzSWQgPT4ge1xuICAgIGlmIChkYXRhU291cmNlc0luZm9bZHNJZF0/Lmluc3RhbmNlU3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkNyZWF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZXNJbmZvW2RzSWRdPy5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVkKSB7XG4gICAgICAvLyBJZiB0aGUgZGF0YSBzb3VyY2UgaXMgc2V0LCBzaG91bGQgd2FpdCB1dGlsIGFsbCBjaGlsZCBkYXRhIHNvdXJjZXMgYXJlIGNyZWF0ZWQuXG4gICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxuICAgICAgcmV0dXJuIGRzPy5pc0RhdGFTb3VyY2VTZXQgPyBkcy5hcmVDaGlsZERhdGFTb3VyY2VzQ3JlYXRlZCgpIDogdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfSlcbn1cblxuLy8gUmV0dXJuIHJvb3QgZGF0YSBzb3VyY2UganNvbi5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0RGF0YVNvdXJjZUpzb24gKGRzSnNvbjogSU1EYXRhU291cmNlSnNvbik6IElNRGF0YVNvdXJjZUpzb24ge1xuICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0pzb24/LmlkKVxuICBpZiAoIWRzIHx8ICFkc0pzb24pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGxldCByb290RHMgPSBkc1xuICBsZXQgcm9vdERzSnNvbiA9IGRzSnNvblxuICB3aGlsZSAocm9vdERzLnBhcmVudERhdGFTb3VyY2UpIHtcbiAgICByb290RHNKc29uID0gcm9vdERzLnBhcmVudERhdGFTb3VyY2UuZ2V0RGF0YVNvdXJjZUpzb24oKS5zZXRJbihbJ2NoaWxkRGF0YVNvdXJjZUpzb25zJywgcm9vdERzLmppbXVDaGlsZElkXSwgcm9vdERzSnNvbilcbiAgICByb290RHMgPSByb290RHMucGFyZW50RGF0YVNvdXJjZVxuICB9XG4gIHJldHVybiBtYWtlU3VyZUlzSGlkZGVuUmlnaHQocm9vdERzSnNvbiwgZHNKc29uKVxufVxuXG5mdW5jdGlvbiBtYWtlU3VyZUlzSGlkZGVuUmlnaHQgKHJvb3REc0pzb246IElNRGF0YVNvdXJjZUpzb24sIGVkaXREc0pzb246IElNRGF0YVNvdXJjZUpzb24pOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgcmV0dXJuIG1ha2VTdXJlQ2hpbGREc3NPZkhpZGRlbkRzQXJlSGlkZGVuKG1ha2VTdXJlUGFyZW50RHNPZlVuaGlkZGVuRHNJc1VuaGlkZGVuKHJvb3REc0pzb24sIGVkaXREc0pzb24pKVxufVxuXG4vLyBSZXR1cm4gcm9vdCBkYXRhIHNvdXJjZSBqc29uLlxuZnVuY3Rpb24gbWFrZVN1cmVQYXJlbnREc09mVW5oaWRkZW5Ec0lzVW5oaWRkZW4gKHJvb3REc0pzb246IElNRGF0YVNvdXJjZUpzb24sIGVkaXREc0pzb246IElNRGF0YVNvdXJjZUpzb24pOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgLy8gSWYgdGhlIGVkaXRlZCBkYXRhIHNvdXJjZSBpcyBoaWRkZW4sIG5vIG5lZWQgdG8gY2hlY2sgcGFyZW50IGRhdGEgc291cmNlcy5cbiAgaWYgKGVkaXREc0pzb24/LmlzSGlkZGVuKSB7XG4gICAgcmV0dXJuIHJvb3REc0pzb25cbiAgfVxuXG4gIGNvbnN0IGVkaXREcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShlZGl0RHNKc29uPy5pZClcbiAgaWYgKCFlZGl0RHMgfHwgIWVkaXREc0pzb24pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgbGV0IGRzID0gZWRpdERzXG4gIGxldCBkc0pzb24gPSBlZGl0RHNKc29uXG4gIHdoaWxlIChkcy5wYXJlbnREYXRhU291cmNlKSB7XG4gICAgY29uc3QgaXNEc1VuaGlkZGVuID0gIWRzSnNvbi5pc0hpZGRlblxuICAgIGRzID0gZHMucGFyZW50RGF0YVNvdXJjZVxuICAgIGRzSnNvbiA9IGZpbmRDaGlsZERzSnNvbihyb290RHNKc29uLCBkcy5pZClcbiAgICAvLyBJZiBkcyBpcyB1bmhpZGRlbiwgdGhlIHBhcmVudCBvZiB0aGUgZHMgc2hvdWxkIGFsc28gYmUgdW5oaWRkZW4uXG4gICAgaWYgKGlzRHNVbmhpZGRlbikge1xuICAgICAgZHNKc29uID0gZHNKc29uLnNldCgnaXNIaWRkZW4nLCBmYWxzZSlcbiAgICAgIHJvb3REc0pzb24gPSBzZXRDaGlsZERzSnNvbihyb290RHNKc29uLCBkc0pzb24pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvb3REc0pzb25cbn1cblxuLy8gUmV0dXJuIGNoaWxkIGRhdGEgc291cmNlIGpzb24uXG5mdW5jdGlvbiBmaW5kQ2hpbGREc0pzb24gKHJvb3REc0pzb246IElNRGF0YVNvdXJjZUpzb24sIGNoaWxkRHNJZDogc3RyaW5nKTogSU1EYXRhU291cmNlSnNvbiB7XG4gIGlmICghcm9vdERzSnNvbikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBpZiAocm9vdERzSnNvbi5pZCA9PT0gY2hpbGREc0lkKSB7XG4gICAgcmV0dXJuIHJvb3REc0pzb25cbiAgfVxuXG4gIGNvbnN0IGNoaWxkRHNKc29ucyA9IE9iamVjdC52YWx1ZXMocm9vdERzSnNvbi5jaGlsZERhdGFTb3VyY2VKc29ucyB8fCB7fSlcbiAgbGV0IHJlc3VsdCA9IG51bGxcbiAgZm9yIChjb25zdCBkc0pzb24gb2YgY2hpbGREc0pzb25zKSB7XG4gICAgY29uc3QgcmVzID0gZmluZENoaWxkRHNKc29uKGRzSnNvbiwgY2hpbGREc0lkKVxuICAgIGlmIChyZXMpIHtcbiAgICAgIHJlc3VsdCA9IHJlc1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIFJldHVybiByb290IGRhdGEgc291cmNlIGpzb24uXG5mdW5jdGlvbiBzZXRDaGlsZERzSnNvbiAocm9vdERzSnNvbjogSU1EYXRhU291cmNlSnNvbiwgY2hpbGREc0pzb246IElNRGF0YVNvdXJjZUpzb24pOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgaWYgKCFyb290RHNKc29uKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGlmIChyb290RHNKc29uLmlkID09PSBjaGlsZERzSnNvbi5pZCkge1xuICAgIHJldHVybiByb290RHNKc29uLm1lcmdlKGNoaWxkRHNKc29uKVxuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHJvb3REc0pzb25cbiAgT2JqZWN0LmtleXMocm9vdERzSnNvbi5jaGlsZERhdGFTb3VyY2VKc29ucyB8fCB7fSkuZm9yRWFjaChjaGlsZElkID0+IHtcbiAgICByZXN1bHQgPSByZXN1bHQuc2V0SW4oWydjaGlsZERhdGFTb3VyY2VKc29ucycsIGNoaWxkSWRdLCBzZXRDaGlsZERzSnNvbihyb290RHNKc29uLmNoaWxkRGF0YVNvdXJjZUpzb25zW2NoaWxkSWRdLCBjaGlsZERzSnNvbikpXG4gIH0pXG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBSZXR1cm4gcm9vdCBkYXRhIHNvdXJjZSBqc29uLlxuZnVuY3Rpb24gbWFrZVN1cmVDaGlsZERzc09mSGlkZGVuRHNBcmVIaWRkZW4gKHJvb3REc0pzb246IElNRGF0YVNvdXJjZUpzb24pOiBJTURhdGFTb3VyY2VKc29uIHtcbiAgY29uc3Qgcm9vdERzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKHJvb3REc0pzb24/LmlkKVxuICBpZiAoIXJvb3REcyB8fCAhcm9vdERzSnNvbikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBsZXQgcmlnaHRSb290RHNKc29uID0gcm9vdERzSnNvblxuICBjb25zdCBzdGFydFRvSGlkZSA9ICEhcmlnaHRSb290RHNKc29uLmlzSGlkZGVuXG4gIGlmIChyb290RHMuaXNEYXRhU291cmNlU2V0ICYmIHJvb3REcy5nZXRDaGlsZERhdGFTb3VyY2VzKCk/Lmxlbmd0aCA+IDApIHtcbiAgICByb290RHMuZ2V0Q2hpbGREYXRhU291cmNlcygpLmZvckVhY2goY2hpbGREcyA9PiB7XG4gICAgICBsZXQgY2hpbGREc0pzb24gPSBjaGlsZERzLmdldERhdGFTb3VyY2VKc29uKCk/Lm1lcmdlKHJpZ2h0Um9vdERzSnNvbi5nZXRJbihbJ2NoaWxkRGF0YVNvdXJjZUpzb25zJywgY2hpbGREcy5qaW11Q2hpbGRJZF0pIHx8IHt9KVxuICAgICAgaWYgKCFjaGlsZERzSnNvbikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChzdGFydFRvSGlkZSkge1xuICAgICAgICBjaGlsZERzSnNvbiA9IGNoaWxkRHNKc29uLnNldCgnaXNIaWRkZW4nLCB0cnVlKVxuICAgICAgfVxuICAgICAgcmlnaHRSb290RHNKc29uID0gcmlnaHRSb290RHNKc29uLnNldEluKFsnY2hpbGREYXRhU291cmNlSnNvbnMnLCBjaGlsZERzLmppbXVDaGlsZElkXSwgbWFrZVN1cmVDaGlsZERzc09mSGlkZGVuRHNBcmVIaWRkZW4oY2hpbGREc0pzb24pKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gcmlnaHRSb290RHNKc29uXG59XG5cbi8qKlxuICogUmV0dXJuIG9yaWdpbmFsIGRhdGEncyB1cmwuXG4gKiAxLiBJZiBkYXRhIHNvdXJjZSBpcyBmcm9tIGFuIGl0ZW0sIHdpbGwgcmV0dXJuIGl0ZW0gZGV0YWlsIHVybCxcbiAqIGVsc2Ugd2lsbCByZXR1cm4gc2VydmljZSB1cmwuXG4gKiAyLiBXaGVuIG5lZWQgdG8gcmV0dXJuIHNlcnZpY2UgdXJsLCBpZiB0aGUgc2VydmljZSBpcyBhIGhvc3RlZCBzZXJ2aWNlLCB3aWxsIHJldHVybiBzZXJ2aWNlIHVybCB3aXRoIGNvcnJlc3BvbmRpbmcgdG9rZW4sXG4gKiBlbHNlIHdpbGwgcmV0dXJuIHNlcnZpY2UgdXJsIHdpdGhvdXQgdG9rZW4uXG4gKiAoV2hlbiBuZWVkIHRvIHJldHVybiBpdGVtIGRldGFpbCB1cmwsIHdpbGwgbmV2ZXIgYWRkIHRva2VuIHRvIHVybC4gQmVjYXVzZSB1c2VyIGNhbiBsb2dpbiBpbiBpdGVtIGRldGFpbCBwYWdlLilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWdpbmFsRGF0YVVybCAoZHNKc29uOiBJTURhdGFTb3VyY2VKc29uKTogc3RyaW5nIHtcbiAgaWYgKCFkc0pzb24pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKGRzSnNvbi5pdGVtSWQgJiYgZHNKc29uLnBvcnRhbFVybCkge1xuICAgIHJldHVybiBgJHtkc0pzb24ucG9ydGFsVXJsLnJlcGxhY2UoL1xcLyQvLCAnJyl9L2hvbWUvaXRlbS5odG1sP2lkPSR7ZHNKc29uLml0ZW1JZH1gXG4gIH0gZWxzZSBpZiAoZHNKc29uLnVybCkge1xuICAgIGNvbnN0IGlzSG9zdGVkID0gISFTZXJ2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlcnZlckluZm9CeVNlcnZpY2VVcmwoZHNKc29uLnVybCk/Lm93bmluZ1N5c3RlbVVybFxuICAgIGlmIChpc0hvc3RlZCkge1xuICAgICAgY29uc3QgdG9rZW4gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChkc0pzb24udXJsKT8udG9rZW5cbiAgICAgIHJldHVybiB0b2tlbiA/IGAke2RzSnNvbi51cmx9P3Rva2VuPSR7dG9rZW59YCA6IGAke2RzSnNvbi51cmx9YFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7ZHNKc29uLnVybH1gXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuLyoqXG4gKiBSZXR1cm4gYWxsIGlkcyBvZiB0aGUgd2lkZ2V0cyB3aGljaCBhcmUgdXNpbmcgb25lIHNwZWNpZmljIHdpZGdldCdzIG91dHB1dCBkYXRhIHNvdXJjZS5cbiAqIEUuZy4gZHMgMSAtPiB3aWRnZXQgQSAtPiBvdXRwdXQgZHMgMSAtPiB3aWRnZXQgQiAtPiBvdXRwdXQgZHMgMiAtPiB3aWRnZXQgQyAtPiBvdXRwdXQgZHMgMyxcbiAqIHBhc3MgaW4gaWQgb2Ygd2lkZ2V0IEEsIHdpbGwgcmV0dXJuIGlkcyBvZiB3aWRnZXQgQSwgd2lkZ2V0IEIgYW5kIHdpZGdldCBDLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0c1VzaW5nT3V0cHV0RHNGcm9tT25lV2lkZ2V0ICh3aWRnZXRJZDogc3RyaW5nKTogc3RyaW5nW10ge1xuICBsZXQgaWRzID0gW11cbiAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnKClcbiAgY29uc3Qgd2lkZ2V0cyA9IGFwcENvbmZpZz8ud2lkZ2V0c1xuICBpZiAod2lkZ2V0cykge1xuICAgIGNvbnN0IG91dHB1dERzcyA9IHdpZGdldHNbd2lkZ2V0SWRdPy5vdXRwdXREYXRhU291cmNlc1xuICAgIGlmIChvdXRwdXREc3MgJiYgb3V0cHV0RHNzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEFkZCBzb3VyY2Ugd2lkZ2V0IGlkXG4gICAgICBpZHMgPSBpZHMuY29uY2F0KHdpZGdldElkKVxuICAgICAgb3V0cHV0RHNzLmZvckVhY2gob3V0cHV0RHNJZCA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKHdpZGdldHMpLmZvckVhY2god0lkID0+IHtcbiAgICAgICAgICBpZiAod2lkZ2V0c1t3SWRdPy51c2VEYXRhU291cmNlcz8uc29tZSh1ID0+IHUubWFpbkRhdGFTb3VyY2VJZCA9PT0gb3V0cHV0RHNJZCkpIHtcbiAgICAgICAgICAgIC8vIEFkZCBpZCBvZiB0aGUgd2lkZ2V0IHdoaWNoIGlzIHVzaW5nIHNvdXJjZSB3aWRnZXQncyBvdXRwdXQgZGF0YSBzb3VyY2VcbiAgICAgICAgICAgIGlkcyA9IGlkcy5jb25jYXQoZ2V0V2lkZ2V0c1VzaW5nT3V0cHV0RHNGcm9tT25lV2lkZ2V0KHdJZCkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaWRzXG59XG5cbi8vIEdldCBpY29uIGFuZCBjb2xvciBieSBGaWVsZFR5cGUuXG5leHBvcnQgeyBnZXRJY29uRnJvbUZpZWxkVHlwZSB9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9kYXRhX3NvdXJjZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2xheW91dHNfbGF5b3V0X3J1bnRpbWVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV90aGVtZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYmFzaWNfaXRlbV9zZWxlY3Rvcl9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgKiBhcyBzdHlsZXMgZnJvbSAnLi9saWIvZGF0YS1zb3VyY2Utc2VsZWN0b3Ivc3R5bGVzJ1xuaW1wb3J0IHsgcmVnaXN0ZXJTdHlsZXMgfSBmcm9tICdqaW11LXRoZW1lJ1xucmVnaXN0ZXJTdHlsZXMoJ2ppbXUtdWkvYWR2YW5jZWQvZGF0YS1zb3VyY2Utc2VsZWN0b3IvJywgc3R5bGVzKVxuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9kYXRhLXNvdXJjZS1zZWxlY3RvcidcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==